[{"title":"ç®—æ³•ç¯‡ç›®å½•æ±‡æ€»","url":"/%E7%AE%97%E6%B3%95%E7%AF%87%E7%9B%AE%E5%BD%95%E6%B1%87%E6%80%BB/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ä»å»å¹´9å¼€å§‹åˆ·ç®—æ³•é¢˜ï¼Œæˆªæ­¢åˆ°ä»Šå¤©ï¼Œé™†ç»­ç”¨äº†å¤§æ¦‚åŠå¹´çš„æ—¶é—´ï¼Œå·²ç»å®Œæˆã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„é¢˜ç›®ï¼ŒLeetCodeä¸­Easyéš¾åº¦çš„é¢˜å‹ä¹Ÿå·²ç»åŸºæœ¬å®Œæˆäº†ã€‚ç”±äºç›¸å…³ç®—æ³•åšå®¢æ—¥ç›Šå¢å¤šï¼Œæ‰€ä»¥å»ºç«‹æ­¤ç›®å½•æ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚å¦å¤–æœ‰ä¸€äº›é¢˜å‹åœ¨åˆæœŸåˆ†ç±»ä¸æ˜¯å¾ˆåˆé€‚ï¼Œæ‰€ä»¥åœ¨å®ŒæˆEasyé¢˜ä¹‹åå¯¹æ‰€æœ‰ç§ç±»äº†è§£çš„æƒ…å†µä¸‹ï¼Œé‡æ–°ä¿®æ”¹ä¸€äº›é¢˜çš„åˆ†ç±»ã€‚</p>\n<a id=\"more\"></a>\n<h3 id=\"ç›®å½•\"><a href=\"#ç›®å½•\" class=\"headerlink\" title=\"ç›®å½•\"></a>ç›®å½•</h3><ul>\n<li><a href=\"/%E5%89%91%E6%8C%87Offer/\" title=\"ã€Šå‰‘æŒ‡Offerã€‹\">ã€Šå‰‘æŒ‡Offerã€‹</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/\" title=\"LeetCode æ•°ç»„ç¯‡\">LeetCode æ•°ç»„ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E9%93%BE%E8%A1%A8%E7%AF%87%EF%BC%89LinkedList/\" title=\"LeetCode é“¾è¡¨ç¯‡\">LeetCode é“¾è¡¨ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree/\" title=\"LeetCode äºŒå‰æ ‘ç¯‡\">LeetCode äºŒå‰æ ‘ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%93%88%E5%B8%8C%E7%AF%87%EF%BC%89hashtable/\" title=\"LeetCode å“ˆå¸Œç¯‡\">LeetCode å“ˆå¸Œç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87%EF%BC%89String/\" title=\"LeetCode å­—ç¬¦ä¸²ç¯‡\">LeetCode å­—ç¬¦ä¸²ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation/\" title=\"LeetCode ä½è¿ç®—ç¯‡\">LeetCode ä½è¿ç®—ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%88%86%E6%B3%95%E7%AF%87%EF%BC%89Binary-Search/\" title=\"LeetCode äºŒåˆ†æ³•ç¯‡\">LeetCode äºŒåˆ†æ³•ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%9E%E6%BA%AF%E7%AF%87%EF%BC%89BackTracking/\" title=\"LeetCode å›æº¯ç¯‡\">LeetCode å›æº¯ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%A0%88%E7%AF%87%EF%BC%89Stack/\" title=\"LeetCode æ ˆç¯‡\">LeetCode æ ˆç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%A0%86%E7%AF%87%EF%BC%89Heap/\" title=\"LeetCode å †ç¯‡\">LeetCode å †ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E5%AD%A6%E7%AF%87%EF%BC%89Math/\" title=\"LeetCode æ•°å­¦ç¯‡\">LeetCode æ•°å­¦ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%AE%BE%E8%AE%A1%E7%AF%87%EF%BC%89Design/\" title=\"LeetCode è®¾è®¡ç¯‡\">LeetCode è®¾è®¡ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/\" title=\"LeetCode åŠ¨æ€è§„åˆ’ç¯‡\">LeetCode åŠ¨æ€è§„åˆ’ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy/\" title=\"LeetCode è´ªå¿ƒç¯‡\">LeetCode è´ªå¿ƒç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8D%95%E8%AF%8D%E6%9F%A5%E6%89%BE%E6%A0%91%E7%AF%87%EF%BC%89Trie/\" title=\"LeetCode å•è¯æŸ¥æ‰¾æ ‘ç¯‡\">LeetCode å•è¯æŸ¥æ‰¾æ ‘ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%AD%A3%E5%88%99%E7%AF%87%EF%BC%89regex/\" title=\"LeetCode æ­£åˆ™ç¯‡\">LeetCode æ­£åˆ™ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph/\" title=\"LeetCode å›¾ç¯‡\">LeetCode å›¾ç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88sql%E7%AF%87%EF%BC%89sql/\" title=\"LeetCode sqlç¯‡\">LeetCode sqlç¯‡</a></li>\n<li><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%B9%B6%E5%8F%91%E7%AF%87%EF%BC%89Threading/\" title=\"LeetCode å¹¶å‘ç¯‡\">LeetCode å¹¶å‘ç¯‡</a>\n</li>\n</ul>\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p>ç›®å‰æ”¶å½•å¤§æ¦‚ä¸åˆ°300é¢˜ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¿½æ±‚æ•°é‡ï¼Œæ¯é“é¢˜éƒ½æ˜¯å…ˆæ€è€ƒç”¨è‡ªå·±çš„æ–¹æ³•åšï¼Œç„¶åå†ä¸æ–­åœ°ä¼˜åŒ–ï¼Œæœ€åç»“åˆSolutionå’ŒDiscussé‡Œå¤§ç¥çš„å†™æ³•è¿›è¡Œä¿®æ”¹ã€‚ä¸€å¼€å§‹æœ‰æ—¶å€™ä¸€é“é¢˜æƒ³å¥½å‡ å¤©ï¼Œåæ¥ä¸€å¤©å¯ä»¥å®Œæˆ5ï¼Œ6é“é¢˜ï¼ŒæœŸé—´ä¹Ÿé€šè¿‡Weekly Contestæ¥æµ‹è¯•è‡ªå·±ï¼Œå‰å‡ æ¬¡åªèƒ½åšå‡ºä¸€ä¸¤é“é¢˜ï¼Œåæ¥æœ‰æ—¶å€™ç”šè‡³æœ€åä¸€é¢˜ä¹Ÿå·®ç‚¹å‡ æ­¥å°±å®Œæˆï¼Œæ”¶è´§é¢‡ä¸°ã€‚åˆ·åˆ°å·®ä¸å¤šååŠæ®µçš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæœ‰äº›é¢˜å°±æ˜¯æ¢æ±¤ä¸æ¢è¯ï¼Œå¯ä»¥ç”¨ä¹‹å‰çš„è§£æ³•åšå‡ºæ¥ï¼Œæˆ–è€…æ˜¯å‡ é“é¢˜çš„æ­¥éª¤åŠ èµ·æ¥ã€‚</p>\n<p>å…³äºåˆ†ç±»ï¼Œå› ä¸ºLeetCodeä¸­çš„åˆ†ç±»å…¶å®æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œè¿™é‡Œåšå®¢ä¸­å¹¶ä¸æƒ³è®°å½•é‡å¤çš„é¢˜ï¼Œæ‰€ä»¥åˆ†ç±»æ˜¯æ²¡æœ‰æŒ‰ç…§LeetCodeä¸­æ¥åˆ†çš„ï¼Œæœ‰æ—¶å€™ä¼šæ ¹æ®é¢˜ç›®åˆ†ç±»ï¼Œæœ‰æ—¶å€™ä¼šæ ¹æ®ç­”æ¡ˆçš„æœ€ä¼˜è§£åˆ†ç±»ã€‚ç­”æ¡ˆä¸­æ ‡è®°ç»¿è‰²çš„éƒ¨åˆ†è¡¨ç¤ºæ˜¯æœ€ä¼˜è§£ï¼Œä½†ä¸å”¯ä¸€ï¼›æä¸ªåˆ«ç”¨çº¢è‰²æ ‡å‡ºä¸ºé”™è¯¯ç­”æ¡ˆï¼Œå› ä¸ºå…·æœ‰å¼ºçƒˆçš„è¯¯å¯¼æ€§ï¼Œæ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚</p>\n<p>æœŸé—´åœ¨Discussä¸­å•æ–¹é¢ç»“è¯†äº†ä¸¤ä½å¤§ç¥ï¼Œä¸€ä½å«<code>Stefan Pochmann</code>ï¼Œå¦ä¸€ä½å«<code>lee215</code>ã€‚ä¸¤è€…éƒ½æ˜¯ä¸‡æ˜Ÿå¤§ç¥ï¼Œåšå®¢ä¸­æœ‰ä¸€äº›é¢˜çš„æœ€ä¼˜è§£éƒ½æ˜¯è¿™ä¸¤ä½çš„ç­”æ¡ˆã€‚å‰è€…åœ¨å°é¢˜å·æ—¶æ¯”è¾ƒæ´»è·ƒï¼Œåè€…åœ¨å¤§é¢˜å·æ—¶è¾ƒæ´»è·ƒï¼Œä»–ä»¬ä¿©çš„ç­”æ¡ˆæ€»æ˜¯ç»™äººçœ¼å‰ä¸€äº®çš„æ„Ÿè§‰ï¼Œä»ä¸­å­¦ä¹ åˆ°äº†å¾ˆå¤šï¼Œä¹Ÿèƒ½åº”ç”¨åˆ°å…¶å®ƒä¸€äº›é¢˜ä¸Šã€‚</p>\n<p>å…³äºå‘¨èµ›ï¼Œå‘¨èµ›çš„æ—¶å€™æ„Ÿè§‰åˆå’Œåˆ·åˆ«çš„é¢˜ä¸ä¸€æ ·ï¼Œå‘¨èµ›ä¸€èˆ¬çš„è§£æ³•åå‘äºè§£ç­”é€Ÿåº¦ï¼Œæœ‰ä»€ä¹ˆç°æˆçš„åº“å°±ç›´æ¥ç”¨ï¼Œå“ªä¸ªè§£æ³•æœ€ç¨³ç”¨é‚£ä¸ªï¼Œå› ä¸ºBugä¼šæœ‰æƒ©ç½šæ—¶é—´ï¼Œæ’è¡Œæ¦œå‰åçš„ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ã€‚è€Œå¹³æ—¶åˆ·é¢˜æ›´å€¾å‘äºæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä½ï¼Œå¹¶ä¸”å†™æ³•ä¼˜é›…ã€‚</p>\n<p>æœ‰æ—¶å€™Discussä¸­ä¹Ÿæ²¡æœ‰è‡ªå·±æ»¡æ„çš„ç­”æ¡ˆï¼Œä¹Ÿä¼šè‡ªå·±å†¥æ€è‹¦æƒ³æƒ³å‡ºä¸€ä¸ªä¼˜é›…çš„è§£æ³•ï¼Œç„¶åShareç»™å¤§å®¶ï¼Œè·å¾—å‡ ä¸ªç‚¹èµã€‚è¿™ç§èµåŒè¿˜æœ‰çœ‹åˆ°Contestä¸Šå‡çš„æ’åï¼Œéƒ½ä¼šè®©è‡ªå·±ä¿¡å¿ƒåè¶³ï¼Œå»é¢å¯¹æ›´åŠ è‰°éš¾çš„æŒ‘æˆ˜ã€‚2019å¹´ç»™è‡ªå·±å®šäº†ä¸€ä¸ªå°ç›®æ ‡ï¼Œè§£é¢˜è¾¾åˆ°500+ï¼Œratingè¾¾åˆ°1800+ï¼Œstarè¾¾åˆ°200+ã€‚æ¥ä¸‹æ¥å‡†å¤‡é‡æ–°æ•´ç†ä¸€ä¸‹ç›®å‰çš„é¢˜ï¼Œç„¶åæŒ‰ç…§ç±»åˆ«è¿›è¡Œä¸€æ¬¡è§£ç­”ï¼Œç–‘éš¾é¢˜ä¼šè®°å½•åˆ°LeetCodeçš„<code>flashcard</code>ä¸­åå¤è®­ç»ƒã€‚ä¸æ–­å‘Šè¯‰è‡ªå·±ï¼Œä¸è¦ä¸ºäº†åˆ·é¢˜è€Œåˆ·é¢˜ï¼Œé‡è¦çš„æ˜¯æ€è€ƒçš„è¿‡ç¨‹ã€‚ç„¶åä¼˜åŒ–ä¸€äº›è¿˜ä¸å¤Ÿä¼˜é›…çš„ç­”æ¡ˆï¼Œæœ€åè¿ˆå‘Mediuméš¾åº¦ã€‚</p>\n","categories":["ç®—æ³•"],"tags":["Python","Algorithm"]},{"title":"Google kickstart Round H 2020","url":"/Google-kickstart-Round-H-2020/","content":"<h5 id=\"å°´å°¬ï¼Œæ¯”èµ›çœ‹é”™äº†æ—¶é—´ï¼ŒæŠŠç»“æŸæ—¶é—´å½“æˆäº†å¼€å§‹æ—¶é—´äº†ã€‚\"><a href=\"#å°´å°¬ï¼Œæ¯”èµ›çœ‹é”™äº†æ—¶é—´ï¼ŒæŠŠç»“æŸæ—¶é—´å½“æˆäº†å¼€å§‹æ—¶é—´äº†ã€‚\" class=\"headerlink\" title=\"å°´å°¬ï¼Œæ¯”èµ›çœ‹é”™äº†æ—¶é—´ï¼ŒæŠŠç»“æŸæ—¶é—´å½“æˆäº†å¼€å§‹æ—¶é—´äº†ã€‚\"></a>å°´å°¬ï¼Œæ¯”èµ›çœ‹é”™äº†æ—¶é—´ï¼ŒæŠŠç»“æŸæ—¶é—´å½“æˆäº†å¼€å§‹æ—¶é—´äº†ã€‚</h5><a id=\"more\"></a>\n<h3 id=\"Retype\"><a href=\"#Retype\" class=\"headerlink\" title=\"Retype\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ff49/000000000043adc7\" target=\"_blank\" rel=\"noopener\">Retype</a></h3><h4 id=\"é—¯å…³æ¸¸æˆï¼Œä¸€å…±æœ‰Nå…³ï¼Œå½“å‰åœ¨Kå…³ï¼Œéœ€è¦å›åˆ°Så…³ï¼Œæˆ–è€…é‡æ–°å¼€å§‹ã€‚\"><a href=\"#é—¯å…³æ¸¸æˆï¼Œä¸€å…±æœ‰Nå…³ï¼Œå½“å‰åœ¨Kå…³ï¼Œéœ€è¦å›åˆ°Så…³ï¼Œæˆ–è€…é‡æ–°å¼€å§‹ã€‚\" class=\"headerlink\" title=\"é—¯å…³æ¸¸æˆï¼Œä¸€å…±æœ‰Nå…³ï¼Œå½“å‰åœ¨Kå…³ï¼Œéœ€è¦å›åˆ°Så…³ï¼Œæˆ–è€…é‡æ–°å¼€å§‹ã€‚\"></a>é—¯å…³æ¸¸æˆï¼Œä¸€å…±æœ‰Nå…³ï¼Œå½“å‰åœ¨Kå…³ï¼Œéœ€è¦å›åˆ°Så…³ï¼Œæˆ–è€…é‡æ–°å¼€å§‹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªcaseå–æœ€å°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, int(input())+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, S = map(int, input().split())</span><br><span class=\"line\">    ans = K + min(N, N-K+(K-S)*<span class=\"number\">2</span>)</span><br><span class=\"line\">    print_ans(case, ans)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Boring-Numbers\"><a href=\"#Boring-Numbers\" class=\"headerlink\" title=\"Boring Numbers\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ff49/000000000043b0c6#problem\" target=\"_blank\" rel=\"noopener\">Boring Numbers</a></h3><h4 id=\"12345ï¼Œ101010è¿™æ ·ä»¥å¥‡æ•°å¼€å¤´ï¼Œå¹¶ä¸”å¥‡å¶äº¤é”™çš„æ•°å«æ— èŠæ•°ã€‚ç»™ä½ ä¸€ä¸ªåŒºé—´ï¼Œæ±‚æ‰€æœ‰è¿™ç§æ•°çš„ä¸ªæ•°ã€‚\"><a href=\"#12345ï¼Œ101010è¿™æ ·ä»¥å¥‡æ•°å¼€å¤´ï¼Œå¹¶ä¸”å¥‡å¶äº¤é”™çš„æ•°å«æ— èŠæ•°ã€‚ç»™ä½ ä¸€ä¸ªåŒºé—´ï¼Œæ±‚æ‰€æœ‰è¿™ç§æ•°çš„ä¸ªæ•°ã€‚\" class=\"headerlink\" title=\"12345ï¼Œ101010è¿™æ ·ä»¥å¥‡æ•°å¼€å¤´ï¼Œå¹¶ä¸”å¥‡å¶äº¤é”™çš„æ•°å«æ— èŠæ•°ã€‚ç»™ä½ ä¸€ä¸ªåŒºé—´ï¼Œæ±‚æ‰€æœ‰è¿™ç§æ•°çš„ä¸ªæ•°ã€‚\"></a>12345ï¼Œ101010è¿™æ ·ä»¥å¥‡æ•°å¼€å¤´ï¼Œå¹¶ä¸”å¥‡å¶äº¤é”™çš„æ•°å«æ— èŠæ•°ã€‚ç»™ä½ ä¸€ä¸ªåŒºé—´ï¼Œæ±‚æ‰€æœ‰è¿™ç§æ•°çš„ä¸ªæ•°ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šLee215çš„æ–¹æ³•ã€‚ä»¥<code>N=3422</code>ä¸ºä¾‹ï¼Œåœ¨7~9è¡Œå¾ªç¯ä¸­ï¼Œåˆ†åˆ«åŠ ä¸Šäº†<code>5**3</code>è¡¨ç¤º<code>1xxx</code>ï¼›<code>2*5**2</code>è¡¨ç¤º<code>3[0|2]xx</code>ï¼›<code>1*5**1</code>è¡¨ç¤º<code>341x</code>ï¼Œæœ€åå› ä¸º<code>i%2==v%2</code>æ‰“ç ´å¥‡å¶äº¤æ›¿ï¼Œé€€å‡ºå¾ªç¯ï¼Œå› ä¸º<code>342x</code>ä¸ç¬¦åˆè¦æ±‚ã€‚éšå11~12è¡Œå¾ªç¯ç”¨æ¥è®¡ç®—<code>[1, 9], [10, 99], [100, 999]</code>çš„ä¸ªæ•°ã€‚ç”±äºæ¯ä¸€ä½è®¡ç®—çš„æ—¶å€™æ²¡æœ‰ç®—å½“å‰çš„ï¼Œæ¯”å¦‚è®¡ç®—ç™¾ä½æ—¶ï¼Œåªç®—äº†0å’Œ2ï¼Œè¿™é‡Œç›¸å½“äºä¸€ä¸ªæ»åçš„è®¡ç®—ï¼Œæ‰€ä»¥æœ«å°¾éœ€è¦+1ï¼Œä¹Ÿå°±æ˜¯<code>hi+1</code>ã€‚æœ€åç›¸å‡å³ä¸ºç»“æœã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(N)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    è¿”å›1~Nçš„æ‰€æœ‰çš„æ— èŠæ•°ï¼Œä¸åŒ…æ‹¬Nã€‚</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    n = len(str(N))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(map(int, str(N))):</span><br><span class=\"line\">        res += (v + i%<span class=\"number\">2</span>) // <span class=\"number\">2</span> * <span class=\"number\">5</span> ** (n-i<span class=\"number\">-1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i % <span class=\"number\">2</span> == v % <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        res += <span class=\"number\">5</span> ** i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, int(input())+<span class=\"number\">1</span>):</span><br><span class=\"line\">    lo, hi = map(int, input().split())</span><br><span class=\"line\"></span><br><span class=\"line\">    a, b = map(count, (lo, hi+<span class=\"number\">1</span>))</span><br><span class=\"line\">    print_ans(case, b-a)</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["kickstart"]},{"title":"Google kickstart Round A 2020","url":"/Google-kickstart-Round-A-2020/","content":"<h5 id=\"ç»è¿‡äº†ä¸Šæ¬¡Gè½®çš„æ¯”èµ›ï¼Œå‘ç°kickstartå¾ˆå¥½ï¼Œé¢˜ç›®è´¨é‡ä¹Ÿå¾ˆé«˜ï¼Œå¤§æ•°æ®çš„æµ‹è¯•ç”¨ä¾‹èƒ½å¤Ÿå¸®åŠ©æˆ‘å‘ç°ä¸€äº›æ•ˆç‡ä¸Šçš„é—®é¢˜ã€‚æ‰€ä»¥æ‰“ç®—å°†2020å¹´è¿‡å¾€è½®æ¬¡è¡¥ä¸€ä¸‹ã€‚\"><a href=\"#ç»è¿‡äº†ä¸Šæ¬¡Gè½®çš„æ¯”èµ›ï¼Œå‘ç°kickstartå¾ˆå¥½ï¼Œé¢˜ç›®è´¨é‡ä¹Ÿå¾ˆé«˜ï¼Œå¤§æ•°æ®çš„æµ‹è¯•ç”¨ä¾‹èƒ½å¤Ÿå¸®åŠ©æˆ‘å‘ç°ä¸€äº›æ•ˆç‡ä¸Šçš„é—®é¢˜ã€‚æ‰€ä»¥æ‰“ç®—å°†2020å¹´è¿‡å¾€è½®æ¬¡è¡¥ä¸€ä¸‹ã€‚\" class=\"headerlink\" title=\"ç»è¿‡äº†ä¸Šæ¬¡Gè½®çš„æ¯”èµ›ï¼Œå‘ç°kickstartå¾ˆå¥½ï¼Œé¢˜ç›®è´¨é‡ä¹Ÿå¾ˆé«˜ï¼Œå¤§æ•°æ®çš„æµ‹è¯•ç”¨ä¾‹èƒ½å¤Ÿå¸®åŠ©æˆ‘å‘ç°ä¸€äº›æ•ˆç‡ä¸Šçš„é—®é¢˜ã€‚æ‰€ä»¥æ‰“ç®—å°†2020å¹´è¿‡å¾€è½®æ¬¡è¡¥ä¸€ä¸‹ã€‚\"></a>ç»è¿‡äº†ä¸Šæ¬¡Gè½®çš„æ¯”èµ›ï¼Œå‘ç°kickstartå¾ˆå¥½ï¼Œé¢˜ç›®è´¨é‡ä¹Ÿå¾ˆé«˜ï¼Œå¤§æ•°æ®çš„æµ‹è¯•ç”¨ä¾‹èƒ½å¤Ÿå¸®åŠ©æˆ‘å‘ç°ä¸€äº›æ•ˆç‡ä¸Šçš„é—®é¢˜ã€‚æ‰€ä»¥æ‰“ç®—å°†2020å¹´è¿‡å¾€è½®æ¬¡è¡¥ä¸€ä¸‹ã€‚</h5><a id=\"more\"></a>\n<h3 id=\"ALLOCATION\"><a href=\"#ALLOCATION\" class=\"headerlink\" title=\"ALLOCATION\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ffc7/00000000001d3f56\" target=\"_blank\" rel=\"noopener\">ALLOCATION</a></h3><h4 id=\"æœ‰Nä¸ªæˆ¿å­åœ¨å–ï¼Œæ‰‹é‡Œæœ‰ä¸€äº›èµ„é‡‘ï¼Œé—®æœ€å¤šå¯ä»¥ä¹°å¤šå°‘ä¸ªæˆ¿å­ã€‚\"><a href=\"#æœ‰Nä¸ªæˆ¿å­åœ¨å–ï¼Œæ‰‹é‡Œæœ‰ä¸€äº›èµ„é‡‘ï¼Œé—®æœ€å¤šå¯ä»¥ä¹°å¤šå°‘ä¸ªæˆ¿å­ã€‚\" class=\"headerlink\" title=\"æœ‰Nä¸ªæˆ¿å­åœ¨å–ï¼Œæ‰‹é‡Œæœ‰ä¸€äº›èµ„é‡‘ï¼Œé—®æœ€å¤šå¯ä»¥ä¹°å¤šå°‘ä¸ªæˆ¿å­ã€‚\"></a>æœ‰Nä¸ªæˆ¿å­åœ¨å–ï¼Œæ‰‹é‡Œæœ‰ä¸€äº›èµ„é‡‘ï¼Œé—®æœ€å¤šå¯ä»¥ä¹°å¤šå°‘ä¸ªæˆ¿å­ã€‚</h4><p>ç¬¬ä¸€é¢˜æ¯”è¾ƒç®€å•ï¼Œè´ªå¿ƒçš„æ€è·¯åšä¸€ä¸ªæ’åºã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">T &#x3D; int(input())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">for case in range(1, T+1):</span><br><span class=\"line\">    N, B &#x3D; map(int, input().split())</span><br><span class=\"line\">    prices &#x3D; map(int, input().split())</span><br><span class=\"line\">    ans, left &#x3D; 0, B</span><br><span class=\"line\">    for p in sorted(prices):</span><br><span class=\"line\">        if p &lt;&#x3D; left:</span><br><span class=\"line\">            left -&#x3D; p</span><br><span class=\"line\">            ans +&#x3D; 1</span><br><span class=\"line\">    print(&#39;Case #&#123;&#125;: &#123;&#125;&#39;.format(case, ans))</span><br></pre></td></tr></table></figure>\n<h3 id=\"Plates\"><a href=\"#Plates\" class=\"headerlink\" title=\"Plates\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ffc7/00000000001d40bb\" target=\"_blank\" rel=\"noopener\">Plates</a></h3><h4 id=\"æœ‰Nå †ç›˜å­ï¼Œæ¯å †ç›˜éƒ½æœ‰Kä¸ªç›˜å­ï¼Œæ¯ä¸ªç›˜å­æœ‰ä¸åŒçš„ä»·æ ¼ã€‚æ‹¿å–ç›˜å­æ—¶åªèƒ½æ‹¿ä¸Šé¢çš„ä¸€å ã€‚æˆ‘æƒ³å–å‡ºPä¸ªç›˜å­ï¼Œé—®èƒ½å–çš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚\"><a href=\"#æœ‰Nå †ç›˜å­ï¼Œæ¯å †ç›˜éƒ½æœ‰Kä¸ªç›˜å­ï¼Œæ¯ä¸ªç›˜å­æœ‰ä¸åŒçš„ä»·æ ¼ã€‚æ‹¿å–ç›˜å­æ—¶åªèƒ½æ‹¿ä¸Šé¢çš„ä¸€å ã€‚æˆ‘æƒ³å–å‡ºPä¸ªç›˜å­ï¼Œé—®èƒ½å–çš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚\" class=\"headerlink\" title=\"æœ‰Nå †ç›˜å­ï¼Œæ¯å †ç›˜éƒ½æœ‰Kä¸ªç›˜å­ï¼Œæ¯ä¸ªç›˜å­æœ‰ä¸åŒçš„ä»·æ ¼ã€‚æ‹¿å–ç›˜å­æ—¶åªèƒ½æ‹¿ä¸Šé¢çš„ä¸€å ã€‚æˆ‘æƒ³å–å‡ºPä¸ªç›˜å­ï¼Œé—®èƒ½å–çš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚\"></a>æœ‰Nå †ç›˜å­ï¼Œæ¯å †ç›˜éƒ½æœ‰Kä¸ªç›˜å­ï¼Œæ¯ä¸ªç›˜å­æœ‰ä¸åŒçš„ä»·æ ¼ã€‚æ‹¿å–ç›˜å­æ—¶åªèƒ½æ‹¿ä¸Šé¢çš„ä¸€å ã€‚æˆ‘æƒ³å–å‡ºPä¸ªç›˜å­ï¼Œé—®èƒ½å–çš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚</h4><p>è¿™é“é¢˜æ˜¯ä¸ªdpï¼Œæ€è·¯ä¸Šå¾ˆå¿«æƒ³å‡ºæ¥äº†ï¼Œä½†æ˜¯å†™æ³•ä¸Šå¡äº†å¾ˆä¹…ã€‚</p>\n<p>ä¸€å¼€å§‹çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">T = int(input())</span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, P = map(int, input().split())</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        stack.append(list(map(int, input().split())))</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (P+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, P+<span class=\"number\">1</span>):</span><br><span class=\"line\">            cur = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(j+<span class=\"number\">1</span>):</span><br><span class=\"line\">                dp[i][j] = max(dp[i][j], dp[i<span class=\"number\">-1</span>][j-k]+cur)</span><br><span class=\"line\">                cur += stack[i<span class=\"number\">-1</span>][k] <span class=\"keyword\">if</span> k &lt; K <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>T2æ²¡æœ‰è·‘è¿‡TLEäº†ï¼Œæ˜¯çš„ï¼Œæ²¡æœ‰è€ƒè™‘æ¯å †æ‹¿å®Œçš„æƒ…å†µï¼Œäºæ˜¯ä¿®æ”¹å¦‚ä¸‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">T = int(input())</span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, P = map(int, input().split())</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        stack.append(list(map(int, input().split())))</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (P+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, P+<span class=\"number\">1</span>):</span><br><span class=\"line\">            cur = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(min(j, K)+<span class=\"number\">1</span>):</span><br><span class=\"line\">                dp[i][j] = max(dp[i][j], dp[i<span class=\"number\">-1</span>][j-k]+cur)</span><br><span class=\"line\">                cur += stack[i<span class=\"number\">-1</span>][k] <span class=\"keyword\">if</span> k &lt; K <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>ç»“æœè¿˜æ˜¯è¶…æ—¶ï¼Œäºæ˜¯æˆ‘è‡ªå·±è¯•äº†ä¸€äº›å¤§çš„æ•°æ®é›†ï¼Œç”¨Pycharmçš„profileåˆ†æäº†ä¸€ä¸‹ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°æ€§èƒ½çš„ç“¶é¢ˆã€‚å¹¶ä¸”çœ‹èµ·æ¥å’Œé¢˜è§£ä¸­ç»™çš„æ—¶é—´å¤æ‚åº¦å®Œå…¨ç¬¦åˆ<code>O(N*P*K)</code>ã€‚åˆè¿›è¡Œäº†ä¸€äº›å¾®è°ƒ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, P+<span class=\"number\">1</span>):</span><br><span class=\"line\">    cur = <span class=\"number\">0</span></span><br><span class=\"line\">    dp[i][j] = dp[i<span class=\"number\">-1</span>][j]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(j, K)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        cur += stack[i<span class=\"number\">-1</span>][k<span class=\"number\">-1</span>]</span><br><span class=\"line\">        dp[i][j] = max(dp[i][j], dp[i<span class=\"number\">-1</span>][j-k]+cur)</span><br></pre></td></tr></table></figure>\n<p>ä¾ç„¶è¶…æ—¶ã€‚ã€‚æœ€åè¯•äº†ä¸€ä¸‹è¿™æ ·å†™ï¼Œå±…ç„¶é€šè¿‡äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">T = int(input())</span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, P = map(int, input().split())</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        stack.append(list(map(int, input().split())))</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (P+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, P+<span class=\"number\">1</span>):</span><br><span class=\"line\">            cur = <span class=\"number\">0</span></span><br><span class=\"line\">            it = iter(stack[i<span class=\"number\">-1</span>])</span><br><span class=\"line\">            dp[i][j] = dp[i<span class=\"number\">-1</span>][j]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(j, K)+<span class=\"number\">1</span>):</span><br><span class=\"line\">                cur += next(it)</span><br><span class=\"line\">                dp[i][j] = max(dp[i][j], dp[i<span class=\"number\">-1</span>][j-k]+cur)</span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>ç„¶åï¼Œç»è¿‡å‡ æ¬¡ä¸æ–­çš„è¯•éªŒå’Œå¯¹æ¯”ï¼Œæˆ‘å‘ç°äº†åŒæ ·çš„ä»£ç å¾—åˆ°äº†é€šè¿‡å’Œè¶…æ—¶ä¸¤ç§ä¸åŒçš„ç»“æœã€‚æƒ³å¿…æ˜¯ä»£ç çš„è¿è¡Œæ—¶é—´å¡åœ¨äº†è¶…æ—¶çš„ä¸´ç•Œå€¼å¯¼è‡´çš„ã€‚</p>\n<img src=\"/Google-kickstart-Round-A-2020/b_atmp_15.png\" class>\n<img src=\"/Google-kickstart-Round-A-2020/b_atmp_16.png\" class>\n<p>ä¸è¿‡ç¬¬ä¸€ç‰ˆçš„ç‰ˆæœ¬ç»è¿‡å¤šæ¬¡æäº¤è¿˜æ˜¯TLEï¼Œä¸ªäººè®¤ä¸º<code>iter</code>çš„è¿­ä»£å¹¶æ²¡æœ‰æå‡æ€§èƒ½ï¼Œç»“æœå­˜åœ¨å¶ç„¶æ€§ã€‚</p>\n<p>æœ€åé€šè¿‡çš„ä»£ç ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\">T = int(input())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, P = map(int, input().split())</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        stack.append(list(map(int, input().split())))</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (P+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, P+<span class=\"number\">1</span>):</span><br><span class=\"line\">            cur = <span class=\"number\">0</span></span><br><span class=\"line\">            it = iter(stack[i<span class=\"number\">-1</span>])</span><br><span class=\"line\">            dp[i][j] = dp[i<span class=\"number\">-1</span>][j]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(j, K)+<span class=\"number\">1</span>):</span><br><span class=\"line\">                cur += next(it)</span><br><span class=\"line\">                dp[i][j] = max(dp[i][j], dp[i<span class=\"number\">-1</span>][j-k]+cur)</span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>æ›´å¥½çš„å†™æ³•ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">T = int(input())</span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K, P = map(int, input().split())</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (P + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        a = map(int, input().split())</span><br><span class=\"line\">        new_dp = dp[:]</span><br><span class=\"line\">        s = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, x <span class=\"keyword\">in</span> enumerate(a):</span><br><span class=\"line\">            s += x</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(P-j<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">                new_dp[k+j+<span class=\"number\">1</span>] = max(new_dp[k+j+<span class=\"number\">1</span>], dp[k]+s)</span><br><span class=\"line\">        dp = new_dp</span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, dp[<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>ä»Šå¤©é—²æ¥æ— äº‹ï¼Œå°†ç¬¬äºŒæ¬¡æ²¡è¿‡çš„ä»£ç æ”¹äº†ä¸€ä¸‹ï¼Œç”¨python2æ¥å†™çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†èƒ½ç”¨PyPyè§£é‡Šå™¨ã€‚ç»“æœã€‚å±…ç„¶è¿‡æ‰äº†ï¼Œéš¾é“ä»¥åå› ä¸ºè¿™ä¸ªè¦å†™python2äº†å—ã€</p>\n<h3 id=\"WorkOut\"><a href=\"#WorkOut\" class=\"headerlink\" title=\"WorkOut\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ffc7/00000000001d3f5b#analysis\" target=\"_blank\" rel=\"noopener\">WorkOut</a></h3><h4 id=\"æœ‰ä¸ªäººæŒ‡å®šäº†ä¸€ç³»åˆ—çš„å¥èº«è®¡åˆ’ï¼Œå¥èº«è®¡åˆ’çš„ç»„æ•°æ˜¯é€’å¢çš„ï¼Œä¸€ç»„å¥èº«è®¡åˆ’çš„éš¾åº¦æ˜¯æœ€å¤§çš„ç»„é—´å·®ã€‚å¯ä»¥å‘åŸæœ‰è®¡åˆ’ä¸­æ·»åŠ Kæ¬¡è®­ç»ƒï¼Œä½¿å¾—éš¾åº¦å˜å°ã€‚ç»™ä½ è¿™æ ·ä¸€ç»„è®¡åˆ’å’ŒKï¼Œé—®æœ€å°å¯ä»¥ä½¿éš¾åº¦é™åˆ°å¤šå°‘ï¼Ÿ\"><a href=\"#æœ‰ä¸ªäººæŒ‡å®šäº†ä¸€ç³»åˆ—çš„å¥èº«è®¡åˆ’ï¼Œå¥èº«è®¡åˆ’çš„ç»„æ•°æ˜¯é€’å¢çš„ï¼Œä¸€ç»„å¥èº«è®¡åˆ’çš„éš¾åº¦æ˜¯æœ€å¤§çš„ç»„é—´å·®ã€‚å¯ä»¥å‘åŸæœ‰è®¡åˆ’ä¸­æ·»åŠ Kæ¬¡è®­ç»ƒï¼Œä½¿å¾—éš¾åº¦å˜å°ã€‚ç»™ä½ è¿™æ ·ä¸€ç»„è®¡åˆ’å’ŒKï¼Œé—®æœ€å°å¯ä»¥ä½¿éš¾åº¦é™åˆ°å¤šå°‘ï¼Ÿ\" class=\"headerlink\" title=\"æœ‰ä¸ªäººæŒ‡å®šäº†ä¸€ç³»åˆ—çš„å¥èº«è®¡åˆ’ï¼Œå¥èº«è®¡åˆ’çš„ç»„æ•°æ˜¯é€’å¢çš„ï¼Œä¸€ç»„å¥èº«è®¡åˆ’çš„éš¾åº¦æ˜¯æœ€å¤§çš„ç»„é—´å·®ã€‚å¯ä»¥å‘åŸæœ‰è®¡åˆ’ä¸­æ·»åŠ Kæ¬¡è®­ç»ƒï¼Œä½¿å¾—éš¾åº¦å˜å°ã€‚ç»™ä½ è¿™æ ·ä¸€ç»„è®¡åˆ’å’ŒKï¼Œé—®æœ€å°å¯ä»¥ä½¿éš¾åº¦é™åˆ°å¤šå°‘ï¼Ÿ\"></a>æœ‰ä¸ªäººæŒ‡å®šäº†ä¸€ç³»åˆ—çš„å¥èº«è®¡åˆ’ï¼Œå¥èº«è®¡åˆ’çš„ç»„æ•°æ˜¯é€’å¢çš„ï¼Œä¸€ç»„å¥èº«è®¡åˆ’çš„éš¾åº¦æ˜¯æœ€å¤§çš„ç»„é—´å·®ã€‚å¯ä»¥å‘åŸæœ‰è®¡åˆ’ä¸­æ·»åŠ Kæ¬¡è®­ç»ƒï¼Œä½¿å¾—éš¾åº¦å˜å°ã€‚ç»™ä½ è¿™æ ·ä¸€ç»„è®¡åˆ’å’ŒKï¼Œé—®æœ€å°å¯ä»¥ä½¿éš¾åº¦é™åˆ°å¤šå°‘ï¼Ÿ</h4><p>æ–¹æ³•ä¸€ï¼šæˆ‘ä¸€å¼€å§‹æƒ³é”™äº†ï¼Œç”¨çš„è´ªå¿ƒçš„æ€è·¯å’Œå †æ¥åšã€‚å…¶å®æ˜¯ä¸å¯¹çš„ï¼Œæ¯”å¦‚2,12ä¹‹é—´ï¼Œ<code>[2, 5, 8, 12]</code>æ˜¯å°äº<code>[2, 4, 7, 12]</code>çš„ã€‚æ­¤é¢˜ç”¨äºŒåˆ†æ³•ã€‚é€šè¿‡æœ€å°æœ€å¤§çš„éš¾åº¦ï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ï¼Œä½¿å¾—ï¼Œæ‰€æœ‰ç»„ä»¶å·®æ»¡è¶³æ”¹éš¾åº¦åï¼Œéœ€è¦æ·»åŠ çš„ç»„æ•°åˆšå¥½å°äºç­‰äºKã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">check</span><span class=\"params\">(d, K)</span>:</span></span><br><span class=\"line\">    need = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N):</span><br><span class=\"line\">        need += (sessions[i]-sessions[i<span class=\"number\">-1</span>]<span class=\"number\">-1</span>) // d</span><br><span class=\"line\">        <span class=\"keyword\">if</span> need &gt; K:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> need &lt;= K</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, int(input())+<span class=\"number\">1</span>):</span><br><span class=\"line\">    N, K = map(int, input().split())</span><br><span class=\"line\">    sessions = list(map(int, input().split()))</span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, sessions[<span class=\"number\">-1</span>]-sessions[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> check(mid, K):</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    print_ans(case, lo)</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["kickstart"]},{"title":"Google kickstart Round G 2020","url":"/Google-kickstart-Round-G-2020/","content":"<h5 id=\"é¦–æ¬¡å‚åŠ Google-kick-startçš„çº¿ä¸Šæ¯”èµ›ï¼Œè·å¾—äº†1337-6700-æäº¤äº†ç­”æ¡ˆçš„é€‰æ‰‹-çš„æˆç»©ï¼Œæå‡ç©ºé—´è¿˜æ˜¯æ¯”è¾ƒå¤§ã€‚ç¬¬3é¢˜çš„Test3æœ¬åº”è¯¥è¿‡çš„ã€‚ä¹‹å‰ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æœ‰åˆ·HackerRankäº†ã€‚è¿™é‡Œçš„æäº¤æ–¹å¼å’ŒHackerRankçš„å¾ˆç›¸ä¼¼ã€‚å¥½å¤„æ˜¯å¯ä»¥ç”¨è‡ªå·±çš„ç¼–è¾‘å™¨æ¥åšé¢˜ï¼Œç›¸æ¯”äºLeetCodeä¸­çš„ç¼–è¾‘å™¨æ›´å¥½ä¸€ç‚¹ï¼Œä¹‹å‰ç”¨LeetCodeçš„Vimç¼–è¾‘æ¨¡å¼è€æ˜¯é”™è¯¯åœ°æ˜¾ç¤ºå…‰æ ‡æ¨¡å¼ã€‚ä¸è¿‡è¿™æ¬¡å› ä¸ºç”¨ä¾‹ä¸çŸ¥é“æ€ä¹ˆç”¨Vimè°ƒï¼Œæ‰€ä»¥æš‚æ—¶ç”¨äº†CodeRunneræ¥å†™çš„ã€‚\"><a href=\"#é¦–æ¬¡å‚åŠ Google-kick-startçš„çº¿ä¸Šæ¯”èµ›ï¼Œè·å¾—äº†1337-6700-æäº¤äº†ç­”æ¡ˆçš„é€‰æ‰‹-çš„æˆç»©ï¼Œæå‡ç©ºé—´è¿˜æ˜¯æ¯”è¾ƒå¤§ã€‚ç¬¬3é¢˜çš„Test3æœ¬åº”è¯¥è¿‡çš„ã€‚ä¹‹å‰ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æœ‰åˆ·HackerRankäº†ã€‚è¿™é‡Œçš„æäº¤æ–¹å¼å’ŒHackerRankçš„å¾ˆç›¸ä¼¼ã€‚å¥½å¤„æ˜¯å¯ä»¥ç”¨è‡ªå·±çš„ç¼–è¾‘å™¨æ¥åšé¢˜ï¼Œç›¸æ¯”äºLeetCodeä¸­çš„ç¼–è¾‘å™¨æ›´å¥½ä¸€ç‚¹ï¼Œä¹‹å‰ç”¨LeetCodeçš„Vimç¼–è¾‘æ¨¡å¼è€æ˜¯é”™è¯¯åœ°æ˜¾ç¤ºå…‰æ ‡æ¨¡å¼ã€‚ä¸è¿‡è¿™æ¬¡å› ä¸ºç”¨ä¾‹ä¸çŸ¥é“æ€ä¹ˆç”¨Vimè°ƒï¼Œæ‰€ä»¥æš‚æ—¶ç”¨äº†CodeRunneræ¥å†™çš„ã€‚\" class=\"headerlink\" title=\"é¦–æ¬¡å‚åŠ Google kick startçš„çº¿ä¸Šæ¯”èµ›ï¼Œè·å¾—äº†1337/6700(æäº¤äº†ç­”æ¡ˆçš„é€‰æ‰‹)çš„æˆç»©ï¼Œæå‡ç©ºé—´è¿˜æ˜¯æ¯”è¾ƒå¤§ã€‚ç¬¬3é¢˜çš„Test3æœ¬åº”è¯¥è¿‡çš„ã€‚ä¹‹å‰ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æœ‰åˆ·HackerRankäº†ã€‚è¿™é‡Œçš„æäº¤æ–¹å¼å’ŒHackerRankçš„å¾ˆç›¸ä¼¼ã€‚å¥½å¤„æ˜¯å¯ä»¥ç”¨è‡ªå·±çš„ç¼–è¾‘å™¨æ¥åšé¢˜ï¼Œç›¸æ¯”äºLeetCodeä¸­çš„ç¼–è¾‘å™¨æ›´å¥½ä¸€ç‚¹ï¼Œä¹‹å‰ç”¨LeetCodeçš„Vimç¼–è¾‘æ¨¡å¼è€æ˜¯é”™è¯¯åœ°æ˜¾ç¤ºå…‰æ ‡æ¨¡å¼ã€‚ä¸è¿‡è¿™æ¬¡å› ä¸ºç”¨ä¾‹ä¸çŸ¥é“æ€ä¹ˆç”¨Vimè°ƒï¼Œæ‰€ä»¥æš‚æ—¶ç”¨äº†CodeRunneræ¥å†™çš„ã€‚\"></a>é¦–æ¬¡å‚åŠ Google kick startçš„çº¿ä¸Šæ¯”èµ›ï¼Œè·å¾—äº†1337/6700(æäº¤äº†ç­”æ¡ˆçš„é€‰æ‰‹)çš„æˆç»©ï¼Œæå‡ç©ºé—´è¿˜æ˜¯æ¯”è¾ƒå¤§ã€‚ç¬¬3é¢˜çš„Test3æœ¬åº”è¯¥è¿‡çš„ã€‚ä¹‹å‰ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æœ‰åˆ·HackerRankäº†ã€‚è¿™é‡Œçš„æäº¤æ–¹å¼å’ŒHackerRankçš„å¾ˆç›¸ä¼¼ã€‚å¥½å¤„æ˜¯å¯ä»¥ç”¨è‡ªå·±çš„ç¼–è¾‘å™¨æ¥åšé¢˜ï¼Œç›¸æ¯”äºLeetCodeä¸­çš„ç¼–è¾‘å™¨æ›´å¥½ä¸€ç‚¹ï¼Œä¹‹å‰ç”¨LeetCodeçš„Vimç¼–è¾‘æ¨¡å¼è€æ˜¯é”™è¯¯åœ°æ˜¾ç¤ºå…‰æ ‡æ¨¡å¼ã€‚ä¸è¿‡è¿™æ¬¡å› ä¸ºç”¨ä¾‹ä¸çŸ¥é“æ€ä¹ˆç”¨Vimè°ƒï¼Œæ‰€ä»¥æš‚æ—¶ç”¨äº†CodeRunneræ¥å†™çš„ã€‚</h5><a id=\"more\"></a>\n<h3 id=\"Kick-Start\"><a href=\"#Kick-Start\" class=\"headerlink\" title=\"Kick_Start\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/00000000001a0069/0000000000414bfb\" target=\"_blank\" rel=\"noopener\">Kick_Start</a></h3><h4 id=\"ç»™å®šå­—ç¬¦ä¸²Sï¼Œæ±‚æœ‰å¤šå°‘ç§å­—ç¬¦ä¸²æ˜¯ä»¥KICKå¼€å¤´ï¼ŒSTARTç»“å°¾çš„ã€‚\"><a href=\"#ç»™å®šå­—ç¬¦ä¸²Sï¼Œæ±‚æœ‰å¤šå°‘ç§å­—ç¬¦ä¸²æ˜¯ä»¥KICKå¼€å¤´ï¼ŒSTARTç»“å°¾çš„ã€‚\" class=\"headerlink\" title=\"ç»™å®šå­—ç¬¦ä¸²Sï¼Œæ±‚æœ‰å¤šå°‘ç§å­—ç¬¦ä¸²æ˜¯ä»¥KICKå¼€å¤´ï¼ŒSTARTç»“å°¾çš„ã€‚\"></a>ç»™å®šå­—ç¬¦ä¸²Sï¼Œæ±‚æœ‰å¤šå°‘ç§å­—ç¬¦ä¸²æ˜¯ä»¥<code>KICK</code>å¼€å¤´ï¼Œ<code>START</code>ç»“å°¾çš„ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç®€å•ï¼Œç”±äºè¯»é¢˜èŠ±çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè€Œä¸”ä¸ç¡®å®šç”¨ä¾‹æ˜¯å¦ä¸¥æ ¼ï¼Œæ‹…å¿ƒ5é•¿åº¦çš„åˆ‡ç‰‡è¿‡ä¸äº†å¤§çš„æµ‹è¯•ç”¨ä¾‹ã€‚æ‰€ä»¥æäº¤åœ°æ¯”è¾ƒæ…¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solve</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    k = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        head = s[i:i+<span class=\"number\">5</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head.startswith(<span class=\"string\">'KICK'</span>):</span><br><span class=\"line\">            k += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> head.startswith(<span class=\"string\">'START'</span>):</span><br><span class=\"line\">            ans += k</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"Maximum-Coins\"><a href=\"#Maximum-Coins\" class=\"headerlink\" title=\"Maximum Coins\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/00000000001a0069/0000000000414a23\" target=\"_blank\" rel=\"noopener\">Maximum Coins</a></h3><h4 id=\"æ±‚äºŒç»´çŸ©é˜µä¸­æ–œè¾¹ï¼ˆå·¦åˆ°å³ï¼‰æœ€å¤§çš„è·¯å¾„å’Œã€‚\"><a href=\"#æ±‚äºŒç»´çŸ©é˜µä¸­æ–œè¾¹ï¼ˆå·¦åˆ°å³ï¼‰æœ€å¤§çš„è·¯å¾„å’Œã€‚\" class=\"headerlink\" title=\"æ±‚äºŒç»´çŸ©é˜µä¸­æ–œè¾¹ï¼ˆå·¦åˆ°å³ï¼‰æœ€å¤§çš„è·¯å¾„å’Œã€‚\"></a>æ±‚äºŒç»´çŸ©é˜µä¸­æ–œè¾¹ï¼ˆå·¦åˆ°å³ï¼‰æœ€å¤§çš„è·¯å¾„å’Œã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥å°±è¿‡äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solve</span><span class=\"params\">(g, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(sum(g[j][j+i] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i+j&lt;n)</span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(-n+<span class=\"number\">1</span>, n))</span><br></pre></td></tr></table></figure>\n<h3 id=\"Combination-Lock\"><a href=\"#Combination-Lock\" class=\"headerlink\" title=\"Combination Lock\"></a><a href=\"https://codingcompetitions.withgoogle.com/kickstart/round/00000000001a0069/0000000000414a24#problem\" target=\"_blank\" rel=\"noopener\">Combination Lock</a></h3><h4 id=\"æœ‰è¿™ä¹ˆWä¸ªå¯†ç é”ï¼Œé”ä¸Šæ•°å­—æ˜¯ä»1-Nã€‚ç»™ä½ ä¸€ä¸ªé”çš„åˆå§‹çŠ¶æ€ï¼Œé—®æœ€å°éœ€è¦å¤šå°‘æ­¥èƒ½å°†è¿™äº›é”ä¸Šçš„æ•°å­—è°ƒæˆä¸€æ ·ã€‚\"><a href=\"#æœ‰è¿™ä¹ˆWä¸ªå¯†ç é”ï¼Œé”ä¸Šæ•°å­—æ˜¯ä»1-Nã€‚ç»™ä½ ä¸€ä¸ªé”çš„åˆå§‹çŠ¶æ€ï¼Œé—®æœ€å°éœ€è¦å¤šå°‘æ­¥èƒ½å°†è¿™äº›é”ä¸Šçš„æ•°å­—è°ƒæˆä¸€æ ·ã€‚\" class=\"headerlink\" title=\"æœ‰è¿™ä¹ˆWä¸ªå¯†ç é”ï¼Œé”ä¸Šæ•°å­—æ˜¯ä»1~Nã€‚ç»™ä½ ä¸€ä¸ªé”çš„åˆå§‹çŠ¶æ€ï¼Œé—®æœ€å°éœ€è¦å¤šå°‘æ­¥èƒ½å°†è¿™äº›é”ä¸Šçš„æ•°å­—è°ƒæˆä¸€æ ·ã€‚\"></a>æœ‰è¿™ä¹ˆWä¸ªå¯†ç é”ï¼Œé”ä¸Šæ•°å­—æ˜¯ä»1~Nã€‚ç»™ä½ ä¸€ä¸ªé”çš„åˆå§‹çŠ¶æ€ï¼Œé—®æœ€å°éœ€è¦å¤šå°‘æ­¥èƒ½å°†è¿™äº›é”ä¸Šçš„æ•°å­—è°ƒæˆä¸€æ ·ã€‚</h4><p>è¿™é¢˜æ¯”èµ›çš„æ—¶å€™Case3æ²¡æœ‰è·‘è¿‡ï¼ŒTLEäº†ã€‚ä½†æ˜¯åŸç†ä¸ŠåŸºæœ¬éƒ½æƒ³å¯¹äº†ã€‚æ­¤é¢˜å’ŒLeetCodeä¸Š462å¾ˆåƒï¼Œä½†æ˜¯é‚£é¢˜æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºæ²¡æœ‰ç¯ã€‚</p>\n<p>æ¯”èµ›æ—¶æ²¡æœ‰è¿‡çš„ä»£ç ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">T = int(input())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solve</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">    i, n = <span class=\"number\">0</span>, len(ary)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(ary[~i]-ary[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//<span class=\"number\">2</span>))</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    W, N = map(int, input().split())</span><br><span class=\"line\">    wheels = sorted(map(int, input().split()))</span><br><span class=\"line\">    q = deque(wheels)</span><br><span class=\"line\">    ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    cur = solve(q)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(W):</span><br><span class=\"line\">        l, r = (W<span class=\"number\">-1</span>)//<span class=\"number\">2</span>, (W)//<span class=\"number\">2</span></span><br><span class=\"line\">        a, b = q[<span class=\"number\">0</span>], q[r]</span><br><span class=\"line\">        left = q.popleft()</span><br><span class=\"line\">        q.append(left + N)</span><br><span class=\"line\">        c, d = q[l], q[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        cur += (d-c) - (b-a)</span><br><span class=\"line\">        ans = min(ans, cur)</span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, ans))</span><br></pre></td></tr></table></figure>\n<p>æŒ‰ç…§ç†è®ºæ¥è¯´æ˜¯ä»¶å¤æ‚åº¦æ˜¯ä¸€æ ·çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå°±è¿‡ä¸äº†ã€‚</p>\n<p>æ­£ç¡®çš„å†™æ³•ï¼Œæ»‘åŠ¨çª—å£å°±èƒ½è¿‡ï¼ŒæŒ‰ç†è¯´ï¼ŒåŒç«¯é˜Ÿåˆ—é¦–ä½çš„åŸå­æ“ä½œåº”è¯¥å’Œè¿™ä¸ªæ—¶é—´å¤æ‚åº¦ä¸€æ ·ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸€ç›´è¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">T = int(input())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solve</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">    i, n = <span class=\"number\">0</span>, len(ary)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(ary[~i]-ary[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//<span class=\"number\">2</span>))</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"keyword\">for</span> case <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, T+<span class=\"number\">1</span>):</span><br><span class=\"line\">    W, N = map(int, input().split())</span><br><span class=\"line\">    wheels = sorted(map(int, input().split()))</span><br><span class=\"line\">    wheels = wheels + [num+N <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> wheels]</span><br><span class=\"line\">    cur = ans = solve(wheels[:W])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(W):</span><br><span class=\"line\">        l, r = W//<span class=\"number\">2</span>, (W+<span class=\"number\">1</span>)//<span class=\"number\">2</span></span><br><span class=\"line\">        cur += wheels[i] + wheels[i+W] - wheels[i+r] - wheels[i+l]</span><br><span class=\"line\">        ans = min(ans, cur)</span><br><span class=\"line\">    print(<span class=\"string\">'Case #&#123;&#125;: &#123;&#125;'</span>.format(case, ans))</span><br></pre></td></tr></table></figure>\n<p>åŒç«¯é˜Ÿåˆ—ä¸­é—´å–å€¼çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œè€Œä¸æ˜¯O(1)ã€‚è¿™æ˜¯æˆ‘ä¸€ç›´å¿½ç•¥çš„ä¸€ä¸ªé—®é¢˜ã€‚æ‰€ä»¥åœ¨Wæ­¤å¾ªç¯ä¸­å–äº†ä¸¤ä¸ªä¸­é—´çš„å€¼ã€‚è¿˜æœ‰ä½¿ç”¨solveæ±‚ä¸­ä½æ•°æ—¶è¿˜ç”¨äº†åŒç«¯é˜Ÿåˆ—ã€‚è¿™ä¸ªsolveæ–¹æ³•åœ¨æœ€å¤§æ•°æ®é›†ä¸‹æ‰§è¡Œæ—¶é—´å°±æ˜¯1sï¼ï¼è¿™æ˜¯æˆ‘ç”¨Pycharmä¸­profile runä¸¤ä¸ªæ–¹æ³•æ¯”è¾ƒåæ‰¾åˆ°çš„é—®é¢˜æ‰€åœ¨ã€‚ç»ˆäºå°†è¿™ä¸ªç–‘æƒ‘è§£å†³äº†ï¼Œä»¥åå¯ä»¥é¿å…è¸©å‘äº†ã€‚</p>\n","categories":["ç®—æ³•"],"tags":["kickstart"]},{"title":"é¾Ÿé€Ÿçˆ¬å¤©æ¢¯","url":"/%E9%BE%9F%E9%80%9F%E7%88%AC%E5%A4%A9%E6%A2%AF/","content":"<h3 id=\"å¥½æ¿€åŠ¨ï¼Œç¬¬ä¸€æ¬¡ç¦»å¤§ç¥è¿™ä¹ˆè¿‘\"><a href=\"#å¥½æ¿€åŠ¨ï¼Œç¬¬ä¸€æ¬¡ç¦»å¤§ç¥è¿™ä¹ˆè¿‘\" class=\"headerlink\" title=\"å¥½æ¿€åŠ¨ï¼Œç¬¬ä¸€æ¬¡ç¦»å¤§ç¥è¿™ä¹ˆè¿‘\"></a>å¥½æ¿€åŠ¨ï¼Œç¬¬ä¸€æ¬¡ç¦»å¤§ç¥è¿™ä¹ˆè¿‘</h3><p>åƒæ¯ä¸ªå‘¨æ—¥ä¸€æ ·ï¼Œ9ç‚¹åŠèµ·æ¥ï¼Œç„¶åç‚¹äº†å¤–å–ï¼Œæ•´ç†äº†ä¸€ä¸‹æœ€è¿‘çš„ç¬”è®°ã€‚ç„¶åå¼€å§‹ç­‰å¾…LeetCode Contestçš„åˆ°æ¥ã€‚è¿™å‘¨çš„é¢˜ç¡®å®ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œåšç€åšç€å‘ç°åˆ°äº†æœ€åä¸€é¢˜ã€‚ç„¶åæœ€åä¸€é¢˜ä¹Ÿåªæœ‰Mediuméš¾åº¦ã€‚æ„Ÿè§‰è¿˜æ²¡æœ‰Q3éš¾ï¼Œç”¨äº†é€’å½’å°±åšå‡ºæ¥äº†ã€‚</p>\n<a id=\"more\"></a>\n<p>æƒŠå¥‡çš„å‘ç°ï¼Œå±…ç„¶ç”¨äº†ä¸€å°æ—¶å°±åšå®Œäº†ã€‚ä»¥å‰æœ‰æ—¶è¿˜ä¼šå¡åœ¨ç¬¬3é¢˜ï¼Œç„¶åçœ‹äº†æ’è¡Œæ¦œï¼Œå¼€å§‹è¿˜æœ‰ç‚¹æ‹…å¿ƒï¼ŒQ2æ˜¯å¦ç®—ä½œå¼Šï¼Œä¸è¿‡åæ¥å®Œæˆäº†ä¸€çœ‹ï¼Œæ’è¡Œæ¦œå‰åçš„å¤§ç¥ä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„ï¼Œè€Œä¸”è¿˜æ²¡æˆ‘å†™çš„ä¼˜é›…ï¼Œï¼ˆè™½ç„¶ç”¨äº†ä¸‰æ–¹åº“ï¼‰ã€‚</p>\n<p>åƒè¿‡æ—©é¥­ï¼Œç„¶åè¯¥reviewä¸€ä¸‹é¢˜ç›®ï¼Œä¼˜åŒ–ä¸€ä¸‹è§£æ³•å¹¶æ•´ç†åˆ°ç›¸å…³åšå®¢ä¸­ã€‚ç»™è‡ªå·±å®šä¸ªå°ç›®æ ‡ï¼Œå‘å‰200åŠªåŠ›ã€‚</p>\n<p>å¥½æ°”ï¼Œleeç¥å±…ç„¶æ¯”æˆ‘å…ˆå‘äº†ç­”æ¡ˆï¼Œæˆ‘ä¿©çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼ŒğŸ˜¦é”™è¿‡äº†å¥½å‡ ä¸ªèµã€‚</p>\n<img src=\"/%E9%BE%9F%E9%80%9F%E7%88%AC%E5%A4%A9%E6%A2%AF/rank.png\" class>\n","categories":["è®°å½•"],"tags":["LeetCode","Python"]},{"title":"æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•ï¼ˆBoyer-Moore Voting Algorithmï¼‰","url":"/%E6%B3%A2%E4%B9%89%E5%B0%94%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95%EF%BC%88Boyer-Moore-Voting-Algorithm%EF%BC%89/","content":"<h3 id=\"ç®€ä»‹\"><a href=\"#ç®€ä»‹\" class=\"headerlink\" title=\"ç®€ä»‹\"></a>ç®€ä»‹</h3><blockquote>\n<p>The Boyerâ€“Moore majority vote algorithm is an algorithm for finding the majority of a sequence of elements using linear time and constant space. It is named after Robert S. Boyer and J Strother Moore, who published it in 1981,[1] and is a prototypical example of a streaming algorithm.</p>\n</blockquote>\n<a id=\"more\"></a>\n<p>æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•æ˜¯ä¸€ç§ä½¿ç”¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥æ‰¾åˆ°æ•°ç»„çš„ä¸»è¦å…ƒç´ ï¼ˆå‡ºç°è¶…è¿‡ä¸€åŠæ¬¡æ•°çš„å…ƒç´ ï¼‰ã€‚</p>\n<h3 id=\"é¢˜ç›®-169-Majority-Elementã€‚æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚\"><a href=\"#é¢˜ç›®-169-Majority-Elementã€‚æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚\" class=\"headerlink\" title=\"é¢˜ç›®: 169. Majority Elementã€‚æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚\"></a>é¢˜ç›®: 169. Majority Elementã€‚æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚</h3><blockquote>\n<p>Given an array of size n, find the majority element. The majority element is the element that appears more than âŒŠ n/2 âŒ‹ times.</p>\n</blockquote>\n<blockquote>\n<p>You may assume that the array is non-empty and the majority element always exist in the array.</p>\n</blockquote>\n<h3 id=\"ã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„è§£é‡Š\"><a href=\"#ã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„è§£é‡Š\" class=\"headerlink\" title=\"ã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„è§£é‡Š\"></a>ã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„è§£é‡Š</h3><blockquote>\n<p>éå†æ•°ç»„çš„æ—¶å€™ä¿å­˜ä¸¤ä¸ªå€¼ï¼šä¸€ä¸ªæ˜¯æ•°ç»„ä¸­çš„æ•°å­—ï¼Œå¦ä¸€ä¸ªæ˜¯æ¬¡æ•°ã€‚å½“æˆ‘ä»¬éå†åˆ°ä¸‹ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå¦‚æœä¸‹ä¸€ä¸ªæ•°å­—å’Œæˆ‘ä»¬ä¹‹å‰ä¿å­˜çš„æ•°å­—ç›¸åŒï¼Œåˆ™æ¬¡æ•°åŠ 1ï¼›å¦‚æœä¸‹ä¸€ä¸ªæ•°å­—å’Œæˆ‘ä»¬ä¹‹å‰ä¿å­˜çš„æ•°å­—ä¸åŒï¼Œåˆ™æ¬¡æ•°å‡1ã€‚å¦‚æœæ¬¡æ•°ä¸ºé›¶ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œå¹¶æŠŠæ¬¡æ•°è®¾ä¸º1.ç”±äºæˆ‘ä»¬è¦æ‰¾çš„æ•°å­—å‡ºç°çš„æ¬¡æ•°æ¯”å…¶ä»–æ‰€æœ‰æ•°å­—å‡ºç°çš„æ¬¡æ•°ä¹‹å’Œè¿˜è¦å¤šï¼Œé‚£ä¹ˆè¦æ‰¾çš„æ•°å­—è‚¯å®šæ˜¯æœ€åä¸€æ¬¡æŠŠæ¬¡æ•°è®¾ä¸º1æ—¶çš„å¯¹åº”æ•°å­—ã€‚</p>\n</blockquote>\n<h3 id=\"æ•´ä¸ªè¿‡ç¨‹æƒ³è±¡æˆä¸€æ¬¡æŠ•ç¥¨é€‰ä¸¾\"><a href=\"#æ•´ä¸ªè¿‡ç¨‹æƒ³è±¡æˆä¸€æ¬¡æŠ•ç¥¨é€‰ä¸¾\" class=\"headerlink\" title=\"æ•´ä¸ªè¿‡ç¨‹æƒ³è±¡æˆä¸€æ¬¡æŠ•ç¥¨é€‰ä¸¾\"></a>æ•´ä¸ªè¿‡ç¨‹æƒ³è±¡æˆä¸€æ¬¡æŠ•ç¥¨é€‰ä¸¾</h3><h4 id=\"æŠ•ç¥¨è§„åˆ™ï¼šå¤§å±å¹•ä¸Šåªå…è®¸å‡ºç°ä¸€ä½å€™é€‰äººã€‚å¦‚æœé€‰ä¸¾äººæŠ•çš„ç¥¨ä¸æ˜¯å½“å‰å€™é€‰äººï¼Œé‚£ä¹ˆè®©å½“å‰å€™é€‰äººç¥¨-1ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™-1ã€‚\"><a href=\"#æŠ•ç¥¨è§„åˆ™ï¼šå¤§å±å¹•ä¸Šåªå…è®¸å‡ºç°ä¸€ä½å€™é€‰äººã€‚å¦‚æœé€‰ä¸¾äººæŠ•çš„ç¥¨ä¸æ˜¯å½“å‰å€™é€‰äººï¼Œé‚£ä¹ˆè®©å½“å‰å€™é€‰äººç¥¨-1ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™-1ã€‚\" class=\"headerlink\" title=\"æŠ•ç¥¨è§„åˆ™ï¼šå¤§å±å¹•ä¸Šåªå…è®¸å‡ºç°ä¸€ä½å€™é€‰äººã€‚å¦‚æœé€‰ä¸¾äººæŠ•çš„ç¥¨ä¸æ˜¯å½“å‰å€™é€‰äººï¼Œé‚£ä¹ˆè®©å½“å‰å€™é€‰äººç¥¨-1ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™+1ã€‚\"></a>æŠ•ç¥¨è§„åˆ™ï¼šå¤§å±å¹•ä¸Šåªå…è®¸å‡ºç°ä¸€ä½å€™é€‰äººã€‚å¦‚æœé€‰ä¸¾äººæŠ•çš„ç¥¨ä¸æ˜¯å½“å‰å€™é€‰äººï¼Œé‚£ä¹ˆè®©å½“å‰å€™é€‰äººç¥¨-1ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™+1ã€‚</h4><p>OKï¼Œæˆ‘ä»¬ç°åœ¨æŠŠæ‰€æœ‰æ•°ç»„çš„å…ƒç´ å½“æˆæ˜¯é€‰ä¸¾äººä¸¾å‡ºçš„å·ç‰Œã€‚æˆ‘ä»¬å…ˆè€ƒè™‘æœ€æç«¯çš„æƒ…å†µï¼šæœ€åçš„<code>winner</code>ä»¥ä¸€ç¥¨ä¹‹å·®é™©èƒœã€‚ä¹Ÿå°±æ˜¯å…ƒç´ å‡ºç°çš„æ¬¡æ•°ä¸º<code>n//2+1</code>ã€‚è¿™ç§æƒ…å†µæ˜¯å¦‚ä½•å‡ºç°çš„å‘¢ï¼Œå‡è®¾æ•°ç»„æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[7, 7, 7, 7, 1, 2, 3]</span><br></pre></td></tr></table></figure>\n<p>æ²¡æœ‰æŠ•7çš„é€‰ä¸¾äººå‡è®¾åœ¨ä¸€å¼€å§‹çŸ¥é“äº†æœ€æœ‰æ½œåŠ›çš„<code>winner</code>å³7å·ï¼Œé‚£ä¹ˆä»–ä»¬â€˜åŒä»‡æ•Œå¿¾â€™ï¼Œå°†-1çš„ç¥¨éƒ½æŠ•åœ¨äº†7å·ä¸Šï¼Œè¿™ç§æƒ…å†µ7å·ä¸€ç›´å¤„äºå¤§å±å¹•ä¸­ï¼Œæ²¡æœ‰æ›´æ¢è¿‡å€™é€‰äººã€‚ä½†æ˜¯æœ€åä¹Ÿæ²¡èƒ½æ‰“è´¥7å·ï¼Œå› ä¸º7å·æœ€åè¿˜ä¿ç•™ä¸€ç¥¨ã€‚</p>\n<p>å¦å¤–ä¸€ç§éæç«¯çš„æƒ…å†µï¼Œæ²¡æœ‰æŠ•7çš„é€‰ä¸¾äººäº§ç”Ÿäº†â€˜å†…è®§â€™ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[7, 1, | 2, 3, | 7, 7, 7]</span><br></pre></td></tr></table></figure>\n<p>é¦–å…ˆ7å·å¾—åˆ°ä¸€ç¥¨ï¼Œç„¶åè¢«1å·å¹²æ‰ï¼Œæ¥ç€2å·ç§°ä¸ºå€™é€‰äººï¼Œè¢«3å·å¹²æ‰ã€‚3å·çš„ç¥¨æµªè´¹åœ¨äº†â€˜è‡ªå·±äººâ€™èº«ä¸Šï¼Œå³â€˜æˆ‘ä»¬ä¸­å‡ºäº†ä¸€ä¸ªå›å¾’â€™ã€‚å°±ç®—å›¢ç»“èµ·æ¥éƒ½å¹²ä¸è¿‡7å·ï¼Œæ‰€ä»¥<code>winner</code>è¿˜æ˜¯7å·ã€‚</p>\n<p>æœ€åé™„ä¸ŠLeetCodeä¸Šçš„Pythonä»£ç ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majorityElement</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        candidate = <span class=\"literal\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> count == <span class=\"number\">0</span>:</span><br><span class=\"line\">                candidate = num</span><br><span class=\"line\">            count += (<span class=\"number\">1</span> <span class=\"keyword\">if</span> num == candidate <span class=\"keyword\">else</span> <span class=\"number\">-1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> candidate</span><br></pre></td></tr></table></figure>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_majority_vote_algorithm\" target=\"_blank\" rel=\"noopener\">ç»´åŸºç™¾ç§‘</a></li>\n<li><a href=\"https://leetcode.com/problems/majority-element/solution/\" target=\"_blank\" rel=\"noopener\">LeetCode</a></li>\n</ul>\n","categories":["ç®—æ³•"],"tags":["algorithm"]},{"title":"è®°ä¸€æ¬¡æ·˜å®æ¥å£signç­¾åç ´è§£","url":"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B7%98%E5%AE%9D%E6%8E%A5%E5%8F%A3sign%E7%AD%BE%E5%90%8D%E7%A0%B4%E8%A7%A3/","content":"<h3 id=\"æ·˜å®H5é¡µé¢æ¥å£Signç­¾åç ´è§£\"><a href=\"#æ·˜å®H5é¡µé¢æ¥å£Signç­¾åç ´è§£\" class=\"headerlink\" title=\"æ·˜å®H5é¡µé¢æ¥å£Signç­¾åç ´è§£\"></a>æ·˜å®H5é¡µé¢æ¥å£Signç­¾åç ´è§£</h3><p>å‰è¨€ï¼šç”±äºå…¬å¸ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æ˜¾ç¤ºæ·˜å®å•†å“è¯¦æƒ…é¡µé¢çš„å›¾æ–‡è¯¦æƒ…éƒ¨åˆ†ã€‚ä¹‹å‰åŸä¸šåŠ¡é€»è¾‘æ˜¯æ ¹æ®<code>https://world.taobao.com/item/{num_iid}.htm</code>ï¼Œåœ¨å¾—åˆ°htmlæ–‡æœ¬åå…¨é‡é€šè¿‡å›¾ç‰‡å‰ç¼€åå¦‚<code>https://img.alicdn.com/imgextra</code>è¿›è¡ŒæŠ“å–ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>\n<a id=\"more\"></a>\n<p>ç”±äºheaderä¸­çš„UAä¼ çš„ä¸€ä¸ªPCç«¯çš„UAï¼Œæ‰€ä»¥è·å–çš„H5æ•°æ®ä¸­ï¼Œå¯èƒ½å«æœ‰ä¸€äº›å¹¿å‘Šï¼Œå•†å®¶ä¹‹ç±»è‡ªå·±çš„å¸ƒå±€ï¼Œä»è€Œæ— æ³•åœ¨å®¢æˆ·ç«¯æ­£å¸¸å±•ç¤ºã€‚å¦ä¸€æ–¹é¢ï¼Œè¯¥æ¥å£ä¸ºé«˜é¢‘æ¥å£ï¼Œæ‰“å¼€htmé¡µé¢æ¯æ¬¡è€—æ—¶70~80%ï¼Œä¸¥é‡å½±å“å®¢æˆ·ç«¯ä½“éªŒï¼Œæ‰€ä»¥å¯¹æ­¤å°†æ¥å£è¿›è¡Œå‡çº§ã€‚</p>\n<p>åæ¥å‘ç°æ‰‹æœºä¸Šæ‰“å¼€è¯¥é¡µé¢æ˜¯ä¸æ˜¾ç¤ºä¸€äº›æ— å…³çš„å¹¿å‘Šçš„ï¼Œè€Œä¸”å¸ƒå±€ä¹Ÿæ­£å¸¸ã€‚äºæ˜¯å°†UAæ”¹ä¸ºäº†æ‰‹æœºç«¯çš„UAï¼Œç„¶åé€šè¿‡æŠ“åŒ…åˆ†æï¼Œè¿”å›çš„é¡µé¢æ˜¯ä¸€ä¸ªä¸åŒ…å«å›¾ç‰‡çš„htmlï¼Œå›¾æ–‡è¯¦æƒ…æ˜¯æ ¹æ®jsæ¥å£è°ƒç”¨åŠ¨æ€æ¸²æŸ“ã€‚æ¥å£ä¸º<code>https://h5api.m.taobao.com/h5/mtop.wdetail.getitemdescx/4.9/?jsv=2.4.11&amp;appKey=12574478&amp;t=1544165283634&amp;sign=c691925755f2ff429c950f7b00903a23&amp;api=mtop.wdetail.getItemDescx&amp;v=4.9&amp;type=jsonp&amp;dataType=jsonp&amp;callback=mtopjsonp6&amp;data=%7B%22item_num_id%22%3A%22554401452734%22%7D</code>ã€‚çœ‹åˆ°å‚æ•°ä¸­åŒ…å«äº†<code>sign</code>ï¼Œæ‰€ä»¥æ˜¯æ ¹æ®æŸç§è§„åˆ™ç®—å‡ºæ¥çš„ç­¾åã€‚</p>\n<p>æ¥ç€å°±æ˜¯æ‰¾åˆ°<code>sign</code>çš„ç­¾åç®—æ³•äº†ï¼Œå°†é¡µé¢ä¸­çš„jsæ ¼å¼åŒ–äº†ä¸€ä¸‹ã€‚æ‰¾åˆ°å…³äºsignç­¾åçš„éƒ¨åˆ†ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">s.prototype.__processRequestUrl = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">n</span>) </span>&#123;</span><br><span class=\"line\">    &#123;<span class=\"keyword\">var</span> e = <span class=\"keyword\">this</span>.params,</span><br><span class=\"line\">    r = <span class=\"keyword\">this</span>.options;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (r.hostSetting &amp;&amp; r.hostSetting[t.location.hostname]) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> o = r.hostSetting[t.location.hostname];</span><br><span class=\"line\">        o.prefix &amp;&amp; (r.prefix = o.prefix),</span><br><span class=\"line\">        o.subDomain &amp;&amp; (r.subDomain = o.subDomain),</span><br><span class=\"line\">        o.mainDomain &amp;&amp; (r.mainDomain = o.mainDomain)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"number\">0</span> === r.H5Request) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> i = <span class=\"string\">\"//\"</span> + (r.prefix ? r.prefix + <span class=\"string\">\".\"</span>: <span class=\"string\">\"\"</span>) + (r.subDomain ? r.subDomain + <span class=\"string\">\".\"</span>: <span class=\"string\">\"\"</span>) + r.mainDomain + <span class=\"string\">\"/h5/\"</span> + e.api.toLowerCase() + <span class=\"string\">\"/\"</span> + e.v.toLowerCase() + <span class=\"string\">\"/\"</span>,</span><br><span class=\"line\">        a = e.appKey || (<span class=\"string\">\"waptest\"</span> === r.subDomain ? <span class=\"string\">\"4272\"</span>: <span class=\"string\">\"12574478\"</span>),</span><br><span class=\"line\">        c = (<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>).getTime(),</span><br><span class=\"line\">        u = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">n</span>(<span class=\"params\">t, n</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> t &lt;&lt; n | t &gt;&gt;&gt; <span class=\"number\">32</span> - n</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">e</span>(<span class=\"params\">t, n</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> e, r, o, i, a;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> o = <span class=\"number\">2147483648</span> &amp; t,</span><br><span class=\"line\">                i = <span class=\"number\">2147483648</span> &amp; n,</span><br><span class=\"line\">                a = (<span class=\"number\">1073741823</span> &amp; t) + (<span class=\"number\">1073741823</span> &amp; n),</span><br><span class=\"line\">                (e = <span class=\"number\">1073741824</span> &amp; t) &amp; (r = <span class=\"number\">1073741824</span> &amp; n) ? <span class=\"number\">2147483648</span> ^ a ^ o ^ i: e | r ? <span class=\"number\">1073741824</span> &amp; a ? <span class=\"number\">3221225472</span> ^ a ^ o ^ i: <span class=\"number\">1073741824</span> ^ a ^ o ^ i: a ^ o ^ i</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">r</span>(<span class=\"params\">t, r, o, i, a, c, u</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> e(n(t = e(t, e(e(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t, n, e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> t &amp; n | ~t &amp; e</span><br><span class=\"line\">                &#125; (r, o, i), a), u)), c), r)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">o</span>(<span class=\"params\">t, r, o, i, a, c, u</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> e(n(t = e(t, e(e(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t, n, e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> t &amp; e | n &amp; ~e</span><br><span class=\"line\">                &#125; (r, o, i), a), u)), c), r)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">i</span>(<span class=\"params\">t, r, o, i, a, c, u</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> e(n(t = e(t, e(e(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t, n, e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> t ^ n ^ e</span><br><span class=\"line\">                &#125; (r, o, i), a), u)), c), r)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">a</span>(<span class=\"params\">t, r, o, i, a, c, u</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> e(n(t = e(t, e(e(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t, n, e</span>) </span>&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> n ^ (t | ~e)</span><br><span class=\"line\">                &#125; (r, o, i), a), u)), c), r)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">c</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> n, e = <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                r = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (n = <span class=\"number\">0</span>; <span class=\"number\">3</span> &gt;= n; n++) e += (r = <span class=\"string\">\"0\"</span> + (t &gt;&gt;&gt; <span class=\"number\">8</span> * n &amp; <span class=\"number\">255</span>).toString(<span class=\"number\">16</span>)).substr(r.length - <span class=\"number\">2</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">                <span class=\"keyword\">return</span> e</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> u, s, f, l, p, d, h, v, m, g;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (g = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> n, e = t.length,</span><br><span class=\"line\">                r = e + <span class=\"number\">8</span>,</span><br><span class=\"line\">                o = <span class=\"number\">16</span> * ((r - r % <span class=\"number\">64</span>) / <span class=\"number\">64</span> + <span class=\"number\">1</span>), i = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(o - <span class=\"number\">1</span>), a = <span class=\"number\">0</span>, c = <span class=\"number\">0</span>; e &gt; c;) a = c % <span class=\"number\">4</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">                i[n = (c - c % <span class=\"number\">4</span>) / <span class=\"number\">4</span>] = i[n] | t.charCodeAt(c) &lt;&lt; a,</span><br><span class=\"line\">                c++;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> a = c % <span class=\"number\">4</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">                i[n = (c - c % <span class=\"number\">4</span>) / <span class=\"number\">4</span>] = i[n] | <span class=\"number\">128</span> &lt;&lt; a,</span><br><span class=\"line\">                i[o - <span class=\"number\">2</span>] = e &lt;&lt; <span class=\"number\">3</span>,</span><br><span class=\"line\">                i[o - <span class=\"number\">1</span>] = e &gt;&gt;&gt; <span class=\"number\">29</span>,</span><br><span class=\"line\">                i</span><br><span class=\"line\">            &#125; (t = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">                t = t.replace(<span class=\"regexp\">/\\r\\n/g</span>, <span class=\"string\">\"\\n\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> n = <span class=\"string\">\"\"</span>,</span><br><span class=\"line\">                e = <span class=\"number\">0</span>; e &lt; t.length; e++) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> r = t.charCodeAt(e);</span><br><span class=\"line\">                    <span class=\"number\">128</span> &gt; r ? n += <span class=\"built_in\">String</span>.fromCharCode(r) : r &gt; <span class=\"number\">127</span> &amp;&amp; <span class=\"number\">2048</span> &gt; r ? (n += <span class=\"built_in\">String</span>.fromCharCode(r &gt;&gt; <span class=\"number\">6</span> | <span class=\"number\">192</span>), n += <span class=\"built_in\">String</span>.fromCharCode(<span class=\"number\">63</span> &amp; r | <span class=\"number\">128</span>)) : (n += <span class=\"built_in\">String</span>.fromCharCode(r &gt;&gt; <span class=\"number\">12</span> | <span class=\"number\">224</span>), n += <span class=\"built_in\">String</span>.fromCharCode(r &gt;&gt; <span class=\"number\">6</span> &amp; <span class=\"number\">63</span> | <span class=\"number\">128</span>), n += <span class=\"built_in\">String</span>.fromCharCode(<span class=\"number\">63</span> &amp; r | <span class=\"number\">128</span>))</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> n</span><br><span class=\"line\">            &#125; (t)), d = <span class=\"number\">1732584193</span>, h = <span class=\"number\">4023233417</span>, v = <span class=\"number\">2562383102</span>, m = <span class=\"number\">271733878</span>, u = <span class=\"number\">0</span>; u &lt; g.length; u += <span class=\"number\">16</span>) s = d,</span><br><span class=\"line\">            f = h,</span><br><span class=\"line\">            l = v,</span><br><span class=\"line\">            p = m,</span><br><span class=\"line\">            h = a(h = a(h = a(h = a(h = i(h = i(h = i(h = i(h = o(h = o(h = o(h = o(h = r(h = r(h = r(h = r(h, v = r(v, m = r(m, d = r(d, h, v, m, g[u + <span class=\"number\">0</span>], <span class=\"number\">7</span>, <span class=\"number\">3614090360</span>), h, v, g[u + <span class=\"number\">1</span>], <span class=\"number\">12</span>, <span class=\"number\">3905402710</span>), d, h, g[u + <span class=\"number\">2</span>], <span class=\"number\">17</span>, <span class=\"number\">606105819</span>), m, d, g[u + <span class=\"number\">3</span>], <span class=\"number\">22</span>, <span class=\"number\">3250441966</span>), v = r(v, m = r(m, d = r(d, h, v, m, g[u + <span class=\"number\">4</span>], <span class=\"number\">7</span>, <span class=\"number\">4118548399</span>), h, v, g[u + <span class=\"number\">5</span>], <span class=\"number\">12</span>, <span class=\"number\">1200080426</span>), d, h, g[u + <span class=\"number\">6</span>], <span class=\"number\">17</span>, <span class=\"number\">2821735955</span>), m, d, g[u + <span class=\"number\">7</span>], <span class=\"number\">22</span>, <span class=\"number\">4249261313</span>), v = r(v, m = r(m, d = r(d, h, v, m, g[u + <span class=\"number\">8</span>], <span class=\"number\">7</span>, <span class=\"number\">1770035416</span>), h, v, g[u + <span class=\"number\">9</span>], <span class=\"number\">12</span>, <span class=\"number\">2336552879</span>), d, h, g[u + <span class=\"number\">10</span>], <span class=\"number\">17</span>, <span class=\"number\">4294925233</span>), m, d, g[u + <span class=\"number\">11</span>], <span class=\"number\">22</span>, <span class=\"number\">2304563134</span>), v = r(v, m = r(m, d = r(d, h, v, m, g[u + <span class=\"number\">12</span>], <span class=\"number\">7</span>, <span class=\"number\">1804603682</span>), h, v, g[u + <span class=\"number\">13</span>], <span class=\"number\">12</span>, <span class=\"number\">4254626195</span>), d, h, g[u + <span class=\"number\">14</span>], <span class=\"number\">17</span>, <span class=\"number\">2792965006</span>), m, d, g[u + <span class=\"number\">15</span>], <span class=\"number\">22</span>, <span class=\"number\">1236535329</span>), v = o(v, m = o(m, d = o(d, h, v, m, g[u + <span class=\"number\">1</span>], <span class=\"number\">5</span>, <span class=\"number\">4129170786</span>), h, v, g[u + <span class=\"number\">6</span>], <span class=\"number\">9</span>, <span class=\"number\">3225465664</span>), d, h, g[u + <span class=\"number\">11</span>], <span class=\"number\">14</span>, <span class=\"number\">643717713</span>), m, d, g[u + <span class=\"number\">0</span>], <span class=\"number\">20</span>, <span class=\"number\">3921069994</span>), v = o(v, m = o(m, d = o(d, h, v, m, g[u + <span class=\"number\">5</span>], <span class=\"number\">5</span>, <span class=\"number\">3593408605</span>), h, v, g[u + <span class=\"number\">10</span>], <span class=\"number\">9</span>, <span class=\"number\">38016083</span>), d, h, g[u + <span class=\"number\">15</span>], <span class=\"number\">14</span>, <span class=\"number\">3634488961</span>), m, d, g[u + <span class=\"number\">4</span>], <span class=\"number\">20</span>, <span class=\"number\">3889429448</span>), v = o(v, m = o(m, d = o(d, h, v, m, g[u + <span class=\"number\">9</span>], <span class=\"number\">5</span>, <span class=\"number\">568446438</span>), h, v, g[u + <span class=\"number\">14</span>], <span class=\"number\">9</span>, <span class=\"number\">3275163606</span>), d, h, g[u + <span class=\"number\">3</span>], <span class=\"number\">14</span>, <span class=\"number\">4107603335</span>), m, d, g[u + <span class=\"number\">8</span>], <span class=\"number\">20</span>, <span class=\"number\">1163531501</span>), v = o(v, m = o(m, d = o(d, h, v, m, g[u + <span class=\"number\">13</span>], <span class=\"number\">5</span>, <span class=\"number\">2850285829</span>), h, v, g[u + <span class=\"number\">2</span>], <span class=\"number\">9</span>, <span class=\"number\">4243563512</span>), d, h, g[u + <span class=\"number\">7</span>], <span class=\"number\">14</span>, <span class=\"number\">1735328473</span>), m, d, g[u + <span class=\"number\">12</span>], <span class=\"number\">20</span>, <span class=\"number\">2368359562</span>), v = i(v, m = i(m, d = i(d, h, v, m, g[u + <span class=\"number\">5</span>], <span class=\"number\">4</span>, <span class=\"number\">4294588738</span>), h, v, g[u + <span class=\"number\">8</span>], <span class=\"number\">11</span>, <span class=\"number\">2272392833</span>), d, h, g[u + <span class=\"number\">11</span>], <span class=\"number\">16</span>, <span class=\"number\">1839030562</span>), m, d, g[u + <span class=\"number\">14</span>], <span class=\"number\">23</span>, <span class=\"number\">4259657740</span>), v = i(v, m = i(m, d = i(d, h, v, m, g[u + <span class=\"number\">1</span>], <span class=\"number\">4</span>, <span class=\"number\">2763975236</span>), h, v, g[u + <span class=\"number\">4</span>], <span class=\"number\">11</span>, <span class=\"number\">1272893353</span>), d, h, g[u + <span class=\"number\">7</span>], <span class=\"number\">16</span>, <span class=\"number\">4139469664</span>), m, d, g[u + <span class=\"number\">10</span>], <span class=\"number\">23</span>, <span class=\"number\">3200236656</span>), v = i(v, m = i(m, d = i(d, h, v, m, g[u + <span class=\"number\">13</span>], <span class=\"number\">4</span>, <span class=\"number\">681279174</span>), h, v, g[u + <span class=\"number\">0</span>], <span class=\"number\">11</span>, <span class=\"number\">3936430074</span>), d, h, g[u + <span class=\"number\">3</span>], <span class=\"number\">16</span>, <span class=\"number\">3572445317</span>), m, d, g[u + <span class=\"number\">6</span>], <span class=\"number\">23</span>, <span class=\"number\">76029189</span>), v = i(v, m = i(m, d = i(d, h, v, m, g[u + <span class=\"number\">9</span>], <span class=\"number\">4</span>, <span class=\"number\">3654602809</span>), h, v, g[u + <span class=\"number\">12</span>], <span class=\"number\">11</span>, <span class=\"number\">3873151461</span>), d, h, g[u + <span class=\"number\">15</span>], <span class=\"number\">16</span>, <span class=\"number\">530742520</span>), m, d, g[u + <span class=\"number\">2</span>], <span class=\"number\">23</span>, <span class=\"number\">3299628645</span>), v = a(v, m = a(m, d = a(d, h, v, m, g[u + <span class=\"number\">0</span>], <span class=\"number\">6</span>, <span class=\"number\">4096336452</span>), h, v, g[u + <span class=\"number\">7</span>], <span class=\"number\">10</span>, <span class=\"number\">1126891415</span>), d, h, g[u + <span class=\"number\">14</span>], <span class=\"number\">15</span>, <span class=\"number\">2878612391</span>), m, d, g[u + <span class=\"number\">5</span>], <span class=\"number\">21</span>, <span class=\"number\">4237533241</span>), v = a(v, m = a(m, d = a(d, h, v, m, g[u + <span class=\"number\">12</span>], <span class=\"number\">6</span>, <span class=\"number\">1700485571</span>), h, v, g[u + <span class=\"number\">3</span>], <span class=\"number\">10</span>, <span class=\"number\">2399980690</span>), d, h, g[u + <span class=\"number\">10</span>], <span class=\"number\">15</span>, <span class=\"number\">4293915773</span>), m, d, g[u + <span class=\"number\">1</span>], <span class=\"number\">21</span>, <span class=\"number\">2240044497</span>), v = a(v, m = a(m, d = a(d, h, v, m, g[u + <span class=\"number\">8</span>], <span class=\"number\">6</span>, <span class=\"number\">1873313359</span>), h, v, g[u + <span class=\"number\">15</span>], <span class=\"number\">10</span>, <span class=\"number\">4264355552</span>), d, h, g[u + <span class=\"number\">6</span>], <span class=\"number\">15</span>, <span class=\"number\">2734768916</span>), m, d, g[u + <span class=\"number\">13</span>], <span class=\"number\">21</span>, <span class=\"number\">1309151649</span>), v = a(v, m = a(m, d = a(d, h, v, m, g[u + <span class=\"number\">4</span>], <span class=\"number\">6</span>, <span class=\"number\">4149444226</span>), h, v, g[u + <span class=\"number\">11</span>], <span class=\"number\">10</span>, <span class=\"number\">3174756917</span>), d, h, g[u + <span class=\"number\">2</span>], <span class=\"number\">15</span>, <span class=\"number\">718787259</span>), m, d, g[u + <span class=\"number\">9</span>], <span class=\"number\">21</span>, <span class=\"number\">3951481745</span>),</span><br><span class=\"line\">            d = e(d, s),</span><br><span class=\"line\">            h = e(h, f),</span><br><span class=\"line\">            v = e(v, l),</span><br><span class=\"line\">            m = e(m, p);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (c(d) + c(h) + c(v) + c(m)).toLowerCase()</span><br><span class=\"line\">        &#125; (r.token + <span class=\"string\">\"&amp;\"</span> + c + <span class=\"string\">\"&amp;\"</span> + a + <span class=\"string\">\"&amp;\"</span> + e.data),</span><br><span class=\"line\">        s = &#123;</span><br><span class=\"line\">            jsv: <span class=\"string\">\"2.4.11\"</span>,</span><br><span class=\"line\">            appKey: a,</span><br><span class=\"line\">            t: c,</span><br><span class=\"line\">            sign: u</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        f = &#123;</span><br><span class=\"line\">            data: e.data,</span><br><span class=\"line\">            ua: e.ua</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"built_in\">Object</span>.keys(e).forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"string\">\"undefined\"</span> == <span class=\"keyword\">typeof</span> s[t] &amp;&amp; <span class=\"string\">\"undefined\"</span> == <span class=\"keyword\">typeof</span> f[t] &amp;&amp; <span class=\"string\">\"headers\"</span> !== t &amp;&amp; <span class=\"string\">\"ext_headers\"</span> !== t &amp;&amp; <span class=\"string\">\"ext_querys\"</span> !== t &amp;&amp; (s[t] = e[t])</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        e.ext_querys &amp;&amp; <span class=\"built_in\">Object</span>.keys(e.ext_querys).forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">t</span>) </span>&#123;</span><br><span class=\"line\">            s[t] = e.ext_querys[t]</span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        r.getJSONP ? s.type = <span class=\"string\">\"jsonp\"</span>: r.getOriginalJSONP ? s.type = <span class=\"string\">\"originaljsonp\"</span>: (r.getJSON || r.postJSON) &amp;&amp; (s.type = <span class=\"string\">\"originaljson\"</span>),</span><br><span class=\"line\">        <span class=\"string\">\"undefined\"</span> != <span class=\"keyword\">typeof</span> e.valueType &amp;&amp; (<span class=\"string\">\"original\"</span> === e.valueType ? r.getJSONP || r.getOriginalJSONP ? s.type = <span class=\"string\">\"originaljsonp\"</span>: (r.getJSON || r.postJSON) &amp;&amp; (s.type = <span class=\"string\">\"originaljson\"</span>) : <span class=\"string\">\"string\"</span> === e.valueType &amp;&amp; (r.getJSONP || r.getOriginalJSONP ? s.type = <span class=\"string\">\"jsonp\"</span>: (r.getJSON || r.postJSON) &amp;&amp; (s.type = <span class=\"string\">\"json\"</span>))),</span><br><span class=\"line\">        !<span class=\"number\">0</span> === r.useJsonpResultType &amp;&amp; <span class=\"string\">\"originaljson\"</span> === s.type &amp;&amp; <span class=\"keyword\">delete</span> s.type,</span><br><span class=\"line\">        r.dangerouslySetProtocol &amp;&amp; (i = r.dangerouslySetProtocol + <span class=\"string\">\":\"</span> + i),</span><br><span class=\"line\">        r.querystring = s,</span><br><span class=\"line\">        r.postdata = f,</span><br><span class=\"line\">        r.path = i</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    n()</span><br><span class=\"line\">&#125;,&#125;</span><br></pre></td></tr></table></figure>\n<p>çœ‹åˆ°è¿™é‡Œåº”è¯¥æ˜¯ä¸€ä¸ªåŠ å¯†åçš„jsï¼Œåæ¥æ‰¾åˆ°ä¸€ç¯‡æ–‡ç« ã€‚<a href=\"https://zhuanlan.zhihu.com/p/42053431\" target=\"_blank\" rel=\"noopener\">æ·˜å®signåŠ å¯†ç®—æ³•</a>ã€‚æ ¹æ®æŠ“åŒ…çš„å‚æ•°ï¼ŒæŒ‰ç…§å…¬å¼æ¥è®¡ç®—signï¼ŒéªŒè¯ç®—æ³•æ˜¯å¦æ­£ç¡®ã€‚å¯èƒ½ç”±äºæ—¶é—´æˆ³æ²¡æœ‰å–æ•´ï¼Œæˆ–è€…ä¸€äº›å…¶ä»–çš„åŸå› å¦‚ç¼–ç é—®é¢˜ç­‰ï¼Œå¯¼è‡´signçš„å€¼æ²¡æœ‰å’Œæ­£ç¡®å€¼å¯¹ä¸Šï¼Œåˆçœ‹åˆ°æ–‡ä¸­è´´çš„ä»£ç æ¯”æˆ‘æ‰¾åˆ°çš„jsæ›´åŠ ç®€å•ï¼Œä»¥ä¸ºæ·˜å®æ›´æ–°äº†ç®—æ³•ã€‚å†åæ¥ä¸€ä½çŸ¥å‹æç¤ºè¯´ç®—æ³•æ²¡æœ‰é—®é¢˜ï¼Œï¼ˆåœ¨æ­¤ç‰¹åˆ«æ„Ÿè°¢çŸ¥å‹JahoåŠæ–‡ç« ä½œè€…å°æ­ªï¼‰æ‰åˆæŠ“åŒ…è¯•äº†ä¸€æ¬¡ï¼Œè¿™æ¬¡å°†æ¯«ç§’æ—¶é—´æˆ³è½¬ä¸ºäº†intï¼Œå¹¶å°†å­—ç¬¦ä¸²è¿›è¡Œutf8ç¼–ç ï¼Œç®—å‡ºæ¥çš„signå€¼å’ŒæŠ“åŒ…ä¸­çš„åŒ¹é…ã€‚åæ¥è¯å®é€šè¿‡jsæ–­ç‚¹è°ƒè¯•ä¹Ÿå¯ä»¥éªŒè¯å…¬å¼çš„æ­£ç¡®æ€§ã€‚signç”Ÿæˆå…¬å¼ä¸ºï¼š<code>md5Hex(token&amp;t&amp;appKey&amp;data)</code>tè¡¨ç¤ºæ¯«ç§’æ—¶é—´æˆ³ï¼ŒappKeyä¸€èˆ¬ä¸ºå›ºå®šå€¼ã€‚dataä¸ºå‚æ•°ã€‚æœ¬æ–‡ä¸­çš„ä¾‹å­ä¸º<code>6b2310e47a950f1c8c3fe6ec792f356a&amp;1544165283634&amp;12574478&amp;{&quot;item_num_id&quot;:&quot;554401452734&quot;}</code>å†è¿›è¡Œmd5è½¬æ¢ã€‚</p>\n<p>çŸ¥é“äº†signç®—æ³•ï¼Œæ¥ä¸‹æ¥å°±æ˜¯tokençš„è·å–ï¼Œæ ¹æ®çŸ¥ä¹æ–‡ä¸­ä½œè€…æ‰€è¯´ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ˜¯ä¼šè®¾ç½®cookieï¼Œäºæ˜¯ä½¿ç”¨Postmanæ¸…ç†cookieåè¯·æ±‚ï¼Œæ­¤æ—¶signçš„å€¼ä¼ ä»»ä½•å€¼å‡æ— å½±å“ï¼Œæ¥å£ä¼šè¿”å›</p>\n<figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">mtopjsonp2(&#123;</span><br><span class=\"line\">\t\"api\": \"mtop.wdetail.getItemDescx\",</span><br><span class=\"line\">\t\"v\": \"4.9\",</span><br><span class=\"line\">\t\"ret\": [\"FAIL_SYS_TOKEN_EXOIRED::ä»¤ç‰Œè¿‡æœŸ\"],</span><br><span class=\"line\">\t\"data\": &#123;&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>å¹¶è®¾ç½®ä¸¤ä¸ªcookieï¼Œä¸€ä¸ªæ˜¯<code>_m_h5_tk</code>å€¼ä¸º<code>6b2310e47a950f1c8c3fe6ec792f356a_1544173923544</code>ï¼Œå¦ä¸€ä¸ªæ˜¯<code>_m_h5_tk_enc</code>ï¼Œè¿™ä¸ªç›®å‰ç”¨ä¸åˆ°ï¼Œæˆ‘ä»¬è¦çš„tokenå°±æ˜¯å‰è€…<code>_</code>åˆ†å‰²çš„å‰éƒ¨åˆ†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸¤æ¬¡æ¥å£ï¼Œç¬¬ä¸€æ¬¡æ‹¿åˆ°tokenï¼Œç¬¬äºŒæ¬¡è¯·æ±‚æ‹¿åˆ°æ•°æ®ã€‚</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"api\"</span>: <span class=\"string\">\"mtop.wdetail.getItemDescx\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"data\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"pages\"</span>: [</span><br><span class=\"line\">      <span class=\"string\">\"&lt;txt&gt;ç‰¹åˆ«æé†’ï¼šæ­¤æ¬¾æ”¶çº³ç®±å°ºå¯¸æµ‹é‡æ–¹æ³•ï¼šï¼ˆç›–ä¸Šç›–å­æµ‹é‡é•¿å®½é«˜ï¼‰é•¿åº¦=ç›–å­+æŠŠæ‰‹ã€‚æ‰‹å·¥é‡çš„ï¼Œç¨è®¸è¯¯å·®ï¼Œè°¢è°¢è°…è§£ï¼ æ³¨æ„ï¼šä¸è¦æŠŠæœ¬åº—çš„Læ•°è·Ÿè¶…å¸‚çš„æ¯”è¾ƒï¼Œæœ¬åº—çš„Læ•°æ˜¯ç½‘ä¸Šç¬¼ç»Ÿçš„å«æ³•ï¼Œä»¥ç®±å­å®é™…å°ºå¯¸ä¸ºä¸»ï¼Œä»‹æ„çš„äº²è¯·å‹¿æ‹ï¼å»ºè®®ï¼šåº—é•¿æ¨èæ‹å¥—è£…å‡ ä¸ªå¥—åœ¨ä¸€èµ· å¯ä»¥æŠ—æ‘” ã€‚ã€‚10Lä¸å»ºè®®è´­ä¹°åªèƒ½è£…ä¸€äº›å°ä¸œè¥¿äººå·¥æµ‹é‡ä¼šæœ‰2cmå·¦å³è¯¯å·®å±äºæ­£å¸¸ç°è±¡æ¸©é¦¨æé†’ï¼šå¡‘æ–™å±äºæ˜“ç¢å“ï¼Œä¸ºäº†å…å»äº²çš„éº»çƒ¦ï¼Œè¯·äº²åœ¨æ”¶è´§æ—¶å…ˆæ‹†å¼€æ£€æŸ¥ååœ¨ç­¾æ”¶ï¼Œå¦‚æœ‰ç ´æŸè¯·ç›´æ¥æ‹’æ”¶&lt;/txt&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2kQKqbgsSMeJjSspcXXXjFXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2UkPszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2dJSBzstnpuFjSZFKXXalFFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2U3i5zxxmpuFjSZFNXXXrRXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB22qfEzr4npuFjSZFmXXXl4FXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2_8HcvbJkpuFjy1zcXXa5FFXa_!!2651141793.jpg&lt;/img&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2f7YszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2B600zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2C.HmvgFkpuFjSspnXXb4qFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB25AYszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2Tt1BzstnpuFjSZFKXXalFFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2FNPgvgxlpuFjSszbXXcSVpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB26j40zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2uDGozCVmpuFjSZFFXXcZApXa_!!2651141793.jpg&lt;/img&gt;\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2Bx9ntxRDOuFjSZFzXXcIipXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2nSblvm0jpuFjy0FlXXc0bpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2wtaQvbXlpuFjSszfXXcSGXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2k1vfvl4lpuFjy1zjXXcAKpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB26HbQvbFkpuFjy1XcXXclapXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB24miYzypnpuFjSZFIXXXh2VXa_!!2651141793.jpg&lt;/img&gt;&lt;txt&gt;.................welcome20160618152824&lt;/txt&gt;\"</span></span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"attr\">\"images\"</span>: [</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB2kQKqbgsSMeJjSspcXXXjFXXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i1/2651141793/TB2UkPszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB2dJSBzstnpuFjSZFKXXalFFXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i4/2651141793/TB2U3i5zxxmpuFjSZFNXXXrRXXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i1/2651141793/TB22qfEzr4npuFjSZFmXXXl4FXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i2/2651141793/TB2_8HcvbJkpuFjy1zcXXa5FFXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i1/2651141793/TB2f7YszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB2B600zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i4/2651141793/TB2C.HmvgFkpuFjSspnXXb4qFXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB25AYszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB2Tt1BzstnpuFjSZFKXXalFFXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB2FNPgvgxlpuFjSszbXXcSVpXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i2/2651141793/TB26j40zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i4/2651141793/TB2uDGozCVmpuFjSZFFXXcZApXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i1/2651141793/TB2Bx9ntxRDOuFjSZFzXXcIipXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i2/2651141793/TB2nSblvm0jpuFjy0FlXXc0bpXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i2/2651141793/TB2wtaQvbXlpuFjSszfXXcSGXXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i4/2651141793/TB2k1vfvl4lpuFjy1zjXXcAKpXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i1/2651141793/TB26HbQvbFkpuFjy1XcXXclapXa_!!2651141793.jpg\"</span>,</span><br><span class=\"line\">      <span class=\"string\">\"https://img.alicdn.com/imgextra/i3/2651141793/TB24miYzypnpuFjSZFIXXXh2VXa_!!2651141793.jpg\"</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"ret\"</span>: [</span><br><span class=\"line\">    <span class=\"string\">\"SUCCESS::æ¥å£è°ƒç”¨æˆåŠŸ\"</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">\"v\"</span>: <span class=\"string\">\"4.9\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­çš„imagesæ•°ç»„å°±æ˜¯æˆ‘æƒ³è¦çš„æ•°æ®ï¼Œè¿™é‡Œè¿”å›å€¼ä¸æ˜¯æ ‡å‡†çš„jsonï¼Œå¥—äº†ä¸€å±‚mtopjsonp2({JSON})ï¼Œäºæ˜¯è·å–ç»“æœåè¿˜è¦æ ¹æ®æ­£åˆ™æˆªå–ä¸€ä¸‹jsonçš„æ–‡æœ¬ã€‚</p>\n<p>é™„ä¸Šéƒ¨åˆ†ç›¸å…³ä»£ç ï¼Œpythonç‰ˆæœ¬</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_images_from_mtop</span><span class=\"params\">(num_iid)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    APPKEY = <span class=\"string\">'12574478'</span></span><br><span class=\"line\">    DATA = <span class=\"string\">'&#123;\"item_num_id\":\"%s\"&#125;'</span> % num_iid</span><br><span class=\"line\">    URL = <span class=\"string\">'https://h5api.m.taobao.com/h5/mtop.wdetail.getitemdescx/4.9/'</span></span><br><span class=\"line\">    params = &#123;<span class=\"string\">'jsv'</span>: <span class=\"string\">'2.4.11'</span>, <span class=\"string\">'appKey'</span>: APPKEY, <span class=\"string\">'t'</span>: int(time.time()*<span class=\"number\">1000</span>),</span><br><span class=\"line\">              <span class=\"string\">'sign'</span>: <span class=\"string\">'FAKE_SIGN_WITH_ANYTHING'</span>, <span class=\"string\">'api'</span>: <span class=\"string\">'mtop.wdetail.getItemDescx'</span>, <span class=\"string\">'v'</span>: <span class=\"string\">'4.9'</span>,</span><br><span class=\"line\">              <span class=\"string\">'type'</span>: <span class=\"string\">'jsonp'</span>, <span class=\"string\">'dataType'</span>: <span class=\"string\">'jsonp'</span>, <span class=\"string\">'callback'</span>: <span class=\"string\">'mtopjsonp2'</span>,</span><br><span class=\"line\">              <span class=\"string\">'data'</span>: DATA&#125;</span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">        <span class=\"string\">'User-Agent'</span>: <span class=\"string\">'Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_4 like Mac OS X) AppleWebKit/601.1.46 '</span> + \\</span><br><span class=\"line\">                      <span class=\"string\">'(KHTML, like Gecko) Version/9.0 Mobile/13G35 Safari/601.1'</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    images = []</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"comment\"># get token in first request</span></span><br><span class=\"line\">        r1 = requests.get(URL, params=params, headers=headers)</span><br><span class=\"line\">        token_with_time = r1.cookies.get(<span class=\"string\">'_m_h5_tk'</span>)</span><br><span class=\"line\">        token = token_with_time.split(<span class=\"string\">'_'</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">        enc_token = r1.cookies.get(<span class=\"string\">'_m_h5_tk_enc'</span>)</span><br><span class=\"line\">        logger.debug(r1.cookies)</span><br><span class=\"line\">        <span class=\"comment\"># get results in second request</span></span><br><span class=\"line\">        t2 = str(int(time.time() * <span class=\"number\">1000</span>))</span><br><span class=\"line\">        c = <span class=\"string\">'&amp;'</span>.join([token, t2, APPKEY, DATA])</span><br><span class=\"line\">        m = hashlib.md5()</span><br><span class=\"line\">        m.update(c.encode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">        params.update(&#123;<span class=\"string\">'t'</span>: t2, <span class=\"string\">'sign'</span>: m.hexdigest()&#125;)</span><br><span class=\"line\">        cookies = &#123;<span class=\"string\">'_m_h5_tk'</span>: token_with_time, <span class=\"string\">'_m_h5_tk_enc'</span>: enc_token&#125;</span><br><span class=\"line\">        r2 = requests.get(URL, params=params, headers=headers, cookies=cookies)</span><br><span class=\"line\">        logger.debug(r2.text)</span><br><span class=\"line\">        json_text = re.match(<span class=\"string\">r'(.*\\()(.*)(\\))'</span>, r2.text).group(<span class=\"number\">2</span>)</span><br><span class=\"line\">        images = dict(json.loads(json_text))[<span class=\"string\">'data'</span>][<span class=\"string\">'images'</span>]</span><br><span class=\"line\">    <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">        logger.warning(e)</span><br><span class=\"line\">    <span class=\"keyword\">finally</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> images</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œæ¥å£å“åº”æ—¶é—´æœ‰äº†å¤§å¹…åº¦æå‡ã€‚</p>\n<img src=\"/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B7%98%E5%AE%9D%E6%8E%A5%E5%8F%A3sign%E7%AD%BE%E5%90%8D%E7%A0%B4%E8%A7%A3/optimize.png\" class>\n","categories":["é€†å‘å·¥ç¨‹"],"tags":["Signç­¾å"]},{"title":"ã€ŠWeb API çš„è®¾è®¡ä¸å¼€å‘ã€‹è¯»åæ€»ç»“","url":"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æ­¤ä¹¦ä¸º[æ—¥]æ°´é‡è´µæ˜è‘—ï¼Œä¹‹å‰å·²ç»é€šè¯»äº†ä¸€éï¼Œæ”¶è·ä¸å°‘ï¼Œä¸ºäº†å¤ä¹ ä¸æ€»ç»“ï¼Œè¿™é‡Œä¾¿æ•´ç†ä¸€ä»½ç¬”è®°ï¼Œä»¥ä¾¿å¿˜è®°çš„æ—¶å€™æŸ¥æ‰¾ã€‚</p>\n<a id=\"more\"></a>\n<h3 id=\"ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯Web-API\"><a href=\"#ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯Web-API\" class=\"headerlink\" title=\"ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯Web API\"></a>ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯Web API</h3><h4 id=\"RESTä¸Web-API\"><a href=\"#RESTä¸Web-API\" class=\"headerlink\" title=\"RESTä¸Web API\"></a>RESTä¸Web API</h4><p>RESTä¸€è¯ç»å¸¸ä»¥â€REST APIâ€çš„å½¢å¼å‡ºç°ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œäººä»¬è®¤ä¸ºå®ƒæ˜¯æŒ‡â€èƒ½å¤Ÿé€šè¿‡HTTPåè®®è¿›è¡Œè®¿é—®ï¼Œå¾—åˆ°XMLæˆ–JSONæ ¼å¼çš„è¿”å›æ•°æ®çš„APIâ€ã€‚è€ŒRESTä¸€è¯ä¸€èˆ¬æ˜¯æœ‰ä¸¤ç§æ„æ€ï¼š</p>\n<ul>\n<li>ç¬¦åˆRESTæ¶æ„é£æ ¼çš„WebæœåŠ¡ç³»ç»Ÿã€‚</li>\n<li>ç¬¦åˆRPCé£æ ¼çš„XML(or JSON)+HTTPæ¥å£çš„ç³»ç»Ÿï¼ˆä¸é€‚ç”¨SOAPï¼‰ã€‚</li>\n</ul>\n<p>ä¹¦ä¸­çš„APIè®¾è®¡æ€æƒ³ä¾§é‡äºç¬¬2æ¡ï¼Œæ—¨åœ¨APIæ›´åŠ äº²åˆ‡æ˜“æ‡‚ï¼Œæ¯”å¦‚æœç´¢æ“ä½œæ—¶ï¼Œæ²¡æœ‰åœ¨URIä¸­å¼ºåˆ¶ä½¿ç”¨åè¯ï¼Œè€Œæ˜¯ä½¿ç”¨searchï¼›åœ¨URIä¸­æ·»åŠ ç‰ˆæœ¬å·ï¼Œè€Œä¸æ˜¯Headerä¸­ã€‚</p>\n<h4 id=\"LSUD-vs-SSKD\"><a href=\"#LSUD-vs-SSKD\" class=\"headerlink\" title=\"LSUD vs SSKD\"></a>LSUD vs SSKD</h4><ul>\n<li>LSUD(Large Set of Unknown Developers)</li>\n<li>SSKD(Small Set of Known Developers)ï¼Œæœ‰æ—¶ä½¿ç”¨RESTè¿™ç§åŸºäºèµ„æºçš„æ€ç»´æ–¹å¼ä¸èƒ½å®Œå…¨æ»¡è¶³éœ€æ±‚ï¼Œè¿˜éœ€è¦å¼•å…¥<strong>ç­–ç•¥ç¼–æ’å±‚</strong>è¿™æ ·çš„æ€ç»´æ–¹å¼ã€‚</li>\n</ul>\n<h3 id=\"ç¬¬äºŒç« ï¼šç«¯ç‚¹çš„è®¾è®¡ä¸è¯·æ±‚çš„å½¢å¼\"><a href=\"#ç¬¬äºŒç« ï¼šç«¯ç‚¹çš„è®¾è®¡ä¸è¯·æ±‚çš„å½¢å¼\" class=\"headerlink\" title=\"ç¬¬äºŒç« ï¼šç«¯ç‚¹çš„è®¾è®¡ä¸è¯·æ±‚çš„å½¢å¼\"></a>ç¬¬äºŒç« ï¼šç«¯ç‚¹çš„è®¾è®¡ä¸è¯·æ±‚çš„å½¢å¼</h3><h4 id=\"ç«¯ç‚¹çš„æ¦‚å¿µï¼š\"><a href=\"#ç«¯ç‚¹çš„æ¦‚å¿µï¼š\" class=\"headerlink\" title=\"ç«¯ç‚¹çš„æ¦‚å¿µï¼š\"></a>ç«¯ç‚¹çš„æ¦‚å¿µï¼š</h4><p>åœ¨Web APIçš„è¯­å¢ƒé‡Œï¼Œç«¯ç‚¹æ˜¯æŒ‡ç”¨äºè®¿é—®çš„APIçš„URIã€‚</p>\n<h4 id=\"ç«¯ç‚¹çš„è®¾è®¡è§„èŒƒï¼š\"><a href=\"#ç«¯ç‚¹çš„è®¾è®¡è§„èŒƒï¼š\" class=\"headerlink\" title=\"ç«¯ç‚¹çš„è®¾è®¡è§„èŒƒï¼š\"></a>ç«¯ç‚¹çš„è®¾è®¡è§„èŒƒï¼š</h4><ul>\n<li><p>çŸ­å°ä¾¿äºè¾“å…¥</p>\n<p><code>http://api.example.com/service/api/search</code>ä¸å¦‚<code>http://api.example.com/search</code>ï¼Œä¸åº”è¯¥å‡ºç°é‡å¤çš„è¯ï¼Œä¹Ÿä¸åº”è¯¥ä½¿ç”¨<code>service</code>è¿™ç§å«ä¹‰è¿‡äºå¹¿æ³›çš„è¯ã€‚</p>\n</li>\n<li><p>äººå¯ä»¥è¯»æ‡‚</p>\n<p>ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œç”šè‡³å°†productsç¼©å†™ä¸ºprodï¼Œå³ä½¿æ˜¯SSKDï¼Œä¹Ÿåº”å°½é‡å‡å°‘ç¼©å†™ã€‚</p>\n<p>åˆé€‚çš„è¯­ä¹‰ï¼Œä½¿ç”¨åˆé€‚çš„å•è¯ï¼Œæ‹¼å†™é”™è¯¯æ˜¯ä¸åº”è¯¥å‡ºç°çš„ã€‚</p>\n</li>\n<li><p>ä¸èƒ½å¤§å°å†™æ··ç”¨</p>\n</li>\n<li><p>ä¿®æ”¹æ–¹ä¾¿</p>\n<p>å¦‚/items/12346ï¼Œæ˜æ˜¾ä¿®æ”¹12346å°±å¯ä»¥æŸ¥çœ‹å…¶å®ƒå•†å“ä¿¡æ¯ã€‚</p>\n</li>\n<li><p>ä¸ä¼šæš´éœ²æœåŠ¡ç«¯çš„æ¶æ„</p>\n<p>æ¯”å¦‚ï¼Œphpæˆ–jspç»“å°¾ã€‚</p>\n</li>\n<li><p>è§„åˆ™ç»Ÿä¸€</p>\n<p>URIé‡‡ç”¨ä¸€è‡´çš„é£æ ¼</p>\n</li>\n</ul>\n<h4 id=\"HTTPæ–¹æ³•å’Œç«¯ç‚¹\"><a href=\"#HTTPæ–¹æ³•å’Œç«¯ç‚¹\" class=\"headerlink\" title=\"HTTPæ–¹æ³•å’Œç«¯ç‚¹\"></a>HTTPæ–¹æ³•å’Œç«¯ç‚¹</h4><p>URIå’ŒHTTPçš„å…³ç³»å¯ä»¥è®¤ä¸ºæ˜¯æ“ä½œå¯¹è±¡å’Œæ“ä½œæ–¹æ³•çš„å…³ç³»ã€‚å¦‚æœæŠŠURIå½“åšAPI(HTTP)çš„â€œæ“ä½œå¯¹è±¡=èµ„æºâ€ï¼ŒHTTPæ–¹æ³•åˆ™è¡¨ç¤ºâ€œè¿›è¡Œæ€æ ·çš„æ“ä½œâ€ã€‚</p>\n<ul>\n<li><p>GET</p>\n<p>è¡¨ç¤ºè·å–ä¿¡æ¯ï¼Œæœ€ä¸ºå¸¸ç”¨ã€‚ä¸€èˆ¬ä¸ä¼šä¿®æ”¹å·²æœ‰èµ„æºï¼ˆå·²è¯»/æœªè¯»ï¼Œæœ€åè®¿é—®æ—¥æœŸç­‰å±æ€§å±äºä¾‹å¤–ï¼‰ã€‚</p>\n</li>\n<li><p>POST</p>\n<p>ä¸€èˆ¬è®¤ä¸ºPOSTæ–¹æ³•ç”¨äºæ›´æ–°ä¿¡æ¯ï¼Œå…¶å®è¿™æ ·çš„ç†è§£å­˜åœ¨ä¸€äº›åå·®ã€‚POSTæ–¹æ³•çš„åˆè¡·æ˜¯ç”¨äºå‘æœåŠ¡å™¨æ³¨å†Œæ–°å»ºçš„èµ„æºã€‚ä¿¡æ¯çš„æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œåº”ä½¿ç”¨å…¶ä»–HTTPæ–¹æ³•ã€‚ç”±äºHTML4.0çš„è¡¨å•ä¸­methodå±æ€§åªæ”¯æŒGETå’ŒPOSTä¸¤ç§æ–¹æ³•ï¼Œå› æ­¤ä½¿ç”¨è¡¨å•ä»æµè§ˆå™¨æäº¤ä¿¡æ¯æ—¶ï¼Œä»¥åŠæ›´æ–°åˆ é™¤ï¼Œéƒ½ä½¿ç”¨POSTæ–¹æ³•äº†ã€‚è™½ç„¶åœ¨HTML5çš„è‰æ¡ˆä¸­åŠ å…¥äº†è¡¨å•å…è®¸ä½¿ç”¨PUTä»¥åŠDELETEæ–¹æ³•çš„è§„èŒƒï¼Œä½†æœ€ç»ˆè¿˜æ˜¯è®²è¯¥å†…å®¹åˆ é™¤äº†ã€‚ç”±äºWeb APIåŸºæœ¬ä¸æ¶‰åŠè¡¨å•é€šè¿‡æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨PUTå’ŒDELETEæ›´å®¹æ˜“ç†è§£ã€‚</p>\n</li>\n<li><p>PUT</p>\n<p>å’ŒPOSTæ–¹æ³•ç›¸åŒï¼Œéƒ½å¯ç”¨ä¸å¯¹æœåŠ¡ç«¯çš„ä¿¡æ¯è¿›è¡Œæ›´æ–°ï¼Œä½†äºŒè€…URIçš„æŒ‡å®šæ–¹å¼æœ‰æ‰€ä¸åŒã€‚POSTæ–¹æ³•å‘é€çš„æ•°æ®â€œé™„å±â€äºæŒ‡å®šçš„URIï¼Œé™„å±è¡¨ç¤ºä»å±URIä¹‹ä¸‹ã€‚ä»¥æ–‡ä»¶ç³»ç»Ÿä¸ºä¾‹ï¼ŒæŠŠæ–‡ä»¶æ”¾å…¥ç›®å½•åï¼Œæ–‡ä»¶å°±æˆäº†ç›®å½•çš„é™„å±éƒ¨åˆ†ã€‚è™½ç„¶HTTPåè®®å®šä¹‰äº†å½“æ‰€æŒ‡å®šçš„èµ„æºä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥é€šè¿‡PUTæ“ä½œå‘é€æ•°æ®ï¼Œç”Ÿæˆå¿ƒå¾—èµ„æºï¼Œä½†Web APIä¸€èˆ¬åªç”¨PUTæ–¹æ³•æ¥æ›´æ–°æ•°æ®ï¼Œè€Œä¸€èˆ¬ä¼šä½¿ç”¨POSTæ¥ç”Ÿæˆæ–°çš„èµ„æºã€‚<strong>PUTä¼šç”¨å‘é€çš„æ•°æ®å®Œå…¨æ›¿æ¢åŸæœ‰çš„èµ„æºä¿¡æ¯ï¼Œå¦‚æœåªæ˜¯æ›´æ–°èµ„æºçš„æŸéƒ¨åˆ†æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨PATCHæ–¹æ³•æ¥å®ç°ã€‚</strong></p>\n</li>\n<li><p>DELETE</p>\n<p>åˆ é™¤èµ„æºã€‚</p>\n</li>\n<li><p>PATCH</p>\n<p>PATCHå’ŒPUTç›¸åŒï¼Œç”¨äºæ›´æ–°æŒ‡å®šçš„èµ„æºã€‚åœ¨æ•°æ®é‡è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œä¼šæœ‰æ˜¾è‘—çš„æ•ˆæœã€‚</p>\n</li>\n</ul>\n<h4 id=\"X-HTTP-Method-Override\"><a href=\"#X-HTTP-Method-Override\" class=\"headerlink\" title=\"X-HTTP-Method-Override\"></a>X-HTTP-Method-Override</h4><p>ç”±äºHTMLçš„è¡¨å•è§„èŒƒåªæ”¯æŒGETå’ŒPOSTï¼Œæˆ–æ˜¯å…¶å®ƒå¼€å‘å®¢æˆ·ç«¯ä¸­åªèƒ½æœ‰GETå’ŒPOSTã€‚æ‰€ä»¥è¦åˆ©ç”¨POSTæ–¹æ³•å°†çœŸæ­£æƒ³è¦ä½¿ç”¨çš„HTTPæ–¹æ³•ä»¥å…ƒæ•°æ®ä¿¡æ¯çš„å½¢å¼å‘é€ç»™æœåŠ¡å™¨ã€‚æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<ul>\n<li><p>é€šè¿‡åä¸º<code>X-HTTP-Method-Override</code>çš„Headeræ¥å®ç°ï¼Œæ¨èä½¿ç”¨ã€‚</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">POST /v1/users/123 HTTP/1.1</span><br><span class=\"line\">Host: api.example.com</span><br><span class=\"line\">X-HTTP-Method-Override: DELETE</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é€šè¿‡ä¼ é€’è¡¨å•å‚æ•°<code>_method</code>æ¥å®ç°ã€‚</p>\n<p><code>user=testuser&amp;_method=PUT</code>ä½¿ç”¨<code>application/x-www-form-urlencoded</code>Media Typeã€‚</p>\n</li>\n</ul>\n<p>è¿™é‡Œçœ‹äº†ä¸€ä¸‹ï¼ŒDjangoæ²¡æœ‰æ”¯æŒè¿™ç§åŠŸèƒ½ï¼Œéœ€è¦è‡ªå·±å†™ä¸­é—´ä»¶æˆ–è€…ä¸‰æ–¹åº“æ¥å®ç°ã€‚<a href=\"https://pypi.org/project/django-method-override/\" target=\"_blank\" rel=\"noopener\">django-method-override</a>ã€‚è€ŒDRFè¿™é‡Œçš„æ–‡æ¡£è¯´ï¼Œåœ¨3.3.0ç‰ˆæœ¬ä¹‹å‰æ˜¯æ”¯æŒçš„ï¼Œåæ¥å°†å…¶ä»æ ¸å¿ƒåŠŸèƒ½ä¸­ç§»é™¤ã€‚<a href=\"https://www.django-rest-framework.org/topics/browser-enhancements/#http-header-based-method-overriding\" target=\"_blank\" rel=\"noopener\">DRFæ–‡æ¡£</a>ã€‚</p>\n<h4 id=\"åŠ¨æ€ç›¸å…³çš„ç«¯ç‚¹ä¸¾ä¾‹\"><a href=\"#åŠ¨æ€ç›¸å…³çš„ç«¯ç‚¹ä¸¾ä¾‹\" class=\"headerlink\" title=\"åŠ¨æ€ç›¸å…³çš„ç«¯ç‚¹ä¸¾ä¾‹\"></a>åŠ¨æ€ç›¸å…³çš„ç«¯ç‚¹ä¸¾ä¾‹</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">ç›®çš„</th>\n<th>ç«¯ç‚¹</th>\n<th style=\"text-align:center\">æ–¹æ³•</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">ç¼–è¾‘åŠ¨æ€ä¿¡æ¯</td>\n<td><a href=\"http://api.example.com/v1/updates/:id\" target=\"_blank\" rel=\"noopener\">http://api.example.com/v1/updates/:id</a></td>\n<td style=\"text-align:center\">PUT</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">åˆ é™¤åŠ¨æ€ä¿¡æ¯</td>\n<td><a href=\"http://api.example.com/v1/updates/:id\" target=\"_blank\" rel=\"noopener\">http://api.example.com/v1/updates/:id</a></td>\n<td style=\"text-align:center\">DELETE</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">å‘è¡¨åŠ¨æ€ä¿¡æ¯</td>\n<td><a href=\"http://api.example.com/v1/updates\" target=\"_blank\" rel=\"noopener\">http://api.example.com/v1/updates</a></td>\n<td style=\"text-align:center\">POST</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">è·å–ç‰¹å®šç”¨æˆ·çš„åŠ¨æ€ä¿¡æ¯</td>\n<td><a href=\"http://api.example.com/v1/users/:id/updates\" target=\"_blank\" rel=\"noopener\">http://api.example.com/v1/users/:id/updates</a></td>\n<td style=\"text-align:center\">GET</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">è·å–å¥½å‹çš„åŠ¨æ€åˆ—è¡¨</td>\n<td><a href=\"http://api.example.com/v1/users/:id/friends/updates\" target=\"_blank\" rel=\"noopener\">http://api.example.com/v1/users/:id/friends/updates</a></td>\n<td style=\"text-align:center\">GET</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"è®¿é—®èµ„æºçš„ç«¯ç‚¹è®¾è®¡æ³¨æ„äº‹é¡¹\"><a href=\"#è®¿é—®èµ„æºçš„ç«¯ç‚¹è®¾è®¡æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"è®¿é—®èµ„æºçš„ç«¯ç‚¹è®¾è®¡æ³¨æ„äº‹é¡¹\"></a>è®¿é—®èµ„æºçš„ç«¯ç‚¹è®¾è®¡æ³¨æ„äº‹é¡¹</h4><ul>\n<li><p><strong>ä½¿ç”¨åè¯çš„å¤æ•°å½¢å¼</strong></p>\n<p>æåŠ›é¿å…ä½¿ç”¨åŠ¨è¯ï¼Œå› ä¸ºHTTPåè®®åŸæœ¬å°±æ˜¯ç”¨URIæ¥è¡¨ç¤ºèµ„æºï¼Œç”¨HTTPæ–¹æ³•æ¥è¡¨ç¤ºå¯¹èµ„æºæ‰€è¿›è¡Œçš„æ“ä½œã€‚</p>\n</li>\n<li><p>æ³¨æ„æ‰€ç”¨çš„å•è¯</p>\n<p>å¤šçœ‹å¤§å…¬å¸çš„å¼€æ”¾APIèŒƒä¾‹ï¼ŒæŸ¥é˜…<a href=\"https://www.programmableweb.com/\" target=\"_blank\" rel=\"noopener\">ProgrammableWeb</a>ï¼Œæ˜ç™½é‚£äº›å…·æœ‰ç›¸è¿‘æ„ä¹‰çš„å•è¯å“ªä¸ªæ›´åŠ åˆé€‚ã€‚</p>\n</li>\n<li><p>ä¸é€‚ç”¨ç©ºæ ¼åŠéœ€è¦ç¼–ç çš„å­—ç¬¦</p>\n</li>\n<li><p>ä½¿ç”¨è¿æ¥ç¬¦<code>-</code>æ¥è¿æ¥å¤šä¸ªå•è¯</p>\n<p>ç›¸å¯¹äºé©¼å³°å‘å’Œè›‡å½¢æ³•ï¼Œè¿™ç§è„ŠæŸ±æ³•å¯¹äºSEOæ›´åŠ å‹å¥½ã€‚ä¸è¿‡åº”å°½é‡é¿å…ä½¿ç”¨å¤šä¸ªå•è¯ï¼Œè€Œæ˜¯ä½¿ç”¨è·¯å¾„åˆ’åˆ†ï¼Œå¦‚<code>popular_users</code>ä¸å¦‚<code>users/popular</code>ï¼Œæˆ–è€…å°†ä¸€éƒ¨åˆ†å†…å®¹ä½œä¸ºæŸ¥è¯¢å‚æ•°ï¼Œè®©URIå˜å¾—æ›´çŸ­ã€‚</p>\n</li>\n</ul>\n<h4 id=\"ç›¸å¯¹ä½ç½®è·å–æ•°æ®å¤§åˆ†é¡µæ—¶æ•ˆç‡ä½ä¸‹\"><a href=\"#ç›¸å¯¹ä½ç½®è·å–æ•°æ®å¤§åˆ†é¡µæ—¶æ•ˆç‡ä½ä¸‹\" class=\"headerlink\" title=\"ç›¸å¯¹ä½ç½®è·å–æ•°æ®å¤§åˆ†é¡µæ—¶æ•ˆç‡ä½ä¸‹\"></a>ç›¸å¯¹ä½ç½®è·å–æ•°æ®å¤§åˆ†é¡µæ—¶æ•ˆç‡ä½ä¸‹</h4><p>ä½¿ç”¨ç»å¯¹ä½ç½®ï¼Œäº‹å…ˆè®°å½•ä¸‹å½“å‰å·²è·å¾—çš„æ•°æ®é‡Œæœ€åä¸€æ¡æ•°æ®çš„IDã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œç„¶åå†æŒ‡å®šâ€œè¯¥IDä¹‹å‰çš„æ‰€æœ‰æ•°æ®â€æˆ–â€œè¯¥æ—¶åˆ»ä¹‹å‰çš„æ‰€æœ‰æ•°æ®â€ã€‚</p>\n<h4 id=\"æŸ¥è¯¢å‚æ•°è¿˜æ˜¯ä½¿ç”¨è·¯å¾„ï¼Ÿ\"><a href=\"#æŸ¥è¯¢å‚æ•°è¿˜æ˜¯ä½¿ç”¨è·¯å¾„ï¼Ÿ\" class=\"headerlink\" title=\"æŸ¥è¯¢å‚æ•°è¿˜æ˜¯ä½¿ç”¨è·¯å¾„ï¼Ÿ\"></a>æŸ¥è¯¢å‚æ•°è¿˜æ˜¯ä½¿ç”¨è·¯å¾„ï¼Ÿ</h4><ul>\n<li>æ˜¯å¦æ˜¯è¡¨ç¤ºå”¯ä¸€èµ„æºæ‰€éœ€çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·IDã€‚</li>\n<li>æ˜¯å¦å¯ä»¥çœç•¥ï¼Œå¦‚pageç­‰åˆ†é¡µå‚æ•°ï¼Œä¸€èˆ¬éƒ½ä¼šè®¾ç½®é»˜è®¤å€¼ã€‚</li>\n</ul>\n<h4 id=\"ç™»å½•ä¸OAuth2-0\"><a href=\"#ç™»å½•ä¸OAuth2-0\" class=\"headerlink\" title=\"ç™»å½•ä¸OAuth2.0\"></a>ç™»å½•ä¸OAuth2.0</h4><h5 id=\"ä»€ä¹ˆæ˜¯OAuth\"><a href=\"#ä»€ä¹ˆæ˜¯OAuth\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯OAuth?\"></a>ä»€ä¹ˆæ˜¯OAuth?</h5><p>å‡è®¾å¸¦æœ‰ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½çš„åœ¨çº¿æœåŠ¡Aï¼ˆFacebookï¼‰å¯¹å¤–å…¬å¼€äº†APIï¼Œåœ¨çº¿æœåŠ¡Bä¾¿å¯ä»¥ä½¿ç”¨è¿™äº›åœ¨çº¿æœåŠ¡Açš„APIæä¾›çš„å„ç§åŠŸèƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æŸä¸ªå·²åœ¨Facebooké‡Œæ³¨å†Œçš„ç”¨æˆ·éœ€è¦ä½¿ç”¨ä½ çš„åœ¨çº¿æœåŠ¡æ—¶ï¼Œä½ çš„åœ¨çº¿æœåŠ¡å°±å›å¸Œæœ›è®¿é—®Facebookæ¥ä½¿ç”¨è¯¥ç”¨æˆ·åœ¨Facebookä¸­æ³¨å†Œçš„ä¿¡æ¯ã€‚è¿™æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦å…è®¸ä½ çš„åœ¨çº¿æœåŠ¡ä½¿ç”¨è¯¥ç”¨æˆ·åœ¨Facebooké‡Œæ³¨å†Œçš„ä¿¡æ¯çš„æœºåˆ¶å°±æ˜¯OAuthã€‚</p>\n<img src=\"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/OAuth_base.jpeg\" class>\n<h5 id=\"OAuth2-0é‡Œçš„4ä¸­ç±»å‹çš„äº¤äº’æ¨¡å¼ç”¨äºè®¿é—®èµ„æºçš„è®¸å¯ï¼Œç§°ä¸ºGrant-Typeã€‚\"><a href=\"#OAuth2-0é‡Œçš„4ä¸­ç±»å‹çš„äº¤äº’æ¨¡å¼ç”¨äºè®¿é—®èµ„æºçš„è®¸å¯ï¼Œç§°ä¸ºGrant-Typeã€‚\" class=\"headerlink\" title=\"OAuth2.0é‡Œçš„4ä¸­ç±»å‹çš„äº¤äº’æ¨¡å¼ç”¨äºè®¿é—®èµ„æºçš„è®¸å¯ï¼Œç§°ä¸ºGrant Typeã€‚\"></a>OAuth2.0é‡Œçš„4ä¸­ç±»å‹çš„äº¤äº’æ¨¡å¼ç”¨äºè®¿é—®èµ„æºçš„è®¸å¯ï¼Œç§°ä¸ºGrant Typeã€‚</h5><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Grant Type</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Authorization Code</td>\n<td>é€‚ç”¨äºåœ¨æœåŠ¡ç«¯è¿›è¡Œå¤§é‡å¤„ç†çš„Webåº”ç”¨</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Implicit</td>\n<td>é€‚ç”¨äºåªèƒ½æ‰‹æœºåº”ç”¨åŠä½¿ç”¨JavaScriptå®¢æˆ·ç«¯è¿›è¡Œå¤§é‡å¤„ç†çš„åº”ç”¨</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Resource Owner Password Credentials</td>\n<td>é€‚ç”¨äºä¸é€‚ç”¨æœåŠ¡ç«¯ï¼ˆç½‘ç«™Bï¼‰çš„åº”ç”¨</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Client Credentials</td>\n<td>é€‚ç”¨äºä¸ä»¥ç”¨æˆ·ä¸ºå•ä½æ¥è¿›è¡Œè®¤è¯çš„åº”ç”¨</td>\n</tr>\n</tbody>\n</table>\n<p>Resource çš„æ¨¡å¼èƒ½å¤Ÿåº”ç”¨äºå…¬å¸å†…éƒ¨æ‰€å¼€å‘çš„å®¢æˆ·ç«¯åº”ç”¨ä¸­ã€‚</p>\n<h5 id=\"SSKDåº”ç”¨å°½é‡å‡å°‘APIè°ƒç”¨æ¬¡æ•°\"><a href=\"#SSKDåº”ç”¨å°½é‡å‡å°‘APIè°ƒç”¨æ¬¡æ•°\" class=\"headerlink\" title=\"SSKDåº”ç”¨å°½é‡å‡å°‘APIè°ƒç”¨æ¬¡æ•°\"></a>SSKDåº”ç”¨å°½é‡å‡å°‘APIè°ƒç”¨æ¬¡æ•°</h5><p>å¦‚é¦–é¡µåŒ…å«â€œäººæ°”å•†å“â€ï¼Œâ€œæ¨èå•†å“â€ï¼Œâ€œç”¨æˆ·ä¿¡æ¯â€ç­‰ä¿¡æ¯ï¼Œè¿™æ ·éœ€è¦è®¿é—®ä¸åŒçš„APIï¼Œæ•ˆç‡å¾ˆä½ï¼Œå› æ­¤å¯ä»¥æŠŠåº”ç”¨ä¸»é¡µæ‰€éœ€è¦çš„æ˜¾ç¤ºä¿¡æ¯å½’é›†åˆ°ä¸€ä¸ªAPIä¸­ï¼Œæé«˜äº†å®¢æˆ·ç«¯çš„ä¾¿æ·æ€§ã€‚ä¸ºäº†å®Œæˆä¸€æ¬¡ä»»åŠ¡éœ€è¦å¤šæ¬¡è®¿é—®APIï¼Œè¿™æ ·çš„APIè®¾è®¡å«â€œChatty APIâ€ï¼Œä¸ä½†ä¼šåŠ å¤§ç½‘ç»œæµé‡çš„æ¶ˆè€—ï¼Œè¿˜ä¼šå¢åŠ å®¢æˆ·ç«¯çš„å¤„ç†å·¥åºã€‚</p>\n<h5 id=\"HETEOASå’ŒREST-LEVEL3-API\"><a href=\"#HETEOASå’ŒREST-LEVEL3-API\" class=\"headerlink\" title=\"HETEOASå’ŒREST LEVEL3 API\"></a>HETEOASå’ŒREST LEVEL3 API</h5><p>ç­‰çº§åˆ¶åº¦</p>\n<ul>\n<li>LEVEL0ï¼šä½¿ç”¨HTTP</li>\n<li>LEVEL1ï¼šå¼•å…¥èµ„æºæ¦‚å¿µ</li>\n<li>LEVEL2ï¼šå¼•å…¥HTTPåŠ¨è¯</li>\n<li>LEVEL3ï¼šå¼•å…¥HATEOASæ¦‚å¿µ</li>\n</ul>\n<p>HETEOAS: (Hypermedia As The Engine Of Application State)ï¼Œè¶…åª’ä½“å³åº”ç”¨çŠ¶æ€å¼•æ“ã€‚æ„æ€å°±æ˜¯åœ¨APIè¿”å›çš„æ•°æ®ä¸­åŒ…å«ä¸‹ä¸€æ­¥è¦æ‰§è¡Œçš„è¡Œä¸ºã€è¦è·å–çš„æ•°æ®ç­‰URIçš„é“¾æ¥ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯åªè¦çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œå°±èƒ½çŸ¥é“æ¥ä¸‹æ¥éœ€è¦è®¿é—®ä»€ä¹ˆç«¯ç‚¹ï¼Œæ¯”å¦‚DRFä¸­çš„ä¸‹ä¸€é¡µé“¾æ¥ã€‚</p>\n<p>ä¼˜ç‚¹ï¼šä½¿URIå¾—æ›´æ”¹å˜å¾—å®¹æ˜“ã€‚</p>\n<p>é¢å‘SSKDsçš„APIï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚é‡‡ç”¨ã€‚é¢å‘LSUDsçš„APIï¼Œè¿™ä¸ªæ¦‚å¿µè¿˜æ²¡æœ‰å¾—åˆ°å¹¿æ³›çš„æ™®åŠã€‚</p>\n<h3 id=\"ç¬¬ä¸‰ç« ï¼šå“åº”æ•°æ®çš„è®¾è®¡\"><a href=\"#ç¬¬ä¸‰ç« ï¼šå“åº”æ•°æ®çš„è®¾è®¡\" class=\"headerlink\" title=\"ç¬¬ä¸‰ç« ï¼šå“åº”æ•°æ®çš„è®¾è®¡\"></a>ç¬¬ä¸‰ç« ï¼šå“åº”æ•°æ®çš„è®¾è®¡</h3><h4 id=\"JSONP\"><a href=\"#JSONP\" class=\"headerlink\" title=\"JSONP\"></a>JSONP</h4><h5 id=\"æ¦‚å¿µ\"><a href=\"#æ¦‚å¿µ\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h5><p>JSONPæ˜¯ä¸€ç§å°†JSONä¼ é€’ç»™æµè§ˆå™¨çš„æ–¹å¼ï¼Œæ˜¯JSON with Paddingçš„ç¼©å†™ã€‚ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š</p>\n<p><code>callback({&quot;id&quot;: 123, &quot;name&quot;: &quot;Saeed&quot;})</code></p>\n<p>ç•™å‘â€¦</p>\n<h4 id=\"å°è£…æ˜¯å¦å¿…è¦\"><a href=\"#å°è£…æ˜¯å¦å¿…è¦\" class=\"headerlink\" title=\"å°è£…æ˜¯å¦å¿…è¦\"></a>å°è£…æ˜¯å¦å¿…è¦</h4><p>æ¯”å¦‚è¿”å›çš„æ ¼å¼ä¸ºï¼š</p>\n<figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"meta\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"code\"</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"message\"</span>: 'OK',</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"data\"</span>: &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœç»“æ„å½¢å¼ç»Ÿä¸€ï¼Œåœ¨å®¢æˆ·ç«¯å°±æ›´å®¹æ˜“æŠ½è±¡åŒ–å¤„ç†ã€‚å®é™…ä¸Šç”±äºå°è£…çš„åšæ³•ä¼šæ˜¾å¾—å†—é•¿ï¼Œå¹¶ä¸å€¼å¾—å®ç°ã€‚å› ä¸ºWeb APIåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨HTTPåè®®ï¼ŒHTTPå·²ç»å¸®ä½ å®Œæˆäº†å°è£…çš„å·¥ä½œã€‚HTTPåè®®é‡Œå¼•å…¥é¦–éƒ¨çš„æ¦‚å¿µï¼Œåœ¨é¦–éƒ¨ä¸­å¯ä»¥æ”¾å…¥å„ç§æ•°æ®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡çŠ¶æ€ç æ¥ç¡®è®¤æ— è¯¯åœ°åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æŸç§é”™è¯¯ç­‰ï¼Œå¹¶å°†æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯æ”¾å…¥HTTPé¦–éƒ¨è¿”å›ã€‚è€Œå¦‚æœå¯¹APIæ•°æ®è¿›è¡Œå°è£…ï¼Œå‘ç”Ÿé”™è¯¯æ—¶ï¼Œç”¨æˆ·æ‰€è·å¾—çš„çŠ¶æ€ä¾ç„¶æ˜¯200ï¼Œ<del>è¿™å°±æ— æ³•é€šè¿‡çŠ¶æ€ç æ¥åˆ¤æ–­å¤„ç†æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚è¿™æ ·çš„åšæ³•æ²¡æœ‰æ­£ç¡®åœ°è¿ç”¨å¥½HTTPåè®®çš„æœºåˆ¶ã€‚</del>è¿™å¯èƒ½ä¼šå¯¼è‡´å®¢æˆ·ç«¯çš„å¤„ç†å‘ç”Ÿæ··ä¹±ï¼Œè¿™ç§æƒ…å†µæ˜¯æ— è®ºå¦‚ä½•éƒ½è¦æ˜ä»¤ç¦æ­¢çš„ã€‚è€Œä¸”é€šç”¨çš„HTTPå®¢æˆ·ç«¯ç¨‹åºå¾€å¾€ä¼šé¦–å…ˆæ ¹æ®çŠ¶æ€ç æ¥åˆ¤æ–­è¯·æ±‚çš„å¤„ç†æ˜¯å¦æˆåŠŸï¼Œå¦‚æœå‡ºé”™æ—¶è¿”å›200ï¼Œå®¢æˆ·ç«¯å°±æ— æ³•åˆ©ç”¨é€šç”¨çš„é”™è¯¯åˆ†ç±»ï¼Œå¢åŠ å¤„ç†è´Ÿæ‹…ã€‚</p>\n<h4 id=\"æ‰å¹³åŒ–è¿˜æ˜¯å±‚çº§ï¼Ÿ\"><a href=\"#æ‰å¹³åŒ–è¿˜æ˜¯å±‚çº§ï¼Ÿ\" class=\"headerlink\" title=\"æ‰å¹³åŒ–è¿˜æ˜¯å±‚çº§ï¼Ÿ\"></a>æ‰å¹³åŒ–è¿˜æ˜¯å±‚çº§ï¼Ÿ</h4><p>Googleçš„JSON Style Guideä½¿ç”¨äº†æ¨¡æ£±ä¸¤å¯çš„é™ˆè¿°ï¼šâ€œè™½ç„¶è¦å°½å¯èƒ½ä½¿ç”¨æ‰å¹³åŒ–æ–¹å¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨å±‚çº§å½¢å¼åè€Œæ›´å®¹æ˜“ç†è§£ã€‚â€</p>\n<ul>\n<li><p>æƒ…æ™¯ä¸€ï¼š</p>\n<ul>\n<li><p>å±‚çº§</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"number\">3342124</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"message\"</span>: <span class=\"string\">\"Hi!\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"sender\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"id\"</span>: <span class=\"number\">3456</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Tom\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"receiver\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"id\"</span>: <span class=\"number\">12877</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Bob\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ‰å¹³åŒ–</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"number\">3342124</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"message\"</span>: <span class=\"string\">\"Hi!\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"sender_id\"</span>: <span class=\"number\">3456</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"sender_name\"</span>: <span class=\"string\">\"Tom\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"receiver_id\"</span>: <span class=\"number\">12877</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"receiver_name\"</span>: <span class=\"string\">\"Bob\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å…¶ä¸­â€senderâ€å’Œâ€receiverâ€æè¿°äº†ç›¸åŒçš„ç”¨æˆ·è¿™ä¸€æ•°æ®ç»“æ„ï¼Œå› æ­¤å±‚çº§å½¢å¼è¾ƒå¥½ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¯ä»¥å°†å„ä¸ªæ•°æ®ä½œä¸ºç”¨æˆ·è¿™ä¸€ç›¸åŒçš„æ•°æ®æ¥å¤„ç†ã€‚</p>\n</li>\n<li><p>æƒ…æ™¯äºŒï¼š</p>\n<ul>\n<li><p>å±‚çº§</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"number\">2345</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Tom\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"profile\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"birthday\"</span>: <span class=\"number\">3322</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"gender\"</span>: <span class=\"string\">\"male\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ‰å¹³åŒ–</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"number\">2345</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Tom\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"birthday\"</span>: <span class=\"number\">3322</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"gender\"</span>: <span class=\"string\">\"male\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>è¿™ç§æƒ…å†µï¼Œå±‚çº§å¯¼è‡´JSONæ•°æ®å°ºå¯¸å˜å¤§ï¼Œè€Œä¸”ä¸¤è€…çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥åº”è¯¥æ‰å¹³åŒ–ã€‚</p>\n</li>\n</ul>\n<h4 id=\"åºåˆ—ä¸æ ¼å¼\"><a href=\"#åºåˆ—ä¸æ ¼å¼\" class=\"headerlink\" title=\"åºåˆ—ä¸æ ¼å¼\"></a>åºåˆ—ä¸æ ¼å¼</h4><p>æ¯”å¦‚ä¸€ä¸ªå¥½å‹åˆ—è¡¨çš„URI <code>/friends</code></p>\n<ul>\n<li><p>åºåˆ—åŸå°ä¸åŠ¨è¿”å›</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"id\"</span>: <span class=\"number\">234</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Tom\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"id\"</span>: <span class=\"number\">235</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Bob\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ç”¨å¯¹è±¡è¿›è¡Œå°è£…</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"friends\"</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"id\"</span>: <span class=\"number\">234</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Tom\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"id\"</span>: <span class=\"number\">235</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Bob\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>çœ‹ä¸Šå»ç¬¬äºŒç§æ–¹å¼æ˜¾å¾—æœ‰äº›å†—ä½™ï¼Œå› ä¸ºURIä¸­å·²ç»ä½¿ç”¨äº†â€friendsâ€æ¥è¡¨ç¤ºå¥½å‹ã€‚è€Œä¸”åˆæ˜¾å¾—å†—é•¿ã€‚ä½†æ˜¯è¿™æ ·å†™æœ‰ä¸‰ä¸ªä¼˜ç‚¹ï¼š</p>\n<ul>\n<li><p>æ›´å®¹æ˜“ç†è§£å“åº”æ•°æ®è¡¨ç¤ºä»€ä¹ˆ</p>\n</li>\n<li><p><strong>å“åº”æ•°æ®é€šè¿‡å¯¹è±¡å°è£…å®ç°äº†ç»“æ„ç»Ÿä¸€</strong></p>\n<p>é¡¶å±‚æ•°æ®ä¸ä¼šæ ¹æ®APIçš„ä¸åŒè€Œä¸åŒï¼Œå®¢æˆ·ç«¯æ— éœ€é€‚é…åºåˆ—æˆ–æ˜¯å¯¹è±¡ï¼Œå…é™¤éº»çƒ¦ã€‚</p>\n</li>\n<li><p>å¯ä»¥é¿å…å®‰å…¨æ–¹é¢çš„é£é™©</p>\n<p>é¡¶å±‚æ•°æ®ä¸­ä½¿ç”¨JSONåºåˆ—ï¼Œå¯èƒ½ä¼šå¯¼è‡´åä¸ºJSONæ³¨å…¥çš„å®‰å…¨éšæ‚£ï¼Œé£é™©å¾ˆå¤§ã€‚</p>\n</li>\n</ul>\n<h4 id=\"è¿”å›æ•°æ®çš„ä¸ªæ•°\"><a href=\"#è¿”å›æ•°æ®çš„ä¸ªæ•°\" class=\"headerlink\" title=\"è¿”å›æ•°æ®çš„ä¸ªæ•°\"></a>è¿”å›æ•°æ®çš„ä¸ªæ•°</h4><h5 id=\"è¿”å›æ•°æ®çš„åç§°\"><a href=\"#è¿”å›æ•°æ®çš„åç§°\" class=\"headerlink\" title=\"è¿”å›æ•°æ®çš„åç§°\"></a>è¿”å›æ•°æ®çš„åç§°</h5><ul>\n<li><p>ä½¿ç”¨å¤šæ•°APIä¸­ä½¿ç”¨çš„è¡¨ç¤ºç›¸åŒå«ä¹‰çš„å•è¯</p>\n</li>\n<li><p>é€šè¿‡å°½å¯èƒ½å°‘çš„å•è¯æ¥è¡¨ç¤º</p>\n<p>æ¯”å¦‚æ³¨å†Œæ—¶é—´<code>registrationDateTime</code>ä¸å¦‚<code>registeredAt</code></p>\n</li>\n<li><p>ä½¿ç”¨å¤šä¸ªå•è¯æ—¶ï¼Œæ•´ä¸ªAPIä¸­è¿æ¥å•è¯çš„æ–¹æ³•è¦ç»Ÿä¸€</p>\n<p>ä¸€èˆ¬ä½¿ç”¨é©¼å³°æ³•</p>\n</li>\n<li><p>å°½å¯èƒ½ä¸ç”¨å¥‡æ€ªçš„ç¼©ç•¥è¯­</p>\n</li>\n<li><p>æ³¨æ„å•å¤æ•°å½¢å¼</p>\n</li>\n</ul>\n<h5 id=\"æ—¥æœŸçš„æ ¼å¼\"><a href=\"#æ—¥æœŸçš„æ ¼å¼\" class=\"headerlink\" title=\"æ—¥æœŸçš„æ ¼å¼\"></a>æ—¥æœŸçš„æ ¼å¼</h5><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">æ ¼å¼å</th>\n<th>ç¤ºä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">RFC 822</td>\n<td>Sun, 06 Nov 1994 08:49:37 GMT</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">RFC 850</td>\n<td>Sunday, 06-Nov-94 08:49:37 GMT</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ANSI Cçš„asctime()æ ¼å¼</td>\n<td>Sun Nov 6 08:49:37 1994</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>RFC 3339</strong></td>\n<td><strong>2015-10-12T11:30:22+09:00</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Unix æ—¶é—´æˆ³ï¼ˆepochï¼‰ç§’</td>\n<td>1396821803</td>\n</tr>\n</tbody>\n</table>\n<p>ä¸€èˆ¬é‡‡ç”¨RFC 3339æ ¼å¼ã€‚å¦‚æœè€ƒè™‘å›½é™…åŒ–äº§å“ï¼Œåˆ™æ¨èä½¿ç”¨â€+00:00â€ã€‚åœ¨RFC 3339ä¸­ä½¿ç”¨UTCæ—¶ï¼Œå¯ä»¥é€šè¿‡â€Zâ€æ¥æ ‡è®°ã€‚<code>2015-11-02T13:00:12+00:00</code> == <code>2015-11-02T13:00:12Z</code>ã€‚å¦‚æœæ˜¯â€-00:00â€ï¼Œåˆ™è¡¨ç¤ºæ—¶åŒºä¸æ˜ã€‚</p>\n<p>å¦‚æœé¢å‘SSKDï¼Œä¹Ÿå¯ä½¿ç”¨Unixæ—¶é—´æˆ³ï¼Œå› ä¸ºå…¶æ˜“äºä¿å­˜å’Œæ¯”è¾ƒï¼Œä¸è¿‡ä¼šè°ƒè¯•ç¨å¾®éº»çƒ¦ã€‚</p>\n<p>æœ‰æ—¶éœ€è¦åœ¨HTTPé¦–éƒ¨æ·»åŠ æ—¶é—´ï¼Œè¿™ä¸ªæ ¼å¼ä¸æ”¯æŒRFC 3339ï¼Œåªæ”¯æŒä¸Šè¡¨ä¸­çš„å‰ä¸‰é¡¹ã€‚</p>\n<h5 id=\"è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯\"><a href=\"#è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯\" class=\"headerlink\" title=\"è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯\"></a>è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯</h5><p>çŠ¶æ€ç å±äºé€šç”¨çš„é”™è¯¯æè¿°ï¼Œåœ¨è¡¨ç¤ºåŒå„ä¸ªAPIçš„å†…å®¹ç›¸å…³çš„é”™è¯¯æ—¶æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚æ‰€ä»¥è¦è¿”å›é¢å¤–çš„é”™è¯¯ä¿¡æ¯ã€‚</p>\n<ul>\n<li><p>ä¸€ç§æ˜¯é€šè¿‡é¦–éƒ¨è¿”å›</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">X-MYNAME-ERROR-CODE: 2013</span><br><span class=\"line\">X-MYNAME-ERROR-MESSAGE: Bad authentication token</span><br><span class=\"line\">X-MYNAME-ERROR-INFO: http:&#x2F;&#x2F;docs.example.com&#x2F;api&#x2F;vi&#x2F;authentication</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å°†å‡ºé”™ä¿¡æ¯æ”¾å…¥æ¶ˆæ¯ä½“</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"error\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"code\"</span>: <span class=\"number\">2013</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"message\"</span>: <span class=\"string\">\"Bad authentication token\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"info\"</span>: <span class=\"string\">\"http://docs.example.com/api/vi/authentication\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>å¯¹äºå®¢æˆ·ç«¯æ¥è¯´ç¬¬äºŒç§æ¶ˆæ¯ä½“çš„æ–¹æ¡ˆæ¯”è¾ƒå®¹æ˜“å¤„ç†ï¼Œæ‰€ä»¥ä¼˜å…ˆé€‰æ‹©åè€…ã€‚é”™è¯¯ç ä¸€èˆ¬4ä½ä¸HTTPçŠ¶æ€ç åŒºåˆ†ï¼Œ1å­—å¤´è¡¨ç¤ºé€šç”¨é”™è¯¯ï¼Œ2å­—å¤´è¡¨ç¤ºç”¨æˆ·é”™è¯¯ç­‰ã€‚æœ‰æ—¶æç¤ºä¿¡æ¯é‡ŒåŒæ—¶åŒ…å«é¢å‘éå¼€å‘äººå‘˜å’Œå¼€å‘äººå‘˜çš„ä¿¡æ¯ã€‚</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"error\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"developerMessage\"</span>: <span class=\"string\">\"é¢å‘å¼€å‘äººå‘˜ä¿¡æ¯\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"userMessage\"</span>: <span class=\"string\">\"é¢å‘ç”¨æˆ·çš„ä¿¡æ¯\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"code\"</span>: <span class=\"number\">2013</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"info\"</span>: <span class=\"string\">\"http://docs.example.com/api/vi/authentication\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æœ‰æ—¶ç¨‹åºè¿”å›500ã€503æˆ–404ç­‰é”™è¯¯æ—¶ï¼Œé»˜è®¤ä¼šè¿”å›HTMLæˆ–è€…æ˜¯<code>ContentType: text/plain</code>æ ¼å¼çš„ä¿¡æ¯ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯å´©æºƒç­‰é—®é¢˜ã€‚æ‰€ä»¥å³ä½¿è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯åº”è¯¥åŠªåŠ›ä¿è¯å‘ç”Ÿé”™è¯¯ã€è´Ÿè½½è¿‡é«˜ã€è®¿é—®çš„ç«¯ç‚¹ä¸å­˜åœ¨ç­‰æƒ…å†µä¸‹ä¹Ÿèƒ½ä»¥åˆé€‚çš„æ ¼å¼è¿”å›æ•°æ®ã€‚</p>\n<p>å¦‚æœæœåŠ¡ç«¯ä¸å¾—å·²è¿›è¡Œç»´æŠ¤è¿”å›503çŠ¶æ€ç çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥è¿”å›<code>Retry-After</code>æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯é‡è¯•çš„æ—¶é—´ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">503 Service Temporarily Unavailable</span><br><span class=\"line\">Retry-After Mon, 2 Dec 2013 03:00:00 GMT</span><br></pre></td></tr></table></figure>\n<h5 id=\"éœ€è¦è¿”å›æ„ä¹‰ä¸æ˜ç¡®çš„ä¿¡æ¯æ—¶\"><a href=\"#éœ€è¦è¿”å›æ„ä¹‰ä¸æ˜ç¡®çš„ä¿¡æ¯æ—¶\" class=\"headerlink\" title=\"éœ€è¦è¿”å›æ„ä¹‰ä¸æ˜ç¡®çš„ä¿¡æ¯æ—¶\"></a>éœ€è¦è¿”å›æ„ä¹‰ä¸æ˜ç¡®çš„ä¿¡æ¯æ—¶</h5><p>æ¯”å¦‚ç”¨æˆ·åœ¨ç™»å½•æ—¶éœ€è¦è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼Œå¦‚æœç™»å½•å¤±è´¥ï¼Œè¿”å›é‚®ç®±ä¸å­˜åœ¨è¿˜æ˜¯è¿”å›é‚®ç®±å­˜åœ¨ä½†å¯†ç é”™è¯¯ï¼Œè¿˜æ˜¯è¿”å›ç”¨æˆ·å·²å†»ç»“ï¼Ÿè™½ç„¶è¯¦ç»†ä¿¡æ¯å¯¹äºç”¨æˆ·è€Œè¨€æ˜¾å¾—éå¸¸å‹å¥½ï¼Œä½†ä»å¦ä¸€æ–¹é¢æ¥è¯´ï¼Œä¹Ÿä¸ºéæ³•ç™»å½•å’Œçˆ¬è™«æä¾›äº†å‹å¥½çš„ä¿¡æ¯ã€‚æ‰€ä»¥æœåŠ¡ç«¯åœ¨è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬åªæä¾›éå¸¸å°‘é‡çš„ä¿¡æ¯ï¼Œè®©æ— æ³•æ­£å¸¸ç™»é™†çš„ç”¨æˆ·é€šè¿‡é‡ç½®å¯†ç ç­‰æ‰‹æ®µé‡æ–°ç™»å½•ã€‚ä¸è¿‡è¿™æ ·ä¸å¤ªæ–¹ä¾¿è°ƒè¯•ï¼Œæ‰€ä»¥ä¹Ÿå¯å°†é€»è¾‘åˆ†å¼€ï¼Œåœ¨å¼€å‘æ—¶è¿”å›è¯¦å°½ä¿¡æ¯ï¼Œç”Ÿäº§ç¯å¢ƒè¿”å›ä¸æ˜ç¡®çš„ä¿¡æ¯ã€‚</p>\n<h3 id=\"ç¬¬å››ç« ï¼šæœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨HTTPåè®®\"><a href=\"#ç¬¬å››ç« ï¼šæœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨HTTPåè®®\" class=\"headerlink\" title=\"ç¬¬å››ç« ï¼šæœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨HTTPåè®®\"></a>ç¬¬å››ç« ï¼šæœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨HTTPåè®®</h3><h4 id=\"ä½¿ç”¨HTTPåè®®è§„èŒƒçš„æ„ä¹‰\"><a href=\"#ä½¿ç”¨HTTPåè®®è§„èŒƒçš„æ„ä¹‰\" class=\"headerlink\" title=\"ä½¿ç”¨HTTPåè®®è§„èŒƒçš„æ„ä¹‰\"></a>ä½¿ç”¨HTTPåè®®è§„èŒƒçš„æ„ä¹‰</h4><p>HTTPåè®®ç­‰å¾ˆå¤šäº’è”ç½‘åè®®éƒ½æ˜¯ç”±åä¸ºRFCçš„è§„èŒƒæ–‡æ¡£æ¥å®šä¹‰çš„ã€‚</p>\n<h4 id=\"æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç \"><a href=\"#æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç \" class=\"headerlink\" title=\"æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç \"></a>æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç </h4><h5 id=\"é¦–ä½æ•°å­—å¤§æ¦‚å«ä¹‰\"><a href=\"#é¦–ä½æ•°å­—å¤§æ¦‚å«ä¹‰\" class=\"headerlink\" title=\"é¦–ä½æ•°å­—å¤§æ¦‚å«ä¹‰\"></a>é¦–ä½æ•°å­—å¤§æ¦‚å«ä¹‰</h5><table>\n<thead>\n<tr>\n<th>çŠ¶æ€ç </th>\n<th>å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1å­—å¤´</td>\n<td>æ¶ˆæ¯</td>\n</tr>\n<tr>\n<td>2å­—å¤´</td>\n<td>æˆåŠŸ</td>\n</tr>\n<tr>\n<td>3å­—å¤´</td>\n<td>é‡å®šå‘</td>\n</tr>\n<tr>\n<td>4å­—å¤´</td>\n<td>å®¢æˆ·ç«¯åŸå› å¼•èµ·çš„é”™è¯¯</td>\n</tr>\n<tr>\n<td>5å­—å¤´</td>\n<td>æœåŠ¡ç«¯åŸå› å¼•èµ·çš„é”™è¯¯</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ä¸»è¦çš„HTTPçŠ¶æ€ç \"><a href=\"#ä¸»è¦çš„HTTPçŠ¶æ€ç \" class=\"headerlink\" title=\"ä¸»è¦çš„HTTPçŠ¶æ€ç \"></a>ä¸»è¦çš„HTTPçŠ¶æ€ç </h5><table>\n<thead>\n<tr>\n<th>çŠ¶æ€ç </th>\n<th>åç§°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>200</td>\n<td>OK</td>\n<td>è¯·æ±‚æˆåŠŸ</td>\n</tr>\n<tr>\n<td>201</td>\n<td>Created</td>\n<td>è¯·æ±‚æˆåŠŸï¼Œæ–°çš„èµ„æºå·²åˆ›å»º</td>\n</tr>\n<tr>\n<td>202</td>\n<td>Accepted</td>\n<td>è¯·æ±‚æˆåŠŸ</td>\n</tr>\n<tr>\n<td>204</td>\n<td>No Content</td>\n<td>æ²¡æœ‰å†…å®¹</td>\n</tr>\n<tr>\n<td>300</td>\n<td>Multiple Choices</td>\n<td>å­˜åœ¨å¤šä¸ªèµ„æº</td>\n</tr>\n<tr>\n<td>301</td>\n<td>Moved Permanently</td>\n<td>èµ„æºè¢«æ°¸ä¹…è½¬ç§»</td>\n</tr>\n<tr>\n<td>302</td>\n<td>Found</td>\n<td>è¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶è½¬ç§»</td>\n</tr>\n<tr>\n<td>303</td>\n<td>See Other</td>\n<td>å¼•ç”¨ä»–å‡º</td>\n</tr>\n<tr>\n<td>304</td>\n<td>Not Modified</td>\n<td>è‡ªä¸Šä¸€æ¬¡è®¿é—®åæ²¡æœ‰å‘ç”Ÿæ›´æ–°</td>\n</tr>\n<tr>\n<td>307</td>\n<td>Temporary Redirect</td>\n<td>è¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶è½¬ç§»</td>\n</tr>\n<tr>\n<td>400</td>\n<td>Bad Request</td>\n<td>è¯·æ±‚ä¸æ­£ç¡®</td>\n</tr>\n<tr>\n<td>401</td>\n<td>Unauthorized</td>\n<td>éœ€è¦è®¤è¯</td>\n</tr>\n<tr>\n<td>403</td>\n<td>Forbidden</td>\n<td>ç¦æ­¢è®¿é—®</td>\n</tr>\n<tr>\n<td>404</td>\n<td>Not Found</td>\n<td>æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šçš„èµ„æº</td>\n</tr>\n<tr>\n<td>405</td>\n<td>Method Not Allowed</td>\n<td>æ— æ³•ä½¿ç”¨æŒ‡å®šçš„æ–¹æ³•</td>\n</tr>\n<tr>\n<td>406</td>\n<td>Not Acceptable</td>\n<td>åŒAcceptç›¸å…³çš„é¦–éƒ¨é‡Œå«æœ‰æ— æ³•å¤„ç†çš„å†…å®¹</td>\n</tr>\n<tr>\n<td>408</td>\n<td>Request Timeout</td>\n<td>è¯·æ±‚åœ¨è§„å®šæ—¶é—´å†…æ²¡æœ‰å¤„ç†ç»“æŸ</td>\n</tr>\n<tr>\n<td>409</td>\n<td>Conflict</td>\n<td>èµ„æºå­˜åœ¨å†²çª</td>\n</tr>\n<tr>\n<td>410</td>\n<td>Gone</td>\n<td>æŒ‡å®šçš„èµ„æºå·²ä¸å­˜åœ¨</td>\n</tr>\n<tr>\n<td>413</td>\n<td>Request Entity Too Large</td>\n<td>è¯·æ±‚æ¶ˆæ¯ä½“å¤ªå¤§</td>\n</tr>\n<tr>\n<td>414</td>\n<td>Request-URI Too Long</td>\n<td>è¯·æ±‚çš„URIå¤ªé•¿</td>\n</tr>\n<tr>\n<td>415</td>\n<td>Unsupported Media Type</td>\n<td>ä¸æ”¯æŒæ‰€æŒ‡å®šçš„åª’ä½“ç±»å‹</td>\n</tr>\n<tr>\n<td>429</td>\n<td>Too Many Requests</td>\n<td>è¯·æ±‚æ¬¡æ•°è¿‡å¤š</td>\n</tr>\n<tr>\n<td>500</td>\n<td>Internal Server Error</td>\n<td>æœåŠ¡å™¨ç«¯å‘ç”Ÿé”™è¯¯</td>\n</tr>\n<tr>\n<td>503</td>\n<td>Service Unavailable</td>\n<td>æœåŠ¡å™¨æš‚æ—¶åœæ­¢è¿è¡Œ</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"çŠ¶æ€ç è¯¦è§£åŠä½¿ç”¨åœºæ™¯ï¼š\"><a href=\"#çŠ¶æ€ç è¯¦è§£åŠä½¿ç”¨åœºæ™¯ï¼š\" class=\"headerlink\" title=\"çŠ¶æ€ç è¯¦è§£åŠä½¿ç”¨åœºæ™¯ï¼š\"></a>çŠ¶æ€ç è¯¦è§£åŠä½¿ç”¨åœºæ™¯ï¼š</h5><ul>\n<li><p>2å­—å¤´  æˆåŠŸ</p>\n<ul>\n<li><p>201 â€œCreatedâ€</p>\n<p>POSTè¯·æ±‚çš„åœºæ™¯ï¼Œè¡¨ç¤ºåˆ›å»ºäº†ä¸€ä¸ªèµ„æºï¼Œä¸Šä¼ äº†å›¾ç‰‡ï¼Œæˆ–æ˜¯æ·»åŠ äº†ç”¨æˆ·ã€‚</p>\n</li>\n<li><p>202 â€œAcceptedâ€</p>\n<p>è¡¨ç¤ºâ€œAcceptedâ€ï¼Œåœ¨å¼‚æ­¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºæœåŠ¡å™¨ç«¯å·²æ¥æ”¶äº†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†å¤„ç†å°šæœªç»“æŸã€‚</p>\n<ul>\n<li>é€šå¸¸çš„ä½¿ç”¨åœºæ™¯æ˜¯æ–‡ä»¶æ ¼å¼è½¬æ¢ã€å¤„ç†è¿œç¨‹é€šçŸ¥è€—æ—¶çš„åœºæ™¯ä¸­ã€‚</li>\n<li>ä»¥LinkedInçš„å‚ä¸ç¾¤ç»„è®¨è®ºçš„APIä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœæˆåŠŸå‚ä¸è®¨è®ºå¹¶å‘è¡¨æ„è§ï¼ŒæœåŠ¡å™¨é€šå¸¸ä¼šè¿”å›201ï¼›ä½†å¦‚æœéœ€è¦å¾—åˆ° ç¾¤ä¸»ç¡®è®¤ï¼Œæ‰€å‘è¡¨çš„æ„è§å°±æ— æ³•ç«‹å³åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™æ—¶æœåŠ¡å™¨å°±éœ€è¦è¿”å›202çŠ¶æ€ç ã€‚ä»å¹¿ä¹‰ä¸Šæ¥çœ‹ï¼Œä¹Ÿå±äºå¼‚æ­¥å¤„ç†ï¼Œä½†æ˜¯ä¸ç¨‹åºé‡Œæ‰€è¯´çš„å¼‚æ­¥ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚</li>\n</ul>\n<p>å¦å¤–ï¼Œä½¿ç”¨Boxçš„APIæ¥ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ–‡ä»¶å°šæœªå‡†å¤‡å¥½ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›202ï¼Œè¿˜ä¼šåœ¨é¦–éƒ¨ä¸­æ·»åŠ <code>Retry-After</code>å†™å…¥å¤„ç†å®Œæˆæ‰€éœ€æ—¶é—´ã€‚</p>\n</li>\n<li><p>204 â€œNo Contentâ€</p>\n<p>å“åº”æ¶ˆæ¯ä¸ºç©ºæ—¶ä¼šè¿”å›è¯¥çŠ¶æ€ç ã€‚</p>\n<ul>\n<li>ä½¿ç”¨DELETEæ–¹æ³•åˆ é™¤æ•°æ®æ—¶ã€‚</li>\n</ul>\n<p>å…³äº204æœ‰ä¸€äº›äº‰è®ºï¼Œè¿™é‡Œç¬”è€…ç»™å‡ºçš„å»ºè®®æ˜¯PUTæˆ–PATCHè¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯è¿”å›200å¹¶å°†æ•°æ®åŒæ—¶è¿”å›ï¼Œä½¿ç”¨DELETEè¯·æ±‚æ—¶ï¼Œè¿”å›204ã€‚è¿™æ ·ï¼Œæ— è®ºåœ¨ä½•ç§æƒ…å†µä¸‹ï¼Œéƒ½å¯ä»¥ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®å¾—çŸ¥ä¿®æ”¹æ“ä½œæ­£ç¡®æ‰§è¡Œã€‚ç—…æƒ…ä¹Ÿèƒ½åœ¨PUT/PATCHæ“ä½œååŒæ—¶è·å¾—ETagä¿¡æ¯ã€‚</p>\n<p>è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œå®é™…ä¸šåŠ¡ä¸­æœ‰æ—¶éœ€è¦â€œå‡åˆ é™¤â€ï¼Œæ­¤æ—¶åº”è¯¥è¿”å›204è¿˜æ˜¯200ï¼Ÿ</p>\n</li>\n</ul>\n</li>\n<li><p>3å­—å¤´  æ·»åŠ å¿…è¦çš„å¤„ç†</p>\n<p>å¸¸ç”¨æ¥æè¿°é‡å®šå‘æ“ä½œã€‚åœ¨å®šä¹‰äº†HTTP1.1çš„RFC 2068ä¸­ï¼Œç”¨äºé‡å®šå‘çš„çŠ¶æ€ç åªæœ‰301å’Œ302ã€‚301è¡¨ç¤ºè¯·æ±‚å†…å®¹å·²ä»å½“å‰ä½ç½®ç§»åŠ¨åˆ°äº†å…¶ä»–åœ°æ–¹ï¼Œè€Œ302åˆ™è¡¨ç¤ºè¯·æ±‚å†…å®¹åªæ˜¯ä¸´æ—¶ç§»åŠ¨åˆ°äº†åˆ«å¤„ï¼Œè€Œä¸”ä½¿ç”¨çš„HTTPæ–¹æ³•ä¸ä¼šåœ¨è®¿é—®é‡å®šå‘çš„URIæ—¶å‘ç”Ÿå˜åŒ–ï¼ˆå¦‚ä½¿ç”¨POSTæ–¹æ³•çš„è¯ï¼Œåœ¨é‡å®šå‘åä¾ç„¶ä¼šä½¿ç”¨POSTæ–¹æ³•æ¥è®¿é—®é‡å®šå‘çš„åœ°å€ï¼‰ã€‚ä¸è¿‡å¤§éƒ¨åˆ†æµè§ˆå™¨å´é‡‡ç”¨äº†ä¸åè®®ç›¸åçš„è®¾è®¡ï¼Œç”¨GETæ–¹æ³•æ¥è®¿é—®é‡å®šå‘åçš„åœ°å€ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œåœ¨RFC 2616é‡Œï¼Œäººä»¬åˆæ–°å®šä¹‰äº†303å’Œ307çŠ¶æ€ç ã€‚303å®šä¹‰äº†æ— è®ºåœ¨é‡å®šå‘ä¹‹å‰ä½¿ç”¨ä»€ä¹ˆHTTPæ–¹æ³•è®¿é—®ï¼Œéƒ½å…è®¸åœ¨è¯·æ±‚å®Œæˆåç”¨GETæ–¹æ³•ç»§ç»­è®¿é—®ã€‚å³ä¾¿å¦‚æ­¤ï¼Œç°åœ¨ä¾ç„¶æœ‰å¾ˆå¤šé‡å®šå‘æ“ä½œä¼šè¿”å›302çŠ¶æ€ç ã€‚å¦å¤–RFC 7238é‡Œè¿˜å®šä¹‰äº†308çŠ¶æ€ç ã€‚307å’Œ308è¾“å…¥302å’Œ301çš„ä¿®æ­£ç‰ˆï¼Œå®šä¹‰æ›´åŠ ä¸¥å¯†ã€‚302å’Œ301å…è®¸è®¿é—®æ–¹æ³•ä»POSTå˜æ›´ä¸ºGETï¼Œ307å’Œ308åˆ™ä¸å…è®¸ä»»ä½•HTTPæ–¹æ³•åœ¨è®¿é—®è¿‡ç¨‹ä¸­å‘ç”Ÿå˜æ›´ã€‚</p>\n<p>APIä¸­åº”æåŠ›é¿å…è¿”å›é‡å®šå‘ç±»çŠ¶æ€ç ã€‚</p>\n<ul>\n<li><p>300 â€œMultiple Choicesâ€</p>\n<p>å½“æœ‰å¤šä¸ªåˆ†æ”¯å¯ä¾›å®¢æˆ·ç«¯é€‰æ‹©æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›è¯¥çŠ¶æ€ç ã€‚APIä½¿ç”¨åœºæ™¯å¯èƒ½æ€§å¾ˆä½ï¼Œåœ¨æ–‡ä»¶å­˜å‚¨ç±»æœåŠ¡é‡Œï¼Œå¯¹äºå®¢æˆ·ç«¯è¯·æ±‚çš„æŸä¸ªé”®å€¼ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªæ•°æ®åº“ï¼Œæœ‰æ—¶ä¼šè¿”å›è¯¥çŠ¶æ€ç ã€‚</p>\n</li>\n<li><p>304 â€œNot Modifiedâ€</p>\n<p>è¡¨ç¤ºå®¢æˆ·ç«¯ä¸Šæ¬¡è·å–çš„æ•°æ®è‡³ä»Šä¸ºæ­¢æ²¡æœ‰å‘ç”Ÿæ›´æ–°ã€‚å½“æœåŠ¡ç«¯è¿”å›304æ—¶ï¼Œæ•´ä¸ªå“åº”æ¶ˆæ¯ä½“ä¸ºç©ºã€‚</p>\n</li>\n</ul>\n</li>\n<li><p>4å­—å¤´  å®¢æˆ·ç«¯è¯·æ±‚å‘ç”Ÿé—®é¢˜</p>\n<p>æœåŠ¡ç«¯æ— æ³•ç†è§£å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œæˆ–è™½ç„¶æœåŠ¡ç«¯èƒ½ç†è§£ä½†è¯·æ±‚æ²¡æœ‰è¢«æ‰§è¡Œã€‚</p>\n<ul>\n<li><p>400 â€œBad Requestâ€</p>\n<p>å®ƒè¡¨ç¤ºâ€œå…¶ä»–é”™è¯¯â€ï¼Œæ— æ³•æ‰¾åˆ°å…¶å®ƒæ»¡è¶³è¦æ±‚çš„çŠ¶æ€ç æ—¶è¿”å›ï¼Œæ¯”å¦‚å‚æ•°é”™è¯¯ã€‚</p>\n</li>\n<li><p>401 â€œUnauthorizedâ€ </p>\n<p>è¡¨ç¤ºè®¤è¯ï¼ˆAuthenticationï¼‰ç±»å‹çš„é”™è¯¯ï¼Œâ€œè¯†åˆ«å‰æ¥è®¿é—®çš„æ˜¯è°â€ã€‚</p>\n</li>\n<li><p>403 â€œForbiddenâ€</p>\n<p>è¡¨ç¤ºæˆæƒï¼ˆAuthorizationï¼‰ç±»å‹çš„é”™è¯¯ ï¼Œâ€œèµ‹äºˆç‰¹å®šç”¨æˆ·æ‰§è¡Œç‰¹å®šæ“ä½œçš„æƒé™â€ã€‚</p>\n</li>\n<li><p>404 â€œNot Foundâ€</p>\n<p>æœ‰æ—¶ä¸æ˜ç¡®æ˜¯URIä¸å­˜åœ¨è¿˜æ˜¯èµ„æºä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šé¢å¤–è¿”å›å…¶å®ƒè¯¦ç»†çš„è¯´æ˜ã€‚</p>\n</li>\n<li><p>405 â€œMethod Not Allowedâ€</p>\n<p>å®¢æˆ·ç«¯ä½¿ç”¨çš„HTTPæ–¹æ³•ä¸è¢«æœåŠ¡å™¨ç«¯å…è®¸ã€‚</p>\n</li>\n<li><p>406 â€œNot Acceptableâ€</p>\n<p>APIä¸æ”¯æŒå®¢æˆ·ç«¯æŒ‡å®šçš„æ•°æ®æ ¼å¼æ—¶æœåŠ¡å™¨ç«¯æ‰€è¿”å›çš„çŠ¶æ€ç ã€‚</p>\n</li>\n<li><p>408 â€œRequest Timeoutâ€</p>\n<p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚è‡³æœåŠ¡ç«¯æ‰€éœ€çš„æ—¶é—´è¿‡é•¿æ—¶ï¼Œè§¦å‘æœåŠ¡ç«¯çš„è¶…æ—¶å¤„ç†ã€‚</p>\n</li>\n<li><p><strong>409 â€œConflictâ€</strong></p>\n<p>çŠ¶æ€ç ç”¨äºè¡¨ç¤ºèµ„æºå‘ç”Ÿå†²çªæ—¶çš„é”™è¯¯ã€‚æ¯”å¦‚é€šè¿‡æŒ‡å®šIDç­‰å”¯ä¸€é”®å€¼ä¿¡æ¯æ¥è°ƒç”¨æ³¨å†ŒåŠŸèƒ½çš„APIï¼Œå½“è¿™æ ·çš„APIåˆ›å»ºæ•°æ®æ—¶ï¼Œå€˜è‹¥å·²æœ‰ç›¸åŒIDçš„æ•°æ®å­˜åœ¨ï¼Œå°±å›å¯¼è‡´æœåŠ¡ç«¯è¿”å›409çŠ¶æ€ç å‘ŠçŸ¥å®¢æˆ·ç«¯è¯¥é‚®ç®±åœ°å€æˆ–IDå·²è¢«ä½¿ç”¨ã€‚</p>\n</li>\n<li><p>410 â€œGoneâ€</p>\n<p>å’Œ404ç›¸åŒï¼Œè¡¨ç¤ºèµ„æºä¸å­˜åœ¨ã€‚åªæ˜¯410çŠ¶æ€ç è¡¨ç¤ºèµ„æºæ›¾ç»å­˜åœ¨ä½†ç›®å‰å·²ç»æ¶ˆå¤±äº†ï¼Œå› æ­¤æœåŠ¡ç«¯å¸¸åœ¨è®¿é—®æ•°æ®è¢«åˆ é™¤æ—¶è¿”å›è¯¥çŠ¶æ€ç ã€‚ä½†æ˜¯ä¸ºäº†è¯¥çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨å¿…é¡»ä¿å­˜æ•°æ®å·²è¢«åˆ é™¤çš„ä¿¡æ¯ï¼Œæœ‰äº›é‚®ç®±åœ°å€æœç´¢ç”¨æˆ·ä¿¡æ¯çš„APIä¸­ï¼Œä»ä¿æŠ¤ä¸ªäººä¿¡æ¯çš„è§’åº¦æ¥è¯´ï¼Œè¿”å›410çŠ¶æ€çš„åšæ³•ä¼šå—åˆ°è´¨ç–‘ã€‚</p>\n</li>\n<li><p>413  â€œRequest Entity Too Largeâ€ å’Œ 414 â€œRequest-URI Too Longâ€</p>\n<p>413è¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯ä½“è¿‡é•¿ï¼Œå¦‚ä¸Šä¼ æ–‡ä»¶è¿‡å¤§ã€‚</p>\n<p>414è¡¨ç¤ºè¯·æ±‚é¦–éƒ¨è¿‡é•¿è€Œå¼•å‘çš„é”™è¯¯ï¼Œå¦‚æŸ¥è¯¢å‚æ•°è¿‡é•¿ã€‚</p>\n</li>\n<li><p>415  â€œUnsupported Media Typeâ€</p>\n<p>å’Œ406ç±»ä¼¼ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯ä¸æ”¯æŒå®¢æˆ·ç«¯è¯·æ±‚é¦–éƒ¨<code>Content-Type</code>é‡ŒæŒ‡å®šçš„æ•°æ®æ ¼å¼ã€‚åŒºåˆ«åœ¨äºï¼Œ406ä¸€èˆ¬å’ŒGETæ“ä½œä¸€èµ·ä½¿ç”¨ï¼Œ415å’ŒPOSTã€PUTä»¥åŠPATCHç­‰æ–¹æ³•è¯·æ±‚çš„æ¶ˆæ¯ä½“æ•°æ®æ ¼å¼ä¸è¢«æœåŠ¡å™¨ç«¯æ”¯æŒã€‚ä¾‹å¦‚åœ¨åªæ¥å—JSONæ ¼å¼çš„è¯·æ±‚çš„APIé‡Œæ”¾å…¥XMLæ ¼å¼çš„æ•°æ®å¹¶å‘æœåŠ¡å™¨å‘é€ï¼Œæˆ–åœ¨Content-Typeé¦–éƒ¨é‡ŒæŒ‡å®šapplication/xmlï¼Œéƒ½ä¼šå¯¼è‡´è¯¥ç±»å‹çš„é”™è¯¯ã€‚</p>\n</li>\n<li><p>429 â€œToo Many Requestsâ€</p>\n<p>è®¿é—®æ¬¡æ•°è¶…è¿‡äº†æ‰€å…è®¸çš„èŒƒå›´ã€‚</p>\n</li>\n</ul>\n</li>\n<li><p>5å­—å¤´  æœåŠ¡å™¨ç«¯å‘ç”Ÿé—®é¢˜</p>\n<ul>\n<li><p>500  â€œInternal Server Errorâ€</p>\n<p>æœåŠ¡ç«¯ä»£ç å­˜åœ¨bugï¼Œä¼šè¿”å›è¯¥ç±»å‹çš„é”™è¯¯ã€‚åº”è¯¥ç›‘æ§é”™è¯¯æ—¥å¿—ï¼Œé˜²æ­¢å†æ¬¡å‘ç”Ÿã€‚</p>\n</li>\n<li><p>503  â€œService Unavailableâ€</p>\n<p>æœåŠ¡ç«¯æš‚æ—¶ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨ç»´æŠ¤ï¼Œæˆ–è€…è‡ªèº«è´Ÿè½½è¿‡é«˜ã€‚</p>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"ç¼“å­˜ä¸HTTPåè®®è§„èŒƒ\"><a href=\"#ç¼“å­˜ä¸HTTPåè®®è§„èŒƒ\" class=\"headerlink\" title=\"ç¼“å­˜ä¸HTTPåè®®è§„èŒƒ\"></a>ç¼“å­˜ä¸HTTPåè®®è§„èŒƒ</h4><p>HTTPåè®®ä¸­ï¼Œç¼“å­˜å¤„äºå¯ç”¨çš„çŠ¶æ€æ—¶ç§°ä¸ºfreshï¼ˆæ–°é²œï¼‰çŠ¶æ€ï¼Œè€Œå¤„äºä¸å¯ç”¨çš„çŠ¶æ€æ—¶åˆ™ç§°ä¸ºstaleï¼ˆä¸æ–°é²œï¼‰çŠ¶æ€ã€‚</p>\n<h5 id=\"è¿‡æœŸæ¨¡å‹\"><a href=\"#è¿‡æœŸæ¨¡å‹\" class=\"headerlink\" title=\"è¿‡æœŸæ¨¡å‹\"></a>è¿‡æœŸæ¨¡å‹</h5><p>é¢„å…ˆå†³å®šå“åº”æ•°æ®çš„ä¿å­˜æœŸé™ï¼Œå½“åˆ°è¾¾æœŸé™åæœºä¼šå†æ¬¡è®¿é—®æœåŠ¡ç«¯æ¥é‡æ–°è·å¾—æ‰€éœ€çš„æ•°æ®ã€‚</p>\n<p>ä¸€ä¸ªæ–¹æ³•æ˜¯ç”¨<code>Cache-Control</code>å“åº”é¦–éƒ¨ï¼Œå¦ä¸€ä¸ªä½¿ç”¨<code>Expires</code>å“åº”é¦–éƒ¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Expires: Fri, 01 Jan 2016 00:00:00 GMT</span><br><span class=\"line\">Cache-Control: max-age&#x3D;3600</span><br></pre></td></tr></table></figure>\n<p>Expiresä½¿ç”¨RFC 1123ä¸­å®šä¹‰çš„æ—¶é—´æ ¼å¼ã€‚HTTP1.0å°±å­˜åœ¨ï¼Œ<code>Cache-Control</code>æ˜¯HTTP1.1ä¸­å®šä¹‰çš„ã€‚æœ‰æ—¶éœ€è¦åˆ¶å®šä¸€ä¸ªé¥è¿œçš„æ—¥æœŸï¼Œä½¿å¾—ç¼“å­˜å§‹ç»ˆç”Ÿæ•ˆï¼Œä½†HTTP1.1è§„å®šï¼Œä¸å…è®¸è®¾ç½®è¶…è¿‡1å¹´ä»¥ä¸Šçš„æ—¶é—´ã€‚ä¸¤è€…åŒæ—¶å®šä¹‰æ—¶ï¼Œ<code>Cache-Control</code>ä¼˜å…ˆã€‚<code>max-age</code>æ˜¯æ ¹æ®é¦–éƒ¨ä¸­çš„<code>Date</code>ç®—çš„ã€‚æ ¹æ®HTTPåè®®çš„è§„å®šï¼Œé™¤äº†5å­—å¤´é”™è¯¯ç­‰å‡ ä¸ªç‰¹æ®Šæƒ…å†µä»¥å¤–ï¼Œæ‰€æœ‰çš„HTTPæ¶ˆæ¯éƒ½å¿…é¡»æ·»åŠ <code>Date</code>é¦–éƒ¨ã€‚<strong>æè¿°æ—¥æœŸçš„HTTPé¦–éƒ¨ä¿¡æ¯é‡Œï¼Œåªèƒ½ä½¿ç”¨GMTï¼ˆæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶åŒºï¼‰ä½œä¸ºæ—¶åŒºã€‚</strong></p>\n<h5 id=\"éªŒè¯æ¨¡å‹\"><a href=\"#éªŒè¯æ¨¡å‹\" class=\"headerlink\" title=\"éªŒè¯æ¨¡å‹\"></a>éªŒè¯æ¨¡å‹</h5><p>è½®è¯¢å½“å‰ä¿å­˜çš„ç¼“å­˜æ•°æ®æ˜¯å¦ä¸ºæœ€æ–°æ•°æ®ï¼Œå¹¶åªåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œæ•°æ®æ›´æ–°æ—¶ï¼Œæ‰é‡æ–°è·å–æ–°çš„æ•°æ®ã€‚</p>\n<p>è™½ç„¶è¿™ä¹ˆåšæ²¡æœ‰å‡å°‘ç½‘ç»œé€šä¿¡çš„å¼€é”€ï¼Œä½†å‡è®¾å®¢æˆ·ç«¯ç¼“å­˜çš„æ•°æ®è¿‡å¤§ï¼Œé‚£ä¹ˆæ­¤æ—¶ç¼“å­˜çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†ã€‚è¿™ç§æ–¹å¼ï¼ŒæœåŠ¡å™¨éœ€è¦çŸ¥é“â€œå®¢æˆ·ç«¯å½“å‰ä¿å­˜çš„ä¿¡æ¯çš„çŠ¶æ€â€ï¼Œä¸ºæ­¤éœ€è¦ç”¨åˆ°æ›´æ–°æ—¥æœŸæˆ–å®ä½“æ ‡ç­¾ï¼ˆEntity Tagï¼‰ä½œä¸ºæŒ‡æ ‡ã€‚ä¸¤è€…åˆ†åˆ«å¡«å……åœ¨<code>Last-Modified</code>å’Œ<code>ETag</code>å“åº”æ¶ˆæ¯é¦–éƒ¨è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Last-Modified: Tue, 01 Jul 2014 00:00:00 GMT</span><br><span class=\"line\">Etag: &quot;jfkeiwjpii189u98jljdfioj822adf&quot;</span><br></pre></td></tr></table></figure>\n<p>ETagå¦‚ä½•ç”Ÿæˆå–å†³äºæœåŠ¡å™¨ç«¯çš„å®ç°ã€‚</p>\n<p>å®¢æˆ·ç«¯ä½¿ç”¨æœ€åæ›´æ–°æ—¥æœŸæ‰§è¡Œé™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼Œä¼šç”¨åˆ°<code>Modified-Since</code>é¦–éƒ¨ã€‚ä½¿ç”¨å®ä½“æ ‡ç­¾æ—¶ï¼Œä¼šç”¨åˆ°<code>If-None-Match</code>é¦–éƒ¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET &#x2F;v1&#x2F;users&#x2F;12345</span><br><span class=\"line\">If-Modified-Since: Tue, 01 Jul 2014 00:00:00  GMT</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">GET &#x2F;v1&#x2F;users&#x2F;12345</span><br><span class=\"line\">If-None-Match: &quot;jfkeiwjpii189u98jljdfioj822adf&quot;</span><br></pre></td></tr></table></figure>\n<p>æœåŠ¡ç«¯æ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ï¼Œå¦‚æœæœ‰æ›´æ–°ï¼Œåˆ™è¿”å›200å’Œæ›´æ–°åçš„èµ„æºï¼ŒåŒæ—¶æ·»åŠ æœ€åæ›´æ–°æ—¥æœŸæˆ–å®ä½“æ ‡ç­¾ã€‚æœªæ›´æ–°ï¼Œåˆ™è¿”å›304ï¼Œå“åº”æ¶ˆæ¯ä½“ä¸ºç©ºã€‚</p>\n<p>å¦‚æœä½¿ç”¨éªŒè¯æ¨¡å‹ï¼Œå¹¶ä¸”æ›´æ–°çš„èµ„æºæ˜¯æŸä¸ªç‰¹å®šçš„èµ„æºï¼Œåˆ™è¿”å›èµ„æºè‡ªèº«çš„æœ€åæ›´æ–°æ—¥æœŸï¼›å¦‚æœæ˜¯åˆ—è¡¨ä¿¡æ¯çš„å¤šä¸ªèµ„æºçš„è¯ï¼Œåˆ™è¦ä½¿ç”¨å…¶ä¸­æœ€åæ›´æ–°çš„èµ„æºçš„æœ€åæ›´æ–°æ—¥æœŸã€‚<a href=\"https://docs.djangoproject.com/en/1.11/topics/conditional-view-processing/\" target=\"_blank\" rel=\"noopener\">Djangoä¸­çš„Etagç›¸å…³ã€‚</a></p>\n<p>ETagæœ‰å¼ºéªŒè¯å’Œå¼±éªŒè¯ä¸¤ä¸ªæ¦‚å¿µã€‚</p>\n<ul>\n<li>å¼ºéªŒè¯ETagï¼š <code>Etag: &quot;jfkeiwjpii189u98jljdfioj822adf&quot;</code>ï¼ŒæœåŠ¡ç«¯åŒå®¢æˆ·ç«¯æ•°æ®ä¸èƒ½æœ‰ä¸€ä¸ªå­—èŠ‚çš„å·®åˆ«ï¼Œå¿…é¡»å®Œå…¨ä¸€æ ·ã€‚</li>\n<li>å¼±éªŒè¯ETagï¼š<code>Etag: W/&quot;jfkeiwjpii189u98jljdfioj822adf&quot;</code>ï¼Œåªè¦ä»èµ„æºæ„ä¹‰çš„è§’åº¦æ¥çœ‹æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±å¯ä»¥è§†ä¸ºç›¸åŒçš„æ•°æ®ã€‚ä¾‹å¦‚Webé¡µé¢çš„å¹¿å‘Šä¿¡æ¯ï¼Œè™½ç„¶æ¯æ¬¡çœ‹åˆ°å¹¿å‘Šçš„å†…å®¹ä¼šæœ‰æ‰€æ”¹å˜ï¼Œä½†å®ƒä»¬ä¾ç„¶æ˜¯ç›¸åŒçš„èµ„æºã€‚</li>\n</ul>\n<h5 id=\"å¯å‘å¼è¿‡æœŸ\"><a href=\"#å¯å‘å¼è¿‡æœŸ\" class=\"headerlink\" title=\"å¯å‘å¼è¿‡æœŸ\"></a>å¯å‘å¼è¿‡æœŸ</h5><p>å®¢æˆ·ç«¯è‡ªå·±å¯»æ‰¾æœåŠ¡ç«¯èµ„æºçš„è§„å¾‹ï¼Œ<strong>æ‰€ä»¥æœåŠ¡å™¨å¦‚æœä¸èƒ½è¿”å›â€œå°†ç¼“å­˜æ•°æ®ä¿å­˜å¤šä¹…â€çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆåº”è¯¥è¿”å›<code>Last-Modified</code>ç­‰é¦–éƒ¨ä¿¡æ¯æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯</strong>ï¼ŒåŠªåŠ›å‡å°‘å®¢æˆ·ç«¯ä¸å¿…è¦çš„è®¿é—®ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚</p>\n<h5 id=\"ä¸å¸Œæœ›å®æ–½ç¼“å­˜\"><a href=\"#ä¸å¸Œæœ›å®æ–½ç¼“å­˜\" class=\"headerlink\" title=\"ä¸å¸Œæœ›å®æ–½ç¼“å­˜\"></a>ä¸å¸Œæœ›å®æ–½ç¼“å­˜</h5><p>åœ¨å®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯ä¸­ï¼Œä¸å¸Œæœ›å®¢æˆ·ç«¯è¿›è¡Œç¼“å­˜ã€‚ä½¿ç”¨<code>Cache-Control</code>é¦–éƒ¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cache-Control: no-cache</span><br></pre></td></tr></table></figure>\n<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœ<code>Expires</code>é¦–éƒ¨é‡Œå†™å…¥çš„è¿‡å»çš„æ—¥æœŸæˆ–ä¸æ­£ç¡®çš„æ—¥æœŸæ ¼å¼ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸ä¼šè¿›è¡Œç¼“å­˜æ“ä½œã€‚ä½†ä¸åŒæµè§ˆå™¨å¯èƒ½å‘ç”Ÿä¸åŒçš„è¡Œä¸ºï¼Œæ‰€ä»¥æ­¤æ–¹æ³•å¹¶ä¸å»ºè®®ã€‚</p>\n<p>no-cacheä¸¥æ ¼æ„ä¹‰æ¥è®²ï¼Œä¸æ˜¯â€œä¸ç¼“å­˜â€çš„æ„æ€ï¼Œè€Œæ˜¯è¡¨ç¤ºè‡³å°‘â€œéœ€è¦ä½¿ç”¨éªŒè¯æ¨¡å‹æ¥éªŒè¯â€ã€‚å¦‚æœä¸å¸Œæœ›å«æœ‰æœºå¯†ä¿¡æ¯çš„æ•°æ®åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šä¿å­˜ï¼Œå°±å¯ä»¥åœ¨Cache-Controlé¦–éƒ¨é‡Œä½¿ç”¨<code>no-store</code>å¹¶è¿”å›ã€‚</p>\n<h5 id=\"ä½¿ç”¨Varyæ¥æŒ‡å®šç¼“å­˜å•ä½\"><a href=\"#ä½¿ç”¨Varyæ¥æŒ‡å®šç¼“å­˜å•ä½\" class=\"headerlink\" title=\"ä½¿ç”¨Varyæ¥æŒ‡å®šç¼“å­˜å•ä½\"></a>ä½¿ç”¨Varyæ¥æŒ‡å®šç¼“å­˜å•ä½</h5><p>åœ¨å®æ–½ç¼“å­˜æ—¶å¯èƒ½è¿˜éœ€è¦åŒæ—¶æŒ‡å®šVaryé¦–éƒ¨ã€‚åœ¨å®æ–½ç¼“å­˜æ—¶ï¼ŒVaryç”¨äºæŒ‡å®šé™¤URIå¤–ä½¿ç”¨å“ªä¸ªè¯·æ±‚é¦–éƒ¨é¡¹ç›®æ¥ç¡®å®šå”¯ä¸€çš„æ•°æ®ã€‚å› ä¸ºå³ä½¿URIç›¸åŒï¼Œè·å–çš„æ•°æ®æœ‰æ—¶ä¹Ÿä¼šå› è¯·æ±‚é¦–éƒ¨å†…å®¹çš„ä¸åŒè€Œå‘ç”Ÿå˜åŒ–ã€‚</p>\n<p>HTTPé‡Œæœ‰è¿™æ ·ä¸€ç§æœºåˆ¶ï¼šæ ¹æ®ç”±Acceptå¼€å§‹çš„ä¸€ç³»åˆ—è¯·æ±‚é¦–éƒ¨å€¼çš„ä¸åŒï¼Œå“åº”æ¶ˆæ¯çš„å†…å®¹ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚è¯¥æœºåˆ¶ç§°ä¸º<strong>æœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†</strong>ã€‚æ¯”å¦‚APIå¯ä»¥é€šè¿‡æ”¯æŒ<code>Accept-Language</code>é¦–éƒ¨æŒ‡å®šå®¢æˆ·ç«¯èƒ½æ¥å—çš„è‡ªç„¶è¯­è¨€ï¼Œå¹¶æ®æ­¤åˆ‡æ¢å“åº”æ•°æ®é‡ŒåŒ…å«çš„è¯­è¨€ä¿¡æ¯ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨<code>Vary</code>é¦–éƒ¨æ¥åˆ¤æ–­å“ªä¸ªè¯·æ±‚é¦–éƒ¨éœ€è¦å®æ–½ç¼“å­˜æ“ä½œã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Vary: Accept-Language</span><br></pre></td></tr></table></figure>\n<p>ä¸€èˆ¬è€Œè¨€ï¼ŒVaryé¦–éƒ¨ç”¨äºHTTPç»ç”±ä»£ç†æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯åœ¨ä»£ç†æœåŠ¡å™¨æ‹¥æœ‰ç¼“å­˜åŠŸèƒ½æ—¶ã€‚ä½†æ˜¯æœ‰æ—¶æœåŠ¡å™¨ç«¯æ— æ³•çŸ¥æ™“å®¢æˆ·ç«¯çš„è®¿é—®æ˜¯å¦ç»ç”±ä»£ç†æœåŠ¡å™¨ï¼Œè¿™ç§æƒ…å†µä¸‹å°±éœ€è¦ç”¨åˆ°æœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†æœºåˆ¶ï¼ŒVaryé¦–éƒ¨å°±æˆäº†å¿…é€‰é¡¹ã€‚æ¯”å¦‚å¦‚æœå¸Œæœ›åœ¨æŸ¥çœ‹ç”¨æˆ·ä»£ç†ï¼ˆUser Agentï¼‰ä¿¡æ¯åå¯¹è¿”å›çš„æ•°æ®å†…å®¹è¿›è¡Œæ›´æ–°ï¼Œå°±éœ€è¦æŒ‡å®šUser-Agenté¦–éƒ¨ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Vary: Accept-Language,User-Agent</span><br></pre></td></tr></table></figure>\n<p>åœ¨APIä¸­ï¼Œè¿”å›çš„æ•°æ®ä¿¡æ¯æ ¹æ®ç”¨æˆ·ä»£ç†çš„ä¸åŒè€Œå˜åŒ–çš„æƒ…å†µéå¸¸å°‘è§ï¼Œä½†æˆ‘ä»¬ä»éœ€è¦è€ƒè™‘è¿™æ ·çš„æƒ…å†µï¼šå½“ä½¿ç”¨æ™ºèƒ½æ‰‹æœºå¯¹æ™®é€šçš„Webé¡µé¢è¿›è¡Œè®¿é—®æ—¶ï¼Œå³ä½¿URIç›¸åŒï¼Œç½‘ç«™ä¹Ÿéœ€è¦è¿”å›å’Œè®¿é—®ç»ˆç«¯ç›¸åŒ¹é…çš„å†…å®¹ã€‚å› æ­¤å½“Googleçš„ç½‘ç»œçˆ¬è™«è®¿é—®æœåŠ¡å™¨ç«¯æ—¶ï¼Œå¦‚æœæœåŠ¡å™¨ç«¯ä¼šæ ¹æ®URIä»¥å¤–çš„ä¿¡æ¯æ”¹å˜è¿”å›çš„å†…å®¹ï¼Œåˆ™æ¨èæ·»åŠ Varyé¦–éƒ¨ã€‚</p>\n<h5 id=\"Cache-Control-é¦–éƒ¨\"><a href=\"#Cache-Control-é¦–éƒ¨\" class=\"headerlink\" title=\"Cache-Control é¦–éƒ¨\"></a>Cache-Control é¦–éƒ¨</h5><p>ç¼“å­˜æ“ä½œæŒ‡ä»¤åŠå«ä¹‰</p>\n<table>\n<thead>\n<tr>\n<th>æŒ‡ä»¤åç§°</th>\n<th>å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>public</td>\n<td>ä»£ç†æœåŠ¡å™¨å¤„ä¿å­˜çš„ç¼“å­˜å¯ä»¥åœ¨ä¸åŒç”¨æˆ·ä¹‹é—´å…±äº«</td>\n</tr>\n<tr>\n<td>private</td>\n<td>æ¯ä¸ªç”¨æˆ·çš„ç¼“å­˜æ•°æ®å¿…é¡»å„ä¸ç›¸åŒ</td>\n</tr>\n<tr>\n<td>no-cache</td>\n<td>ç¼“å­˜æ•°æ®éœ€è¦é€šè¿‡éªŒè¯æ¨¡å‹æ¥ç¡®è®¤</td>\n</tr>\n<tr>\n<td>no-store</td>\n<td>ä¸éœ€è¦è¿›è¡Œç¼“å­˜</td>\n</tr>\n<tr>\n<td>no-transform</td>\n<td>ä»£ç†æœåŠ¡å™¨ä¸å¯å˜æ›´å“åº”æ•°æ®çš„åª’ä½“ç±»å‹æˆ–å…¶ä»–ç›¸å…³å†…å®¹</td>\n</tr>\n<tr>\n<td>must-revalidate</td>\n<td>ä¸ç®¡ä½•æ—¶éƒ½éœ€è¦å‘åŸå§‹æœåŠ¡å™¨è¿›è¡Œå†æ¬¡éªŒè¯</td>\n</tr>\n<tr>\n<td>proxy-revalidate</td>\n<td>ä»£ç†æœåŠ¡å™¨éœ€è¦å‘åŸå§‹æœåŠ¡å™¨è¿›è¡Œå†æ¬¡éªŒè¯</td>\n</tr>\n<tr>\n<td>max-age</td>\n<td>è¡¨ç¤ºç¼“å­˜æ•°æ®å¤„äºæ–°é²œçŠ¶æ€çš„æ—¶é—´</td>\n</tr>\n<tr>\n<td>s-maxage</td>\n<td>å’Œmax-ageä¸€æ ·ï¼Œä½†åªç”¨äºä¸­ç»§æœåŠ¡å™¨</td>\n</tr>\n</tbody>\n</table>\n<p>é€šè¿‡<code>stale-while-revalidate=600</code>è¿™æ ·æŒ‡å®šç§’æ•°ï¼Œé‚£ä¹ˆå³ä½¿ä»£ç†æœåŠ¡å™¨è¶…è¿‡äº†<code>max-age</code>æŒ‡å®šçš„æ—¶é—´ï¼Œå…¶å†…éƒ¨ä¹Ÿèƒ½å¼‚æ­¥è¿›è¡Œç¼“å­˜éªŒè¯ï¼Œå¹¶æŒ‡å®šåœ¨ä¸€å®šçš„æ—¶é—´å†…å…è®¸å°†ç¼“å­˜æ•°æ®ç»ç”±å“åº”æ¶ˆæ¯è¿”å›ã€‚æ¢è¨€ä¹‹ï¼Œåœ¨æŒ‡å®šäº†<code>max-age=600,stale-while-revalidate=600</code>çš„æƒ…å†µä¸‹ï¼Œè™½ç„¶æ•°æ®ç»´æŒæ–°é²œçŠ¶æ€çš„æ—¶é—´åªæœ‰10åˆ†é’Ÿï¼Œä½†åœ¨éšåçš„10åˆ†é’Ÿå†…ï¼Œç¼“å­˜æœåŠ¡å™¨ä¹Ÿèƒ½å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†æ‰€ä¿å­˜çš„ç¼“å­˜æ•°æ®ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ä¸æ­¤åŒæ—¶ï¼Œä»£ç†æœåŠ¡å™¨è¿˜ä¼šå¼‚æ­¥åœ°å‘åŸå§‹æœåŠ¡å™¨å‘èµ·ç¼“å­˜éªŒè¯çš„è¯¢é—®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯æœ€é•¿å¯ä»¥åœ¨20åˆ†é’Ÿå†…æ¥æ”¶åˆ°ç¼“å­˜çš„æ•°æ®ï¼Œä½¿å¾—ç¼“å­˜çš„æ•°æ®ä¸ä¼šå› ä¸ºçªç„¶å˜å¾—åˆ°æœŸè€Œä¸å¯ç”¨ã€‚å¦å¤–ï¼Œåœ¨ç¼“å­˜åˆ°æœŸæ—¶ï¼Œè¿™æ ·åšè¿˜èƒ½å¼‚æ­¥åœ°å®Œæˆç¼“å­˜çš„äº¤äº’æ›´æ–°ï¼Œä»è€Œæ›´æœ‰æ•ˆç‡åœ°å¯¹å®¢æˆ·ç«¯çš„è®¿é—®åšå‡ºå“åº”ã€‚</p>\n<img src=\"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/stale-while-revalidate.jpeg\" class>\n<p>ç”±äºæŸç§åŸä¸ºæ— æ³•è®¿é—®åŸå§‹æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥å°†<code>stale-if-error</code>æŒ‡ä»¤æŒ‡å®šä¸ºä¸€å®šçš„ç§’æ•°ï¼Œå…è®¸åœ¨è¯¥æ®µæ—¶é—´å†…ä»£ç†æœåŠ¡å™¨ç›´æ¥å°†æ‰€ä¿å­˜çš„ä¸æ–°é²œç¼“å­˜è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ä½¿ç”¨è¯¥æŒ‡ä»¤çš„è¯ï¼Œä¸‡ä¸€çªå‘æ—¶é—´å¯¼è‡´å®•æœºï¼Œç›´æ¥é€šè¿‡ä»£ç†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯äº¤äº’ï¼Œè‡³å°‘è¿˜èƒ½å¤Ÿåœ¨æŸæ®µæ—¶é—´å†…ä¸ä¸­æ–­å®¢æˆ·ç«¯çš„è®¿é—®ã€‚</p>\n<h4 id=\"åª’ä½“ç±»å‹çš„æŒ‡å®š\"><a href=\"#åª’ä½“ç±»å‹çš„æŒ‡å®š\" class=\"headerlink\" title=\"åª’ä½“ç±»å‹çš„æŒ‡å®š\"></a>åª’ä½“ç±»å‹çš„æŒ‡å®š</h4><h5 id=\"å…·æœ‰ä»£è¡¨æ€§çš„åª’ä½“ç±»å‹ï¼Œä¹Ÿå°±æ˜¯Content-Type\"><a href=\"#å…·æœ‰ä»£è¡¨æ€§çš„åª’ä½“ç±»å‹ï¼Œä¹Ÿå°±æ˜¯Content-Type\" class=\"headerlink\" title=\"å…·æœ‰ä»£è¡¨æ€§çš„åª’ä½“ç±»å‹ï¼Œä¹Ÿå°±æ˜¯Content-Type\"></a>å…·æœ‰ä»£è¡¨æ€§çš„åª’ä½“ç±»å‹ï¼Œä¹Ÿå°±æ˜¯<code>Content-Type</code></h5><table>\n<thead>\n<tr>\n<th>åª’ä½“ç±»å‹</th>\n<th>æ•°æ®æ ¼å¼</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>text/plain</td>\n<td>çº¯æ–‡æœ¬</td>\n</tr>\n<tr>\n<td>text/html</td>\n<td>HTMLæ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/xml</td>\n<td>XMLæ–‡ä»¶</td>\n</tr>\n<tr>\n<td>text/css</td>\n<td>CSS æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/javascript</td>\n<td>JavaScript</td>\n</tr>\n<tr>\n<td>application/json</td>\n<td>JSONæ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/rss+xml</td>\n<td>RSSåŸŸ</td>\n</tr>\n<tr>\n<td>application/atom+xml</td>\n<td>AtomåŸŸ</td>\n</tr>\n<tr>\n<td>application/octet-stream</td>\n<td>äºŒè¿›åˆ¶æ•°æ®</td>\n</tr>\n<tr>\n<td>application/zip</td>\n<td>zipæ–‡ä»¶</td>\n</tr>\n<tr>\n<td>image/jpeg</td>\n<td>JPEGå›¾åƒ</td>\n</tr>\n<tr>\n<td>image/png</td>\n<td>PNGå›¾åƒ</td>\n</tr>\n<tr>\n<td>image/svg+xml</td>\n<td>SVGå›¾åƒ</td>\n</tr>\n<tr>\n<td>multipart/form-data</td>\n<td>å¤šä¸ªæ•°æ®ç»„æˆçš„Webè¡¨å•æ•°æ®</td>\n</tr>\n<tr>\n<td>video/mp4</td>\n<td>MP4åŠ¨ç”»æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>application/vnd.ms-excel</td>\n<td>Excelæ–‡ä»¶</td>\n</tr>\n</tbody>\n</table>\n<p>é¡¶å±‚ç±»å‹åç§°ä¸­applicationå’Œtextéå¸¸å®¹æ˜“æ··æ·†ã€‚æ¯”å¦‚XMLæ–‡ä»¶çš„åª’ä½“ç±»å‹ç”±RFC 3023å®šä¹‰ï¼Œæ ¹æ®è¯¥åè®®ï¼Œtext/xmlåª’ä½“ç±»å‹ç”¨äºè¡¨ç¤ºï¼ˆæ²¡æœ‰XMLèƒŒæ™¯çŸ¥è¯†çš„ç”¨æˆ·ï¼‰èƒ½å¤Ÿç†è§£çš„XMLï¼Œè€ŒAPIè¿”å›çš„æ•°æ®ä¸­åº”è¯¥ä¸ä¼šå­˜åœ¨è¿™æ ·çš„XMLæ–‡ä»¶ï¼Œå› æ­¤ä½¿ç”¨application/xmlæ›´åŠ åˆç†ã€‚</p>\n<p>é™¤äº†ç”±äºå†å²åŸå› è€Œä¸€ç›´ä½¿ç”¨textä½œä¸ºé¡¶å±‚ç±»å‹çš„text/csså’Œtext/htmlä¹‹å¤–ï¼ŒæŸæ•°æ®æ ¼å¼å³ä½¿èƒ½å¤Ÿä½œä¸ºæ–‡æœ¬æ•°æ®æ‰“å¼€ï¼Œä½†å¦‚æœåªæœ‰çŸ¥é“è¯¥æ•°æ®æ ¼å¼çš„äººæ‰èƒ½ç†è§£ï¼Œé‚£ä¹ˆå…¶åª’ä½“ç±»å‹ä¹Ÿä¾ç„¶éœ€è¦ç”¨applicationä½œä¸ºé¡¶å±‚ç±»å‹åç§°ï¼Œè¿™ä¸€æ–¹å¼å·²æˆä¸ºä¸»æµã€‚</p>\n<h5 id=\"ä»¥x-å¼€å¤´çš„åª’ä½“ç±»å‹\"><a href=\"#ä»¥x-å¼€å¤´çš„åª’ä½“ç±»å‹\" class=\"headerlink\" title=\"ä»¥x-å¼€å¤´çš„åª’ä½“ç±»å‹\"></a>ä»¥x-å¼€å¤´çš„åª’ä½“ç±»å‹</h5><p>å¦‚<code>application/x-msgpack</code>ã€‚è¡¨ç¤ºè¯¥åª’ä½“ç±»å‹å°šæœªåœ¨IANAé‡Œæ³¨å†Œã€‚IANA(Internet Assigned Numbers Authority)æ˜¯ç®¡ç†Internetç›¸å…³ç¼–å·çš„ç»„ç»‡ï¼Œè¿˜è´Ÿè´£åŸŸåçš„ç®¡ç†ã€IPåœ°å€çš„åˆ†é…ç­‰ï¼Œåœ¨Interneté¢†åŸŸæ‰¿æ‹…äº†éå¸¸é‡è¦çš„èŒè´£ã€‚</p>\n<p>æ²¡æœ‰åœ¨IANAé‡Œæ³¨å†Œçš„å¹¶ä¸”ä»¥x-å¼€å¤´çš„åª’ä½“ç±»å‹</p>\n<table>\n<thead>\n<tr>\n<th>åª’ä½“ç±»å‹</th>\n<th>æ•°æ®æ ¼å¼</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>application/x-msgpack</td>\n<td>MessagePack</td>\n</tr>\n<tr>\n<td>application/x-yaml</td>\n<td>YAML</td>\n</tr>\n<tr>\n<td>application/x-plist</td>\n<td>å±æ€§åˆ—è¡¨</td>\n</tr>\n</tbody>\n</table>\n<p>ä½†æ˜¯æœ‰äº›åª’ä½“ç±»å‹å·²åœ¨IANAæ³¨å†Œï¼Œä½†åœ¨è¿‡å»åˆšå‡ºç°æ—¶ï¼Œä½¿ç”¨äº†x-å¼€å¤´ã€‚éœ€è¦å»æŸ¥ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ä¸ä»¥x-å¼€å¤´çš„æ›¿ä»£ç±»å‹ã€‚</p>\n<p>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–å°±æ˜¯å‘é€HTMLè¡¨å•æ•°æ®æ—¶ä½¿ç”¨çš„<code>application/x-www-form-urlencoded</code>ç±»å‹ã€‚è¯¥ç±»å‹åœ¨RFC 1866ä¸­å®šä¹‰ï¼Œè™½ç„¶ç”±äºå†å²åŸå› åœ¨å‘½åæ—¶åŠ ä¸Šäº†x-ï¼Œä½†ç¡®å®IANAä¸­æ­£å¼æ³¨å†Œçš„åª’ä½“ç±»å‹ï¼Œè™½ç„¶æœ‰äº†ä¸åŠ x-çš„æ›¿ä»£ï¼Œä½†å°šæœªè¢«IANAé‡‡ç”¨ã€‚</p>\n<h5 id=\"è‡ªå®šä¹‰åª’ä½“ç±»å‹\"><a href=\"#è‡ªå®šä¹‰åª’ä½“ç±»å‹\" class=\"headerlink\" title=\"è‡ªå®šä¹‰åª’ä½“ç±»å‹\"></a>è‡ªå®šä¹‰åª’ä½“ç±»å‹</h5><p>æ ¹æ®ä¸åŒçš„å‰ç¼€åŒºåˆ†</p>\n<table>\n<thead>\n<tr>\n<th>æ ‘å</th>\n<th>å‰ç¼€</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Standards treeï¼ˆæ ‡å‡†æ ‘ï¼‰</td>\n<td>æ— </td>\n</tr>\n<tr>\n<td>Vendor treeï¼ˆä¾›åº”å•†æ ‘ï¼‰</td>\n<td>vnd</td>\n</tr>\n<tr>\n<td>Personal(Vanity) treeï¼ˆä¸ªäººæ ‘ï¼‰</td>\n<td>prs.</td>\n</tr>\n<tr>\n<td>Unregistered treeï¼ˆæœªæ³¨å†Œæ ‘ï¼‰</td>\n<td>x.</td>\n</tr>\n</tbody>\n</table>\n<p>æ ‡å‡†æ ‘æŒ‡RFCè¿›è¡Œäº†è§„èŒƒåŒ–åçš„åª’ä½“ç±»å‹ï¼Œå¦‚<code>text/html</code>é‚£æ ·ï¼Œæ²¡æœ‰å‰ç¼€ã€‚</p>\n<p>ä¾›åº”å•†æ ‘ä¸‹çš„æ•°æ®æ ¼å¼è™½ç„¶æ—¨åœ¨å¤§èŒƒå›´ä½¿ç”¨ï¼Œä½†å´ç”±ç‰¹å®šçš„ä¼ä¸šã€å›¢ä½“æ¥ç®¡ç†ã€‚ä¾‹å¦‚Excelæ–‡ä»¶ç”±å¾®è½¯å…¬å¸ç®¡ç†ï¼Œåª’ä½“ç±»å‹ä¸º<code>application/vnd.ms-excel</code>ã€‚å¯ä»¥è¿™æ ·å®šä¹‰<code>application/vnd.companyname.awesomeformat</code>ï¼ŒExcelç”±äºåæ°”å¤§ï¼Œæ‰€ä»¥çœç•¥äº†å…¬å¸åã€‚</p>\n<p>ä¸ªäººæ ‘ä¸‹çš„æ•°æ®æ ¼å¼åªåœ¨å®éªŒæ€§è´¨æˆ–æœªå…¬å¼€çš„äº§å“ç­‰ä¸­ä½¿ç”¨ã€‚</p>\n<p>æœªæ³¨å†Œæ ‘ä¸‹çš„æ•°æ®æ ¼å¼ä¸€èˆ¬ç”¨äºæœ¬åœ°ç¯å¢ƒå’Œç§æœ‰ç¯å¢ƒï¼Œä¸€èˆ¬ä¾›åº”å•†æ ‘å’Œä¸ªäººæ ‘åŸºæœ¬æ¶µç›–æœªæ³¨å†Œæ ‘æ‰€æ¶‰åŠçš„ç”¨ä¾‹ï¼Œå› æ­¤ä¸æ¨èè¿™ç§ç±»å‹ã€‚</p>\n<h5 id=\"è¯·æ±‚æ•°æ®ä¸åª’ä½“ç±»å‹\"><a href=\"#è¯·æ±‚æ•°æ®ä¸åª’ä½“ç±»å‹\" class=\"headerlink\" title=\"è¯·æ±‚æ•°æ®ä¸åª’ä½“ç±»å‹\"></a>è¯·æ±‚æ•°æ®ä¸åª’ä½“ç±»å‹</h5><ul>\n<li><p>Content-Type</p>\n<p>é¦–éƒ¨å’Œç›¸åº”æ¶ˆæ¯é¦–éƒ¨ä¸€æ ·ï¼Œè¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯ä½“æ˜¯ä»¥æ€æ ·çš„æ•°æ®æ ¼å¼å‘é€ç»™æœåŠ¡ç«¯çš„ã€‚å¦‚å®¢æˆ·ç«¯å‘é€POSTè¯·æ±‚æ—¶ï¼Œå¦‚æœä»¥JSONçš„å½¢å¼å‘é€æ•°æ®ï¼Œå°±åº”è¯¥åœ¨é¦–éƒ¨é‡ŒæŒ‡å®š<code>application/json</code>ï¼›å¦‚æœæ˜¯ä»Webé¡µé¢å‘é€è¡¨å•æ•°æ®ï¼Œå°±ä¼šä½¿ç”¨<code>application/x-www-form-urlencoded</code>ã€‚è¿›è¡Œè¡¨å•æ“ä½œæ—¶ï¼Œå¦‚æœæœ‰æ·»åŠ æ–‡ä»¶çš„æƒ…å†µï¼Œå°±è¦æŒ‡å®š<code>multipart/form-data</code>ã€‚</p>\n</li>\n<li><p>Accept</p>\n<p>æ­¤é¦–éƒ¨ç”¨äºå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¡¨æ˜èƒ½æ¥å—æ€æ ·çš„åª’ä½“ç±»å‹ã€‚</p>\n<p><code>Accept: text/html,application/xml;q=0.9,*/*;q=0.8</code></p>\n<p>qè¡¨ç¤ºå“è´¨å› æ•°ï¼ˆQuality Valueï¼‰ï¼ŒæŒ‡å®šè¯¥åª’ä½“ç±»å‹çš„ä¼˜å…ˆçº§ã€‚é»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºä¼˜å…ˆçº§æœ€é«˜ã€‚å¯ä»¥ä½¿ç”¨<code>*/*</code>è¡¨ç¤ºæ‰€æœ‰çš„åª’ä½“ç±»å‹ã€‚</p>\n<p>åœ¨ä½¿ç”¨æœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†ç¡®å®šè¿”å›çš„æ•°æ®æ ¼å¼æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¼šåœ¨å“åº”æ¶ˆæ¯çš„Varyé¦–éƒ¨é‡ŒæŒ‡å®šAcceptï¼Œæ ¹æ®Acceptçš„å€¼çš„ä¸åŒï¼Œå“åº”çš„è¯¦ç»†ä¹Ÿå¯èƒ½ä¸åŒã€‚</p>\n</li>\n</ul>\n<h4 id=\"åŒæºç­–ç•¥å’Œè·¨åŸŸèµ„æºå…±äº«\"><a href=\"#åŒæºç­–ç•¥å’Œè·¨åŸŸèµ„æºå…±äº«\" class=\"headerlink\" title=\"åŒæºç­–ç•¥å’Œè·¨åŸŸèµ„æºå…±äº«\"></a>åŒæºç­–ç•¥å’Œè·¨åŸŸèµ„æºå…±äº«</h4><h5 id=\"æ¦‚å¿µ-1\"><a href=\"#æ¦‚å¿µ-1\" class=\"headerlink\" title=\"æ¦‚å¿µ\"></a>æ¦‚å¿µ</h5><p>é€šè¿‡XHTTPRequestå¯¹ä¸åŒçš„åŸŸè¿›è¡Œè®¿é—®å°†æ— æ³•è·å–å“åº”æ•°æ®ï¼Œè¿™ä¸€åŸåˆ™ç§°ä¸º<strong>åŒæºç­–ç•¥</strong>ã€‚åŒæºç­–ç•¥ä¸»è¦æ˜¯å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œå®ƒåªå…è®¸ä»ç›¸åŒçš„æºæ¥è·å–æ•°æ®ï¼Œå¹¶é€šè¿‡URIé‡Œçš„schemaï¼ˆhttp, httpsç­‰ï¼‰ã€ä¸»æœºï¼ˆapi.example.comï¼‰ã€ç«¯å£å·çš„ç»„åˆæ¥åˆ¤æ–­æ˜¯å¦åŒæºã€‚ç”±äºJSONPæœ‰å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥åˆ¶å®šäº†<strong>è·¨åŸŸèµ„æºå…±äº«</strong>ï¼ˆCross-Origin Resource Sharingï¼ŒCORSï¼‰çš„æ–¹å¼è§£å†³è·¨åŸŸè®¿é—®çš„é—®é¢˜ã€‚</p>\n<h5 id=\"CORSåŸºæœ¬çš„äº¤äº’\"><a href=\"#CORSåŸºæœ¬çš„äº¤äº’\" class=\"headerlink\" title=\"CORSåŸºæœ¬çš„äº¤äº’\"></a>CORSåŸºæœ¬çš„äº¤äº’</h5><p>å½“å®æ–½CORSæ—¶ï¼Œå®¢æˆ·ç«¯è¦å…ˆå‘é€ä¸€ä¸ªåä¸ºOriginçš„è¯·æ±‚æ¶ˆæ¯é¦–éƒ¨ã€‚å¦‚ä»<code>http://www.example.com/</code>è®¿é—®<code>http://api/example.com/</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Origin: http:&#x2F;&#x2F;www.example.com</span><br></pre></td></tr></table></figure>\n<p>æœåŠ¡å™¨ä¿å­˜ç€å…è®¸è®¿é—®çš„ç™½åå•ï¼Œè¯·æ±‚å‘é€è¿‡æ¥ï¼Œä¼šåˆ¤æ–­æ˜¯å¦åœ¨ç™½åå•ä¸­ã€‚å¦‚æœä¸åœ¨ï¼Œåˆ™è¿”å›403ï¼›å¦‚æœåœ¨ï¼ŒæœåŠ¡ç«¯ä¼šåœ¨<code>Access-Control-Allow-Origin</code>å“åº”æ¶ˆæ¯é¦–éƒ¨é‡Œæ”¾å…¥å’Œè¯·æ±‚æ¶ˆæ¯çš„Originé¦–éƒ¨ç›¸åŒçš„æºå¹¶è¿”å›ï¼Œè¡¨ç¤ºå…è®¸è®¿é—®ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Access-Control-Allow-Origin: http:&#x2F;&#x2F;www.example.com</span><br></pre></td></tr></table></figure>\n<h5 id=\"CORSä¸ç”¨æˆ·è®¤è¯ä¿¡æ¯\"><a href=\"#CORSä¸ç”¨æˆ·è®¤è¯ä¿¡æ¯\" class=\"headerlink\" title=\"CORSä¸ç”¨æˆ·è®¤è¯ä¿¡æ¯\"></a>CORSä¸ç”¨æˆ·è®¤è¯ä¿¡æ¯</h5><p>CORSä¸­å‘é€ç”¨æˆ·è®¤è¯ä¿¡æ¯æ—¶ï¼Œå¿…é¡»å‘å¸ƒè¿½åŠ çš„HTTPå“åº”æ¶ˆæ¯é¦–éƒ¨ã€‚ä¾‹å¦‚å½“å®¢æˆ·ç«¯ä½¿ç”¨Cookieé¦–éƒ¨ã€Authenticationé¦–éƒ¨å‘é€ç”¨æˆ·è®¤è¯ä¿¡æ¯æ—¶ï¼ŒæœåŠ¡å™¨ç«¯éœ€è¦åƒä¸‹é¢è¿™æ ·å°†<code>Access-Control-Allow-Credentials</code>é¦–éƒ¨è®¾ä¸ºtrueï¼Œæ¥å‘ŠçŸ¥å®¢æˆ·ç«¯â€œå·²è¯†åˆ«æ‰€å‘é€çš„è®¤è¯ä¿¡æ¯â€ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Access-Control-Allow-Credentials: true</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœä¸è¿™ä¹ˆåšï¼Œæµè§ˆå™¨ä¼šç›´æ¥æ‹’ç»æ¥è‡ªæœåŠ¡å™¨çš„å“åº”æ¶ˆæ¯ã€‚</p>\n<p>åœ¨å„ä¸ªæµè§ˆå™¨çš„XHTTPRequestä¸­ï¼Œå‘é€cookieç­‰è®¤è¯ä¿¡æ¯æ—¶ï¼Œå¿…é¡»æŠŠwithCredentialså±æ€§è®¾ä¸ºtrueï¼Œå¦åˆ™å®¢æˆ·ç«¯å°†æ— æ³•å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚</p>\n<h4 id=\"ç§æœ‰çš„HTTPé¦–éƒ¨\"><a href=\"#ç§æœ‰çš„HTTPé¦–éƒ¨\" class=\"headerlink\" title=\"ç§æœ‰çš„HTTPé¦–éƒ¨\"></a>ç§æœ‰çš„HTTPé¦–éƒ¨</h4><p>å®šä¹‰æ–°çš„HTTPé¦–éƒ¨æ—¶ï¼Œä¸€èˆ¬éœ€è¦åœ¨æœ€å‰é¢åŠ <code>X-</code>ï¼Œæ¥ç€æ·»åŠ æœåŠ¡ã€åº”ç”¨ã€å›¢ä½“ç­‰åç§°ã€‚ä¾‹å¦‚GitHubä¼šé€šè¿‡<code>X-GitHub-Request-Id</code>çš„è‡ªå®šä¹‰é¦–éƒ¨æ¥é’ˆå¯¹æ¯ä¸ªè¯·æ±‚è¿”å›å”¯ä¸€çš„IDã€‚</p>\n<p>RFC 6648ä¸­å»ºè®®ä¸é€‚ç”¨<code>X-</code>å‰ç¼€ï¼Œå³ç›®å‰çš„æœ€ä½³æ–¹æ¡ˆï¼Œå…¶å®šä¹‰çš„è§„åˆ™å¹¶ä¸å…·å¤‡å¼ºåˆ¶å®æ–½çš„æ•ˆåŠ›ã€‚æ‰€ä»¥ï¼Œç”¨æˆ–ä¸ç”¨ï¼Œç»Ÿä¸€å°±å¥½ã€‚</p>\n<h3 id=\"ç¬¬äº”ç« ï¼šå¼€å‘æ–¹ä¾¿æ›´æ”¹è®¾è®¡çš„Web-API\"><a href=\"#ç¬¬äº”ç« ï¼šå¼€å‘æ–¹ä¾¿æ›´æ”¹è®¾è®¡çš„Web-API\" class=\"headerlink\" title=\"ç¬¬äº”ç« ï¼šå¼€å‘æ–¹ä¾¿æ›´æ”¹è®¾è®¡çš„Web API\"></a>ç¬¬äº”ç« ï¼šå¼€å‘æ–¹ä¾¿æ›´æ”¹è®¾è®¡çš„Web API</h3><p>ç‰ˆæœ¬è¿­ä»£ï¼š</p>\n<ul>\n<li>åœ¨URIè·¯å¾„çš„å¼€å¤´æ·»åŠ å½¢å¦‚v1çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœæ–°APIæ²¡æœ‰å‘ä¸‹å…¼å®¹ï¼Œåˆ™æ–°å¢ç‰ˆæœ¬å·ï¼›å¦‚æœæ˜¯bugï¼Œå¢åŠ buildç¼–å·ï¼Œå¦‚æœå‘ä¸‹å…¼å®¹çš„å˜æ›´æˆ–åºŸé™¤æŸäº›ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¢åŠ æ¬¡ç‰ˆæœ¬å·ã€‚</li>\n</ul>\n<h3 id=\"ç¬¬å…­ç« ï¼šå¼€å‘ç‰¢å›ºçš„Web-API\"><a href=\"#ç¬¬å…­ç« ï¼šå¼€å‘ç‰¢å›ºçš„Web-API\" class=\"headerlink\" title=\"ç¬¬å…­ç« ï¼šå¼€å‘ç‰¢å›ºçš„Web API\"></a>ç¬¬å…­ç« ï¼šå¼€å‘ç‰¢å›ºçš„Web API</h3><h4 id=\"ä¸­é—´äººæ”»å‡»ï¼ˆMan-In-The-Middle-Attack-MITMæ”»å‡»ï¼‰\"><a href=\"#ä¸­é—´äººæ”»å‡»ï¼ˆMan-In-The-Middle-Attack-MITMæ”»å‡»ï¼‰\" class=\"headerlink\" title=\"ä¸­é—´äººæ”»å‡»ï¼ˆMan-In-The-Middle Attack, MITMæ”»å‡»ï¼‰\"></a>ä¸­é—´äººæ”»å‡»ï¼ˆMan-In-The-Middle Attack, MITMæ”»å‡»ï¼‰</h4><p>ä½¿ç”¨HTTPSåŠ å¯†æœºåˆ¶è¿›è¡Œé€šä¿¡æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šä»æœåŠ¡ç«¯è·å¾—SSLè¯ä¹¦ï¼Œæ­¤æ—¶å°±è¦æ±‚å®¢æˆ·ç«¯éªŒè¯è¯¥è¯ä¹¦çš„çœŸä¼ªã€‚å¦‚æœå®¢æˆ·ç«¯æœªèƒ½æ‰§è¡ŒéªŒè¯å·¥ä½œï¼Œæ•´ä¸ªé€šä¿¡è¿‡ç¨‹å°±æœ‰å¯èƒ½é­åˆ°ä¸­é—´äººæ”»å‡»ï¼Œå¯¼è‡´é€šä¿¡å†…å®¹è¢«çªƒå–ã€‚</p>\n<p>æœ‰æ—¶ä¸€äº›ä¸å«æœºå¯†ä¿¡æ¯çš„APIï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨HTTPè€Œä¸ä½¿ç”¨HTTPSåŠ å¯†æœºåˆ¶ã€‚è™½ç„¶æ ¹æ®ä¸åŒç±»åˆ«çš„APIé‡‡ç”¨ä¸åŒçš„æ–¹å¼ç•¥å¾®æœ‰äº›å¤æ‚ï¼Œä½†ä»é™ä½è®¿é—®å»¶è¿Ÿã€æé«˜å“åº”é€Ÿåº¦çš„è§’åº¦æ¥è¯´ï¼Œæ— ç–‘æ˜¯è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ã€‚</p>\n<h4 id=\"XSS\"><a href=\"#XSS\" class=\"headerlink\" title=\"XSS\"></a>XSS</h4><p>XSSæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥å†…å®¹å¹¶å°†å…¶åµŒå…¥é¡µé¢çš„HTMLä»£ç ï¼Œå½“é¡µé¢åœ¨æµè§ˆå™¨é‡Œæ˜¾ç¤ºæ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„JavaScriptè„šæœ¬ã€‚ä¸€æ—¦é¡µé¢æ‰§è¡Œäº†ç”¨æˆ·è¾“å…¥çš„JavaScriptè„šæœ¬ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿè®¿é—®ä¼šè¯ã€cookieç­‰æµè§ˆå™¨é‡Œä¿å­˜çš„ä¿¡æ¯ï¼Œæˆ–è€…ç¯¡æ”¹é¡µé¢ï¼Œè¿˜èƒ½ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶è¿›è¡Œè·¨åŸŸè®¿é—®ï¼Œä»è€Œå®Œæˆä»»æ„æ“ä½œã€‚</p>\n<p>å¦‚æœåŠ¡å™¨è¿”å›</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"attr\">\"data\"</span>: <span class=\"string\">\"&lt;script&gt;alert('xss');&lt;/script&gt;\"</span>&#125;</span><br></pre></td></tr></table></figure>\n<p>åœ¨<code>Content-Type</code>é¦–éƒ¨çš„å€¼ä¸ºtext/htmlçš„æƒ…å†µä¸‹ï¼Œå¦‚æœæµè§ˆå™¨ç›´æ¥è®¿é—®è¯¥JSONæ•°æ®çš„URIï¼Œè¯¥JSONæ•°æ®ä¼šè¢«è§£é‡Šä¸ºHTMLï¼Œå¯¼è‡´é€šè¿‡SCRIPTå…ƒç´ åŠ è½½çš„JavaScriptä»£ç è¢«æµè§ˆå™¨æ‰§è¡Œã€‚æ‰€ä»¥ä¸ºäº†é˜²èŒƒï¼Œéœ€è¦è®©æµè§ˆå™¨å°†JSONæ ¼å¼çš„æ•°æ®åªè¯†åˆ«æˆJSONï¼Œå“åº”é¦–éƒ¨æ·»åŠ </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Content-Type: application&#x2F;json</span><br></pre></td></tr></table></figure>\n<p>ä½†æ˜¯IEä¼šæœ‰ä¸€ä¸ª<code>Content Sniffering</code>åŠŸèƒ½ï¼Œæ ¹æ®å®é™…çš„æ•°æ®å†…å®¹æ¥æ¨æµ‹æ•°æ®æ ¼å¼ã€‚æ‰€ä»¥åœ¨è¿”å›JSONç±»å‹çš„æ•°æ®æ—¶è¿˜åº”è¯¥æ·»åŠ </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">X-Content-Type-Options: nosniff</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¼šä½¿IE8ä»¥åçš„æµè§ˆå™¨ä¸å†ä½¿ç”¨<code>Content sniffering</code>åŠŸèƒ½ã€‚</p>\n<img src=\"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/XSS.jpeg\" class>\n<h4 id=\"XSRF-CSRF-Cross-Site-Request-Forgery\"><a href=\"#XSRF-CSRF-Cross-Site-Request-Forgery\" class=\"headerlink\" title=\"XSRF/CSRF(Cross Site Request Forgery)\"></a>XSRF/CSRF(Cross Site Request Forgery)</h4><p>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ã€‚é€šè¿‡è·¨ç«™ç‚¹å‘é€ä¼ªé€ çš„è¯·æ±‚ï¼Œè®©æœåŠ¡å™¨æ‰§è¡Œç”¨æˆ·æ„æ„¿æ„å¤–çš„å¤„ç†ã€‚</p>\n<img src=\"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/CSRF.jpeg\" class>\n<p>å¸¸è§ä¾‹å­ï¼šå‘å…¬å‘Šæ¿ä»»æ„å‘å¸–ï¼Œæ”»å‡»ç«™ç‚¹ä»¥é€ æˆæŸå¤±ï¼›æ¶æ„åˆ·å¥½è¯„æˆ–å·®è¯„ã€‚</p>\n<p>é˜²èŒƒï¼š</p>\n<ul>\n<li><p>ç¦æ­¢é€šè¿‡GETæ–¹æ³•æ¥ä¿®æ”¹æœåŠ¡ç«¯çš„æ•°æ®ï¼Œå¦‚æ·»åŠ æ”¶è—ã€å…¬å‘Šæ¿å‘å¸–ç­‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±æ— æ³•ç”¨IMGå…ƒç´ ç­‰åµŒå…¥ç”¨äºæ”»å‡»çš„è„šæœ¬äº†ã€‚</p>\n</li>\n<li><p>CSRF ä»¤ç‰Œã€‚</p>\n<img src=\"/%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/CSRF_TOKEN.jpeg\" class>\n</li>\n<li><p>å¦‚æœWeb APIåªå­˜åœ¨ç”±XMLHTTPRequestæˆ–éæµè§ˆå™¨å®¢æˆ·ç«¯å‘èµ·çš„è®¿é—®ï¼Œå°±è¦æ±‚å®¢æˆ·ç«¯ä½¿ç”¨æŸç§æœºåˆ¶åœ¨è¯·æ±‚é™„åŠ ä¸€ä¸ªç‰¹æ®Šçš„é¦–éƒ¨ï¼Œå¦‚æœè¯·æ±‚æ¶ˆæ¯ä¸­ä¸å­˜åœ¨è¿™ä¸€ç‰¹æ®Šçš„é¦–éƒ¨ï¼Œå°±æ‹’ç»è®¿é—®ã€‚å¦‚<code>X-Request-With</code>é¦–éƒ¨</p>\n</li>\n</ul>\n<h4 id=\"JSONåŠ«æŒ\"><a href=\"#JSONåŠ«æŒ\" class=\"headerlink\" title=\"JSONåŠ«æŒ\"></a>JSONåŠ«æŒ</h4><p>æœªå®Œå¾…ç»­ã€‚</p>\n","categories":["Web"],"tags":["API","RESTful"]},{"title":"å·¥ä½œä¸­é¡¹ç›®ä¼˜åŒ–å°è®°","url":"/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%B0%8F%E8%AE%B0/","content":"<h4 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h4><h5 id=\"åšä¸»ç›®å‰æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»£ç ä»æŸé©¬å¾®åº—é‚£é‡Œä¹°æ¥ï¼Œç¤¾äº¤é‡‘èç›¸å…³ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥è¯´æ˜¯é€»è¾‘æ··ä¹±ï¼Œæ¯«æ— å¯é‡ç”¨æ€§ï¼Œè€Œä¸”åˆæ— æ–‡æ¡£ï¼Œgit-messageä¸­ä¸€å †æ¯«æ— ç”¨å¤„çš„â€œupdateâ€ï¼ŒPEP8è§„èŒƒï¼Ÿä¸å­˜åœ¨çš„ã€‚ä½¿å¾—æˆ‘æ¯æ—¥æ¸¸èµ°åœ¨è¢«ä»£ç åŠé€€çš„è¾¹ç¼˜ã€‚\"><a href=\"#åšä¸»ç›®å‰æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»£ç ä»æŸé©¬å¾®åº—é‚£é‡Œä¹°æ¥ï¼Œç¤¾äº¤é‡‘èç›¸å…³ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥è¯´æ˜¯é€»è¾‘æ··ä¹±ï¼Œæ¯«æ— å¯é‡ç”¨æ€§ï¼Œè€Œä¸”åˆæ— æ–‡æ¡£ï¼Œgit-messageä¸­ä¸€å †æ¯«æ— ç”¨å¤„çš„â€œupdateâ€ï¼ŒPEP8è§„èŒƒï¼Ÿä¸å­˜åœ¨çš„ã€‚ä½¿å¾—æˆ‘æ¯æ—¥æ¸¸èµ°åœ¨è¢«ä»£ç åŠé€€çš„è¾¹ç¼˜ã€‚\" class=\"headerlink\" title=\"åšä¸»ç›®å‰æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»£ç ä»æŸé©¬å¾®åº—é‚£é‡Œä¹°æ¥ï¼Œç¤¾äº¤é‡‘èç›¸å…³ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥è¯´æ˜¯é€»è¾‘æ··ä¹±ï¼Œæ¯«æ— å¯é‡ç”¨æ€§ï¼Œè€Œä¸”åˆæ— æ–‡æ¡£ï¼Œgit messageä¸­ä¸€å †æ¯«æ— ç”¨å¤„çš„â€œupdateâ€ï¼ŒPEP8è§„èŒƒï¼Ÿä¸å­˜åœ¨çš„ã€‚ä½¿å¾—æˆ‘æ¯æ—¥æ¸¸èµ°åœ¨è¢«ä»£ç åŠé€€çš„è¾¹ç¼˜ã€‚\"></a>åšä¸»ç›®å‰æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»£ç ä»æŸé©¬å¾®åº—é‚£é‡Œä¹°æ¥ï¼Œç¤¾äº¤é‡‘èç›¸å…³ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥è¯´æ˜¯é€»è¾‘æ··ä¹±ï¼Œæ¯«æ— å¯é‡ç”¨æ€§ï¼Œè€Œä¸”åˆæ— æ–‡æ¡£ï¼Œgit messageä¸­ä¸€å †æ¯«æ— ç”¨å¤„çš„â€œupdateâ€ï¼ŒPEP8è§„èŒƒï¼Ÿä¸å­˜åœ¨çš„ã€‚ä½¿å¾—æˆ‘æ¯æ—¥æ¸¸èµ°åœ¨è¢«ä»£ç åŠé€€çš„è¾¹ç¼˜ã€‚</h5><h5 id><a href=\"#\" class=\"headerlink\" title></a><a id=\"more\"></a></h5><h4 id=\"éœ‡æƒŠï¼ä¸€æ¬¡è¯·æ±‚1Wå¤šæ¡sqlã€‚\"><a href=\"#éœ‡æƒŠï¼ä¸€æ¬¡è¯·æ±‚1Wå¤šæ¡sqlã€‚\" class=\"headerlink\" title=\"éœ‡æƒŠï¼ä¸€æ¬¡è¯·æ±‚1Wå¤šæ¡sqlã€‚\"></a>éœ‡æƒŠï¼ä¸€æ¬¡è¯·æ±‚1Wå¤šæ¡sqlã€‚</h4><p>è¯¥åŠŸèƒ½ä¸ºå•†å“çš„çƒ­é”€åˆ†ç±»è¡¨å•ã€‚ä¹‹å‰å¤§æ¦‚çœ‹äº†ä¸€çœ¼ï¼Œæ•°æ®æ˜¯å…ˆä»redisä¸­å–ï¼Œrediså€¼å­˜çš„æ°¸ä¹…æœ‰æ•ˆï¼Œæ²¡æœ‰çš„è¯æŸ¥DBã€‚ç„¶åæŸå¤©æ¸…äº†ä¸€ä¸‹æµ‹è¯•æ•°æ®åº“çš„redisï¼Œè¿™ä¸‹å¥½äº†ï¼Œæ¥å£è¶…æ—¶ã€‚æŸ¥äº†ä¸€ä¸‹silkå‘ç°è¿è¡Œäº†1wå¤šæ¬¡sqlã€‚</p>\n<img src=\"/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%B0%8F%E8%AE%B0/before.png\" class>\n<p>ä¸‡æ¶ä¹‹æºçš„ä»£ç ï¼Œéš¾æ€ªæŸ¥äº†1Wå¤šæ¬¡ï¼Œè¿™å¤–é”®couponï¼Œæ¯æ¬¡éƒ½è¦æŸ¥è¯¢æ•°æ®åº“ã€‚è€Œä¸”è¿™é‡Œchannelä¹Ÿæ²¡æœ‰ç”¨setï¼Œè¿™ç®€ç›´åŸºç¡€æ•°æ®ç»“æ„éƒ½æ²¡æŒæ¡å•Šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">tbkcoupons = TbkCouponTags.objects.filter(is_hot=<span class=\"literal\">True</span>)</span><br><span class=\"line\">channel = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> tbkcoupons:</span><br><span class=\"line\">    cc = t.coupon.channel</span><br><span class=\"line\">    <span class=\"keyword\">if</span> cc <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> channel:</span><br><span class=\"line\">        channel.append(cc)</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨select_relatedç®€å•çš„å¤„ç†äº†ä¸€ä¸‹</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">tbkcoupons = TbkCouponTags.objects.select_related(<span class=\"string\">'coupon'</span>).filter(is_hot=<span class=\"literal\">True</span>)</span><br><span class=\"line\">channel = set()</span><br><span class=\"line\"><span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> tbkcoupons:</span><br><span class=\"line\">    cc = t.coupon.channel</span><br><span class=\"line\">    channel.add(cc)</span><br></pre></td></tr></table></figure>\n<img src=\"/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%B0%8F%E8%AE%B0/baokuan_1.png\" class>\n<p>å¿«äº†10å€ï¼Œå†·é™ä¸€ä¸‹ï¼Œæ€è€ƒä¸€ä¸‹è¿™å¤§å“¥åˆ°åº•è¦å¹²å˜›ï¼Œåé¢çœ‹åˆ°æ‹¿åˆ°äº†<code>tbkcoupons</code>æ²¡æœ‰å†åšå…¶ä»–ç”¨å¤„ã€‚æ‰€ä»¥è¿™ä¸œè¥¿å®Œå…¨å¯ä»¥ä½¿ç”¨åå‘è¿æ¥åŠ å»é‡æ¥è§£å†³å•Šï¼Œçœ‹æ¥sqlåŸºç¡€ä¹Ÿæ¬ ç¼ºã€‚è¿™é‡Œæ”¹æˆäº†values+distinctæ¥å¤„ç†ï¼Œå› ä¸ºmysqlä¸æ”¯æŒdistinct(â€˜channelâ€™)è¿™ç§æŒ‡å®šå­—æ®µçš„å½¢å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">tbkcoupons = TbkCoupon.objects.filter(tbkcoupontags__is_hot=<span class=\"literal\">True</span>).values(<span class=\"string\">'channel'</span>).distinct()</span><br><span class=\"line\">channels = [c[<span class=\"string\">'channel'</span>] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> tbkcoupons]</span><br></pre></td></tr></table></figure>\n<p>åé¢çš„é€»è¾‘åˆ¤æ–­ï¼Œåˆä½¿ç”¨äº†ä¸€å †çš„<code>ifelse</code>ï¼Œçœ‹ç€ä¸æ¸…æ™°ï¼Œå°†å…¶æ”¹ä¸ºäº†å­—å…¸ã€‚è¿™äº›å€’ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p>\n<p>æœ€åï¼Œä¿®æ”¹äº†ä¸€äº›å–å€¼çš„é€»è¾‘ã€‚æœ€åå°†ç»“æœä¿å­˜åˆ°äº†redisä¸­ã€‚å‘½ä¸­ç¼“å­˜çš„è¯å¤§æ¦‚10+msã€‚</p>\n<img src=\"/%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%B0%8F%E8%AE%B0/baokuan_2.png\" class>\n<p>åæ¥åˆå‘ç°äº†ä¸€ä¸ªæœ‰æ„æ€çš„äº‹æƒ…ï¼Œä»–å¥½åƒä¹ŸçŸ¥é“è¿™ä¸ªæŸ¥è¯¢æŒºæ…¢çš„ï¼Œæ‰€ä»¥ç”¨celerybeatå®ç°äº†ä¸€ä¸ªå‘¨æœŸä»»åŠ¡ï¼Œå®šæ—¶åœ°æ›´æ–°è¿™ä¸ªredisã€‚</p>\n<h4 id=\"è¿”å›æŒ‰ç…§å½“å‰æŸ¥è¯¢æ•°ç»„é¡ºåºçš„querysetã€‚\"><a href=\"#è¿”å›æŒ‰ç…§å½“å‰æŸ¥è¯¢æ•°ç»„é¡ºåºçš„querysetã€‚\" class=\"headerlink\" title=\"è¿”å›æŒ‰ç…§å½“å‰æŸ¥è¯¢æ•°ç»„é¡ºåºçš„querysetã€‚\"></a>è¿”å›æŒ‰ç…§å½“å‰æŸ¥è¯¢æ•°ç»„é¡ºåºçš„querysetã€‚</h4><p>é‡è§äº†è¿™æ ·ä¸€ä¸ªéœ€æ±‚ ï¼Œæ”¶è—åˆ—è¡¨éœ€è¦è¿”å›æŒ‰ç…§æ”¶è—é¡ºåºçš„å•†å“ã€‚è€Œè¿™ä¸ªé¡ºåºä¿å­˜åœ¨javaåå°ã€‚é€šè¿‡Thriftæ¥å£è°ƒç”¨ï¼Œè¿”å›äº†ä¸€ä¸ªidåˆ—è¡¨ï¼Œè€Œå•†å“ä¿å­˜åœ¨æˆ‘è¿™é‡Œã€‚éœ€è¦æ ¹æ®è¿™ä¸ªidçš„é¡ºåºè¿”å›querysetã€‚<a href=\"https://stackoverflow.com/questions/4916851/django-get-a-queryset-from-array-of-ids-in-specific-order\" target=\"_blank\" rel=\"noopener\">django-get-a-queryset-from-array-of-ids-in-specific-order</a>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.db.models <span class=\"keyword\">import</span> Case, When</span><br><span class=\"line\">preserved = Case(*[When(num_iid=num_iid, then=pos) <span class=\"keyword\">for</span> pos, num_iid <span class=\"keyword\">in</span> enumerate(num_iids)])</span><br><span class=\"line\">TbkCoupon.objects.filter(num_iid__in=num_iids).order_by(preserved)</span><br></pre></td></tr></table></figure>\n","categories":["Project"],"tags":["Django","Django-rest-framework"]},{"title":"å‰‘æŒ‡Offer","url":"/%E5%89%91%E6%8C%87Offer/","content":"<h3 id=\"2-å®ç°Singletonæ¨¡å¼\"><a href=\"#2-å®ç°Singletonæ¨¡å¼\" class=\"headerlink\" title=\"2. å®ç°Singletonæ¨¡å¼\"></a>2. å®ç°Singletonæ¨¡å¼</h3><h4 id=\"ä½¿ç”¨-new-æ§åˆ¶å®ä¾‹åˆ›å»ºè¿‡ç¨‹\"><a href=\"#ä½¿ç”¨-new-æ§åˆ¶å®ä¾‹åˆ›å»ºè¿‡ç¨‹\" class=\"headerlink\" title=\"ä½¿ç”¨__new__æ§åˆ¶å®ä¾‹åˆ›å»ºè¿‡ç¨‹\"></a>ä½¿ç”¨<code>__new__</code>æ§åˆ¶å®ä¾‹åˆ›å»ºè¿‡ç¨‹</h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span>:</span></span><br><span class=\"line\">    _instance = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__new__</span><span class=\"params\">(cls, *args, **kw)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cls._instance:</span><br><span class=\"line\">            cls._instance = super().__new__(cls)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cls._instance</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span><span class=\"params\">(Singleton)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"ä½¿ç”¨decorator\"><a href=\"#ä½¿ç”¨decorator\" class=\"headerlink\" title=\"ä½¿ç”¨decorator\"></a>ä½¿ç”¨decorator</h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> wraps</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleton</span><span class=\"params\">(cls)</span>:</span></span><br><span class=\"line\">    instances = &#123;&#125;</span><br><span class=\"line\"><span class=\"meta\">    @wraps(cls)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_instance</span><span class=\"params\">(*args, **kw)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cls <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> instances:</span><br><span class=\"line\">            instances[cls] = cls(*args, **kw)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> instances[cls]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> get_instance</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@singleton</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Myclass</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"ä½¿ç”¨å…ƒç±»\"><a href=\"#ä½¿ç”¨å…ƒç±»\" class=\"headerlink\" title=\"ä½¿ç”¨å…ƒç±»\"></a>ä½¿ç”¨å…ƒç±»</h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Singleton</span><span class=\"params\">(type)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, *args, **kwargs)</span>:</span></span><br><span class=\"line\">        self.__instance = <span class=\"literal\">None</span></span><br><span class=\"line\">        super().__init__(*args, **kwargs)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__call__</span><span class=\"params\">(self, *args, **kwargs)</span>:</span> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.__instance <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            self.__instance = super().__call__(*args, **kwargs)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.__instance </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.__instance</span><br><span class=\"line\"><span class=\"comment\"># Example</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Spam</span><span class=\"params\">(metaclass=Singleton)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">\t\tprint(<span class=\"string\">'Creating Spam'</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—\"><a href=\"#3-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—\" class=\"headerlink\" title=\"3 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—\"></a>3 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/623a5ac0ea5b4e5f95552655361ae0a8?tpId=13&amp;tqId=11203&amp;tPage=1&amp;rp=1&amp;ru=/ta/coding-interviews&amp;qru=/ta/coding-interviews/question-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><p>ä¹¦ä¸­å‚æ•°è¿˜ä¼ äº†ä¸€ä¸ªæ•°ç»„ç”¨æ¥ä¿å­˜é‡å¤çš„æ•°å­—ï¼Œèº«ä¸ºä¸€ä¸ªPythonerï¼Œç›´æ¥è¿”å›tupleã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">duplicate</span><span class=\"params\">(nums: list)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> i != num:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num == nums[num]:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span>, num</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                nums[i], nums[num] = nums[num], nums[i]</span><br><span class=\"line\">                num = nums[i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span>, <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-1-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„\"><a href=\"#3-1-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„\" class=\"headerlink\" title=\"3_1 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„\"></a>3_1 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„</h3><h4 id=\"AcWingä¼ é€é—¨\"><a href=\"#AcWingä¼ é€é—¨\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/15/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>å…ƒç´ èŒƒå›´å˜æˆäº†1~nã€‚æ­¤æ–¹æ³•æœ‰ç¼ºé™·ï¼Œä¸èƒ½æ‰¾å‡ºæ‰€æœ‰çš„é‡å¤çš„æ•°å­—ï¼Œå› ä¸ºåœ¨1~2çš„èŒƒå›´é‡Œæœ‰1å’Œ2ä¸¤ä¸ªæ•°å­—ï¼Œè¿™ä¸ªèŒƒå›´çš„æ•°å­—ä¹Ÿå‡ºç°ä¸¤æ¬¡ï¼Œä¸èƒ½ç¡®å®šæ˜¯æ¯ä¸ªæ•°å­—å„å‡ºç°ä¸€æ¬¡è¿˜æ˜¯æŸä¸ªæ•°å­—å‡ºç°äº†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find_duplicate</span><span class=\"params\">(nums: list)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_range</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(i&lt;=num&lt;=j <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums)</span><br><span class=\"line\"></span><br><span class=\"line\">    lo = <span class=\"number\">1</span></span><br><span class=\"line\">    hi = len(nums) - <span class=\"number\">1</span>     <span class=\"comment\"># nä¸ºèŒƒå›´</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        count = count_range(lo, mid)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo == hi:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> count &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> lo</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> count &gt; mid-lo+<span class=\"number\">1</span>:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾\"><a href=\"#4-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾\" class=\"headerlink\" title=\"4. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾\"></a>4. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-1\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-1\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/abc3fe2ce8e146608e868a70efebf62e?tpId=13&amp;tqId=11154&amp;tPage=1&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-1\"><a href=\"#AcWingä¼ é€é—¨-1\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/16/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><h4 id=\"LeetCodeä¼ é€é—¨\"><a href=\"#LeetCodeä¼ é€é—¨\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/search-a-2d-matrix-ii/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>é€‰å–å³ä¸Šè§’ä¸ºèµ·å§‹ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(target, array)</span>:</span></span><br><span class=\"line\">    row = <span class=\"number\">0</span></span><br><span class=\"line\">    col = len(array[<span class=\"number\">0</span>]) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> col &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> row &lt;= len(array)<span class=\"number\">-1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> array[row][col] &gt; target:</span><br><span class=\"line\">            col -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> array[row][col] &lt; target:</span><br><span class=\"line\">            row += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>æ›´ä¸ºä¼˜é›…çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchMatrix</span><span class=\"params\">(self, matrix, target)</span>:</span></span><br><span class=\"line\">    j = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> matrix:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> j + len(row) <span class=\"keyword\">and</span> row[j] &gt; target:</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> row[j] == target:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"5-æ›¿æ¢ç©ºæ ¼\"><a href=\"#5-æ›¿æ¢ç©ºæ ¼\" class=\"headerlink\" title=\"5.æ›¿æ¢ç©ºæ ¼\"></a>5.æ›¿æ¢ç©ºæ ¼</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-2\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-2\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/4060ac7e3e404ad1a894ef3e17650423?tpId=13&amp;tqId=11155&amp;tPage=1&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-2\"><a href=\"#AcWingä¼ é€é—¨-2\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/17/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">replaceSpace</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(c <span class=\"keyword\">if</span> c!=<span class=\"string\">' '</span> <span class=\"keyword\">else</span> <span class=\"string\">'%20'</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s)</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨\"><a href=\"#6-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨\" class=\"headerlink\" title=\"6.ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨\"></a>6.ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h3><h4 id=\"AcWingä¼ é€é—¨-3\"><a href=\"#AcWingä¼ é€é—¨-3\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/18/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printListFromTailToHead</span><span class=\"params\">(self, listNode)</span>:</span></span><br><span class=\"line\">    stack, h = [], listNode</span><br><span class=\"line\">    <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">        stack.append(h.val)</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-é‡å»ºäºŒå‰æ ‘\"><a href=\"#7-é‡å»ºäºŒå‰æ ‘\" class=\"headerlink\" title=\"7.é‡å»ºäºŒå‰æ ‘\"></a>7.é‡å»ºäºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-1\"><a href=\"#LeetCodeä¼ é€é—¨-1\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>è¯´æ˜ï¼šæ ¹æ®å‰åºéå†å’Œä¸­åºéå†é‡å»ºäºŒå‰æ ‘ï¼Œå‡è®¾éå†ç»“æœä¸­ä¸åŒ…å«é‡å¤çš„æ•°å­—ã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(preorder, inorder)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> preorder == []:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root_val = preorder[<span class=\"number\">0</span>]</span><br><span class=\"line\">    root = TreeNode(root_val)</span><br><span class=\"line\">    cut = inorder.index(root_val)</span><br><span class=\"line\">    root.left = buildTree(preorder[<span class=\"number\">1</span>:cut+<span class=\"number\">1</span>], inorder[:cut])</span><br><span class=\"line\">    root.right = buildTree(preorder[cut+<span class=\"number\">1</span>:], inorder[cut+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure><br>æ–¹æ³•äºŒï¼šç©ºé—´å¤æ‚åº¦æ›´ä½çš„è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(self, preorder: <span class=\"string\">'List[int]'</span>, inorder: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(stop)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> inorder <span class=\"keyword\">and</span> inorder[<span class=\"number\">-1</span>] != stop:</span><br><span class=\"line\">            root = TreeNode(preorder.pop())</span><br><span class=\"line\">            root.left = build(root.val)</span><br><span class=\"line\">            inorder.pop()</span><br><span class=\"line\">            root.right = build(stop)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    preorder.reverse()</span><br><span class=\"line\">    inorder.reverse()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"literal\">None</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\"><a href=\"#8-äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\" class=\"headerlink\" title=\"8 äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\"></a>8 äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-3\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-3\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/9023a0c988684a53960365b889ceaf5e?tpId=13&amp;tqId=11210&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking&amp;tPage=3\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-4\"><a href=\"#AcWingä¼ é€é—¨-4\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/31/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>å¦‚æœèŠ‚ç‚¹æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå³å­æ ‘ä¸­çš„æœ€å·¦èŠ‚ç‚¹ï¼›</p>\n<p>å¦‚æœèŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆçˆ¶èŠ‚ç‚¹å°±æ˜¯ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›</p>\n<p>å¦‚æœèŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œæ²¿ç€çˆ¶èŠ‚ç‚¹å‘ä¸Šéå†æ‰¾åˆ°ç¥–å…ˆèŠ‚ç‚¹ä¸­ï¼Œä¸ºçˆ¶èŠ‚ç‚¹å·¦å­èŠ‚ç‚¹çš„ç‚¹ï¼Œè¿™ä¸ªå·¦å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">GetNext</span><span class=\"params\">(self, pNode)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pNode:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># æœ‰å³å­æ ‘ï¼Œå³å­æ ‘ä¸­æœ€å·¦èŠ‚ç‚¹</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> pNode.right:</span><br><span class=\"line\">        pre = pNode.right</span><br><span class=\"line\">        <span class=\"keyword\">while</span> pre.left:</span><br><span class=\"line\">            pre = pre.left</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pre</span><br><span class=\"line\">    <span class=\"keyword\">while</span> pNode.next:</span><br><span class=\"line\">        parent = pNode.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> parent.left == pNode:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> parent</span><br><span class=\"line\">        pNode = parent</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—\"><a href=\"#9-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—\" class=\"headerlink\" title=\"9.ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—\"></a>9.ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</h3><h4 id=\"LeetCodeä¼ é€é—¨-2\"><a href=\"#LeetCodeä¼ é€é—¨-2\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/implement-queue-using-stacks/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.s1 = []</span><br><span class=\"line\">        self.s2 = []</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.s1:</span><br><span class=\"line\">            self.s2.append(self.s1.pop())</span><br><span class=\"line\">        self.s1.append(x)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.s2:</span><br><span class=\"line\">            self.s1.append(self.s2.pop())</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peek</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1 == []</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-1ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ\"><a href=\"#9-1ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ\" class=\"headerlink\" title=\"9.1ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ\"></a>9.1ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ</h3><h4 id=\"LeetCodeä¼ é€é—¨-3\"><a href=\"#LeetCodeä¼ é€é—¨-3\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/implement-stack-using-queues/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>ä¸¤ä¸ªé˜Ÿåˆ—<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">        self.q1, self.q2 = deque(), deque()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.append(x)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.q1:</span><br><span class=\"line\">            self.q2.append(self.q1.popleft())</span><br><span class=\"line\">        self.q1, self.q2 = self.q2, self.q1</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q1.popleft()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q1[<span class=\"number\">0</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> self.q1</span><br></pre></td></tr></table></figure><br>å•é˜Ÿåˆ—æ—‹è½¬<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">        self.q = deque()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q.append(x)</span><br><span class=\"line\">        <span class=\"comment\"># self.q.rotate(1)  è¿™é‡Œæ˜¯ç”¨äº†åŒç«¯é˜Ÿåˆ—çš„ç‰¹æ€§</span></span><br><span class=\"line\">        <span class=\"comment\"># self.q.rotate(1-len(self.q))  è¿™é‡Œå’Œä¸‹é¢å¾ªç¯æ˜¯ä¸€æ ·çš„æ•ˆæœ</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(self.q)<span class=\"number\">-1</span>):</span><br><span class=\"line\">            self.q.append(self.q.popleft())</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q.popleft()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q[<span class=\"number\">0</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> self.q</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"10-æ–æ³¢é‚£å¥‘æ•°åˆ—\"><a href=\"#10-æ–æ³¢é‚£å¥‘æ•°åˆ—\" class=\"headerlink\" title=\"10.æ–æ³¢é‚£å¥‘æ•°åˆ—\"></a>10.æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><h4 id=\"LeetCodeä¼ é€é—¨-4\"><a href=\"#LeetCodeä¼ é€é—¨-4\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/fibonacci-number/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fibonacci</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    a = b = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        a, b = b, a+b</span><br><span class=\"line\">    <span class=\"keyword\">return</span> b</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—\"><a href=\"#11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—\" class=\"headerlink\" title=\"11.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—\"></a>11.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</h3><h4 id=\"LeetCodeä¼ é€é—¨-5\"><a href=\"#LeetCodeä¼ é€é—¨-5\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ€è·¯ï¼šé€šè¿‡äºŒåˆ†æ³•ä¸æ–­ç¼©å°èŒƒå›´ï¼Œç”±äºmidæ˜¯æ•´é™¤ï¼Œæœ€ål==midï¼Œå¹¶ä¸”nums[mid] &gt; nums[r]çš„ã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find_min</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> nums[l] &lt; nums[r]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[l]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; nums[l]:</span><br><span class=\"line\">            l = mid</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &lt; nums[r]:</span><br><span class=\"line\">            r = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums[r]</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"12-çŸ©é˜µä¸­çš„è·¯å¾„\"><a href=\"#12-çŸ©é˜µä¸­çš„è·¯å¾„\" class=\"headerlink\" title=\"12.çŸ©é˜µä¸­çš„è·¯å¾„\"></a>12.çŸ©é˜µä¸­çš„è·¯å¾„</h3><h4 id=\"LeetCodeä¼ é€é—¨-6\"><a href=\"#LeetCodeä¼ é€é—¨-6\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/word-search/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, board: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j, remain)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> remain: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        origin, board[i][j] = board[i][j], <span class=\"string\">'-'</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;N <span class=\"keyword\">and</span> remain[<span class=\"number\">0</span>]==board[x][y]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dfs(x, y, remain[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        board[i][j] = origin</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    M, N = len(board), len(board[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> any(dfs(i, j, word[<span class=\"number\">1</span>:]) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N) <span class=\"keyword\">if</span> word[<span class=\"number\">0</span>]==board[i][j])</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´\"><a href=\"#13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´\" class=\"headerlink\" title=\"13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´\"></a>13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</h3><h4 id=\"AcWingä¼ é€é—¨-5\"><a href=\"#AcWingä¼ é€é—¨-5\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/22/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">movingCount</span><span class=\"params\">(self, m: int, n: int, k: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    visited = [[<span class=\"literal\">False</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_arive</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(map(int, str(i)+str(j))) &lt;= k</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> is_arive(i, j):</span><br><span class=\"line\">            visited[i][j] = <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;n <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> visited[x][y]:</span><br><span class=\"line\">                    dfs(x, y)</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sum(visited, []))</span><br></pre></td></tr></table></figure>\n<h3 id=\"14-å‰ªç»³å­\"><a href=\"#14-å‰ªç»³å­\" class=\"headerlink\" title=\"14.å‰ªç»³å­\"></a>14.å‰ªç»³å­</h3><h4 id=\"AcWingä¼ é€é—¨-6\"><a href=\"#AcWingä¼ é€é—¨-6\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/24/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>è¯´æ˜ï¼šæ•°å­¦æ€æƒ³ï¼Œå½“<code>n&gt;=5</code>æ—¶ï¼Œ<code>2(n-2)&gt;n</code>å¹¶ä¸”<code>3(n-3)&gt;n</code>ï¼Œè€Œä¸”<code>3(n-3) &gt;= 2(n-2)</code>ï¼Œæ‰€ä»¥å°½å¯èƒ½å¤šå‰ªé•¿åº¦ä¸º3çš„ç»³å­ã€‚å¦‚æœé•¿åº¦ä¸º4çš„æ—¶å€™ï¼Œ<code>2*2&gt;3*1</code>ï¼Œæ‰€ä»¥4çš„æ—¶å€™å°±å‰ªæˆ<code>2*2</code>çš„ä¸¤æ®µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cut_rope</span><span class=\"params\">(length)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> length &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> length == <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> length == <span class=\"number\">3</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># å°½å¯èƒ½å‰ªå‡º3</span></span><br><span class=\"line\">    timesOf3 = length // <span class=\"number\">3</span></span><br><span class=\"line\">    <span class=\"comment\"># å¦‚æœæœ€åä½™1ï¼Œåˆ™ç•™ä¸€æ®µ4åˆ†æˆä¸¤åŠ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> length-timesOf3*<span class=\"number\">3</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">        timeOf3 -= <span class=\"number\">1</span></span><br><span class=\"line\">    timesOf2 = (length-timesOf3*<span class=\"number\">3</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"number\">3</span>**timesOf3) * (<span class=\"number\">2</span>**timesOf2)</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°\"><a href=\"#15-äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°\" class=\"headerlink\" title=\"15.äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°\"></a>15.äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</h3><h4 id=\"LeetCodeä¼ é€é—¨-7\"><a href=\"#LeetCodeä¼ é€é—¨-7\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/number-of-1-bits/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šå¸¸è§„è§£æ³•ï¼Œä½¿ç”¨1ä¸nä½œä¸è¿ç®—ï¼Œå¦‚æœä¸æ˜¯0è¯´æ˜ï¼Œå«æœ‰ä¸€ä¸ª1ã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hamming_weight</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        count += (n&amp;<span class=\"number\">1</span>==<span class=\"number\">1</span>)</span><br><span class=\"line\">        n &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure><br>æ–¹æ³•äºŒï¼šå…³é”®ç‚¹æ˜¯ï¼Œä¸€ä¸ªæ•°nå’Œn-1çš„ä¸è¿ç®—æ“ä½œï¼Œç›¸å½“äºå»æ‰äº†æœ€å³é¢çš„1ã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hamming_weigth</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    bits = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        bits += <span class=\"number\">1</span></span><br><span class=\"line\">        n = (n<span class=\"number\">-1</span>) &amp; n</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bits</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹\"><a href=\"#16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹\" class=\"headerlink\" title=\"16.æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹\"></a>16.æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</h3><h4 id=\"LeetCodeä¼ é€é—¨-8\"><a href=\"#LeetCodeä¼ é€é—¨-8\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/powx-n/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹<code>ans *= ans</code>ä¸èƒ½å†™æˆ<code>ans = ans**2</code>å› ä¸ºæµ®ç‚¹æ•°æ˜¯æœ‰èŒƒå›´çš„ï¼Œå¯èƒ½ä¼šè¶…å‡ºèŒƒå›´æŠ¥é”™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">myPow</span><span class=\"params\">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pow_with_unsigned</span><span class=\"params\">(x, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> x</span><br><span class=\"line\">        ans = pow_with_unsigned(x, n&gt;&gt;<span class=\"number\">1</span>)</span><br><span class=\"line\">        ans *= ans</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans *= x</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span> / pow_with_unsigned(x, -n)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pow_with_unsigned(x, n)</span><br></pre></td></tr></table></figure>\n<h3 id=\"17-æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°\"><a href=\"#17-æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°\" class=\"headerlink\" title=\"17 æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°\"></a>17 æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°</h3><h4 id=\"404\"><a href=\"#404\" class=\"headerlink\" title=\"404.\"></a>404.</h4><p>æ‰“å°å‘—ï¼Œåæ­£Pythonçš„intæ²¡æœ‰é•¿åº¦é™åˆ¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">print_n</span><span class=\"params\">(n: int)</span>:</span></span><br><span class=\"line\">    n = <span class=\"number\">10</span> ** (n)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        print(i)</span><br></pre></td></tr></table></figure>\n<h3 id=\"18-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹\"><a href=\"#18-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹\" class=\"headerlink\" title=\"18.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹\"></a>18.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h3><h4 id=\"LeetCodeä¼ é€é—¨-9\"><a href=\"#LeetCodeä¼ é€é—¨-9\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/delete-node-in-a-linked-list/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>å¼€å§‹çœ‹åˆ°è¿™é¢˜çš„æ€è·¯æ˜¯ï¼Œè¦æ˜¯èƒ½æ‹¿åˆ°çˆ¶èŠ‚ç‚¹å°±å¥½äº†ï¼Œç„¶åè¿™é“é¢˜éœ€è¦åˆ«çš„æ€è·¯ï¼Œå…¶å…³é”®åœ¨äºå¤åˆ¶<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteNode</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">    node.val = node.next.val  <span class=\"comment\"># 4-&gt;1-&gt;1-&gt;9</span></span><br><span class=\"line\">    node.next = node.next.next  <span class=\"comment\"># 4-&gt;1-&gt;9</span></span><br></pre></td></tr></table></figure></p>\n<h3 id=\"19-æ­£åˆ™è¡¨è¾¾å¼\"><a href=\"#19-æ­£åˆ™è¡¨è¾¾å¼\" class=\"headerlink\" title=\"19.æ­£åˆ™è¡¨è¾¾å¼\"></a>19.æ­£åˆ™è¡¨è¾¾å¼</h3><h4 id=\"LeetCodeä¼ é€é—¨-10\"><a href=\"#LeetCodeä¼ é€é—¨-10\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/regular-expression-matching/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>å…ˆè€ƒè™‘æ²¡æœ‰<code>*</code>çš„æƒ…å†µï¼Œé€šè¿‡ä¸€ä¸ªé€’å½’é€ä¸ªå­—ç¬¦åˆ¤æ–­</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">match</span><span class=\"params\">(text, pattern)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pattern: <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> text</span><br><span class=\"line\">    first_match = bool(text) <span class=\"keyword\">and</span> pattern[<span class=\"number\">0</span>] <span class=\"keyword\">in</span> &#123;text[<span class=\"number\">0</span>], <span class=\"string\">'.'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> first_match <span class=\"keyword\">and</span> match(text[<span class=\"number\">1</span>:], pattern[<span class=\"number\">1</span>:])</span><br></pre></td></tr></table></figure>\n<p>å½“<code>*</code>å‡ºç°æ—¶ï¼Œä¸€å®šä¼šåœ¨å‰é¢è·Ÿä¸€ä¸ªå…¶ä»–å­—ç¬¦ï¼Œæ‰€ä»¥ä¸€å®šä¼šå‡ºç°åœ¨pattern[1]çš„ä½ç½®ã€‚ä¸€ç§æƒ…å†µæ˜¯æˆ‘ä»¬å¿½ç•¥è¿™å¯¹patternï¼Œå› ä¸ºå¯ä»¥å‡ºç°0æ¬¡ï¼›å¦ä¸€ç§æƒ…å†µæ˜¯åŒ¹é…ä¸Šè¿™ä¸ªå­—ç¬¦ï¼Œç”¨é€’å½’çš„æ–¹å¼åŒ¹é…ä¸‹ä¸€ä¸ªã€‚</p>\n<p>ä¸€å®šè¦ç”¨f_match = bool(s)ï¼Œå¦åˆ™ç»“æœå¯èƒ½è¾“å‡º<code>&#39;&#39;</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@lru_cache(None)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">match</span><span class=\"params\">(self, s, pattern)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pattern: <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> s</span><br><span class=\"line\">    f_match = bool(s) <span class=\"keyword\">and</span> pattern[<span class=\"number\">0</span>] <span class=\"keyword\">in</span> &#123;s[<span class=\"number\">0</span>], <span class=\"string\">'.'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(pattern) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> pattern[<span class=\"number\">1</span>] == <span class=\"string\">'*'</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (self.match(s, pattern[<span class=\"number\">2</span>:]) <span class=\"keyword\">or</span></span><br><span class=\"line\">                (f_match <span class=\"keyword\">and</span> self.match(s[<span class=\"number\">1</span>:], pattern)))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f_match <span class=\"keyword\">and</span> self.match(s[<span class=\"number\">1</span>:], pattern[<span class=\"number\">1</span>:])</span><br></pre></td></tr></table></figure>\n<h3 id=\"20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²\"><a href=\"#20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²\"></a>20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</h3><h4 id=\"65-Valid-Number\"><a href=\"#65-Valid-Number\" class=\"headerlink\" title=\"65. Valid Number\"></a><a href=\"https://leetcode.com/problems/valid-number/discuss/23728/A-simple-solution-in-Python-based-on-DFA\" target=\"_blank\" rel=\"noopener\">65. Valid Number</a></h4><p>æ­¤å¤„ç•™å‘ï¼Œ<a href=\"https://leetcode.com/problems/valid-number/discuss/23728/A-simple-solution-in-Python-based-on-DFA\" target=\"_blank\" rel=\"noopener\">æ’åç¬¬ä¸€çš„pythonç­”æ¡ˆ</a>æš‚æ—¶æ²¡æœ‰ç†è§£ã€‚</p>\n<h3 id=\"21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢\"><a href=\"#21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢\" class=\"headerlink\" title=\"21.è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢\"></a>21.è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h3><h4 id=\"AcWingä¼ é€é—¨-7\"><a href=\"#AcWingä¼ é€é—¨-7\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/30/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>ç”Ÿæˆå™¨å†™æ³•ï¼Œ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exchange</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    odd = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;<span class=\"number\">1</span>)</span><br><span class=\"line\">    even = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(chain(odd, even))</span><br></pre></td></tr></table></figure>\n<p>æ—¶é—´ï¼šO(n), ç©ºé—´O(1)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reOrderArray</span><span class=\"params\">(self, array)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(array)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l &lt; r <span class=\"keyword\">and</span> array[l]&amp;<span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l &lt; r <span class=\"keyword\">and</span> array[r]&amp;<span class=\"number\">1</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        array[l], array[r] = array[r], array[l]</span><br></pre></td></tr></table></figure>\n<p>çœ‹äº†ä¸€ä¸‹æ²¡æœ‰é€šè¿‡ç‰›å®¢ç½‘çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå› ä¸ºé¢˜ç›®æœ‰äº›ä¸åŒï¼Œç‰›å®¢ç½‘è¦æ±‚å¥‡æ•°å’Œå¥‡æ•°ï¼Œå¶æ•°å’Œå¶æ•°ä¹‹å‰çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reOrderArray</span><span class=\"params\">(array)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(array, key=<span class=\"keyword\">lambda</span> x:x&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<p>ä¸ä½¿ç”¨sort</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reOrderArray</span><span class=\"params\">(self, array)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">    q = deque()</span><br><span class=\"line\">    n = len(array)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> array[-i<span class=\"number\">-1</span>] &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:  <span class=\"comment\"># ä»åæ‰¾å¥‡æ•°</span></span><br><span class=\"line\">            q.appendleft(array[-i<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> array[i] &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>:  <span class=\"comment\">#ä»å‰æ‰¾å¶æ•°</span></span><br><span class=\"line\">            q.append(array[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> q</span><br></pre></td></tr></table></figure>\n<h3 id=\"22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹\"><a href=\"#22-é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹\" class=\"headerlink\" title=\"22.é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹\"></a>22.é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</h3><h4 id=\"AcWingä¼ é€é—¨-8\"><a href=\"#AcWingä¼ é€é—¨-8\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/32/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>æ€è·¯ï¼šä¸¤ä¸ªæŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ°kæ­¥ï¼Œç„¶åä¸¤ä¸ªä¸€èµ·èµ°ï¼Œå¿«æŒ‡é’ˆèµ°åˆ°å°¾èŠ‚ç‚¹æ—¶ï¼Œæ…¢æŒ‡é’ˆåœ¨å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚<br>éœ€è€ƒè™‘k=0æ—¶å’Œfastå·²ç»èµ°åˆ°å°¾èŠ‚ç‚¹çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">FindKthToTail</span><span class=\"params\">(self, head, k)</span>:</span></span><br><span class=\"line\">    fast = slow = head</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> fast:</span><br><span class=\"line\">            fast = fast.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> slow</span><br></pre></td></tr></table></figure>\n<h3 id=\"23-é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹\"><a href=\"#23-é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹\" class=\"headerlink\" title=\"23.é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹\"></a>23.é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹</h3><h4 id=\"LeetCodeä¼ é€é—¨-11\"><a href=\"#LeetCodeä¼ é€é—¨-11\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/linked-list-cycle-ii/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><ul>\n<li>é¦–å…ˆåˆ¤æ–­æ­¤é“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚</li>\n<li>ç„¶åå†ç›¸äº¤ç‚¹å’Œå¤´ç»“ç‚¹ä¸€èµ·èµ°ï¼Œä¸€å®šä¼šåœ¨å…¥å£ç›¸é‡ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">detectCycle</span><span class=\"params\">(self, head)</span>:</span>        </span><br><span class=\"line\">    fast = slow = head</span><br><span class=\"line\">    <span class=\"comment\"># æ£€æµ‹æ˜¯å¦æœ‰ç¯</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> slow <span class=\"keyword\">is</span> fast:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># æ‰¾å‡ºå…¥å£èŠ‚ç‚¹</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> slow:</span><br><span class=\"line\">        head, slow = head.next, slow.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<h3 id=\"24-åè½¬é“¾è¡¨\"><a href=\"#24-åè½¬é“¾è¡¨\" class=\"headerlink\" title=\"24.åè½¬é“¾è¡¨\"></a>24.åè½¬é“¾è¡¨</h3><h4 id=\"LeetCodeä¼ é€é—¨-12\"><a href=\"#LeetCodeä¼ é€é—¨-12\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/reverse-linked-list/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        head.next, prev, head = prev, head, head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev</span><br></pre></td></tr></table></figure>\n<h3 id=\"25-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨\"><a href=\"#25-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨\" class=\"headerlink\" title=\"25.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨\"></a>25.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h3><h4 id=\"LeetCodeä¼ é€é—¨-13\"><a href=\"#LeetCodeä¼ é€é—¨-13\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/merge-two-sorted-lists/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•1ï¼šiteratively è¿­ä»£</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTwoLists</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">    l = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l1 <span class=\"keyword\">and</span> l2:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l1.val &lt;= l2.val:</span><br><span class=\"line\">            l.next, l1 = l1, l1.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l.next, l2 = l2, l2.next</span><br><span class=\"line\">        l = l.next</span><br><span class=\"line\">    l.next = l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•2ï¼šrecursively é€’å½’</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTwoLists</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># åˆ¤æ–­æ˜¯å¦å­˜åœ¨None</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> l2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">    <span class=\"keyword\">if</span> l1.val &lt; l2.val:</span><br><span class=\"line\">        l1.next = mergeTwoLists(l1.next, l2)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l1</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        l2.next = mergeTwoLists(l1, l2.next)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l2</span><br></pre></td></tr></table></figure>\n<h3 id=\"26-æ ‘çš„å­ç»“æ„\"><a href=\"#26-æ ‘çš„å­ç»“æ„\" class=\"headerlink\" title=\"26.æ ‘çš„å­ç»“æ„\"></a>26.æ ‘çš„å­ç»“æ„</h3><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree/\" title=\"572. Subtree of Another Tree\">572. Subtree of Another Tree</a>\n<p>äºŒåˆ·çš„æ—¶å€™çªç„¶å‘ç°ï¼Œæ­¤é¢˜å’ŒLeetCodeä¸­ä¸åŒã€‚LeetCodeä¸­å­æ ‘<code>4-1-2</code>è¿”å›Falseå› ä¸º2ä¸‹è¾¹è¿˜æœ‰èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸ä¸€æ ·ï¼›è€Œä¹¦ä¸­è®¤ä¸ºTrueï¼Œä¸è€ƒè™‘2ä¸‹è¾¹çš„èŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    3</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  4   5</span><br><span class=\"line\"> &#x2F; \\</span><br><span class=\"line\">1   2</span><br><span class=\"line\">   &#x2F;</span><br><span class=\"line\">  0</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubStructure</span><span class=\"params\">(self, s: TreeNode, t: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_same</span><span class=\"params\">(t1, t2)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> t1.val==t2.val <span class=\"keyword\">and</span> is_same(t1.left, t2.left) <span class=\"keyword\">and</span> is_same(t1.right, t2.right)     </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> t: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    stack = s <span class=\"keyword\">and</span> [s]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_same(node, t):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå­¦åˆ°ä¸€ä¸ªé€’å½’å†™æ³•ï¼Œæ›´ç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubStructure</span><span class=\"params\">(self, A: TreeNode, B: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">recur</span><span class=\"params\">(A, B)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> B: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> A <span class=\"keyword\">or</span> A.val != B.val: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> recur(A.left, B.left) <span class=\"keyword\">and</span> recur(A.right, B.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> bool(A <span class=\"keyword\">and</span> B) <span class=\"keyword\">and</span> (recur(A, B) <span class=\"keyword\">or</span> self.isSubStructure(A.left, B) <span class=\"keyword\">or</span> self.isSubStructure(A.right, B))</span><br></pre></td></tr></table></figure>\n<h3 id=\"27-äºŒå‰æ ‘çš„é•œåƒ\"><a href=\"#27-äºŒå‰æ ‘çš„é•œåƒ\" class=\"headerlink\" title=\"27.äºŒå‰æ ‘çš„é•œåƒ\"></a>27.äºŒå‰æ ‘çš„é•œåƒ</h3><h4 id=\"AcWingä¼ é€é—¨-9\"><a href=\"#AcWingä¼ é€é—¨-9\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/37/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Mirror</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root:</span><br><span class=\"line\">        root.left, root.right = root.right, root.left</span><br><span class=\"line\">        self.Mirror(root.left)</span><br><span class=\"line\">        self.Mirror(root.right)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<p>è¿­ä»£</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Mirror</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            n.left, n.right = n.right, n.left</span><br><span class=\"line\">            stack += n.right, n.left</span><br></pre></td></tr></table></figure>\n<h3 id=\"28-å¯¹ç§°çš„äºŒå‰æ ‘\"><a href=\"#28-å¯¹ç§°çš„äºŒå‰æ ‘\" class=\"headerlink\" title=\"28.å¯¹ç§°çš„äºŒå‰æ ‘\"></a>28.å¯¹ç§°çš„äºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-14\"><a href=\"#LeetCodeä¼ é€é—¨-14\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/symmetric-tree/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    1</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  2   2</span><br><span class=\"line\"> &#x2F; \\ &#x2F; \\</span><br><span class=\"line\">3  4 4  3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">symmetric</span><span class=\"params\">(p1, p2)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1 <span class=\"keyword\">and</span> p2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (p1.val == p2.val <span class=\"keyword\">and</span> symmetric(p1.left, p2.right) <span class=\"keyword\">and</span> </span><br><span class=\"line\">                    symmetric(p1.right, p2.left))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p1 <span class=\"keyword\">is</span> p2</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> symmetric(root.left, root.right)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root.left, root.right)]        </span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        p1, p2 = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> p2: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> p2: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1.val != p2.val: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        stack.append((p1.left, p2.right))</span><br><span class=\"line\">        stack.append((p1.right, p2.left))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ\"><a href=\"#29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ\" class=\"headerlink\" title=\"29.é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ\"></a>29.é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</h3><h4 id=\"LeetCodeä¼ é€é—¨-15\"><a href=\"#LeetCodeä¼ é€é—¨-15\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/spiral-matrix/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>è¿™é‡Œæ³¨æ„ä¸€ç‚¹<code>matrix.pop(0)</code>éœ€è¦è½¬æˆlistï¼Œå› ä¸ºzipå‡½æ•°ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleï¼Œå¦‚æœä¸è½¬å˜æˆäº†ä¸€ä¸ª<code>tuple+list</code>ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralOrder</span><span class=\"params\">(self, matrix)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (matrix <span class=\"keyword\">and</span> list(matrix.pop(<span class=\"number\">0</span>)) + </span><br><span class=\"line\">            self.spiralOrder(list(zip(*matrix))[::<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralOrder</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> matrix: <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    M, N = len(matrix), len(matrix[<span class=\"number\">0</span>])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    seen = [[<span class=\"literal\">False</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">    x, y, di, dj = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(ans) &lt; M*N:</span><br><span class=\"line\">        seen[x][y] = <span class=\"literal\">True</span></span><br><span class=\"line\">        ans.append(matrix[x][y])        </span><br><span class=\"line\">        nx, ny = x+di, y+dj</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (<span class=\"number\">0</span>&lt;=nx&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=ny&lt;N <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> seen[nx][ny]):</span><br><span class=\"line\">            di, dj = dj, -di</span><br><span class=\"line\">        x, y = x+di, y+dj</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ­¤é¢˜æœ‰ä¸ªå˜å½¢ï¼Œå¦‚æœé€†æ—¶é’ˆè¯¥å¦‚ä½•æ‰“å°ã€‚è¿™æ ·çš„è¯æƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">anti_clock_wise</span><span class=\"params\">(self, matrix)</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">if</span> <span class=\"title\">not</span> <span class=\"title\">matrix</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    clock_wise = list(zip(*(matrix[::<span class=\"number\">-1</span>])))</span><br><span class=\"line\">    a = list(clock_wise.pop(<span class=\"number\">0</span>))[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    b = self.anti_clock_wise(clock_wise)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a + b</span><br></pre></td></tr></table></figure>\n<h3 id=\"30-åŒ…å«minå‡½æ•°çš„æ ˆ\"><a href=\"#30-åŒ…å«minå‡½æ•°çš„æ ˆ\" class=\"headerlink\" title=\"30.åŒ…å«minå‡½æ•°çš„æ ˆ\"></a>30.åŒ…å«minå‡½æ•°çš„æ ˆ</h3><h4 id=\"LeetCodeä¼ é€é—¨-16\"><a href=\"#LeetCodeä¼ é€é—¨-16\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/min-stack/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self._stack = []</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        cur_min = self.getMin()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x &lt; cur_min:</span><br><span class=\"line\">            cur_min = x</span><br><span class=\"line\">        self._stack.append((x, cur_min))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self._stack.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self._stack:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self._stack[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMin</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self._stack:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self._stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—\"><a href=\"#31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—\" class=\"headerlink\" title=\"31.æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—\"></a>31.æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</h3><h4 id=\"LeetCodeä¼ é€é—¨-17\"><a href=\"#LeetCodeä¼ é€é—¨-17\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/validate-stack-sequences/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validateStackSequences</span><span class=\"params\">(self, pushed: <span class=\"string\">'List[int]'</span>, popped: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    j = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> pushed:</span><br><span class=\"line\">        stack.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>] == popped[j]:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> j == len(popped)</span><br></pre></td></tr></table></figure>\n<h3 id=\"32-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\"><a href=\"#32-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\" class=\"headerlink\" title=\"32.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\"></a>32.ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h3><h4 id=\"AcWingä¼ é€é—¨-10\"><a href=\"#AcWingä¼ é€é—¨-10\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/41/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrder</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, q = [], [root]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            ans.append(node.val)</span><br><span class=\"line\">            q.append(node.left)</span><br><span class=\"line\">            q.append(node.right)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"32-1åˆ†å±‚ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\"><a href=\"#32-1åˆ†å±‚ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\" class=\"headerlink\" title=\"32.1åˆ†å±‚ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘\"></a>32.1åˆ†å±‚ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-18\"><a href=\"#LeetCodeä¼ é€é—¨-18\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/binary-tree-level-order-traversal/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrder</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans, level = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        level = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"32-2ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘\"><a href=\"#32-2ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘\" class=\"headerlink\" title=\"32.2ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘\"></a>32.2ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-19\"><a href=\"#LeetCodeä¼ é€é—¨-19\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/binary-tree-zigzag-level-order-traversal/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">zigzagLevelOrder</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans, level, order = [], root <span class=\"keyword\">and</span> [root], <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level][::order])</span><br><span class=\"line\">        order *= <span class=\"number\">-1</span></span><br><span class=\"line\">        level = [kid <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> kid]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"33-æ˜¯å¦æ˜¯äºŒå‰æ ‘çš„ååºéå†\"><a href=\"#33-æ˜¯å¦æ˜¯äºŒå‰æ ‘çš„ååºéå†\" class=\"headerlink\" title=\"33.æ˜¯å¦æ˜¯äºŒå‰æ ‘çš„ååºéå†\"></a>33.æ˜¯å¦æ˜¯äºŒå‰æ ‘çš„ååºéå†</h3><h4 id=\"AcWingä¼ é€é—¨-11\"><a href=\"#AcWingä¼ é€é—¨-11\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/44/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">VerifySquenceOfBST</span><span class=\"params\">(self, seq)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> takewhile</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seq:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    p = seq[<span class=\"number\">-1</span>]</span><br><span class=\"line\">    left_sub = list(takewhile(<span class=\"keyword\">lambda</span> x: x &lt; p, seq[:<span class=\"number\">-1</span>]))</span><br><span class=\"line\">    right_sub = seq[len(left_sub):<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> all(x&gt;p <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> right_sub):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    left = right = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> left_sub:</span><br><span class=\"line\">        left = self.VerifySquenceOfBST(left_sub)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> right_sub:</span><br><span class=\"line\">        right = self.VerifySquenceOfBST(right_sub)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> left <span class=\"keyword\">and</span> right</span><br></pre></td></tr></table></figure>\n<h3 id=\"34-äºŒå‰æ ‘å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„\"><a href=\"#34-äºŒå‰æ ‘å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„\" class=\"headerlink\" title=\"34.äºŒå‰æ ‘å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„\"></a>34.äºŒå‰æ ‘å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</h3><h4 id=\"LeetCodeä¼ é€é—¨-20\"><a href=\"#LeetCodeä¼ é€é—¨-20\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/path-sum-ii/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sum &#x3D; 22</span><br><span class=\"line\"></span><br><span class=\"line\">      5</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">    4   8</span><br><span class=\"line\">   &#x2F;   &#x2F; \\</span><br><span class=\"line\">  11  13  4</span><br><span class=\"line\"> &#x2F;  \\    &#x2F; \\</span><br><span class=\"line\">7    2  5   1</span><br><span class=\"line\">[</span><br><span class=\"line\">   [5,4,11,2],</span><br><span class=\"line\">   [5,8,4,5]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šiteratively. ä¸¾ä¸€åä¸‰ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, total: <span class=\"string\">'int'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root, [root.val], total)]</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, v, t = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right <span class=\"keyword\">and</span> n.val==t:</span><br><span class=\"line\">            ans.append(v)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.right:</span><br><span class=\"line\">            stack.append((n.right, v+[n.right.val], t-n.val))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.left:</span><br><span class=\"line\">            stack.append((n.left, v+[n.left.val], t-n.val))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>recursively. å…ˆæ‰¾å‡ºæ‰€æœ‰è·¯å¾„ï¼Œå†è¿‡æ»¤ï¼Œå®é™…ä¸Šå’Œ257é¢˜ä¸€æ ·ã€‚ä¸è¿‡è¿™å¹¶æ²¡æœ‰æŠŠè¿™é“é¢˜çš„ç‰¹æ€§æ¶µç›–è¿›å»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root, sum_val)</span>:</span></span><br><span class=\"line\">    paths = self.all_paths(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [path <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> paths <span class=\"keyword\">if</span> sum(path)==sum_val]</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">all_paths</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[root.val]+path</span><br><span class=\"line\">            <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (root.left, root.right) <span class=\"keyword\">if</span> kid</span><br><span class=\"line\">            <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> self.all_paths(kid)] <span class=\"keyword\">or</span> [[root.val]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ¨¡æ¿å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root: TreeNode, total: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, s, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            p.append(node.val)</span><br><span class=\"line\">            s -= node.val</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">and</span> s==<span class=\"number\">0</span>:</span><br><span class=\"line\">                ans.append(p[:])</span><br><span class=\"line\">            dfs(node.left, s, p)</span><br><span class=\"line\">            dfs(node.right, s, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    dfs(root, total, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šrecursively. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root, sum)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    val, *kids = root.val, root.left, root.right</span><br><span class=\"line\">    <span class=\"keyword\">if</span> any(kids):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [[val] + path</span><br><span class=\"line\">                <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> kids <span class=\"keyword\">if</span> kid</span><br><span class=\"line\">                <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> self.pathSum(kid, sum-val)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[val]] <span class=\"keyword\">if</span> val==sum <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶\"><a href=\"#35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶\" class=\"headerlink\" title=\"35.å¤æ‚é“¾è¡¨çš„å¤åˆ¶\"></a>35.å¤æ‚é“¾è¡¨çš„å¤åˆ¶</h3><h4 id=\"LeetCodeä¼ é€é—¨-21\"><a href=\"#LeetCodeä¼ é€é—¨-21\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/copy-list-with-random-pointer/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šéå†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">copyRandomList</span><span class=\"params\">(self, head: <span class=\"string\">'Node'</span>)</span> -&gt; 'Node':</span></span><br><span class=\"line\">    cp = &#123;<span class=\"literal\">None</span>: <span class=\"literal\">None</span>&#125;</span><br><span class=\"line\">    m = n = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> m:</span><br><span class=\"line\">        cp[m] = Node(m.val, <span class=\"literal\">None</span>, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        m = m.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        cp[n].next = cp[n.next]</span><br><span class=\"line\">        cp[n].random = cp[n.random]</span><br><span class=\"line\">        n = n.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cp[head]</span><br></pre></td></tr></table></figure>\n<p>Time-O(n), Memory-O(n). è¿™ç§æ–¹å¼æ˜¯ç›¸å½“äºæŠŠç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿‡ç¨‹å§”æ‰˜ç»™äº†<code>defaultdict</code>ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¯¹è±¡ï¼Œå†å»ä¿®æ”¹å®ƒçš„labelå€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">copyRandomList</span><span class=\"params\">(self, head: <span class=\"string\">'Node'</span>)</span> -&gt; 'Node':</span></span><br><span class=\"line\">    cp = collections.defaultdict(<span class=\"keyword\">lambda</span>: Node(<span class=\"number\">0</span>, <span class=\"literal\">None</span>, <span class=\"literal\">None</span>))</span><br><span class=\"line\">    cp[<span class=\"literal\">None</span>] = <span class=\"literal\">None</span></span><br><span class=\"line\">    h = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">        cp[h].val = h.val</span><br><span class=\"line\">        cp[h].next = cp[h.next]</span><br><span class=\"line\">        cp[h].random = cp[h.random]</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cp[head]</span><br></pre></td></tr></table></figure>\n<h3 id=\"36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨\"><a href=\"#36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨\" class=\"headerlink\" title=\"36.äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨\"></a>36.äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</h3><h4 id=\"LeetCodeæœ‰æ­¤é¢˜ï¼Œä½†æ˜¯ä¸æ˜¯å…è´¹çš„ã€‚\"><a href=\"#LeetCodeæœ‰æ­¤é¢˜ï¼Œä½†æ˜¯ä¸æ˜¯å…è´¹çš„ã€‚\" class=\"headerlink\" title=\"LeetCodeæœ‰æ­¤é¢˜ï¼Œä½†æ˜¯ä¸æ˜¯å…è´¹çš„ã€‚\"></a>LeetCodeæœ‰æ­¤é¢˜ï¼Œä½†æ˜¯ä¸æ˜¯å…è´¹çš„ã€‚</h4><h4 id=\"AcWingä¼ é€é—¨-12\"><a href=\"#AcWingä¼ é€é—¨-12\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/87/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šä¸­åºéå†ï¼Œå†æ„é€ é“¾è¡¨ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convert</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> tee</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    a, b = tee(dfs(root))</span><br><span class=\"line\">    ans = next(b, <span class=\"literal\">None</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> f, s <span class=\"keyword\">in</span> zip(a, b):</span><br><span class=\"line\">        f.right = s</span><br><span class=\"line\">        s.left = f</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ†åˆ«é€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Convert</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convert_tree</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span>  </span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            left = convert_tree(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">while</span> left.right:</span><br><span class=\"line\">                left = left.right</span><br><span class=\"line\">            left.right = node</span><br><span class=\"line\">            node.left = left</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            right = convert_tree(node.right)</span><br><span class=\"line\">            <span class=\"keyword\">while</span> right.left:</span><br><span class=\"line\">                right = right.left</span><br><span class=\"line\">            right.left = node</span><br><span class=\"line\">            node.right = right</span><br><span class=\"line\">        <span class=\"keyword\">return</span> node</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    root = convert_tree(root)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> root.left:</span><br><span class=\"line\">        root = root.left</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šMorris Traversal.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Convert</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    cur = root</span><br><span class=\"line\">    pre = ans = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> cur:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> cur.left:</span><br><span class=\"line\">            q = cur.left</span><br><span class=\"line\">            <span class=\"keyword\">while</span> q.right:</span><br><span class=\"line\">                q = q.right</span><br><span class=\"line\">            q.right = cur                   <span class=\"comment\"># è¡¥é½å³æŒ‡é’ˆ</span></span><br><span class=\"line\">            cur.left, cur = <span class=\"literal\">None</span>, cur.left  <span class=\"comment\"># æ‹†æ‰å·¦æŒ‡é’ˆ</span></span><br><span class=\"line\">        cur.left = pre</span><br><span class=\"line\">        <span class=\"keyword\">if</span> pre <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            ans = cur   <span class=\"comment\"># è¿™é‡Œæ˜¯ä¸ºäº†æ‰¾åˆ°é“¾è¡¨çš„å¤´ï¼Œåªæ‰§è¡Œä¸€æ¬¡</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            pre.right = cur</span><br><span class=\"line\">        pre, cur = cur, cur.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"37-åºåˆ—åŒ–äºŒå‰æ ‘\"><a href=\"#37-åºåˆ—åŒ–äºŒå‰æ ‘\" class=\"headerlink\" title=\"37.åºåˆ—åŒ–äºŒå‰æ ‘\"></a>37.åºåˆ—åŒ–äºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-22\"><a href=\"#LeetCodeä¼ é€é—¨-22\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/serialize-and-deserialize-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Codec</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">serialize</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'$'</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> str(root.val) + <span class=\"string\">','</span> + self.serialize(root.left) + <span class=\"string\">','</span> + self.serialize(root.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deserialize</span><span class=\"params\">(self, data)</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deserialize_tree</span><span class=\"params\">(nodes)</span>:</span></span><br><span class=\"line\">            val = next(nodes)\t\t<span class=\"comment\"># è¿™é‡Œä¸ä¼šæŠ¥é”™çš„åŸå› æ˜¯ï¼Œåºåˆ—åŒ–åå¿…ç„¶ä»¥`$`ç»“å°¾çš„ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è€—å°½çš„æƒ…å†µ</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> val == <span class=\"string\">'$'</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">            root = TreeNode(val)</span><br><span class=\"line\">            root.left = deserialize_tree(nodes)</span><br><span class=\"line\">            root.right = deserialize_tree(nodes)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root     </span><br><span class=\"line\">        nodes = iter(data.split(<span class=\"string\">','</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> deserialize_tree(nodes)</span><br></pre></td></tr></table></figure>\n<h3 id=\"38-å­—ç¬¦ä¸²çš„æ’åˆ—\"><a href=\"#38-å­—ç¬¦ä¸²çš„æ’åˆ—\" class=\"headerlink\" title=\"38.å­—ç¬¦ä¸²çš„æ’åˆ—\"></a>38.å­—ç¬¦ä¸²çš„æ’åˆ—</h3><a href=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/\" title=\"46. Permutations II\">46. Permutations II</a>\n<h4 id=\"LeetCodeä¼ é€é—¨-23\"><a href=\"#LeetCodeä¼ é€é—¨-23\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/permutations-ii/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>ä½¿ç”¨itertools</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Permutation</span><span class=\"params\">(self, ss)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> permutations</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ss:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(list(set([<span class=\"string\">''</span>.join(x) <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> permutations(ss)])))</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œæ³¨æ„å‡ ç‚¹ï¼š</p>\n<ul>\n<li><p>ä¸ºä»€ä¹ˆè¦åˆ¤æ–­<code>if not ss</code>ï¼Œæ˜¯å› ä¸ºå¦‚æœ<code>ss=&#39;&#39;</code>çš„æ—¶æ—¶å€™ï¼Œè¿”å›äº†<code>[&#39;&#39;]</code>è€Œä¸æ˜¯<code>[]</code>ã€‚å› ä¸ºè¿™é‡Œè¿”å›äº†ä¸€ä¸ªç©ºçš„<code>tuple</code>ï¼Œæ‰€ä»¥åœ¨åˆ—è¡¨æ¨å¯¼å¼ä¸­æ˜¯æœ‰ä¸€ä¸ªå…ƒç´ çš„ã€‚</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">&gt;&gt; list(permutations(<span class=\"string\">''</span>, 0))</span></span><br><span class=\"line\">[()]</span><br></pre></td></tr></table></figure></li>\n<li>ä¸ºä»€ä¹ˆä½¿ç”¨<code>set</code>å»é‡ï¼Œå› ä¸ºå½“<code>ss=&#39;aa&#39;</code>çš„æ—¶å€™ï¼Œç‰›å®¢ç½‘çš„æµ‹è¯•ç”¨ä¾‹è¦æ±‚è¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œå³<code>[&#39;aa&#39;]</code>ã€‚</li>\n<li>æ’åºä¹Ÿæ˜¯ä¸ºäº†æ»¡è¶³æµ‹è¯•ç”¨ä¾‹ã€‚</li>\n</ul>\n<p>è‡ªå·±å®ç°ã€‚è¿™é‡Œæ‹†æˆä¸¤ä¸ªæ–¹æ³•çš„åŸå› è¿˜æ˜¯å› ä¸º<code>ss=&#39;&#39;</code>çš„æ—¶å€™ä¼šå½±å“é€’å½’å¾ªç¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Permutation</span><span class=\"params\">(self, ss)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ss:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.permute(ss)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permute</span><span class=\"params\">(self, ss)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(list(set([h + p</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, h <span class=\"keyword\">in</span> enumerate(ss)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> self.permute(ss[:i]+ss[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    ]))) <span class=\"keyword\">or</span> [<span class=\"string\">\"\"</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Permutation</span><span class=\"params\">(self, ss)</span>:</span></span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> ss:</span><br><span class=\"line\">        ans = [p[:i] + s + p[i:]</span><br><span class=\"line\">               <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> ans <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range((p+s).index(s)+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(ans) <span class=\"keyword\">if</span> ss <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—\"><a href=\"#39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—\" class=\"headerlink\" title=\"39.æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—\"></a>39.æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</h3><h4 id=\"LeetCodeä¼ é€é—¨-24\"><a href=\"#LeetCodeä¼ é€é—¨-24\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/majority-element/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šæ’åº. Time-O(nlogn), Space-O(n)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majority_element</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(nums)[len(nums)//<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šCounter Time-O(n), Space-O(n)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majority_element</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    <span class=\"comment\"># return max(c.keys(), key=c.get)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> c.most_common(<span class=\"number\">1</span>)[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šBoyer-Moore Voting Algorithm. ä¹¦ä¸­çš„ç®—æ³•è¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œè¿™è¯¦æƒ…è¯·çœ‹<a href=\"https://darktiantian.github.io/%E6%B3%A2%E4%B9%89%E5%B0%94%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95%EF%BC%88Boyer-Moore-Voting-Algorithm%EF%BC%89/\" target=\"_blank\" rel=\"noopener\">æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨</a>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majorityElement</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    candidate = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> count == <span class=\"number\">0</span>:</span><br><span class=\"line\">            candidate = num</span><br><span class=\"line\">        count += (<span class=\"number\">1</span> <span class=\"keyword\">if</span> num == candidate <span class=\"keyword\">else</span> <span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> candidate</span><br></pre></td></tr></table></figure>\n<h3 id=\"40-æœ€å°çš„kä¸ªæ•°\"><a href=\"#40-æœ€å°çš„kä¸ªæ•°\" class=\"headerlink\" title=\"40.æœ€å°çš„kä¸ªæ•°\"></a>40.æœ€å°çš„kä¸ªæ•°</h3><h4 id=\"ç›¸ä¼¼é¢˜ç›®ï¼Œä½†æ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°LeetCodeä¼ é€é—¨\"><a href=\"#ç›¸ä¼¼é¢˜ç›®ï¼Œä½†æ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°LeetCodeä¼ é€é—¨\" class=\"headerlink\" title=\"ç›¸ä¼¼é¢˜ç›®ï¼Œä½†æ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°LeetCodeä¼ é€é—¨\"></a>ç›¸ä¼¼é¢˜ç›®ï¼Œä½†æ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°<a href=\"https://leetcode.com/problems/kth-largest-element-in-an-array/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-4\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-4\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/6a296eb82cf844ca8539b57c23e6e9bf?tpId=13&amp;tqId=11182&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking&amp;tPage=2\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">GetLeastNumbers_Solution</span><span class=\"params\">(self, tinput, k)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(tinput)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &gt; len(tinput) <span class=\"keyword\">or</span> k &lt; <span class=\"number\">1</span>: <span class=\"keyword\">return</span> [] <span class=\"comment\"># for passing the damn testcase</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        pos = self.partition(tinput, l, r)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> pos &lt; k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            l = pos + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> pos &gt; k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            r = pos - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> sorted(tinput[:pos+<span class=\"number\">1</span>])  <span class=\"comment\"># sorted for passing the damn testcase</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(self, nums, l, r)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> random <span class=\"keyword\">import</span> randint</span><br><span class=\"line\">    p = randint(l, r)</span><br><span class=\"line\">    nums[r], nums[p] = nums[p], nums[r]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(nums[l:r+<span class=\"number\">1</span>], l):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] &lt;= nums[r]:</span><br><span class=\"line\">            nums[l], nums[i] = nums[i], nums[l]</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> l<span class=\"number\">-1</span>  <span class=\"comment\"># the pivot index</span></span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨å †ï¼Œä¸æ”¹å˜åŸæ•°ç»„</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">GetLeastNumbers_Solution</span><span class=\"params\">(self, tinput, k)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &gt; len(tinput) <span class=\"keyword\">or</span> k &lt;= <span class=\"number\">0</span>: <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    heap = [-x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> tinput[:k]]</span><br><span class=\"line\">    hq.heapify(heap)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> tinput[k:]:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> -heap[<span class=\"number\">0</span>] &gt; num:</span><br><span class=\"line\">            hq.heapreplace(heap, -num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(-x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> heap)</span><br></pre></td></tr></table></figure>\n<h3 id=\"41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°\"><a href=\"#41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°\" class=\"headerlink\" title=\"41.æ•°æ®æµä¸­çš„ä¸­ä½æ•°\"></a>41.æ•°æ®æµä¸­çš„ä¸­ä½æ•°</h3><h4 id=\"LeetCodeä¼ é€é—¨-25\"><a href=\"#LeetCodeä¼ é€é—¨-25\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/find-median-from-data-stream/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †ï¼Œæœ€å¤§å †å­˜å‚¨è¾ƒå°çš„æ•°æ®ï¼Œæœ€å°å †å­˜å‚¨è¾ƒå¤§çš„æ•°æ®ã€‚æ·»åŠ æ•°å­—æ—¶ï¼Œå…ˆæ·»åŠ åˆ°æœ€å¤§å †ï¼Œç„¶åæœ€å¤§å †è¿”å›ä¸€ä¸ªæœ€å¤§çš„æ•°å­—ç»™æœ€å°å †ï¼Œæœ€åä¸ºäº†å¹³è¡¡ï¼Œå¯èƒ½éœ€è¦æœ€å°å †è¿˜ç»™æœ€å¤§å †ä¸€ä¸ªæœ€å°å€¼ï¼Œä»¥ä¿è¯æœ€å¤§å †çš„é•¿åº¦&gt;=æœ€å°å †çš„é•¿åº¦ã€‚ç”±äºheadpqæ˜¯æœ€å°å †ï¼Œæ‰€ä»¥ä½¿ç”¨å–åå®ç°æœ€å¤§å †ã€‚æ·»åŠ æ•°å­—ï¼šTime-O(logn)ï¼Œå–å‡ºä¸­ä½æ•°ï¼šTime-O(1)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">Adding number <span class=\"number\">41</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>]           // MaxHeap stores the largest value at the top (index <span class=\"number\">0</span>)</span><br><span class=\"line\">MinHeap hi: []             // MinHeap stores the smallest value at the top (index <span class=\"number\">0</span>)</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">35</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">35</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">41</span>]</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">38</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">62</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>]</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">4</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">41</span>, <span class=\"number\">62</span>]</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">38</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">97</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>, <span class=\"number\">97</span>]</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">108</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>, <span class=\"number\">97</span>, <span class=\"number\">108</span>]</span><br><span class=\"line\">Median <span class=\"keyword\">is</span> <span class=\"number\">51.5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MedianFinder</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.lo, self.hi = [], []  <span class=\"comment\"># lo is max_heap, hi is min_heap</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addNum</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">        hq.heappush(self.lo, -num)</span><br><span class=\"line\">        hq.heappush(self.hi, -hq.heappop(self.lo))</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.lo) &lt; len(self.hi):</span><br><span class=\"line\">            hq.heappush(self.lo, -hq.heappop(self.hi))       </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMedian</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.lo) == len(self.hi):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (-self.lo[<span class=\"number\">0</span>]+self.hi[<span class=\"number\">0</span>]) / <span class=\"number\">2.0</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(-self.lo[<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"42-è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ\"><a href=\"#42-è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ\" class=\"headerlink\" title=\"42.è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ\"></a>42.è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ</h3><h4 id=\"LeetCodeä¼ é€é—¨-26\"><a href=\"#LeetCodeä¼ é€é—¨-26\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/maximum-subarray/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šä¹¦ä¸­çš„æ€æƒ³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    cp_nums = nums[:]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cp_nums[i<span class=\"number\">-1</span>] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            cp_nums[i] += cp_nums[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(cp_nums)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šone-linerã€‚æ³¨æ„<code>accumulate</code>æ˜¯æŠŠå‡½æ•°æ”¾åˆ°åé¢çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> accumulate</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(accumulate(nums, <span class=\"keyword\">lambda</span> x, y: x+y <span class=\"keyword\">if</span> x &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> y))</span><br></pre></td></tr></table></figure>\n<h3 id=\"43-1-næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°\"><a href=\"#43-1-næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°\" class=\"headerlink\" title=\"43.1~næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°\"></a>43.1~næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°</h3><h4 id=\"LeetCodeä¼ é€é—¨-27\"><a href=\"#LeetCodeä¼ é€é—¨-27\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/number-of-digit-one/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countDigitOne</span><span class=\"params\">(self, n)</span>:</span>    </span><br><span class=\"line\">    countr, i = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= n:</span><br><span class=\"line\">        divider = i * <span class=\"number\">10</span></span><br><span class=\"line\">        countr += (n // divider) * i + min(max(n % divider - i + <span class=\"number\">1</span>, <span class=\"number\">0</span>), i)</span><br><span class=\"line\">        i *= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> countr</span><br></pre></td></tr></table></figure>\n<p>åˆ†ä¸‰ç§æƒ…å†µè®¨è®ºæ¯”è¾ƒæ¸…æ™°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countDigitOne</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># xyz b abc</span></span><br><span class=\"line\">    <span class=\"comment\"># (1) xyz * 1000                     if d == 0</span></span><br><span class=\"line\">    <span class=\"comment\"># (2) xyz * 1000 + abc + 1           if d == 1</span></span><br><span class=\"line\">    <span class=\"comment\"># (3) xyz * 1000 + 1000              if d &gt; 1</span></span><br><span class=\"line\">    q, ans, f = n, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        q, cur = divmod(q, <span class=\"number\">10</span>)</span><br><span class=\"line\">        ans += q * f</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur == <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans += n % f + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> cur &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans += f</span><br><span class=\"line\">        f *= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°å­—\"><a href=\"#45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°å­—\" class=\"headerlink\" title=\"45.æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°å­—\"></a>45.æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°å­—</h3><h4 id=\"AcWingä¼ é€é—¨-13\"><a href=\"#AcWingä¼ é€é—¨-13\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/54/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>python2çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">PrintMinNumber</span><span class=\"params\">(self, numbers)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(sorted(map(str, numbers), </span><br><span class=\"line\">                          <span class=\"keyword\">lambda</span> x, y: cmp(x+y, y+x)))</span><br></pre></td></tr></table></figure>\n<p>åŒ¿åå‡½æ•°ä½œä¸ºsortçš„å‚æ•°ï¼Œåœ¨python2ä¸­æœ‰è¿™ä¸ªå‚æ•°ã€‚</p>\n<blockquote>\n<p>cmp specifies a custom comparison function of two arguments (iterable elements) which should return a negative, zero or positive number depending on whether the first argument is considered smaller than, equal to, or larger than the second argument: cmp=lambda x,y: cmp(x.lower(), y.lower()). The default value is None.</p>\n</blockquote>\n<p>ä½œä¸ºsortçš„å‚æ•°ï¼Œcmpæä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„æ–¹æ³•ï¼Œå¦‚æœè¿”å›-1è¡¨ç¤ºå‰è€…å°äºåè€…ã€‚python3ä¸­å–æ¶ˆäº†è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯æä¾›äº†ä¸€ç§keyçš„è½¬æ¢ã€‚è€Œå†…ç½®å‡½æ•°å¯ä»¥é€šè¿‡è¿ç®—ç¬¦å®ç°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">cmp(a, b)</span><br></pre></td></tr></table></figure>\n<p>ç­‰åŒäº</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">(a&gt;b) - (a&lt;b)</span><br></pre></td></tr></table></figure>\n<p>æ‰€ä»¥python3çš„å†™æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> cmp_to_key</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">PrintMinNumber</span><span class=\"params\">(self, numbers)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    nums = list(map(str, numbers))</span><br><span class=\"line\">    nums.sort(key=cmp_to_key(<span class=\"keyword\">lambda</span> x, y: ((x+y)&gt;(y+x)) - ((y+x)&gt;(x+y))))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(nums)</span><br></pre></td></tr></table></figure>\n<h3 id=\"46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²\"><a href=\"#46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²\" class=\"headerlink\" title=\"46 æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²\"></a>46 æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</h3><h4 id=\"LeetCodeä¼ é€é—¨-28\"><a href=\"#LeetCodeä¼ é€é—¨-28\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/decode-ways/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numDecodings</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># w tells the number of ways</span></span><br><span class=\"line\">    <span class=\"comment\"># v tells the previous number of ways</span></span><br><span class=\"line\">    <span class=\"comment\"># d is the current digit</span></span><br><span class=\"line\">    <span class=\"comment\"># p is the previous digit</span></span><br><span class=\"line\">    v, w, p = <span class=\"number\">0</span>, int(s&gt;<span class=\"string\">''</span>), <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        v, w, p = w, int(d&gt;<span class=\"string\">'0'</span>)*w + (<span class=\"number\">9</span>&lt;int(p+d)&lt;<span class=\"number\">27</span>)*v, d</span><br><span class=\"line\">    <span class=\"keyword\">return</span> w</span><br></pre></td></tr></table></figure>\n<h3 id=\"47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼\"><a href=\"#47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼\" class=\"headerlink\" title=\"47 ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼\"></a>47 ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</h3><h4 id=\"LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼Œæ±‚çš„æ˜¯æœ€å°ã€‚\"><a href=\"#LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼Œæ±‚çš„æ˜¯æœ€å°ã€‚\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼Œæ±‚çš„æ˜¯æœ€å°ã€‚\"></a><a href=\"https://leetcode.com/problems/minimum-path-sum/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a>ã€‚ç›¸ä¼¼é¢˜ç›®ï¼Œæ±‚çš„æ˜¯æœ€å°ã€‚</h4><h4 id=\"Acwingä¼ é€é—¨è¿™ä¸ªæ˜¯åŸé¢˜ã€‚\"><a href=\"#Acwingä¼ é€é—¨è¿™ä¸ªæ˜¯åŸé¢˜ã€‚\" class=\"headerlink\" title=\"Acwingä¼ é€é—¨è¿™ä¸ªæ˜¯åŸé¢˜ã€‚\"></a><a href=\"https://www.acwing.com/problem/content/56/\" target=\"_blank\" rel=\"noopener\">Acwingä¼ é€é—¨</a>è¿™ä¸ªæ˜¯åŸé¢˜ã€‚</h4><p>å¯¹é¦–è¡Œä½¿ç”¨åˆå§‹åŒ–ï¼Œç„¶åæ¶ˆé™¤äº†içš„åˆ¤æ–­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_max_value</span><span class=\"params\">(g: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    cur = list(itertools.accumulate(g[<span class=\"number\">0</span>]))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, R):</span><br><span class=\"line\">        tmp = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            left = tmp[<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">            tmp.append(max(cur[j], left) + g[i][j])</span><br><span class=\"line\">        cur = tmp</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²\"><a href=\"#48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"48.æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²\"></a>48.æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</h3><h4 id=\"LeetCodeä¼ é€é—¨-29\"><a href=\"#LeetCodeä¼ é€é—¨-29\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/longest-substring-without-repeating-characters/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•äºŒï¼šæ‰¾åˆ°é‡å¤å€¼æ—¶ï¼Œæ›´æ–°startçš„å€¼ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨maxï¼Œå› ä¸ºstartæœ‰å¯èƒ½å¤§äº<code>dic[s[end]]+1</code>ï¼Œæ¯”å¦‚å½“<code>s=&#39;abba&#39;</code>ï¼Œendèµ°åˆ°æœ€åçš„æ—¶å€™ï¼Œä¸Šä¸€æ¬¡startå› ä¸ºbåšäº†æ›´æ–°å˜ä¸ºäº†2ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLongestSubstring</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    ans = start = <span class=\"number\">0</span></span><br><span class=\"line\">    pos = &#123;&#125;    <span class=\"comment\"># last index of element</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> end, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">in</span> pos:</span><br><span class=\"line\">            start = max(start, pos[c]+<span class=\"number\">1</span>)</span><br><span class=\"line\">        pos[c] = end</span><br><span class=\"line\">        ans = max(ans, end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"49-ä¸‘æ•°\"><a href=\"#49-ä¸‘æ•°\" class=\"headerlink\" title=\"49.ä¸‘æ•°\"></a>49.ä¸‘æ•°</h3><h4 id=\"LeetCodeä¼ é€é—¨-30\"><a href=\"#LeetCodeä¼ é€é—¨-30\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/ugly-number-ii/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nthUglyNumber</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    q = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    t2 = t3 = t5 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        a2, a3, a5 = q[t2]*<span class=\"number\">2</span>, q[t3]*<span class=\"number\">3</span>, q[t5]*<span class=\"number\">5</span></span><br><span class=\"line\">        to_add = min(a2, a3, a5)</span><br><span class=\"line\">        q.append(to_add)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a2 == to_add:</span><br><span class=\"line\">            t2 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> a3 == to_add:</span><br><span class=\"line\">            t3 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> a5 == to_add:</span><br><span class=\"line\">            t5 += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> q[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦\"><a href=\"#50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦\" class=\"headerlink\" title=\"50.ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦\"></a>50.ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</h3><h4 id=\"LeetCodeä¼ é€é—¨æœ‰ä¸€ç‚¹å°åŒºåˆ«ï¼ŒLeetCodeè¾“å‡ºç´¢å¼•ï¼Œä¹¦ä¸­è¾“å‡ºå€¼ã€‚\"><a href=\"#LeetCodeä¼ é€é—¨æœ‰ä¸€ç‚¹å°åŒºåˆ«ï¼ŒLeetCodeè¾“å‡ºç´¢å¼•ï¼Œä¹¦ä¸­è¾“å‡ºå€¼ã€‚\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨æœ‰ä¸€ç‚¹å°åŒºåˆ«ï¼ŒLeetCodeè¾“å‡ºç´¢å¼•ï¼Œä¹¦ä¸­è¾“å‡ºå€¼ã€‚\"></a><a href=\"https://leetcode.com/problems/first-unique-character-in-a-string/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a>æœ‰ä¸€ç‚¹å°åŒºåˆ«ï¼ŒLeetCodeè¾“å‡ºç´¢å¼•ï¼Œä¹¦ä¸­è¾“å‡ºå€¼ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">s &#x3D; &quot;leetcode&quot;</span><br><span class=\"line\">return 0.</span><br><span class=\"line\">s &#x3D; &quot;loveleetcode&quot;,</span><br><span class=\"line\">return 2.</span><br></pre></td></tr></table></figure>\n<p>Time-O(N), Space-O(N)ã€‚æš‚æ—¶æ²¡å‘ç°æ›´å¿«çš„ç®—æ³•äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">firstUniqChar</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, ch <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c[ch] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"51-æ•°ç»„ä¸­çš„é€†åºå¯¹\"><a href=\"#51-æ•°ç»„ä¸­çš„é€†åºå¯¹\" class=\"headerlink\" title=\"51.æ•°ç»„ä¸­çš„é€†åºå¯¹\"></a>51.æ•°ç»„ä¸­çš„é€†åºå¯¹</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-5\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-5\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/96bd6684e04a44eb80e6a68efc0ec6c5?tpId=13&amp;tqId=11188&amp;tPage=2&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-14\"><a href=\"#AcWingä¼ é€é—¨-14\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/61/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>è¿™é‡Œä½¿ç”¨äº†åŒç«¯é˜Ÿåˆ—æ„Ÿè§‰ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºè¿˜è¦æ˜¾å¼åœ°è½¬æˆlistï¼Œå¦åˆ™æ²¡æ³•å¯¹å‰©ä½™çš„leftæˆ–rightåšåˆ‡ç‰‡ã€‚ä¹Ÿè¯•äº†å°†å…¶æ”¹ä¸ºstackï¼Œä½†æ˜¯stackæ¥å›reverseåˆå¤ªéº»çƒ¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">InversePairs</span><span class=\"params\">(self, data)</span>:</span></span><br><span class=\"line\">    self.count = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge</span><span class=\"params\">(left, right)</span>:</span></span><br><span class=\"line\">        q = deque()</span><br><span class=\"line\">        l, r = len(left)<span class=\"number\">-1</span>, len(right)<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> r &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> left[l] &gt; right[r]:</span><br><span class=\"line\">                self.count += r + <span class=\"number\">1</span></span><br><span class=\"line\">                q.appendleft(left[l])</span><br><span class=\"line\">                l -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                q.appendleft(right[r])</span><br><span class=\"line\">                r -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># q.extendleft(left[l:-1:-1] or right[r:-1:-1])</span></span><br><span class=\"line\">        q = left[:l+<span class=\"number\">1</span>] + right[:r+<span class=\"number\">1</span>] + list(q)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_sort</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(ary) &lt;= <span class=\"number\">1</span>: <span class=\"keyword\">return</span> ary</span><br><span class=\"line\">        mid = len(ary) // <span class=\"number\">2</span></span><br><span class=\"line\">        left = merge_sort(ary[:mid])</span><br><span class=\"line\">        right = merge_sort(ary[mid:])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> merge(left, right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    merge_sort(data)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.count % <span class=\"number\">1000000007</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹\"><a href=\"#52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹\" class=\"headerlink\" title=\"52.ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹\"></a>52.ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</h3><h4 id=\"LeetCodeä¼ é€é—¨-31\"><a href=\"#LeetCodeä¼ é€é—¨-31\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/intersection-of-two-linked-lists/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getIntersectionNode</span><span class=\"params\">(self, headA, headB)</span>:</span></span><br><span class=\"line\">    p1, p2 = headA, headB</span><br><span class=\"line\">    <span class=\"keyword\">while</span> p1 <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> p2:</span><br><span class=\"line\">        p1 = p1.next <span class=\"keyword\">if</span> p1 <span class=\"keyword\">else</span> headB</span><br><span class=\"line\">        p2 = p2.next <span class=\"keyword\">if</span> p2 <span class=\"keyword\">else</span> headA</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p1</span><br></pre></td></tr></table></figure>\n<h3 id=\"53-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—\"><a href=\"#53-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—\" class=\"headerlink\" title=\"53.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—\"></a>53.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—</h3><p>ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeæ˜¯æ±‚å‡ºæ•°å­—çš„ç´¢å¼•ï¼Œä¹¦ä¸­è¿”å›ä¸ªæ•°ã€‚</p>\n<h4 id=\"LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeè¦è¿”å›ä¸¤ä¸ªç´¢å¼•ï¼Œä¹¦ä¸­æ±‚ä¸ªæ•°ã€‚\"><a href=\"#LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeè¦è¿”å›ä¸¤ä¸ªç´¢å¼•ï¼Œä¹¦ä¸­æ±‚ä¸ªæ•°ã€‚\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeè¦è¿”å›ä¸¤ä¸ªç´¢å¼•ï¼Œä¹¦ä¸­æ±‚ä¸ªæ•°ã€‚\"></a><a href=\"https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a>ã€‚ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeè¦è¿”å›ä¸¤ä¸ªç´¢å¼•ï¼Œä¹¦ä¸­æ±‚ä¸ªæ•°ã€‚</h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums = [<span class=\"number\">5</span>,<span class=\"number\">7</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">8</span>,<span class=\"number\">10</span>], target = <span class=\"number\">8</span></span><br><span class=\"line\">Output: [<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">Input: nums = [<span class=\"number\">5</span>,<span class=\"number\">7</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>,<span class=\"number\">8</span>,<span class=\"number\">10</span>], target = <span class=\"number\">6</span></span><br><span class=\"line\">Output: [<span class=\"number\">-1</span>,<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ‡å‡†åº“å†™æ³•ã€‚è¿™é‡Œä¸éœ€è¦targetå»æ•´ä¸ªnumsä¸­åˆ¤æ–­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchRange</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> bisect <span class=\"keyword\">import</span> bisect, bisect_left</span><br><span class=\"line\">    lo = bisect_left(nums, target)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> target <span class=\"keyword\">in</span> nums[lo:lo+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> lo, bisect(nums, target)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>, <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè‡ªå·±å®ç°ã€‚bisect_rightçš„æ–¹å¼é‡‡ç”¨+1çš„å½¢å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchRange</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        lo, hi = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">            mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[mid] &gt;= n:</span><br><span class=\"line\">                hi = mid</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> lo</span><br><span class=\"line\">    lo = search(target)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> target <span class=\"keyword\">in</span> nums[lo:lo+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> lo, search(target+<span class=\"number\">1</span>)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>, <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"53-0-n-1ä¸­ç¼ºå¤±çš„æ•°å­—\"><a href=\"#53-0-n-1ä¸­ç¼ºå¤±çš„æ•°å­—\" class=\"headerlink\" title=\"53.0~n-1ä¸­ç¼ºå¤±çš„æ•°å­—\"></a>53.0~n-1ä¸­ç¼ºå¤±çš„æ•°å­—</h3><h4 id=\"LeetCodeä¼ é€é—¨-32\"><a href=\"#LeetCodeä¼ é€é—¨-32\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/missing-number/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeæ˜¯æœªæ’åºï¼Œä¹¦ä¸­æ˜¯å·²æ’åºã€‚æ‰€ä»¥å¯ä»¥åˆ©ç”¨æ’åºçš„ç‰¹æ€§ä½¿æ—¶é—´å¤æ‚åº¦å°äºO(n)ã€‚å³æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸‹æ ‡ä¸å€¼ä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œå†-1å°±æ˜¯ç¼ºå¤±çš„å…ƒç´ ã€‚</p>\n<h4 id=\"AcWingä¼ é€é—¨-15\"><a href=\"#AcWingä¼ é€é—¨-15\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/64/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šæ•°å­¦å…¬å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingNumber</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    expected_sum = n*(n+<span class=\"number\">1</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">    actual_sum = sum(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> expected_sum - actual_sum</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šXOR.</p>\n<table>\n<thead>\n<tr>\n<th>index</th>\n<th>0</th>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>value</td>\n<td>3</td>\n<td>0</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingNumber</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    missing = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        missing ^= i ^ num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> missing</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨ä¹¦ä¸­å·²æ’åºçš„ç‰¹æ€§ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingNumber</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; mid:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"53-æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ \"><a href=\"#53-æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ \" class=\"headerlink\" title=\"53 æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ \"></a>53 æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ </h3><h4 id=\"AcWingä¼ é€é—¨-16\"><a href=\"#AcWingä¼ é€é—¨-16\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/65/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getNumberSameAsIndex</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &lt; mid:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &gt; mid:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"54-äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹\"><a href=\"#54-äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹\" class=\"headerlink\" title=\"54.äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹\"></a>54.äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹</h3><h4 id=\"AcWingä¼ é€é—¨-17\"><a href=\"#AcWingä¼ é€é—¨-17\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/66/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>æ³¨æ„ï¼šç‰›å®¢ç½‘ä¸Šæ˜¯æ±‚ç¬¬kå°èŠ‚ç‚¹ï¼Œè¿™é‡Œè¢«å‘äº†ä¸€æ¬¡ï¼Œç„¶åè¿”å›å€¼å±…ç„¶è¦æ±‚è¿”å›èŠ‚ç‚¹å¯¹è±¡ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹å€¼ï¼Œè¿™é‡Œçš„ç­”æ¡ˆæŒ‰ä¹¦ä¸­è¿”å›ã€‚å¦‚æœæ˜¯ç‰›å®¢ç½‘ä¸Šéœ€è¦æŠŠèŠ‚ç‚¹æ·»åŠ åˆ°<code>res</code>ä¸­ï¼Œç„¶å<code>return res[k-1]</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kth_largest</span><span class=\"params\">(self, root: TreeNode, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    stack, ans = [], <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.right</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        k -= <span class=\"number\">1</span></span><br><span class=\"line\">        ans = root</span><br><span class=\"line\">        root = root.left</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨å†™æ³•ï¼Œæ— æ¯”çš„æ¸…æ™°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthLargest</span><span class=\"params\">(self, root: TreeNode, k: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">r_inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> r_inorder(node.right)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> r_inorder(node.left)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(islice(r_inorder(root), k<span class=\"number\">-1</span>, <span class=\"literal\">None</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"55-äºŒå‰æ ‘çš„æ·±åº¦\"><a href=\"#55-äºŒå‰æ ‘çš„æ·±åº¦\" class=\"headerlink\" title=\"55.äºŒå‰æ ‘çš„æ·±åº¦\"></a>55.äºŒå‰æ ‘çš„æ·±åº¦</h3><h4 id=\"LeetCodeä¼ é€é—¨-33\"><a href=\"#LeetCodeä¼ é€é—¨-33\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/maximum-depth-of-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    3</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  9  20</span><br><span class=\"line\">    &#x2F;  \\</span><br><span class=\"line\">   15   7</span><br><span class=\"line\">return 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_depth</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"comment\"># return max(max_depth(root.left), max_depth(root.right)) + 1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(map(max_depth, (root.left, root.right))) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively. BFS with deque</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDepth</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    q = root <span class=\"keyword\">and</span> collections.deque([(root, <span class=\"number\">1</span>)])</span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        node, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            q.append((node.right, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            q.append((node.left, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d</span><br></pre></td></tr></table></figure>\n<h3 id=\"55-1å¹³è¡¡äºŒå‰æ ‘\"><a href=\"#55-1å¹³è¡¡äºŒå‰æ ‘\" class=\"headerlink\" title=\"55.1å¹³è¡¡äºŒå‰æ ‘\"></a>55.1å¹³è¡¡äºŒå‰æ ‘</h3><h4 id=\"LeetCodeä¼ é€é—¨-34\"><a href=\"#LeetCodeä¼ é€é—¨-34\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/balanced-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’+é€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.isBalanced(root.left) <span class=\"keyword\">and</span> self.isBalanced(root.right) <span class=\"keyword\">and</span> \\</span><br><span class=\"line\">           abs(self.max_depth(root.left)-self.max_depth(root.right)) &lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_depth</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(self.max_depth(root.left), self.max_depth(root.right)) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸Šè¯‰ä¸¤ç§æ–¹æ³•ä¸­éƒ½åŒ…å«äº†ä¸€äº›æ— æ„ä¹‰çš„é‡å¤éå†ã€‚è¿™é‡Œé‡‡ç”¨ååºéå†ï¼Œè¾¹éå†è¾¹åˆ¤æ–­ï¼Œä¸ä¼šé‡å¤èŠ‚ç‚¹ã€‚å—æ­¤æ€æƒ³å¯å‘ï¼Œæ·»åŠ ä¸€ç§ååºéå†äºŒå‰æ ‘çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    stack, node, last = [], root, <span class=\"literal\">None</span></span><br><span class=\"line\">    depths = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> node:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            stack.append(node)</span><br><span class=\"line\">            node = node.left</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            node = stack[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">or</span> last == node.right:</span><br><span class=\"line\">                node = stack.pop()</span><br><span class=\"line\">                left, right  = depths[node.left], depths[node.right]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> abs(left - right) &gt; <span class=\"number\">1</span>: </span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                depths[node] = <span class=\"number\">1</span> + max(left, right)</span><br><span class=\"line\">                last, node = node, <span class=\"literal\">None</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                node = node.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šdfs. ç®—æ·±åº¦çš„æ—¶å€™åˆ¤æ–­å·¦å³æ˜¯å¦æ·±åº¦è¶…è¿‡1. è¿™é‡Œå˜é‡ä¸èƒ½æŠŠselfå»æ‰ï¼Œå¦åˆ™<code>[1,2,2,3,3,null,null,4,4]</code>ä¼šé”™è¯¯çš„è¿”å›<code>True</code>è€Œä¸æ˜¯<code>False</code>ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨<code>nonlocal</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    self.balanced = <span class=\"literal\">True</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> abs(left-right) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> self.balanced:</span><br><span class=\"line\">            self.balanced = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(left, right) + <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.balanced</span><br></pre></td></tr></table></figure>\n<h3 id=\"56-æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ã€‚\"><a href=\"#56-æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ã€‚\" class=\"headerlink\" title=\"56 æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ã€‚\"></a>56 æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ã€‚</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚LeetCodeä¼ é€é—¨\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚LeetCodeä¼ é€é—¨\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚LeetCodeä¼ é€é—¨\"></a>æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚<a href=\"https://leetcode.com/problems/single-number-iii/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:  [1,2,1,3,2,5]</span><br><span class=\"line\">Output: [3,5]</span><br></pre></td></tr></table></figure>\n<p>æ€æƒ³ï¼šå°†è¿™ä¸¤ä¸ªå…ƒç´ åˆ†åˆ°ä¸¤ä¸ªç»„ï¼Œç”±äºè¿™ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥äº¦æˆ–ç»“æœä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´äºŒè¿›åˆ¶ä¸­è‡³å°‘æœ‰ä¸€ä½1ï¼Œè®°ä¸ºç¬¬nä½ã€‚æˆ‘ä»¬ä»¥ç¬¬nä½æ˜¯å¦ä¸º1ï¼ŒæŠŠæ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumbers</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">xor_total</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> reduce(xor, ary)</span><br><span class=\"line\"></span><br><span class=\"line\">    total = xor_total(nums)</span><br><span class=\"line\">    mask = total &amp; -total</span><br><span class=\"line\">    n1 = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;mask==<span class=\"number\">0</span>)</span><br><span class=\"line\">    n2 = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;mask!=<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> xor_total(n1), xor_total(n2)</span><br></pre></td></tr></table></figure>\n<h3 id=\"56-1æ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå…¶ä½™å…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚\"><a href=\"#56-1æ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå…¶ä½™å…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚\" class=\"headerlink\" title=\"56.1æ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå…¶ä½™å…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚\"></a>56.1æ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå…¶ä½™å…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚</h3><h4 id=\"LeetCodeä¼ é€é—¨-35\"><a href=\"#LeetCodeä¼ é€é—¨-35\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/single-number-ii/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,2,3,2]</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ‰¾å‡ºå•ç‹¬å…ƒç´ æ¯ä¸€ä½çš„å€¼ã€‚å¦‚æœæŠŠæ‰€æœ‰æ•°å­—çš„äºŒè¿›åˆ¶æ¯ä¸€ä½åŠ èµ·æ¥ï¼Œå¦‚æœæŸä¸€ä½å¯ä»¥è¢«3æ•´é™¤ï¼Œåˆ™è¡¨ç¤ºå•ç‹¬å…ƒç´ çš„è¯¥ä½ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ä»¥ä¸‹ä½¿ç”¨<code>count</code>æ¥è¡¨ç¤ºæ¯ä¸€ä½<code>1</code>çš„ä¸ªæ•°ã€‚å‡è®¾<code>count%3!=0</code>ä¸ºTrueï¼Œè¯´æ˜è¯¥å…ƒç´ <code>i</code>ä½ä¸º1ï¼Œç„¶åæ˜¯ç”¨<code>|=</code>æ›´æ–°ansåœ¨ç¬¬<code>i</code>ä¸ªä½ç½®çš„å€¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>+=</code>ï¼Œä½†æ˜¯æ•ˆç‡ç¨æ…¢ã€‚<code>convert</code>çš„ä½œç”¨æ˜¯å› ä¸ºpythonä¸­çš„intæ˜¯ä¸ªå¯¹è±¡ï¼Œä¸”æ²¡æœ‰æœ€å¤§é™åˆ¶ï¼Œä¸æ˜¯åœ¨ç¬¬32ä½ä½¿ç”¨1æ¥è¡¨ç¤ºè´Ÿæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumber</span><span class=\"params\">(self, nums, n=<span class=\"number\">3</span>)</span>:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((num &gt;&gt; i) &amp; <span class=\"number\">1</span>):</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">        ans |= ((count%n!=<span class=\"number\">0</span>) &lt;&lt; i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.convert(ans)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convert</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> x &gt;= <span class=\"number\">2</span>**<span class=\"number\">31</span>:</span><br><span class=\"line\">        x -= <span class=\"number\">2</span>**<span class=\"number\">32</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œæœ‰ä¸ªçŠ¶æ€æœºçš„è§£æ³•ï¼Œä¸æ˜è§‰å‰ï¼Œç•™å‘ã€‚<a href=\"https://leetcode.com/problems/single-number-ii/discuss/43294/Challenge-me-thx?page=2\" target=\"_blank\" rel=\"noopener\">è®¨è®º1</a>å’Œ<a href=\"https://leetcode.com/problems/single-number-ii/discuss/43295/Detailed-explanation-and-generalization-of-the-bitwise-operation-method-for-single-numbers\" target=\"_blank\" rel=\"noopener\">è®¨è®º2</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumber</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ones, twos = <span class=\"number\">0</span>, <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        ones = (ones ^ nums[i]) &amp; ~twos</span><br><span class=\"line\">        twos = (twos ^ nums[i]) &amp; ~ones</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ones</span><br></pre></td></tr></table></figure>\n<h3 id=\"57-å’Œä¸ºsçš„æ•°å­—\"><a href=\"#57-å’Œä¸ºsçš„æ•°å­—\" class=\"headerlink\" title=\"57.å’Œä¸ºsçš„æ•°å­—\"></a>57.å’Œä¸ºsçš„æ•°å­—</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-6\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-6\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/390da4f7a00f44bea7c2f3d19491311b?tpId=13&amp;tqId=11195&amp;tPage=3&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-18\"><a href=\"#AcWingä¼ é€é—¨-18\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/71/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>çœ‹ç‰›å®¢ç½‘ä¸Šçš„æè¿°ï¼Œå¦‚æœæœ‰å¤šå¯¹æ•°å­—å’Œä¸ºsï¼Œè¦æ±‚è¿”å›ä¹˜ç§¯æœ€å°çš„ä¸€å¯¹ã€‚ä¹ä¸€çœ‹ä»¥ä¸ºç‰›å®¢ç½‘åˆä¹±æ”¹é¢˜ï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³ï¼Œå¦‚æœä¸¤ä¸ªå’Œä¸ºsçš„æ•°ï¼Œè€Œä¸”æ˜¯åœ¨é€’å¢æ•°ç»„ä¸­å¾ˆæ˜æ˜¾ï¼Œè¾¹ç¼˜çš„æ•°å­—ä¹˜ç§¯è¦å°ï¼Œä¾‹å¦‚<code>8X8&gt;1X15</code>ã€‚æ‰€ä»¥è¿˜æ˜¯å’Œä¹¦ä¸­è§£æ³•ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">FindNumbersWithSum</span><span class=\"params\">(self, array, tsum)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(array)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> array[l] + array[r] &lt; tsum:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> array[l]+array[r] &gt; tsum:</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> array[l], array[r]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"57-1-å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—\"><a href=\"#57-1-å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—\" class=\"headerlink\" title=\"57_1 å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—\"></a>57_1 å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-7\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-7\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/c451a3fd84b64cb19485dad758a55ebe?tpId=13&amp;tqId=11194&amp;tPage=3&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-19\"><a href=\"#AcWingä¼ é€é—¨-19\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/72/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findContinuousSequence</span><span class=\"params\">(self, tsum)</span>:</span></span><br><span class=\"line\">    end = (tsum + <span class=\"number\">1</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">    lo, hi, cur_sum = <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; end:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_sum &lt; tsum:</span><br><span class=\"line\">            hi += <span class=\"number\">1</span></span><br><span class=\"line\">            cur_sum += hi</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur_sum == tsum:</span><br><span class=\"line\">                ans.append(list(range(lo, hi+<span class=\"number\">1</span>)))</span><br><span class=\"line\">            cur_sum -= lo</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"58-ç¿»è½¬å­—ç¬¦ä¸²ã€‚\"><a href=\"#58-ç¿»è½¬å­—ç¬¦ä¸²ã€‚\" class=\"headerlink\" title=\"58.ç¿»è½¬å­—ç¬¦ä¸²ã€‚\"></a>58.ç¿»è½¬å­—ç¬¦ä¸²ã€‚</h3><h4 id=\"LeetCodeä¼ é€é—¨-36\"><a href=\"#LeetCodeä¼ é€é—¨-36\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/reverse-words-in-a-string/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: <span class=\"string\">\"the sky is blue\"</span>,</span><br><span class=\"line\">Output: <span class=\"string\">\"blue is sky the\"</span>.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¦‚æœé¢è¯•å®˜æ˜¯ä¸€ä¸ªPythonerï¼Œé‚£ä¹ˆå°±è®©ä½ è¿‡äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse_words</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">' '</span>.join(reversed(s.split()))</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœä½ çš„é¢è¯•å®˜æ˜¯ä¸€ä¸ªåªå†™Javaæˆ–è€…Cï¼Œçœ‹è§ä»£ç å°±ä¸å¹³è¡¡äº†ï¼Œå‡­å•¥å¯ä»¥å†™åˆ°ä¸€è¡Œï¼Œéè¦ä½ å®ç°reverseã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseWords</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hp_reversed</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        s = list(s)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)//<span class=\"number\">2</span>):</span><br><span class=\"line\">            <span class=\"comment\"># s[i], s[-i-1] = s[-i-1], s[i]</span></span><br><span class=\"line\">            s[i], s[~i] = s[~i], s[i]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(s)</span><br><span class=\"line\">    s = hp_reversed(s)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">' '</span>.join(hp_reversed(word) <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> s.split())</span><br></pre></td></tr></table></figure>\n<p>å®ç°<code>split</code>ï¼Œhp_reverseï¼Œ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseWords</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hp_reversed</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        s = list(s)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)//<span class=\"number\">2</span>):</span><br><span class=\"line\">            s[i], s[~i] = s[~i], s[i]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(s)</span><br><span class=\"line\"></span><br><span class=\"line\">    s = hp_reversed(s)</span><br><span class=\"line\">    ans = word = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> r, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c != <span class=\"string\">' '</span>:</span><br><span class=\"line\">            word += c</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (c== <span class=\"string\">' '</span> <span class=\"keyword\">or</span> r==len(s)<span class=\"number\">-1</span>) <span class=\"keyword\">and</span> word:</span><br><span class=\"line\">            ans += hp_reversed(word) + <span class=\"string\">' '</span></span><br><span class=\"line\">            word = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[:<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"58-1-å·¦æ—‹è½¬å­—ç¬¦ä¸²\"><a href=\"#58-1-å·¦æ—‹è½¬å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"58_1 å·¦æ—‹è½¬å­—ç¬¦ä¸²\"></a>58_1 å·¦æ—‹è½¬å­—ç¬¦ä¸²</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-8\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-8\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/12d959b108cb42b1ab72cef4d36af5ec?tpId=13&amp;tqId=11196&amp;tPage=1&amp;rp=1&amp;ru=/ta/coding-interviews&amp;qru=/ta/coding-interviews/question-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-20\"><a href=\"#AcWingä¼ é€é—¨-20\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/74/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>åˆ‡ç‰‡ï¼Œä¹¦ä¸­çš„æ–¹æ³•ä¸ªäººè§‰å¾—Pythonå¹¶ä¸é€‚ç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">LeftRotateString</span><span class=\"params\">(self, s, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">    n = n % len(s)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s[n:] + s[:n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"59-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚\"><a href=\"#59-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚\" class=\"headerlink\" title=\"59.æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚\"></a>59.æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚</h3><h4 id=\"LeetCodeä¼ é€é—¨-37\"><a href=\"#LeetCodeä¼ é€é—¨-37\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/sliding-window-maximum/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>å¾—ç›Šäºpythonçš„åˆ‡ç‰‡ã€‚Time: O(n*k). k=n-size</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxInWindows</span><span class=\"params\">(self, nums, size)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [max(nums[i:i+size])</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)-size+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> size!=<span class=\"number\">0</span> ]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé˜Ÿåˆ—ä¿å­˜ç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSlidingWindow</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    q = collections.deque()</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> q <span class=\"keyword\">and</span> nums[q[<span class=\"number\">-1</span>]] &lt; d:</span><br><span class=\"line\">            q.pop()</span><br><span class=\"line\">        q.append(i)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> q[<span class=\"number\">0</span>] == i-k:</span><br><span class=\"line\">            q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt;= k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            ans.append(nums[q[<span class=\"number\">0</span>]])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"60-nä¸ªéª°å­çš„ç‚¹æ•°\"><a href=\"#60-nä¸ªéª°å­çš„ç‚¹æ•°\" class=\"headerlink\" title=\"60.nä¸ªéª°å­çš„ç‚¹æ•°\"></a>60.nä¸ªéª°å­çš„ç‚¹æ•°</h3><h4 id=\"AcWingä¼ é€é—¨-21\"><a href=\"#AcWingä¼ é€é—¨-21\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/76/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[[1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 1, 2, 3, 4, 5, 6, 5, 4, 3, 2, 1]]</span><br></pre></td></tr></table></figure>\n<p><code>dp[0][j]==1</code>è¡¨ç¤ºç¬¬ä¸€ä¸ªéª°å­å’Œä¸º<code>j+1</code>çš„æ¬¡æ•°ä¸º1ï¼Œå› ä¸ºæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dice_probability</span><span class=\"params\">(n, val=<span class=\"number\">6</span>)</span>:</span></span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*val*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][:val] = [<span class=\"number\">1</span>] * val  <span class=\"comment\"># åˆå§‹åŒ–ç¬¬ä¸€ä¸ªéª°å­</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):  <span class=\"comment\"># æ ¹æ®ç¬¬iä¸ªéª°å­æ›´æ–°ç¬¬i+1ä¸ªéª°å­</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, len(dp[i+<span class=\"number\">1</span>])):</span><br><span class=\"line\">            <span class=\"comment\"># ç¬¬i+1ä¸ªéª°å­å’Œä¸ºjï¼ˆå®é™…ä¸ºj+1ï¼Œå› ä¸ºæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ï¼‰çš„æ¬¡æ•°ï¼Œç­‰äºç¬¬iä¸ª</span></span><br><span class=\"line\">            <span class=\"comment\"># éª°å­j-1 ~ j-6æ¬¡æ•°çš„æ€»å’Œ</span></span><br><span class=\"line\">            dp[i+<span class=\"number\">1</span>][j] = sum([dp[i][j-k] <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, val+<span class=\"number\">1</span>)])</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"comment\"># æ•´ç†æ•°æ®æˆä¸ºdictï¼Œkeyè¡¨ç¤ºå’Œï¼Œvalueè¡¨ç¤ºå‡ºç°çš„æ¬¡æ•°</span></span><br><span class=\"line\">    <span class=\"comment\"># count = &#123;i+1: times for i, times in enumerate(dp[-1])&#125;</span></span><br><span class=\"line\">    <span class=\"comment\"># è®¡ç®—æ¦‚ç‡</span></span><br><span class=\"line\">    count = &#123;i+<span class=\"number\">1</span>: round(float(times / (val**n)), <span class=\"number\">5</span>)</span><br><span class=\"line\">             <span class=\"keyword\">for</span> i, times <span class=\"keyword\">in</span> enumerate(dp[<span class=\"number\">-1</span>]) <span class=\"keyword\">if</span> times!=<span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<p>æ„Ÿè§‰ç”¨dictæ¥è¡¨ç¤ºæ›´åŠ æ˜ç¡®ï¼Œæ²¡æœ‰æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹çš„æ··æ·†ã€‚æŒ‰ç…§AcWingä¸­çš„è¿”å›å†™å‡ºä¸€ç§è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\"><span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> repeat</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfDice</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    last_p = defaultdict(int)</span><br><span class=\"line\">    last_p.update(dict(zip(range(<span class=\"number\">1</span>, <span class=\"number\">7</span>), repeat(<span class=\"number\">1</span>))))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        new_p = defaultdict(int)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, i*<span class=\"number\">6</span>+<span class=\"number\">1</span>):</span><br><span class=\"line\">            new_p[j] = sum(last_p[j-k] <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">7</span>))</span><br><span class=\"line\">        <span class=\"comment\"># print(new_p)</span></span><br><span class=\"line\">        last_p = new_p</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(last_p.values())</span><br></pre></td></tr></table></figure>\n<h3 id=\"61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­\"><a href=\"#61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­\" class=\"headerlink\" title=\"61.æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­\"></a>61.æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­</h3><h4 id=\"ç‰›å®¢ç½‘ä¼ é€é—¨-9\"><a href=\"#ç‰›å®¢ç½‘ä¼ é€é—¨-9\" class=\"headerlink\" title=\"ç‰›å®¢ç½‘ä¼ é€é—¨\"></a><a href=\"https://www.nowcoder.com/practice/762836f4d43d43ca9deb273b3de8e1f4?tpId=13&amp;tqId=11198&amp;tPage=3&amp;rp=1&amp;ru=%2Fta%2Fcoding-interviews&amp;qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></h4><h4 id=\"AcWingä¼ é€é—¨-22\"><a href=\"#AcWingä¼ é€é—¨-22\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/77/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>å¼€å§‹ä»¥ä¸ºè¿˜è¦ç”¨ä¸ªdictæ¥æ˜ å°„å€¼ï¼Œåæ¥å‘ç°ç›´æ¥ä¼ å¾—å¡ç‰Œçš„å€¼ã€‚æ€æƒ³å°±æ˜¯å…ˆæ’åºï¼Œç„¶åæŸ¥jokerçš„æ•°é‡ï¼Œçœ‹å‰©ä¸‹ç‰Œçš„å·®å€¼åŠ èµ·æ¥èƒ½ä¸èƒ½ç”¨å·²æœ‰çš„jokerè¿èµ·æ¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">IsContinuous</span><span class=\"params\">(self, numbers)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> numbers:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    joker_count = numbers.count(<span class=\"number\">0</span>)</span><br><span class=\"line\">    left_cards = sorted(numbers)[joker_count:]</span><br><span class=\"line\">    need_joker = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(left_cards)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left_cards[i+<span class=\"number\">1</span>] == left_cards[i]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        need_joker += (left_cards[i+<span class=\"number\">1</span>]-left_cards[i]<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> need_joker &lt;= joker_count</span><br></pre></td></tr></table></figure>\n<p>åªè¦æ²¡æœ‰é‡å¤çš„ï¼Œå¹¶ä¸”æœ€å¤§çš„å’Œæœ€å°çš„å·®&lt;5å°±èƒ½ç»„æˆé¡ºå­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isStraight</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    cards = [x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> x!=<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(cards)==len(set(cards)) <span class=\"keyword\">and</span> max(cards)-min(cards)&lt;<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—\"><a href=\"#62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—\" class=\"headerlink\" title=\"62.åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—\"></a>62.åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—</h3><h4 id=\"AcWingä¼ é€é—¨-23\"><a href=\"#AcWingä¼ é€é—¨-23\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/78/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šå…¶å®ä¸éœ€è¦ç¯å½¢é“¾è¡¨ï¼Œä½¿ç”¨ä¸€ä¸ªlistè¶³çŸ£ï¼Œæ¯æ¬¡å°†å…¶æ—‹è½¬<code>rot</code>ä½ï¼Œä¸€å¼€å§‹æƒ³å°†è¦æŠŠç¬¬mä¸ªæ•°æ—‹è½¬åˆ°listé¦–éƒ¨ï¼Œç„¶åå†<code>pop(0)</code>ï¼Œåæ¥æƒ³åˆ°ç›´æ¥å¯ä»¥é€šè¿‡åˆ‡ç‰‡å–å‡ºæ¥ï¼ŒèŠ‚çœäº†<code>pop(0)</code>çš„O(n)å¤æ‚åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lastRemaining</span><span class=\"params\">(self, n: int, m: int)</span> -&gt; int:</span></span><br><span class=\"line\">    num = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        num = (num + m) % i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¹¦ä¸­çš„æ¨å¯¼è¿‡ç¨‹è¿‡äºå¤æ‚ï¼Œè¿™é‡Œå­¦åˆ°äº†ä¸€ä¸ªç¨å¾®ç®€å•çš„æ¨å¯¼è¿‡ç¨‹ã€‚å‚è€ƒ<a href=\"https://blog.oldj.net/2010/05/27/joseph-ring/\" target=\"_blank\" rel=\"noopener\">çº¦ç‘Ÿå¤«ç¯é—®é¢˜</a>ã€‚</p>\n<p>è§£æ<a href=\"/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98%EF%BC%88Josephus-problem%EF%BC%89/\" title=\"Josephus-problem\">Josephus-problem</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">LastRemaining_Solution</span><span class=\"params\">(self, n, m)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n&lt;=<span class=\"number\">0</span> <span class=\"keyword\">or</span> m&lt;=<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    last_num = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        last_num = (last_num+m) % i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> last_num</span><br></pre></td></tr></table></figure>\n<h3 id=\"63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦\"><a href=\"#63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦\" class=\"headerlink\" title=\"63.è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦\"></a>63.è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</h3><h4 id=\"LeetCodeä¼ é€é—¨-38\"><a href=\"#LeetCodeä¼ é€é—¨-38\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ–¹æ³•ä¸€ï¼šBrute Force.å…¶å®å°±æ˜¯æ±‚æœ€é«˜å³°ç‚¹å’Œå‰é¢æœ€ä½è°·ç‚¹çš„å·®ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    profit, min_buy = <span class=\"number\">0</span>, float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> prices:</span><br><span class=\"line\">        min_buy = min(min_buy, p)</span><br><span class=\"line\">        profit = max(profit, p-min_buy)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> profit</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ ‡å‡†çš„å¡ç™»ç®—æ³•ã€‚æ­¤é¢˜ä¸º53.è¿ç»­æ•°ç»„æœ€å¤§å’Œçš„å˜å½¢ï¼Œå¦‚æœä»·æ ¼æ¯”ä¹‹å‰å°ï¼Œåˆ™èˆå¼ƒï¼Œå¦åˆ™ä¸€èµ·è®¡ç®—è¿ç»­å­æ•°ç»„çš„å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cur = sofar = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">        cur += prices[i] - prices[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        cur = max(<span class=\"number\">0</span>, cur)</span><br><span class=\"line\">        sofar = max(cur, sofar)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sofar</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ ‡å‡†åº“çš„å¡ç™»ç®—æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> tee</span><br><span class=\"line\">    cur = profit = <span class=\"number\">0</span></span><br><span class=\"line\">    a, b = tee(prices)</span><br><span class=\"line\">    next(b, <span class=\"literal\">None</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> before, today <span class=\"keyword\">in</span> zip(a, b):</span><br><span class=\"line\">        cur += today - before</span><br><span class=\"line\">        cur = max(<span class=\"number\">0</span>, cur)</span><br><span class=\"line\">        profit = max(profit, cur)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> profit</span><br></pre></td></tr></table></figure>\n<h3 id=\"64-æ±‚1-2-Â·Â·Â·-n\"><a href=\"#64-æ±‚1-2-Â·Â·Â·-n\" class=\"headerlink\" title=\"64.æ±‚1+2+Â·Â·Â·+n\"></a>64.æ±‚1+2+Â·Â·Â·+n</h3><h4 id=\"AcWingä¼ é€é—¨-24\"><a href=\"#AcWingä¼ é€é—¨-24\" class=\"headerlink\" title=\"AcWingä¼ é€é—¨\"></a><a href=\"https://www.acwing.com/problem/content/80/\" target=\"_blank\" rel=\"noopener\">AcWingä¼ é€é—¨</a></h4><p>è¿™é¢˜å¯¹pythonä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ„Ÿè§‰<code>and</code>ä¹Ÿå±äºæ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚<code>reduce`</code>sum`ä¹‹ç±»çš„å±äºä½œå¼Šè¡Œä¸ºï¼Œè¿™é‡Œå°±ä¸è´´äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Sum_Solution</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n <span class=\"keyword\">and</span> (n+self.Sum_Solution(n<span class=\"number\">-1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\"><a href=\"#65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\" class=\"headerlink\" title=\"65.ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\"></a>65.ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</h3><h4 id=\"LeetCodeä¼ é€é—¨-39\"><a href=\"#LeetCodeä¼ é€é—¨-39\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/sum-of-two-integers/description/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ­¤é¢˜ç”±äºPythonä¸­çš„intæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œåœ¨è´Ÿæ•°å‡ºç°çš„æƒ…å†µï¼Œä¼šå¯¼è‡´ç»“æœä¸é¢„æœŸä¸åŒã€‚è¯¦æƒ…è§<a href=\"https://darktiantian.github.io/371-Sum-of-Two-Integers-Python/\" target=\"_blank\" rel=\"noopener\">Pythonè´Ÿæ•°ä½è¿ç®—</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># 32 bits integer max</span></span><br><span class=\"line\">    MAX = <span class=\"number\">0x7FFFFFFF</span>  <span class=\"comment\"># 2**31-1</span></span><br><span class=\"line\">    <span class=\"comment\"># 32 bits interger min  </span></span><br><span class=\"line\">    MIN = <span class=\"number\">0x80000000</span>  <span class=\"comment\"># -2**31</span></span><br><span class=\"line\">    <span class=\"comment\"># mask to get last 32 bits</span></span><br><span class=\"line\">    mask = <span class=\"number\">0xFFFFFFFF</span>  <span class=\"comment\"># 2*32-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"comment\"># ^ get different bits and &amp; gets double 1s, &lt;&lt; moves carry</span></span><br><span class=\"line\">        a, b = (a ^ b) &amp; mask, ((a &amp; b) &lt;&lt; <span class=\"number\">1</span>) &amp; mask</span><br><span class=\"line\">    <span class=\"comment\"># if a is negative, get a's 32 bits complement positive first</span></span><br><span class=\"line\">    <span class=\"comment\"># then get 32-bit positive's Python complement negative</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a <span class=\"keyword\">if</span> a &lt;= MAX <span class=\"keyword\">else</span> ~(a ^ mask)</span><br></pre></td></tr></table></figure>\n<p>æˆ–è€…å¯ä»¥å°†å…¶è½¬æˆ32ä½æ•´æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">            a, b = np.int32(a ^ b), np.int32((a &amp; b) &lt;&lt; <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> int(a)</span><br></pre></td></tr></table></figure>\n<h3 id=\"66-æ„å»ºä¹˜ç§¯æ•°ç»„\"><a href=\"#66-æ„å»ºä¹˜ç§¯æ•°ç»„\" class=\"headerlink\" title=\"66 æ„å»ºä¹˜ç§¯æ•°ç»„\"></a>66 æ„å»ºä¹˜ç§¯æ•°ç»„</h3><h4 id=\"LeetCodeä¼ é€é—¨-40\"><a href=\"#LeetCodeä¼ é€é—¨-40\" class=\"headerlink\" title=\"LeetCodeä¼ é€é—¨\"></a><a href=\"https://leetcode.com/problems/product-of-array-except-self/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></h4><p>æ€è·¯ï¼šä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚å¦‚ä¹¦ä¸­æ‰€è¯´ï¼Œä»¥iä¸ºåˆ†å‰²ç‚¹ï¼Œå°†Bæ‹†æˆCï¼ŒDä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹æ˜¯<code>A[0] x A[1] x...x A[i-1]</code>å³è¾¹åˆ™ä¸º<code>A[i+1] x ...x A[n-1]</code> ï¼ŒC[i] = C[i-1] * A[i-1]</p>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é‡Œç”Ÿæˆå™¨æ²¡æ³•ç›´æ¥ä½¿ç”¨<code>reversed</code>ï¼Œå¦åˆ™èƒ½è¾¾åˆ°<code>O(1)</code>çš„ç©ºé—´å¤æ‚åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructArr</span><span class=\"params\">(self, a: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    right = list(accumulate([<span class=\"number\">1</span>]+a, mul))        </span><br><span class=\"line\">    left = list(accumulate([<span class=\"number\">1</span>]+a[::<span class=\"number\">-1</span>], mul))[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"comment\"># right:      1  , 1 , 2 ,  6, 24, 120</span></span><br><span class=\"line\">    <span class=\"comment\"># left:  120, 120, 60, 20,  5,  1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a*b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(right, left[<span class=\"number\">1</span>:])]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š</p>\n<p>ä¸ä½¿ç”¨æ ‡å‡†åº“çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">multiply</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    C = [<span class=\"number\">1</span>] <span class=\"comment\"># ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸å½“äºæ²¡æœ‰</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        C.append(C[<span class=\"number\">-1</span>] * A[i])</span><br><span class=\"line\">    D = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        D.append(D[<span class=\"number\">-1</span>] * A[j])</span><br><span class=\"line\">    D.reverse()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [C[i] * D[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A))]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šO(n)æ—¶é—´ï¼ŒO(1)ç©ºé—´ã€‚</p>\n","categories":["ç®—æ³•"],"tags":["Python","Algorithm","å‰‘æŒ‡Offer"]},{"title":"çŸ©é˜µä¸­å•è¯çš„è·¯å¾„ï¼Œå¾ˆå¤šäººéƒ½é”™äº†","url":"/%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86/","content":"<p>åˆ·è¿‡ã€Šå‰‘æŒ‡Offerã€‹çš„åŒå­¦ï¼Œæƒ³å¿…éƒ½ä¼šå¯¹è¿™é“é¢˜æœ‰å°è±¡ï¼Œä½†æ˜¯å¦‚æœä½ ä¹‹å‰æ˜¯åœ¨ç‰›å®¢ç½‘æˆ–è€…AcWingå…¶ä»–çš„ç½‘ç«™åšè¿™é“é¢˜ï¼Œé‚£ä¹ˆå³ä¾¿ACé€šè¿‡äº†æ‰€æœ‰çš„æµ‹è¯•ï¼Œä½ çš„ç­”æ¡ˆä¹Ÿå¯èƒ½æ˜¯é”™è¯¯çš„ã€‚æˆ‘è‡ªå·±ä¹‹å‰ä¹Ÿæ˜¯è¢«è¿™ä¸ªç­”æ¡ˆè¯¯å¯¼è¿‡ï¼Œä¸‹é¢æˆ‘æ¥è¯¦ç»†åœ°è§£é‡Šä¸€ä¸‹è‡ªå·±æ›¾ç»å†™è¿‡çš„é”™è¯¯ä»£ç ï¼Œä»¥å…ä»¥åå†æ¬¡çŠ¯åŒæ ·çš„é”™è¯¯ã€‚</p>\n<a id=\"more\"></a>\n<blockquote>\n<p>è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™ä¹‹åä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚ ä¾‹å¦‚ a b c e s f c s a d e e è¿™æ ·çš„3 X 4 çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€bccedâ€çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å«â€abcbâ€è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚</p>\n</blockquote>\n<p><a href=\"https://leetcode.com/problems/word-search/\" target=\"_blank\" rel=\"noopener\">LeetCodeä¼ é€é—¨</a></p>\n<p><a href=\"https://www.nowcoder.com/practice/c61c6999eecb4b8f88a98f66b273a3cc?tpId=13&amp;tqId=11218&amp;tPage=1&amp;rp=1&amp;ru=/ta/coding-interviews&amp;qru=/ta/coding-interviews/question-ranking\" target=\"_blank\" rel=\"noopener\">ç‰›å®¢ç½‘ä¼ é€é—¨</a></p>\n<p>æˆ‘ä»Pythonçš„æ’è¡Œæ¦œä¸­å¤åˆ¶å‡ºæ¥äº†ä¸€ä¸ªæ¯”è¾ƒâ€œæµè¡Œâ€çš„å†™æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼Œè¿™ä¸ªä»£ç æœ‰ä¸¤å¤„é”™è¯¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasPath</span><span class=\"params\">(self, matrix, rows, cols, path)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(rows):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(cols):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> matrix[i*cols+j]==path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> self.find(list(matrix),rows,cols,path[<span class=\"number\">1</span>:],i,j):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(self,matrix,rows,cols,path,i,j)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> path:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    matrix[i*cols+j]=<span class=\"string\">'-'</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> j+<span class=\"number\">1</span>&lt;cols <span class=\"keyword\">and</span> matrix[i*cols+(j+<span class=\"number\">1</span>)]==path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.find(matrix,rows,cols,path[<span class=\"number\">1</span>:],i,j+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> j<span class=\"number\">-1</span>&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> matrix[i*cols+(j<span class=\"number\">-1</span>)]==path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.find(matrix,rows,cols,path[<span class=\"number\">1</span>:],i,j<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> i+<span class=\"number\">1</span>&lt;rows <span class=\"keyword\">and</span> matrix[(i+<span class=\"number\">1</span>)*cols+j]==path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.find(matrix,rows,cols,path[<span class=\"number\">1</span>:],i+<span class=\"number\">1</span>,j)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> i<span class=\"number\">-1</span>&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> matrix[(i<span class=\"number\">-1</span>)*cols+j]==path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.find(matrix,rows,cols,path[<span class=\"number\">1</span>:],i<span class=\"number\">-1</span>,j)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>å…¶ä¸­ä¸€å¤„é”™è¯¯å¾ˆæ˜æ˜¾ã€‚åœ¨å‡½æ•°<code>find</code>ä¸­ï¼Œä»–é€‰æ‹©äº†å³å·¦ä¸‹ä¸Šçš„é¡ºåºï¼Œé‚£ä¹ˆå¦‚æœå³è¾¹å¼€å§‹åŒ¹é…ï¼Œå¹¶ä¸”å³è¾¹åŒ¹é…ä¸Šäº†ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆä¼šç»§ç»­é€’å½’ï¼Œæœ€åç»“æœå¦‚æœè¿”å›äº†<code>False</code>ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„å·¦ä¸‹ä¸Šå°±ä¼šè¢«è·³è¿‡ï¼Œé”™è¯¯åœ°è¿”å›äº†<code>False</code>ã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªæ —å­ğŸŒ°ã€‚</p>\n<img src=\"/%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86/path_0.png\" class width=\"200\" height=\"150\">\n<p>å¦‚æœçŸ©é˜µå¦‚ä¸Šå›¾ä¸­é‚£æ ·ï¼Œå¹¶ä¸”å¼€å§‹å¯»æ‰¾å­—ç¬¦è½¬<code>SEE</code>ã€‚æ ¹æ®ä¸Šè¿°ç®—æ³•ï¼Œå½“æ‰¾åˆ°<code>S</code>æ—¶ï¼Œå…ˆé€‰æ‹©å¾€ä¸‹èµ°ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ª<code>E</code>ï¼Œç„¶åè¿”å›äº†<code>False</code>ï¼Œå¿½ç•¥äº†ä¸Šé¢çš„<code>SEE</code>ã€‚</p>\n<p>äºæ˜¯æˆ‘å°†<code>find</code>æ–¹æ³•æ”¹æˆäº†ä¸‹é¢è¿™æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(matrix, rows, cols, path, i, j)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> path:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    matrix[i*cols + j] = <span class=\"string\">'-'</span></span><br><span class=\"line\">    up, down, left, right = <span class=\"literal\">False</span>, <span class=\"literal\">False</span>, <span class=\"literal\">False</span>, <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> j + <span class=\"number\">1</span> &lt; cols <span class=\"keyword\">and</span> matrix[i * cols + j + <span class=\"number\">1</span>] == path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        down = spread(matrix, rows, cols, path[<span class=\"number\">1</span>:], i, j + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> j - <span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> matrix[i * cols + j - <span class=\"number\">1</span>] == path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        left = spread(matrix, rows, cols, path[<span class=\"number\">1</span>:], i, j - <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i + <span class=\"number\">1</span> &lt; rows <span class=\"keyword\">and</span> matrix[(i + <span class=\"number\">1</span>) * cols + j] == path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        right = spread(matrix, rows, cols, path[<span class=\"number\">1</span>:], i + <span class=\"number\">1</span>, j)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i - <span class=\"number\">1</span> &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> matrix[(i - <span class=\"number\">1</span>) * cols + j] == path[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        up = spread(matrix, rows, cols, path[<span class=\"number\">1</span>:], i - <span class=\"number\">1</span>, j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> up <span class=\"keyword\">or</span> down <span class=\"keyword\">or</span> left <span class=\"keyword\">or</span> right</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¹‹åçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºè¿™ä¸ªå†™æ³•æ˜¯æ­£ç¡®çš„ã€‚ç›´åˆ°æˆ‘åœ¨LeetCodeä¸Šå‘ç°è¿™é“åŸé¢˜ï¼Œè‡ªä¿¡æ»¡æ»¡åœ°æäº¤è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„ç­”æ¡ˆï¼Œè¢«è¿™ä¸ªTestCaseæ•™åšäººã€‚æˆ‘å½“æ—¶æäº¤çš„å®Œæ•´ç­”æ¡ˆæ˜¯è¿™æ ·çš„ã€‚<em>è¿™ä¸ªè¾“å…¥å‚æ•°æœ‰ä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ï¼ŒLeetCodeè¾“å…¥çš„æ˜¯äºŒç»´æ•°ç»„ï¼Œç‰›å®¢æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œå†™çš„æ˜¯LeetCodeçš„å†™æ³•</em>ã€‚è¿™é‡Œå› ä¸ºæ˜¯äºŒç»´æ•°ç»„ï¼Œæ‰€ä»¥è¦åšæ·±æ‹·è´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, g: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> copy <span class=\"keyword\">import</span> deepcopy</span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(g, i, j, w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        g[i][j] = <span class=\"string\">'-'</span></span><br><span class=\"line\">        spreaded = <span class=\"literal\">False</span></span><br><span class=\"line\">        print(<span class=\"string\">'cur -&gt; (&#123;&#125;, &#123;&#125;) &#123;&#125;, &#123;&#125;'</span>.format(i, j, w, g))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> w[<span class=\"number\">0</span>]==g[x][y]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(g, x, y, w[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    spreaded = <span class=\"literal\">True</span></span><br><span class=\"line\">        print(<span class=\"string\">'spreaded &#123;&#125;, recover (&#123;&#125;, &#123;&#125;), after &#123;&#125;'</span>.format(spreaded, i, j, g))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> spreaded</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == word[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(deepcopy(g), i, j, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>æœªé€šè¿‡çš„TestCaseä¸ºï¼šç›®æ ‡å­—ç¬¦ä¸²ä¸º<code>ABCESEEEFS</code>ã€‚</p>\n<img src=\"/%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86/path_1.png\" class width=\"200\" height=\"150\">\n<p>ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿé—®é¢˜ï¼Œæˆ‘åŠ äº†ä¸¤è¡Œè¾“å‡ºã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">cur -&gt; (0, 0) BCESEEEFS, [[&#39;-&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 1) CESEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 2) ESEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 2) SEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 3) EEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 3) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 3) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 2) EFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 0) BCESEEEFS, [[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;-&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, g [[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;-&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªç¨å¾®çœ‹ä¸€ä¸‹å°±æ˜ç™½äº†ï¼Œè™½ç„¶æ¯æ¬¡åŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²<code>A</code>çš„æ—¶å€™ä¼ å…¥äº†ä¸€ä¸ªæ–°çš„äºŒç»´æ•°ç»„ï¼Œä½†æ˜¯åœ¨æ‰¾Aä¹‹åçš„è·¯å¾„æ—¶ï¼Œæ¯æ¬¡è¿”å›<code>False</code>çš„æ—¶å€™æ²¡æœ‰å°†<code>-</code>æ¢å¤æˆåŸæ¥çš„å­—æ¯ã€‚ä¸‹é¢è¯·è®°ä½æˆ‘ä»£ç ä¸­å†™çš„æ–¹å‘é¡ºåºä¸º<code>ä¸Šä¸‹å·¦å³</code>ã€‚</p>\n<img src=\"/%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86/path_wrong_0.png\" class>\n<p>åœ¨ä¸Šé¢çš„å‡ æ­¥å»¶ä¼¸ä¹‹åï¼Œå›åˆ°äº†<code>ABC</code>ç„¶åå³è¾¹çš„å­—æ¯æ²¡æœ‰æ¢å¤ï¼Œæ‰€ä»¥è¿”å›äº†<code>False</code>ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å…ˆè®°å½•ä¸€ä¸‹ä¹‹å‰çš„å­—æ¯ï¼Œç„¶ååœ¨å¾—åˆ°ç»“æœåå°†å…¶æ¢å¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, g: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> copy <span class=\"keyword\">import</span> deepcopy</span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(g, i, j, w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        original, g[i][j] = g[i][j], <span class=\"string\">'-'</span></span><br><span class=\"line\">        spreaded = <span class=\"literal\">False</span></span><br><span class=\"line\">        print(<span class=\"string\">'cur -&gt; (&#123;&#125;, &#123;&#125;) &#123;&#125;, &#123;&#125;'</span>.format(i, j, w, g))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> w[<span class=\"number\">0</span>]==g[x][y]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(g, x, y, w[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    spreaded = <span class=\"literal\">True</span></span><br><span class=\"line\">        g[i][j] = original</span><br><span class=\"line\">        print(<span class=\"string\">'spreaded &#123;&#125;, recover (&#123;&#125;, &#123;&#125;), after &#123;&#125;'</span>.format(spreaded, i, j, g))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> spreaded</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == word[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(deepcopy(g), i, j, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºä¸º:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">cur -&gt; (0, 0) BCESEEEFS, [[&#39;-&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 1) CESEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 2) ESEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 2) SEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 3) EEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 3) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, recover (0, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 3) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 2) EFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, recover (2, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, recover (2, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, recover (1, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, recover (1, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (0, 3) SEEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 3) EEEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 3) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 2) EFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 2) FS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 1) S, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded True, recover (1, 1), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded True, recover (1, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded True, recover (2, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded True, recover (2, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (1, 2) EEFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 2) EFS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;E&#39;]]</span><br><span class=\"line\">cur -&gt; (2, 3) FS, [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;-&#39;]]</span><br><span class=\"line\">spreaded False, recover (2, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;-&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, recover (2, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded False, recover (1, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;-&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded True, recover (1, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;-&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded True, recover (0, 3), after [[&#39;-&#39;, &#39;-&#39;, &#39;-&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded True, recover (0, 2), after [[&#39;-&#39;, &#39;-&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded True, recover (0, 1), after [[&#39;-&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br><span class=\"line\">spreaded True, recover (0, 0), after [[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;E&#39;], [&#39;S&#39;, &#39;F&#39;, &#39;E&#39;, &#39;S&#39;], [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;, &#39;E&#39;]]</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªä¾‹å­éå¸¸å¤æ‚ä¹Ÿéå¸¸æ£’ï¼Œç”±è¡·æ„Ÿè°¢æäº¤è¿™ä¸ªTestCaseçš„äººè®©æˆ‘æ„è¯†åˆ°è‡ªå·±çš„æ„šè ¢ï¼Œæ­¤ä¾‹å­ä¸€å…±åšäº†4æ¬¡å°è¯•ï¼Œè®©æˆ‘ä»¬ç”¨å›¾è§£çš„æ–¹å¼æ¥è¿˜åŸä¸€ä¸‹ã€‚å› ä¸ºæ˜¯<code>ä¸Šä¸‹å·¦å³</code>è¿™ä¸ªé¡ºåºï¼Œæ‰€ä»¥å°è¯•è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>\n<img src=\"/%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86/path_wrong_1.png\" class>\n<p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä»£ç å¯èƒ½é€šè¿‡åŠŸèƒ½æµ‹è¯•äº†ï¼Œä½†æ˜¯æƒ³æƒ³å¦‚æœæ¯ä¸ªåŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ·±æ‹·è´ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæ•°ç»„ç‰¹åˆ«å¤§ï¼Œé‚£ä¹ˆå°†è€—è´¹å¤§é‡æ—¶é—´ï¼Œå…¶å®æˆ‘ä»¬åœ¨åšå¥½æ¢å¤å·¥ä½œåå°±ä¸éœ€è¦åœ¨æ‹·è´æ•°ç»„äº†ã€‚å°†å…¶å»æ‰åï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, g: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j, w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        original, g[i][j] = g[i][j], <span class=\"string\">'-'</span></span><br><span class=\"line\">        spreaded = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> w[<span class=\"number\">0</span>]==g[x][y]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(x, y, w[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    spreaded = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">        g[i][j] = original</span><br><span class=\"line\">        <span class=\"keyword\">return</span> spreaded</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == word[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(i, j, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>è‡ªä¿¡æäº¤åï¼Œåˆè¢«è¿™æ ·ä¸€ä¸ªTestCaseæ•™è‚²äº†ï¼Œè¿”å›è¶…æ—¶ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a...</span><br><span class=\"line\">&quot;baaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span><br></pre></td></tr></table></figure>\n<p>æƒ³äº†åŠå¤©ç»ˆäºæ˜ç™½ï¼Œæˆ‘åœ¨å››ä¸ªæ–¹å‘å¯»æ‰¾æ˜¯å¦å¯ä»¥å»¶ä¼¸æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªæ–¹å‘å¯ä»¥ï¼Œé‚£ä¹ˆæˆ‘å°±æ— éœ€å†åˆ¤æ–­å…¶ä»–æ–¹å‘äº†ã€‚</p>\n<p>æ‰€ä»¥è¿™é‡ŒåŠ ä¸€ä¸ª<code>break</code>å³å¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, g: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j, w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        original, g[i][j] = g[i][j], <span class=\"string\">'-'</span></span><br><span class=\"line\">        spreaded = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> w[<span class=\"number\">0</span>]==g[x][y]</span><br><span class=\"line\">                    <span class=\"keyword\">and</span> spread(x, y, w[<span class=\"number\">1</span>:])):</span><br><span class=\"line\">                spreaded = <span class=\"literal\">True</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        g[i][j] = original</span><br><span class=\"line\">        <span class=\"keyword\">return</span> spreaded</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == word[<span class=\"number\">0</span>] <span class=\"keyword\">and</span> spread(i, j, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸Šå°±æ˜¯æœ€ç»ˆçš„ä»£ç ï¼Œè¯•äº†ä¸€ä¸‹LeetCodeè¯„è®ºåŒºçš„é«˜ç¥¨ä»£ç ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå†™æ³•ï¼Œå°†ä¸»å¾ªç¯çš„<code>g[i][j]==word[0]</code>ç§»åˆ°äº†<code>spread</code>ä¸­åˆ¤æ–­ï¼Œä¸ªäººè§‰å¾—è¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆæ¯”å®ƒå¿«äº†100msä»¥ä¸Šçš„åŸå› ã€‚æ­¤æ–‡ä¸­çš„æœ€ç»ˆæ–¹æ³•AC<code>188ms</code>ï¼Œè€Œé‚£ä¸ªä»£ç éœ€è¦<code>336ms</code>ã€‚</p>\n<p>é€šè¿‡ä¸€ç•ªæ·±å…¥çš„åˆ†æï¼Œè‡ªå·±å¯¹äºå›æº¯æœ‰äº†æ›´æ·±ä¸€æ­¥çš„è®¤è¯†ï¼ŒåŒæ—¶ä¹Ÿæ˜ç™½äº†ä¸€ä¸ªæ·±åˆ»çš„é“ç†ï¼Œ<strong>ä¸è¦è½»ä¿¡ä»–äººçš„ä»£ç </strong>ï¼ŒåŒ…æ‹¬æ­¤æ–‡ä¸­çš„ä¹Ÿæ˜¯ã€‚</p>\n","categories":["ç®—æ³•"],"tags":["Python","Algorithm","å‰‘æŒ‡Offer"]},{"title":"çº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼ˆJosephus problemï¼‰","url":"/%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98%EF%BC%88Josephus-problem%EF%BC%89/","content":"<h3 id=\"é—®é¢˜ï¼š0ï¼Œ1ï¼Œâ€¦ï¼Œn-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ã€‚æ±‚è¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚\"><a href=\"#é—®é¢˜ï¼š0ï¼Œ1ï¼Œâ€¦ï¼Œn-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ã€‚æ±‚è¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚\" class=\"headerlink\" title=\"é—®é¢˜ï¼š0ï¼Œ1ï¼Œâ€¦ï¼Œn-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ã€‚æ±‚è¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚\"></a>é—®é¢˜ï¼š0ï¼Œ1ï¼Œâ€¦ï¼Œn-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ã€‚æ±‚è¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚</h3><a id=\"more\"></a>\n<p>æ³¨æ„åˆ°ï¼Œä¸€å¼€å§‹æœ‰ n ä¸ªäººï¼ŒæŠ¥åˆ° m çš„äººå‡ºå±€åï¼Œå¦‚æœæˆ‘ä»¬ä»åˆšæ‰å‡ºå±€çš„é‚£äººçš„ä¸‹ä¸€ä½å¼€å§‹é‡æ–°ä» 1 å¼€å§‹ç¼–å·ï¼ŒåŸé—®é¢˜å°±è½¬åŒ–ä¸ºäº†ä¸€ä¸ª nâ€“1 äººçš„é—®é¢˜ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>\n<table>\n<thead>\n<tr>\n<th>åŸå§‹ç¼–å·(i)</th>\n<th>ç¬¬ä¸€ä¸ªäººå‡ºå±€åçš„ç¼–å·(j)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>m</td>\n<td>0</td>\n</tr>\n<tr>\n<td>m+1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>m+2</td>\n<td>2</td>\n</tr>\n<tr>\n<td>â€¦</td>\n<td>â€¦</td>\n</tr>\n<tr>\n<td>m-2</td>\n<td>n-2 ï¼ˆnä¸ºå‡ºå±€å‰çš„æ€»äººæ•°ï¼‰</td>\n</tr>\n<tr>\n<td>m-1</td>\n<td>OUT</td>\n</tr>\n</tbody>\n</table>\n<p>å¯ä»¥çœ‹å‡ºè€ç¼–å·iå’Œæ–°ç¼–å·jçš„å…³ç³»ä¸ºï¼š<code>i = (j+m) % n</code>ï¼Œäºæ˜¯æ€»ç»“é€’æ¨å…¬å¼ï¼š</p>\n<p><code>f(n) = (f(n-1) + m) % n</code>   (n &gt; 1)ï¼Œå…¶ä¸­f(n)ä¸ºå½“åœºä¸Šè¿˜æœ‰nä¸ªäººæ—¶åœ¨åœºçš„äººçš„ç¼–å·ã€‚<br>å½“æœ€ååªå‰©ä¸‹ä¸€ä¸ªäººçš„æ—¶å€™ï¼Œè¿™ä¸ªäººçš„ç¼–å·åªèƒ½æ˜¯0ï¼Œå³<code>f(1)=0</code>ï¼Œç°åœ¨æ ¹æ®ä¸Šé¢çš„å…¬å¼åæ¨ï¼Œæ¨å¯¼å‡ºå½“nä¸ªäººåœ¨åœºæ—¶è¿™ä¸ªæœ€åå¹¸å­˜è€…çš„ç¼–å·ã€‚ä¾‹å¦‚ï¼š<code>f(2)=(f(1)+m) % 2</code>ï¼Œæ‰€ä»¥<code>range</code>èŒƒå›´ä»2å¼€å§‹ï¼Œæ‰§è¡Œ<code>n-1</code>æ¬¡ï¼Œä¹Ÿå°±æ˜¯<code>range(2, n+1)</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">LastRemaining_Solution</span><span class=\"params\">(self, n, m)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># write code here</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n&lt;=<span class=\"number\">0</span> <span class=\"keyword\">or</span> m&lt;=<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    last_num = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        last_num = (last_num+m) % i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> last_num</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["Python","algorithm","å‰‘æŒ‡Offer"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ ˆç¯‡ï¼‰Stack","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%A0%88%E7%AF%87%EF%BC%89Stack/","content":"<h3 id=\"1021-Remove-Outermost-Parentheses\"><a href=\"#1021-Remove-Outermost-Parentheses\" class=\"headerlink\" title=\"1021. Remove Outermost Parentheses\"></a>1021. Remove Outermost Parentheses</h3><h4 id=\"åˆ é™¤æœ€å¤–å±‚çš„æ‹¬å·ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤æœ€å¤–å±‚çš„æ‹¬å·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤æœ€å¤–å±‚çš„æ‹¬å·ã€‚åŸé¢˜\"></a>åˆ é™¤æœ€å¤–å±‚çš„æ‹¬å·ã€‚<a href=\"https://leetcode.com/problems/remove-outermost-parentheses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;(()())(())&quot;</span><br><span class=\"line\">Output: &quot;()()()&quot;</span><br><span class=\"line\">The input string is &quot;(()())(())&quot;, with primitive decomposition &quot;(()())&quot; + &quot;(())&quot;.</span><br><span class=\"line\">After removing outer parentheses of each part, this is &quot;()()&quot; + &quot;()&quot; &#x3D; &quot;()()()&quot;.</span><br><span class=\"line\">Input: &quot;(()())(())(()(()))&quot;</span><br><span class=\"line\">Output: &quot;()()()()(())&quot;</span><br><span class=\"line\">The input string is &quot;(()())(())(()(()))&quot;, with primitive decomposition &quot;(()())&quot; + &quot;(())&quot; + &quot;(()(()))&quot;.</span><br><span class=\"line\">After removing outer parentheses of each part, this is &quot;()()&quot; + &quot;()&quot; + &quot;()(())&quot; &#x3D; &quot;()()()()(())&quot;.</span><br><span class=\"line\">Input: &quot;()()&quot;</span><br><span class=\"line\">Output: &quot;&quot;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶çš„ä¸‘é™‹å†™æ³•ã€‚ä½¿ç”¨ç´¢å¼•è®°å½•ä½ç½®ååˆ‡ç‰‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeOuterParentheses</span><span class=\"params\">(self, S: str)</span> -&gt; str:</span></span><br><span class=\"line\">    l = <span class=\"number\">0</span></span><br><span class=\"line\">    left = right = <span class=\"number\">0</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> enumerate(S):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> p ==<span class=\"string\">'('</span>:</span><br><span class=\"line\">            left += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> left == <span class=\"number\">1</span>:</span><br><span class=\"line\">                l = i</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            right += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> left == right:</span><br><span class=\"line\">                ans += S[l+<span class=\"number\">1</span>:i]</span><br><span class=\"line\">                l = i + <span class=\"number\">1</span></span><br><span class=\"line\">                left = right = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"comment\"># print(ans)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼˜åŒ–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeOuterParentheses</span><span class=\"params\">(self, S: str)</span> -&gt; str:</span></span><br><span class=\"line\">    ans, opened = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s == <span class=\"string\">'('</span> <span class=\"keyword\">and</span> opened &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans.append(s)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s == <span class=\"string\">')'</span> <span class=\"keyword\">and</span> opened &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans.append(s)</span><br><span class=\"line\">        opened += <span class=\"number\">1</span> <span class=\"keyword\">if</span> s==<span class=\"string\">'('</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(ans)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1047-Remove-All-Adjacent-Duplicates-In-String\"><a href=\"#1047-Remove-All-Adjacent-Duplicates-In-String\" class=\"headerlink\" title=\"1047. Remove All Adjacent Duplicates In String\"></a>1047. Remove All Adjacent Duplicates In String</h3><h4 id=\"æ¯ä¸¤ä¸ªç›¸é‚»çš„ç›¸åŒå­—ç¬¦ä¸²å¯ä»¥æ¶ˆæ‰ã€‚ç±»ä¼¼äºè¿è¿çœ‹ã€‚åŸé¢˜\"><a href=\"#æ¯ä¸¤ä¸ªç›¸é‚»çš„ç›¸åŒå­—ç¬¦ä¸²å¯ä»¥æ¶ˆæ‰ã€‚ç±»ä¼¼äºè¿è¿çœ‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯ä¸¤ä¸ªç›¸é‚»çš„ç›¸åŒå­—ç¬¦ä¸²å¯ä»¥æ¶ˆæ‰ã€‚ç±»ä¼¼äºè¿è¿çœ‹ã€‚åŸé¢˜\"></a>æ¯ä¸¤ä¸ªç›¸é‚»çš„ç›¸åŒå­—ç¬¦ä¸²å¯ä»¥æ¶ˆæ‰ã€‚ç±»ä¼¼äºè¿è¿çœ‹ã€‚<a href=\"https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(self, S: str)</span> -&gt; str:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>] == c:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append(c)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(stack)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1172-Dinner-Plate-Stacks\"><a href=\"#1172-Dinner-Plate-Stacks\" class=\"headerlink\" title=\"1172. Dinner Plate Stacks\"></a>1172. Dinner Plate Stacks</h3><h4 id=\"æœ‰è¿™æ ·ä¸€å †æ ˆï¼Œæ¯ä¸ªæ ˆæœ‰ä¸ªå®¹é‡ï¼Œå¯ä»¥åœ¨æŒ‡å®šç´¢å¼•ä¸‹åˆ é™¤æŸä¸ªæ ˆï¼Œæ¯æ¬¡pushæ—¶éœ€è¦åœ¨æœ€å·¦çš„ä¸æ»¡çš„æ ˆã€‚åŸé¢˜\"><a href=\"#æœ‰è¿™æ ·ä¸€å †æ ˆï¼Œæ¯ä¸ªæ ˆæœ‰ä¸ªå®¹é‡ï¼Œå¯ä»¥åœ¨æŒ‡å®šç´¢å¼•ä¸‹åˆ é™¤æŸä¸ªæ ˆï¼Œæ¯æ¬¡pushæ—¶éœ€è¦åœ¨æœ€å·¦çš„ä¸æ»¡çš„æ ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰è¿™æ ·ä¸€å †æ ˆï¼Œæ¯ä¸ªæ ˆæœ‰ä¸ªå®¹é‡ï¼Œå¯ä»¥åœ¨æŒ‡å®šç´¢å¼•ä¸‹åˆ é™¤æŸä¸ªæ ˆï¼Œæ¯æ¬¡pushæ—¶éœ€è¦åœ¨æœ€å·¦çš„ä¸æ»¡çš„æ ˆã€‚åŸé¢˜\"></a>æœ‰è¿™æ ·ä¸€å †æ ˆï¼Œæ¯ä¸ªæ ˆæœ‰ä¸ªå®¹é‡ï¼Œå¯ä»¥åœ¨æŒ‡å®šç´¢å¼•ä¸‹åˆ é™¤æŸä¸ªæ ˆï¼Œæ¯æ¬¡pushæ—¶éœ€è¦åœ¨æœ€å·¦çš„ä¸æ»¡çš„æ ˆã€‚<a href=\"https://leetcode.com/problems/dinner-plate-stacks/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">[&quot;DinnerPlates&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;popAtStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;popAtStack&quot;,&quot;popAtStack&quot;,&quot;pop&quot;,&quot;pop&quot;,&quot;pop&quot;,&quot;pop&quot;,&quot;pop&quot;]</span><br><span class=\"line\">[[2],[1],[2],[3],[4],[5],[0],[20],[21],[0],[2],[],[],[],[],[]]</span><br><span class=\"line\">Output: </span><br><span class=\"line\">[null,null,null,null,null,null,2,null,null,20,21,5,4,3,1,-1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹è¢«é¢˜å“åˆ°äº†ï¼Œç«èµ›æ—¶æ²¡åšå‡ºæ¥ï¼Œæ ¸å¿ƒæ€æƒ³åœ¨äºç»´æŠ¤ä¸€ä¸ªå †ï¼Œè®°å½•ä¸æ»¡çš„æ ˆã€‚ä»¥ä¾¿æ’å…¥æ—¶å¯ä»¥æ‰¾åˆ°è¯¥ç´¢å¼•ã€‚</p>\n<p>class DinnerPlates:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, capacity: int)</span>:</span></span><br><span class=\"line\">    self.c = capacity</span><br><span class=\"line\">    self.q = []</span><br><span class=\"line\">    self.emp = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> self.emp:</span><br><span class=\"line\">        index = heapq.heappop(self.emp)</span><br><span class=\"line\">        self.q[index].append(val)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.q <span class=\"keyword\">and</span> len(self.q[<span class=\"number\">-1</span>])!=self.c:</span><br><span class=\"line\">            self.q[<span class=\"number\">-1</span>].append(val)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.q.append([val])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> self.q:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.q[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.q[<span class=\"number\">-1</span>].pop()</span><br><span class=\"line\">        self.q.pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popAtStack</span><span class=\"params\">(self, index: int)</span> -&gt; int:</span></span><br><span class=\"line\">    heapq.heappush(self.emp, index)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> self.q[index]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q[index].pop()</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"901-Online-Stock-Span\"><a href=\"#901-Online-Stock-Span\" class=\"headerlink\" title=\"901. Online Stock Span\"></a>901. Online Stock Span</h3><h4 id=\"å®æ—¶æ‰¾å‡ºæ•°æ®æµä¸­è¿ç»­çš„æ¯”ä¸å¤§äºå½“å‰å€¼çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å®æ—¶æ‰¾å‡ºæ•°æ®æµä¸­è¿ç»­çš„æ¯”ä¸å¤§äºå½“å‰å€¼çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®æ—¶æ‰¾å‡ºæ•°æ®æµä¸­è¿ç»­çš„æ¯”ä¸å¤§äºå½“å‰å€¼çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å®æ—¶æ‰¾å‡ºæ•°æ®æµä¸­è¿ç»­çš„æ¯”ä¸å¤§äºå½“å‰å€¼çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/online-stock-span/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;StockSpanner&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;], [[],[100],[80],[60],[70],[60],[75],[85]]</span><br><span class=\"line\">Output: [null,1,1,1,2,1,4,6]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">First, S &#x3D; StockSpanner() is initialized.  Then:</span><br><span class=\"line\">S.next(100) is called and returns 1,</span><br><span class=\"line\">S.next(80) is called and returns 1,</span><br><span class=\"line\">S.next(60) is called and returns 1,</span><br><span class=\"line\">S.next(70) is called and returns 2,</span><br><span class=\"line\">S.next(60) is called and returns 1,</span><br><span class=\"line\">S.next(75) is called and returns 4,</span><br><span class=\"line\">S.next(85) is called and returns 6.</span><br><span class=\"line\"></span><br><span class=\"line\">Note that (for example) S.next(75) returned 4, because the last 4 prices</span><br><span class=\"line\">(including today&#39;s price of 75) were less than or equal to today&#39;s price.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š<code>&lt;=</code>å¯ä»¥ç´¯åŠ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StockSpanner</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.stack = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">next</span><span class=\"params\">(self, price: int)</span> -&gt; int:</span></span><br><span class=\"line\">        cnt = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.stack <span class=\"keyword\">and</span> self.stack[<span class=\"number\">-1</span>][<span class=\"number\">0</span>] &lt;= price:</span><br><span class=\"line\">            cnt += self.stack.pop()[<span class=\"number\">1</span>]</span><br><span class=\"line\">        self.stack.append((price, cnt))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cnt</span><br></pre></td></tr></table></figure>\n<h3 id=\"907-Sum-of-Subarray-Minimums\"><a href=\"#907-Sum-of-Subarray-Minimums\" class=\"headerlink\" title=\"907. Sum of Subarray Minimums\"></a><a href=\"https://leetcode.com/problems/sum-of-subarray-minimums/\" target=\"_blank\" rel=\"noopener\">907. Sum of Subarray Minimums</a></h3><h4 id=\"ä¸€ä¸ªæ•°ç»„æ‰€æœ‰å­æ•°ç»„çš„æœ€å°å€¼çš„å’Œã€‚\"><a href=\"#ä¸€ä¸ªæ•°ç»„æ‰€æœ‰å­æ•°ç»„çš„æœ€å°å€¼çš„å’Œã€‚\" class=\"headerlink\" title=\"ä¸€ä¸ªæ•°ç»„æ‰€æœ‰å­æ•°ç»„çš„æœ€å°å€¼çš„å’Œã€‚\"></a>ä¸€ä¸ªæ•°ç»„æ‰€æœ‰å­æ•°ç»„çš„æœ€å°å€¼çš„å’Œã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [3,1,2,4]</span><br><span class=\"line\">Output: 17</span><br><span class=\"line\">Explanation: Subarrays are [3], [1], [2], [4], [3,1], [1,2], [2,4], [3,1,2], [1,2,4], [3,1,2,4]. </span><br><span class=\"line\">Minimums are 3, 1, 2, 4, 1, 1, 2, 1, 1, 1.  Sum is 17.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šby@Lee, æ²¡æƒ³åˆ°å¯ä»¥ç”¨stackï¼Œå®é™…ä¸Šå’Œ901é—®é¢˜æ˜¯ä¸€æ ·çš„ï¼Œå¯¹äºä¸€ä¸ªæ•°è€Œè¨€ï¼Œæ‰¾åˆ°å·¦ä¾§å’Œå³ä¾§æ¯”å®ƒå¤§çš„æ•°ï¼Œä»£è¡¨ç€å·¦ä¾§å’Œå³ä¾§æ‰€èƒ½ç»„æˆçš„å­æ•°ç»„çš„é•¿åº¦ï¼Œå°±æ˜¯å®ƒåœ¨æœ€å°å€¼è®¡ç®—é‡Œå‡ºç°çš„æ¬¡æ•°ã€‚æœ¬æ¥æƒ³å°è£…ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯è®¡ç®—å·¦ä¾§æ—¶æ¡ä»¶æ˜¯<code>&gt;</code>ï¼Œå…¶å®ç»ˆç‚¹ä¸åœ¨äºé¡ºåºï¼Œè€Œæ˜¯=åªèƒ½æœ‰ä¸€ä¸ªï¼Œå› ä¸ºå¦‚æœéƒ½æŒ‰<code>&gt;=</code>è®¡ç®—ï¼Œç›¸åŒæ•°å­—çš„å°±ä¼šæœ‰å­æ•°ç»„è®¡ç®—é‡å¤äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumSubarrayMins</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n, mod = len(A), <span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    left, right, s1, s2 = [<span class=\"number\">0</span>] * n, [<span class=\"number\">0</span>] * n, [], []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        count = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> s1 <span class=\"keyword\">and</span> s1[<span class=\"number\">-1</span>][<span class=\"number\">0</span>] &gt; A[i]: count += s1.pop()[<span class=\"number\">1</span>]</span><br><span class=\"line\">        left[i] = count</span><br><span class=\"line\">        s1.append([A[i], count])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">        count = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> s2 <span class=\"keyword\">and</span> s2[<span class=\"number\">-1</span>][<span class=\"number\">0</span>] &gt;= A[i]: count += s2.pop()[<span class=\"number\">1</span>]</span><br><span class=\"line\">        right[i] = count</span><br><span class=\"line\">        s2.append([A[i], count])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(a*l*r <span class=\"keyword\">for</span> a, l, r <span class=\"keyword\">in</span> zip(A, left, right)) % mod</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeåˆå°†å®ƒå†™æˆäº†ä¸€æ¬¡éå†çš„å½¢å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumSubarrayMins</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    s = []</span><br><span class=\"line\">    A = [<span class=\"number\">0</span>] + A + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, x <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> s <span class=\"keyword\">and</span> A[s[<span class=\"number\">-1</span>]] &gt; x:</span><br><span class=\"line\">            j = s.pop()</span><br><span class=\"line\">            k = s[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            res += A[j] * (i - j) * (j - k)</span><br><span class=\"line\">        s.append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res % (<span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1299-Replace-Elements-with-Greatest-Element-on-Right-Side\"><a href=\"#1299-Replace-Elements-with-Greatest-Element-on-Right-Side\" class=\"headerlink\" title=\"1299. Replace Elements with Greatest Element on Right Side\"></a>1299. Replace Elements with Greatest Element on Right Side</h3><h4 id=\"æ ¹æ®æ•°ç»„é‡æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹åº”åŸæ•°ç»„å³ä¾§æœ€å¤§çš„æ•°å­—ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®æ•°ç»„é‡æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹åº”åŸæ•°ç»„å³ä¾§æœ€å¤§çš„æ•°å­—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®æ•°ç»„é‡æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹åº”åŸæ•°ç»„å³ä¾§æœ€å¤§çš„æ•°å­—ã€‚åŸé¢˜\"></a>æ ¹æ®æ•°ç»„é‡æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹åº”åŸæ•°ç»„å³ä¾§æœ€å¤§çš„æ•°å­—ã€‚<a href=\"https://leetcode.com/problems/replace-elements-with-greatest-element-on-right-side/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [17,18,5,4,6,1]</span><br><span class=\"line\">Output: [18,6,6,6,1,-1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ˆ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">replaceElements</span><span class=\"params\">(self, arr: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack = [<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(arr)<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[i] &lt; stack[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            stack.append(stack[<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append(arr[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLee215.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">replaceElements</span><span class=\"params\">(self, arr: List[int], mx=<span class=\"number\">-1</span>)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(arr)<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        arr[i], mx = mx, max(mx, arr[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr</span><br></pre></td></tr></table></figure>\n<h3 id=\"1249-Minimum-Remove-to-Make-Valid-Parentheses\"><a href=\"#1249-Minimum-Remove-to-Make-Valid-Parentheses\" class=\"headerlink\" title=\"1249. Minimum Remove to Make Valid Parentheses\"></a>1249. Minimum Remove to Make Valid Parentheses</h3><h4 id=\"åˆ é™¤å­—ç¬¦ä¸²ä¸­å¤šä½™çš„æ‹¬å·ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤å­—ç¬¦ä¸²ä¸­å¤šä½™çš„æ‹¬å·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤å­—ç¬¦ä¸²ä¸­å¤šä½™çš„æ‹¬å·ã€‚åŸé¢˜\"></a>åˆ é™¤å­—ç¬¦ä¸²ä¸­å¤šä½™çš„æ‹¬å·ã€‚<a href=\"https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;lee(t(c)o)de)&quot;</span><br><span class=\"line\">Output: &quot;lee(t(c)o)de&quot;</span><br><span class=\"line\">Explanation: &quot;lee(t(co)de)&quot; , &quot;lee(t(c)ode)&quot; would also be accepted.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç¬¨çš„æ–¹æ³•ï¼Œéå†äº†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minRemoveToMakeValid</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(arr, sig)</span>:</span></span><br><span class=\"line\">        ans, opened = [], <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> arr:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> opened &lt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> c==sig[<span class=\"number\">1</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> c == sig[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                opened += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> c == sig[<span class=\"number\">1</span>]:</span><br><span class=\"line\">                opened -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans.append(c)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(reversed(helper(reversed(helper(list(s), (<span class=\"string\">'('</span>, <span class=\"string\">')'</span>))), (<span class=\"string\">')'</span>, <span class=\"string\">'('</span>))))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šstackã€è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ä¸å¥½ç†è§£ï¼Œ æœ€åçš„while å¾ªç¯æ—¶ä¸ºäº†é˜²æ­¢æœ«å°¾æœ‰è¿‡å¤šçš„<code>(</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minRemoveToMakeValid</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    stack, cur = [], <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            stack.append(cur)</span><br><span class=\"line\">            cur = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">')'</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack:</span><br><span class=\"line\">                cur = <span class=\"string\">'&#123;&#125;(&#123;&#125;)'</span>.format(stack.pop(), cur)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += c</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        cur = stack.pop() + cur</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<h3 id=\"1190-Reverse-Substrings-Between-Each-Pair-of-Parentheses\"><a href=\"#1190-Reverse-Substrings-Between-Each-Pair-of-Parentheses\" class=\"headerlink\" title=\"1190. Reverse Substrings Between Each Pair of Parentheses\"></a>1190. Reverse Substrings Between Each Pair of Parentheses</h3><h4 id=\"å°†æ‹¬å·å†…çš„å­—ç¬¦ä¸²åè½¬ã€‚åŸé¢˜\"><a href=\"#å°†æ‹¬å·å†…çš„å­—ç¬¦ä¸²åè½¬ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ‹¬å·å†…çš„å­—ç¬¦ä¸²åè½¬ã€‚åŸé¢˜\"></a>å°†æ‹¬å·å†…çš„å­—ç¬¦ä¸²åè½¬ã€‚<a href=\"https://leetcode.com/problems/reverse-substrings-between-each-pair-of-parentheses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;(u(love)i)&quot;</span><br><span class=\"line\">Output: &quot;iloveu&quot;</span><br><span class=\"line\">Explanation: The substring &quot;love&quot; is reversed first, then the whole string is reversed.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”¨äº†å’Œ1249ä¸€æ ·çš„è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseParentheses</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    stack, cur = [], <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            stack.append(cur)</span><br><span class=\"line\">            cur = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">')'</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack:</span><br><span class=\"line\">                cur = <span class=\"string\">'&#123;&#125;&#123;&#125;'</span>.format(stack.pop(), cur[::<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<h3 id=\"1209-Remove-All-Adjacent-Duplicates-in-String-II\"><a href=\"#1209-Remove-All-Adjacent-Duplicates-in-String-II\" class=\"headerlink\" title=\"1209. Remove All Adjacent Duplicates in String II\"></a>1209. Remove All Adjacent Duplicates in String II</h3><h4 id=\"å°†å­—ç¬¦ä¸²ä¸­è¿ç»­çš„kçš„å­—æ¯å…¨éƒ¨åˆ é™¤ï¼Œè¿”å›å‰©ä½™çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#å°†å­—ç¬¦ä¸²ä¸­è¿ç»­çš„kçš„å­—æ¯å…¨éƒ¨åˆ é™¤ï¼Œè¿”å›å‰©ä½™çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†å­—ç¬¦ä¸²ä¸­è¿ç»­çš„kçš„å­—æ¯å…¨éƒ¨åˆ é™¤ï¼Œè¿”å›å‰©ä½™çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>å°†å­—ç¬¦ä¸²ä¸­è¿ç»­çš„kçš„å­—æ¯å…¨éƒ¨åˆ é™¤ï¼Œè¿”å›å‰©ä½™çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abcd&quot;, k &#x3D; 2</span><br><span class=\"line\">Output: &quot;abcd&quot;</span><br><span class=\"line\">Explanation: There&#39;s nothing to delete.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜è™½ç„¶acäº†ï¼Œä½†æ˜¯å¤æ‚åº¦å¤ªé«˜äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(stack)&gt;=k<span class=\"number\">-1</span> <span class=\"keyword\">and</span> all(a==c <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> stack[-k+<span class=\"number\">1</span>:]):</span><br><span class=\"line\">            stack = stack[:-k+<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append(c)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(stack)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç›¸åŒå­—ç¬¦çš„è®°å½•ä¸ªæ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    stack = [[<span class=\"string\">'#'</span>, <span class=\"number\">0</span>]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">0</span>] == c:</span><br><span class=\"line\">            stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] == k:</span><br><span class=\"line\">                stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append([c, <span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(c*k <span class=\"keyword\">for</span> c, k <span class=\"keyword\">in</span> stack)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1475-Final-Prices-With-a-Special-Discount-in-a-Shop\"><a href=\"#1475-Final-Prices-With-a-Special-Discount-in-a-Shop\" class=\"headerlink\" title=\"1475. Final Prices With a Special Discount in a Shop\"></a>1475. Final Prices With a Special Discount in a Shop</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­åé¢å…ƒç´ æ¯”å½“å‰å…ƒç´ å°çš„å·®ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­åé¢å…ƒç´ æ¯”å½“å‰å…ƒç´ å°çš„å·®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­åé¢å…ƒç´ æ¯”å½“å‰å…ƒç´ å°çš„å·®ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­åé¢å…ƒç´ æ¯”å½“å‰å…ƒç´ å°çš„å·®ã€‚<a href=\"https://leetcode.com/problems/final-prices-with-a-special-discount-in-a-shop/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: prices &#x3D; [8,4,6,2,3]</span><br><span class=\"line\">Output: [4,2,4,2,3]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">For item 0 with price[0]&#x3D;8 you will receive a discount equivalent to prices[1]&#x3D;4, therefore, the final price you will pay is 8 - 4 &#x3D; 4. </span><br><span class=\"line\">For item 1 with price[1]&#x3D;4 you will receive a discount equivalent to prices[3]&#x3D;2, therefore, the final price you will pay is 4 - 2 &#x3D; 2. </span><br><span class=\"line\">For item 2 with price[2]&#x3D;6 you will receive a discount equivalent to prices[3]&#x3D;2, therefore, the final price you will pay is 6 - 2 &#x3D; 4. </span><br><span class=\"line\">For items 3 and 4 you will not receive any discount at all.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">finalPrices</span><span class=\"params\">(self, prices: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    n = len(prices)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> prices[j] &lt;= prices[i]:</span><br><span class=\"line\">                ans.append(prices[i]-prices[j])</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans.append(prices[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstack. by lee215 </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">finalPrices</span><span class=\"params\">(self, A: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> A[stack[<span class=\"number\">-1</span>]] &gt;= a:</span><br><span class=\"line\">            A[stack.pop()] -= a</span><br><span class=\"line\">        stack.append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A</span><br></pre></td></tr></table></figure>\n<h3 id=\"739-Daily-Temperature\"><a href=\"#739-Daily-Temperature\" class=\"headerlink\" title=\"739. Daily Temperature\"></a>739. Daily Temperature</h3><h4 id=\"æ‰¾å‡ºæ¯”å½“å‰å…ƒç´ ä¹‹åçš„å¤§çš„å€¼ï¼Œè®¡ç®—ç´¢å¼•å·®ï¼Œæ²¡æœ‰åˆ™æ˜¯0ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ¯”å½“å‰å…ƒç´ ä¹‹åçš„å¤§çš„å€¼ï¼Œè®¡ç®—ç´¢å¼•å·®ï¼Œæ²¡æœ‰åˆ™æ˜¯0ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ¯”å½“å‰å…ƒç´ ä¹‹åçš„å¤§çš„å€¼ï¼Œè®¡ç®—ç´¢å¼•å·®ï¼Œæ²¡æœ‰åˆ™æ˜¯0ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ¯”å½“å‰å…ƒç´ ä¹‹åçš„å¤§çš„å€¼ï¼Œè®¡ç®—ç´¢å¼•å·®ï¼Œæ²¡æœ‰åˆ™æ˜¯0ã€‚<a href=\"https://leetcode.com/problems/daily-temperatures/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šåˆšåˆšåšå®Œ1475çš„é¢˜ï¼Œä¸€æ ·çš„è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dailyTemperatures</span><span class=\"params\">(self, T: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * len(T)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, t <span class=\"keyword\">in</span> enumerate(T):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> T[stack[<span class=\"number\">-1</span>]] &lt; t:</span><br><span class=\"line\">            j = stack.pop()</span><br><span class=\"line\">            ans[j] = i - j</span><br><span class=\"line\">        stack.append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"394-Decode-String\"><a href=\"#394-Decode-String\" class=\"headerlink\" title=\"394. Decode String\"></a>394. Decode String</h3><h4 id=\"å°±æ˜¯æ ¹æ®æ‹¬å·æ¥é‡å¤å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#å°±æ˜¯æ ¹æ®æ‹¬å·æ¥é‡å¤å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°±æ˜¯æ ¹æ®æ‹¬å·æ¥é‡å¤å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>å°±æ˜¯æ ¹æ®æ‹¬å·æ¥é‡å¤å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/decode-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;3[a]2[bc]&quot;</span><br><span class=\"line\">Output: &quot;aaabcbc&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s &#x3D; &quot;3[a2[c]]&quot;</span><br><span class=\"line\">Output: &quot;accaccacc&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨äº†ä¸¤ä¸ªæ ˆï¼Œåˆ†åˆ«å­˜å‚¨æ•°å­—å’Œå­—æ¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decodeString</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    stack, cur, digit, d = [], <span class=\"string\">''</span>, [], <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'['</span>:</span><br><span class=\"line\">            digit.append(d)</span><br><span class=\"line\">            d = <span class=\"string\">''</span></span><br><span class=\"line\">            stack.append(cur)</span><br><span class=\"line\">            cur = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">']'</span>:</span><br><span class=\"line\">            cur = stack.pop() + int(digit.pop()) * cur</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c.isdigit():</span><br><span class=\"line\">            d += c</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸€ä¸ªstackï¼Œå› ä¸ºè¿™ä¸ªè§„å¾‹æ˜¯æœ‰ä¿è¯çš„ï¼Œå·¦æ‹¬å·å‰ä¸€å®šæ˜¯æ•°å­—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decodeString</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    stack, cur, d = [], <span class=\"string\">''</span>, <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'['</span>:</span><br><span class=\"line\">            stack.append(cur)</span><br><span class=\"line\">            stack.append(d)</span><br><span class=\"line\">            d = <span class=\"string\">''</span></span><br><span class=\"line\">            cur = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">']'</span>:</span><br><span class=\"line\">            num = stack.pop()</span><br><span class=\"line\">            cur = stack.pop() + int(num) * cur</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c.isdigit():</span><br><span class=\"line\">            d += c</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<h3 id=\"1541-Minimum-Insertions-to-Balance-a-Parentheses-String\"><a href=\"#1541-Minimum-Insertions-to-Balance-a-Parentheses-String\" class=\"headerlink\" title=\"1541. Minimum Insertions to Balance a Parentheses String\"></a>1541. Minimum Insertions to Balance a Parentheses String</h3><h4 id=\"å¹³è¡¡ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œæœ€å°‘éœ€è¦æ’å…¥å¤šå°‘æ¬¡ï¼Œæ‹¬å·å¯¹ä¸ºä¸€ä¸ª-å¯¹åº”2ä¸ª-ã€‚åŸé¢˜\"><a href=\"#å¹³è¡¡ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œæœ€å°‘éœ€è¦æ’å…¥å¤šå°‘æ¬¡ï¼Œæ‹¬å·å¯¹ä¸ºä¸€ä¸ª-å¯¹åº”2ä¸ª-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¹³è¡¡ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œæœ€å°‘éœ€è¦æ’å…¥å¤šå°‘æ¬¡ï¼Œæ‹¬å·å¯¹ä¸ºä¸€ä¸ª(å¯¹åº”2ä¸ª)ã€‚åŸé¢˜\"></a>å¹³è¡¡ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œæœ€å°‘éœ€è¦æ’å…¥å¤šå°‘æ¬¡ï¼Œæ‹¬å·å¯¹ä¸ºä¸€ä¸ª(å¯¹åº”2ä¸ª)ã€‚<a href=\"https://leetcode.com/problems/minimum-insertions-to-balance-a-parentheses-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;(()))&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: The second &#39;(&#39; has two matching &#39;))&#39;, but the first &#39;(&#39; has only &#39;)&#39; matching. We need to to add one more &#39;)&#39; at the end of the string to be &quot;(())))&quot; which is balanced.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶å¡ä½äº†ã€‚è¿™æ˜¯Lee215çš„è§£æ³•ã€‚æƒ³åˆ°äº†ç”¨æ ˆå’Œè¿™ç§æ–¹å¼ï¼Œä½†æ˜¯æ²¡æƒ³å¥½å¦‚ä½•å†…éƒ¨å¤„ç†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minInsertions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = right = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> right&amp;<span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">                right -= <span class=\"number\">1</span></span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">            right += <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            right -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> right &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                right += <span class=\"number\">2</span></span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + right</span><br></pre></td></tr></table></figure>\n<h3 id=\"856-Score-of-Parentheses\"><a href=\"#856-Score-of-Parentheses\" class=\"headerlink\" title=\"856. Score of Parentheses\"></a>856. Score of Parentheses</h3><h4 id=\"æ‹¬å·çš„åˆ†æ•°ï¼Œæ ¹æ®è§„åˆ™è®¡ç®—æ‹¬å·çš„åˆ†æ•°ã€‚-è¡¨ç¤º1åˆ†ï¼›ABè¡¨ç¤ºA-Bï¼Œ-A-è¡¨ç¤ºA-2ã€‚åŸé¢˜\"><a href=\"#æ‹¬å·çš„åˆ†æ•°ï¼Œæ ¹æ®è§„åˆ™è®¡ç®—æ‹¬å·çš„åˆ†æ•°ã€‚-è¡¨ç¤º1åˆ†ï¼›ABè¡¨ç¤ºA-Bï¼Œ-A-è¡¨ç¤ºA-2ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‹¬å·çš„åˆ†æ•°ï¼Œæ ¹æ®è§„åˆ™è®¡ç®—æ‹¬å·çš„åˆ†æ•°ã€‚()è¡¨ç¤º1åˆ†ï¼›ABè¡¨ç¤ºA+Bï¼Œ(A)è¡¨ç¤ºA*2ã€‚åŸé¢˜\"></a>æ‹¬å·çš„åˆ†æ•°ï¼Œæ ¹æ®è§„åˆ™è®¡ç®—æ‹¬å·çš„åˆ†æ•°ã€‚<code>()</code>è¡¨ç¤º1åˆ†ï¼›ABè¡¨ç¤ºA+Bï¼Œ<code>(A)</code>è¡¨ç¤ºA*2ã€‚<a href=\"https://leetcode.com/problems/score-of-parentheses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;()&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Input: &quot;(())&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Input: &quot;(()(()))&quot;</span><br><span class=\"line\">Output: 6</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scoreOfParentheses</span><span class=\"params\">(self, S: str)</span> -&gt; int:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            stack.append(c)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack[<span class=\"number\">-1</span>] == <span class=\"string\">'('</span>:</span><br><span class=\"line\">                stack.pop()</span><br><span class=\"line\">                stack.append(<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                v = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> stack[<span class=\"number\">-1</span>] != <span class=\"string\">'('</span>:</span><br><span class=\"line\">                    v += stack.pop()</span><br><span class=\"line\">                stack.pop()</span><br><span class=\"line\">                stack.append(<span class=\"number\">2</span> * v)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(stack)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•å¤ªç›–äº†ï¼Œä½†æ˜¯ä¸çŸ¥é“å’‹æƒ³çš„ï¼Œè¿™ä¸ªæ€è·¯çš„è¿‡ç¨‹æˆ‘è¿˜æ˜¯æ²¡æƒ³æ˜ç™½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scoreOfParentheses</span><span class=\"params\">(self, S: str)</span> -&gt; int:</span></span><br><span class=\"line\">    stack, cur = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            stack.append(cur)</span><br><span class=\"line\">            cur = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += stack.pop() + max(cur, <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šO(1)spaceçš„æ–¹æ³•ï¼ŒåŒæ ·ç‰›é€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scoreOfParentheses</span><span class=\"params\">(self, S)</span>:</span></span><br><span class=\"line\">    res = l = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> itertools.izip(S, S[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a + b == <span class=\"string\">'()'</span>: res += <span class=\"number\">2</span> ** l</span><br><span class=\"line\">        l += <span class=\"number\">1</span> <span class=\"keyword\">if</span> a == <span class=\"string\">'('</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šè¿™ä¸ªæ–¹æ³•å€’æ˜¯æ²¡æƒ³åˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scoreOfParentheses</span><span class=\"params\">(self, S)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> eval(S.replace(<span class=\"string\">')('</span>, <span class=\"string\">')+('</span>).replace(<span class=\"string\">'()'</span>, <span class=\"string\">'1'</span>).replace(<span class=\"string\">')'</span>, <span class=\"string\">')*2'</span>))</span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢è¯•é¢˜-08-06-æ±‰è¯ºå¡”é—®é¢˜\"><a href=\"#é¢è¯•é¢˜-08-06-æ±‰è¯ºå¡”é—®é¢˜\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜\"></a><a href=\"https://leetcode-cn.com/problems/hanota-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜</a></h4><h4 id=\"ç»å…¸çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œä¸€ä¸ªä¸‰ä¸ªæŸ±å­ï¼Œå°†ç›˜å­ä»Aç§»åŠ¨åˆ°Cã€‚\"><a href=\"#ç»å…¸çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œä¸€ä¸ªä¸‰ä¸ªæŸ±å­ï¼Œå°†ç›˜å­ä»Aç§»åŠ¨åˆ°Cã€‚\" class=\"headerlink\" title=\"ç»å…¸çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œä¸€ä¸ªä¸‰ä¸ªæŸ±å­ï¼Œå°†ç›˜å­ä»Aç§»åŠ¨åˆ°Cã€‚\"></a>ç»å…¸çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œä¸€ä¸ªä¸‰ä¸ªæŸ±å­ï¼Œå°†ç›˜å­ä»Aç§»åŠ¨åˆ°Cã€‚</h4><p>æ–¹æ³•ä¸€ï¼šåˆ†æ²»æ€æƒ³ã€‚</p>\n<p>n = 1 æ—¶ï¼Œç›´æ¥æŠŠç›˜å­ä» A ç§»åˆ° Cï¼›<br>n &gt; 1 æ—¶ï¼Œ<br>å…ˆæŠŠä¸Šé¢ n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ï¼›<br>å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° Cï¼›<br>å†å°† B ä¸Š n - 1 ä¸ªç›˜å­ä» B ç§»åˆ° Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hanota</span><span class=\"params\">(self, A: List[int], B: List[int], C: List[int])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> A: <span class=\"keyword\">return</span></span><br><span class=\"line\">    n = len(A)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move</span><span class=\"params\">(n, a, b, c)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            c.append(a.pop())</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            move(n<span class=\"number\">-1</span>, a, c, b)</span><br><span class=\"line\">            c.append(a.pop())</span><br><span class=\"line\">            move(n<span class=\"number\">-1</span>, b, a, c)</span><br><span class=\"line\"></span><br><span class=\"line\">    move(n, A, B, C)</span><br></pre></td></tr></table></figure>\n<h3 id=\"316-Remove-Duplicate-Letters\"><a href=\"#316-Remove-Duplicate-Letters\" class=\"headerlink\" title=\"316. Remove Duplicate Letters\"></a><a href=\"https://leetcode.com/problems/remove-duplicate-letters/\" target=\"_blank\" rel=\"noopener\">316. Remove Duplicate Letters</a></h3><h4 id=\"ç§»é™¤é‡å¤çš„å­—ç¬¦ï¼Œä¿è¯æœ€åç»“æœæ˜¯å­—å…¸åºæœ€å°çš„ã€‚\"><a href=\"#ç§»é™¤é‡å¤çš„å­—ç¬¦ï¼Œä¿è¯æœ€åç»“æœæ˜¯å­—å…¸åºæœ€å°çš„ã€‚\" class=\"headerlink\" title=\"ç§»é™¤é‡å¤çš„å­—ç¬¦ï¼Œä¿è¯æœ€åç»“æœæ˜¯å­—å…¸åºæœ€å°çš„ã€‚\"></a>ç§»é™¤é‡å¤çš„å­—ç¬¦ï¼Œä¿è¯æœ€åç»“æœæ˜¯å­—å…¸åºæœ€å°çš„ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;bcabc&quot;</span><br><span class=\"line\">Output: &quot;abc&quot;</span><br><span class=\"line\">Input: s &#x3D; &quot;cbacdcbc&quot;</span><br><span class=\"line\">Output: &quot;acdb&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨stackæ¥è¾…åŠ©åˆ¤æ–­ã€‚Leeçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicateLetters</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    idx = &#123;c: i <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s)&#125;</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">in</span> stack: <span class=\"keyword\">continue</span>  <span class=\"comment\"># è¿™å¥åˆ«å¿˜äº† \"cbacdcbc\"</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>]&gt;c <span class=\"keyword\">and</span> idx[stack[<span class=\"number\">-1</span>]]&gt;i:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        stack.append(c)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(stack)</span><br></pre></td></tr></table></figure>\n<h3 id=\"503-Next-Greater-Element-II\"><a href=\"#503-Next-Greater-Element-II\" class=\"headerlink\" title=\"503. Next Greater Element II\"></a>503. Next Greater Element II</h3><h4 id=\"ä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ•°ç»„é¦–ä½è¿æ¥ã€‚åŸé¢˜\"><a href=\"#ä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ•°ç»„é¦–ä½è¿æ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ•°ç»„é¦–ä½è¿æ¥ã€‚åŸé¢˜\"></a>ä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ•°ç»„é¦–ä½è¿æ¥ã€‚<a href=\"https://leetcode.com/problems/next-greater-element-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>å’Œ1030é¢˜ç›¸ä¼¼ã€‚æ–¹æ³•ä¸€ï¼šé¦–ä½è¿æ¥ï¼Œæ‰€ä»¥è¦éå†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreaterElements</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, stack = [], []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums * <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] &lt; num:</span><br><span class=\"line\">            ans[stack.pop()[<span class=\"number\">0</span>]] = num</span><br><span class=\"line\">        stack.append((len(ans), num))</span><br><span class=\"line\">        ans.append(<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[:len(nums)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå®é™…å¹¶ä¸éœ€è¦ä¿å­˜æ•°å­—ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreaterElements</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, stack = [<span class=\"number\">-1</span>]*len(nums), []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> list(range(len(nums)))*<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> nums[stack[<span class=\"number\">-1</span>]] &lt; nums[i]:</span><br><span class=\"line\">            ans[stack.pop()] = nums[i]</span><br><span class=\"line\">        stack.append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"946-Validate-Stack-Sequences\"><a href=\"#946-Validate-Stack-Sequences\" class=\"headerlink\" title=\"946. Validate Stack Sequences\"></a>946. Validate Stack Sequences</h3><h4 id=\"ç»™å®šä¸€ä¸ªå…¥æ ˆå’Œå‡ºæ ˆçš„é¡ºåºï¼Œåˆ¤æ–­æ˜¯å¦æœ€åå¯ä»¥æ¸…ç©ºè¯¥æ ˆã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªå…¥æ ˆå’Œå‡ºæ ˆçš„é¡ºåºï¼Œåˆ¤æ–­æ˜¯å¦æœ€åå¯ä»¥æ¸…ç©ºè¯¥æ ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªå…¥æ ˆå’Œå‡ºæ ˆçš„é¡ºåºï¼Œåˆ¤æ–­æ˜¯å¦æœ€åå¯ä»¥æ¸…ç©ºè¯¥æ ˆã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªå…¥æ ˆå’Œå‡ºæ ˆçš„é¡ºåºï¼Œåˆ¤æ–­æ˜¯å¦æœ€åå¯ä»¥æ¸…ç©ºè¯¥æ ˆã€‚<a href=\"https://leetcode.com/problems/validate-stack-sequences/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: pushed &#x3D; [1,2,3,4,5], popped &#x3D; [4,5,3,2,1]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: We might do the following sequence:</span><br><span class=\"line\">push(1), push(2), push(3), push(4), pop() -&gt; 4,</span><br><span class=\"line\">push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1</span><br><span class=\"line\"></span><br><span class=\"line\">Input: pushed &#x3D; [1,2,3,4,5], popped &#x3D; [4,3,5,1,2]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: 1 cannot be popped before 2.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validateStackSequences</span><span class=\"params\">(self, pushed: <span class=\"string\">'List[int]'</span>, popped: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    j = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> pushed:</span><br><span class=\"line\">        stack.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>] == popped[j]:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> j == len(popped)</span><br></pre></td></tr></table></figure>\n<h3 id=\"735-Asteroid-Collision\"><a href=\"#735-Asteroid-Collision\" class=\"headerlink\" title=\"735. Asteroid Collision\"></a><a href=\"https://leetcode.com/problems/asteroid-collision/\" target=\"_blank\" rel=\"noopener\">735. Asteroid Collision</a></h3><h4 id=\"è¡Œæ˜Ÿç¢°æ’ï¼Œåœ¨ä¸€ä¸ªæ¨ªè½´ä¸Šæœ‰äº›æ•°å­—è¡¨ç¤ºè¡Œæ˜Ÿçš„è´¨é‡ï¼Œæ­£è´Ÿè¡¨ç¤ºæ–¹å‘ï¼Œæ‰€æœ‰çš„è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦è¿è¡Œï¼Œä¸¤ä¸ªè¡Œæ˜Ÿç¢°æ’åè´¨é‡å°çš„ä¼šæ¶ˆå¤±ï¼Œç›¸åŒåˆ™éƒ½æ¶ˆå¤±ï¼Œé—®æœ€åå‰©ä½™çš„è¡Œæ˜Ÿã€‚\"><a href=\"#è¡Œæ˜Ÿç¢°æ’ï¼Œåœ¨ä¸€ä¸ªæ¨ªè½´ä¸Šæœ‰äº›æ•°å­—è¡¨ç¤ºè¡Œæ˜Ÿçš„è´¨é‡ï¼Œæ­£è´Ÿè¡¨ç¤ºæ–¹å‘ï¼Œæ‰€æœ‰çš„è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦è¿è¡Œï¼Œä¸¤ä¸ªè¡Œæ˜Ÿç¢°æ’åè´¨é‡å°çš„ä¼šæ¶ˆå¤±ï¼Œç›¸åŒåˆ™éƒ½æ¶ˆå¤±ï¼Œé—®æœ€åå‰©ä½™çš„è¡Œæ˜Ÿã€‚\" class=\"headerlink\" title=\"è¡Œæ˜Ÿç¢°æ’ï¼Œåœ¨ä¸€ä¸ªæ¨ªè½´ä¸Šæœ‰äº›æ•°å­—è¡¨ç¤ºè¡Œæ˜Ÿçš„è´¨é‡ï¼Œæ­£è´Ÿè¡¨ç¤ºæ–¹å‘ï¼Œæ‰€æœ‰çš„è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦è¿è¡Œï¼Œä¸¤ä¸ªè¡Œæ˜Ÿç¢°æ’åè´¨é‡å°çš„ä¼šæ¶ˆå¤±ï¼Œç›¸åŒåˆ™éƒ½æ¶ˆå¤±ï¼Œé—®æœ€åå‰©ä½™çš„è¡Œæ˜Ÿã€‚\"></a>è¡Œæ˜Ÿç¢°æ’ï¼Œåœ¨ä¸€ä¸ªæ¨ªè½´ä¸Šæœ‰äº›æ•°å­—è¡¨ç¤ºè¡Œæ˜Ÿçš„è´¨é‡ï¼Œæ­£è´Ÿè¡¨ç¤ºæ–¹å‘ï¼Œæ‰€æœ‰çš„è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦è¿è¡Œï¼Œä¸¤ä¸ªè¡Œæ˜Ÿç¢°æ’åè´¨é‡å°çš„ä¼šæ¶ˆå¤±ï¼Œç›¸åŒåˆ™éƒ½æ¶ˆå¤±ï¼Œé—®æœ€åå‰©ä½™çš„è¡Œæ˜Ÿã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: asteroids &#x3D; [5,10,-5]</span><br><span class=\"line\">Output: [5,10]</span><br><span class=\"line\">Explanation: The 10 and -5 collide resulting in 10.  The 5 and 10 never collide</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆå®¹æ˜“æƒ³åˆ°stackæ¥è§£å†³ï¼Œ15åˆ†é’ŸACï¼Œéœ€è¦æ³¨æ„å†…éƒ¨ä¹Ÿéœ€è¦ä½¿ç”¨å¾ªç¯ï¼Œå› ä¸ºæœ‰<code>[10, 1, -5]</code>è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦å†…å¾ªç¯ä¸åœåœ°æ¯”è¾ƒå’Œç¢°æ’ã€‚è‡ªè®¤ä¸ºæ¯”æœ€é«˜ç¥¨ç­”æ¡ˆå†™å¾—ç®€æ´ä¸€äº›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">asteroidCollision</span><span class=\"params\">(self, asteroids: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> asteroids:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> a&lt;<span class=\"number\">0</span> <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>]&gt;<span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack[<span class=\"number\">-1</span>] &gt; -a:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                last = stack.pop()</span><br><span class=\"line\">                <span class=\"keyword\">if</span> last == -a:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append(a)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack</span><br></pre></td></tr></table></figure>\n<h3 id=\"456-132-Pattern\"><a href=\"#456-132-Pattern\" class=\"headerlink\" title=\"456. 132 Pattern\"></a><a href=\"https://leetcode.com/problems/132-pattern/\" target=\"_blank\" rel=\"noopener\">456. 132 Pattern</a></h3><p>æ˜¯å¦æœ‰å­åºåˆ—æ˜¯13,2çš„æ¨¡å¼ï¼Œå³å­˜åœ¨i&lt;j&lt;kï¼Œnums[i]&lt;nums[j]&lt;nums[k]</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,4]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: There is no 132 pattern in the sequence.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ˆï¼ŒæŒºéš¾æƒ³çš„ï¼Œçœ‹äº†ç­”æ¡ˆæ‰æ˜ç™½ã€‚thirdè¡¨ç¤ºåœ¨å½“å‰å€¼ä¹‹åçš„å°äºå½“å‰æ•°ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find132pattern</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    third = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> reversed(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num &lt; third: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>]&lt;num:</span><br><span class=\"line\">            third = stack.pop()</span><br><span class=\"line\">        stack.append(num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1673-Find-the-Most-Competitive-Subsequence\"><a href=\"#1673-Find-the-Most-Competitive-Subsequence\" class=\"headerlink\" title=\"1673. Find the Most Competitive Subsequence\"></a><a href=\"https://leetcode.com/problems/find-the-most-competitive-subsequence/\" target=\"_blank\" rel=\"noopener\">1673. Find the Most Competitive Subsequence</a></h3><h4 id=\"æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºkçš„æœ€å°çš„å­åºåˆ—ã€‚\"><a href=\"#æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºkçš„æœ€å°çš„å­åºåˆ—ã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºkçš„æœ€å°çš„å­åºåˆ—ã€‚\"></a>æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºkçš„æœ€å°çš„å­åºåˆ—ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [3,5,2,6], k &#x3D; 2</span><br><span class=\"line\">Output: [2,6]</span><br><span class=\"line\">Explanation: Among the set of every possible subsequence: &#123;[3,5], [3,2], [3,6], [5,2], [5,6], [2,6]&#125;, [2,6] is the most competitive.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒæš´åŠ›+trickyæ–¹æ³•è¿‡äº†5000ä¸ª0çš„caseã€‚è¿™é¢˜æœ‰äº›è´ªå¿ƒçš„æ€æƒ³åœ¨é‡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mostCompetitive</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack, N = [], len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> sorted(nums) == nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[:k]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>] &gt; num <span class=\"keyword\">and</span> len(stack)+N-i &gt; k:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(stack) &lt; k:</span><br><span class=\"line\">            stack.append(num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå“ˆå¸Œç¯‡ï¼‰hashtable","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%93%88%E5%B8%8C%E7%AF%87%EF%BC%89hashtable/","content":"<h3 id=\"1-Two-Sum\"><a href=\"#1-Two-Sum\" class=\"headerlink\" title=\"1. Two Sum\"></a>1. Two Sum</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ä¸ºç›®æ ‡å€¼ï¼Œå‡å®šåªæœ‰å”¯ä¸€è§£ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ä¸ºç›®æ ‡å€¼ï¼Œå‡å®šåªæœ‰å”¯ä¸€è§£ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ä¸ºç›®æ ‡å€¼ï¼Œå‡å®šåªæœ‰å”¯ä¸€è§£ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ä¸ºç›®æ ‡å€¼ï¼Œå‡å®šåªæœ‰å”¯ä¸€è§£ã€‚<a href=\"https://leetcode.com/problems/two-sum/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given nums &#x3D; [2, 7, 11, 15], target &#x3D; 9,</span><br><span class=\"line\">Because nums[0] + nums[1] &#x3D; 2 + 7 &#x3D; 9,</span><br><span class=\"line\">return [0, 1].</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">two_sum</span><span class=\"params\">(nums, target)</span>:</span></span><br><span class=\"line\">    buff_dict = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> buff_dict:</span><br><span class=\"line\">            buff_dict[target-num] = i</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [buff_dict[num], i]</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-3Sum\"><a href=\"#15-3Sum\" class=\"headerlink\" title=\"15. 3Sum\"></a><a href=\"https://leetcode.com/problems/3sum/\" target=\"_blank\" rel=\"noopener\">15. 3Sum</a></h3><h4 id=\"æ‰¾å‡º3ä¸ªæ•°ç›¸åŠ ä¸º0çš„æ‰€æœ‰ç»„åˆã€‚\"><a href=\"#æ‰¾å‡º3ä¸ªæ•°ç›¸åŠ ä¸º0çš„æ‰€æœ‰ç»„åˆã€‚\" class=\"headerlink\" title=\"æ‰¾å‡º3ä¸ªæ•°ç›¸åŠ ä¸º0çš„æ‰€æœ‰ç»„åˆã€‚\"></a>æ‰¾å‡º3ä¸ªæ•°ç›¸åŠ ä¸º0çš„æ‰€æœ‰ç»„åˆã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå›ºå®šä¸€ä¸ªæ•°ï¼Œå†é€šè¿‡åŒæŒ‡é’ˆæ‰¾å¦å¤–ä¸¤ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">threeSum</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    ans, n = [], len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-2</span>):</span><br><span class=\"line\">        a = nums[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">and</span> a == nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        lo, hi = i+<span class=\"number\">1</span>, n<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">            total = nums[lo] + nums[hi]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> total &gt; -a:</span><br><span class=\"line\">                hi -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> total &lt; -a:</span><br><span class=\"line\">                lo += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> nums[lo]==nums[lo+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                    lo += <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> nums[hi]==nums[hi<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    hi -= <span class=\"number\">1</span></span><br><span class=\"line\">                ans.append((a, nums[lo], nums[hi]))</span><br><span class=\"line\">                lo += <span class=\"number\">1</span></span><br><span class=\"line\">                hi -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"18-4Sum\"><a href=\"#18-4Sum\" class=\"headerlink\" title=\"18. 4Sum\"></a><a href=\"https://leetcode.com/problems/4sum/\" target=\"_blank\" rel=\"noopener\">18. 4Sum</a></h3><h4 id=\"æ‰¾å‡º4ä¸ªæ•°å’Œä¸ºtargetçš„ç»„åˆã€‚\"><a href=\"#æ‰¾å‡º4ä¸ªæ•°å’Œä¸ºtargetçš„ç»„åˆã€‚\" class=\"headerlink\" title=\"æ‰¾å‡º4ä¸ªæ•°å’Œä¸ºtargetçš„ç»„åˆã€‚\"></a>æ‰¾å‡º4ä¸ªæ•°å’Œä¸ºtargetçš„ç»„åˆã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿˜æ˜¯æ ¹æ®3sumçš„æ–¹æ³•è¿›è¡Œä¿®æ”¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fourSum</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">three_sum</span><span class=\"params\">(ary, target)</span>:</span></span><br><span class=\"line\">        res, N = [], len(ary)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N<span class=\"number\">-2</span>):</span><br><span class=\"line\">            a = ary[i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i!=<span class=\"number\">0</span> <span class=\"keyword\">and</span> a==ary[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            lo, hi = i+<span class=\"number\">1</span>, N<span class=\"number\">-1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">                total = ary[lo] + ary[hi]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> total &lt; target-a:</span><br><span class=\"line\">                    lo += <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">elif</span> total &gt; target-a:</span><br><span class=\"line\">                    hi -= <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> ary[lo]==ary[lo+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                        lo += <span class=\"number\">1</span></span><br><span class=\"line\">                    <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> ary[hi]==ary[hi<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                        hi -= <span class=\"number\">1</span></span><br><span class=\"line\">                    res.append([a, ary[lo], ary[hi]])</span><br><span class=\"line\">                    lo += <span class=\"number\">1</span></span><br><span class=\"line\">                    hi -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br><span class=\"line\">    </span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(nums[:<span class=\"number\">-3</span>]):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> <span class=\"keyword\">or</span> nums[i] != nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            three_res = three_sum(nums[i+<span class=\"number\">1</span>:], target-d)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> res <span class=\"keyword\">in</span> three_res:</span><br><span class=\"line\">                ans.append([d] + res)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"454-4Sum-II\"><a href=\"#454-4Sum-II\" class=\"headerlink\" title=\"454. 4Sum II\"></a><a href=\"https://leetcode.com/problems/4sum-ii/\" target=\"_blank\" rel=\"noopener\">454. 4Sum II</a></h3><h4 id=\"åœ¨å››ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå„é€‰å‡ºä¸€ä¸ªï¼Œä½¿å¾—å®ƒä»¬æ‰€æœ‰çš„å’Œä¸º0ã€‚\"><a href=\"#åœ¨å››ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå„é€‰å‡ºä¸€ä¸ªï¼Œä½¿å¾—å®ƒä»¬æ‰€æœ‰çš„å’Œä¸º0ã€‚\" class=\"headerlink\" title=\"åœ¨å››ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå„é€‰å‡ºä¸€ä¸ªï¼Œä½¿å¾—å®ƒä»¬æ‰€æœ‰çš„å’Œä¸º0ã€‚\"></a>åœ¨å››ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå„é€‰å‡ºä¸€ä¸ªï¼Œä½¿å¾—å®ƒä»¬æ‰€æœ‰çš„å’Œä¸º0ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">A &#x3D; [ 1, 2]</span><br><span class=\"line\">B &#x3D; [-2,-1]</span><br><span class=\"line\">C &#x3D; [-1, 2]</span><br><span class=\"line\">D &#x3D; [ 0, 2]</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">2</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The two tuples are:</span><br><span class=\"line\">1. (0, 0, 0, 1) -&gt; A[0] + B[0] + C[0] + D[1] &#x3D; 1 + (-2) + (-1) + 2 &#x3D; 0</span><br><span class=\"line\">2. (1, 1, 0, 0) -&gt; A[1] + B[1] + C[0] + D[0] &#x3D; 2 + (-1) + (-1) + 0 &#x3D; 0</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå’Œ18é¢˜ä¸åŒï¼Œè¿™é‡Œä¸éœ€è¦æƒ³3Sumä¹‹åæ€ä¹ˆæ€ä¹ˆæ ·ï¼Œå› ä¸º3Sumçš„æ–¹æ³•éœ€è¦æ’åºï¼Œè€Œè¿™é‡Œæ²¡æ³•å¤„ç†ä¸¤ä¸ªæ•°ç»„æ’åºï¼ŒåŒæŒ‡é’ˆä¹Ÿæ¯”è¾ƒéº»çƒ¦äº†ã€‚æ¢ä¸€ä¸ªæ€è·¯ï¼Œæ‹†æˆ2ä¸ª2Sumçš„å­é—®é¢˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fourSumCount</span><span class=\"params\">(self, A: List[int], B: List[int], C: List[int], D: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ab = defaultdict(int)</span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> B:</span><br><span class=\"line\">            ab[-a-b] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> C:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> D:</span><br><span class=\"line\">            res += ab[c+d]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå’ŒStenfanå­¦ä¹ ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fourSumCount</span><span class=\"params\">(self, A: List[int], B: List[int], C: List[int], D: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ab = Counter(-a-b <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> B)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(ab[c+d] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> C <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> D)</span><br></pre></td></tr></table></figure>\n<h3 id=\"720-Longest-Word-in-Dictionary\"><a href=\"#720-Longest-Word-in-Dictionary\" class=\"headerlink\" title=\"720. Longest Word in Dictionary\"></a>720. Longest Word in Dictionary</h3><h4 id=\"å­—å…¸ä¸­çš„æœ€é•¿å•è¯ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œè¯¥å•è¯çš„å­å•è¯ä¹Ÿå¿…é¡»åœ¨å­—å…¸ä¸­ã€‚ç›¸åŒé•¿åº¦çš„å•è¯ï¼Œè¿”å›å­—å…¸åºæœ€å‰çš„ä¸€ä¸ªã€‚åŸé¢˜\"><a href=\"#å­—å…¸ä¸­çš„æœ€é•¿å•è¯ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œè¯¥å•è¯çš„å­å•è¯ä¹Ÿå¿…é¡»åœ¨å­—å…¸ä¸­ã€‚ç›¸åŒé•¿åº¦çš„å•è¯ï¼Œè¿”å›å­—å…¸åºæœ€å‰çš„ä¸€ä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­—å…¸ä¸­çš„æœ€é•¿å•è¯ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œè¯¥å•è¯çš„å­å•è¯ä¹Ÿå¿…é¡»åœ¨å­—å…¸ä¸­ã€‚ç›¸åŒé•¿åº¦çš„å•è¯ï¼Œè¿”å›å­—å…¸åºæœ€å‰çš„ä¸€ä¸ªã€‚åŸé¢˜\"></a>å­—å…¸ä¸­çš„æœ€é•¿å•è¯ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œè¯¥å•è¯çš„å­å•è¯ä¹Ÿå¿…é¡»åœ¨å­—å…¸ä¸­ã€‚ç›¸åŒé•¿åº¦çš„å•è¯ï¼Œè¿”å›å­—å…¸åºæœ€å‰çš„ä¸€ä¸ªã€‚<a href=\"https://leetcode.com/problems/longest-word-in-dictionary/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">words &#x3D; [&quot;w&quot;,&quot;wo&quot;,&quot;wor&quot;,&quot;worl&quot;, &quot;world&quot;]</span><br><span class=\"line\">Output: &quot;world&quot;</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The word &quot;world&quot; can be built one character at a time by &quot;w&quot;, &quot;wo&quot;, &quot;wor&quot;, and &quot;worl&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestWord</span><span class=\"params\">(self, words)</span>:</span></span><br><span class=\"line\">    res = <span class=\"string\">''</span></span><br><span class=\"line\">    wordset = set(words)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(word)&gt;len(res) <span class=\"keyword\">or</span> len(word)==len(res) <span class=\"keyword\">and</span> word&lt;res:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> all(word[:k] <span class=\"keyword\">in</span> wordset <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(word))):</span><br><span class=\"line\">                res = word         </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼štrie. æš‚ä¸”ç•™å‘ã€‚</p>\n<h3 id=\"748-Shortest-Completing-Word\"><a href=\"#748-Shortest-Completing-Word\" class=\"headerlink\" title=\"748. Shortest Completing Word\"></a>748. Shortest Completing Word</h3><h4 id=\"æœ€çŸ­çš„å®Œæ•´åŒ¹é…å•è¯ã€‚åŒ…å«licensePlateä¸­çš„æ‰€æœ‰å­—æ¯ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚å‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"><a href=\"#æœ€çŸ­çš„å®Œæ•´åŒ¹é…å•è¯ã€‚åŒ…å«licensePlateä¸­çš„æ‰€æœ‰å­—æ¯ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚å‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€çŸ­çš„å®Œæ•´åŒ¹é…å•è¯ã€‚åŒ…å«licensePlateä¸­çš„æ‰€æœ‰å­—æ¯ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚å‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"></a>æœ€çŸ­çš„å®Œæ•´åŒ¹é…å•è¯ã€‚åŒ…å«<code>licensePlate</code>ä¸­çš„æ‰€æœ‰å­—æ¯ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚å‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚<a href=\"https://leetcode.com/problems/shortest-completing-word/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: licensePlate &#x3D; &quot;1s3 PSt&quot;, words &#x3D; [&quot;step&quot;, &quot;steps&quot;, &quot;stripe&quot;, &quot;stepple&quot;]</span><br><span class=\"line\">Output: &quot;steps&quot;</span><br><span class=\"line\">Explanation: The smallest length word that contains the letters &quot;S&quot;, &quot;P&quot;, &quot;S&quot;, and &quot;T&quot;.</span><br><span class=\"line\">Note that the answer is not &quot;step&quot;, because the letter &quot;s&quot; must occur in the word twice.</span><br><span class=\"line\">Also note that we ignored case for the purposes of comparing whether a letter exists in the word.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestCompletingWord</span><span class=\"params\">(self, licensePlate: <span class=\"string\">'str'</span>, words: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    lp = <span class=\"string\">''</span>.join(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> licensePlate.lower() <span class=\"keyword\">if</span> x.isalpha())</span><br><span class=\"line\">    c1 = collections.Counter(lp)</span><br><span class=\"line\">    words.sort(key=len)</span><br><span class=\"line\">    words = map(str.lower, words)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        diff = c1 - collections.Counter(word)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> diff:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> word</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šmore elegant. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestCompletingWord</span><span class=\"params\">(self, licensePlate: <span class=\"string\">'str'</span>, words: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    lp = <span class=\"string\">''</span>.join(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> licensePlate.lower() <span class=\"keyword\">if</span> x.isalpha())</span><br><span class=\"line\">    c1 = collections.Counter(lp)</span><br><span class=\"line\">    words = map(str.lower, words)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min((word <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words </span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> c1-collections.Counter(word)), key=len)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šmost efficient. è®¤ä¸ºæ–¹æ³•äºŒæ˜¯åœ¨è®¡ç®—<code>-</code>çš„æ“ä½œæ—¶ï¼Œæ¶‰åŠä¸€äº›æ— å…³çš„keyå¯¼è‡´æ•ˆç‡è¿‡ä½ã€‚ </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestCompletingWord</span><span class=\"params\">(self, licensePlate: <span class=\"string\">'str'</span>, words: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    lp = <span class=\"string\">''</span>.join(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> licensePlate.lower() <span class=\"keyword\">if</span> x.isalpha())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        temp = list(w.lower())</span><br><span class=\"line\">        <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> lp:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> l <span class=\"keyword\">in</span> temp:</span><br><span class=\"line\">                temp.remove(l)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(w)&lt;len(ans) <span class=\"keyword\">or</span> ans==<span class=\"string\">''</span>:</span><br><span class=\"line\">                ans = w</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"811-Subdomain-Visit-Count\"><a href=\"#811-Subdomain-Visit-Count\" class=\"headerlink\" title=\"811. Subdomain Visit Count\"></a>811. Subdomain Visit Count</h3><h4 id=\"å­åŸŸåè®¿é—®é‡ã€‚ç»™å®šä¸€ä¸ªä¸‰çº§æˆ–äºŒçº§åŸŸååˆ—è¡¨ï¼Œç»Ÿè®¡æ‰€æœ‰ä¸‰çº§ã€äºŒçº§å’Œé¡¶çº§åŸŸåçš„è®¿é—®é‡ã€‚åŸé¢˜\"><a href=\"#å­åŸŸåè®¿é—®é‡ã€‚ç»™å®šä¸€ä¸ªä¸‰çº§æˆ–äºŒçº§åŸŸååˆ—è¡¨ï¼Œç»Ÿè®¡æ‰€æœ‰ä¸‰çº§ã€äºŒçº§å’Œé¡¶çº§åŸŸåçš„è®¿é—®é‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­åŸŸåè®¿é—®é‡ã€‚ç»™å®šä¸€ä¸ªä¸‰çº§æˆ–äºŒçº§åŸŸååˆ—è¡¨ï¼Œç»Ÿè®¡æ‰€æœ‰ä¸‰çº§ã€äºŒçº§å’Œé¡¶çº§åŸŸåçš„è®¿é—®é‡ã€‚åŸé¢˜\"></a>å­åŸŸåè®¿é—®é‡ã€‚ç»™å®šä¸€ä¸ªä¸‰çº§æˆ–äºŒçº§åŸŸååˆ—è¡¨ï¼Œç»Ÿè®¡æ‰€æœ‰ä¸‰çº§ã€äºŒçº§å’Œé¡¶çº§åŸŸåçš„è®¿é—®é‡ã€‚<a href=\"https://leetcode.com/problems/subdomain-visit-count/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 1:</span><br><span class=\"line\">Input: </span><br><span class=\"line\">[&quot;9001 discuss.leetcode.com&quot;]</span><br><span class=\"line\">Output: </span><br><span class=\"line\">[&quot;9001 discuss.leetcode.com&quot;, &quot;9001 leetcode.com&quot;, &quot;9001 com&quot;]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">We only have one website domain: &quot;discuss.leetcode.com&quot;. As discussed above, the subdomain &quot;leetcode.com&quot; and &quot;com&quot; will also be visited. So they will all be visited 9001 times.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šSolutionä¸­ç”¨äº†Counterï¼Œä¸ªäººè®¤ä¸ºdefaultdict.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subdomainVisits</span><span class=\"params\">(self, cpdomains: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    ans = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> domain <span class=\"keyword\">in</span> cpdomains:</span><br><span class=\"line\">        count, d = domain.split()</span><br><span class=\"line\">        count = int(count)</span><br><span class=\"line\">        frags = d.split(<span class=\"string\">'.'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(frags)):</span><br><span class=\"line\">            ans[<span class=\"string\">'.'</span>.join(frags[i:])] += count</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">'&#123;&#125; &#123;&#125;'</span>.format(c, d) <span class=\"keyword\">for</span> d, c <span class=\"keyword\">in</span> ans.items()]</span><br></pre></td></tr></table></figure>\n<h3 id=\"884-Uncommon-Words-from-Two-Sentences\"><a href=\"#884-Uncommon-Words-from-Two-Sentences\" class=\"headerlink\" title=\"884. Uncommon Words from Two Sentences\"></a>884. Uncommon Words from Two Sentences</h3><h4 id=\"æ±‚ä¸¤å¥è¯ä¸­çš„å•è¯ï¼Œåœ¨æœ¬å¥ä¸­å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸åœ¨å¦ä¸€å¥ä¸­çš„å•è¯ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸¤å¥ä¸­å‡ºç°ä¸€æ¬¡ã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸¤å¥è¯ä¸­çš„å•è¯ï¼Œåœ¨æœ¬å¥ä¸­å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸åœ¨å¦ä¸€å¥ä¸­çš„å•è¯ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸¤å¥ä¸­å‡ºç°ä¸€æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸¤å¥è¯ä¸­çš„å•è¯ï¼Œåœ¨æœ¬å¥ä¸­å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸åœ¨å¦ä¸€å¥ä¸­çš„å•è¯ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸¤å¥ä¸­å‡ºç°ä¸€æ¬¡ã€‚åŸé¢˜\"></a>æ±‚ä¸¤å¥è¯ä¸­çš„å•è¯ï¼Œåœ¨æœ¬å¥ä¸­å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸åœ¨å¦ä¸€å¥ä¸­çš„å•è¯ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸¤å¥ä¸­å‡ºç°ä¸€æ¬¡ã€‚<a href=\"https://leetcode.com/problems/uncommon-words-from-two-sentences/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; &quot;this apple is sweet&quot;, B &#x3D; &quot;this apple is sour&quot;</span><br><span class=\"line\">Output: [&quot;sweet&quot;,&quot;sour&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šCounter</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uncommonFromSentences</span><span class=\"params\">(self, A: <span class=\"string\">'str'</span>, B: <span class=\"string\">'str'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    count = Counter((A + <span class=\"string\">' '</span> + B).split())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [word <span class=\"keyword\">for</span> word, c <span class=\"keyword\">in</span> count.items() <span class=\"keyword\">if</span> c == <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1010-Pairs-of-Songs-With-Total-Durations-Divisible-by-60\"><a href=\"#1010-Pairs-of-Songs-With-Total-Durations-Divisible-by-60\" class=\"headerlink\" title=\"1010. Pairs of Songs With Total Durations Divisible by 60\"></a>1010. Pairs of Songs With Total Durations Divisible by 60</h3><h4 id=\"å’Œèƒ½è¢«60æ•´é™¤çš„ä¸ºä¸€å¯¹ï¼Œæ±‚æœ‰å¤šå°‘å¯¹ã€‚åŸé¢˜\"><a href=\"#å’Œèƒ½è¢«60æ•´é™¤çš„ä¸ºä¸€å¯¹ï¼Œæ±‚æœ‰å¤šå°‘å¯¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œèƒ½è¢«60æ•´é™¤çš„ä¸ºä¸€å¯¹ï¼Œæ±‚æœ‰å¤šå°‘å¯¹ã€‚åŸé¢˜\"></a>å’Œèƒ½è¢«60æ•´é™¤çš„ä¸ºä¸€å¯¹ï¼Œæ±‚æœ‰å¤šå°‘å¯¹ã€‚<a href=\"https://leetcode.com/problems/pairs-of-songs-with-total-durations-divisible-by-60/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [30,20,150,100,40]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Three pairs have a total duration divisible by 60:</span><br><span class=\"line\">(time[0] &#x3D; 30, time[2] &#x3D; 150): total duration 180</span><br><span class=\"line\">(time[1] &#x3D; 20, time[3] &#x3D; 100): total duration 120</span><br><span class=\"line\">(time[1] &#x3D; 20, time[4] &#x3D; 40): total duration 60</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numPairsDivisibleBy60</span><span class=\"params\">(self, time: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    c = collections.defaultdict(int)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> time:</span><br><span class=\"line\">        <span class=\"comment\"># ans += c[(60-t%60)%60]</span></span><br><span class=\"line\">        ans += c[-t % <span class=\"number\">60</span>]</span><br><span class=\"line\">        c[t%<span class=\"number\">60</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1138-Alphabet-Board-Path\"><a href=\"#1138-Alphabet-Board-Path\" class=\"headerlink\" title=\"1138. Alphabet Board Path\"></a>1138. Alphabet Board Path</h3><h4 id=\"å°å†™å­—æ¯æ’åˆ—çš„é”®ç›˜ï¼Œè¦æ‰“å‡ºç›®æ ‡å­—æ¯éœ€è¦ç§»åŠ¨çš„æ“ä½œã€‚åŸé¢˜\"><a href=\"#å°å†™å­—æ¯æ’åˆ—çš„é”®ç›˜ï¼Œè¦æ‰“å‡ºç›®æ ‡å­—æ¯éœ€è¦ç§»åŠ¨çš„æ“ä½œã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°å†™å­—æ¯æ’åˆ—çš„é”®ç›˜ï¼Œè¦æ‰“å‡ºç›®æ ‡å­—æ¯éœ€è¦ç§»åŠ¨çš„æ“ä½œã€‚åŸé¢˜\"></a>å°å†™å­—æ¯æ’åˆ—çš„é”®ç›˜ï¼Œè¦æ‰“å‡ºç›®æ ‡å­—æ¯éœ€è¦ç§»åŠ¨çš„æ“ä½œã€‚<a href=\"https://leetcode.com/problems/alphabet-board-path/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: target &#x3D; &quot;leet&quot;</span><br><span class=\"line\">Output: &quot;DDR!UURRR!!DDD!&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜éœ€è¦æ³¨æ„zï¼Œç„¶åæŒ‰ç…§ä¸€ä¸ªä¼˜å…ˆçš„é¡ºåºç§»åŠ¨å³å¯ã€‚å¦å¤–ä½¿ç”¨å­—å…¸å¯ä»¥å¿«é€Ÿå®šä½åæ ‡ï¼Œè€Œä¸ç”¨æ¯ä¸ªå­—ç¬¦åšæ¯”è¾ƒ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">alphabetBoardPath</span><span class=\"params\">(self, target: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> string</span><br><span class=\"line\">    m = &#123;c: (i//<span class=\"number\">5</span>, i%<span class=\"number\">5</span>) <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(string.ascii_lowercase)&#125;</span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    x0 = y0 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> target:</span><br><span class=\"line\">        x, y = m[c]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> y &lt; y0: ans += <span class=\"string\">'L'</span> * (y0-y)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x &lt; x0: ans += <span class=\"string\">'U'</span> * (x0-x)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> y &gt; y0: ans += <span class=\"string\">'R'</span> * (y-y0)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x &gt; x0: ans += <span class=\"string\">'D'</span> * (x-x0)</span><br><span class=\"line\">        x0, y0 = x, y</span><br><span class=\"line\">        ans += <span class=\"string\">'!'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1072-Flip-Columns-For-Maximum-Number-of-Equal-Rows\"><a href=\"#1072-Flip-Columns-For-Maximum-Number-of-Equal-Rows\" class=\"headerlink\" title=\"1072. Flip Columns For Maximum Number of Equal Rows\"></a>1072. Flip Columns For Maximum Number of Equal Rows</h3><h4 id=\"äºŒç»´æ•°ç»„ï¼Œç¿»è½¬æŸå‡ åˆ—å¯ä»¥æœ€å¤šä½¿å¤šå°‘è¡Œå†…çš„å…ƒç´ éƒ½ç›¸åŒã€‚åŸé¢˜\"><a href=\"#äºŒç»´æ•°ç»„ï¼Œç¿»è½¬æŸå‡ åˆ—å¯ä»¥æœ€å¤šä½¿å¤šå°‘è¡Œå†…çš„å…ƒç´ éƒ½ç›¸åŒã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒç»´æ•°ç»„ï¼Œç¿»è½¬æŸå‡ åˆ—å¯ä»¥æœ€å¤šä½¿å¤šå°‘è¡Œå†…çš„å…ƒç´ éƒ½ç›¸åŒã€‚åŸé¢˜\"></a>äºŒç»´æ•°ç»„ï¼Œç¿»è½¬æŸå‡ åˆ—å¯ä»¥æœ€å¤šä½¿å¤šå°‘è¡Œå†…çš„å…ƒç´ éƒ½ç›¸åŒã€‚<a href=\"https://leetcode.com/problems/flip-columns-for-maximum-number-of-equal-rows/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[0,1],[1,1]]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: After flipping no values, 1 row has all values equal.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [[0,0,0],[0,0,1],[1,1,0]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: After flipping values in the first two columns, the last two rows have equal values.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ¸å¿ƒæ€æƒ³åœ¨äºæ‰¾åˆ°æ¯è¡Œçš„æ¨¡å¼ï¼Œå…·æœ‰ç›¸åŒæ¨¡å¼çš„è¡Œï¼Œæœ€ç»ˆå¯å˜æˆåŒæ ·çš„æ•°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxEqualRowsAfterFlips</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    c = collections.Counter()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> matrix:</span><br><span class=\"line\">        c[tuple([x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> row])] += <span class=\"number\">1</span></span><br><span class=\"line\">        c[tuple([<span class=\"number\">1</span>-x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> row])] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(c.values())</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨å¼‚æˆ–ã€‚æ–¹æ³•ä¸€ä¸­å…¶å®æœ‰å¤šä½™çš„éƒ¨åˆ†ï¼Œæ¨¡å¼ä¸åæ¨¡å¼éƒ½æ±‚äº†å‡ºæ¥ï¼Œå…¶å®æ²¡æœ‰å¿…è¦ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxEqualRowsAfterFlips</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(collections.Counter(tuple(r ^ row[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> matrix).values())</span><br></pre></td></tr></table></figure>\n<h3 id=\"1160-Find-Words-That-Can-Be-Formed-by-Characters\"><a href=\"#1160-Find-Words-That-Can-Be-Formed-by-Characters\" class=\"headerlink\" title=\"1160. Find Words That Can Be Formed by Characters\"></a>1160. Find Words That Can Be Formed by Characters</h3><h4 id=\"æ‰¾å‡ºèƒ½è¢«ç›®æ ‡å­—ç¬¦ä¸²ç»„æˆçš„å­ä¸²é•¿åº¦å’Œã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºèƒ½è¢«ç›®æ ‡å­—ç¬¦ä¸²ç»„æˆçš„å­ä¸²é•¿åº¦å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºèƒ½è¢«ç›®æ ‡å­—ç¬¦ä¸²ç»„æˆçš„å­ä¸²é•¿åº¦å’Œã€‚åŸé¢˜\"></a>æ‰¾å‡ºèƒ½è¢«ç›®æ ‡å­—ç¬¦ä¸²ç»„æˆçš„å­ä¸²é•¿åº¦å’Œã€‚<a href=\"https://leetcode.com/problems/find-words-that-can-be-formed-by-characters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countCharacters</span><span class=\"params\">(self, words: List[str], chars: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ma = collections.Counter(chars)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(len(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> collections.Counter(w)-ma)</span><br></pre></td></tr></table></figure>\n<h3 id=\"525-Contiguous-Array\"><a href=\"#525-Contiguous-Array\" class=\"headerlink\" title=\"525. Contiguous Array\"></a>525. Contiguous Array</h3><h4 id=\"æ‰¾å‡ºäºŒè¿›åˆ¶æ•°ç»„ä¸­æ‹¥æœ‰ç›¸ç­‰ä¸ªæ•°0å’Œ1çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºäºŒè¿›åˆ¶æ•°ç»„ä¸­æ‹¥æœ‰ç›¸ç­‰ä¸ªæ•°0å’Œ1çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºäºŒè¿›åˆ¶æ•°ç»„ä¸­æ‹¥æœ‰ç›¸ç­‰ä¸ªæ•°0å’Œ1çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\"></a>æ‰¾å‡ºäºŒè¿›åˆ¶æ•°ç»„ä¸­æ‹¥æœ‰ç›¸ç­‰ä¸ªæ•°0å’Œ1çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/contiguous-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,1]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: [0, 1] is the longest contiguous subarray with equal number of 0 and 1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜è§£æ³•ç±»ä¼¼äºä¹°å–è‚¡ç¥¨ï¼Œç»´æŠ¤ä¸€ä¸ª<code>count</code>å¦‚æœæ˜¯0å‡ä¸€ï¼Œå¦‚æœæ˜¯1åŠ ä¸€ï¼Œé‚£ä¹ˆå½“countå€¼ç›¸ç­‰çš„æ—¶å€™ï¼Œè¯´æ˜è¿™ä¸ªå­ä¸²ä¸­æœ‰ç›¸ç­‰1å’Œ0ã€‚ä½¿ç”¨ä¸€ä¸ªå­—å…¸æ¥è®°å½•æ¯æ¬¡countçš„æœ€å°ç´¢å¼•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ç´¢å¼•ä»1å¼€å§‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxLength</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    count = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    table = &#123;<span class=\"number\">0</span>: <span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums, <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num == <span class=\"number\">0</span>:</span><br><span class=\"line\">            count -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> count <span class=\"keyword\">in</span> table:</span><br><span class=\"line\">            ans = max(ans, i-table[count])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            table[count] = i</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"560-Subarray-Sum-Equals-K\"><a href=\"#560-Subarray-Sum-Equals-K\" class=\"headerlink\" title=\"560. Subarray Sum Equals K\"></a>560. Subarray Sum Equals K</h3><h4 id=\"å­æ•°ç»„å’Œä¸ºkçš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å­æ•°ç»„å’Œä¸ºkçš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­æ•°ç»„å’Œä¸ºkçš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å­æ•°ç»„å’Œä¸ºkçš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/subarray-sum-equals-k/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:nums &#x3D; [1,1,1], k &#x3D; 2</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç´¯åŠ ä¸€å¼€å§‹æƒ³åˆ°äº†ï¼Œè¡¥0ä¹Ÿæƒ³åˆ°äº†ï¼Œæ²¡æƒ³åˆ°ç”¨å“ˆå¸Œï¼Œè€Œæ˜¯ç”¨å¾ªç¯å»è¿­ä»£ï¼Œè¿™æ ·æ—¶é—´è¶…æ—¶äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subarraySum</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    total = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    d = collections.defaultdict(int)</span><br><span class=\"line\">    d[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        total += x</span><br><span class=\"line\">        ans += d[total-k]</span><br><span class=\"line\">        d[total] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1311-Get-Watched-Videos-by-Your-Friends\"><a href=\"#1311-Get-Watched-Videos-by-Your-Friends\" class=\"headerlink\" title=\"1311. Get Watched Videos by Your Friends\"></a>1311. Get Watched Videos by Your Friends</h3><h4 id=\"æ‰¾åˆ°ä½ çš„levelçº§åˆ«çš„æœ‹å‹çœ‹çš„ç”µå½±ï¼ŒæŒ‰ç…§é¢‘ç‡å­—æ¯æ’åºã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ä½ çš„levelçº§åˆ«çš„æœ‹å‹çœ‹çš„ç”µå½±ï¼ŒæŒ‰ç…§é¢‘ç‡å­—æ¯æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ä½ çš„levelçº§åˆ«çš„æœ‹å‹çœ‹çš„ç”µå½±ï¼ŒæŒ‰ç…§é¢‘ç‡å­—æ¯æ’åºã€‚åŸé¢˜\"></a>æ‰¾åˆ°ä½ çš„levelçº§åˆ«çš„æœ‹å‹çœ‹çš„ç”µå½±ï¼ŒæŒ‰ç…§é¢‘ç‡å­—æ¯æ’åºã€‚<a href=\"https://leetcode.com/problems/get-watched-videos-by-your-friends/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: watchedVideos &#x3D; [[&quot;A&quot;,&quot;B&quot;],[&quot;C&quot;],[&quot;B&quot;,&quot;C&quot;],[&quot;D&quot;]], friends &#x3D; [[1,2],[0,3],[0,3],[1,2]], id &#x3D; 0, level &#x3D; 1</span><br><span class=\"line\">Output: [&quot;B&quot;,&quot;C&quot;] </span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">You have id &#x3D; 0 (green color in the figure) and your friends are (yellow color in the figure):</span><br><span class=\"line\">Person with id &#x3D; 1 -&gt; watchedVideos &#x3D; [&quot;C&quot;] </span><br><span class=\"line\">Person with id &#x3D; 2 -&gt; watchedVideos &#x3D; [&quot;B&quot;,&quot;C&quot;] </span><br><span class=\"line\">The frequencies of watchedVideos by your friends are: </span><br><span class=\"line\">B -&gt; 1 </span><br><span class=\"line\">C -&gt; 2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">watchedVideosByFriends</span><span class=\"params\">(self, watchedVideos: List[List[str]], friends: List[List[int]], id: int, level: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    bfs, seen = &#123;id&#125;, &#123;id&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(level):</span><br><span class=\"line\">        bfs = &#123;j <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> bfs <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> friends[i] <span class=\"keyword\">if</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen&#125;</span><br><span class=\"line\">        seen |= bfs</span><br><span class=\"line\">    videos=collections.Counter([v <span class=\"keyword\">for</span> idx <span class=\"keyword\">in</span> bfs <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> watchedVideos[idx]])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(videos, key=<span class=\"keyword\">lambda</span> x: (videos[x], x))</span><br></pre></td></tr></table></figure>\n<h3 id=\"388-Longest-Absolute-File-Path\"><a href=\"#388-Longest-Absolute-File-Path\" class=\"headerlink\" title=\"388. Longest Absolute File Path\"></a>388. Longest Absolute File Path</h3><h4 id=\"æœ€é•¿çš„ç»å¯¹è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„ç»å¯¹è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„ç»å¯¹è·¯å¾„ã€‚åŸé¢˜\"></a>æœ€é•¿çš„ç»å¯¹è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/longest-absolute-file-path/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè‡ªå·±ç”¨æ ˆå®ç°çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthLongestPath</span><span class=\"params\">(self, input: str)</span> -&gt; int:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    path = input.split(<span class=\"string\">'\\n'</span>)</span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> path:</span><br><span class=\"line\">        t = p.count(<span class=\"string\">'\\t'</span>)</span><br><span class=\"line\">        p = p[t:]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> t &lt; len(stack):</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        stack.append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">'.'</span> <span class=\"keyword\">in</span> p:</span><br><span class=\"line\">            ans.append(<span class=\"string\">'/'</span>.join(stack))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(max(ans, key=len))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç”¨å­—å…¸è®°å½•æ·±åº¦ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthLongestPath</span><span class=\"params\">(self, input: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    path_len = &#123;<span class=\"number\">0</span>: <span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> line <span class=\"keyword\">in</span> input.splitlines():</span><br><span class=\"line\">        name = line.lstrip(<span class=\"string\">'\\t'</span>)</span><br><span class=\"line\">        depth = len(line) - len(name)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">'.'</span> <span class=\"keyword\">in</span> name:</span><br><span class=\"line\">            ans = max(ans, path_len[depth] + len(name))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            path_len[depth+<span class=\"number\">1</span>] = path_len[depth] + len(name) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1224-Maximum-Equal-Frequency\"><a href=\"#1224-Maximum-Equal-Frequency\" class=\"headerlink\" title=\"1224. Maximum Equal Frequency\"></a>1224. Maximum Equal Frequency</h3><h3 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„æœ€é•¿çš„å‰ç¼€ï¼Œå‰ç¼€ä¸­åˆšå¥½æœ‰åˆ é™¤ä¸€ä¸ªå…ƒç´ ä½¿å…¶å®ƒå…ƒç´ çš„é¢‘ç‡ç›¸ç­‰ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„æœ€é•¿çš„å‰ç¼€ï¼Œå‰ç¼€ä¸­åˆšå¥½æœ‰åˆ é™¤ä¸€ä¸ªå…ƒç´ ä½¿å…¶å®ƒå…ƒç´ çš„é¢‘ç‡ç›¸ç­‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„æœ€é•¿çš„å‰ç¼€ï¼Œå‰ç¼€ä¸­åˆšå¥½æœ‰åˆ é™¤ä¸€ä¸ªå…ƒç´ ä½¿å…¶å®ƒå…ƒç´ çš„é¢‘ç‡ç›¸ç­‰ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„æœ€é•¿çš„å‰ç¼€ï¼Œå‰ç¼€ä¸­åˆšå¥½æœ‰åˆ é™¤ä¸€ä¸ªå…ƒç´ ä½¿å…¶å®ƒå…ƒç´ çš„é¢‘ç‡ç›¸ç­‰ã€‚<a href=\"https://leetcode.com/problems/maximum-equal-frequency/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [2,2,1,1,5,3,3,5]</span><br><span class=\"line\">Output: 7</span><br><span class=\"line\">Explanation: For the subarray [2,2,1,1,5,3,3] of length 7, if we remove nums[4]&#x3D;5, we will get [2,2,1,1,3,3], so that each number will appear exactly twice.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šLee215çš„ç­”æ¡ˆï¼Œä¸€å…±åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æƒ…å†µæ˜¯å°†å½“å‰å…ƒç´ åˆ é™¤ï¼Œé‚£ä¹ˆå‰é¢çš„å…ƒç´ å…·æœ‰ç›¸åŒçš„é¢‘ç‡ã€‚å¦‚æœä¸åˆ é™¤å½“å‰çš„å…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ å‡ºç°äº†cæ¬¡ï¼Œæˆ‘ä»¬ç”¨<code>freq</code>æ¥è®°å½•å‡ºç°iæ¬¡çš„æœ‰å¤šå°‘ä¸ªæ•°ã€‚é‚£ä¹ˆåˆ é™¤çš„å…ƒç´ åªèƒ½æ˜¯å‡ºç°c+1æ¬¡æˆ–è€…1æ¬¡ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°åªæœ‰ä¸€ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxEqualFreq</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    count = collections.defaultdict(int)</span><br><span class=\"line\">    freq = [<span class=\"number\">0</span>] * (len(A)+<span class=\"number\">1</span>)</span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n, a <span class=\"keyword\">in</span> enumerate(A, <span class=\"number\">1</span>):</span><br><span class=\"line\">        freq[count[a]+<span class=\"number\">1</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">        freq[count[a]] -= <span class=\"number\">1</span></span><br><span class=\"line\">        c = count[a] = count[a] + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> freq[c]*c==n <span class=\"keyword\">and</span> n &lt; len(A):</span><br><span class=\"line\">            res = n + <span class=\"number\">1</span></span><br><span class=\"line\">        d = n - freq[c]*c</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d <span class=\"keyword\">in</span> (c+<span class=\"number\">1</span>, <span class=\"number\">1</span>) <span class=\"keyword\">and</span> freq[d]==<span class=\"number\">1</span>:</span><br><span class=\"line\">            res = n</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"957-Prison-Cells-After-N-Days\"><a href=\"#957-Prison-Cells-After-N-Days\" class=\"headerlink\" title=\"957. Prison Cells After N Days\"></a>957. Prison Cells After N Days</h3><h4 id=\"æœ‰8ä¸ªç›‘ç‹±ï¼Œå¦‚æœä¸¤è¾¹çš„ç›‘ç‹±æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ¬¡æ—¥è¿™ä¸ªç›‘ç‹±ä¼šæœ‰äººï¼Œå¦åˆ™ä¸ºç©ºã€‚æ±‚Nå¤©ä¹‹åçš„ç›‘ç‹±åŸé¢˜\"><a href=\"#æœ‰8ä¸ªç›‘ç‹±ï¼Œå¦‚æœä¸¤è¾¹çš„ç›‘ç‹±æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ¬¡æ—¥è¿™ä¸ªç›‘ç‹±ä¼šæœ‰äººï¼Œå¦åˆ™ä¸ºç©ºã€‚æ±‚Nå¤©ä¹‹åçš„ç›‘ç‹±åŸé¢˜\" class=\"headerlink\" title=\"æœ‰8ä¸ªç›‘ç‹±ï¼Œå¦‚æœä¸¤è¾¹çš„ç›‘ç‹±æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ¬¡æ—¥è¿™ä¸ªç›‘ç‹±ä¼šæœ‰äººï¼Œå¦åˆ™ä¸ºç©ºã€‚æ±‚Nå¤©ä¹‹åçš„ç›‘ç‹±åŸé¢˜\"></a>æœ‰8ä¸ªç›‘ç‹±ï¼Œå¦‚æœä¸¤è¾¹çš„ç›‘ç‹±æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ¬¡æ—¥è¿™ä¸ªç›‘ç‹±ä¼šæœ‰äººï¼Œå¦åˆ™ä¸ºç©ºã€‚æ±‚Nå¤©ä¹‹åçš„ç›‘ç‹±<a href=\"https://leetcode.com/problems/prison-cells-after-n-days/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: cells &#x3D; [0,1,0,1,1,0,0,1], N &#x3D; 7</span><br><span class=\"line\">Output: [0,0,1,1,0,0,0,0]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The following table summarizes the state of the prison on each day:</span><br><span class=\"line\">Day 0: [0, 1, 0, 1, 1, 0, 0, 1]</span><br><span class=\"line\">Day 1: [0, 1, 1, 0, 0, 0, 0, 0]</span><br><span class=\"line\">Day 2: [0, 0, 0, 0, 1, 1, 1, 0]</span><br><span class=\"line\">Day 3: [0, 1, 1, 0, 0, 1, 0, 0]</span><br><span class=\"line\">Day 4: [0, 0, 0, 0, 0, 1, 0, 0]</span><br><span class=\"line\">Day 5: [0, 1, 1, 1, 0, 1, 0, 0]</span><br><span class=\"line\">Day 6: [0, 0, 1, 0, 1, 1, 0, 0]</span><br><span class=\"line\">Day 7: [0, 0, 1, 1, 0, 0, 0, 0]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†æç¤ºç”¨hashä½†æ˜¯è¿˜æ˜¯æ²¡æƒ³åˆ°ï¼Œæ€»å…±æœ‰8ä¸ªç›‘ç‹±ï¼Œé¦–ä½è‚¯å®šæ˜¯0ï¼Œé‚£ä¹ˆè¿˜æœ‰6ä¸ªï¼Œ6ä¸ªç›‘ç‹±ä¸€å…±æœ‰å¤šå°‘ç§æƒ…å†µå‘¢ï¼Œ2**6ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€å¤šè¿™äº›å¤©å½¢æˆä¸€ç§å¾ªç¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">prisonAfterNDays</span><span class=\"params\">(self, cells: List[int], N: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    seen = &#123;str(cells): N&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> N:</span><br><span class=\"line\">        seen[str(cells)] = N</span><br><span class=\"line\">        N -= <span class=\"number\">1</span></span><br><span class=\"line\">        cells = [<span class=\"number\">0</span>] + [cells[i - <span class=\"number\">1</span>] ^ cells[i + <span class=\"number\">1</span>] ^ <span class=\"number\">1</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">7</span>)] + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> str(cells) <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            N %= seen[str(cells)] - N</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cells</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeå‘ç°äº†è§„å¾‹ï¼Œæœ‰ä¸‰ä¸ªæƒ…å†µä¸€ç§æ˜¯1ï¼Œ7ï¼Œ14çš„æ—¶å€™å¾ªç¯ã€‚é‚£ä¹ˆï¼Œæ¯14æ¬¡è¿›è¡Œä¸€æ¬¡å¾ªç¯ã€‚ä½†æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œå–ä½™ï¼Œå› ä¸ºå½“è¿‡äº†ä¸€å¤©ï¼Œæ‰ä¼šè¿›å…¥14å¤©å¾ªç¯ä¸­çš„ä¸€å¤©ï¼Œæ‰€ä»¥å¦‚æœå½“Nèƒ½è¢«14æ•´é™¤æ—¶ï¼Œå¹¶ä¸”é¦–ä½ä¸ä¸º0ï¼Œé‚£ä¹ˆå®é™…ä¸Šä»–éœ€è¦è¿›è¡Œå˜æ¢ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">prisonAfterNDays</span><span class=\"params\">(self, cells: List[int], N: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    N -= max(N - <span class=\"number\">1</span>, <span class=\"number\">0</span>) // <span class=\"number\">14</span> * <span class=\"number\">14</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        cells = [<span class=\"number\">0</span>] + [cells[i - <span class=\"number\">1</span>] ^ cells[i + <span class=\"number\">1</span>] ^ <span class=\"number\">1</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">7</span>)] + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cells</span><br></pre></td></tr></table></figure>\n<h3 id=\"1546-Maximum-Number-of-Non-Overlapping-Subarrays-With-Sum-Equals-Target\"><a href=\"#1546-Maximum-Number-of-Non-Overlapping-Subarrays-With-Sum-Equals-Target\" class=\"headerlink\" title=\"1546. Maximum Number of Non-Overlapping Subarrays With Sum Equals Target\"></a>1546. Maximum Number of Non-Overlapping Subarrays With Sum Equals Target</h3><h4 id=\"å’Œä¸ºç›®æ ‡å€¼çš„å­æ•°ç»„æœ€å¤šæœ‰å¤šå°‘ä¸ªï¼Œå­æ•°ç»„ä¸èƒ½é‡å¤ã€‚åŸé¢˜\"><a href=\"#å’Œä¸ºç›®æ ‡å€¼çš„å­æ•°ç»„æœ€å¤šæœ‰å¤šå°‘ä¸ªï¼Œå­æ•°ç»„ä¸èƒ½é‡å¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸ºç›®æ ‡å€¼çš„å­æ•°ç»„æœ€å¤šæœ‰å¤šå°‘ä¸ªï¼Œå­æ•°ç»„ä¸èƒ½é‡å¤ã€‚åŸé¢˜\"></a>å’Œä¸ºç›®æ ‡å€¼çš„å­æ•°ç»„æœ€å¤šæœ‰å¤šå°‘ä¸ªï¼Œå­æ•°ç»„ä¸èƒ½é‡å¤ã€‚<a href=\"https://leetcode.com/problems/maximum-number-of-non-overlapping-subarrays-with-sum-equals-target/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,1,1,1,1], target &#x3D; 2</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: There are 2 non-overlapping subarrays [1,1,1,1,1] with sum equals to target(2).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¢˜ç›®åˆ†ç±»ä¸ºdpã€‚ä½†æˆ‘æ„Ÿè§‰æ›´é€‚åˆå“ˆå¸Œï¼Œæ¯”èµ›çš„æ—¶å€™æƒ³åˆ°äº†ä¸€ä¸‹TwoSumçš„æ€è·¯ï¼Œä½†æ˜¯é‡ç½®seenä¸ºç©ºé‚£æ­¥æ²¡æƒ³åˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxNonOverlapping</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class=\"line\">    acc = [<span class=\"number\">0</span>] + list(itertools.accumulate(nums))</span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> pre_sum <span class=\"keyword\">in</span> acc:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> pre_sum - target <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            seen = set()</span><br><span class=\"line\">        seen.add(pre_sum)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1577-Number-of-Ways-Where-Square-of-Number-Is-Equal-to-Product-of-Two-Numbers\"><a href=\"#1577-Number-of-Ways-Where-Square-of-Number-Is-Equal-to-Product-of-Two-Numbers\" class=\"headerlink\" title=\"1577. Number of Ways Where Square of Number Is Equal to Product of Two Numbers\"></a>1577. Number of Ways Where Square of Number Is Equal to Product of Two Numbers</h3><h4 id=\"æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ ä¹˜ç§¯ç­‰äºå¦ä¸€ä¸ªæ•°ç»„çš„å¹³æ–¹ï¼Œæ±‚æ€»å…±çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ ä¹˜ç§¯ç­‰äºå¦ä¸€ä¸ªæ•°ç»„çš„å¹³æ–¹ï¼Œæ±‚æ€»å…±çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ ä¹˜ç§¯ç­‰äºå¦ä¸€ä¸ªæ•°ç»„çš„å¹³æ–¹ï¼Œæ±‚æ€»å…±çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ ä¹˜ç§¯ç­‰äºå¦ä¸€ä¸ªæ•°ç»„çš„å¹³æ–¹ï¼Œæ±‚æ€»å…±çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-ways-where-square-of-number-is-equal-to-product-of-two-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums1 &#x3D; [7,7,8,3], nums2 &#x3D; [1,2,9,7]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: There are 2 valid triplets.</span><br><span class=\"line\">Type 1: (3,0,2).  nums1[3]^2 &#x3D; nums2[0] * nums2[2].</span><br><span class=\"line\">Type 2: (3,0,1).  nums2[3]^2 &#x3D; nums1[0] * nums1[1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æƒ³å¤æ‚äº†ï¼Œä½†è¿˜æ˜¯åšå‡ºæ¥äº†ã€‚æ¯”èµ›æ—¶æƒ³çš„æ˜¯CounteråŸæ•°ç»„ï¼Œæ ¹æ®å¹³æ–¹æ‰¾å€¼ã€‚å®é™…ä¸Šé€šè¿‡combineæ–¹æ³•å¯ä»¥åè¿‡æ¥ç®—ç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTriplets</span><span class=\"params\">(self, nums1: List[int], nums2: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    c1 = Counter(n**<span class=\"number\">2</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums1)</span><br><span class=\"line\">    c2 = Counter(n**<span class=\"number\">2</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums2)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> itertools.combinations(nums1, <span class=\"number\">2</span>):</span><br><span class=\"line\">        ans += c2[x*y]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> itertools.combinations(nums2, <span class=\"number\">2</span>):</span><br><span class=\"line\">        ans += c1[x*y]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"916-Word-Subsets\"><a href=\"#916-Word-Subsets\" class=\"headerlink\" title=\"916. Word Subsets\"></a>916. Word Subsets</h3><h4 id=\"ç»™ä¸¤ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›Aä¸­æ»¡è¶³è¿™æ ·æ¡ä»¶çš„å•è¯ï¼šBä¸­çš„æ‰€æœ‰å•è¯éƒ½æ˜¯æ­¤å•è¯çš„å­é›†ã€‚åŸé¢˜\"><a href=\"#ç»™ä¸¤ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›Aä¸­æ»¡è¶³è¿™æ ·æ¡ä»¶çš„å•è¯ï¼šBä¸­çš„æ‰€æœ‰å•è¯éƒ½æ˜¯æ­¤å•è¯çš„å­é›†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä¸¤ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›Aä¸­æ»¡è¶³è¿™æ ·æ¡ä»¶çš„å•è¯ï¼šBä¸­çš„æ‰€æœ‰å•è¯éƒ½æ˜¯æ­¤å•è¯çš„å­é›†ã€‚åŸé¢˜\"></a>ç»™ä¸¤ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›Aä¸­æ»¡è¶³è¿™æ ·æ¡ä»¶çš„å•è¯ï¼šBä¸­çš„æ‰€æœ‰å•è¯éƒ½æ˜¯æ­¤å•è¯çš„å­é›†ã€‚<a href=\"https://leetcode.com/problems/word-subsets/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [&quot;amazon&quot;,&quot;apple&quot;,&quot;facebook&quot;,&quot;google&quot;,&quot;leetcode&quot;], B &#x3D; [&quot;e&quot;,&quot;oo&quot;]</span><br><span class=\"line\">Output: [&quot;facebook&quot;,&quot;google&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šCounter æ¯”è¾ƒç®€å•ã€‚æ•ˆç‡ä¸å’‹é«˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordSubsets</span><span class=\"params\">(self, A: List[str], B: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    c_a = [Counter(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> A]</span><br><span class=\"line\">    c_b = reduce(operator.or_, [Counter(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> B])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [word <span class=\"keyword\">for</span> i, word <span class=\"keyword\">in</span> enumerate(A) <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> c_b-c_a[i]]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸€çš„åŸºç¡€ä¸Šæ”¹è¿›ã€‚&amp; æ¯”è¾ƒè²Œä¼¼å¿«ä¸€ä¸¢ä¸¢ï¼Ÿ</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordSubsets</span><span class=\"params\">(self, A: List[str], B: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    c_b = reduce(operator.or_, (Counter(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> B))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> c_b &amp; Counter(a) == c_b]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šç›´æ¥æŸ¥å­—ç¬¦ä¼šæ¯”è¾ƒå¿«ã€‚å¿«äº†ä¸€å€å·¦å³</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordSubsets</span><span class=\"params\">(self, A: List[str], B: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    subset = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> B:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> b:</span><br><span class=\"line\">            subset[char] = max(subset.get(char, <span class=\"number\">0</span>), b.count(char))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> all(a.count(c) &gt;= subset[c] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> subset.keys())]</span><br></pre></td></tr></table></figure>\n<h3 id=\"974-Subarray-Sums-Divisible-by-K\"><a href=\"#974-Subarray-Sums-Divisible-by-K\" class=\"headerlink\" title=\"974. Subarray Sums Divisible by K\"></a>974. Subarray Sums Divisible by K</h3><h4 id=\"è¿ç»­çš„å­æ•°ç»„çš„å’Œèƒ½è¢«Kæ•´é™¤çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#è¿ç»­çš„å­æ•°ç»„çš„å’Œèƒ½è¢«Kæ•´é™¤çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿ç»­çš„å­æ•°ç»„çš„å’Œèƒ½è¢«Kæ•´é™¤çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>è¿ç»­çš„å­æ•°ç»„çš„å’Œèƒ½è¢«Kæ•´é™¤çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/subarray-sums-divisible-by-k/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [4,5,0,-2,-3,1], K &#x3D; 5</span><br><span class=\"line\">Output: 7</span><br><span class=\"line\">Explanation: There are 7 subarrays with a sum divisible by K &#x3D; 5:</span><br><span class=\"line\">[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æ²¡æœ‰åœ¨è§„å®šæ—¶é—´å†…å®Œæˆï¼Œæ­¤ç­”æ¡ˆå‚è€ƒäº†æ’åç¬¬ä¸€çš„å¤§ä½¬ï¼Œç„¶åä½¿ç”¨<code>defaultdict</code>è¿›è¡Œäº†æ”¹è¿›ã€‚</p>\n<p><a href=\"https://www.geeksforgeeks.org/count-sub-arrays-sum-divisible-k/\" target=\"_blank\" rel=\"noopener\">è¿™é‡Œ</a>æœ‰ä¸€ä¸ªè¯¦ç»†çš„è§£ç­”ã€‚ä¸è¿‡é‚£é‡Œç»™å‡ºçš„ç­”æ¡ˆæ²¡æœ‰è¿™ä¸ªç®€å•ï¼Œä¸è¿‡æ€è·¯å¤§ä½“ç›¸åŒã€‚</p>\n<p>å‡è®¾é€šè¿‡<code>sum(i, j)</code>è¡¨ç¤ºåˆ‡ç‰‡[i: j]çš„æ€»å’Œï¼Œå¦‚æœ<code>sum(i, j)</code>èƒ½è¢«Kæ•´é™¤ï¼Œåˆ™è¯´æ˜<code>sum(0, j) - sum(0, i)</code>ä¹Ÿèƒ½è¢«Kæ•´é™¤ï¼Œå³å¯¹<code>sum(0, j) % K == sum(0, i) % K</code>ã€‚ä¸‹é¢çš„è§£æ³•ä½¿ç”¨ä¸€ä¸ªå­—å…¸è®°å½•äº†ä½™æ•°çš„ä¸ªæ•°ã€‚<strong>å½“ä½™æ•°ç¬¬äºŒæ¬¡å‡ºç°çš„æ—¶å€™ï¼Œå¼€å§‹è®¡æ•°ï¼Œä½†0çš„æ—¶å€™é™¤å¤–ï¼Œå› ä¸ºæ•´é™¤äº†å°±äº§ç”Ÿç»“æœäº†ã€‚</strong></p>\n<p>ç„¶åå†çœ‹ç´¯åŠ çš„æ–¹æ³•ä»¥ä¸‹æ–‡ç¬¬3è¡Œlogä¸ºä¾‹ï¼Œmodåˆä¸º4ï¼Œè¿™æ—¶å®ƒå’Œä¹‹å‰ä½™æ•°ä¸º4çš„çš„æ•°ç»„éƒ½å¯ä»¥äº§ç”Ÿä¸€ä¸ªç»“æœå³<code>[4, 5, 0] - [4] = [5, 0]</code> å’Œ<code>[4 , 5, 0] - [4, 5] = [0]</code>æ‰€ä»¥è¦ç´¯åŠ åŸæ¥çš„å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subarraysDivByK</span><span class=\"params\">(self, A, K)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    m = defaultdict(int)</span><br><span class=\"line\">    m[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    total, ans = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        total += num</span><br><span class=\"line\">        sum_p = total % K</span><br><span class=\"line\">        ans += m[sum_p]</span><br><span class=\"line\">        m[sum_p] += <span class=\"number\">1</span></span><br><span class=\"line\">        print(<span class=\"string\">'sum subarray &#123;&#125; total is &#123;&#125;,  mod is &#123;&#125;,  ans is &#123;&#125;,  &#123;&#125;'</span>.format(</span><br><span class=\"line\">            A[:i+<span class=\"number\">1</span>], total, sum_p, ans, m</span><br><span class=\"line\">        ))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sum subarray [4] total is 4,  mod is 4,  ans is 0,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 1, 4: 1&#125;)</span><br><span class=\"line\">sum subarray [4, 5] total is 9,  mod is 4,  ans is 1,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 1, 4: 2&#125;)</span><br><span class=\"line\">sum subarray [4, 5, 0] total is 9,  mod is 4,  ans is 3,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 1, 4: 3&#125;)</span><br><span class=\"line\">sum subarray [4, 5, 0, -2] total is 7,  mod is 2,  ans is 3,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 1, 4: 3, 2: 1&#125;)</span><br><span class=\"line\">sum subarray [4, 5, 0, -2, -3] total is 4,  mod is 4,  ans is 6,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 1, 4: 4, 2: 1&#125;)</span><br><span class=\"line\">sum subarray [4, 5, 0, -2, -3, 1] total is 5,  mod is 0,  ans is 7,  defaultdict(&lt;class &#39;int&#39;&gt;, &#123;0: 2, 4: 4, 2: 1&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1590-Make-Sum-Divisible-by-P\"><a href=\"#1590-Make-Sum-Divisible-by-P\" class=\"headerlink\" title=\"1590. Make Sum Divisible by P\"></a><a href=\"https://leetcode.com/problems/make-sum-divisible-by-p/\" target=\"_blank\" rel=\"noopener\">1590. Make Sum Divisible by P</a></h3><h4 id=\"åˆ é™¤æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—æ•´ä¸ªæ•°ç»„å’Œèƒ½è¢«Pæ•´é™¤ã€‚\"><a href=\"#åˆ é™¤æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—æ•´ä¸ªæ•°ç»„å’Œèƒ½è¢«Pæ•´é™¤ã€‚\" class=\"headerlink\" title=\"åˆ é™¤æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—æ•´ä¸ªæ•°ç»„å’Œèƒ½è¢«Pæ•´é™¤ã€‚\"></a>åˆ é™¤æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œä½¿å¾—æ•´ä¸ªæ•°ç»„å’Œèƒ½è¢«Pæ•´é™¤ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ä½œä¸ºç«èµ›ç¬¬ä¸‰é¢˜ï¼Œæ¯”äºŒé¢˜ç®€å•ï¼Œä½†æ˜¯ç«èµ›çš„æ—¶å€™æ²¡æœ‰åšã€‚é¦–å…ˆå¯ä»¥ç”¨æ€»å’Œ%pçœ‹ä½™å‡ ï¼Œç„¶åå°±æ˜¯æ‰¾åˆ°æœ€å°çš„å­æ•°ç»„èƒ½è®©ä½™æ•°ç­‰äºè¿™ä¸ªï¼Œå°±æŠŠè¿™ä¸ªåˆ é™¤ï¼Œè¿™ä¸€ç‚¹å¾ˆå¥½æƒ³ã€‚å‰©ä¸‹çš„å’Œ974ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSubarray</span><span class=\"params\">(self, nums: List[int], p: int)</span> -&gt; int:</span></span><br><span class=\"line\">    m = sum(nums) % p</span><br><span class=\"line\">    dp = &#123;<span class=\"number\">0</span>: <span class=\"number\">-1</span>&#125;</span><br><span class=\"line\">    mod = <span class=\"number\">0</span></span><br><span class=\"line\">    ans = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        mod = (mod+a) % p</span><br><span class=\"line\">        dp[mod] = i</span><br><span class=\"line\">        want = (mod-m) % p</span><br><span class=\"line\">        <span class=\"keyword\">if</span> want <span class=\"keyword\">in</span> dp:</span><br><span class=\"line\">            ans = min(ans, i-dp[want])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> ans &lt; len(nums) <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"692-Top-K-Frequent-Words\"><a href=\"#692-Top-K-Frequent-Words\" class=\"headerlink\" title=\"692. Top K Frequent Words\"></a><a href=\"https://leetcode.com/problems/top-k-frequent-words/\" target=\"_blank\" rel=\"noopener\">692. Top K Frequent Words</a></h3><h4 id=\"æœ€é«˜é¢‘çš„Kä¸ªå•è¯ï¼Œç›¸åŒé¢‘ç‡ï¼Œä¼˜å…ˆè¿”å›å­—ç¬¦é¡ºåºä¼˜å…ˆã€‚\"><a href=\"#æœ€é«˜é¢‘çš„Kä¸ªå•è¯ï¼Œç›¸åŒé¢‘ç‡ï¼Œä¼˜å…ˆè¿”å›å­—ç¬¦é¡ºåºä¼˜å…ˆã€‚\" class=\"headerlink\" title=\"æœ€é«˜é¢‘çš„Kä¸ªå•è¯ï¼Œç›¸åŒé¢‘ç‡ï¼Œä¼˜å…ˆè¿”å›å­—ç¬¦é¡ºåºä¼˜å…ˆã€‚\"></a>æœ€é«˜é¢‘çš„Kä¸ªå•è¯ï¼Œç›¸åŒé¢‘ç‡ï¼Œä¼˜å…ˆè¿”å›å­—ç¬¦é¡ºåºä¼˜å…ˆã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;i&quot;, &quot;love&quot;, &quot;leetcode&quot;, &quot;i&quot;, &quot;love&quot;, &quot;coding&quot;], k &#x3D; 2</span><br><span class=\"line\">Output: [&quot;i&quot;, &quot;love&quot;]</span><br><span class=\"line\">Explanation: &quot;i&quot; and &quot;love&quot; are the two most frequent words.</span><br><span class=\"line\">    Note that &quot;i&quot; comes before &quot;love&quot; due to a lower alphabetical order.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè®°å½•å†™æ³•ï¼Œnsmallest ä¹Ÿèƒ½æ¥å—keyå‡½æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">topKFrequent</span><span class=\"params\">(self, words: List[str], k: int)</span> -&gt; List[str]:</span>  </span><br><span class=\"line\">    c = Counter(words)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [w <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> heapq.nsmallest(k, c.keys(), key=<span class=\"keyword\">lambda</span> x: (-c[x], x))]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1399-Count-Largest-Group\"><a href=\"#1399-Count-Largest-Group\" class=\"headerlink\" title=\"1399. Count Largest Group\"></a>1399. Count Largest Group</h3><h4 id=\"ä»¥æ•°å­—å’Œä¸ºåˆ†ç»„ï¼Œæ±‚æœ€å¤§ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#ä»¥æ•°å­—å’Œä¸ºåˆ†ç»„ï¼Œæ±‚æœ€å¤§ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä»¥æ•°å­—å’Œä¸ºåˆ†ç»„ï¼Œæ±‚æœ€å¤§ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>ä»¥æ•°å­—å’Œä¸ºåˆ†ç»„ï¼Œæ±‚æœ€å¤§ç»„çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/count-largest-group/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 13</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: There are 9 groups in total, they are grouped according sum of its digits of numbers from 1 to 13:</span><br><span class=\"line\">[1,10], [2,11], [3,12], [4,13], [5], [6], [7], [8], [9]. There are 4 groups with largest size</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šCounter</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countLargestGroup</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        c[sum(int(d) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> str(i))] += <span class=\"number\">1</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    largest_size = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> s, cnt <span class=\"keyword\">in</span> c.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> largest_size!=<span class=\"number\">0</span> <span class=\"keyword\">and</span> cnt!=largest_size:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            largest_size = cnt</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ ‡å‡†åº“ã€‚<code>statistics.multimode</code>è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countLargestGroup</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> statistics</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(statistics.multimode(sum(map(int, str(d))) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1394-Find-Lucky-Integer-in-an-Array\"><a href=\"#1394-Find-Lucky-Integer-in-an-Array\" class=\"headerlink\" title=\"1394. Find Lucky Integer in an Array\"></a>1394. Find Lucky Integer in an Array</h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­æ•°å­—å’Œå‡ºç°æ¬¡æ•°ä¸€è‡´çš„æœ€å¤§çš„æ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­æ•°å­—å’Œå‡ºç°æ¬¡æ•°ä¸€è‡´çš„æœ€å¤§çš„æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­æ•°å­—å’Œå‡ºç°æ¬¡æ•°ä¸€è‡´çš„æœ€å¤§çš„æ•°ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ•°ç»„ä¸­æ•°å­—å’Œå‡ºç°æ¬¡æ•°ä¸€è‡´çš„æœ€å¤§çš„æ•°ã€‚<a href=\"https://leetcode.com/problems/find-lucky-integer-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [2,2,3,4]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The only lucky number in the array is 2 because frequency[2] &#x3D;&#x3D; 2.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLucky</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(arr)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d, f <span class=\"keyword\">in</span> c.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d == f:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1128-Number-of-Equivalent-Domino-Pairs\"><a href=\"#1128-Number-of-Equivalent-Domino-Pairs\" class=\"headerlink\" title=\"1128. Number of Equivalent Domino Pairs\"></a>1128. Number of Equivalent Domino Pairs</h3><h4 id=\"ç›¸ç­‰çš„å¤šç±³è¯ºéª¨ç‰Œå¯¹æ•°ã€‚åŸé¢˜\"><a href=\"#ç›¸ç­‰çš„å¤šç±³è¯ºéª¨ç‰Œå¯¹æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç›¸ç­‰çš„å¤šç±³è¯ºéª¨ç‰Œå¯¹æ•°ã€‚åŸé¢˜\"></a>ç›¸ç­‰çš„å¤šç±³è¯ºéª¨ç‰Œå¯¹æ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-equivalent-domino-pairs/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæŠŠç‰Œç¿»è½¬æˆä¸€æ ·çš„ï¼Œç„¶åç»„åˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numEquivDominoPairs</span><span class=\"params\">(self, dominoes: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    dominoes = collections.Counter(tuple(sorted(d)) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> dominoes)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(v*(v<span class=\"number\">-1</span>)//<span class=\"number\">2</span> <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> dominoes.values())</span><br></pre></td></tr></table></figure>\n<h3 id=\"1002-Find-Common-Characters\"><a href=\"#1002-Find-Common-Characters\" class=\"headerlink\" title=\"1002. Find Common Characters\"></a>1002. Find Common Characters</h3><h4 id=\"åœ¨ç»™å®šçš„å•è¯åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å…±å­—ç¬¦ã€‚åŸé¢˜\"><a href=\"#åœ¨ç»™å®šçš„å•è¯åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å…±å­—ç¬¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨ç»™å®šçš„å•è¯åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å…±å­—ç¬¦ã€‚åŸé¢˜\"></a>åœ¨ç»™å®šçš„å•è¯åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å…±å­—ç¬¦ã€‚<a href=\"https://leetcode.com/problems/find-common-characters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;bella&quot;,&quot;label&quot;,&quot;roller&quot;]</span><br><span class=\"line\">Output: [&quot;e&quot;,&quot;l&quot;,&quot;l&quot;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">commonChars</span><span class=\"params\">(self, A: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(reduce(and_, map(Counter, A)).elements())</span><br></pre></td></tr></table></figure>\n<h3 id=\"697-Degree-of-an-Array\"><a href=\"#697-Degree-of-an-Array\" class=\"headerlink\" title=\"697. Degree of an Array\"></a>697. Degree of an Array</h3><h4 id=\"degreeè¿™é‡Œè¡¨ç¤ºæ•°ç»„æœ€å¸¸è§çš„å…ƒç´ çš„é¢‘ç‡ï¼Œç„¶ååœ¨è¿ç»­çš„å­æ•°ç»„ä¸­å¯»æ‰¾åŒæ ·çš„degreeï¼Œæ±‚æœ€å°å­æ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#degreeè¿™é‡Œè¡¨ç¤ºæ•°ç»„æœ€å¸¸è§çš„å…ƒç´ çš„é¢‘ç‡ï¼Œç„¶ååœ¨è¿ç»­çš„å­æ•°ç»„ä¸­å¯»æ‰¾åŒæ ·çš„degreeï¼Œæ±‚æœ€å°å­æ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"degreeè¿™é‡Œè¡¨ç¤ºæ•°ç»„æœ€å¸¸è§çš„å…ƒç´ çš„é¢‘ç‡ï¼Œç„¶ååœ¨è¿ç»­çš„å­æ•°ç»„ä¸­å¯»æ‰¾åŒæ ·çš„degreeï¼Œæ±‚æœ€å°å­æ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\"></a>degreeè¿™é‡Œè¡¨ç¤ºæ•°ç»„æœ€å¸¸è§çš„å…ƒç´ çš„é¢‘ç‡ï¼Œç„¶ååœ¨è¿ç»­çš„å­æ•°ç»„ä¸­å¯»æ‰¾åŒæ ·çš„degreeï¼Œæ±‚æœ€å°å­æ•°ç»„çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/degree-of-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1, 2, 2, 3, 1]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The input array has a degree of 2 because both elements 1 and 2 appear twice.</span><br><span class=\"line\">Of the subarrays that have the same degree:</span><br><span class=\"line\">[1, 2, 2, 3, 1], [1, 2, 2, 3], [2, 2, 3, 1], [1, 2, 2], [2, 2, 3], [2, 2]</span><br><span class=\"line\">The shortest length is 2. So return 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨Counter å’Œindex. 600msæœ‰ç‚¹æ…¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findShortestSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    degree = <span class=\"literal\">None</span></span><br><span class=\"line\">    res = n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> degree <span class=\"keyword\">and</span> count != degree:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        min_len = n - nums[::<span class=\"number\">-1</span>].index(num) - <span class=\"number\">1</span> - nums.index(num) + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># print(min_len, num)</span></span><br><span class=\"line\">        res = min(res, min_len)</span><br><span class=\"line\">        degree = count</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨dictè®°å½•ç´¢å¼•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findShortestSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    c = collections.defaultdict(int)</span><br><span class=\"line\">    left, right = &#123;&#125;, &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> left:</span><br><span class=\"line\">            left[num] = i</span><br><span class=\"line\">        right[num] = i</span><br><span class=\"line\">        c[num] += <span class=\"number\">1</span></span><br><span class=\"line\">    res = len(nums)</span><br><span class=\"line\">    degree = max(c.values())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.items():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> count == degree:</span><br><span class=\"line\">            res = min(res, right[num]-left[num]+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Counter + dict. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findShortestSubArray</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    c = collections.Counter(nums)</span><br><span class=\"line\">    left, right = &#123;&#125;, &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> left:</span><br><span class=\"line\">            left[num] = i</span><br><span class=\"line\">        right[num] = i</span><br><span class=\"line\">    degree, res = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> degree <span class=\"keyword\">and</span> count != degree:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        res = min(res, right[num]-left[num]+<span class=\"number\">1</span>)</span><br><span class=\"line\">        degree = count</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"187-Repeated-DNA-Sequences\"><a href=\"#187-Repeated-DNA-Sequences\" class=\"headerlink\" title=\"187. Repeated DNA Sequences\"></a><a href=\"https://leetcode-cn.com/problems/repeated-dna-sequences/\" target=\"_blank\" rel=\"noopener\">187. Repeated DNA Sequences</a></h3><h4 id=\"æ‰¾å‡ºå‡ºç°ä¸¤æ¬¡ä»¥ä¸Šçš„DNAè¿ç»­åºåˆ—ï¼Œåºåˆ—é•¿åº¦ä¸º10ã€‚\"><a href=\"#æ‰¾å‡ºå‡ºç°ä¸¤æ¬¡ä»¥ä¸Šçš„DNAè¿ç»­åºåˆ—ï¼Œåºåˆ—é•¿åº¦ä¸º10ã€‚\" class=\"headerlink\" title=\"æ‰¾å‡ºå‡ºç°ä¸¤æ¬¡ä»¥ä¸Šçš„DNAè¿ç»­åºåˆ—ï¼Œåºåˆ—é•¿åº¦ä¸º10ã€‚\"></a>æ‰¾å‡ºå‡ºç°ä¸¤æ¬¡ä»¥ä¸Šçš„DNAè¿ç»­åºåˆ—ï¼Œåºåˆ—é•¿åº¦ä¸º10ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT&quot;</span><br><span class=\"line\">Output: [&quot;AAAAACCCCC&quot;,&quot;CCCCCAAAAA&quot;]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç®€å•æ–¹æ³•ç”¨æ»‘åŠ¨çª—å£åŠ counterå°±è¡Œäº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRepeatedDnaSequences</span><span class=\"params\">(self, s: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">        c = Counter(s[i:i+<span class=\"number\">10</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)<span class=\"number\">-9</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [k <span class=\"keyword\">for</span> k, cnt <span class=\"keyword\">in</span> c.items() <span class=\"keyword\">if</span> cnt &gt; <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ­¤é¢˜æœ‰ä¸ªä½è¿ç®—çš„æ ‡ç­¾ï¼Œæ‰€ä»¥è¯•äº†ä¸€ä¸‹ï¼Œå°†DNAåºåˆ—ç¼–ç ä¸ºäºŒè¿›åˆ¶çš„å½¢å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRepeatedDnaSequences</span><span class=\"params\">(self, s: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    d = dict(zip(<span class=\"string\">'ACGT'</span>, range(<span class=\"number\">4</span>)))</span><br><span class=\"line\">    dd = &#123;v: k <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> d.items()&#125;</span><br><span class=\"line\">    dna = reduce(<span class=\"keyword\">lambda</span> x, y: x&lt;&lt;<span class=\"number\">2</span> | d[y], s[:<span class=\"number\">10</span>], <span class=\"number\">0</span>)</span><br><span class=\"line\">    cnt = Counter([dna])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(islice(s, <span class=\"number\">10</span>, <span class=\"literal\">None</span>)):</span><br><span class=\"line\">        dna &lt;&lt;= <span class=\"number\">2</span></span><br><span class=\"line\">        dna &amp;= (<span class=\"number\">1</span>&lt;&lt;<span class=\"number\">20</span>)<span class=\"number\">-1</span>    <span class=\"comment\"># å–å‡ºå¤šä½™çš„é«˜ä½</span></span><br><span class=\"line\">        dna |= d[c]</span><br><span class=\"line\">        cnt[dna] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decode</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        s = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">10</span>):</span><br><span class=\"line\">            s += dd[n % <span class=\"number\">4</span>]</span><br><span class=\"line\">            n &gt;&gt;= <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> s[::<span class=\"number\">-1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [decode(n) <span class=\"keyword\">for</span> n, c <span class=\"keyword\">in</span> cnt.items() <span class=\"keyword\">if</span> c &gt; <span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1658-Minimum-Operations-to-Reduce-X-to-Zero\"><a href=\"#1658-Minimum-Operations-to-Reduce-X-to-Zero\" class=\"headerlink\" title=\"1658. Minimum Operations to Reduce X to Zero\"></a><a href=\"https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero/\" target=\"_blank\" rel=\"noopener\">1658. Minimum Operations to Reduce X to Zero</a></h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡æ•°xï¼Œæ¯æ¬¡å¯ä»¥å°†x-æ•°ç»„ä¸¤è¾¹çš„æŸä¸ªæ•°ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥å¯ä»¥å°†xå˜ä¸º0ã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡æ•°xï¼Œæ¯æ¬¡å¯ä»¥å°†x-æ•°ç»„ä¸¤è¾¹çš„æŸä¸ªæ•°ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥å¯ä»¥å°†xå˜ä¸º0ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡æ•°xï¼Œæ¯æ¬¡å¯ä»¥å°†x-æ•°ç»„ä¸¤è¾¹çš„æŸä¸ªæ•°ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥å¯ä»¥å°†xå˜ä¸º0ã€‚\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡æ•°xï¼Œæ¯æ¬¡å¯ä»¥å°†x-æ•°ç»„ä¸¤è¾¹çš„æŸä¸ªæ•°ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥å¯ä»¥å°†xå˜ä¸º0ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,1,4,2,3], x &#x3D; 5</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The optimal solution is to remove the last two elements to reduce x to zero.</span><br><span class=\"line\">Input: nums &#x3D; [3,2,20,1,1,3], x &#x3D; 10</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: The optimal solution is to remove the last three elements and the first two elements (5 operations in total) to reduce x to zero.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå˜é•¿æ»‘åŠ¨çª—å£ã€‚æ¯”èµ›æ—¶æ²¡æœ‰åšå‡ºæ¥ï¼Œæƒ³æˆBFSäº†ï¼Œç»“æœè¶…æ—¶ã€‚è¿™é¢˜å’Œ1423å¾ˆåƒï¼Œé‚£é¢˜æ˜¯å®šé•¿çš„æ»‘åŠ¨çª—å£ï¼Œæ­¤é¢˜å¯ä»¥è½¬åŒ–ä¸ºï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€é•¿çš„çª—å£ä½¿å¾—çª—å£å€¼çš„å’Œç­‰äºæ€»å’Œ-xã€‚1200ms.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperations</span><span class=\"params\">(self, nums: List[int], x: int)</span> -&gt; int:</span></span><br><span class=\"line\">    target = sum(nums) - x</span><br><span class=\"line\">    lo, N = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">    cur_sum, res = <span class=\"number\">0</span>, <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> hi, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        cur_sum += num</span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo+<span class=\"number\">1</span>&lt;N <span class=\"keyword\">and</span> cur_sum&gt;target:</span><br><span class=\"line\">            cur_sum -= nums[lo]</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_sum == target:</span><br><span class=\"line\">            res = max(res, hi-lo+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res <span class=\"keyword\">if</span> res&lt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> N-res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå‰ç¼€å’Œ+å­—å…¸ï¼Œè¿™ä¸ªå†™æ³•æ¯”è¾ƒä¼˜é›…ï¼Œä½†æ˜¯æ¯”è¾ƒéš¾æƒ³ã€‚<code>i</code>è¡¨ç¤ºä»å³è¾¹å‡å»çš„æ•°å­—ï¼Œ<code>mp[x]</code>è¡¨ç¤ºä»å·¦è¾¹å‡å»çš„æ•°å­—ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperations</span><span class=\"params\">(self, nums: List[int], x: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mp = &#123;<span class=\"number\">0</span>: <span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    prefix = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums, <span class=\"number\">1</span>): </span><br><span class=\"line\">        prefix += num</span><br><span class=\"line\">        mp[prefix] = i </span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = mp.get(x, inf)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(reversed(nums), <span class=\"number\">1</span>): </span><br><span class=\"line\">        x -= num</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x <span class=\"keyword\">in</span> mp <span class=\"keyword\">and</span> mp[x] + i &lt;= len(nums): </span><br><span class=\"line\">            ans = min(ans, i + mp[x])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> ans &lt; inf <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","HashTable"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆä½è¿ç®—ç¯‡ï¼‰Bit Manipulation","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation/","content":"<h3 id=\"191-Number-of-1-Bits\"><a href=\"#191-Number-of-1-Bits\" class=\"headerlink\" title=\"191. Number of 1 Bits\"></a>191. Number of 1 Bits</h3><h4 id=\"è®¡ç®—æ•°å­—çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ã€‚åŸé¢˜\"><a href=\"#è®¡ç®—æ•°å­—çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—æ•°å­—çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ã€‚åŸé¢˜\"></a>è®¡ç®—æ•°å­—çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ã€‚<a href=\"https://leetcode.com/problems/number-of-1-bits/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 11</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Integer 11 has binary representation 00000000000000000000000000001011</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„è§£æ³•ï¼Œä½¿ç”¨1ä¸nä½œä¸è¿ç®—ï¼Œå¦‚æœä¸æ˜¯0è¯´æ˜ï¼Œå«æœ‰ä¸€ä¸ª1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hamming_weight</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    bits, mask = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n&amp;mask != <span class=\"number\">0</span>:</span><br><span class=\"line\">            bits += <span class=\"number\">1</span></span><br><span class=\"line\">        mask &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> bits</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå…³é”®ç‚¹æ˜¯ï¼Œä¸€ä¸ªæ•°nå’Œn-1çš„ä¸è¿ç®—æ“ä½œï¼Œç›¸å½“äºå»æ‰äº†æœ€å³é¢çš„1ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hamming_weigth</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    bits = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        bits += <span class=\"number\">1</span></span><br><span class=\"line\">        n = (n<span class=\"number\">-1</span>) &amp; n</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bits</span><br></pre></td></tr></table></figure>\n<h3 id=\"136-Single-Number\"><a href=\"#136-Single-Number\" class=\"headerlink\" title=\"136. Single Number\"></a>136. Single Number</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ ã€‚å…¶å®ƒå…ƒç´ å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ ã€‚å…¶å®ƒå…ƒç´ å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ ã€‚å…¶å®ƒå…ƒç´ å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ ã€‚å…¶å®ƒå…ƒç´ å‡ºç°ä¸¤æ¬¡ã€‚<a href=\"https://leetcode.com/problems/single-number/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [4,1,2,1,2]</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">single_num</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(<span class=\"keyword\">lambda</span> x, y: x ^ y, nums)</span><br></pre></td></tr></table></figure>\n<h3 id=\"137-Single-Number-II\"><a href=\"#137-Single-Number-II\" class=\"headerlink\" title=\"137. Single Number II\"></a>137. Single Number II</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶å®ƒå…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶å®ƒå…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶å®ƒå…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶å®ƒå…ƒç´ å‡ºç°ä¸‰æ¬¡ã€‚<a href=\"https://leetcode.com/problems/single-number-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,2,3,2]</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ‰¾å‡ºå•ç‹¬å…ƒç´ æ¯ä¸€ä½çš„å€¼ã€‚å¦‚æœæŠŠæ‰€æœ‰æ•°å­—çš„äºŒè¿›åˆ¶æ¯ä¸€ä½åŠ èµ·æ¥ï¼Œå¦‚æœæŸä¸€ä½å¯ä»¥è¢«3æ•´é™¤ï¼Œåˆ™è¡¨ç¤ºå•ç‹¬å…ƒç´ çš„è¯¥ä½ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ä»¥ä¸‹ä½¿ç”¨<code>count</code>æ¥è¡¨ç¤ºæ¯ä¸€ä½<code>1</code>çš„ä¸ªæ•°ã€‚å‡è®¾<code>count%3!=0</code>ä¸ºTrueï¼Œè¯´æ˜è¯¥å…ƒç´ <code>i</code>ä½ä¸º1ï¼Œç„¶åæ˜¯ç”¨<code>|=</code>æ›´æ–°ansåœ¨ç¬¬<code>i</code>ä¸ªä½ç½®çš„å€¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>+=</code>ï¼Œä½†æ˜¯æ•ˆç‡ç¨æ…¢ã€‚<code>convert</code>çš„ä½œç”¨æ˜¯å› ä¸ºpythonä¸­çš„intæ˜¯ä¸ªå¯¹è±¡ï¼Œä¸”æ²¡æœ‰æœ€å¤§é™åˆ¶ï¼Œä¸æ˜¯åœ¨ç¬¬32ä½ä½¿ç”¨1æ¥è¡¨ç¤ºè´Ÿæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumber</span><span class=\"params\">(self, nums, n=<span class=\"number\">3</span>)</span>:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((num &gt;&gt; i) &amp; <span class=\"number\">1</span>):</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">        ans |= ((count%n!=<span class=\"number\">0</span>) &lt;&lt; i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.convert(ans)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convert</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> x &gt;= <span class=\"number\">2</span>**<span class=\"number\">31</span>:</span><br><span class=\"line\">        x -= <span class=\"number\">2</span>**<span class=\"number\">32</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œæœ‰ä¸ªçŠ¶æ€æœºçš„è§£æ³•ï¼Œä¸æ˜è§‰å‰ï¼Œç•™å‘ã€‚<a href=\"https://leetcode.com/problems/single-number-ii/discuss/43294/Challenge-me-thx?page=2\" target=\"_blank\" rel=\"noopener\">è®¨è®º1</a>å’Œ<a href=\"https://leetcode.com/problems/single-number-ii/discuss/43295/Detailed-explanation-and-generalization-of-the-bitwise-operation-method-for-single-numbers\" target=\"_blank\" rel=\"noopener\">è®¨è®º2</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumber</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ones, twos = <span class=\"number\">0</span>, <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        ones = (ones ^ nums[i]) &amp; ~twos</span><br><span class=\"line\">        twos = (twos ^ nums[i]) &amp; ~ones</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ones</span><br></pre></td></tr></table></figure>\n<h3 id=\"260-Single-Number-III\"><a href=\"#260-Single-Number-III\" class=\"headerlink\" title=\"260. Single Number III\"></a>260. Single Number III</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚<a href=\"https://leetcode.com/problems/single-number-iii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:  [1,2,1,3,2,5]</span><br><span class=\"line\">Output: [3,5]</span><br></pre></td></tr></table></figure>\n<p>æ€æƒ³ï¼šå°†è¿™ä¸¤ä¸ªå…ƒç´ åˆ†åˆ°ä¸¤ä¸ªç»„ï¼Œç”±äºè¿™ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥äº¦æˆ–ç»“æœä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´äºŒè¿›åˆ¶ä¸­è‡³å°‘æœ‰ä¸€ä½1ï¼Œè®°ä¸ºç¬¬nä½ã€‚æˆ‘ä»¬ä»¥ç¬¬nä½æ˜¯å¦ä¸º1ï¼ŒæŠŠæ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">singleNumber</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    total_xor = self.get_xor(nums)</span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> total_xor&amp;mask == <span class=\"number\">0</span>:</span><br><span class=\"line\">        mask &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    p1 = [num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;mask==<span class=\"number\">0</span>]</span><br><span class=\"line\">    p2 = [num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> num&amp;mask!=<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [self.get_xor(p1), self.get_xor(p2)]</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_xor</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(<span class=\"keyword\">lambda</span> x, y: x ^ y, nums)</span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢è¯•é¢˜-17-19-æ¶ˆå¤±çš„ä¸¤ä¸ªæ•°å­—\"><a href=\"#é¢è¯•é¢˜-17-19-æ¶ˆå¤±çš„ä¸¤ä¸ªæ•°å­—\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.19. æ¶ˆå¤±çš„ä¸¤ä¸ªæ•°å­—\"></a><a href=\"https://leetcode-cn.com/problems/missing-two-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.19. æ¶ˆå¤±çš„ä¸¤ä¸ªæ•°å­—</a></h4><h4 id=\"æ­¤é¢˜å’Œ260å¾ˆåƒï¼Œä¸åŒåœ¨äºæ˜¯ä»1-Næ¶ˆå¤±äº†ä¸¤ä¸ªæ•°å­—ã€‚è¦æ±‚åœ¨O-N-æ—¶é—´ï¼ŒO-1-ç©ºé—´å®ç°ã€‚\"><a href=\"#æ­¤é¢˜å’Œ260å¾ˆåƒï¼Œä¸åŒåœ¨äºæ˜¯ä»1-Næ¶ˆå¤±äº†ä¸¤ä¸ªæ•°å­—ã€‚è¦æ±‚åœ¨O-N-æ—¶é—´ï¼ŒO-1-ç©ºé—´å®ç°ã€‚\" class=\"headerlink\" title=\"æ­¤é¢˜å’Œ260å¾ˆåƒï¼Œä¸åŒåœ¨äºæ˜¯ä»1~Næ¶ˆå¤±äº†ä¸¤ä¸ªæ•°å­—ã€‚è¦æ±‚åœ¨O(N)æ—¶é—´ï¼ŒO(1)ç©ºé—´å®ç°ã€‚\"></a>æ­¤é¢˜å’Œ260å¾ˆåƒï¼Œä¸åŒåœ¨äºæ˜¯ä»1~Næ¶ˆå¤±äº†ä¸¤ä¸ªæ•°å­—ã€‚è¦æ±‚åœ¨O(N)æ—¶é—´ï¼ŒO(1)ç©ºé—´å®ç°ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå¯ä»¥ä½¿ç”¨260çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™æ ·ç©ºé—´å¤æ‚åº¦ä¸ç¬¦åˆè¦æ±‚ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_missing</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> reduce(operator.xor, ary)</span><br><span class=\"line\">    nums = nums + list(range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">3</span>))</span><br><span class=\"line\">    total = get_missing(nums)</span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> total &amp; mask == <span class=\"number\">0</span>:</span><br><span class=\"line\">        mask &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    n1 = (n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> n&amp;mask!=<span class=\"number\">0</span>)</span><br><span class=\"line\">    n2 = (n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> n&amp;mask==<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> get_missing(n1), get_missing(n2)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä»¥<code>0~n-1ä¸­ç¼ºå¤±çš„æ•°å­—</code>é¢˜ä¸ºåŸºç¡€æ¥è§£ã€‚å†™å®Œäº†å‘ç°å’Œæ–¹æ³•ä¸€ä¸å°±æ˜¯åŒä¸€ç§æ–¹æ³•å˜›ï¼Œåªä¸è¿‡ç”¨äº†å¾ªç¯æ¥ä»£æ›¿æ•°ç»„äº§ç”Ÿçš„ç©ºé—´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    total = reduce(operator.xor, nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">3</span>):</span><br><span class=\"line\">        total ^= i</span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> mask &amp; total == <span class=\"number\">0</span>:</span><br><span class=\"line\">        mask &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    one = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mask &amp; n: one ^= n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">3</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mask &amp; i: one ^= i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> one, total^one</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå°†æ–¹æ³•ä¸€æ”¹ä¸ºå¸¸æ•°ç©ºé—´å¤æ‚åº¦ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_missing</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> reduce(operator.xor, ary)</span><br><span class=\"line\"></span><br><span class=\"line\">    a, b, c = itertools.tee(chain(nums, range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">3</span>)), <span class=\"number\">3</span>)</span><br><span class=\"line\">    total = get_missing(a)</span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> total &amp; mask == <span class=\"number\">0</span>:</span><br><span class=\"line\">        mask &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    n1 = (n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> b <span class=\"keyword\">if</span> n&amp;mask!=<span class=\"number\">0</span>)</span><br><span class=\"line\">    n2 = (n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> c <span class=\"keyword\">if</span> n&amp;mask==<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> get_missing(n1), get_missing(n2)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šæ•°å­¦æ–¹æ³•ï¼Œæ ¹æ®<code>0~n-1ç¼ºå¤±çš„æ•°å­—</code>æ•°å­¦æ–¹æ³•ã€‚ä½¿ç”¨ä¸¤æ•°çš„å¹³å‡æ•°æ¥è®²åŸæ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚è¿™æ ·é—®é¢˜å°±å˜æˆäº†æ‰¾åˆ°ä¸€ä¸ªç¼ºå¤±çš„æ•°å­—ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    total = sum(range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">3</span>)) - sum(nums)</span><br><span class=\"line\">    mid = total / <span class=\"number\">2</span></span><br><span class=\"line\">    small = (n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> n &lt;= mid)</span><br><span class=\"line\">    one = sum(range(<span class=\"number\">1</span>, int(mid)+<span class=\"number\">1</span>)) - sum(small)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> one, total-one</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äº”ï¼šè¿™ä¸ªæ˜¯ä»è¯„è®ºä¸­å­¦ä¹ åˆ°çš„æ–¹æ³•ï¼Œå¾ˆæœ‰æ„æ€ã€‚å°†å¯¹åº”ç´¢å¼•ç½®ä¸ºè´Ÿæ•°ï¼Œç„¶åæœ€åæ‰¾æ­£æ•°çš„ç´¢å¼•ï¼Œå°±æ˜¯ç¼ºå¤±çš„ä¸¤ä¸ªæ•°å­—ã€‚ä½†æ˜¯è¿™æ ·ç©ºé—´å¤æ‚åº¦è²Œä¼¼ä¸ç¬¦åˆè¦æ±‚äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    nums += [<span class=\"number\">1</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums[:<span class=\"number\">-2</span>]:</span><br><span class=\"line\">        nums[n<span class=\"number\">-1</span>] = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [i+<span class=\"number\">1</span> <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums) <span class=\"keyword\">if</span> n!=<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å…­ï¼šå¾ˆå¿«ï¼Œæˆ‘æƒ³åˆ°äº†ç”Ÿæˆå™¨isliceï¼Œä½†æ˜¯ç”¨äº†å‘ç°ä¸å¯¹ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºæˆ‘åœ¨å¾ªç¯ä¸­æ”¹å˜äº†numsï¼Œå¯¼è‡´äº†nå‡ºç°äº†-1çš„æƒ…å†µã€‚æ‰€ä»¥æˆ‘ä»¬åªæ”¹å˜ç¬¦å·ï¼Œä¸æ”¹å˜æ•°å­—ï¼Œéœ€è¦ç”¨ä¸€ä¸ªabsã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingTwo</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    nums += [<span class=\"number\">1</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> islice(nums, len(nums)<span class=\"number\">-2</span>):</span><br><span class=\"line\">        nums[abs(n)<span class=\"number\">-1</span>] = -nums[abs(n)<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [i+<span class=\"number\">1</span> <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums) <span class=\"keyword\">if</span> n&gt;<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"371-Sum-of-Two-Integers\"><a href=\"#371-Sum-of-Two-Integers\" class=\"headerlink\" title=\"371. Sum of Two Integers\"></a>371. Sum of Two Integers</h3><h4 id=\"ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•ã€‚åŸé¢˜\"><a href=\"#ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•ã€‚åŸé¢˜\"></a>ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•ã€‚<a href=\"https://leetcode.com/problems/sum-of-two-integers/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>è§£æ<a href=\"/371-Sum-of-Two-Integers-Python/\" title=\"ä¸ºä½•Pythonä½è¿ç®—æœ‰äº›ä¸åŒ\">ä¸ºä½•Pythonä½è¿ç®—æœ‰äº›ä¸åŒ</a></p>\n<p>å®é™…ä¸ŠåŠ æ³•åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤</p>\n<ol>\n<li>ç›¸åŠ ä½†ä¸è¿›ä½ï¼Œ1^0=1ï¼Œ1^1=0ï¼Œ0^0=0ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥ç”¨å¼‚æˆ–ã€‚</li>\n<li>åªæ±‚è¿›ä½çš„ç»“æœï¼Œåªæœ‰ä¸¤ä¸ª1æ‰ä¼šè¿›ä½ï¼Œæ‰€ä»¥ç”¨<code>&amp;</code>ï¼Œç„¶åå·¦ç§»1ä½ï¼Œè¡¨ç¤ºè¦è¿›çš„ä½ã€‚</li>\n<li>æŠŠå‰ä¸¤æ­¥çš„ç»“æœå†é‡å¤1ï¼Œ2æ­¥ï¼Œç›´åˆ°æ²¡æœ‰è¿›ä½äº§ç”Ÿï¼Œå³<code>b=0</code>ã€‚</li>\n</ol>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation/sum_two.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># 32 bits integer max</span></span><br><span class=\"line\">    MAX = <span class=\"number\">0x7FFFFFFF</span>  <span class=\"comment\"># 2**31-1</span></span><br><span class=\"line\">    <span class=\"comment\"># 32 bits interger min  </span></span><br><span class=\"line\">    MIN = <span class=\"number\">0x80000000</span>  <span class=\"comment\"># -2**31</span></span><br><span class=\"line\">    <span class=\"comment\"># mask to get last 32 bits</span></span><br><span class=\"line\">    mask = <span class=\"number\">0xFFFFFFFF</span>  <span class=\"comment\"># 2*32-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"comment\"># ^ get different bits and &amp; gets double 1s, &lt;&lt; moves carry</span></span><br><span class=\"line\">        a, b = (a ^ b) &amp; mask, ((a &amp; b) &lt;&lt; <span class=\"number\">1</span>) &amp; mask</span><br><span class=\"line\">    <span class=\"comment\"># if a is negative, get a's 32 bits complement positive first</span></span><br><span class=\"line\">    <span class=\"comment\"># then get 32-bit positive's Python complement negative</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a <span class=\"keyword\">if</span> a &lt;= MAX <span class=\"keyword\">else</span> ~(a ^ mask)</span><br></pre></td></tr></table></figure>\n<h3 id=\"190-Reverse-Bits\"><a href=\"#190-Reverse-Bits\" class=\"headerlink\" title=\"190. Reverse Bits\"></a>190. Reverse Bits</h3><h4 id=\"è¿”å›ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å€’åºçš„åè¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#è¿”å›ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å€’åºçš„åè¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å€’åºçš„åè¿›åˆ¶ã€‚åŸé¢˜\"></a>è¿”å›ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å€’åºçš„åè¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/reverse-bits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 43261596</span><br><span class=\"line\">Output: 964176192</span><br><span class=\"line\">Explanation: 43261596 represented in binary as 00000010100101000001111010011100, </span><br><span class=\"line\">             return 964176192 represented in binary as 00111001011110000010100101000000.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸç”Ÿåº“ã€‚<code>ljust</code>è¡¨ç¤ºåœ¨å³ä¾§è¡¥â€™0â€™ã€‚æˆ–è€…ä½¿ç”¨<code>format</code>æ¥è¡¥0ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> int(bin(n)[:<span class=\"number\">1</span>:<span class=\"number\">-1</span>].ljust(<span class=\"number\">32</span>, <span class=\"string\">'0'</span>), <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"comment\"># return int('&#123;:0&lt;32s&#125;'.format(bin(n)[:1:-1]), 2)</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè‡ªå·±å®ç°è¿›åˆ¶è½¬æ¢ï¼Œä½¿ç”¨ä½è¿ç®—ä¼˜åŒ–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    code = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        code += str(n &amp; <span class=\"number\">1</span>)</span><br><span class=\"line\">        n &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum([int(bit) &lt;&lt; i <span class=\"keyword\">for</span> i, bit <span class=\"keyword\">in</span> enumerate(code[::<span class=\"number\">-1</span>])])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒæ”¹è¿›ï¼šè¿™é‡Œæœ‰ä¸ªè¯¯åŒºï¼Œä¸ºä»€ä¹ˆéè¦å°†æ•´ä¸ªäºŒè¿›åˆ¶å®Œæ•´ä½“ç°å‡ºæ¥ï¼Œå†å»éå†å®ƒè½¬æˆintï¼Œè€Œä¸æ˜¯ç›´æ¥æ„å»ºè¿™ä¸ªintã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    code = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        code = (code&lt;&lt;<span class=\"number\">1</span>) + (n&amp;<span class=\"number\">1</span>)</span><br><span class=\"line\">        n &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> code</span><br></pre></td></tr></table></figure>\n<h3 id=\"389-Find-the-Difference\"><a href=\"#389-Find-the-Difference\" class=\"headerlink\" title=\"389. Find the Difference\"></a>389. Find the Difference</h3><h4 id=\"så’Œtä¸¤ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œtæ˜¯ç”±sæ‰“ä¹±é¡ºåºå¹¶å†éšæœºæ·»åŠ ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆã€‚åŸé¢˜\"><a href=\"#så’Œtä¸¤ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œtæ˜¯ç”±sæ‰“ä¹±é¡ºåºå¹¶å†éšæœºæ·»åŠ ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"så’Œtä¸¤ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œtæ˜¯ç”±sæ‰“ä¹±é¡ºåºå¹¶å†éšæœºæ·»åŠ ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆã€‚åŸé¢˜\"></a>så’Œtä¸¤ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œtæ˜¯ç”±sæ‰“ä¹±é¡ºåºå¹¶å†éšæœºæ·»åŠ ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆã€‚<a href=\"https://leetcode.com/problems/find-the-difference/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨Collectionã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheDifference</span><span class=\"params\">(self, s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next((Counter(t) - Counter(s)).elements())</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•äºŒï¼šä½¿ç”¨å¼‚æˆ–ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheDifference</span><span class=\"params\">(self, s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> operator <span class=\"keyword\">import</span> xor</span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    <span class=\"keyword\">return</span> chr(reduce(xor, map(ord, s+t)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"401-Binary-Watch\"><a href=\"#401-Binary-Watch\" class=\"headerlink\" title=\"401. Binary Watch\"></a>401. Binary Watch</h3><h4 id=\"æœ‰è¿™æ ·ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ‰‹è¡¨ï¼Œè¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰å‡ ä¸ªäº®ç€çš„ç¯ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½å‡ºç°çš„æ—¶é—´ã€‚æ—¶é—´èŒƒå›´ä¸º12å°æ—¶åˆ¶ï¼Œå³hours-0-11-ï¼Œminutes-0-59-ã€‚åŸé¢˜\"><a href=\"#æœ‰è¿™æ ·ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ‰‹è¡¨ï¼Œè¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰å‡ ä¸ªäº®ç€çš„ç¯ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½å‡ºç°çš„æ—¶é—´ã€‚æ—¶é—´èŒƒå›´ä¸º12å°æ—¶åˆ¶ï¼Œå³hours-0-11-ï¼Œminutes-0-59-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰è¿™æ ·ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ‰‹è¡¨ï¼Œè¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰å‡ ä¸ªäº®ç€çš„ç¯ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½å‡ºç°çš„æ—¶é—´ã€‚æ—¶é—´èŒƒå›´ä¸º12å°æ—¶åˆ¶ï¼Œå³hours(0-11)ï¼Œminutes(0-59)ã€‚åŸé¢˜\"></a>æœ‰è¿™æ ·ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ‰‹è¡¨ï¼Œè¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰å‡ ä¸ªäº®ç€çš„ç¯ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½å‡ºç°çš„æ—¶é—´ã€‚æ—¶é—´èŒƒå›´ä¸º12å°æ—¶åˆ¶ï¼Œå³hours(0-11)ï¼Œminutes(0-59)ã€‚<a href=\"https://leetcode.com/problems/binary-watch/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation/Binary_clock_samui_moon.jpg\" class>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 1</span><br><span class=\"line\">Return: [&quot;1:00&quot;, &quot;2:00&quot;, &quot;4:00&quot;, &quot;8:00&quot;, &quot;0:01&quot;, &quot;0:02&quot;, &quot;0:04&quot;, &quot;0:08&quot;, &quot;0:16&quot;, &quot;0:32&quot;]</span><br></pre></td></tr></table></figure>\n<font color=\"#FF0000\" size=\"3\"><strong>ä¸€å¼€å§‹çš„æ€è·¯ï¼šè¿™æ˜¯ä¸ªé”™è¯¯çš„è§£æ³•ï¼Œå› ä¸ºåˆ†é’Ÿçš„ç¯ä¸åº”è¯¥è¶…è¿‡60åˆ†é’Ÿï¼Œå› ä¸ºè¦è¿›ä½ã€‚ç±»ä¼¼çš„4å’Œ8çš„å°æ—¶ç¯ä¹Ÿä¸èƒ½åŒæ—¶äº®èµ·ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">readBinaryWatch</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> combinations</span><br><span class=\"line\">    <span class=\"comment\"># transform hours to minutes</span></span><br><span class=\"line\">    minutes = list(map(<span class=\"keyword\">lambda</span> x: x * <span class=\"number\">60</span>, (<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>))) + [<span class=\"number\">32</span>, <span class=\"number\">16</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    minutes_groups = combinations(minutes, num)</span><br><span class=\"line\">    res = [<span class=\"string\">'&#123;:d&#125;:&#123;:0&gt;2d&#125;'</span>.format(sum(g)//<span class=\"number\">60</span>, sum(g)%<span class=\"number\">60</span>) <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> minutes_groups]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ­£ç¡®çš„å†™æ³•ã€‚éœ€è¦åˆ†å¼€åˆ¤æ–­å°æ—¶å’Œåˆ†é’Ÿï¼Œç„¶åå†åˆå¹¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">readBinaryWatch</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> combinations</span><br><span class=\"line\">    <span class=\"comment\"># transform hours to minutes</span></span><br><span class=\"line\">    hours = list(map(<span class=\"keyword\">lambda</span> x: x*<span class=\"number\">60</span>, (<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>)))</span><br><span class=\"line\">    minutes = (<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">8</span>, <span class=\"number\">16</span>, <span class=\"number\">32</span>)</span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(num+<span class=\"number\">1</span>):</span><br><span class=\"line\">        get_hours = [x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> list(combinations(hours, i)) <span class=\"keyword\">if</span> sum(x) &lt; <span class=\"number\">12</span> * <span class=\"number\">60</span>]</span><br><span class=\"line\">        get_minutes = [x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> list(combinations(minutes, num-i)) <span class=\"keyword\">if</span> sum(x) &lt; <span class=\"number\">60</span>]</span><br><span class=\"line\">        minutes_groups = [h+m <span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> get_hours <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> get_minutes]</span><br><span class=\"line\">        res += [<span class=\"string\">'&#123;:d&#125;:&#123;:0&gt;2d&#125;'</span>.format(sum(g)//<span class=\"number\">60</span>, sum(g)%<span class=\"number\">60</span>) <span class=\"keyword\">for</span> g <span class=\"keyword\">in</span> minutes_groups]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šéå†æ‰€æœ‰å¯èƒ½çš„æ—¶é—´ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ã€‚å› ä¸ºè¡¨ä¸­çš„æ•°ç»„éƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œæ‰€ä»¥â€™1â€™çš„ä¸ªæ•°å°±æ˜¯äº®ç¯çš„ä¸ªæ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">readBinaryWatch</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">'&#123;:d&#125;:&#123;:0&gt;2d&#125;'</span>.format(h, m)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> range(<span class=\"number\">12</span>) <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> range(<span class=\"number\">60</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (bin(h)+bin(m)).count(<span class=\"string\">'1'</span>) == num]</span><br></pre></td></tr></table></figure>\n<h3 id=\"405-Convert-a-Number-to-Hexadecimal\"><a href=\"#405-Convert-a-Number-to-Hexadecimal\" class=\"headerlink\" title=\"405. Convert a Number to Hexadecimal\"></a>405. Convert a Number to Hexadecimal</h3><h4 id=\"æŠŠä¸€ä¸ª32ä½æœ‰ç¬¦å·çš„æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#æŠŠä¸€ä¸ª32ä½æœ‰ç¬¦å·çš„æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŠŠä¸€ä¸ª32ä½æœ‰ç¬¦å·çš„æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ã€‚åŸé¢˜\"></a>æŠŠä¸€ä¸ª32ä½æœ‰ç¬¦å·çš„æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/convert-a-number-to-hexadecimal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">26</span><br><span class=\"line\">Output:</span><br><span class=\"line\">&quot;1a&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input:</span><br><span class=\"line\">-1</span><br><span class=\"line\">Output:</span><br><span class=\"line\">&quot;ffffffff&quot;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">toHex</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join([<span class=\"string\">'0123456789abcdef'</span>[(num &gt;&gt; <span class=\"number\">4</span> * i) &amp; <span class=\"number\">15</span>]</span><br><span class=\"line\">                     <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">8</span>)])[::<span class=\"number\">-1</span>].lstrip(<span class=\"string\">'0'</span>) <span class=\"keyword\">or</span> <span class=\"string\">'0'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"461-Hamming-Distance\"><a href=\"#461-Hamming-Distance\" class=\"headerlink\" title=\"461. Hamming Distance\"></a>461. Hamming Distance</h3><h4 id=\"æ±‚ä¸¤ä¸ªæ­£æ•°çš„åŸç ä¸­ä¸åŒä½çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸¤ä¸ªæ­£æ•°çš„åŸç ä¸­ä¸åŒä½çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸¤ä¸ªæ­£æ•°çš„åŸç ä¸­ä¸åŒä½çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ±‚ä¸¤ä¸ªæ­£æ•°çš„åŸç ä¸­ä¸åŒä½çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/hamming-distance/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: x &#x3D; 1, y &#x3D; 4</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">1   (0 0 0 1)</span><br><span class=\"line\">4   (0 1 0 0)</span><br><span class=\"line\">       â†‘   â†‘</span><br><span class=\"line\">The above arrows point to positions where the corresponding bits are different.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hammingDistance</span><span class=\"params\">(self, x, y)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> bin(x ^ y).count(<span class=\"string\">'1'</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"476-Number-Complement\"><a href=\"#476-Number-Complement\" class=\"headerlink\" title=\"476. Number Complement\"></a>476. Number Complement</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ­£æ•°ï¼Œæ±‚å…¶åŸç çš„æŒ‰ä½å–ååçš„æ•°ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ­£æ•°ï¼Œæ±‚å…¶åŸç çš„æŒ‰ä½å–ååçš„æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ­£æ•°ï¼Œæ±‚å…¶åŸç çš„æŒ‰ä½å–ååçš„æ•°ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ­£æ•°ï¼Œæ±‚å…¶åŸç çš„æŒ‰ä½å–ååçš„æ•°ã€‚<a href=\"https://leetcode.com/problems/number-complement/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 5</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findComplement</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> int(<span class=\"string\">''</span>.join([str(<span class=\"number\">1</span> ^ int(d)) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> bin(num)[<span class=\"number\">2</span>:]]), <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå…¶å®å°±æ˜¯æ±‚<code>101</code>å’Œ<code>111</code>çš„å¼‚æˆ–ã€‚æ‰€ä»¥å…ˆæ‰¾åˆ°<code>111</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findComplement</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    i = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= num:</span><br><span class=\"line\">        i &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (i<span class=\"number\">-1</span>) ^ num</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ›´å°‘çš„ä½ç§»ã€‚æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯æ‰¾åˆ°<code>111</code>ã€‚æ¯”å¦‚ä¸€ä¸ª8ä½æ•°ï¼Œæœ€é«˜ä»£è¡¨ç¬¦å·ï¼š<code>1000000</code>ï¼Œå…ˆå°†å…¶å³ç§»1ä½ï¼Œä½¿å¾—å·¦è¾¹ä¸¤ä½éƒ½å˜æˆ1ã€‚ç„¶åå†å³ç§»2ä½ï¼Œä½¿å¾—å·¦è¾¹å››ä½å˜æˆ1ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ8ä½æ•°æœ€å¤šç§»åŠ¨3æ¬¡å°±å¯ä»¥å¾—åˆ°<code>1111111</code>ï¼Œ32ä½åˆ™è¿˜éœ€è¦å†ç§»åŠ¨2æ¬¡ã€‚</font>\n\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation/complement.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findComplement</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    mask = num</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">5</span>):</span><br><span class=\"line\">        mask |= mask &gt;&gt; (<span class=\"number\">2</span>**i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num ^ mask</span><br></pre></td></tr></table></figure>\n<h3 id=\"693-Binary-Number-with-Alternating-Bits\"><a href=\"#693-Binary-Number-with-Alternating-Bits\" class=\"headerlink\" title=\"693. Binary Number with Alternating Bits\"></a>693. Binary Number with Alternating Bits</h3><h4 id=\"äºŒè¿›åˆ¶æ˜¯å¦æ˜¯äº¤æ›¿çš„0å’Œ1ã€‚åŸé¢˜\"><a href=\"#äºŒè¿›åˆ¶æ˜¯å¦æ˜¯äº¤æ›¿çš„0å’Œ1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒè¿›åˆ¶æ˜¯å¦æ˜¯äº¤æ›¿çš„0å’Œ1ã€‚åŸé¢˜\"></a>äºŒè¿›åˆ¶æ˜¯å¦æ˜¯äº¤æ›¿çš„0å’Œ1ã€‚<a href=\"https://leetcode.com/problems/binary-number-with-alternating-bits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 5</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The binary representation of 5 is: 101</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasAlternatingBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'00'</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> bin(n) <span class=\"keyword\">and</span> <span class=\"string\">'11'</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> bin(n)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé™¤2æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasAlternatingBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    n, cur = divmod(n, <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur == n % <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        n, cur = divmod(n, <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå¼‚æˆ–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasAlternatingBits</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    num = n ^ (n &gt;&gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> (num &amp; num+<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"762-Prime-Number-of-Set-Bits-in-Binary-Representation\"><a href=\"#762-Prime-Number-of-Set-Bits-in-Binary-Representation\" class=\"headerlink\" title=\"762. Prime Number of Set Bits in Binary Representation\"></a>762. Prime Number of Set Bits in Binary Representation</h3><h4 id=\"æ±‚æŸèŒƒå›´çš„æ‰€æœ‰è‡ªç„¶æ•°ä¸­ï¼ŒäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯è´¨æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ±‚æŸèŒƒå›´çš„æ‰€æœ‰è‡ªç„¶æ•°ä¸­ï¼ŒäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯è´¨æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚æŸèŒƒå›´çš„æ‰€æœ‰è‡ªç„¶æ•°ä¸­ï¼ŒäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯è´¨æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ±‚æŸèŒƒå›´çš„æ‰€æœ‰è‡ªç„¶æ•°ä¸­ï¼ŒäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯è´¨æ•°çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/prime-number-of-set-bits-in-binary-representation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: L &#x3D; 10, R &#x3D; 15</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">10 -&gt; 1010 (2 set bits, 2 is prime)</span><br><span class=\"line\">11 -&gt; 1011 (3 set bits, 3 is prime)</span><br><span class=\"line\">12 -&gt; 1100 (2 set bits, 2 is prime)</span><br><span class=\"line\">13 -&gt; 1101 (3 set bits, 3 is prime)</span><br><span class=\"line\">14 -&gt; 1110 (3 set bits, 3 is prime)</span><br><span class=\"line\">15 -&gt; 1111 (4 set bits, 4 is not prime)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdirect.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPrimeSetBits</span><span class=\"params\">(self, L: <span class=\"string\">'int'</span>, R: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    primes = &#123;<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">11</span>, <span class=\"number\">13</span>, <span class=\"number\">17</span>, <span class=\"number\">19</span>&#125;</span><br><span class=\"line\">    <span class=\"comment\"># ans = 0</span></span><br><span class=\"line\">    <span class=\"comment\"># for num in range(L, R+1):</span></span><br><span class=\"line\">    <span class=\"comment\">#     if bin(num)[2:].count('1') in primes:</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans += 1</span></span><br><span class=\"line\">    <span class=\"comment\"># return ans</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(bin(n)[<span class=\"number\">2</span>:].count(<span class=\"string\">'1'</span>) <span class=\"keyword\">in</span> primes <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(L, R+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½è¿ç®—ã€‚p çš„2ï¼Œ3ï¼Œ5ï¼Œ7ã€‚ã€‚ä½æ˜¯1ï¼Œå…¶ä½™æ˜¯0ï¼Œè¿™æ ·åœ¨å³ç§»åï¼Œå¯&amp;1å°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦æ˜¯è´¨æ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPrimeSetBits</span><span class=\"params\">(self, L: <span class=\"string\">'int'</span>, R: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    p = int(<span class=\"string\">'10100010100010101100'</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(p &gt;&gt; bin(i).count(<span class=\"string\">'1'</span>) &amp; <span class=\"number\">1</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(L, R+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"868-Binary-Gap\"><a href=\"#868-Binary-Gap\" class=\"headerlink\" title=\"868. Binary Gap\"></a>868. Binary Gap</h3><h4 id=\"äºŒè¿›åˆ¶ä¸¤ä¸ª1çš„æœ€å¤§è·ç¦»ã€‚åŸé¢˜\"><a href=\"#äºŒè¿›åˆ¶ä¸¤ä¸ª1çš„æœ€å¤§è·ç¦»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒè¿›åˆ¶ä¸¤ä¸ª1çš„æœ€å¤§è·ç¦»ã€‚åŸé¢˜\"></a>äºŒè¿›åˆ¶ä¸¤ä¸ª1çš„æœ€å¤§è·ç¦»ã€‚<a href=\"https://leetcode.com/problems/binary-gap/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 22</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">22 in binary is 0b10110.</span><br><span class=\"line\">In the binary representation of 22, there are three ones, and two consecutive pairs of 1&#39;s.</span><br><span class=\"line\">The first consecutive pair of 1&#39;s have distance 2.</span><br><span class=\"line\">The second consecutive pair of 1&#39;s have distance 1.</span><br><span class=\"line\">The answer is the largest of these two distances, which is 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æˆ–æ˜¯ä½è¿ç®—éƒ½å¯ä»¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binaryGap</span><span class=\"params\">(self, N: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans, last = <span class=\"number\">0</span>, <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># for i, b in enumerate(bin(N)[2:]):</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>):</span><br><span class=\"line\">        <span class=\"comment\"># if b == '1':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (N &gt;&gt; i) &amp; <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> last <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                ans = max(ans, i - last)</span><br><span class=\"line\">            last = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binaryGap</span><span class=\"params\">(self, N: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    one = [i <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(bin(N)) <span class=\"keyword\">if</span> v == <span class=\"string\">'1'</span>]</span><br><span class=\"line\">    <span class=\"comment\"># return max([one[i+1] - one[i] for i in range(len(one)-1)] or [0])</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max([b-a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(one, one[<span class=\"number\">1</span>:])] <span class=\"keyword\">or</span> [<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"268-Missing-Number\"><a href=\"#268-Missing-Number\" class=\"headerlink\" title=\"268. Missing Number\"></a>268. Missing Number</h3><h4 id=\"0-nä¸­ç¼ºå¤±çš„æ•°å­—ã€‚åŸé¢˜\"><a href=\"#0-nä¸­ç¼ºå¤±çš„æ•°å­—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"0~nä¸­ç¼ºå¤±çš„æ•°å­—ã€‚åŸé¢˜\"></a>0~nä¸­ç¼ºå¤±çš„æ•°å­—ã€‚<a href=\"https://leetcode.com/problems/missing-number/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ•°å­¦å…¬å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingNumber</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    expected_sum = n*(n+<span class=\"number\">1</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">    actual_sum = sum(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> expected_sum - actual_sum</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šXOR.  </font>\n\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">index</th>\n<th style=\"text-align:center\">0</th>\n<th style=\"text-align:center\">1</th>\n<th style=\"text-align:center\">2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">value</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">0</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">missingNumber</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    missing = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        missing ^= i ^ num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> missing</span><br></pre></td></tr></table></figure>\n<h3 id=\"1012-Complement-of-Base-10-Integer\"><a href=\"#1012-Complement-of-Base-10-Integer\" class=\"headerlink\" title=\"1012. Complement of Base 10 Integer\"></a>1012. Complement of Base 10 Integer</h3><h4 id=\"éè´Ÿæ•°çš„åç ã€‚åŸé¢˜\"><a href=\"#éè´Ÿæ•°çš„åç ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éè´Ÿæ•°çš„åç ã€‚åŸé¢˜\"></a>éè´Ÿæ•°çš„åç ã€‚<a href=\"https://leetcode.com/problems/complement-of-base-10-integer/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bitwiseComplement</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> mask &lt; N:</span><br><span class=\"line\">        mask = (mask &lt;&lt; <span class=\"number\">1</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># return mask - N</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> N ^ mask</span><br></pre></td></tr></table></figure>\n<h3 id=\"1404-Number-of-Steps-to-Reduce-a-Number-in-Binary-Representation-to-One\"><a href=\"#1404-Number-of-Steps-to-Reduce-a-Number-in-Binary-Representation-to-One\" class=\"headerlink\" title=\"1404. Number of Steps to Reduce a Number in Binary Representation to One\"></a>1404. Number of Steps to Reduce a Number in Binary Representation to One</h3><h4 id=\"å‡ ä¸‹æ“ä½œå¯ä»¥å°†å…¶å˜ä¸º1ã€‚å¶æ•°é™¤ä»¥2ï¼Œå¥‡æ•°-1-åŸé¢˜\"><a href=\"#å‡ ä¸‹æ“ä½œå¯ä»¥å°†å…¶å˜ä¸º1ã€‚å¶æ•°é™¤ä»¥2ï¼Œå¥‡æ•°-1-åŸé¢˜\" class=\"headerlink\" title=\"å‡ ä¸‹æ“ä½œå¯ä»¥å°†å…¶å˜ä¸º1ã€‚å¶æ•°é™¤ä»¥2ï¼Œå¥‡æ•°+1.åŸé¢˜\"></a>å‡ ä¸‹æ“ä½œå¯ä»¥å°†å…¶å˜ä¸º1ã€‚å¶æ•°é™¤ä»¥2ï¼Œå¥‡æ•°+1.<a href=\"https://leetcode.com/problems/number-of-steps-to-reduce-a-number-in-binary-representation-to-one/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;1101&quot;</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: &quot;1101&quot; corressponds to number 13 in their decimal representation.</span><br><span class=\"line\">Step 1) 13 is odd, add 1 and obtain 14. </span><br><span class=\"line\">Step 2) 14 is even, divide by 2 and obtain 7.</span><br><span class=\"line\">Step 3) 7 is odd, add 1 and obtain 8.</span><br><span class=\"line\">Step 4) 8 is even, divide by 2 and obtain 4.  </span><br><span class=\"line\">Step 5) 4 is even, divide by 2 and obtain 2. </span><br><span class=\"line\">Step 6) 2 is even, divide by 2 and obtain 1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå°†å…¶è½¬ä¸ºæ•°å­—æœ€ç®€å•ï¼Œä½†æ˜¯å¤±å»äº†æ­¤é¢˜çš„æ„ä¹‰ã€‚è¯„è®ºåŒºçœ‹åˆ°çš„ä¸€ä¸ªè§£æ³•</p>\n<p><code>110010</code> -&gt; <code>110100</code> -&gt; <code>111000</code> -&gt; <code>1000000</code> takes <code>2(which is count of mid zeros) + 1</code> moves.<br><code>1000000</code> -&gt; <code>1</code> takes 6 moves because length of <code>s</code> increases 1.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSteps</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    i, mid_0 = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[j] == <span class=\"string\">'1'</span>:</span><br><span class=\"line\">            mid_0 += j - i - <span class=\"number\">1</span></span><br><span class=\"line\">            i = j</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> len(s) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> mid_0 + <span class=\"number\">1</span> + len(s)</span><br></pre></td></tr></table></figure>\n<h3 id=\"201-Bitwise-AND-of-Numbers-Range\"><a href=\"#201-Bitwise-AND-of-Numbers-Range\" class=\"headerlink\" title=\"201. Bitwise AND of Numbers Range\"></a>201. Bitwise AND of Numbers Range</h3><h4 id=\"èŒƒå›´å†…çš„æ•°å­—æ±‚ä¸è¿ç®—å’Œã€‚åŸé¢˜\"><a href=\"#èŒƒå›´å†…çš„æ•°å­—æ±‚ä¸è¿ç®—å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"èŒƒå›´å†…çš„æ•°å­—æ±‚ä¸è¿ç®—å’Œã€‚åŸé¢˜\"></a>èŒƒå›´å†…çš„æ•°å­—æ±‚ä¸è¿ç®—å’Œã€‚<a href=\"https://leetcode.com/problems/bitwise-and-of-numbers-range/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [5,7]</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeBitwiseAnd</span><span class=\"params\">(self, m: int, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    i = <span class=\"number\">0</span> </span><br><span class=\"line\">    <span class=\"keyword\">while</span> m != n:</span><br><span class=\"line\">        m &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">        n &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n &lt;&lt; i</span><br></pre></td></tr></table></figure>\n<h3 id=\"1442-Count-Triplets-That-Can-Form-Two-Arrays-of-Equal-XOR\"><a href=\"#1442-Count-Triplets-That-Can-Form-Two-Arrays-of-Equal-XOR\" class=\"headerlink\" title=\"1442. Count Triplets That Can Form Two Arrays of Equal XOR\"></a>1442. Count Triplets That Can Form Two Arrays of Equal XOR</h3><h4 id=\"æ•°ç»„ä¸­æ‰¾å‡ºä¸¤æ®µçš„å¼‚æˆ–å’Œç›¸ç­‰ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­æ‰¾å‡ºä¸¤æ®µçš„å¼‚æˆ–å’Œç›¸ç­‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æ‰¾å‡ºä¸¤æ®µçš„å¼‚æˆ–å’Œç›¸ç­‰ã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­æ‰¾å‡ºä¸¤æ®µçš„å¼‚æˆ–å’Œç›¸ç­‰ã€‚<a href=\"https://leetcode.com/problems/count-triplets-that-can-form-two-arrays-of-equal-xor/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜åœ¨ç«èµ›ä¸­åšå‡ºæ¥äº†ï¼Œéœ€è¦æ‰¾åˆ°è§„å¾‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countTriplets</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    m = list(itertools.accumulate([<span class=\"number\">0</span>] + arr, operator.xor))</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(m)):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(m)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> m[i] == m[j]:</span><br><span class=\"line\">                count += j-i<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<h3 id=\"1238-Circular-Permutation-in-Binary-Representation\"><a href=\"#1238-Circular-Permutation-in-Binary-Representation\" class=\"headerlink\" title=\"1238. Circular Permutation in Binary Representation\"></a>1238. Circular Permutation in Binary Representation</h3><h4 id=\"è¿”å›æŒ‡å®šä¸ºä½æ•°çš„äºŒè¿›åˆ¶ç¯ï¼Œæ¯ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶åªæœ‰1ä½ä¸åŒã€‚åŸé¢˜\"><a href=\"#è¿”å›æŒ‡å®šä¸ºä½æ•°çš„äºŒè¿›åˆ¶ç¯ï¼Œæ¯ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶åªæœ‰1ä½ä¸åŒã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›æŒ‡å®šä¸ºä½æ•°çš„äºŒè¿›åˆ¶ç¯ï¼Œæ¯ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶åªæœ‰1ä½ä¸åŒã€‚åŸé¢˜\"></a>è¿”å›æŒ‡å®šä¸ºä½æ•°çš„äºŒè¿›åˆ¶ç¯ï¼Œæ¯ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶åªæœ‰1ä½ä¸åŒã€‚<a href=\"https://leetcode.com/problems/circular-permutation-in-binary-representation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, start &#x3D; 3</span><br><span class=\"line\">Output: [3,2,0,1]</span><br><span class=\"line\">Explanation: The binary representation of the permutation is (11,10,00,01). </span><br><span class=\"line\">All the adjacent element differ by one bit. Another valid permutation is [3,1,0,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘æƒ³äº†åŠå¤©è¿™é“é¢˜ï¼Œä»¥ä¸ºå’ŒäºŒè¿›åˆ¶æ— å…³ï¼Œæ˜¯ä¸ªæ•°å­¦é¢˜ï¼Œæ²¡æƒ³åˆ°æœ€åè¿˜å¾—ç”¨å¼‚æˆ–æ¥è§£å†³ã€‚è¿™æ˜¯ä¸ª gray codeçš„é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªå…¬å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">circularPermutation</span><span class=\"params\">(self, n, start)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [start ^ i ^ i &gt;&gt; <span class=\"number\">1</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span> &lt;&lt; n)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"393-UTF-8-Validation\"><a href=\"#393-UTF-8-Validation\" class=\"headerlink\" title=\"393. UTF-8 Validation\"></a>393. UTF-8 Validation</h3><h4 id=\"é¢˜ç›®æè¿°éå¸¸ä¹‹éš¾æ‡‚ï¼Œæ¯è¯­çš„äººçœ‹ç€éƒ½çœ‹ä¸æ˜ç™½ã€‚æ­¤é¢˜åœ¨Leetcode-cnä¸Šçœ‹çš„ä¸­æ–‡æè¿°ã€‚é’ˆå¯¹ä¸€äº›æ•°ï¼Œå®ƒçš„äºŒè¿›åˆ¶å¿…é¡»æ»¡è¶³å‡ ç§å½¢å¼ï¼Œå¦‚æœæ˜¯0å¼€å¤´ï¼Œå°±æ˜¯ä¸€ä¸ª1å­—èŠ‚çš„å­—ç¬¦ï¼›å¦‚æœ110å¼€å¤´ï¼Œè¯´æ˜æ˜¯2å­—èŠ‚çš„å­—ç¬¦ï¼Œå…¶åé¢çš„äºŒè¿›åˆ¶å½¢å¼å¿…é¡»æ˜¯10å¼€å¤´ï¼›å¦‚æœ1110å¼€å¤´ï¼Œè¯´æ˜æ˜¯3å­—èŠ‚å­—ç¬¦ï¼Œåé¢å¿…é¡»è·Ÿä¸¤ä¸ª10å¼€å¤´çš„å­—ç¬¦ã€‚åŸé¢˜\"><a href=\"#é¢˜ç›®æè¿°éå¸¸ä¹‹éš¾æ‡‚ï¼Œæ¯è¯­çš„äººçœ‹ç€éƒ½çœ‹ä¸æ˜ç™½ã€‚æ­¤é¢˜åœ¨Leetcode-cnä¸Šçœ‹çš„ä¸­æ–‡æè¿°ã€‚é’ˆå¯¹ä¸€äº›æ•°ï¼Œå®ƒçš„äºŒè¿›åˆ¶å¿…é¡»æ»¡è¶³å‡ ç§å½¢å¼ï¼Œå¦‚æœæ˜¯0å¼€å¤´ï¼Œå°±æ˜¯ä¸€ä¸ª1å­—èŠ‚çš„å­—ç¬¦ï¼›å¦‚æœ110å¼€å¤´ï¼Œè¯´æ˜æ˜¯2å­—èŠ‚çš„å­—ç¬¦ï¼Œå…¶åé¢çš„äºŒè¿›åˆ¶å½¢å¼å¿…é¡»æ˜¯10å¼€å¤´ï¼›å¦‚æœ1110å¼€å¤´ï¼Œè¯´æ˜æ˜¯3å­—èŠ‚å­—ç¬¦ï¼Œåé¢å¿…é¡»è·Ÿä¸¤ä¸ª10å¼€å¤´çš„å­—ç¬¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é¢˜ç›®æè¿°éå¸¸ä¹‹éš¾æ‡‚ï¼Œæ¯è¯­çš„äººçœ‹ç€éƒ½çœ‹ä¸æ˜ç™½ã€‚æ­¤é¢˜åœ¨Leetcode-cnä¸Šçœ‹çš„ä¸­æ–‡æè¿°ã€‚é’ˆå¯¹ä¸€äº›æ•°ï¼Œå®ƒçš„äºŒè¿›åˆ¶å¿…é¡»æ»¡è¶³å‡ ç§å½¢å¼ï¼Œå¦‚æœæ˜¯0å¼€å¤´ï¼Œå°±æ˜¯ä¸€ä¸ª1å­—èŠ‚çš„å­—ç¬¦ï¼›å¦‚æœ110å¼€å¤´ï¼Œè¯´æ˜æ˜¯2å­—èŠ‚çš„å­—ç¬¦ï¼Œå…¶åé¢çš„äºŒè¿›åˆ¶å½¢å¼å¿…é¡»æ˜¯10å¼€å¤´ï¼›å¦‚æœ1110å¼€å¤´ï¼Œè¯´æ˜æ˜¯3å­—èŠ‚å­—ç¬¦ï¼Œåé¢å¿…é¡»è·Ÿä¸¤ä¸ª10å¼€å¤´çš„å­—ç¬¦ã€‚åŸé¢˜\"></a>é¢˜ç›®æè¿°éå¸¸ä¹‹éš¾æ‡‚ï¼Œæ¯è¯­çš„äººçœ‹ç€éƒ½çœ‹ä¸æ˜ç™½ã€‚æ­¤é¢˜åœ¨Leetcode-cnä¸Šçœ‹çš„ä¸­æ–‡æè¿°ã€‚é’ˆå¯¹ä¸€äº›æ•°ï¼Œå®ƒçš„äºŒè¿›åˆ¶å¿…é¡»æ»¡è¶³å‡ ç§å½¢å¼ï¼Œå¦‚æœæ˜¯0å¼€å¤´ï¼Œå°±æ˜¯ä¸€ä¸ª1å­—èŠ‚çš„å­—ç¬¦ï¼›å¦‚æœ110å¼€å¤´ï¼Œè¯´æ˜æ˜¯2å­—èŠ‚çš„å­—ç¬¦ï¼Œå…¶åé¢çš„äºŒè¿›åˆ¶å½¢å¼å¿…é¡»æ˜¯10å¼€å¤´ï¼›å¦‚æœ1110å¼€å¤´ï¼Œè¯´æ˜æ˜¯3å­—èŠ‚å­—ç¬¦ï¼Œåé¢å¿…é¡»è·Ÿä¸¤ä¸ª10å¼€å¤´çš„å­—ç¬¦ã€‚<a href=\"https://leetcode.com/problems/utf-8-validation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">data &#x3D; [197, 130, 1], which represents the octet sequence: 11000101 10000010 00000001.</span><br><span class=\"line\"></span><br><span class=\"line\">Return true.</span><br><span class=\"line\">It is a valid utf-8 encoding for a 2-bytes character followed by a 1-byte character.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validUtf8</span><span class=\"params\">(self, data: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    b = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">        s = <span class=\"string\">'&#123;:0&gt;8b&#125;'</span>.format(d)[<span class=\"number\">-8</span>:]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> b:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s.startswith(<span class=\"string\">'10'</span>):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                b -= <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> s.startswith(<span class=\"string\">'0'</span>): <span class=\"keyword\">continue</span></span><br><span class=\"line\">        head = re.match(<span class=\"string\">r'(^1&#123;2,4&#125;0)*'</span>, s).groups()[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        b = len(head) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> b == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½è¿ç®—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validUtf8</span><span class=\"params\">(self, data: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    b = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">        mask1, mask2 = <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">7</span>, <span class=\"number\">1</span>&lt;&lt;<span class=\"number\">6</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> b:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span>((d&amp;mask1) <span class=\"keyword\">and</span> (<span class=\"keyword\">not</span> d&amp;mask2)):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                b -= <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> d&amp;mask1:</span><br><span class=\"line\">            b += <span class=\"number\">1</span></span><br><span class=\"line\">            mask1 &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> b==<span class=\"number\">0</span>: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> b==<span class=\"number\">1</span> <span class=\"keyword\">or</span> b&gt;<span class=\"number\">4</span>: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        b -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> b == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"318-Maximum-Product-of-Word-Lengths\"><a href=\"#318-Maximum-Product-of-Word-Lengths\" class=\"headerlink\" title=\"318. Maximum Product of Word Lengths\"></a>318. Maximum Product of Word Lengths</h3><h4 id=\"ç»™ä½ ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›æœ€å¤§çš„ä¸¤ä¸ªæ²¡æœ‰ç›¸åŒå­—ç¬¦çš„å•è¯é•¿åº¦ä¹˜ç§¯ã€‚åŸé¢˜\"><a href=\"#ç»™ä½ ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›æœ€å¤§çš„ä¸¤ä¸ªæ²¡æœ‰ç›¸åŒå­—ç¬¦çš„å•è¯é•¿åº¦ä¹˜ç§¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä½ ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›æœ€å¤§çš„ä¸¤ä¸ªæ²¡æœ‰ç›¸åŒå­—ç¬¦çš„å•è¯é•¿åº¦ä¹˜ç§¯ã€‚åŸé¢˜\"></a>ç»™ä½ ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œè¿”å›æœ€å¤§çš„ä¸¤ä¸ªæ²¡æœ‰ç›¸åŒå­—ç¬¦çš„å•è¯é•¿åº¦ä¹˜ç§¯ã€‚<a href=\"https://leetcode.com/problems/maximum-product-of-word-lengths/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;abcw&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;bar&quot;,&quot;xtfn&quot;,&quot;abcdef&quot;]</span><br><span class=\"line\">Output: 16 </span><br><span class=\"line\">Explanation: The two words can be &quot;abcw&quot;, &quot;xtfn&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç›´è§‚è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    ws = [(len(word), set(word)) <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(ws)):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(ws)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ws[j][<span class=\"number\">1</span>] &amp; ws[i][<span class=\"number\">1</span>]:</span><br><span class=\"line\">                ans = max(ans, ws[i][<span class=\"number\">0</span>]*ws[j][<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½è¿ç®—ã€‚è¯„è®ºåŒºçœ‹åˆ°çš„ç­”æ¡ˆï¼Œæ€ä¹ˆæƒ³çš„å‘¢ï¼Œå•è¯åªåŒ…å«26ä¸ªå°å†™å­—æ¯ï¼Œåˆæœ‰ç›¸åŒå­—ç¬¦åˆ¤æ–­ï¼Œä»è€Œå¯ä»¥æƒ³å‡ºè¿™æ ·çš„è§£æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    d = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        mask = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> set(w):</span><br><span class=\"line\">            mask |= <span class=\"number\">1</span>&lt;&lt;(ord(c)-ord(<span class=\"string\">'a'</span>))</span><br><span class=\"line\">        d[mask] = max(d.get(mask, <span class=\"number\">0</span>), len(w))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max([d[i]*d[j] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> d <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> d <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> i&amp;j] <span class=\"keyword\">or</span> [<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"1177-Can-Make-Palindrome-from-Substring\"><a href=\"#1177-Can-Make-Palindrome-from-Substring\" class=\"headerlink\" title=\"1177. Can Make Palindrome from Substring\"></a>1177. Can Make Palindrome from Substring</h3><h4 id=\"ç»™å®šä¸€ä¸ª-å­—ç¬¦ä¸²sï¼Œè¿›è¡Œä¸€äº›æŸ¥è¯¢ï¼Œé’ˆå¯¹sçš„åˆ‡ç‰‡å†…å®¹èƒ½å¦å°†å…¶æ‰“ä¹±ç„¶åé‡æ–°æ’åˆ—ï¼Œåœ¨æ›¿æ¢kä¸ªå­—ç¬¦å†…å°†å…¶å˜æˆå›æ–‡çš„ã€‚è¿”å›è¿™äº›æŸ¥è¯¢ç»“æœã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ª-å­—ç¬¦ä¸²sï¼Œè¿›è¡Œä¸€äº›æŸ¥è¯¢ï¼Œé’ˆå¯¹sçš„åˆ‡ç‰‡å†…å®¹èƒ½å¦å°†å…¶æ‰“ä¹±ç„¶åé‡æ–°æ’åˆ—ï¼Œåœ¨æ›¿æ¢kä¸ªå­—ç¬¦å†…å°†å…¶å˜æˆå›æ–‡çš„ã€‚è¿”å›è¿™äº›æŸ¥è¯¢ç»“æœã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ª å­—ç¬¦ä¸²sï¼Œè¿›è¡Œä¸€äº›æŸ¥è¯¢ï¼Œé’ˆå¯¹sçš„åˆ‡ç‰‡å†…å®¹èƒ½å¦å°†å…¶æ‰“ä¹±ç„¶åé‡æ–°æ’åˆ—ï¼Œåœ¨æ›¿æ¢kä¸ªå­—ç¬¦å†…å°†å…¶å˜æˆå›æ–‡çš„ã€‚è¿”å›è¿™äº›æŸ¥è¯¢ç»“æœã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ª å­—ç¬¦ä¸²sï¼Œè¿›è¡Œä¸€äº›æŸ¥è¯¢ï¼Œé’ˆå¯¹sçš„åˆ‡ç‰‡å†…å®¹èƒ½å¦å°†å…¶æ‰“ä¹±ç„¶åé‡æ–°æ’åˆ—ï¼Œåœ¨æ›¿æ¢kä¸ªå­—ç¬¦å†…å°†å…¶å˜æˆå›æ–‡çš„ã€‚è¿”å›è¿™äº›æŸ¥è¯¢ç»“æœã€‚<a href=\"https://leetcode.com/problems/can-make-palindrome-from-substring/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abcda&quot;, queries &#x3D; [[3,3,0],[1,2,0],[0,3,1],[0,3,2],[0,4,1]]</span><br><span class=\"line\">Output: [true,false,false,true,true]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">queries[0] : substring &#x3D; &quot;d&quot;, is palidrome.</span><br><span class=\"line\">queries[1] : substring &#x3D; &quot;bc&quot;, is not palidrome.</span><br><span class=\"line\">queries[2] : substring &#x3D; &quot;abcd&quot;, is not palidrome after replacing only 1 character.</span><br><span class=\"line\">queries[3] : substring &#x3D; &quot;abcd&quot;, could be changed to &quot;abba&quot; which is palidrome. Also this can be changed to &quot;baab&quot; first rearrange it &quot;bacd&quot; then replace &quot;cd&quot; with &quot;ab&quot;.</span><br><span class=\"line\">queries[4] : substring &#x3D; &quot;abcda&quot;, could be changed to &quot;abcba&quot; which is palidrome.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šbit maskã€‚æˆ‘å­¦ä¼šäº†ï¼Œå¼€å§‹çš„æ—¶å€™æƒ³ç”¨Counteræ¥è®¡ç®—ï¼Œè™½ç„¶é€šè¿‡äº†ä½†æ˜¯æ•ˆç‡å¾ˆæ…¢ã€‚è¿™æ ·åªåŒ…å«å­—æ¯çš„é¢˜å¯ä»¥ç”¨ä½è¿ç®—å¼‚æˆ–æ¥è¿›è¡Œã€‚æ€è·¯å’Œæ¦œä¸€å¤§ç¥ä¸è°‹è€Œåˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canMakePaliQueries</span><span class=\"params\">(self, s: str, queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    d = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        d.append(d[<span class=\"number\">-1</span>] ^ (<span class=\"number\">1</span> &lt;&lt; (ord(c)-ord(<span class=\"string\">'a'</span>))))</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, j, k <span class=\"keyword\">in</span> queries:</span><br><span class=\"line\">        cur = d[j+<span class=\"number\">1</span>] ^ d[i]</span><br><span class=\"line\">        <span class=\"comment\"># print(count_one(cur), i, j, format(cur, 'b'))</span></span><br><span class=\"line\">        ans.append(format(cur, <span class=\"string\">'b'</span>).count(<span class=\"string\">'1'</span>)//<span class=\"number\">2</span> &lt;= k)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ•´ç†ä¸€ä¸‹æ–¹æ³•ä¸€ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canMakePaliQueries</span><span class=\"params\">(self, s: str, queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    d = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        d.append(d[<span class=\"number\">-1</span>] ^ (<span class=\"number\">1</span> &lt;&lt; (ord(c)-ord(<span class=\"string\">'a'</span>))))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [bin(d[j+<span class=\"number\">1</span>] ^ d[i]).count(<span class=\"string\">'1'</span>)//<span class=\"number\">2</span> &lt;= k <span class=\"keyword\">for</span> i, j, k <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<h3 id=\"421-Maximum-XOR-of-Two-Numbers-in-an-Array\"><a href=\"#421-Maximum-XOR-of-Two-Numbers-in-an-Array\" class=\"headerlink\" title=\"421. Maximum XOR of Two Numbers in an Array\"></a><a href=\"https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array/\" target=\"_blank\" rel=\"noopener\">421. Maximum XOR of Two Numbers in an Array</a></h3><h4 id=\"æ•°ç»„ä¸­ä¸¤ä¸ªæ•°æœ€å¤§çš„å¼‚æˆ–å€¼æ—¶å¤šå°‘ã€‚çº¿æ€§æ—¶é—´å¤æ‚åº¦å®ç°ã€‚\"><a href=\"#æ•°ç»„ä¸­ä¸¤ä¸ªæ•°æœ€å¤§çš„å¼‚æˆ–å€¼æ—¶å¤šå°‘ã€‚çº¿æ€§æ—¶é—´å¤æ‚åº¦å®ç°ã€‚\" class=\"headerlink\" title=\"æ•°ç»„ä¸­ä¸¤ä¸ªæ•°æœ€å¤§çš„å¼‚æˆ–å€¼æ—¶å¤šå°‘ã€‚çº¿æ€§æ—¶é—´å¤æ‚åº¦å®ç°ã€‚\"></a>æ•°ç»„ä¸­ä¸¤ä¸ªæ•°æœ€å¤§çš„å¼‚æˆ–å€¼æ—¶å¤šå°‘ã€‚çº¿æ€§æ—¶é—´å¤æ‚åº¦å®ç°ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [3, 10, 5, 25, 2, 8]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 28</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: The maximum result is 5 ^ 25 &#x3D; 28.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šStefançš„æ–¹æ³•ç ”ç©¶äº†åŠå¤©ã€‚æ”¹æˆå¾ªç¯å…¶å®æ›´å®¹æ˜“ç†è§£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaximumXOR</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">        ans &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">        prefixes = &#123;num&gt;&gt;i <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums&#125;</span><br><span class=\"line\">        ans += any(ans^<span class=\"number\">1</span>^p <span class=\"keyword\">in</span> prefixes <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> prefixes)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬1ä½1ä½æ¥æ›´æ–°ansï¼Œä»æœ€é«˜ä½å¼€å§‹ï¼Œå°½å¯èƒ½è®©å®ƒä¸º1ï¼Œé‚£ä¹ˆanså°±ä¼šè¶Šå¤§ã€‚</p>\n<p>æ”¹æˆå¾ªç¯å®¹æ˜“è§‚å¯Ÿã€‚æ¯æ¬¡æˆ‘ä»¬æƒ³å°½é‡è·å¾—nxtï¼Œç„¶åæ‰¾æ˜¯å¦æœ‰å¦ä¸€ä¸ªqï¼Œæ»¡è¶³<code>q ^ p = nxt</code>ã€‚æ‰€ä»¥çœ‹åˆ°<code>ans^1</code>å°±æ˜¯<code>nxt</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaximumXOR</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">32</span>)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">        ans &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">        prefixes = &#123;num&gt;&gt;i <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums&#125;</span><br><span class=\"line\">        nxt = ans + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> prefixes:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p ^ nxt <span class=\"keyword\">in</span> prefixes:</span><br><span class=\"line\">                ans = nxt</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-05-04-ä¸‹ä¸€ä¸ªæ•°\"><a href=\"#é¢è¯•é¢˜-05-04-ä¸‹ä¸€ä¸ªæ•°\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 05.04. ä¸‹ä¸€ä¸ªæ•°\"></a><a href=\"https://leetcode-cn.com/problems/closed-number-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 05.04. ä¸‹ä¸€ä¸ªæ•°</a></h3><h4 id=\"æ‰¾å‡ºä¸å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­1çš„ä¸ªæ•°ç›¸åŒä¸”å¤§å°æœ€æ¥è¿‘çš„é‚£ä¸¤ä¸ªæ•°ï¼ˆä¸€ä¸ªç•¥å¤§ï¼Œä¸€ä¸ªç•¥å°ï¼‰\"><a href=\"#æ‰¾å‡ºä¸å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­1çš„ä¸ªæ•°ç›¸åŒä¸”å¤§å°æœ€æ¥è¿‘çš„é‚£ä¸¤ä¸ªæ•°ï¼ˆä¸€ä¸ªç•¥å¤§ï¼Œä¸€ä¸ªç•¥å°ï¼‰\" class=\"headerlink\" title=\"æ‰¾å‡ºä¸å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­1çš„ä¸ªæ•°ç›¸åŒä¸”å¤§å°æœ€æ¥è¿‘çš„é‚£ä¸¤ä¸ªæ•°ï¼ˆä¸€ä¸ªç•¥å¤§ï¼Œä¸€ä¸ªç•¥å°ï¼‰\"></a>æ‰¾å‡ºä¸å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­1çš„ä¸ªæ•°ç›¸åŒä¸”å¤§å°æœ€æ¥è¿‘çš„é‚£ä¸¤ä¸ªæ•°ï¼ˆä¸€ä¸ªç•¥å¤§ï¼Œä¸€ä¸ªç•¥å°ï¼‰</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼šnum &#x3D; 2ï¼ˆæˆ–è€…0b10ï¼‰</span><br><span class=\"line\">è¾“å‡ºï¼š[4, 1] æˆ–è€…ï¼ˆ[0b100, 0b1]ï¼‰</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆç”¨å­—ç¬¦ä¸²æ¥è§£ã€‚è¾ƒå¤§çš„æ•°é€šè¿‡ç¿»è½¬æœ€ä½ä½çš„01ï¼Œç„¶åé‡æ’åé¢çš„æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findClosedNumbers</span><span class=\"params\">(self, num: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    nb = format(num, <span class=\"string\">'b'</span>)</span><br><span class=\"line\">    i, j, n = nb.rfind(<span class=\"string\">'01'</span>), nb.rfind(<span class=\"string\">'10'</span>), len(nb)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        tail = nb[:i] + <span class=\"string\">'10'</span> + <span class=\"string\">''</span>.join(sorted(nb[i+<span class=\"number\">2</span>:]))</span><br><span class=\"line\">        big = int(tail, <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        big = int(<span class=\"string\">'10'</span> + nb[<span class=\"number\">1</span>:], <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> j &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        tail = nb[:j] + <span class=\"string\">'01'</span> + <span class=\"string\">''</span>.join(sorted(nb[j+<span class=\"number\">2</span>:], reverse=<span class=\"literal\">True</span>))</span><br><span class=\"line\">        small = int(tail, <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        small = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> big, small</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½è¿ç®—ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡æ€ä¹ˆçœ‹æ‡‚ã€‚è¯„è®ºåŒºå¤§ä½¬çš„ç­”æ¡ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findClosedNumbers</span><span class=\"params\">(self, num: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> num == <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [<span class=\"number\">2</span>, <span class=\"number\">-1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">next_combo</span><span class=\"params\">(num)</span>:</span></span><br><span class=\"line\">        t = num &amp; -num</span><br><span class=\"line\">        y = num + t</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ((num &amp; ~y)//t &gt;&gt; <span class=\"number\">1</span>)|y</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [next_combo(num), ~next_combo(~num)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1029-Binary-Prefix-Divisible-By-5\"><a href=\"#1029-Binary-Prefix-Divisible-By-5\" class=\"headerlink\" title=\"1029. Binary Prefix Divisible By 5\"></a>1029. Binary Prefix Divisible By 5</h3><h4 id=\"äºŒè¿›åˆ¶å‰ç¼€èƒ½å¦è¢«5æ•´é™¤ã€‚åŸé¢˜\"><a href=\"#äºŒè¿›åˆ¶å‰ç¼€èƒ½å¦è¢«5æ•´é™¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒè¿›åˆ¶å‰ç¼€èƒ½å¦è¢«5æ•´é™¤ã€‚åŸé¢˜\"></a>äºŒè¿›åˆ¶å‰ç¼€èƒ½å¦è¢«5æ•´é™¤ã€‚<a href=\"https://leetcode.com/problems/binary-prefix-divisible-by-5/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,1,1,1,1,1]</span><br><span class=\"line\">Output: [true,false,false,false,true,false]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">prefixesDivBy5</span><span class=\"params\">(self, A: List[int])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    num, ans = <span class=\"number\">0</span>, []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        num &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">        num |= d </span><br><span class=\"line\">        ans.append(<span class=\"keyword\">not</span> bool(num%<span class=\"number\">5</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå–ä½™æ“ä½œå…·æœ‰ç´¯åŠ æ€§ï¼Œç®€å•çš„ä¼˜åŒ–æå‡äº†3å€çš„é€Ÿåº¦ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">prefixesDivBy5</span><span class=\"params\">(self, A: List[int])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    num, ans = <span class=\"number\">0</span>, []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        num &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">        num |= d </span><br><span class=\"line\">        num %= <span class=\"number\">5</span></span><br><span class=\"line\">        ans.append(<span class=\"keyword\">not</span> bool(num))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"645-Set-Mismatch\"><a href=\"#645-Set-Mismatch\" class=\"headerlink\" title=\"645. Set Mismatch\"></a>645. Set Mismatch</h3><h4 id=\"1-næ•°ç»„ä¸­åŒ…å«ä¸€ä¸ªé‡å¤çš„å…ƒç´ å’Œä¸€ä¸ªç¼ºå¤±çš„å…ƒç´ ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ã€‚åŸé¢˜\"><a href=\"#1-næ•°ç»„ä¸­åŒ…å«ä¸€ä¸ªé‡å¤çš„å…ƒç´ å’Œä¸€ä¸ªç¼ºå¤±çš„å…ƒç´ ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"1~næ•°ç»„ä¸­åŒ…å«ä¸€ä¸ªé‡å¤çš„å…ƒç´ å’Œä¸€ä¸ªç¼ºå¤±çš„å…ƒç´ ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ã€‚åŸé¢˜\"></a>1~næ•°ç»„ä¸­åŒ…å«ä¸€ä¸ªé‡å¤çš„å…ƒç´ å’Œä¸€ä¸ªç¼ºå¤±çš„å…ƒç´ ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/set-mismatch/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,2,4]</span><br><span class=\"line\">Output: [2,3]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šå¼€å§‹è¿˜æƒ³ç€ç”¨<code>Counter</code>å®ç°ï¼Œæœ‰äº›æ„šè ¢ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findErrorNums</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    diff_sum = sum(set(nums))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(nums)-diff_sum, sum(range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">1</span>))-diff_sum</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåœ¨åŸæ•°ç»„å…ƒç´ *-1è®°å½•ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºå¸¸æ•°ï¼Œä½†æ˜¯æ”¹å˜äº†åŸæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ç¨å¾®é«˜ä¸€ç‚¹ï¼Œå› ä¸ºè¿­ä»£ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findErrorNums</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    dup, miss = <span class=\"number\">-1</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[abs(num)<span class=\"number\">-1</span>] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            dup = abs(num)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            nums[abs(num)<span class=\"number\">-1</span>] *= <span class=\"number\">-1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            miss = i + <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dup, miss</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šXORã€‚</p>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Bit Manipulation"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆè®¾è®¡ç¯‡ï¼‰Design","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%AE%BE%E8%AE%A1%E7%AF%87%EF%BC%89Design/","content":"<h3 id=\"155-Min-Stack\"><a href=\"#155-Min-Stack\" class=\"headerlink\" title=\"155. Min Stack\"></a>155. Min Stack</h3><h4 id=\"è®¾è®¡ä¸€ä¸ªæ ˆï¼Œè¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å°å€¼ã€‚åŸé¢˜\"><a href=\"#è®¾è®¡ä¸€ä¸ªæ ˆï¼Œè¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å°å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªæ ˆï¼Œè¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å°å€¼ã€‚åŸé¢˜\"></a>è®¾è®¡ä¸€ä¸ªæ ˆï¼Œè¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å°å€¼ã€‚<a href=\"https://leetcode.com/problems/min-stack/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">MinStack minStack &#x3D; new MinStack();</span><br><span class=\"line\">minStack.push(-2);</span><br><span class=\"line\">minStack.push(0);</span><br><span class=\"line\">minStack.push(-3);</span><br><span class=\"line\">minStack.getMin();   --&gt; Returns -3.</span><br><span class=\"line\">minStack.pop();</span><br><span class=\"line\">minStack.top();      --&gt; Returns 0.</span><br><span class=\"line\">minStack.getMin();   --&gt; Returns -2.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MinStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self._stack = []</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        cur_min = self.getMin()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x &lt; cur_min:</span><br><span class=\"line\">            cur_min = x</span><br><span class=\"line\">        self._stack.append((x, cur_min))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self._stack.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self._stack:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self._stack[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMin</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self._stack:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self._stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"232-Implement-Queue-using-Stacks\"><a href=\"#232-Implement-Queue-using-Stacks\" class=\"headerlink\" title=\"232. Implement Queue using Stacks\"></a>232. Implement Queue using Stacks</h3><h4 id=\"ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚åŸé¢˜\"><a href=\"#ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚åŸé¢˜\"></a>ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚<a href=\"https://leetcode.com/problems/implement-queue-using-stacks/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">MyQueue queue &#x3D; new MyQueue();</span><br><span class=\"line\"></span><br><span class=\"line\">queue.push(1);</span><br><span class=\"line\">queue.push(2);  </span><br><span class=\"line\">queue.peek();  &#x2F;&#x2F; returns 1</span><br><span class=\"line\">queue.pop();   &#x2F;&#x2F; returns 1</span><br><span class=\"line\">queue.empty(); &#x2F;&#x2F; returns false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼špush-O(1), pop-O(N). </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.in_stack, self.out_stack = [], []</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.in_stack.append(x)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move</span><span class=\"params\">(self)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.out_stack == []:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> self.in_stack:</span><br><span class=\"line\">                self.out_stack.append(self.in_stack.pop())</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        self.move()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.out_stack.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peek</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        self.move()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.out_stack[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.in_stack==self.out_stack==[]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼špush-O(N), pop-O(1).</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.s1 = []</span><br><span class=\"line\">        self.s2 = []</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.s1:</span><br><span class=\"line\">            self.s2.append(self.s1.pop())</span><br><span class=\"line\">        self.s1.append(x)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.s2:</span><br><span class=\"line\">            self.s1.append(self.s2.pop())</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peek</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.s1 == []</span><br></pre></td></tr></table></figure>\n<h3 id=\"225-Implement-Stack-using-Queues\"><a href=\"#225-Implement-Stack-using-Queues\" class=\"headerlink\" title=\"225. Implement Stack using Queues\"></a>225. Implement Stack using Queues</h3><h4 id=\"ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆã€‚åŸé¢˜\"><a href=\"#ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆã€‚åŸé¢˜\"></a>ä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆã€‚<a href=\"https://leetcode.com/problems/implement-stack-using-queues/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpush-O(1), pop/top O(n). æ€æƒ³åœ¨äºq2å°±æ˜¯ä¸€ä¸ªä¸´æ—¶é˜Ÿåˆ—ï¼Œæ— è®ºæ˜¯æ˜¯topè¿˜æ˜¯popéƒ½æ˜¯ä¿æŒq1å‰©ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå†äº¤æ¢q1, q2.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">        self.q1, self.q2 = deque(), deque()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q1.append(x)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(self.q1) != <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.q2.append(self.q1.popleft())</span><br><span class=\"line\">        pop_val = self.q1.popleft()</span><br><span class=\"line\">        self.q1, self.q2 = self.q2, self.q1</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pop_val</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(self.q1) != <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.q2.append(self.q1.popleft())</span><br><span class=\"line\">        val = self.q1[<span class=\"number\">0</span>]</span><br><span class=\"line\">        self.q2.append(self.q1.popleft())</span><br><span class=\"line\">        self.q1, self.q2 = self.q2, self.q1</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val</span><br><span class=\"line\">       </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> self.q1</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpush-O(n), pop/top-O(1). </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">        self.q1, self.q2 = deque(), deque()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.append(x)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.q1:</span><br><span class=\"line\">            self.q2.append(self.q1.popleft())</span><br><span class=\"line\">        self.q1, self.q2 = self.q2, self.q1</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q1.popleft()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q1[<span class=\"number\">0</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> self.q1</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸€ä¸ªé˜Ÿåˆ—æ—‹è½¬ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">        self.q = deque()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q.append(x)</span><br><span class=\"line\">        <span class=\"comment\"># self.q.rotate(1)  è¿™é‡Œæ˜¯ç”¨äº†åŒç«¯é˜Ÿåˆ—çš„ç‰¹æ€§</span></span><br><span class=\"line\">        <span class=\"comment\"># self.q.rotate(1-len(self.q))  è¿™é‡Œå’Œä¸‹é¢å¾ªç¯æ˜¯ä¸€æ ·çš„æ•ˆæœ</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(self.q)<span class=\"number\">-1</span>):</span><br><span class=\"line\">            self.q.append(self.q.popleft())</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q.popleft()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">top</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q[<span class=\"number\">0</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">empty</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> self.q</span><br></pre></td></tr></table></figure>\n<h3 id=\"295-Find-Median-from-Data-Stream\"><a href=\"#295-Find-Median-from-Data-Stream\" class=\"headerlink\" title=\"295. Find Median from Data Stream\"></a>295. Find Median from Data Stream</h3><h4 id=\"æ‰¾å‡ºæ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚<a href=\"https://leetcode.com/problems/find-median-from-data-stream/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †ï¼Œæœ€å¤§å †å­˜å‚¨è¾ƒå°çš„æ•°æ®ï¼Œæœ€å°å †å­˜å‚¨è¾ƒå¤§çš„æ•°æ®ã€‚æ·»åŠ æ•°å­—æ—¶ï¼Œå…ˆæ·»åŠ åˆ°æœ€å¤§å †ï¼Œç„¶åæœ€å¤§å †è¿”å›ä¸€ä¸ªæœ€å¤§çš„æ•°å­—ç»™æœ€å°å †ï¼Œæœ€åä¸ºäº†å¹³è¡¡ï¼Œå¯èƒ½éœ€è¦æœ€å°å †è¿˜ç»™æœ€å¤§å †ä¸€ä¸ªæœ€å°å€¼ï¼Œä»¥ä¿è¯æœ€å¤§å †çš„é•¿åº¦&gt;=æœ€å°å †çš„é•¿åº¦ã€‚ç”±äºheadpqæ˜¯æœ€å°å †ï¼Œæ‰€ä»¥ä½¿ç”¨å–åå®ç°æœ€å¤§å †ã€‚æ·»åŠ æ•°å­—ï¼šTime-O(logn)ï¼Œå–å‡ºä¸­ä½æ•°ï¼šTime-O(1)ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"code\"><pre><span class=\"line\">Adding number <span class=\"number\">41</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>]           // MaxHeap stores the largest value at the top (index <span class=\"number\">0</span>)</span><br><span class=\"line\">MinHeap hi: []             // MinHeap stores the smallest value at the top (index <span class=\"number\">0</span>)</span><br><span class=\"line\">Median is <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">35</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">35</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">41</span>]</span><br><span class=\"line\">Median is <span class=\"number\">38</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">62</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>]</span><br><span class=\"line\">Median is <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">4</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">41</span>, <span class=\"number\">62</span>]</span><br><span class=\"line\">Median is <span class=\"number\">38</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">97</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>, <span class=\"number\">97</span>]</span><br><span class=\"line\">Median is <span class=\"number\">41</span></span><br><span class=\"line\">=======================</span><br><span class=\"line\">Adding number <span class=\"number\">108</span></span><br><span class=\"line\">MaxHeap lo: [<span class=\"number\">41</span>, <span class=\"number\">35</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">MinHeap hi: [<span class=\"number\">62</span>, <span class=\"number\">97</span>, <span class=\"number\">108</span>]</span><br><span class=\"line\">Median is <span class=\"number\">51.5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MedianFinder</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.lo, self.hi = [], []  <span class=\"comment\"># lo is max_heap, hi is min_heap</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addNum</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">        hq.heappush(self.lo, -num)</span><br><span class=\"line\">        hq.heappush(self.hi, -hq.heappop(self.lo))</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.lo) &lt; len(self.hi):</span><br><span class=\"line\">            hq.heappush(self.lo, -hq.heappop(self.hi))       </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMedian</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.lo) == len(self.hi):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (-self.lo[<span class=\"number\">0</span>]+self.hi[<span class=\"number\">0</span>]) / <span class=\"number\">2.0</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(-self.lo[<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"480-Sliding-Window-Median\"><a href=\"#480-Sliding-Window-Median\" class=\"headerlink\" title=\"480. Sliding Window Median\"></a><a href=\"https://leetcode.com/problems/sliding-window-median/\" target=\"_blank\" rel=\"noopener\">480. Sliding Window Median</a></h3><h4 id=\"æ»‘åŠ¨çª—å£ä¸­çš„ä¸­ä½æ•°ã€‚è¿™é¢˜åŸºäº295çš„æ€æƒ³ï¼Œä½†æ˜¯è¦æ¯”å…¶éš¾å¤„ç†çš„å¤šã€‚\"><a href=\"#æ»‘åŠ¨çª—å£ä¸­çš„ä¸­ä½æ•°ã€‚è¿™é¢˜åŸºäº295çš„æ€æƒ³ï¼Œä½†æ˜¯è¦æ¯”å…¶éš¾å¤„ç†çš„å¤šã€‚\" class=\"headerlink\" title=\"æ»‘åŠ¨çª—å£ä¸­çš„ä¸­ä½æ•°ã€‚è¿™é¢˜åŸºäº295çš„æ€æƒ³ï¼Œä½†æ˜¯è¦æ¯”å…¶éš¾å¤„ç†çš„å¤šã€‚\"></a>æ»‘åŠ¨çª—å£ä¸­çš„ä¸­ä½æ•°ã€‚è¿™é¢˜åŸºäº295çš„æ€æƒ³ï¼Œä½†æ˜¯è¦æ¯”å…¶éš¾å¤„ç†çš„å¤šã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Window position                Median</span><br><span class=\"line\">---------------               -----</span><br><span class=\"line\">[1  3  -1] -3  5  3  6  7       1</span><br><span class=\"line\"> 1 [3  -1  -3] 5  3  6  7       -1</span><br><span class=\"line\"> 1  3 [-1  -3  5] 3  6  7       -1</span><br><span class=\"line\"> 1  3  -1 [-3  5  3] 6  7       3</span><br><span class=\"line\"> 1  3  -1  -3 [5  3  6] 7       5</span><br><span class=\"line\"> 1  3  -1  -3  5 [3  6  7]      6</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘è‡ªå·±çš„æ€è·¯æ˜¯åˆ°äº†æœ€å¤§å †æœ€å°å †ï¼Œä¸çŸ¥é“å¦‚ä½•åˆ é™¤å·¦ä¾§çª—å£åºŸå¼ƒçš„å…ƒç´ ã€‚çœ‹äº†è®¨è®ºåŒºçŸ¥é“äº†ï¼Œè¦æŠŠç´¢å¼•åŠ è¿›å»ï¼Œä½†æ˜¯å½“ä¸€ä¸ªåºŸå¼ƒçš„ç´¢å¼•ï¼Œ ä¸åœ¨å †é¦–æ— æ³•å°†å…¶å‰”é™¤æ—¶ï¼Œå°±æ˜¯å½±å“ä¸¤ä¸ªå †çš„é•¿åº¦ï¼Œé‚£ä¹ˆä»è€Œå½±å“ä¸­ä½æ•°çš„åˆ¤æ–­ã€‚è¿™æ˜¯è¿™æ®µä»£ç çš„æ ¸å¿ƒã€‚é¦–å…ˆï¼Œä¸èƒ½å¤Ÿåƒ295é‚£æ ·ï¼Œé€šè¿‡ä¸¤ä¸ªå †çš„é•¿åº¦æ¥å¹³è¡¡ï¼Œå› ä¸ºå †ä¸­å¯èƒ½å«æœ‰åºŸå¼ƒçš„å…ƒç´ ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯æ‡’åˆ é™¤ã€‚ç„¶åå°½é‡ä¿è¯hi å³æœ€å°å †çš„é•¿åº¦è¾ƒå¤§ï¼Œå½“è¦åˆ é™¤ä¸€ä¸ªæ•°æ—¶ï¼Œåˆ¤æ–­è¿™ä¸ªæ•°æ˜¯åœ¨æœ€å¤§å †è¿˜æ˜¯æœ€å°å †ã€‚å¦‚æœæ˜¯åœ¨loä¸­ï¼Œåˆ™ä»hiè¡¥é½ä¸€ä¸ªå…ƒç´ åˆ°loä¸­ï¼Œå› ä¸ºå¹³è¡¡ä¸¤ä¸ªå †æ—¶ä¸è€ƒè™‘å°†æ¥è¦è¢«åˆ é™¤çš„å…ƒç´ ã€‚20~27è¡Œæ˜¯è¿™æ®µä»£ç èƒ½æ­£å¸¸è¿ä½œçš„æ ¸å¿ƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">medianSlidingWindow</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; List[float]:</span></span><br><span class=\"line\">    lo, hi  = [], [(n, i) <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums[:k])]  <span class=\"comment\"># lo is maxheap, hi is minheap</span></span><br><span class=\"line\">    heapq.heapify(hi)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_med</span><span class=\"params\">(odd=True)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> odd:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> hi[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (-lo[<span class=\"number\">0</span>][<span class=\"number\">0</span>] + hi[<span class=\"number\">0</span>][<span class=\"number\">0</span>]) / <span class=\"number\">2</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move</span><span class=\"params\">(h1, h2)</span>:</span></span><br><span class=\"line\">        x, i = heapq.heappop(h1)</span><br><span class=\"line\">        heapq.heappush(h2, (-x, i))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k//<span class=\"number\">2</span>): </span><br><span class=\"line\">        move(hi, lo)</span><br><span class=\"line\">    <span class=\"comment\"># print(lo, hi)</span></span><br><span class=\"line\">    ans.append(get_med(k&amp;<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums[k:], k):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &gt;= hi[<span class=\"number\">0</span>][<span class=\"number\">0</span>]:</span><br><span class=\"line\">            heapq.heappush(hi, (n, i))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i-k] &lt;= hi[<span class=\"number\">0</span>][<span class=\"number\">0</span>]:</span><br><span class=\"line\">                move(hi, lo)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            heapq.heappush(lo, (-n, i))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i-k] &gt;= hi[<span class=\"number\">0</span>][<span class=\"number\">0</span>]:</span><br><span class=\"line\">                move(lo, hi)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo <span class=\"keyword\">and</span> lo[<span class=\"number\">0</span>][<span class=\"number\">1</span>] &lt;= i-k:</span><br><span class=\"line\">            heapq.heappop(lo)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> hi <span class=\"keyword\">and</span> hi[<span class=\"number\">0</span>][<span class=\"number\">1</span>] &lt;= i-k:</span><br><span class=\"line\">            heapq.heappop(hi)</span><br><span class=\"line\">        <span class=\"comment\"># print(lo, hi)</span></span><br><span class=\"line\">        ans.append(get_med(k&amp;<span class=\"number\">1</span>))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿˜æ˜¯stefançš„æ–¹æ³•å¥½ï¼Œæ¯”èµ›èƒ½åšå‡ºæ¥èµ·ç ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">medianSlidingWindow</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; List[float]:</span></span><br><span class=\"line\">    window = sorted(nums[:k])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(nums, nums[k:] + [<span class=\"number\">0</span>]):</span><br><span class=\"line\">        ans.append((window[k//<span class=\"number\">2</span>]+window[~k//<span class=\"number\">2</span>]) / <span class=\"number\">2</span>)</span><br><span class=\"line\">        window.remove(a)</span><br><span class=\"line\">        bisect.insort(window, b)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"535-Encode-and-Decode-TinyURL\"><a href=\"#535-Encode-and-Decode-TinyURL\" class=\"headerlink\" title=\"535. Encode and Decode TinyURL\"></a>535. Encode and Decode TinyURL</h3><h4 id=\"è®¾è®¡ä¸€ä¸ªçŸ­é“¾æ¥ã€‚åŸé¢˜\"><a href=\"#è®¾è®¡ä¸€ä¸ªçŸ­é“¾æ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªçŸ­é“¾æ¥ã€‚åŸé¢˜\"></a>è®¾è®¡ä¸€ä¸ªçŸ­é“¾æ¥ã€‚<a href=\"https://leetcode.com/problems/encode-and-decode-tinyurl/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Codec</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    BASE = <span class=\"number\">62</span></span><br><span class=\"line\">    UPPERCASE_OFFSET = <span class=\"number\">55</span></span><br><span class=\"line\">    LOWERCASE_OFFSET = <span class=\"number\">61</span></span><br><span class=\"line\">    DIGIT_OFFSET = <span class=\"number\">48</span></span><br><span class=\"line\">    num_sender = <span class=\"number\">0</span></span><br><span class=\"line\">    url = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">encode</span><span class=\"params\">(self, longUrl)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"Encodes a URL to a shortened URL.</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        :type longUrl: str</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: str</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> Codec.num_sender == <span class=\"number\">0</span>:</span><br><span class=\"line\">            Codec.url[Codec.num_sender] = longUrl</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'0'</span></span><br><span class=\"line\">        s_url = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> Codec.num_sender &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            tail = Codec.num_sender % Codec.BASE</span><br><span class=\"line\">            s_url = self.parse_chr(tail) + s_url</span><br><span class=\"line\">            Codec.num_sender //= Codec.BASE</span><br><span class=\"line\">        </span><br><span class=\"line\">        Codec.url[Codec.num_sender] = longUrl</span><br><span class=\"line\">        Codec.num_sender += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> s_url</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decode</span><span class=\"params\">(self, shortUrl)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"Decodes a shortened URL to its original URL.</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        :type shortUrl: str</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: str</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        num = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, char <span class=\"keyword\">in</span> enumerate(reversed(shortUrl)):</span><br><span class=\"line\">            num += self.parse_ord(char) * (Codec.BASE**i)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Codec.url[num]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">parse_ord</span><span class=\"params\">(self, char)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> char.isdigit():</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ord(char) - Codec.DIGIT_OFFSET</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> char.islower():</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ord(char) - Codec.LOWERCASE_OFFSET</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> char.isupper():</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ord(char) - Codec.UPPERCASE_OFFSET</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">raise</span> ValueError(<span class=\"string\">'%s is not a valid character'</span> % char)</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">parse_chr</span><span class=\"params\">(self, integer)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> integer &lt; <span class=\"number\">10</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> chr(integer + DIGIT_OFFSET)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> <span class=\"number\">10</span> &lt;= integer &lt;= <span class=\"number\">35</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> chr(integer + UPPERCASE_OFFSET)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> <span class=\"number\">36</span> &lt;= integer &lt; <span class=\"number\">62</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> chr(integer + LOWERCASE_OFFSET)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">raise</span> ValueError(<span class=\"string\">'%d is not a valid integer in the range of base %d'</span> % (integer, Codec.BASE))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨å­—å…¸ä¿å­˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Codec</span>:</span></span><br><span class=\"line\">    BASE = <span class=\"number\">62</span></span><br><span class=\"line\">    num_sender = <span class=\"number\">0</span></span><br><span class=\"line\">    ALNUM = string.ascii_letters + <span class=\"string\">'0123456789'</span></span><br><span class=\"line\">    d_map = &#123;c: i <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(ALNUM)&#125;</span><br><span class=\"line\">    url = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">encode</span><span class=\"params\">(self, longUrl)</span>:</span></span><br><span class=\"line\">        pk = Codec.num_sender</span><br><span class=\"line\">        s_url = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> pk &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            pk, tail = divmod(pk, Codec.BASE)</span><br><span class=\"line\">            s_url = Codec.ALNUM[tail] + s_url</span><br><span class=\"line\"></span><br><span class=\"line\">        Codec.url[pk] = longUrl</span><br><span class=\"line\">        Codec.num_sender += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> pk == <span class=\"number\">0</span>:</span><br><span class=\"line\">            s_url = Codec.ALNUM[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s_url </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decode</span><span class=\"params\">(self, shortUrl)</span>:</span></span><br><span class=\"line\">        pk = sum(Codec.d_map[c]*Codec.BASE**i </span><br><span class=\"line\">                 <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(reversed(shortUrl)))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Codec.url[pk]</span><br></pre></td></tr></table></figure>\n<h3 id=\"707-Design-Linked-List\"><a href=\"#707-Design-Linked-List\" class=\"headerlink\" title=\"707. Design Linked List\"></a>707. Design Linked List</h3><h4 id=\"è®¾è®¡ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\"><a href=\"#è®¾è®¡ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\"></a>è®¾è®¡ä¸€ä¸ªé“¾è¡¨ã€‚<a href=\"https://leetcode.com/problems/design-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">MyLinkedList linkedList &#x3D; new MyLinkedList();</span><br><span class=\"line\">linkedList.addAtHead(1);</span><br><span class=\"line\">linkedList.addAtTail(3);</span><br><span class=\"line\">linkedList.addAtIndex(1, 2);  &#x2F;&#x2F; linked list becomes 1-&gt;2-&gt;3</span><br><span class=\"line\">linkedList.get(1);            &#x2F;&#x2F; returns 2</span><br><span class=\"line\">linkedList.deleteAtIndex(1);  &#x2F;&#x2F; now the linked list is 1-&gt;3</span><br><span class=\"line\">linkedList.get(1);            &#x2F;&#x2F; returns 3</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ListNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, val)</span>:</span></span><br><span class=\"line\">        self.val = val</span><br><span class=\"line\">        self.next = <span class=\"literal\">None</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyLinkedList</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.head = <span class=\"literal\">None</span></span><br><span class=\"line\">        self.size = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self, index: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> index &lt; <span class=\"number\">0</span> <span class=\"keyword\">or</span> index &gt;= self.size <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">            self.head <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.findIndex(index).val</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addAtHead</span><span class=\"params\">(self, val: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        self.addAtIndex(<span class=\"number\">0</span>, val)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addAtTail</span><span class=\"params\">(self, val: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        self.addAtIndex(self.size, val)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addAtIndex</span><span class=\"params\">(self, index: <span class=\"string\">'int'</span>, val: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> index &gt; self.size:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> index == <span class=\"number\">0</span>:</span><br><span class=\"line\">            head = ListNode(val)</span><br><span class=\"line\">            head.next, self.head = self.head, head</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            pre = self.findIndex(index<span class=\"number\">-1</span>)</span><br><span class=\"line\">            cur = ListNode(val)</span><br><span class=\"line\">            cur.next, pre.next = pre.next, cur</span><br><span class=\"line\">        self.size += <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteAtIndex</span><span class=\"params\">(self, index: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> index &lt; <span class=\"number\">0</span> <span class=\"keyword\">or</span> index &gt;= self.size:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        cur = self.findIndex(index<span class=\"number\">-1</span>)</span><br><span class=\"line\">        cur.next = cur.next.next</span><br><span class=\"line\">        self.size -= <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findIndex</span><span class=\"params\">(self, index: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        cur = self.head</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(index):</span><br><span class=\"line\">            cur = cur.next</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur</span><br></pre></td></tr></table></figure>\n<h3 id=\"146-LRU-Cache\"><a href=\"#146-LRU-Cache\" class=\"headerlink\" title=\"146. LRU Cache\"></a>146. LRU Cache</h3><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">LRUCache cache &#x3D; new LRUCache( 2 &#x2F;* capacity *&#x2F; );</span><br><span class=\"line\"></span><br><span class=\"line\">cache.put(1, 1);</span><br><span class=\"line\">cache.put(2, 2);</span><br><span class=\"line\">cache.get(1);       &#x2F;&#x2F; returns 1</span><br><span class=\"line\">cache.put(3, 3);    &#x2F;&#x2F; evicts key 2</span><br><span class=\"line\">cache.get(2);       &#x2F;&#x2F; returns -1 (not found)</span><br><span class=\"line\">cache.put(4, 4);    &#x2F;&#x2F; evicts key 1</span><br><span class=\"line\">cache.get(1);       &#x2F;&#x2F; returns -1 (not found)</span><br><span class=\"line\">cache.get(3);       &#x2F;&#x2F; returns 3</span><br><span class=\"line\">cache.get(4);       &#x2F;&#x2F; returns 4</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šä½¿ç”¨<code>OrderedDict</code>. </font>\n\n<p>å¼€å§‹æœ‰ä¸¤ä¸ª<code>testcase</code>æ²¡è¿‡ï¼Œä¸€ä¸ªæ˜¯<code>{2: 3, 1: 1}</code>æ›´æ–°2æ—¶ï¼Œå’Œ<code>{1: 1, 2: 3}</code>æ›´æ–°2æ—¶ï¼ŒäºŒè€…éƒ½å¯ä»¥ä½¿ç”¨å…ˆpopå†æ›´æ–°çš„æ–¹å¼ã€‚remainçš„æ–¹å¼æ˜¯ä»discusså­¦æ¥çš„ï¼Œä¹‹å‰è¿˜ç”¨<code>len</code>æˆ–é¢å¤–çš„<code>size</code>æ¥ä¿å­˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LRUCache</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, capacity: <span class=\"string\">'int'</span>)</span>:</span></span><br><span class=\"line\">        self.cache = collections.OrderedDict()</span><br><span class=\"line\">        self.remain = capacity</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self, key: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> key <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.cache:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        self.cache.move_to_end(key)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.cache.get(key)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">put</span><span class=\"params\">(self, key: <span class=\"string\">'int'</span>, value: <span class=\"string\">'int'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> key <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.cache:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.remain &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                self.remain -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                self.cache.popitem(last=<span class=\"literal\">False</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.cache.pop(key)</span><br><span class=\"line\">        self.cache[key] = value</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨OrderedDict</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, key=<span class=\"number\">0</span>, value=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        self.key = key</span><br><span class=\"line\">        self.val = value</span><br><span class=\"line\">        self.next = <span class=\"literal\">None</span></span><br><span class=\"line\">        self.prev = <span class=\"literal\">None</span></span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"comment\">#     def __repr__(self):</span></span><br><span class=\"line\"><span class=\"comment\">#         return '&lt;DLinkedNode: (&#123;&#125;, &#123;&#125;)&gt;'.format(self.key, self.val)</span></span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedList</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.head = DLinkedNode()</span><br><span class=\"line\">        self.tail = DLinkedNode()</span><br><span class=\"line\">        self.head.next, self.tail.prev = self.tail, self.head</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">add_node</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        node.prev, node.next = self.head, self.head.next</span><br><span class=\"line\">        node.next.prev, node.prev.next = node, node</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_node</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        node.prev.next, node.next.prev = node.next, node.prev</span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.key</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_tail</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        key = self.tail.prev.key</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.remove_node(self.tail.prev)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move_to_head</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        self.remove_node(node)</span><br><span class=\"line\">        self.add_node(node)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"comment\"># def __repr__(self):</span></span><br><span class=\"line\">    <span class=\"comment\">#     ans = []</span></span><br><span class=\"line\">    <span class=\"comment\">#     h = self.head</span></span><br><span class=\"line\">    <span class=\"comment\">#     while h:</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans.append(str(h.val))</span></span><br><span class=\"line\">    <span class=\"comment\">#         h = h.next</span></span><br><span class=\"line\">    <span class=\"comment\">#     return '&lt;DLinkedList: &#123;&#125;&gt;'.format('-&gt;'.join(ans))</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LRUCache</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, capacity: int)</span>:</span></span><br><span class=\"line\">        self.capacity = capacity</span><br><span class=\"line\">        self.nodes = &#123;&#125;</span><br><span class=\"line\">        self.cache = DLinkedList()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self, key: int)</span> -&gt; int:</span></span><br><span class=\"line\">        node = self.nodes.get(key, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            self.cache.move_to_head(node)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> node.val</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">put</span><span class=\"params\">(self, key: int, value: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        node = self.nodes.get(key, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.capacity &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                self.capacity -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                rm_key = self.cache.remove_tail()</span><br><span class=\"line\">                self.nodes.pop(rm_key)</span><br><span class=\"line\">            new_node = DLinkedNode(key, value)</span><br><span class=\"line\">            self.nodes[key] = new_node</span><br><span class=\"line\">            self.cache.add_node(new_node)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.cache.move_to_head(node)</span><br><span class=\"line\">            node.val = value</span><br></pre></td></tr></table></figure>\n<h3 id=\"460-LFU-Cache\"><a href=\"#460-LFU-Cache\" class=\"headerlink\" title=\"460. LFU Cache\"></a><a href=\"https://leetcode.com/problems/lfu-cache/\" target=\"_blank\" rel=\"noopener\">460. LFU Cache</a></h3><h4 id=\"è®¾è®¡ä¸€ä¸ªLFUç¼“å­˜ã€‚\"><a href=\"#è®¾è®¡ä¸€ä¸ªLFUç¼“å­˜ã€‚\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªLFUç¼“å­˜ã€‚\"></a>è®¾è®¡ä¸€ä¸ªLFUç¼“å­˜ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šç®€å•åœ°çœ‹äº†ä¸€ä¸‹é¢˜è§£åï¼Œå†™äº†åŠä¸ªä¸‹åˆã€‚éœ€è¦è€ƒè™‘çš„åœ°æ–¹ç¡®å®å¾ˆå¤šã€‚å…¶å®ƒçš„åœ°æ–¹éƒ½è¿˜å¥½ï¼Œå…³äº<code>min_freq</code>çš„æ›´æ–°å¤„è¸©äº†ä¸€ä¸ªå‘ï¼Œå°±æ˜¯å¿…é¡»å¾—æ˜¯å½“å‰æœ€å°çš„ç©ºäº†ä»¥åï¼Œå†æ›´æ–°å®ƒã€‚ä¸ºäº†å…¼å®¹capacityä¸º0çš„æƒ…å†µï¼Œåœ¨DLinkedListä¸­æ·»åŠ äº†countå˜é‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, key=<span class=\"number\">0</span>, value=<span class=\"number\">0</span>, freq=<span class=\"number\">1</span>)</span>:</span></span><br><span class=\"line\">        self.key = key</span><br><span class=\"line\">        self.val = value</span><br><span class=\"line\">        self.freq = freq</span><br><span class=\"line\">        self.next = <span class=\"literal\">None</span></span><br><span class=\"line\">        self.prev = <span class=\"literal\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedList</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.count = <span class=\"number\">0</span></span><br><span class=\"line\">        self.head = DLinkedNode()</span><br><span class=\"line\">        self.tail = DLinkedNode()</span><br><span class=\"line\">        self.head.next, self.tail.prev = self.tail, self.head</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">add_node</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        self.count += <span class=\"number\">1</span></span><br><span class=\"line\">        node.prev, node.next = self.head, self.head.next</span><br><span class=\"line\">        node.next.prev, self.head.next = node, node</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_node</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.count &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            self.count -= <span class=\"number\">1</span></span><br><span class=\"line\">            node.prev.next = node.next</span><br><span class=\"line\">            node.next.prev = node.prev</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_tail</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        key = self.tail.prev.key</span><br><span class=\"line\">        self.remove_node(self.tail.prev)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> key</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_empty</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.count == <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LFUCache</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, capacity: int)</span>:</span></span><br><span class=\"line\">        self.capacity = capacity</span><br><span class=\"line\">        self.min_freq = <span class=\"number\">1</span></span><br><span class=\"line\">        self.freq_map = defaultdict(DLinkedList)</span><br><span class=\"line\">        self.key_map = &#123;&#125;</span><br><span class=\"line\">        self.is_empty = capacity==<span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self, key: int)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.is_empty: <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        node = self.key_map.get(key, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            self.increase_freq(node)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> node.val</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">put</span><span class=\"params\">(self, key: int, value: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.is_empty: <span class=\"keyword\">return</span> </span><br><span class=\"line\">        node = self.key_map.get(key, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.capacity &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                self.capacity -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                r_key = self.freq_map[self.min_freq].remove_tail()</span><br><span class=\"line\">                self.key_map.pop(r_key, <span class=\"number\">-1</span>)</span><br><span class=\"line\">                </span><br><span class=\"line\">            new_node = DLinkedNode(key, value)</span><br><span class=\"line\">            self.freq_map[<span class=\"number\">1</span>].add_node(new_node)</span><br><span class=\"line\">            self.min_freq = <span class=\"number\">1</span></span><br><span class=\"line\">            self.key_map[key] = new_node</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            node.val = value</span><br><span class=\"line\">            self.increase_freq(node)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increase_freq</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        freq = node.freq</span><br><span class=\"line\">        self.freq_map[freq].remove_node(node)</span><br><span class=\"line\">        freq += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.freq_map[freq<span class=\"number\">-1</span>].is_empty():</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.min_freq == freq - <span class=\"number\">1</span>:</span><br><span class=\"line\">                self.min_freq = freq</span><br><span class=\"line\">        node.freq = freq</span><br><span class=\"line\">        self.freq_map[freq].add_node(node)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1381-Design-a-Stack-With-Increment-Operation\"><a href=\"#1381-Design-a-Stack-With-Increment-Operation\" class=\"headerlink\" title=\"1381. Design a Stack With Increment Operation\"></a>1381. Design a Stack With Increment Operation</h3><h4 id=\"è®¾è®¡ä¸€ä¸ªæ ˆï¼Œå®ç°ä¸€ä¸ªå°†kä¸ªæ ˆåº•å…ƒç´ å…¨éƒ¨å¢åŠ valçš„æ–¹æ³•ã€‚åŸé¢˜\"><a href=\"#è®¾è®¡ä¸€ä¸ªæ ˆï¼Œå®ç°ä¸€ä¸ªå°†kä¸ªæ ˆåº•å…ƒç´ å…¨éƒ¨å¢åŠ valçš„æ–¹æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªæ ˆï¼Œå®ç°ä¸€ä¸ªå°†kä¸ªæ ˆåº•å…ƒç´ å…¨éƒ¨å¢åŠ valçš„æ–¹æ³•ã€‚åŸé¢˜\"></a>è®¾è®¡ä¸€ä¸ªæ ˆï¼Œå®ç°ä¸€ä¸ªå°†kä¸ªæ ˆåº•å…ƒç´ å…¨éƒ¨å¢åŠ valçš„æ–¹æ³•ã€‚<a href=\"https://leetcode.com/problems/design-a-stack-with-increment-operation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input</span><br><span class=\"line\">[&quot;CustomStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;pop&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;increment&quot;,&quot;increment&quot;,&quot;pop&quot;,&quot;pop&quot;,&quot;pop&quot;,&quot;pop&quot;]</span><br><span class=\"line\">[[3],[1],[2],[],[2],[3],[4],[5,100],[2,100],[],[],[],[]]</span><br><span class=\"line\">Output</span><br><span class=\"line\">[null,null,null,2,null,null,null,null,null,103,202,201,-1]</span><br><span class=\"line\">Explanation</span><br><span class=\"line\">CustomStack customStack &#x3D; new CustomStack(3); &#x2F;&#x2F; Stack is Empty []</span><br><span class=\"line\">customStack.push(1);                          &#x2F;&#x2F; stack becomes [1]</span><br><span class=\"line\">customStack.push(2);                          &#x2F;&#x2F; stack becomes [1, 2]</span><br><span class=\"line\">customStack.pop();                            &#x2F;&#x2F; return 2 --&gt; Return top of the stack 2, stack becomes [1]</span><br><span class=\"line\">customStack.push(2);                          &#x2F;&#x2F; stack becomes [1, 2]</span><br><span class=\"line\">customStack.push(3);                          &#x2F;&#x2F; stack becomes [1, 2, 3]</span><br><span class=\"line\">customStack.push(4);                          &#x2F;&#x2F; stack still [1, 2, 3], Don&#39;t add another elements as size is 4</span><br><span class=\"line\">customStack.increment(5, 100);                &#x2F;&#x2F; stack becomes [101, 102, 103]</span><br><span class=\"line\">customStack.increment(2, 100);                &#x2F;&#x2F; stack becomes [201, 202, 103]</span><br><span class=\"line\">customStack.pop();                            &#x2F;&#x2F; return 103 --&gt; Return top of the stack 103, stack becomes [201, 202]</span><br><span class=\"line\">customStack.pop();                            &#x2F;&#x2F; return 202 --&gt; Return top of the stack 102, stack becomes [201]</span><br><span class=\"line\">customStack.pop();                            &#x2F;&#x2F; return 201 --&gt; Return top of the stack 101, stack becomes []</span><br><span class=\"line\">customStack.pop();                            &#x2F;&#x2F; return -1 --&gt; Stack is empty return -1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ™®é€šçš„æ–¹æ³•ä¸è®°å½•äº†ï¼Œè¿™é‡Œå­¦åˆ°ä¸€ä¸ªå»¶è¿Ÿå¢åŠ çš„æ–¹æ³•ã€‚å› ä¸ºå€¼çš„å¢åŠ åªæœ‰åœ¨<code>pop</code>çš„æ—¶å€™æ‰ä¼šä½“ç°ï¼Œæ‰€ä»¥ç»´æŠ¤äº†ä¸€ä¸ª<code>inc</code>ç”¨æ¥ç´¯åŠ å¢åŠ çš„å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomStack</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, maxSize: int)</span>:</span></span><br><span class=\"line\">        self.stack = []</span><br><span class=\"line\">        self.max_size = maxSize</span><br><span class=\"line\">        self.inc = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">push</span><span class=\"params\">(self, x: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.stack) &lt; self.max_size:</span><br><span class=\"line\">            self.stack.append(x)</span><br><span class=\"line\">            self.inc.append(<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pop</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.stack: <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.inc) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.inc[<span class=\"number\">-2</span>] += self.inc[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.inc.pop() + self.stack.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increment</span><span class=\"params\">(self, k: int, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.inc:</span><br><span class=\"line\">            self.inc[min(k, len(self.inc))<span class=\"number\">-1</span>] += val</span><br></pre></td></tr></table></figure>\n<h3 id=\"208-Implement-Trie-Prefix-Tree\"><a href=\"#208-Implement-Trie-Prefix-Tree\" class=\"headerlink\" title=\"208. Implement Trie (Prefix Tree)\"></a>208. Implement Trie (Prefix Tree)</h3><h4 id=\"å®ç°ä¸€ä¸ªå•è¯æŸ¥æ‰¾æ ‘ã€‚åŸé¢˜\"><a href=\"#å®ç°ä¸€ä¸ªå•è¯æŸ¥æ‰¾æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°ä¸€ä¸ªå•è¯æŸ¥æ‰¾æ ‘ã€‚åŸé¢˜\"></a>å®ç°ä¸€ä¸ªå•è¯æŸ¥æ‰¾æ ‘ã€‚<a href=\"https://leetcode.com/problems/implement-trie-prefix-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Trie trie &#x3D; new Trie();</span><br><span class=\"line\"></span><br><span class=\"line\">trie.insert(&quot;apple&quot;);</span><br><span class=\"line\">trie.search(&quot;apple&quot;);   &#x2F;&#x2F; returns true</span><br><span class=\"line\">trie.search(&quot;app&quot;);     &#x2F;&#x2F; returns false</span><br><span class=\"line\">trie.startsWith(&quot;app&quot;); &#x2F;&#x2F; returns true</span><br><span class=\"line\">trie.insert(&quot;app&quot;);   </span><br><span class=\"line\">trie.search(&quot;app&quot;);     &#x2F;&#x2F; returns true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘çš„å¸¸è§„èŠ‚ç‚¹æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrieNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.child = collections.defaultdict(TrieNode)</span><br><span class=\"line\">        self.is_word = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Trie</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.root = TrieNode()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, word: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> word:</span><br><span class=\"line\">            cur = cur.child[letter]</span><br><span class=\"line\">        cur.is_word = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> word:</span><br><span class=\"line\">            cur = cur.child.get(letter)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur.is_word</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">startsWith</span><span class=\"params\">(self, prefix: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> prefix:</span><br><span class=\"line\">            cur = cur.child.get(letter)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š<code>reduce</code>çš„å¦™ç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Trie</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        T = <span class=\"keyword\">lambda</span>: collections.defaultdict(T)</span><br><span class=\"line\">        self.root = T()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, word)</span>:</span></span><br><span class=\"line\">        reduce(dict.__getitem__, word, self.root)[<span class=\"string\">'#'</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, word)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'#'</span> <span class=\"keyword\">in</span> reduce(<span class=\"keyword\">lambda</span> cur, c: cur.get(c, &#123;&#125;), word, self.root)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">startsWith</span><span class=\"params\">(self, prefix)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> bool(reduce(<span class=\"keyword\">lambda</span> cur, c: cur.get(c, &#123;&#125;), prefix, self.root))</span><br></pre></td></tr></table></figure>\n<h3 id=\"380-Insert-Delete-GetRandom-O-1\"><a href=\"#380-Insert-Delete-GetRandom-O-1\" class=\"headerlink\" title=\"380. Insert Delete GetRandom O(1)\"></a>380. Insert Delete GetRandom O(1)</h3><h4 id=\"è®¾è®¡ä¸€ä¸ªç±»ï¼Œæ’å…¥åˆ é™¤ï¼Œéšæœºéƒ½æ˜¯O-1-ã€‚åŸé¢˜\"><a href=\"#è®¾è®¡ä¸€ä¸ªç±»ï¼Œæ’å…¥åˆ é™¤ï¼Œéšæœºéƒ½æ˜¯O-1-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªç±»ï¼Œæ’å…¥åˆ é™¤ï¼Œéšæœºéƒ½æ˜¯O(1)ã€‚åŸé¢˜\"></a>è®¾è®¡ä¸€ä¸ªç±»ï¼Œæ’å…¥åˆ é™¤ï¼Œéšæœºéƒ½æ˜¯O(1)ã€‚<a href=\"https://leetcode.com/problems/insert-delete-getrandom-o1/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; Init an empty set.</span><br><span class=\"line\">RandomizedSet randomSet &#x3D; new RandomizedSet();</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Inserts 1 to the set. Returns true as 1 was inserted successfully.</span><br><span class=\"line\">randomSet.insert(1);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Returns false as 2 does not exist in the set.</span><br><span class=\"line\">randomSet.remove(2);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Inserts 2 to the set, returns true. Set now contains [1,2].</span><br><span class=\"line\">randomSet.insert(2);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; getRandom should return either 1 or 2 randomly.</span><br><span class=\"line\">randomSet.getRandom();</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Removes 1 from the set, returns true. Set now contains [2].</span><br><span class=\"line\">randomSet.remove(1);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; 2 was already in the set, so return false.</span><br><span class=\"line\">randomSet.insert(2);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Since 2 is the only number in the set, getRandom always return 2.</span><br><span class=\"line\">randomSet.getRandom();</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè§£æ³•çš„æ€æƒ³æœ‰ç‚¹åƒåˆ é™¤é“¾è¡¨ï¼Œæ˜¯ä¸€ç§è¦†ç›–çš„æ€æƒ³ã€‚ä¸»è¦æ˜¯åˆ é™¤æ—¶ç”¨æœ€åçš„å…ƒç´ å°†å…¶è¦†ç›–ï¼Œç„¶åå†å°†æœ«å°¾çš„å…ƒç´ åˆ é™¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RandomizedSet</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.nums, self.pos = [], &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, val: int)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> val <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.pos:</span><br><span class=\"line\">            self.nums.append(val)</span><br><span class=\"line\">            self.pos[val] = len(self.nums)<span class=\"number\">-1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove</span><span class=\"params\">(self, val: int)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> val <span class=\"keyword\">in</span> self.pos:</span><br><span class=\"line\">            idx, last = self.pos[val], self.nums[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            self.nums[idx], self.pos[last] = last, idx</span><br><span class=\"line\">            self.nums.pop()</span><br><span class=\"line\">            self.pos.pop(val)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getRandom</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> random.choice(self.nums)</span><br></pre></td></tr></table></figure>\n<h3 id=\"341-Flatten-Nested-List-Iterator\"><a href=\"#341-Flatten-Nested-List-Iterator\" class=\"headerlink\" title=\"341. Flatten Nested List Iterator\"></a>341. Flatten Nested List Iterator</h3><h4 id=\"æ‰å¹³åŒ–ä¸€ä¸ªåµŒå¥—çš„Listè¿­ä»£å™¨ï¼ŒNestedIntegeræ˜¯ä¸€ä¸ªç±»ã€‚åŸé¢˜\"><a href=\"#æ‰å¹³åŒ–ä¸€ä¸ªåµŒå¥—çš„Listè¿­ä»£å™¨ï¼ŒNestedIntegeræ˜¯ä¸€ä¸ªç±»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰å¹³åŒ–ä¸€ä¸ªåµŒå¥—çš„Listè¿­ä»£å™¨ï¼ŒNestedIntegeræ˜¯ä¸€ä¸ªç±»ã€‚åŸé¢˜\"></a>æ‰å¹³åŒ–ä¸€ä¸ªåµŒå¥—çš„Listè¿­ä»£å™¨ï¼ŒNestedIntegeræ˜¯ä¸€ä¸ªç±»ã€‚<a href=\"https://leetcode.com/problems/flatten-nested-list-iterator/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,1],2,[1,1]]</span><br><span class=\"line\">Output: [1,1,2,1,1]</span><br><span class=\"line\">Explanation: By calling next repeatedly until hasNext returns false, </span><br><span class=\"line\">             the order of elements returned by next should be: [1,1,2,1,1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é‡Œè®¾è®¡æ—¶è€ƒè™‘äº†ï¼Œnextä¹‹å‰å¯èƒ½ä¸ä¼šè°ƒç”¨hasNextã€‚å› ä¸ºæ­£å¸¸æ¥è¯´ä¸€ä¸ªç”Ÿæˆå™¨å°±æ˜¯è¿™æ ·çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#class NestedInteger:</span></span><br><span class=\"line\"><span class=\"comment\">#    def isInteger(self) -&gt; bool:</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"><span class=\"comment\">#        @return True if this NestedInteger holds a single integer, rather than a nested list.</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#    def getInteger(self) -&gt; int:</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"><span class=\"comment\">#        @return the single integer that this NestedInteger holds, if it holds a single integer</span></span><br><span class=\"line\"><span class=\"comment\">#        Return None if this NestedInteger holds a nested list</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\">#    def getList(self) -&gt; [NestedInteger]:</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"><span class=\"comment\">#        @return the nested list that this NestedInteger holds, if it holds a nested list</span></span><br><span class=\"line\"><span class=\"comment\">#        Return None if this NestedInteger holds a single integer</span></span><br><span class=\"line\"><span class=\"comment\">#        \"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NestedIterator</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nestedList: [NestedInteger])</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flatten</span><span class=\"params\">(items)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> items:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> x.getInteger() <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> x.getInteger()</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> flatten(x.getList())</span><br><span class=\"line\">                    </span><br><span class=\"line\">        self.g = flatten(nestedList)</span><br><span class=\"line\">        self.buff = <span class=\"literal\">None</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">next</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.buff <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            ans = self.buff</span><br><span class=\"line\">            self.buff = <span class=\"literal\">None</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> next(self.g)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasNext</span><span class=\"params\">(self)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.buff <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            self.buff = next(self.g)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">except</span> StopIteration:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Your NestedIterator object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\"># i, v = NestedIterator(nestedList), []</span></span><br><span class=\"line\"><span class=\"comment\"># while i.hasNext(): v.append(i.next())</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"5525-çš‡ä½ç»§æ‰¿é¡ºåº\"><a href=\"#5525-çš‡ä½ç»§æ‰¿é¡ºåº\" class=\"headerlink\" title=\"5525. çš‡ä½ç»§æ‰¿é¡ºåº\"></a><a href=\"https://leetcode-cn.com/problems/throne-inheritance/\" target=\"_blank\" rel=\"noopener\">5525. çš‡ä½ç»§æ‰¿é¡ºåº</a></h4><h4 id=\"å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå®é™…ä¸Šå°±æ˜¯è®©è§ä¸€ä¸ªå®¶æ—å›¾è°±ï¼Œç„¶åå…ˆåºéå†ã€‚\"><a href=\"#å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå®é™…ä¸Šå°±æ˜¯è®©è§ä¸€ä¸ªå®¶æ—å›¾è°±ï¼Œç„¶åå…ˆåºéå†ã€‚\" class=\"headerlink\" title=\"å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå®é™…ä¸Šå°±æ˜¯è®©è§ä¸€ä¸ªå®¶æ—å›¾è°±ï¼Œç„¶åå…ˆåºéå†ã€‚\"></a>å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå®é™…ä¸Šå°±æ˜¯è®©è§ä¸€ä¸ªå®¶æ—å›¾è°±ï¼Œç„¶åå…ˆåºéå†ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›çš„æ—¶å€™æƒ³åˆ°äº†Nå‰æ ‘ï¼Œä½†æ˜¯è®¾è®¡ä¸Šæ²¡æƒ³å¥½æ€ä¹ˆé€šè¿‡familyèŠ‚ç‚¹èåˆã€‚æ‰€ä»¥ç›´æ¥ç”¨çš„defaultdictåšçš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ThroneInheritance</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, kingName: str)</span>:</span></span><br><span class=\"line\">        self.g = defaultdict(list)</span><br><span class=\"line\">        self.king = kingName</span><br><span class=\"line\">        self.d = set()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">birth</span><span class=\"params\">(self, parentName: str, childName: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.g[parentName].append(childName)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">death</span><span class=\"params\">(self, name: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.d.add(name)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getInheritanceOrder</span><span class=\"params\">(self)</span> -&gt; List[str]:</span></span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(p)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> p <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.d:</span><br><span class=\"line\">                ans.append(p)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> children <span class=\"keyword\">in</span> self.g[p]:</span><br><span class=\"line\">                dfs(children)</span><br><span class=\"line\">        dfs(self.king)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨å¤šå‰æ ‘æ¨¡æ‹Ÿã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, name)</span>:</span></span><br><span class=\"line\">        self.name = name</span><br><span class=\"line\">        self.children = []</span><br><span class=\"line\">        self.alive = <span class=\"literal\">True</span></span><br><span class=\"line\">    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ThroneInheritance</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, kingName: str)</span>:</span></span><br><span class=\"line\">        self.root = Person(kingName)</span><br><span class=\"line\">        self.family = &#123;kingName: self.root&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">birth</span><span class=\"params\">(self, parentName: str, childName: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        child = Person(childName)</span><br><span class=\"line\">        self.family[parentName].children.append(child)</span><br><span class=\"line\">        self.family[childName] = child</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">death</span><span class=\"params\">(self, name: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.family[name].alive = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getInheritanceOrder</span><span class=\"params\">(self)</span> -&gt; List[str]:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> node.alive:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> node.name</span><br><span class=\"line\">                <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> node.children:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(child)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list(dfs(self.root))</span><br></pre></td></tr></table></figure>\n<h3 id=\"432-All-O-one-Data-Structure\"><a href=\"#432-All-O-one-Data-Structure\" class=\"headerlink\" title=\"432. All O`one Data Structure\"></a><a href=\"https://leetcode-cn.com/problems/all-oone-data-structure/\" target=\"_blank\" rel=\"noopener\">432. All O`one Data Structure</a></h3><h4 id=\"å®ç°ä¸€ä¸ªæ•°æ®ç»“æ„ä½¿æ‰€æœ‰çš„æ“ä½œåœ¨O-1-æ—¶é—´å¤æ‚åº¦ã€‚æŸä¸ªKeyè®¡æ•°-1æˆ–è€…-1ï¼Œè¿”å›æœ€å¤šã€æœ€å°‘çš„keyå…¶ä¸­çš„ä¸€ä¸ªã€‚\"><a href=\"#å®ç°ä¸€ä¸ªæ•°æ®ç»“æ„ä½¿æ‰€æœ‰çš„æ“ä½œåœ¨O-1-æ—¶é—´å¤æ‚åº¦ã€‚æŸä¸ªKeyè®¡æ•°-1æˆ–è€…-1ï¼Œè¿”å›æœ€å¤šã€æœ€å°‘çš„keyå…¶ä¸­çš„ä¸€ä¸ªã€‚\" class=\"headerlink\" title=\"å®ç°ä¸€ä¸ªæ•°æ®ç»“æ„ä½¿æ‰€æœ‰çš„æ“ä½œåœ¨O(1)æ—¶é—´å¤æ‚åº¦ã€‚æŸä¸ªKeyè®¡æ•°+1æˆ–è€…-1ï¼Œè¿”å›æœ€å¤šã€æœ€å°‘çš„keyå…¶ä¸­çš„ä¸€ä¸ªã€‚\u0007\"></a>å®ç°ä¸€ä¸ªæ•°æ®ç»“æ„ä½¿æ‰€æœ‰çš„æ“ä½œåœ¨O(1)æ—¶é—´å¤æ‚åº¦ã€‚æŸä¸ªKeyè®¡æ•°+1æˆ–è€…-1ï¼Œè¿”å›æœ€å¤šã€æœ€å°‘çš„keyå…¶ä¸­çš„ä¸€ä¸ªã€‚\u0007</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æœ‰éš¾åº¦è€Œä¸”å®ç°å¾ˆå¤æ‚ï¼Œæˆ‘å¼€å§‹çš„æ—¶å€™æƒ³ç€ä»¥LFUçš„å½¢å¼æ¥è§£ï¼Œå†™åˆ°æœ€åå‘ç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå½“ä¸€ä¸ªkeyçš„è®¡æ•°å˜ä¸º0çš„æ—¶å€™ï¼Œæˆ‘æ²¡æ³•ç»´æŠ¤ä¸€ä¸ªmin_freqæ¥è®°å½•æœ€å°çš„è®¡æ•°ã€‚å¯¹æˆ‘æ¥è¯´æ­¤é¢˜é¦–å…ˆè¦æ‰“ç ´å¸¸è§„ï¼Œä¹‹å‰æ€»æ˜¯è®¤ä¸ºNodeèŠ‚ç‚¹å°±è£…nodeï¼Œå…¶å®è¿™é‡Œå¯ä»¥è£…ä¸Šä¸€æ•´ä¸ªkeyçš„é›†åˆã€‚æ•´ä½“ä¸Šå®ç°ä¸€ä¸ªåŒé“¾è¡¨ï¼Œæ¯ä¸€ä¸ªå•èŠ‚ç‚¹é‡Œå¯¹åº”äº†æŸäº›keyçš„é›†åˆã€‚èŠ‚ç‚¹æŒ‰ç…§è®¡æ•°é¡ºåºå¢åºæ’åˆ—ï¼Œä½¿ç”¨<code>node_freq</code>å­—å…¸æ¥å®šä½æ¯ä¸ªé¢‘ç‡çš„èŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedNode</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.keys = set()</span><br><span class=\"line\">        self.next = <span class=\"literal\">None</span></span><br><span class=\"line\">        self.prev = <span class=\"literal\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">add_key</span><span class=\"params\">(self, key)</span>:</span></span><br><span class=\"line\">        self.keys.add(key)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_key</span><span class=\"params\">(self, key)</span>:</span></span><br><span class=\"line\">        self.keys.remove(key)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_any_key</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.keys:</span><br><span class=\"line\">            key = self.keys.pop()</span><br><span class=\"line\">            self.keys.add(key)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> key</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__len__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(self.keys)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_empty</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(self) == <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DLinkedList</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.head = DLinkedNode()</span><br><span class=\"line\">        self.tail = DLinkedNode()</span><br><span class=\"line\">        self.head.next, self.tail.prev = self.tail, self.head</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert_after</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">        node = DLinkedNode()</span><br><span class=\"line\">        node.prev, node.next = x, x.next</span><br><span class=\"line\">        node.next.prev, node.prev.next = node, node</span><br><span class=\"line\">        <span class=\"keyword\">return</span> node</span><br><span class=\"line\">   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert_before</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.insert_after(x.prev)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">        x.prev.next, x.next.prev = x.next, x.prev</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_head</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.head.next</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_tail</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.tail.prev</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_sentinel_head</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.head</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_sentinel_tail</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.tail</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AllOne</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.dll, self.key_counter = DLinkedList(), defaultdict(int)</span><br><span class=\"line\">        self.node_freq = &#123;<span class=\"number\">0</span>: self.dll.get_sentinel_head()&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">_rmv_key_pf_node</span><span class=\"params\">(self, pf, key)</span>:</span></span><br><span class=\"line\">        node = self.node_freq[pf]</span><br><span class=\"line\">        node.remove_key(key)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.is_empty():</span><br><span class=\"line\">            self.dll.remove(node)</span><br><span class=\"line\">            self.node_freq.pop(pf)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inc</span><span class=\"params\">(self, key: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.key_counter[key] += <span class=\"number\">1</span></span><br><span class=\"line\">        cf, pf = self.key_counter[key], self.key_counter[key]<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cf <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.node_freq:</span><br><span class=\"line\">            <span class=\"comment\"># No need to test if pf = 0 since frequency zero points to sentinel node</span></span><br><span class=\"line\">            self.node_freq[cf] = self.dll.insert_after(self.node_freq[pf])</span><br><span class=\"line\">        self.node_freq[cf].add_key(key)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> pf &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            self._rmv_key_pf_node(pf, key)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dec</span><span class=\"params\">(self, key: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> key <span class=\"keyword\">in</span> self.key_counter:</span><br><span class=\"line\">            self.key_counter[key] -= <span class=\"number\">1</span></span><br><span class=\"line\">            cf, pf = self.key_counter[key], self.key_counter[key]+<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.key_counter[key] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                self.key_counter.pop(key)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cf != <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> cf <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.node_freq:</span><br><span class=\"line\">                    self.node_freq[cf] = self.dll.insert_before(self.node_freq[pf])</span><br><span class=\"line\">                self.node_freq[cf].add_key(key)</span><br><span class=\"line\">            self._rmv_key_pf_node(pf, key)</span><br><span class=\"line\">       </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMaxKey</span><span class=\"params\">(self)</span> -&gt; str:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.dll.get_tail().get_any_key() <span class=\"keyword\">if</span> len(self.dll.get_tail()) &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMinKey</span><span class=\"params\">(self)</span> -&gt; str:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.dll.get_head().get_any_key() <span class=\"keyword\">if</span> len(self.dll.get_tail()) &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"string\">\"\"</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1670-Design-Front-Middle-Back-Queue\"><a href=\"#1670-Design-Front-Middle-Back-Queue\" class=\"headerlink\" title=\"1670. Design Front Middle Back Queue\"></a><a href=\"https://leetcode.com/problems/design-front-middle-back-queue/\" target=\"_blank\" rel=\"noopener\">1670. Design Front Middle Back Queue</a></h3><h4 id=\"è®¾è®¡ä¸€ä¸ªå¯ä»¥ä»ä¸­é—´å…¥é˜Ÿå‡ºé˜Ÿçš„é˜Ÿåˆ—ã€‚\"><a href=\"#è®¾è®¡ä¸€ä¸ªå¯ä»¥ä»ä¸­é—´å…¥é˜Ÿå‡ºé˜Ÿçš„é˜Ÿåˆ—ã€‚\" class=\"headerlink\" title=\"è®¾è®¡ä¸€ä¸ªå¯ä»¥ä»ä¸­é—´å…¥é˜Ÿå‡ºé˜Ÿçš„é˜Ÿåˆ—ã€‚\"></a>è®¾è®¡ä¸€ä¸ªå¯ä»¥ä»ä¸­é—´å…¥é˜Ÿå‡ºé˜Ÿçš„é˜Ÿåˆ—ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[&quot;FrontMiddleBackQueue&quot;, &quot;pushFront&quot;, &quot;pushBack&quot;, &quot;pushMiddle&quot;, &quot;pushMiddle&quot;, &quot;popFront&quot;, &quot;popMiddle&quot;, &quot;popMiddle&quot;, &quot;popBack&quot;, &quot;popFront&quot;]</span><br><span class=\"line\">[[], [1], [2], [3], [4], [], [], [], [], []]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[null, null, null, null, null, 1, 3, 4, 2, -1]</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">FrontMiddleBackQueue q &#x3D; new FrontMiddleBackQueue();</span><br><span class=\"line\">q.pushFront(1);   &#x2F;&#x2F; [1]</span><br><span class=\"line\">q.pushBack(2);    &#x2F;&#x2F; [1, 2]</span><br><span class=\"line\">q.pushMiddle(3);  &#x2F;&#x2F; [1, 3, 2]</span><br><span class=\"line\">q.pushMiddle(4);  &#x2F;&#x2F; [1, 4, 3, 2]</span><br><span class=\"line\">q.popFront();     &#x2F;&#x2F; return 1 -&gt; [4, 3, 2]</span><br><span class=\"line\">q.popMiddle();    &#x2F;&#x2F; return 3 -&gt; [4, 2]</span><br><span class=\"line\">q.popMiddle();    &#x2F;&#x2F; return 4 -&gt; [2]</span><br><span class=\"line\">q.popBack();      &#x2F;&#x2F; return 2 -&gt; []</span><br><span class=\"line\">q.popFront();     &#x2F;&#x2F; return -1 -&gt; [] (The queue is empty)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶ç”¨çš„åŒç«¯é˜Ÿåˆ—ï¼Œä¸€å¼€å§‹æƒ³çš„3ä¸ªï¼Œåæ¥æƒ³2ä¸ªå°±å¤Ÿäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FrontMiddleBackQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q1 = deque()</span><br><span class=\"line\">        self.q2 = deque()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushFront</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q1.appendleft(val)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q1) &gt; len(self.q2) + <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushMiddle</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q1) &gt; len(self.q2):</span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">        self.q1.append(val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushBack</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.append(val)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q2) &gt; len(self.q1):</span><br><span class=\"line\">            self.q1.append(self.q2.popleft())</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popFront</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        ans = self.q1.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q2) &gt; len(self.q1):</span><br><span class=\"line\">            self.q1.append(self.q2.popleft())</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popMiddle</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        ans = self.q1.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q2) &gt; len(self.q1):</span><br><span class=\"line\">            self.q1.append(self.q2.popleft())</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popBack</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">    </span><br><span class=\"line\">        ans = self.q2.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q1) &gt; len(self.q2) + <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ•´ç†ä¸€ä¸‹æ–¹æ³•ä¸€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FrontMiddleBackQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q1 = deque()</span><br><span class=\"line\">        self.q2 = deque()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushFront</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q1.appendleft(val)</span><br><span class=\"line\">        self.balance()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushMiddle</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q1) &gt; len(self.q2):</span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">        self.q1.append(val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushBack</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.append(val)</span><br><span class=\"line\">        self.balance()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popFront</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        ans = self.q1.popleft()</span><br><span class=\"line\">        self.balance()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popMiddle</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        ans = self.q1.pop()</span><br><span class=\"line\">        self.balance()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popBack</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> self.q1:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">    </span><br><span class=\"line\">        ans = self.q2.pop()</span><br><span class=\"line\">        self.balance()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">balance</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.q1) &gt; len(self.q2) + <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.q2.appendleft(self.q1.pop())</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> len(self.q2) &gt; len(self.q1):</span><br><span class=\"line\">            self.q1.append(self.q2.popleft())</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šç«èµ›ä¸­ç›´æ¥ä½¿ç”¨å¤æ‚åº¦è¾ƒé«˜çš„æ–¹æ³•ä¹Ÿèƒ½è¿‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FrontMiddleBackQueue</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushFront</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q.insert(<span class=\"number\">0</span>, val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushMiddle</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q.insert(len(self.q)//<span class=\"number\">2</span>, val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pushBack</span><span class=\"params\">(self, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q.append(val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popFront</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q.pop(<span class=\"number\">0</span>) <span class=\"keyword\">if</span> self.q <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popMiddle</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q.pop((len(self.q)<span class=\"number\">-1</span>)//<span class=\"number\">2</span>) <span class=\"keyword\">if</span> self.q <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">popBack</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.q.pop() <span class=\"keyword\">if</span> self.q <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Design"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå­—ç¬¦ä¸²ç¯‡ï¼‰String","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87%EF%BC%89String/","content":"<h3 id=\"14-Longest-Common-Prefix\"><a href=\"#14-Longest-Common-Prefix\" class=\"headerlink\" title=\"14. Longest Common Prefix\"></a>14. Longest Common Prefix</h3><p>è¿”å›æœ€é•¿å…¬å…±å‰ç¼€å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/longest-common-prefix/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]</span><br><span class=\"line\">Output: &quot;fl&quot;</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longest_common_prefix</span><span class=\"params\">(strs)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> strs:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> takewhile</span><br><span class=\"line\">    max_pre_len = len(list(takewhile(<span class=\"keyword\">lambda</span> x: len(set(x))==<span class=\"number\">1</span>, zip(*strs))))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> strs[<span class=\"number\">0</span>][:max_pre_len]</span><br></pre></td></tr></table></figure>\n<h3 id=\"20-Valid-Parentheses\"><a href=\"#20-Valid-Parentheses\" class=\"headerlink\" title=\"20. Valid Parentheses\"></a>20. Valid Parentheses</h3><p>åˆ¤æ–­æ‹¬å·æ˜¯å¦æˆå¯¹å‡ºç°ï¼Œå¹¶ä¸”åµŒå¥—æ­£ç¡®ã€‚<a href=\"https://leetcode.com/problems/valid-parentheses/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;()[]&#123;&#125;&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Input: &quot;&#123;[]&#125;&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_valid</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    pairs = &#123;<span class=\"string\">')'</span>: <span class=\"string\">'('</span>, <span class=\"string\">'&#125;'</span>: <span class=\"string\">'&#123;'</span>, <span class=\"string\">']'</span>: <span class=\"string\">'['</span>&#125;</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> paren <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> paren <span class=\"keyword\">in</span> pairs.values():</span><br><span class=\"line\">            stack.append(paren)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> paren <span class=\"keyword\">in</span> pairs.keys():</span><br><span class=\"line\">            <span class=\"keyword\">if</span> stack == [] <span class=\"keyword\">or</span> stack.pop() != pairs[paren]:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack == []</span><br></pre></td></tr></table></figure>\n<h3 id=\"921-Minimum-Add-to-Make-Parentheses-Valid\"><a href=\"#921-Minimum-Add-to-Make-Parentheses-Valid\" class=\"headerlink\" title=\"921. Minimum Add to Make Parentheses Valid\"></a>921. Minimum Add to Make Parentheses Valid</h3><h4 id=\"ç»™å®šä¸€ä¸ªåªåŒ…å«å°æ‹¬å·çš„å­—ç¬¦ä¸²ã€‚è¿”å›éœ€è¦å¤šå°‘ä¸ªâ€-â€œæˆ–â€-â€ä½¿å…¶æˆä¸ºå®Œæ•´çš„æ‹¬å·è¡¨è¾¾å¼ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªåªåŒ…å«å°æ‹¬å·çš„å­—ç¬¦ä¸²ã€‚è¿”å›éœ€è¦å¤šå°‘ä¸ªâ€-â€œæˆ–â€-â€ä½¿å…¶æˆä¸ºå®Œæ•´çš„æ‹¬å·è¡¨è¾¾å¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªåªåŒ…å«å°æ‹¬å·çš„å­—ç¬¦ä¸²ã€‚è¿”å›éœ€è¦å¤šå°‘ä¸ªâ€(â€œæˆ–â€)â€ä½¿å…¶æˆä¸ºå®Œæ•´çš„æ‹¬å·è¡¨è¾¾å¼ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªåªåŒ…å«å°æ‹¬å·çš„å­—ç¬¦ä¸²ã€‚è¿”å›éœ€è¦å¤šå°‘ä¸ªâ€(â€œæˆ–â€)â€ä½¿å…¶æˆä¸ºå®Œæ•´çš„æ‹¬å·è¡¨è¾¾å¼ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-106/problems/minimum-add-to-make-parentheses-valid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;())&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Input: &quot;()))((&quot;</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Input: &quot;()&quot;</span><br><span class=\"line\">Output: 0</span><br><span class=\"line\">Input: &quot;(((&quot;</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¹³è¡¡é—®é¢˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minAddToMakeValid</span><span class=\"params\">(self, S: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = bal = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> symbol <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        bal += <span class=\"number\">1</span> <span class=\"keyword\">if</span> symbol==<span class=\"string\">'('</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> bal == <span class=\"number\">-1</span>:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            bal += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + bal</span><br></pre></td></tr></table></figure>\n<h3 id=\"28-Implement-strStr\"><a href=\"#28-Implement-strStr\" class=\"headerlink\" title=\"28. Implement strStr()\"></a>28. Implement strStr()</h3><h4 id=\"å®ç°indexã€‚åŸé¢˜\"><a href=\"#å®ç°indexã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°indexã€‚åŸé¢˜\"></a>å®ç°indexã€‚<a href=\"https://leetcode.com/problems/implement-strstr/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: haystack &#x3D; &quot;hello&quot;, needle &#x3D; &quot;ll&quot;</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">str_index</span><span class=\"params\">(haystack, needle)</span>:</span></span><br><span class=\"line\">    h = len(haystack)</span><br><span class=\"line\">    n = len(needle)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(h-n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> haystack[i:i+n] == needle:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"38-Count-and-Say\"><a href=\"#38-Count-and-Say\" class=\"headerlink\" title=\"38. Count and Say\"></a>38. Count and Say</h3><h4 id=\"åŸé¢˜\"><a href=\"#åŸé¢˜\" class=\"headerlink\" title=\"åŸé¢˜\"></a><a href=\"https://leetcode.com/problems/count-and-say/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">1.     1</span><br><span class=\"line\">2.     11</span><br><span class=\"line\">3.     21</span><br><span class=\"line\">4.     1211</span><br><span class=\"line\">5.     111221</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countAndSay</span><span class=\"params\">(self, n: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">'1'</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        ans = <span class=\"string\">''</span>.join(str(len(list(c)))+d </span><br><span class=\"line\">                      <span class=\"keyword\">for</span> d, c <span class=\"keyword\">in</span> itertools.groupby(ans))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"443-String-Compression\"><a href=\"#443-String-Compression\" class=\"headerlink\" title=\"443. String Compression\"></a>443. String Compression</h3><h4 id=\"å­—ç¬¦ä¸²å‹ç¼©ï¼Œå®é™…æ˜¯è¦å°†é‡å¤çš„å­—ç¬¦ä¸²ä»¥ä¸ªæ•°æ¥è¡¨ç¤ºã€‚è¦æ±‚O-1-ç©ºé—´å¤æ‚åº¦ï¼Œå°±åœ°ä¿®æ”¹åŸæ•°ç»„ã€‚åŸé¢˜\"><a href=\"#å­—ç¬¦ä¸²å‹ç¼©ï¼Œå®é™…æ˜¯è¦å°†é‡å¤çš„å­—ç¬¦ä¸²ä»¥ä¸ªæ•°æ¥è¡¨ç¤ºã€‚è¦æ±‚O-1-ç©ºé—´å¤æ‚åº¦ï¼Œå°±åœ°ä¿®æ”¹åŸæ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²å‹ç¼©ï¼Œå®é™…æ˜¯è¦å°†é‡å¤çš„å­—ç¬¦ä¸²ä»¥ä¸ªæ•°æ¥è¡¨ç¤ºã€‚è¦æ±‚O(1)ç©ºé—´å¤æ‚åº¦ï¼Œå°±åœ°ä¿®æ”¹åŸæ•°ç»„ã€‚åŸé¢˜\"></a>å­—ç¬¦ä¸²å‹ç¼©ï¼Œå®é™…æ˜¯è¦å°†é‡å¤çš„å­—ç¬¦ä¸²ä»¥ä¸ªæ•°æ¥è¡¨ç¤ºã€‚è¦æ±‚O(1)ç©ºé—´å¤æ‚åº¦ï¼Œå°±åœ°ä¿®æ”¹åŸæ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/string-compression/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šçœ‹ä¸Šå»å’Œ38é¢˜å·®ä¸å¤šï¼Œä½†æ˜¯æœ‰äº›ä¸åŒï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºå¦‚æœä¸ªæ•°ä¸º1ï¼Œåˆ™ä¸æ˜¾ç¤ºã€‚ä¸ªæ•°ä¸ºä¸¤ä½æ•°ï¼Œè¦æ˜¾ç¤ºä¸¤ä¸ªå…ƒç´ ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input &#x3D; [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]</span><br><span class=\"line\">Output &#x3D; [&quot;a&quot;,&quot;2&quot;,&quot;b&quot;,&quot;2&quot;,&quot;c&quot;,&quot;3&quot;]</span><br><span class=\"line\">Input &#x3D; [&quot;a&quot;]</span><br><span class=\"line\">Output &#x3D; [&quot;a&quot;]</span><br><span class=\"line\">Input &#x3D; [&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;]</span><br><span class=\"line\">Output &#x3D; [&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;2&quot;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compress</span><span class=\"params\">(self, chars: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    anchor, write = <span class=\"number\">0</span>, <span class=\"number\">0</span>   <span class=\"comment\"># anchorä¸ºæ¯ç»„è¿ç»­çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> r, char <span class=\"keyword\">in</span> enumerate(chars):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> r == len(chars)<span class=\"number\">-1</span> <span class=\"keyword\">or</span> char != chars[r+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            chars[write] = chars[anchor]</span><br><span class=\"line\">            write += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> r &gt; anchor:</span><br><span class=\"line\">                <span class=\"keyword\">for</span> digit <span class=\"keyword\">in</span> str(r - anchor + <span class=\"number\">1</span>):</span><br><span class=\"line\">                    chars[write] = digit</span><br><span class=\"line\">                    write += <span class=\"number\">1</span></span><br><span class=\"line\">            anchor = r + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> write</span><br></pre></td></tr></table></figure>\n<h3 id=\"125-Valid-Palindrome\"><a href=\"#125-Valid-Palindrome\" class=\"headerlink\" title=\"125. Valid Palindrome\"></a>125. Valid Palindrome</h3><h4 id=\"éªŒè¯å›æ–‡å­—ç¬¦ä¸²ï¼Œåªåˆ¤æ–­å­—æ¯æ•°å­—ï¼Œå¿½ç•¥å¤§å°å†™ã€‚åŸé¢˜\"><a href=\"#éªŒè¯å›æ–‡å­—ç¬¦ä¸²ï¼Œåªåˆ¤æ–­å­—æ¯æ•°å­—ï¼Œå¿½ç•¥å¤§å°å†™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯å›æ–‡å­—ç¬¦ä¸²ï¼Œåªåˆ¤æ–­å­—æ¯æ•°å­—ï¼Œå¿½ç•¥å¤§å°å†™ã€‚åŸé¢˜\"></a>éªŒè¯å›æ–‡å­—ç¬¦ä¸²ï¼Œåªåˆ¤æ–­å­—æ¯æ•°å­—ï¼Œå¿½ç•¥å¤§å°å†™ã€‚<a href=\"https://leetcode.com/problems/valid-palindrome/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;A man, a plan, a canal: Panama&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆ‡ç‰‡</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_palindrome</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    s_alnum = filter(str.isalnum, s.lower())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s_alnum == s_alnum[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_palindrome</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    s_alnum = list(filter(str.isalnum, s.lower()))</span><br><span class=\"line\">    mid = len(s_alnum) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(mid):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s_alnum[i] != s_alnum[-i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"680-Valid-Palindrome-II\"><a href=\"#680-Valid-Palindrome-II\" class=\"headerlink\" title=\"680. Valid Palindrome II\"></a>680. Valid Palindrome II</h3><h4 id=\"éªŒè¯æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯ï¼Œä½†æ˜¯å…è®¸æœ€å¤šå»æ‰ä¸€ä¸ªå­—æ¯ä¹‹åæ˜¯å›æ–‡æ•°ã€‚åŸé¢˜\"><a href=\"#éªŒè¯æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯ï¼Œä½†æ˜¯å…è®¸æœ€å¤šå»æ‰ä¸€ä¸ªå­—æ¯ä¹‹åæ˜¯å›æ–‡æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯ï¼Œä½†æ˜¯å…è®¸æœ€å¤šå»æ‰ä¸€ä¸ªå­—æ¯ä¹‹åæ˜¯å›æ–‡æ•°ã€‚åŸé¢˜\"></a>éªŒè¯æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯ï¼Œä½†æ˜¯å…è®¸æœ€å¤šå»æ‰ä¸€ä¸ªå­—æ¯ä¹‹åæ˜¯å›æ–‡æ•°ã€‚<a href>åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;abca&quot;</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation: You could delete the character &#39;c&#39;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³çš„æ–¹æ³•ã€‚åˆ‡ç‰‡ç”±äºå¯èƒ½<code>i=0</code>ï¼Œæ‰€ä»¥å¿…é¡»ååºåˆ‡ç‰‡å†å€’ç½®ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validPalindrome</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    i, res = self.is_palindrome(s)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> res:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        _, s1 = self.is_palindrome(s[:i]+s[i+<span class=\"number\">1</span>:]) </span><br><span class=\"line\">        left = slice(<span class=\"number\">0</span>, -i<span class=\"number\">-1</span>)</span><br><span class=\"line\">        right = slice(<span class=\"number\">-1</span>, -i<span class=\"number\">-1</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">        _, s2 = self.is_palindrome(s[left]+s[right][::<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s1 <span class=\"keyword\">or</span> s2</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_palindrome</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    mid = len(s) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"comment\"># print(s)</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(mid):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[i] != s[-i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"comment\"># print('&#123;&#125; [&#123;&#125;] != [&#123;&#125;]'.format(s, s[i], s[-i-1]))</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> i, <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">None</span>, <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆæ–¹æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validPalindrome</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(s)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[l] != s[r]:</span><br><span class=\"line\">            one, two = s[l:r], s[l+<span class=\"number\">1</span>:r+<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> one==one[::<span class=\"number\">-1</span>] <span class=\"keyword\">or</span> two==two[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">        l, r = l+<span class=\"number\">1</span>, r<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒè§£æ³•ï¼Œç•™å‘ã€‚</p>\n<h3 id=\"151-Reverse-Words-in-a-String\"><a href=\"#151-Reverse-Words-in-a-String\" class=\"headerlink\" title=\"151. Reverse Words in a String\"></a>151. Reverse Words in a String</h3><h4 id=\"å€’ç½®ä¸€å¥è¯ä¸­çš„å•è¯ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€å¥è¯ä¸­çš„å•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€å¥è¯ä¸­çš„å•è¯ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€å¥è¯ä¸­çš„å•è¯ã€‚<a href=\"https://leetcode.com/problems/reverse-words-in-a-string/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;the sky is blue&quot;,</span><br><span class=\"line\">Output: &quot;blue is sky the&quot;.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse_words</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">' '</span>.join(s.split()[::<span class=\"number\">-1</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"344-Reverse-String\"><a href=\"#344-Reverse-String\" class=\"headerlink\" title=\"344. Reverse String\"></a>344. Reverse String</h3><h4 id=\"å€’ç½®å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#å€’ç½®å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>å€’ç½®å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/reverse-string/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;A man, a plan, a canal: Panama&quot;</span><br><span class=\"line\">Output: &quot;amanaP :lanac a ,nalp a ,nam A&quot;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse_str</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    n = len(s)</span><br><span class=\"line\">    res = list(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//<span class=\"number\">2</span>):</span><br><span class=\"line\">        res[i], res[-i<span class=\"number\">-1</span>] = res[-i<span class=\"number\">-1</span>], res[i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(res)</span><br></pre></td></tr></table></figure>\n<h3 id=\"242-Valid-Anagram\"><a href=\"#242-Valid-Anagram\" class=\"headerlink\" title=\"242. Valid Anagram\"></a>242. Valid Anagram</h3><h4 id=\"éªŒè¯å›æ–‡æ„è¯æ³•ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç”±åŒæ ·ä¸ªæ•°çš„å­—ç¬¦ç»„æˆã€‚åŸé¢˜\"><a href=\"#éªŒè¯å›æ–‡æ„è¯æ³•ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç”±åŒæ ·ä¸ªæ•°çš„å­—ç¬¦ç»„æˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯å›æ–‡æ„è¯æ³•ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç”±åŒæ ·ä¸ªæ•°çš„å­—ç¬¦ç»„æˆã€‚åŸé¢˜\"></a>éªŒè¯å›æ–‡æ„è¯æ³•ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç”±åŒæ ·ä¸ªæ•°çš„å­—ç¬¦ç»„æˆã€‚<a href=\"https://leetcode.com/problems/valid-anagram/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;anagram&quot;, t &#x3D; &quot;nagaram&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š sort</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_anagram</span><span class=\"params\">(s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(s) == sorted(t)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šCounter</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_anagram</span><span class=\"params\">(s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c1 = Counter(s)</span><br><span class=\"line\">    c2 = Counter(t)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c1 == c2</span><br></pre></td></tr></table></figure>\n<h3 id=\"438-Find-All-Anagrams-in-a-String\"><a href=\"#438-Find-All-Anagrams-in-a-String\" class=\"headerlink\" title=\"438. Find All Anagrams in a String\"></a>438. Find All Anagrams in a String</h3><h4 id=\"æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å›æ–‡æ„è¯ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å›æ–‡æ„è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å›æ–‡æ„è¯ã€‚åŸé¢˜\"></a>æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å›æ–‡æ„è¯ã€‚<a href=\"https://leetcode.com/problems/find-all-anagrams-in-a-string\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæœ‰ä¸ªå°åœ°æ–¹æ³¨æ„å°±æ˜¯ï¼Œå¦‚æœè®¡æ•°ä¸º0è¦åˆ é™¤ï¼Œå¦åˆ™ç­‰å¼å°†ä¸æˆç«‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findAnagrams</span><span class=\"params\">(self, s, p)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    ns, np = len(s), len(p)</span><br><span class=\"line\">    cur_c = Counter(s[:np<span class=\"number\">-1</span>])</span><br><span class=\"line\">    c_p = Counter(p)</span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(np<span class=\"number\">-1</span>, ns):</span><br><span class=\"line\">        cur_c[s[i]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_c == c_p:</span><br><span class=\"line\">            res.append(i-np+<span class=\"number\">1</span>)</span><br><span class=\"line\">        cur_c[s[i-np+<span class=\"number\">1</span>]] -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_c[s[i-np+<span class=\"number\">1</span>]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">del</span> cur_c[s[i-np+<span class=\"number\">1</span>]]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-Longest-Substring-Without-Repeating-Characters\"><a href=\"#3-Longest-Substring-Without-Repeating-Characters\" class=\"headerlink\" title=\"3. Longest Substring Without Repeating Characters\"></a>3. Longest Substring Without Repeating Characters</h3><h4 id=\"æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/longest-substring-without-repeating-characters/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p><del>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼Œæœç„¶è¶…æ—¶äº†ã€‚</del></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLongestSubstring</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    max_len, n = <span class=\"number\">0</span>, len(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(s[i:j]) == len(set(s[i:j])):</span><br><span class=\"line\">                max_len = max(max_len, len(s[i:j]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max_len</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ‰¾åˆ°é‡å¤å€¼æ—¶ï¼Œæ›´æ–°startçš„å€¼ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨maxï¼Œå› ä¸ºstartæœ‰å¯èƒ½å¤§äº<code>dic[s[end]]+1</code>ï¼Œæ¯”å¦‚å½“<code>s=&#39;abba&#39;</code>ï¼Œendèµ°åˆ°æœ€åçš„æ—¶å€™ï¼Œä¸Šä¸€æ¬¡startå› ä¸ºbåšäº†æ›´æ–°å˜ä¸ºäº†2ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLongestSubstring</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    res, start = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    dic = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[end] <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">            start = max(start, dic[s[end]]+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"comment\"># start = dic[s[end]] + 1</span></span><br><span class=\"line\">        dic[s[end]] = end</span><br><span class=\"line\">        res = max(res, end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>ä¹Ÿå¯ä»¥æŠŠmaxåˆ¤æ–­æ”¾åˆ°æ¡ä»¶é‡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLongestSubstring</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    res, start = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    dic = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[end] <span class=\"keyword\">in</span> dic <span class=\"keyword\">and</span> start &lt;= dic[s[end]]:</span><br><span class=\"line\">            start = dic[s[end]] + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            res = max(res, end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">        dic[s[end]] = end</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"387-First-Unique-Character-in-a-String\"><a href=\"#387-First-Unique-Character-in-a-String\" class=\"headerlink\" title=\"387. First Unique Character in a String\"></a>387. First Unique Character in a String</h3><h4 id=\"è¿”å›ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ã€‚åŸé¢˜\"><a href=\"#è¿”å›ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ã€‚åŸé¢˜\"></a>è¿”å›ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ã€‚<a href=\"https://leetcode.com/problems/first-unique-character-in-a-string/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">s &#x3D; &quot;leetcode&quot;</span><br><span class=\"line\">return 0.</span><br><span class=\"line\">s &#x3D; &quot;loveleetcode&quot;,</span><br><span class=\"line\">return 2.</span><br></pre></td></tr></table></figure>\n<p>Time-O(N), Space-O(N)ã€‚æš‚æ—¶æ²¡å‘ç°æ›´å¿«çš„ç®—æ³•äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">firstUniqChar</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, ch <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c[ch] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"58-Length-of-Last-Word\"><a href=\"#58-Length-of-Last-Word\" class=\"headerlink\" title=\"58. Length of Last Word\"></a>58. Length of Last Word</h3><h4 id=\"è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ç©ºæ ¼åˆ†å‰²ï¼Œç„¶åè¿”å›æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ï¼Œç©ºä¸²ä¸ç®—ã€‚åŸé¢˜\"><a href=\"#è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ç©ºæ ¼åˆ†å‰²ï¼Œç„¶åè¿”å›æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ï¼Œç©ºä¸²ä¸ç®—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ç©ºæ ¼åˆ†å‰²ï¼Œç„¶åè¿”å›æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ï¼Œç©ºä¸²ä¸ç®—ã€‚åŸé¢˜\"></a>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ç©ºæ ¼åˆ†å‰²ï¼Œç„¶åè¿”å›æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ï¼Œç©ºä¸²ä¸ç®—ã€‚<a href=\"https://leetcode.com/problems/length-of-last-word/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">s &#x3D; &quot;Hello World&quot;</span><br><span class=\"line\">return 5</span><br><span class=\"line\">s &#x3D; &quot;a &quot;</span><br><span class=\"line\">return 1</span><br><span class=\"line\">s &#x3D; &quot;    &quot;</span><br><span class=\"line\">return 0</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç›´è§‚çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLastWord</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    ss = s.split(<span class=\"string\">' '</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> ch <span class=\"keyword\">in</span> ss[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ch:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> len(ch)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œç†è®ºä¸Šæ—¶é—´å¤æ‚åº¦æ¯”ä¸Šè¿°æ–¹æ³•ç¨å¾®é«˜ä¸€ç‚¹ï¼Œä¸è¿‡å®é™…æ—¶é—´å·®ä¸å¤šï¼Œä¼°è®¡æ˜¯list comprehensionåšäº†ä¼˜åŒ–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLastWord</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    ss =[x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> s.split(<span class=\"string\">' '</span>) <span class=\"keyword\">if</span> x]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(ss[<span class=\"number\">-1</span>]) <span class=\"keyword\">if</span> ss <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"205-Isomorphic-Strings\"><a href=\"#205-Isomorphic-Strings\" class=\"headerlink\" title=\"205. Isomorphic Strings\"></a>205. Isomorphic Strings</h3><h4 id=\"åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ä¸€æ ·çš„å½¢å¼ã€‚så’Œté•¿åº¦ä¸€æ ·ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ä¸€æ ·çš„å½¢å¼ã€‚så’Œté•¿åº¦ä¸€æ ·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ä¸€æ ·çš„å½¢å¼ã€‚så’Œté•¿åº¦ä¸€æ ·ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ä¸€æ ·çš„å½¢å¼ã€‚så’Œté•¿åº¦ä¸€æ ·ã€‚<a href=\"https://leetcode.com/problems/isomorphic-strings\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;egg&quot;, t &#x3D; &quot;add&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s &#x3D; &quot;foo&quot;, t &#x3D; &quot;bar&quot;</span><br><span class=\"line\">Output: false</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s &#x3D; &quot;paper&quot;, t &#x3D; &quot;title&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨<code>dict</code>ä¿å­˜æ¯ä¸ªå­—æ¯çš„ä½ç½®ã€‚è¿™é‡Œä½¿ç”¨äº†<code>OrderedDict</code>ä¿å­˜äº†<code>values</code>çš„é¡ºåºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>sorted</code>å¯¹<code>values</code>æ’åºã€‚æœ€åè¯´æ˜ä¸€ä¸‹åœ¨<code>Python3</code>ä¸­éœ€è¦ä½¿ç”¨<code>list</code>æ ¼å¼åŒ–ä¸€ä¸‹ï¼Œå› ä¸º<code>values()</code>è¿”å›ä¸€ä¸ª<code>dict_values</code>å¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡å¦‚æœç›´æ¥ä½¿ç”¨<code>==</code>åˆ¤æ–­ï¼Œä¼šè¿”å›<code>False</code>ï¼Œå³ä½¿æœ‰ç›¸åŒçš„å€¼ï¼Œè¿™é‡Œè¿˜ä¸æ¸…æ¥šå†…éƒ¨çš„<code>__eq__</code>æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ã€‚è€Œåœ¨<code>Python2</code>ä¸­å¯ä»¥ç›´æ¥æ¯”è¾ƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isIsomorphic</span><span class=\"params\">(self, s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> OrderedDict</span><br><span class=\"line\">    d1, d2 = OrderedDict(), OrderedDict()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, val <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        d1[val] = d1.get(val, []) + [i]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, val <span class=\"keyword\">in</span> enumerate(t):</span><br><span class=\"line\">        d2[val] = d2.get(val, []) + [i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(d1.values()) == list(d2.values())</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨<code>zip</code>å¹¶è¡Œè¾“å‡ºã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; list(zip(<span class=\"string\">'paper'</span>, <span class=\"string\">'title'</span>))</span><br><span class=\"line\">[(<span class=\"string\">'p'</span>, <span class=\"string\">'t'</span>), (<span class=\"string\">'a'</span>, <span class=\"string\">'i'</span>), (<span class=\"string\">'p'</span>, <span class=\"string\">'t'</span>), (<span class=\"string\">'e'</span>, <span class=\"string\">'l'</span>), (<span class=\"string\">'r'</span>, <span class=\"string\">'e'</span>)]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isIsomorphic</span><span class=\"params\">(self, s, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(set(zip(s, t))) == len(set(s)) == len(set(t))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ¯ä¸ªä½ç½®çš„å­—ç¬¦ï¼Œç¬¬ä¸€æ¬¡å‡ºç°çš„<code>index</code>æ˜¯å¦ç›¸åŒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isIsomorphic</span><span class=\"params\">(self, s, t)</span>:</span> </span><br><span class=\"line\">    <span class=\"comment\"># return [s.find(i) for i in s] == [t.find(j) for j in t]</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(map(s.find, s)) == list(map(t.find, t))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šsetdeaultå¦™ç”¨ã€‚Lee215ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isIsomorphic</span><span class=\"params\">(self, s: str, t: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(w)</span>:</span></span><br><span class=\"line\">        m = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [m.setdefault(c, len(m)) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> f(s) == f(t)</span><br></pre></td></tr></table></figure>\n<h3 id=\"290-Word-Pattern\"><a href=\"#290-Word-Pattern\" class=\"headerlink\" title=\"290. Word Pattern\"></a>290. Word Pattern</h3><h4 id=\"åŒ¹é…å­—ç¬¦ä¸²å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç›¸åŒå½¢å¼ï¼Œæ­¤é¢˜å’Œä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œåªä¸è¿‡å°†å…¶ä¸­ä¸€ä¸ªæ¢æˆäº†æ•°ç»„ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯é•¿åº¦ä¸ä¸€å®šç›¸ç­‰ã€‚åŸé¢˜\"><a href=\"#åŒ¹é…å­—ç¬¦ä¸²å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç›¸åŒå½¢å¼ï¼Œæ­¤é¢˜å’Œä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œåªä¸è¿‡å°†å…¶ä¸­ä¸€ä¸ªæ¢æˆäº†æ•°ç»„ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯é•¿åº¦ä¸ä¸€å®šç›¸ç­‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åŒ¹é…å­—ç¬¦ä¸²å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç›¸åŒå½¢å¼ï¼Œæ­¤é¢˜å’Œä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œåªä¸è¿‡å°†å…¶ä¸­ä¸€ä¸ªæ¢æˆäº†æ•°ç»„ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯é•¿åº¦ä¸ä¸€å®šç›¸ç­‰ã€‚åŸé¢˜\"></a>åŒ¹é…å­—ç¬¦ä¸²å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç›¸åŒå½¢å¼ï¼Œæ­¤é¢˜å’Œä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œåªä¸è¿‡å°†å…¶ä¸­ä¸€ä¸ªæ¢æˆäº†æ•°ç»„ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯é•¿åº¦ä¸ä¸€å®šç›¸ç­‰ã€‚<a href=\"https://leetcode.com/problems/word-pattern\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: pattern &#x3D; &quot;abba&quot;, str &#x3D; &quot;dog cat cat dog&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordPattern</span><span class=\"params\">(self, pattern, str)</span>:</span></span><br><span class=\"line\">    s = pattern</span><br><span class=\"line\">    t = str.split()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(map(s.find, s)) == list(map(t.index, t))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordPattern</span><span class=\"params\">(self, pattern, str)</span>:</span></span><br><span class=\"line\">    s = pattern</span><br><span class=\"line\">    t = str.split()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(set(zip(s, t))) == len(set(s)) == len(set(t)) \\</span><br><span class=\"line\">           <span class=\"keyword\">and</span> len(s) == len(t)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordPattern</span><span class=\"params\">(self, pattern: str, str: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(w)</span>:</span></span><br><span class=\"line\">        m = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [m.setdefault(c, len(m)) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> f(pattern) == f(str.split())</span><br></pre></td></tr></table></figure>\n<h3 id=\"890-Find-and-Replace-Pattern\"><a href=\"#890-Find-and-Replace-Pattern\" class=\"headerlink\" title=\"890. Find and Replace Pattern\"></a>890. Find and Replace Pattern</h3><h4 id=\"æ‰¾åˆ°å’Œpatternä¸€æ ·æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚å’Œ290ï¼Œ205ä¸€æ ·ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°å’Œpatternä¸€æ ·æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚å’Œ290ï¼Œ205ä¸€æ ·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°å’Œpatternä¸€æ ·æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚å’Œ290ï¼Œ205ä¸€æ ·ã€‚åŸé¢˜\"></a>æ‰¾åˆ°å’Œpatternä¸€æ ·æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚å’Œ290ï¼Œ205ä¸€æ ·ã€‚<a href=\"https://leetcode.com/problems/find-and-replace-pattern/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: words &#x3D; [&quot;abc&quot;,&quot;deq&quot;,&quot;mee&quot;,&quot;aqq&quot;,&quot;dkd&quot;,&quot;ccc&quot;], pattern &#x3D; &quot;abb&quot;</span><br><span class=\"line\">Output: [&quot;mee&quot;,&quot;aqq&quot;]</span><br><span class=\"line\">Explanation: &quot;mee&quot; matches the pattern because there is a permutation &#123;a -&gt; m, b -&gt; e, ...&#125;. </span><br><span class=\"line\">&quot;ccc&quot; does not match the pattern because &#123;a -&gt; c, b -&gt; c, ...&#125; is not a permutation,</span><br><span class=\"line\">since a and b map to the same letter.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘ä½¿ç”¨zipå’Œsetæ¥åˆ¤æ–­çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findAndReplacePattern</span><span class=\"params\">(self, words: List[str], pattern: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">same</span><span class=\"params\">(a, b)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(set(a)) == len(set(b)) == len(set(zip(a, b)))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [word <span class=\"keyword\">for</span> word, p <span class=\"keyword\">in</span> zip(words, itertools.repeat(pattern)) </span><br><span class=\"line\">            <span class=\"keyword\">if</span> same(word, p)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLee215çš„æ–¹æ³•ã€‚setdefaultçš„å¦™ç”¨ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findAndReplacePattern</span><span class=\"params\">(self, words: List[str], p: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">F</span><span class=\"params\">(w)</span>:</span></span><br><span class=\"line\">        m = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [m.setdefault(c, len(m)) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [w <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words <span class=\"keyword\">if</span> F(w) == F(p)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"917-Reverse-Only-Letters\"><a href=\"#917-Reverse-Only-Letters\" class=\"headerlink\" title=\"917. Reverse Only Letters\"></a>917. Reverse Only Letters</h3><h4 id=\"å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯ã€‚<a href=\"https://leetcode.com/problems/reverse-only-letters\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;ab-cd&quot;</span><br><span class=\"line\">Output: &quot;dc-ba&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input: &quot;a-bC-dEf-ghIj&quot;</span><br><span class=\"line\">Output: &quot;j-Ih-gfE-dCba&quot;</span><br></pre></td></tr></table></figure>\n<p>æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨<code>l &lt;= r</code>ä½œä¸ºæ¡ä»¶ï¼Œå› ä¸ºä¼šæ‰“ä¹±æ­£ç¡®ç»“æœçš„æ’åºã€‚è¾“å‡º<code>&quot;dcb-a&quot;</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseOnlyLetters</span><span class=\"params\">(self, S)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(S)<span class=\"number\">-1</span></span><br><span class=\"line\">    res = list(S)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> res[l].isalpha():</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> res[r].isalpha():</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        res[l], res[r] = res[r], res[l]</span><br><span class=\"line\">        l += <span class=\"number\">1</span></span><br><span class=\"line\">        r -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(res)</span><br></pre></td></tr></table></figure>\n<h3 id=\"345-Reverse-Vowels-of-a-String\"><a href=\"#345-Reverse-Vowels-of-a-String\" class=\"headerlink\" title=\"345.Reverse Vowels of a String\"></a>345.Reverse Vowels of a String</h3><h4 id=\"å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚<a href=\"https://leetcode.com/problems/reverse-vowels-of-a-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 2:</span><br><span class=\"line\"></span><br><span class=\"line\">Input: &quot;leetcode&quot;</span><br><span class=\"line\">Output: &quot;leotcede&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå’Œ917é¢˜ä¸€æ ·ï¼Œæ¢æ±¤ä¸æ¢è¯ã€‚åªéœ€å®šä¹‰ä¸€ä¸ª<code>vowels={&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;}</code>ç„¶åæ¡ä»¶æ”¹æˆ<code>while l&lt;r and res[l].lower() not in vowels:</code>ï¼Œæäº¤äº†ä¸€ä¸‹<code>beat</code>æœ‰68%å·¦å³ï¼Œåº”è¯¥è¿˜æœ‰æ›´æ•ˆç‡çš„æ–¹æ³•ã€‚</p>\n<p>æ–¹æ³•äºŒï¼šæ”¹äº†ä¸€ä¸‹ï¼Œä¸å†ä½¿ç”¨loweræ–¹æ³•äº†ï¼ŒæŠŠå¤§å†™å­—æ¯åŠ ä¸Šï¼Œbeatå˜ä¸º99.88%ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseVowels</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(s)<span class=\"number\">-1</span></span><br><span class=\"line\">    vowels = set(list(<span class=\"string\">'aeiouAEIOU'</span>))</span><br><span class=\"line\">    res = list(s)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> res[l] <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vowels:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> res[r] <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vowels:</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        res[l], res[r] = res[r], res[l]</span><br><span class=\"line\">        l += <span class=\"number\">1</span></span><br><span class=\"line\">        r -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(res)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šæ­£åˆ™</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseVowels</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    vowels = re.findall(<span class=\"string\">'(?i)[aeiou]'</span>, s)   <span class=\"comment\"># (?i)è¡¨ç¤ºå¿½ç•¥å¤§å°å†™</span></span><br><span class=\"line\">    <span class=\"comment\"># replå‚æ•°æ¯æ¬¡è¿”å›ä¸€ä¸ªå€¼ï¼Œç”¨æ¥æ›¿æ¢såŒ¹é…patternçš„å­—ç¬¦ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> re.sub(<span class=\"string\">'(?i)[aeiou]'</span>, <span class=\"keyword\">lambda</span> m: vowels.pop(), s)</span><br></pre></td></tr></table></figure>\n<h3 id=\"383-Ransom-Note\"><a href=\"#383-Ransom-Note\" class=\"headerlink\" title=\"383. Ransom Note\"></a>383. Ransom Note</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦magazineå¯ä»¥æ„æˆransomNoteã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦magazineå¯ä»¥æ„æˆransomNoteã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦magazineå¯ä»¥æ„æˆransomNoteã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦<code>magazine</code>å¯ä»¥æ„æˆ<code>ransomNote</code>ã€‚<a href=\"https://leetcode.com/problems/ransom-note/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">canConstruct(&quot;a&quot;, &quot;b&quot;) -&gt; false</span><br><span class=\"line\">canConstruct(&quot;aa&quot;, &quot;ab&quot;) -&gt; false</span><br><span class=\"line\">canConstruct(&quot;aa&quot;, &quot;aab&quot;) -&gt; true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨countã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canConstruct</span><span class=\"params\">(self, ransomNote, magazine)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> set(ransomNote):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> magazine.count(item) &lt; ransomNote.count(item):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šone-liner.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canConstruct</span><span class=\"params\">(self, ransomNote, magazine)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(ransomNote.count(char) &lt;= magazine.count(char) </span><br><span class=\"line\">               <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> set(ransomNote))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸‰ï¼šCounterã€‚æ—¶é—´å¤æ‚åº¦æ¯”äºŒç¨é«˜ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canConstruct</span><span class=\"params\">(self, ransomNote, magazine)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> Counter(ransomNote) - Counter(magazine)</span><br></pre></td></tr></table></figure>\n<h3 id=\"925-Long-Pressed-Name\"><a href=\"#925-Long-Pressed-Name\" class=\"headerlink\" title=\"925. Long Pressed Name\"></a>925. Long Pressed Name</h3><h4 id=\"è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªç ´é”®ç›˜ï¼Œè€æ˜¯è¿é”®ï¼Œæœ‰æ—¶å€™æ‰“ä¸€ä¸ªå­—æ¯cï¼Œå‡ºæ¥å¥½å‡ ä¸ªã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²å’Œæ‰“å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç ´é”®ç›˜è¾“å‡ºçš„ã€‚åŸé¢˜\"><a href=\"#è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªç ´é”®ç›˜ï¼Œè€æ˜¯è¿é”®ï¼Œæœ‰æ—¶å€™æ‰“ä¸€ä¸ªå­—æ¯cï¼Œå‡ºæ¥å¥½å‡ ä¸ªã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²å’Œæ‰“å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç ´é”®ç›˜è¾“å‡ºçš„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªç ´é”®ç›˜ï¼Œè€æ˜¯è¿é”®ï¼Œæœ‰æ—¶å€™æ‰“ä¸€ä¸ªå­—æ¯cï¼Œå‡ºæ¥å¥½å‡ ä¸ªã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²å’Œæ‰“å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç ´é”®ç›˜è¾“å‡ºçš„ã€‚åŸé¢˜\"></a>è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªç ´é”®ç›˜ï¼Œè€æ˜¯è¿é”®ï¼Œæœ‰æ—¶å€™æ‰“ä¸€ä¸ªå­—æ¯cï¼Œå‡ºæ¥å¥½å‡ ä¸ªã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²å’Œæ‰“å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç ´é”®ç›˜è¾“å‡ºçš„ã€‚<a href=\"https://leetcode.com/problems/long-pressed-name/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: name = \"alex\", typed = \"aaleex\"</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: 'a' and 'e' in 'alex' were long pressed.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: name = \"saeed\", typed = \"ssaaedd\"</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: 'e' must have been pressed twice, but it wasn't in the typed output.</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šä¸€å¼€å§‹è¿˜æƒ³ç”¨Counterï¼Œåæ¥å‘ç°ä¸å¯¹ï¼Œå› ä¸ºå®ƒå°†æ‰€æœ‰çš„ä¸€æ ·çš„å­—ç¬¦èšåˆåˆ°äº†ä¸€èµ·ã€‚æ‰€ä»¥æ­¤é¢˜å¯ä»¥ä½¿ç”¨<code>groupby</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isLongPressedName</span><span class=\"params\">(self, name, typed)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> groupby</span><br><span class=\"line\">    name_groups = [(ch, len(list(g))) <span class=\"keyword\">for</span> ch, g <span class=\"keyword\">in</span> groupby(name)]</span><br><span class=\"line\">    typed_groups = [(ch, len(list(g))) <span class=\"keyword\">for</span> ch, g <span class=\"keyword\">in</span> groupby(typed)]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(typed_groups) &lt; len(name_groups):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(name_groups)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> typed_groups[i][<span class=\"number\">0</span>] != name_groups[i][<span class=\"number\">0</span>] <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">            typed_groups[i][<span class=\"number\">1</span>] &lt; name_groups[i][<span class=\"number\">1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç®€å•çš„å†™æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isLongPressedName</span><span class=\"params\">(self, name: str, typed: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    ngroups = itertools.groupby(name)</span><br><span class=\"line\">    tgroups = itertools.groupby(typed)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (nl, nc), (tl, tc) <span class=\"keyword\">in</span> itertools.zip_longest(</span><br><span class=\"line\">            ngroups, tgroups, fillvalue=(<span class=\"string\">'~'</span>, [])):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nl != tl <span class=\"keyword\">or</span> len(list(nc)) &gt;len(list(tc)):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"929-Unique-Email-Addresses\"><a href=\"#929-Unique-Email-Addresses\" class=\"headerlink\" title=\"929. Unique Email Addresses\"></a>929. Unique Email Addresses</h3><h4 id=\"ç»Ÿè®¡ä¸åŒçš„emailåœ°å€ã€‚åŸé¢˜\"><a href=\"#ç»Ÿè®¡ä¸åŒçš„emailåœ°å€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»Ÿè®¡ä¸åŒçš„emailåœ°å€ã€‚åŸé¢˜\"></a>ç»Ÿè®¡ä¸åŒçš„emailåœ°å€ã€‚<a href=\"https://leetcode.com/problems/unique-email-addresses\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numUniqueEmails</span><span class=\"params\">(self, emails)</span>:</span></span><br><span class=\"line\">    res = set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> email <span class=\"keyword\">in</span> emails:</span><br><span class=\"line\">        local, domain = email.split(<span class=\"string\">'@'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">'+'</span> <span class=\"keyword\">in</span> local:</span><br><span class=\"line\">            local = local[:local.index(<span class=\"string\">'+'</span>)]</span><br><span class=\"line\">        local = local.replace(<span class=\"string\">'.'</span>, <span class=\"string\">''</span>)</span><br><span class=\"line\">        res.add((local, domain))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(res)</span><br></pre></td></tr></table></figure>\n<h3 id=\"409-Longest-Palindrome\"><a href=\"#409-Longest-Palindrome\" class=\"headerlink\" title=\"409. Longest Palindrome\"></a>409. Longest Palindrome</h3><h4 id=\"ç»™ä½ ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿”å›ç”¨å®ƒç»„æˆçš„æœ€é•¿çš„å›æ–‡ä¸²çš„é•¿åº¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ‰€æœ‰çš„å­—ç¬¦ã€‚åŸé¢˜\"><a href=\"#ç»™ä½ ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿”å›ç”¨å®ƒç»„æˆçš„æœ€é•¿çš„å›æ–‡ä¸²çš„é•¿åº¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ‰€æœ‰çš„å­—ç¬¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä½ ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿”å›ç”¨å®ƒç»„æˆçš„æœ€é•¿çš„å›æ–‡ä¸²çš„é•¿åº¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ‰€æœ‰çš„å­—ç¬¦ã€‚åŸé¢˜\"></a>ç»™ä½ ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿”å›ç”¨å®ƒç»„æˆçš„æœ€é•¿çš„å›æ–‡ä¸²çš„é•¿åº¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ‰€æœ‰çš„å­—ç¬¦ã€‚<a href=\"https://leetcode.com/problems/longest-palindrome/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ¯å¯¹ä¸€æ ·çš„æ•°å­—å¯ä»¥æ”¾åœ¨ä¸¤è¾¹æ¥ç»„æˆå›æ–‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(s)</span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> count <span class=\"keyword\">in</span> c.values():</span><br><span class=\"line\">        res += count // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res*<span class=\"number\">2</span> + (len(s) &gt; res*<span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•äºŒï¼šä»å¥‡æ•°çš„è§’åº¦è€ƒè™‘ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    odds = sum(v &amp; <span class=\"number\">1</span> <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> Counter(s).values())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(s) - odds + bool(odds)  <span class=\"comment\"># å¦‚æœæœ‰å¥‡æ•°ï¼Œæ€»èƒ½å°†å…¶æ”¾åˆ°ä¸­é—´</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"434-Number-of-Segments-in-a-String\"><a href=\"#434-Number-of-Segments-in-a-String\" class=\"headerlink\" title=\"434. Number of Segments in a String\"></a>434. Number of Segments in a String</h3><h4 id=\"ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/number-of-segments-in-a-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šTime-O(n), Space-O(1)</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSegments</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    segment_count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i == <span class=\"number\">0</span> <span class=\"keyword\">or</span> s[i<span class=\"number\">-1</span>] == <span class=\"string\">' '</span>) <span class=\"keyword\">and</span> s[i] != <span class=\"string\">' '</span>:</span><br><span class=\"line\">            segment_count += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> segment_count</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSegments</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(s.split())</span><br></pre></td></tr></table></figure>\n<h3 id=\"500-Keyboard-Row\"><a href=\"#500-Keyboard-Row\" class=\"headerlink\" title=\"500. Keyboard Row\"></a>500. Keyboard Row</h3><h4 id=\"è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›å­—ç¬¦åœ¨é”®ç›˜åŒä¸€è¡Œçš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›å­—ç¬¦åœ¨é”®ç›˜åŒä¸€è¡Œçš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›å­—ç¬¦åœ¨é”®ç›˜åŒä¸€è¡Œçš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›å­—ç¬¦åœ¨é”®ç›˜åŒä¸€è¡Œçš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/keyboard-row/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;Hello&quot;, &quot;Alaska&quot;, &quot;Dad&quot;, &quot;Peace&quot;]</span><br><span class=\"line\">Output: [&quot;Alaska&quot;, &quot;Dad&quot;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findWords</span><span class=\"params\">(self, words)</span>:</span></span><br><span class=\"line\">        self.first = &#123;<span class=\"string\">'Q'</span>, <span class=\"string\">'W'</span>, <span class=\"string\">'E'</span>, <span class=\"string\">'R'</span>, <span class=\"string\">'T'</span>, <span class=\"string\">'Y'</span>, <span class=\"string\">'U'</span>, <span class=\"string\">'I'</span>, <span class=\"string\">'O'</span>, <span class=\"string\">'P'</span>&#125;</span><br><span class=\"line\">        self.second = &#123;<span class=\"string\">'A'</span>, <span class=\"string\">'S'</span>, <span class=\"string\">'D'</span>, <span class=\"string\">'F'</span>, <span class=\"string\">'G'</span>, <span class=\"string\">'H'</span>, <span class=\"string\">'J'</span>, <span class=\"string\">'K'</span>, <span class=\"string\">'L'</span>&#125;        </span><br><span class=\"line\">        self.third = &#123;<span class=\"string\">'Z'</span>, <span class=\"string\">'X'</span>, <span class=\"string\">'C'</span>, <span class=\"string\">'V'</span>, <span class=\"string\">'B'</span>, <span class=\"string\">'N'</span>, <span class=\"string\">'M'</span>&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list(filter(self.same_line, words))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">same_line</span><span class=\"params\">(self, word)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> set(word.upper()) &lt;= set(self.first) <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">               set(word.upper()) &lt;= set(self.second) <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">               set(word.upper()) &lt;= set(self.third)</span><br></pre></td></tr></table></figure>\n<h3 id=\"520-Detect-Capital\"><a href=\"#520-Detect-Capital\" class=\"headerlink\" title=\"520. Detect Capital\"></a>520. Detect Capital</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å†™æ˜¯å¦ä½¿ç”¨æ­£ç¡®ã€‚è¦ä¹ˆå…¨å¤§å†™ï¼Œè¦ä¹ˆå…¨å°å†™ï¼Œæˆ–è€…é¦–å­—æ¯å¤§å†™ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å†™æ˜¯å¦ä½¿ç”¨æ­£ç¡®ã€‚è¦ä¹ˆå…¨å¤§å†™ï¼Œè¦ä¹ˆå…¨å°å†™ï¼Œæˆ–è€…é¦–å­—æ¯å¤§å†™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å†™æ˜¯å¦ä½¿ç”¨æ­£ç¡®ã€‚è¦ä¹ˆå…¨å¤§å†™ï¼Œè¦ä¹ˆå…¨å°å†™ï¼Œæˆ–è€…é¦–å­—æ¯å¤§å†™ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å†™æ˜¯å¦ä½¿ç”¨æ­£ç¡®ã€‚è¦ä¹ˆå…¨å¤§å†™ï¼Œè¦ä¹ˆå…¨å°å†™ï¼Œæˆ–è€…é¦–å­—æ¯å¤§å†™ã€‚<a href=\"https://leetcode.com/problems/detect-capital/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;USA&quot;</span><br><span class=\"line\">Output: True</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¤ªç®€å•äº†ï¼Œä¸€ä¸‹å­å°±å†™å‡ºæ¥äº†ï¼Œçœ‹è¯„è®ºå±…ç„¶å¥½å¤šäººä¸çŸ¥é“<code>istitle</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">detectCapitalUse</span><span class=\"params\">(self, word)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> word.islower() <span class=\"keyword\">or</span> word.isupper() <span class=\"keyword\">or</span> word.istitle()</span><br></pre></td></tr></table></figure>\n<h3 id=\"541-Reverse-String-II\"><a href=\"#541-Reverse-String-II\" class=\"headerlink\" title=\"541. Reverse String II\"></a>541. Reverse String II</h3><h4 id=\"æŒ‰ç…§2kçš„é•¿åº¦åˆ’åˆ†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŠŠå…¶ä¸­æ¯æ®µå‰kä¸ªå­—ç¬¦å€’ç½®ã€‚åŸé¢˜\"><a href=\"#æŒ‰ç…§2kçš„é•¿åº¦åˆ’åˆ†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŠŠå…¶ä¸­æ¯æ®µå‰kä¸ªå­—ç¬¦å€’ç½®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰ç…§2kçš„é•¿åº¦åˆ’åˆ†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŠŠå…¶ä¸­æ¯æ®µå‰kä¸ªå­—ç¬¦å€’ç½®ã€‚åŸé¢˜\"></a>æŒ‰ç…§2kçš„é•¿åº¦åˆ’åˆ†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŠŠå…¶ä¸­æ¯æ®µå‰kä¸ªå­—ç¬¦å€’ç½®ã€‚<a href=\"https://leetcode.com/problems/reverse-string-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abcdefg&quot;, k &#x3D; 2</span><br><span class=\"line\">Output: &quot;bacdfeg&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç®€å•çš„ä¸€é¢˜ï¼Œä½¿ç”¨Pythonçš„åˆ‡ç‰‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseStr</span><span class=\"params\">(self, s, k)</span>:</span></span><br><span class=\"line\">    letters = list(s)</span><br><span class=\"line\">    n = len(letters)</span><br><span class=\"line\">    <span class=\"comment\"># for i in range(n//(2*k)+1):</span></span><br><span class=\"line\">        <span class=\"comment\"># letters[2*k*i:k+2*k*i] = reversed(letters[2*k*i:k+2*k*i])</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n, <span class=\"number\">2</span>*k):</span><br><span class=\"line\">        letters[i:k+i] = reversed(letters[i:k+i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(letters)</span><br></pre></td></tr></table></figure>\n<h3 id=\"551-Student-Attendance-Record-I\"><a href=\"#551-Student-Attendance-Record-I\" class=\"headerlink\" title=\"551. Student Attendance Record I\"></a>551. Student Attendance Record I</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦æœ‰å¥–åŠ±ï¼Œç¼ºå¸­æ¬¡æ•°å°äºç­‰äºä¸€å¤©ï¼Œæ²¡æœ‰ä¸‰æ¬¡è¿ç»­çš„è¿Ÿåˆ°ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦æœ‰å¥–åŠ±ï¼Œç¼ºå¸­æ¬¡æ•°å°äºç­‰äºä¸€å¤©ï¼Œæ²¡æœ‰ä¸‰æ¬¡è¿ç»­çš„è¿Ÿåˆ°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦æœ‰å¥–åŠ±ï¼Œç¼ºå¸­æ¬¡æ•°å°äºç­‰äºä¸€å¤©ï¼Œæ²¡æœ‰ä¸‰æ¬¡è¿ç»­çš„è¿Ÿåˆ°ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦æœ‰å¥–åŠ±ï¼Œç¼ºå¸­æ¬¡æ•°å°äºç­‰äºä¸€å¤©ï¼Œæ²¡æœ‰ä¸‰æ¬¡è¿ç»­çš„è¿Ÿåˆ°ã€‚<a href=\"https://leetcode.com/problems/student-attendance-record-i/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;PPALLP&quot;</span><br><span class=\"line\">Output: True</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkRecord</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.count(<span class=\"string\">'A'</span>)&lt;= <span class=\"number\">1</span> <span class=\"keyword\">and</span> <span class=\"string\">'LLL'</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> s</span><br></pre></td></tr></table></figure>\n<h3 id=\"557-Reverse-Words-in-a-String-III\"><a href=\"#557-Reverse-Words-in-a-String-III\" class=\"headerlink\" title=\"557. Reverse Words in a String III\"></a>557. Reverse Words in a String III</h3><h4 id=\"å€’ç½®ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯ã€‚æ‰€æœ‰å•è¯å‡å·²ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯ã€‚æ‰€æœ‰å•è¯å‡å·²ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯ã€‚æ‰€æœ‰å•è¯å‡å·²ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯ã€‚æ‰€æœ‰å•è¯å‡å·²ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚<a href=\"https://leetcode.com/problems/reverse-words-in-a-string-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;Let&#39;s take LeetCode contest&quot;</span><br><span class=\"line\">Output: &quot;s&#39;teL ekat edoCteeL tsetnoc&quot;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseWords</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">' '</span>.join([word[::<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> s.split()])</span><br></pre></td></tr></table></figure>\n<h3 id=\"657-Robot-Return-to-Origin\"><a href=\"#657-Robot-Return-to-Origin\" class=\"headerlink\" title=\"657. Robot Return to Origin\"></a>657. Robot Return to Origin</h3><h4 id=\"æœºå™¨äººæ˜¯å¦èƒ½å›åˆ°åŸç‚¹ã€‚â€™UDLRâ€™åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»ä¸€æ ·ã€‚åŸé¢˜\"><a href=\"#æœºå™¨äººæ˜¯å¦èƒ½å›åˆ°åŸç‚¹ã€‚â€™UDLRâ€™åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»ä¸€æ ·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœºå™¨äººæ˜¯å¦èƒ½å›åˆ°åŸç‚¹ã€‚â€™UDLRâ€™åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»ä¸€æ ·ã€‚åŸé¢˜\"></a>æœºå™¨äººæ˜¯å¦èƒ½å›åˆ°åŸç‚¹ã€‚â€™UDLRâ€™åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»ä¸€æ ·ã€‚<a href=\"https://leetcode.com/problems/robot-return-to-origin/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;UD&quot;</span><br><span class=\"line\">Output: true </span><br><span class=\"line\">Explanation: The robot moves up once, and then down once. All moves have the same magnitude, so it ended up at the origin where it started. Therefore, we return true.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå°±æ˜¯çœ‹ä¸Šä¸‹å’Œå·¦å³çš„æ¬¡æ•°æ˜¯å¦ä¸€æ ·ã€‚æ­¤é¢˜è¿‡äºç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">judgeCircle</span><span class=\"params\">(self, moves)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> moves.count(<span class=\"string\">'L'</span>) == moves.count(<span class=\"string\">'R'</span>) <span class=\"keyword\">and</span> \\</span><br><span class=\"line\">           moves.count(<span class=\"string\">'U'</span>) == moves.count(<span class=\"string\">'D'</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">judgeCircle</span><span class=\"params\">(self, moves)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(moves)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c[<span class=\"string\">'U'</span>] == c[<span class=\"string\">'D'</span>] <span class=\"keyword\">and</span> c[<span class=\"string\">'L'</span>] == c[<span class=\"string\">'R'</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"696-Count-Binary-Substrings\"><a href=\"#696-Count-Binary-Substrings\" class=\"headerlink\" title=\"696. Count Binary Substrings\"></a>696. Count Binary Substrings</h3><h4 id=\"äºŒè¿›åˆ¶å­—ç¬¦ä¸²è®¡æ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­å­—ç¬¦ä¸²ï¼Œç”±ç›¸åŒçš„0å’Œ1ç»„æˆï¼Œå¦‚â€™10â€™ï¼Œâ€™1100â€™ã€‚åŸé¢˜\"><a href=\"#äºŒè¿›åˆ¶å­—ç¬¦ä¸²è®¡æ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­å­—ç¬¦ä¸²ï¼Œç”±ç›¸åŒçš„0å’Œ1ç»„æˆï¼Œå¦‚â€™10â€™ï¼Œâ€™1100â€™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒè¿›åˆ¶å­—ç¬¦ä¸²è®¡æ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­å­—ç¬¦ä¸²ï¼Œç”±ç›¸åŒçš„0å’Œ1ç»„æˆï¼Œå¦‚â€™10â€™ï¼Œâ€™1100â€™ã€‚åŸé¢˜\"></a>äºŒè¿›åˆ¶å­—ç¬¦ä¸²è®¡æ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿ç»­çš„å­å­—ç¬¦ä¸²ï¼Œç”±ç›¸åŒçš„0å’Œ1ç»„æˆï¼Œå¦‚â€™10â€™ï¼Œâ€™1100â€™ã€‚<a href=\"https://leetcode.com/problems/count-binary-substrings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;00110011&quot;</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: There are 6 substrings that have equal number of consecutive 1&#39;s and 0&#39;s: &quot;0011&quot;, &quot;01&quot;, &quot;1100&quot;, &quot;10&quot;, &quot;0011&quot;, and &quot;01&quot;.</span><br><span class=\"line\"></span><br><span class=\"line\">Notice that some of these substrings repeat and are counted the number of times they occur.</span><br><span class=\"line\"></span><br><span class=\"line\">Also, &quot;00110011&quot; is not a valid substring because all the 0&#39;s (and 1&#39;s) are not grouped together.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šæ­£åˆ™è¦æ¯”groupbyå¿«.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countBinarySubstrings</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> groupby</span><br><span class=\"line\">    <span class=\"comment\"># groups = [len(list(v)) for _, v in groupby(s)]</span></span><br><span class=\"line\">    groups = list(map(len, re.findall(<span class=\"string\">'0+|1+'</span>, s)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(min(a, b) <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(groups, groups[<span class=\"number\">1</span>:]))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå˜é‡ï¼Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countBinarySubstrings</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">    res, prev, cur = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[i] != s[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            res += min(prev, cur)</span><br><span class=\"line\">            prev, cur = cur, <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res + min(prev, cur)</span><br></pre></td></tr></table></figure>\n<h3 id=\"709-To-Lower-Case\"><a href=\"#709-To-Lower-Case\" class=\"headerlink\" title=\"709. To Lower Case\"></a>709. To Lower Case</h3><h4 id=\"å®ç°å­—ç¬¦ä¸²çš„loweræ–¹æ³•ã€‚åŸé¢˜\"><a href=\"#å®ç°å­—ç¬¦ä¸²çš„loweræ–¹æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°å­—ç¬¦ä¸²çš„loweræ–¹æ³•ã€‚åŸé¢˜\"></a>å®ç°å­—ç¬¦ä¸²çš„<code>lower</code>æ–¹æ³•ã€‚<a href=\"https://leetcode.com/problems/to-lower-case/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;Hello&quot;</span><br><span class=\"line\">Output: &quot;hello&quot;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">toLowerCase</span><span class=\"params\">(self, str)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(chr(ord(c)+<span class=\"number\">32</span>) <span class=\"keyword\">if</span> <span class=\"number\">65</span>&lt;=ord(c)&lt;=<span class=\"number\">90</span> <span class=\"keyword\">else</span> c</span><br><span class=\"line\">                   <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> str)</span><br></pre></td></tr></table></figure>\n<h3 id=\"771-Jewels-and-Stones\"><a href=\"#771-Jewels-and-Stones\" class=\"headerlink\" title=\"771. Jewels and Stones\"></a>771. Jewels and Stones</h3><h4 id=\"åˆ¤æ–­Sé‡Œæœ‰å¤šå°‘ä¸ªåœ¨Jé‡Œï¼ŒJä¸ºä¸é‡å¤å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­Sé‡Œæœ‰å¤šå°‘ä¸ªåœ¨Jé‡Œï¼ŒJä¸ºä¸é‡å¤å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­Sé‡Œæœ‰å¤šå°‘ä¸ªåœ¨Jé‡Œï¼ŒJä¸ºä¸é‡å¤å…ƒç´ ã€‚åŸé¢˜\"></a>åˆ¤æ–­Sé‡Œæœ‰å¤šå°‘ä¸ªåœ¨Jé‡Œï¼ŒJä¸ºä¸é‡å¤å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/jewels-and-stones/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: J &#x3D; &quot;aA&quot;, S &#x3D; &quot;aAAbbbb&quot;</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨set.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numJewelsInStones</span><span class=\"params\">(self, J: <span class=\"string\">'str'</span>, S: <span class=\"string\">'str'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    jewels = set(J)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(s <span class=\"keyword\">in</span> jewels <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> S)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šcount. countçš„å€¼åªä¼šæ˜¯0å’Œ1ï¼Œå› ä¸ºJæ²¡æœ‰é‡å¤å…ƒç´ ã€‚ç”±äºè¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥åè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numJewelsInStones</span><span class=\"params\">(self, J: <span class=\"string\">'str'</span>, S: <span class=\"string\">'str'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"comment\"># return sum(map(J.count, S))</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> sum(map(S.count, J))</span><br></pre></td></tr></table></figure>\n<h3 id=\"784-Letter-Case-Permutation\"><a href=\"#784-Letter-Case-Permutation\" class=\"headerlink\" title=\"784. Letter Case Permutation\"></a>784. Letter Case Permutation</h3><h4 id=\"å­—æ¯ç»„åˆï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å­—æ¯å¯å¤§å†™å¯å°å†™ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#å­—æ¯ç»„åˆï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å­—æ¯å¯å¤§å†™å¯å°å†™ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­—æ¯ç»„åˆï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å­—æ¯å¯å¤§å†™å¯å°å†™ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>å­—æ¯ç»„åˆï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å­—æ¯å¯å¤§å†™å¯å°å†™ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/letter-case-permutation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Examples:</span><br><span class=\"line\">Input: S &#x3D; &quot;a1b2&quot;</span><br><span class=\"line\">Output: [&quot;a1b2&quot;, &quot;a1B2&quot;, &quot;A1b2&quot;, &quot;A1B2&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: S &#x3D; &quot;3z4&quot;</span><br><span class=\"line\">Output: [&quot;3z4&quot;, &quot;3Z4&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: S &#x3D; &quot;12345&quot;</span><br><span class=\"line\">Output: [&quot;12345&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæå–å­—æ¯ï¼Œç„¶å<code>format</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCasePermutation</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    letters = <span class=\"string\">''</span>.join(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> S <span class=\"keyword\">if</span> x.isalpha())</span><br><span class=\"line\">    s = re.sub(<span class=\"string\">r'[A-Za-z]'</span>, <span class=\"string\">'&#123;&#125;'</span>, S)</span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> letters:</span><br><span class=\"line\">        ans = [pre+x <span class=\"keyword\">for</span> pre <span class=\"keyword\">in</span> ans <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> (l.lower(), l.upper())]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [s.format(*f) <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> ans]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸€å¼€å§‹è¢«é¢˜ç›®è¯¯å¯¼äº†ï¼Œä»¥ä¸ºæ˜¯æ’åˆ—ï¼Œåæ¥æƒ³åˆ°äº†ç¬›å¡å°”ä¹˜ç§¯ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°å¯ä»¥è¿™æ ·å†™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCasePermutation</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    L = ((s.lower(), s.upper()) <span class=\"keyword\">if</span> s.isalpha() <span class=\"keyword\">else</span> s <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> S)</span><br><span class=\"line\">    <span class=\"comment\"># [('a', 'A'), '1', ('b', 'B'), '2']</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">''</span>.join(c) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> itertools.product(*L)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"788-Rotated-Digits\"><a href=\"#788-Rotated-Digits\" class=\"headerlink\" title=\"788. Rotated Digits\"></a>788. Rotated Digits</h3><h4 id=\"å¯æ—‹è½¬çš„æ•°å­—ï¼Œè¯´æŠŠä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•°å­—æ—‹è½¬180åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ•°å­—ã€‚å¹¶ä¸”å’ŒåŸæ¥ä¸åŒã€‚ç»™å®šä¸€ä¸ªNï¼Œè¿”å›1-Næ‰€æœ‰è¿™æ ·çš„æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å¯æ—‹è½¬çš„æ•°å­—ï¼Œè¯´æŠŠä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•°å­—æ—‹è½¬180åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ•°å­—ã€‚å¹¶ä¸”å’ŒåŸæ¥ä¸åŒã€‚ç»™å®šä¸€ä¸ªNï¼Œè¿”å›1-Næ‰€æœ‰è¿™æ ·çš„æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯æ—‹è½¬çš„æ•°å­—ï¼Œè¯´æŠŠä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•°å­—æ—‹è½¬180åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ•°å­—ã€‚å¹¶ä¸”å’ŒåŸæ¥ä¸åŒã€‚ç»™å®šä¸€ä¸ªNï¼Œè¿”å›1~Næ‰€æœ‰è¿™æ ·çš„æ•°çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å¯æ—‹è½¬çš„æ•°å­—ï¼Œè¯´æŠŠä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•°å­—æ—‹è½¬180åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ•°å­—ã€‚å¹¶ä¸”å’ŒåŸæ¥ä¸åŒã€‚ç»™å®šä¸€ä¸ªNï¼Œè¿”å›1~Næ‰€æœ‰è¿™æ ·çš„æ•°çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/rotated-digits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: 10</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">There are four good numbers in the range [1, 10] : 2, 5, 6, 9.</span><br><span class=\"line\">Note that 1 and 10 are not good numbers, since they remain unchanged after rotating.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotatedDigits</span><span class=\"params\">(self, N: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    changed = &#123;<span class=\"string\">'2'</span>, <span class=\"string\">'5'</span>, <span class=\"string\">'6'</span>, <span class=\"string\">'9'</span>&#125;</span><br><span class=\"line\">    valid = changed | &#123;<span class=\"string\">'0'</span>, <span class=\"string\">'1'</span>, <span class=\"string\">'8'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(bool(set(str(i))&lt;=valid <span class=\"keyword\">and</span> set(str(i))&amp;changed)</span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"796-Rotate-String\"><a href=\"#796-Rotate-String\" class=\"headerlink\" title=\"796. Rotate String\"></a>796. Rotate String</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²Aæ˜¯å¦å¯ä»¥æ—‹è½¬æˆBã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²Aæ˜¯å¦å¯ä»¥æ—‹è½¬æˆBã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²Aæ˜¯å¦å¯ä»¥æ—‹è½¬æˆBã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²Aæ˜¯å¦å¯ä»¥æ—‹è½¬æˆBã€‚<a href=\"https://leetcode.com/problems/rotate-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 1:</span><br><span class=\"line\">Input: A &#x3D; &#39;abcde&#39;, B &#x3D; &#39;cdeab&#39;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\"></span><br><span class=\"line\">Example 2:</span><br><span class=\"line\">Input: A &#x3D; &#39;abcde&#39;, B &#x3D; &#39;abced&#39;</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force. Time: O(NÂ²), Space: O(NÂ²).</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotateString</span><span class=\"params\">(self, A: <span class=\"string\">'str'</span>, B: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[-k:] + A[:-k] == B:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span> <span class=\"keyword\">if</span> A <span class=\"keyword\">else</span> A==B</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šTime O(NÂ²). Space O(N).</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotateString</span><span class=\"params\">(self, A: <span class=\"string\">'str'</span>, B: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(A)==len(B) <span class=\"keyword\">and</span> B <span class=\"keyword\">in</span> A*<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šKMPç®—æ³•ã€‚ç•™å‘ã€‚</p>\n<p>æ–¹æ³•å››ï¼šRolling Hashç®—æ³•ã€‚ç•™å‘ã€‚</p>\n<h3 id=\"804-Unique-Morse-Code-Words\"><a href=\"#804-Unique-Morse-Code-Words\" class=\"headerlink\" title=\"804. Unique Morse Code Words\"></a>804. Unique Morse Code Words</h3><h4 id=\"ä¸é‡å¤çš„è«æ–¯å¯†ç ï¼Œç»™å®šä¸€å¥è¯ï¼Œæ±‚ä¸é‡å¤çš„å•è¯çš„è«æ–¯å¯†ç ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#ä¸é‡å¤çš„è«æ–¯å¯†ç ï¼Œç»™å®šä¸€å¥è¯ï¼Œæ±‚ä¸é‡å¤çš„å•è¯çš„è«æ–¯å¯†ç ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸é‡å¤çš„è«æ–¯å¯†ç ï¼Œç»™å®šä¸€å¥è¯ï¼Œæ±‚ä¸é‡å¤çš„å•è¯çš„è«æ–¯å¯†ç ä¸ªæ•°ã€‚åŸé¢˜\"></a>ä¸é‡å¤çš„è«æ–¯å¯†ç ï¼Œç»™å®šä¸€å¥è¯ï¼Œæ±‚ä¸é‡å¤çš„å•è¯çš„è«æ–¯å¯†ç ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/unique-morse-code-words/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: words &#x3D; [&quot;gin&quot;, &quot;zen&quot;, &quot;gig&quot;, &quot;msg&quot;]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The transformation of each word is:</span><br><span class=\"line\">&quot;gin&quot; -&gt; &quot;--...-.&quot;</span><br><span class=\"line\">&quot;zen&quot; -&gt; &quot;--...-.&quot;</span><br><span class=\"line\">&quot;gig&quot; -&gt; &quot;--...--.&quot;</span><br><span class=\"line\">&quot;msg&quot; -&gt; &quot;--...--.&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">There are 2 different transformations, &quot;--...-.&quot; and &quot;--...--.&quot;.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniqueMorseRepresentations</span><span class=\"params\">(self, words: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    codes = [<span class=\"string\">\".-\"</span>,<span class=\"string\">\"-...\"</span>,<span class=\"string\">\"-.-.\"</span>,<span class=\"string\">\"-..\"</span>,<span class=\"string\">\".\"</span>,<span class=\"string\">\"..-.\"</span>,<span class=\"string\">\"--.\"</span>,<span class=\"string\">\"....\"</span>,<span class=\"string\">\"..\"</span>,<span class=\"string\">\".---\"</span>,<span class=\"string\">\"-.-\"</span>,<span class=\"string\">\".-..\"</span>,<span class=\"string\">\"--\"</span>,<span class=\"string\">\"-.\"</span>,<span class=\"string\">\"---\"</span>,<span class=\"string\">\".--.\"</span>,<span class=\"string\">\"--.-\"</span>,<span class=\"string\">\".-.\"</span>,<span class=\"string\">\"...\"</span>,<span class=\"string\">\"-\"</span>,<span class=\"string\">\"..-\"</span>,<span class=\"string\">\"...-\"</span>,<span class=\"string\">\".--\"</span>,<span class=\"string\">\"-..-\"</span>,<span class=\"string\">\"-.--\"</span>,<span class=\"string\">\"--..\"</span>]</span><br><span class=\"line\">    <span class=\"comment\"># morse = dict(zip(string.ascii_lowercase, codes))</span></span><br><span class=\"line\">    <span class=\"comment\"># seen = &#123;''.join(morse[c] for c in word) for word in words&#125;</span></span><br><span class=\"line\">    seen = &#123;<span class=\"string\">''</span>.join(codes[ord(c)-ord(<span class=\"string\">'a'</span>)] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> word) </span><br><span class=\"line\">           <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(seen)</span><br></pre></td></tr></table></figure>\n<h3 id=\"806-Number-of-Lines-To-Write-String\"><a href=\"#806-Number-of-Lines-To-Write-String\" class=\"headerlink\" title=\"806. Number of Lines To Write String\"></a>806. Number of Lines To Write String</h3><h4 id=\"å•è¯æ¢è¡Œï¼Œå·²çŸ¥æ¯ä¸ªå­—æ¯çš„å®½åº¦ï¼Œæ¯100ä¸€æ¢è¡Œï¼Œå†™ä¸ä¸‹ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæ¢è¡Œï¼Œæœ€ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šå°‘è¡Œå’Œæœ«å°¾è¡Œçš„å®½åº¦ã€‚åŸé¢˜\"><a href=\"#å•è¯æ¢è¡Œï¼Œå·²çŸ¥æ¯ä¸ªå­—æ¯çš„å®½åº¦ï¼Œæ¯100ä¸€æ¢è¡Œï¼Œå†™ä¸ä¸‹ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæ¢è¡Œï¼Œæœ€ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šå°‘è¡Œå’Œæœ«å°¾è¡Œçš„å®½åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å•è¯æ¢è¡Œï¼Œå·²çŸ¥æ¯ä¸ªå­—æ¯çš„å®½åº¦ï¼Œæ¯100ä¸€æ¢è¡Œï¼Œå†™ä¸ä¸‹ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæ¢è¡Œï¼Œæœ€ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šå°‘è¡Œå’Œæœ«å°¾è¡Œçš„å®½åº¦ã€‚åŸé¢˜\"></a>å•è¯æ¢è¡Œï¼Œå·²çŸ¥æ¯ä¸ªå­—æ¯çš„å®½åº¦ï¼Œæ¯100ä¸€æ¢è¡Œï¼Œå†™ä¸ä¸‹ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæ¢è¡Œï¼Œæœ€ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šå°‘è¡Œå’Œæœ«å°¾è¡Œçš„å®½åº¦ã€‚<a href=\"https://leetcode.com/problems/number-of-lines-to-write-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example :</span><br><span class=\"line\">Input: </span><br><span class=\"line\">widths &#x3D; [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]</span><br><span class=\"line\">S &#x3D; &quot;abcdefghijklmnopqrstuvwxyz&quot;</span><br><span class=\"line\">Output: [3, 60]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">All letters have the same length of 10. To write all 26 letters,</span><br><span class=\"line\">we need two full lines and one line with 60 units.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfLines</span><span class=\"params\">(self, widths: <span class=\"string\">'List[int]'</span>, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    width = dict(zip(string.ascii_letters, widths))</span><br><span class=\"line\">    lines, line = <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> line + width[s] &gt; <span class=\"number\">100</span>:</span><br><span class=\"line\">            lines += <span class=\"number\">1</span></span><br><span class=\"line\">            line = <span class=\"number\">0</span></span><br><span class=\"line\">        line += width[s]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lines, line</span><br></pre></td></tr></table></figure>\n<h3 id=\"819-Most-Common-Word\"><a href=\"#819-Most-Common-Word\" class=\"headerlink\" title=\"819. Most Common Word\"></a>819. Most Common Word</h3><h4 id=\"æœ€å¸¸è§çš„å•è¯ï¼Œä»è¾“å…¥çš„æ®µè½ä¸­æ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜å¹¶ä¸”ä¸åœ¨bannedåˆ—è¡¨ä¸­çš„å•è¯ã€‚åŸé¢˜\"><a href=\"#æœ€å¸¸è§çš„å•è¯ï¼Œä»è¾“å…¥çš„æ®µè½ä¸­æ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜å¹¶ä¸”ä¸åœ¨bannedåˆ—è¡¨ä¸­çš„å•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¸¸è§çš„å•è¯ï¼Œä»è¾“å…¥çš„æ®µè½ä¸­æ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜å¹¶ä¸”ä¸åœ¨bannedåˆ—è¡¨ä¸­çš„å•è¯ã€‚åŸé¢˜\"></a>æœ€å¸¸è§çš„å•è¯ï¼Œä»è¾“å…¥çš„æ®µè½ä¸­æ‰¾åˆ°å‡ºç°é¢‘ç‡æœ€é«˜å¹¶ä¸”ä¸åœ¨bannedåˆ—è¡¨ä¸­çš„å•è¯ã€‚<a href=\"https://leetcode.com/problems/most-common-word/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">paragraph &#x3D; &quot;Bob hit a ball, the hit BALL flew far after it was hit.&quot;</span><br><span class=\"line\">banned &#x3D; [&quot;hit&quot;]</span><br><span class=\"line\">Output: &quot;ball&quot;</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">&quot;hit&quot; occurs 3 times, but it is a banned word.</span><br><span class=\"line\">&quot;ball&quot; occurs twice (and no other word does), so it is the most frequent non-banned word in the paragraph. </span><br><span class=\"line\">Note that words in the paragraph are not case sensitive,</span><br><span class=\"line\">that punctuation is ignored (even if adjacent to words, such as &quot;ball,&quot;), </span><br><span class=\"line\">and that &quot;hit&quot; isn&#39;t the answer even though it occurs more because it is banned.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹å†™çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mostCommonWord</span><span class=\"params\">(self, paragraph: <span class=\"string\">'str'</span>, banned: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    words = re.split(<span class=\"string\">r'[!?\\',;. ]'</span>, paragraph.lower())</span><br><span class=\"line\">    c = collections.Counter(words)</span><br><span class=\"line\">    banned = set(banned)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word, count <span class=\"keyword\">in</span> c.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> word <span class=\"keyword\">and</span> word <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> banned:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> word</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•çš„ä¼˜åŒ–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mostCommonWord</span><span class=\"params\">(self, paragraph: <span class=\"string\">'str'</span>, banned: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    words = re.findall(<span class=\"string\">r'\\w+'</span>, paragraph.lower())</span><br><span class=\"line\">    banset = set(banned)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> collections.Counter(</span><br><span class=\"line\">        (w <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words <span class=\"keyword\">if</span> w <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> banset)).most_common(<span class=\"number\">1</span>)[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"821-Shortest-Distance-to-a-Character\"><a href=\"#821-Shortest-Distance-to-a-Character\" class=\"headerlink\" title=\"821. Shortest Distance to a Character\"></a>821. Shortest Distance to a Character</h3><h4 id=\"æ ¹æ®å·²çŸ¥å­—ç¬¦ä¸²S-æ±‚ç›®æ ‡å­—ç¬¦Cå’Œå·¦å³indexæœ€è¿‘çš„è·ç¦»ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®å·²çŸ¥å­—ç¬¦ä¸²S-æ±‚ç›®æ ‡å­—ç¬¦Cå’Œå·¦å³indexæœ€è¿‘çš„è·ç¦»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®å·²çŸ¥å­—ç¬¦ä¸²S, æ±‚ç›®æ ‡å­—ç¬¦Cå’Œå·¦å³indexæœ€è¿‘çš„è·ç¦»ã€‚åŸé¢˜\"></a>æ ¹æ®å·²çŸ¥å­—ç¬¦ä¸²S, æ±‚ç›®æ ‡å­—ç¬¦Cå’Œå·¦å³indexæœ€è¿‘çš„è·ç¦»ã€‚<a href=\"https://leetcode.com/problems/shortest-distance-to-a-character/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;loveleetcode&quot;, C &#x3D; &#39;e&#39;</span><br><span class=\"line\">Output: [3, 2, 1, 0, 1, 0, 0, 1, 2, 2, 1, 0]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‰åéå†ä¸¤æ¬¡ï¼Œåˆ†åˆ«æ±‚è·ç¦»ã€‚æœ¬æƒ³é€šè¿‡ä¸€æ¬¡ï¼Œç»“æœå®ç°è¿‡äºç¹çã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestToChar</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>, C: <span class=\"string\">'str'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    n = len(S)</span><br><span class=\"line\">    ans = [<span class=\"number\">0</span> <span class=\"keyword\">if</span> x == C <span class=\"keyword\">else</span> n <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> S]</span><br><span class=\"line\">    pos = -n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> list(range(n)) + list(range(n)[::<span class=\"number\">-1</span>]):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ans[i] == <span class=\"number\">0</span>: pos = i</span><br><span class=\"line\">        ans[i] = min(ans[i], abs(pos-i))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"824-Goat-Latin\"><a href=\"#824-Goat-Latin\" class=\"headerlink\" title=\"824. Goat Latin\"></a>824. Goat Latin</h3><h4 id=\"å±±ç¾Šæ‹‰ä¸å£éŸ³ï¼ŒæŠŠä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯æ ¹æ®è§„åˆ™ï¼Œç”Ÿæˆä¸€å¥æ–°çš„è¯ã€‚åŸé¢˜\"><a href=\"#å±±ç¾Šæ‹‰ä¸å£éŸ³ï¼ŒæŠŠä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯æ ¹æ®è§„åˆ™ï¼Œç”Ÿæˆä¸€å¥æ–°çš„è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å±±ç¾Šæ‹‰ä¸å£éŸ³ï¼ŒæŠŠä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯æ ¹æ®è§„åˆ™ï¼Œç”Ÿæˆä¸€å¥æ–°çš„è¯ã€‚åŸé¢˜\"></a>å±±ç¾Šæ‹‰ä¸å£éŸ³ï¼ŒæŠŠä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯æ ¹æ®è§„åˆ™ï¼Œç”Ÿæˆä¸€å¥æ–°çš„è¯ã€‚<a href=\"https://leetcode.com/problems/goat-latin/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;The quick brown fox jumped over the lazy dog&quot;</span><br><span class=\"line\">Output: &quot;heTmaa uickqmaaa rownbmaaaa oxfmaaaaa umpedjmaaaaaa overmaaaaaaa hetmaaaaaaaa azylmaaaaaaaaa ogdmaaaaaaaaaa&quot;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">toGoatLatin</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    vowels = set(<span class=\"string\">'aeiouAEIOU'</span>)</span><br><span class=\"line\">    words = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, word <span class=\"keyword\">in</span> enumerate(S.split(), start=<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> word[<span class=\"number\">0</span>] <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vowels:</span><br><span class=\"line\">            word = word[<span class=\"number\">1</span>:] + word[<span class=\"number\">0</span>]</span><br><span class=\"line\">        word += <span class=\"string\">'ma'</span>+<span class=\"string\">'a'</span>*i</span><br><span class=\"line\">        words.append(word)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">' '</span>.join(words)</span><br></pre></td></tr></table></figure>\n<h3 id=\"844-Backspace-String-Compare\"><a href=\"#844-Backspace-String-Compare\" class=\"headerlink\" title=\"844. Backspace String Compare\"></a>844. Backspace String Compare</h3><h4 id=\"é€€æ ¼é”®å­—ç¬¦ä¸²æ¯”è¾ƒã€‚æ¯”è¾ƒä¸¤ä¸ªå¸¦æœ‰é€€æ ¼-çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æœ€åè¾“å‡ºæ˜¯å¦ä¸€è‡´ã€‚åŸé¢˜\"><a href=\"#é€€æ ¼é”®å­—ç¬¦ä¸²æ¯”è¾ƒã€‚æ¯”è¾ƒä¸¤ä¸ªå¸¦æœ‰é€€æ ¼-çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æœ€åè¾“å‡ºæ˜¯å¦ä¸€è‡´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é€€æ ¼é”®å­—ç¬¦ä¸²æ¯”è¾ƒã€‚æ¯”è¾ƒä¸¤ä¸ªå¸¦æœ‰é€€æ ¼#çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æœ€åè¾“å‡ºæ˜¯å¦ä¸€è‡´ã€‚åŸé¢˜\"></a>é€€æ ¼é”®å­—ç¬¦ä¸²æ¯”è¾ƒã€‚æ¯”è¾ƒä¸¤ä¸ªå¸¦æœ‰é€€æ ¼<code>#</code>çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æœ€åè¾“å‡ºæ˜¯å¦ä¸€è‡´ã€‚<a href=\"https://leetcode.com/problems/backspace-string-compare/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;ab#c&quot;, T &#x3D; &quot;ad#c&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: Both S and T become &quot;ac&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–å…ˆæƒ³åˆ°<code>stack</code>.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backspaceCompare</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>, T: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">type_text</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        stack = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c != <span class=\"string\">'#'</span>:</span><br><span class=\"line\">                stack.append(c)</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> stack:</span><br><span class=\"line\">                stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> type_text(S) == type_text(T)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼štwo pointers. Space Complexity: O(1). </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backspaceCompare</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>, T: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">type_c</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        skip = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> reversed(s):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x == <span class=\"string\">'#'</span>:</span><br><span class=\"line\">                skip += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> skip:</span><br><span class=\"line\">                skip -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> x</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(x==y <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> itertools.zip_longest(type_c(S), type_c(T)))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè¿™ä¸ªæ–¹æ³•ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œç†è®ºä¸Šæ•ˆç‡ä¸é«˜ï¼Œä½†å®é™…ä¸Šä¹Ÿå¹¶æ— å·®åˆ«ã€‚ä½¿ç”¨reduceç„¶ååˆ‡ç‰‡å»æ‰ä¸Šæ¬¡ç»“æœçš„æœ«å°¾å…ƒç´ ã€‚æœ€åä¸€ä¸ªç©ºä¸²çš„å‚æ•°è¡¨æ˜äº†ä¸€ä¸ªåˆå§‹åŒ–å‚æ•°ã€‚å¦‚æœæ²¡æœ‰å®ƒï¼Œ<code>#a#c</code>çš„ç»“æœä¼šå˜æˆ<code>#c</code>ã€‚å› ä¸ºç¬¬ä¸€æ¬¡å¾ªç¯ç›¸å½“äº<code>back(&#39;#&#39;, &#39;a&#39;)</code>æ‰€ä»¥ç¬¬ä¸€ä¸ª<code>#</code>ä¼šä¸€ç›´ä¿ç•™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backspaceCompare</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>, T: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    back = <span class=\"keyword\">lambda</span> res, c: res[:<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> c == <span class=\"string\">'#'</span> <span class=\"keyword\">else</span> res + c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(back, S, <span class=\"string\">''</span>) == reduce(back, T, <span class=\"string\">''</span>)</span><br></pre></td></tr></table></figure>\n<p>æŸ¥çœ‹æ–‡æ¡£ä¸­reduceå®ç°ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reduce</span><span class=\"params\">(function, iterable, initializer=None)</span>:</span></span><br><span class=\"line\">    it = iter(iterable)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> initializer <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">        value = next(it)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        value = initializer</span><br><span class=\"line\">    <span class=\"keyword\">for</span> element <span class=\"keyword\">in</span> it:</span><br><span class=\"line\">        value = function(value, element)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value</span><br></pre></td></tr></table></figure>\n<h3 id=\"859-Buddy-Strings\"><a href=\"#859-Buddy-Strings\" class=\"headerlink\" title=\"859. Buddy Strings\"></a>859. Buddy Strings</h3><h4 id=\"å¥½å‹å­—ç¬¦ä¸²ã€‚æŒ‡Aé€šè¿‡ä¸€æ¬¡äº¤æ¢ä¸¤ä¸ªå­—ç¬¦å˜æˆBã€‚åˆ¤æ–­æ˜¯å¦æ˜¯å¥½å‹å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#å¥½å‹å­—ç¬¦ä¸²ã€‚æŒ‡Aé€šè¿‡ä¸€æ¬¡äº¤æ¢ä¸¤ä¸ªå­—ç¬¦å˜æˆBã€‚åˆ¤æ–­æ˜¯å¦æ˜¯å¥½å‹å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¥½å‹å­—ç¬¦ä¸²ã€‚æŒ‡Aé€šè¿‡ä¸€æ¬¡äº¤æ¢ä¸¤ä¸ªå­—ç¬¦å˜æˆBã€‚åˆ¤æ–­æ˜¯å¦æ˜¯å¥½å‹å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>å¥½å‹å­—ç¬¦ä¸²ã€‚æŒ‡Aé€šè¿‡ä¸€æ¬¡äº¤æ¢ä¸¤ä¸ªå­—ç¬¦å˜æˆBã€‚åˆ¤æ–­æ˜¯å¦æ˜¯å¥½å‹å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/buddy-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; &quot;ab&quot;, B &#x3D; &quot;ba&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Input: A &#x3D; &quot;ab&quot;, B &#x3D; &quot;ab&quot;</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force. æ•ˆç‡å¾ˆä½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buddyStrings</span><span class=\"params\">(self, A: <span class=\"string\">'str'</span>, B: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(A) != len(B) <span class=\"keyword\">or</span> set(A) != set(B):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            seen.add(A[i])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(A)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> A[:i] + A[j] + A[i+<span class=\"number\">1</span>:j] + A[i] + A[j+<span class=\"number\">1</span>:] == B:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ­¤é¢˜åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯A==Bï¼Œæ­¤æ—¶åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤å…ƒç´ ï¼›å¦ä¸€ç§æ‰¾åˆ°ä¸ç›¸ç­‰çš„å¯¹ï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€å¯¹ã€‚ç»“å°¾len(pairs)çš„åˆ¤æ–­è™½ç„¶æ˜¾å¾—æœ‰äº›é‡å¤ï¼Œä¸è¿‡å¯ä»¥åœ¨æŸäº›æƒ…å†µæå‰é€€å‡ºæé«˜æ•ˆç‡ï¼Œæ‰€ä»¥æ²¡æœ‰å†™æˆåˆ—è¡¨ç”Ÿæˆå¼çš„å½¢å¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buddyStrings</span><span class=\"params\">(self, A: <span class=\"string\">'str'</span>, B: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(A) != len(B): <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> A == B:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(A) != len(set(A))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        pairs = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(A, B):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">                pairs.append((a, b))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(pairs) &gt;= <span class=\"number\">3</span>: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(pairs) == <span class=\"number\">2</span> <span class=\"keyword\">and</span> pairs[<span class=\"number\">0</span>] == pairs[<span class=\"number\">1</span>][::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"893-Groups-of-Special-Equivalent-Strings\"><a href=\"#893-Groups-of-Special-Equivalent-Strings\" class=\"headerlink\" title=\"893. Groups of Special-Equivalent Strings\"></a>893. Groups of Special-Equivalent Strings</h3><h4 id=\"ç‰¹æ®Šç­‰ä»·å­—ç¬¦ä¸²ç»„ã€‚è¿™é¢˜Contestå°±æ²¡åšå‡ºæ¥ï¼Œæè¿°æœ‰é—®é¢˜ï¼Œè®¨è®ºåŒºä¸€å †dissçš„è¯„è®ºã€‚æ€»çš„æ¥è¯´å°±æ˜¯æŠŠAçš„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œèƒ½å¤Ÿæ”¹å˜å¶æ•°ä½çš„å­—ç¬¦ï¼Œæˆ–å¥‡æ•°ä½çš„å­—ç¬¦èƒ½ä½¿ä¹‹ç›¸ç­‰çš„ä¸ºä¸€ç»„ï¼Œæ±‚ä¸€å…±æœ‰å¤šå°‘ä¸ªç»„ã€‚åŸé¢˜\"><a href=\"#ç‰¹æ®Šç­‰ä»·å­—ç¬¦ä¸²ç»„ã€‚è¿™é¢˜Contestå°±æ²¡åšå‡ºæ¥ï¼Œæè¿°æœ‰é—®é¢˜ï¼Œè®¨è®ºåŒºä¸€å †dissçš„è¯„è®ºã€‚æ€»çš„æ¥è¯´å°±æ˜¯æŠŠAçš„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œèƒ½å¤Ÿæ”¹å˜å¶æ•°ä½çš„å­—ç¬¦ï¼Œæˆ–å¥‡æ•°ä½çš„å­—ç¬¦èƒ½ä½¿ä¹‹ç›¸ç­‰çš„ä¸ºä¸€ç»„ï¼Œæ±‚ä¸€å…±æœ‰å¤šå°‘ä¸ªç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç‰¹æ®Šç­‰ä»·å­—ç¬¦ä¸²ç»„ã€‚è¿™é¢˜Contestå°±æ²¡åšå‡ºæ¥ï¼Œæè¿°æœ‰é—®é¢˜ï¼Œè®¨è®ºåŒºä¸€å †dissçš„è¯„è®ºã€‚æ€»çš„æ¥è¯´å°±æ˜¯æŠŠAçš„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œèƒ½å¤Ÿæ”¹å˜å¶æ•°ä½çš„å­—ç¬¦ï¼Œæˆ–å¥‡æ•°ä½çš„å­—ç¬¦èƒ½ä½¿ä¹‹ç›¸ç­‰çš„ä¸ºä¸€ç»„ï¼Œæ±‚ä¸€å…±æœ‰å¤šå°‘ä¸ªç»„ã€‚åŸé¢˜\"></a>ç‰¹æ®Šç­‰ä»·å­—ç¬¦ä¸²ç»„ã€‚è¿™é¢˜Contestå°±æ²¡åšå‡ºæ¥ï¼Œæè¿°æœ‰é—®é¢˜ï¼Œè®¨è®ºåŒºä¸€å †dissçš„è¯„è®ºã€‚æ€»çš„æ¥è¯´å°±æ˜¯æŠŠAçš„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œèƒ½å¤Ÿæ”¹å˜å¶æ•°ä½çš„å­—ç¬¦ï¼Œæˆ–å¥‡æ•°ä½çš„å­—ç¬¦èƒ½ä½¿ä¹‹ç›¸ç­‰çš„ä¸ºä¸€ç»„ï¼Œæ±‚ä¸€å…±æœ‰å¤šå°‘ä¸ªç»„ã€‚<a href=\"https://leetcode.com/problems/groups-of-special-equivalent-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;c&quot;,&quot;c&quot;]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 groups [&quot;a&quot;,&quot;a&quot;], [&quot;b&quot;], [&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [&quot;abc&quot;,&quot;acb&quot;,&quot;bac&quot;,&quot;bca&quot;,&quot;cab&quot;,&quot;cba&quot;]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 groups [&quot;abc&quot;,&quot;cba&quot;], [&quot;acb&quot;,&quot;bca&quot;], [&quot;bac&quot;,&quot;cab&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [&quot;abcd&quot;,&quot;cdab&quot;,&quot;adcb&quot;,&quot;cbad&quot;]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: 1 group [&quot;abcd&quot;,&quot;cdab&quot;,&quot;adcb&quot;,&quot;cbad&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ•°ç»„ä¿ç•™ç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSpecialEquivGroups</span><span class=\"params\">(self, A: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(A)</span>:</span></span><br><span class=\"line\">        ans = [<span class=\"number\">0</span>] * <span class=\"number\">52</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, letter <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">            ans[ord(letter) - ord(<span class=\"string\">'a'</span>) + <span class=\"number\">26</span> * (i%<span class=\"number\">2</span>)] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> tuple(ans)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(&#123;count(word) <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> A&#125;)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ‡ç‰‡å­—ç¬¦ä¸²æ’åºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSpecialEquivGroups</span><span class=\"params\">(self, A: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(&#123;<span class=\"string\">''</span>.join(sorted(s[<span class=\"number\">0</span>::<span class=\"number\">2</span>])) + <span class=\"string\">''</span>.join(sorted(s[<span class=\"number\">1</span>::<span class=\"number\">2</span>]))</span><br><span class=\"line\">                <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> A&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1003-Check-If-Word-Is-Valid-After-Substitutions\"><a href=\"#1003-Check-If-Word-Is-Valid-After-Substitutions\" class=\"headerlink\" title=\"1003. Check If Word Is Valid After Substitutions\"></a>1003. Check If Word Is Valid After Substitutions</h3><h4 id=\"åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç”±abcæ— é™æ’å…¥å¾—åˆ°ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç”±abcæ— é™æ’å…¥å¾—åˆ°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç”±abcæ— é™æ’å…¥å¾—åˆ°ã€‚åŸé¢˜\"></a>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç”±<code>abc</code>æ— é™æ’å…¥å¾—åˆ°ã€‚<a href=\"https://leetcode.com/problems/check-if-word-is-valid-after-substitutions/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;aabcbc&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">We start with the valid string &quot;abc&quot;.</span><br><span class=\"line\">Then we can insert another &quot;abc&quot; between &quot;a&quot; and &quot;bc&quot;, resulting in &quot;a&quot; + &quot;abc&quot; + &quot;bc&quot; which is &quot;aabcbc&quot;.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValid</span><span class=\"params\">(self, S: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(S) &gt;= <span class=\"number\">3</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">'abc'</span> <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">            i = S.index(<span class=\"string\">'abc'</span>)</span><br><span class=\"line\">            S = S[:i] + S[i+<span class=\"number\">3</span>:]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> S == <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"17-Letter-Combinations-of-a-Phone-Number\"><a href=\"#17-Letter-Combinations-of-a-Phone-Number\" class=\"headerlink\" title=\"17. Letter Combinations of a Phone Number\"></a>17. Letter Combinations of a Phone Number</h3><h4 id=\"ç”µè¯çš„æ•°å­—å¯ä»¥ç»„æˆçš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\"><a href=\"#ç”µè¯çš„æ•°å­—å¯ä»¥ç»„æˆçš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç”µè¯çš„æ•°å­—å¯ä»¥ç»„æˆçš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\"></a>ç”µè¯çš„æ•°å­—å¯ä»¥ç»„æˆçš„å­—ç¬¦ä¸²ç»„åˆã€‚<a href=\"https://leetcode.com/problems/letter-combinations-of-a-phone-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;23&quot;</span><br><span class=\"line\">Output: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursive.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCombinations</span><span class=\"params\">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    phone = &#123;<span class=\"string\">'2'</span>: <span class=\"string\">'abc'</span>, <span class=\"string\">'3'</span>: <span class=\"string\">'def'</span>, <span class=\"string\">'4'</span>: <span class=\"string\">'ghi'</span>, <span class=\"string\">'5'</span>: <span class=\"string\">'jkl'</span>, </span><br><span class=\"line\">             <span class=\"string\">'6'</span>: <span class=\"string\">'mno'</span>, <span class=\"string\">'7'</span>: <span class=\"string\">'pqrs'</span>, <span class=\"string\">'8'</span>: <span class=\"string\">'tuv'</span>, <span class=\"string\">'9'</span>: <span class=\"string\">'wxyz'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> digits:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(digits)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> digits:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [<span class=\"string\">''</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [c + suffix <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> phone[digits[<span class=\"number\">0</span>]]</span><br><span class=\"line\">                <span class=\"keyword\">for</span> suffix <span class=\"keyword\">in</span> helper(digits[<span class=\"number\">1</span>:])]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> helper(digits)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨<code>product</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCombinations</span><span class=\"params\">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    phone = &#123;<span class=\"string\">'2'</span>: <span class=\"string\">'abc'</span>, <span class=\"string\">'3'</span>: <span class=\"string\">'def'</span>, <span class=\"string\">'4'</span>: <span class=\"string\">'ghi'</span>, <span class=\"string\">'5'</span>: <span class=\"string\">'jkl'</span>, </span><br><span class=\"line\">             <span class=\"string\">'6'</span>: <span class=\"string\">'mno'</span>, <span class=\"string\">'7'</span>: <span class=\"string\">'pqrs'</span>, <span class=\"string\">'8'</span>: <span class=\"string\">'tuv'</span>, <span class=\"string\">'9'</span>: <span class=\"string\">'wxyz'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> product</span><br><span class=\"line\">    <span class=\"keyword\">return</span> digits <span class=\"keyword\">and</span> list(map(<span class=\"string\">''</span>.join, product(*(phone[d] <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> digits)))) <span class=\"keyword\">or</span> []</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå®ç°<code>product</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCombinations</span><span class=\"params\">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    phone = &#123;<span class=\"string\">'2'</span>: <span class=\"string\">'abc'</span>, <span class=\"string\">'3'</span>: <span class=\"string\">'def'</span>, <span class=\"string\">'4'</span>: <span class=\"string\">'ghi'</span>, <span class=\"string\">'5'</span>: <span class=\"string\">'jkl'</span>, </span><br><span class=\"line\">             <span class=\"string\">'6'</span>: <span class=\"string\">'mno'</span>, <span class=\"string\">'7'</span>: <span class=\"string\">'pqrs'</span>, <span class=\"string\">'8'</span>: <span class=\"string\">'tuv'</span>, <span class=\"string\">'9'</span>: <span class=\"string\">'wxyz'</span>&#125;</span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>]</span><br><span class=\"line\">    letters = (phone[d] <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> digits)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> key <span class=\"keyword\">in</span> letters:</span><br><span class=\"line\">        ans = [x+char <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ans <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> key]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> digits <span class=\"keyword\">and</span> ans <span class=\"keyword\">or</span> []</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šè¯„è®ºé‡Œçœ‹åˆ°çš„<code>reduce</code>æ–¹æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCombinations</span><span class=\"params\">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    phone = &#123;<span class=\"string\">'2'</span>: <span class=\"string\">'abc'</span>, <span class=\"string\">'3'</span>: <span class=\"string\">'def'</span>, <span class=\"string\">'4'</span>: <span class=\"string\">'ghi'</span>, <span class=\"string\">'5'</span>: <span class=\"string\">'jkl'</span>, </span><br><span class=\"line\">             <span class=\"string\">'6'</span>: <span class=\"string\">'mno'</span>, <span class=\"string\">'7'</span>: <span class=\"string\">'pqrs'</span>, <span class=\"string\">'8'</span>: <span class=\"string\">'tuv'</span>, <span class=\"string\">'9'</span>: <span class=\"string\">'wxyz'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> digits: <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(<span class=\"keyword\">lambda</span> acc, digit: [x + y <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> acc <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> phone[digit]], digits, [<span class=\"string\">''</span>])</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äº”ï¼šSolutionä¸­çš„å›æº¯æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">letterCombinations</span><span class=\"params\">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    phone = &#123;<span class=\"string\">'2'</span>: <span class=\"string\">'abc'</span>, <span class=\"string\">'3'</span>: <span class=\"string\">'def'</span>, <span class=\"string\">'4'</span>: <span class=\"string\">'ghi'</span>, <span class=\"string\">'5'</span>: <span class=\"string\">'jkl'</span>, </span><br><span class=\"line\">             <span class=\"string\">'6'</span>: <span class=\"string\">'mno'</span>, <span class=\"string\">'7'</span>: <span class=\"string\">'pqrs'</span>, <span class=\"string\">'8'</span>: <span class=\"string\">'tuv'</span>, <span class=\"string\">'9'</span>: <span class=\"string\">'wxyz'</span>&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(combination, digits)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> digits:</span><br><span class=\"line\">            ans.append(combination)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> phone[digits[<span class=\"number\">0</span>]]:</span><br><span class=\"line\">                backtrack(combination + letter, digits[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">if</span> digits:</span><br><span class=\"line\">        backtrack(<span class=\"string\">''</span>, digits)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1023-Binary-String-With-Substrings-Representing-1-To-N\"><a href=\"#1023-Binary-String-With-Substrings-Representing-1-To-N\" class=\"headerlink\" title=\"1023. Binary String With Substrings Representing 1 To N\"></a>1023. Binary String With Substrings Representing 1 To N</h3><h4 id=\"äºŒè¿›åˆ¶å­ä¸²ï¼Œä»1åˆ°Nã€‚åŸé¢˜\"><a href=\"#äºŒè¿›åˆ¶å­ä¸²ï¼Œä»1åˆ°Nã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒè¿›åˆ¶å­ä¸²ï¼Œä»1åˆ°Nã€‚åŸé¢˜\"></a>äºŒè¿›åˆ¶å­ä¸²ï¼Œä»1åˆ°Nã€‚<a href=\"https://leetcode.com/problems/binary-string-with-substrings-representing-1-to-n/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;0110&quot;, N &#x3D; 3</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">queryString</span><span class=\"params\">(self, S: str, N: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(bin(n)[<span class=\"number\">2</span>:] <span class=\"keyword\">in</span> S <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå¯¹äºä»»æ„çš„<code>i&lt;N/2</code>çš„æ•°<code>i*2</code>çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸€å®šåŒ…å«<code>i</code>ã€‚å› ä¸ºå·¦ç§»ä¸€ä½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">queryString</span><span class=\"params\">(self, S: str, N: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(bin(n)[<span class=\"number\">2</span>:] <span class=\"keyword\">in</span> S <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(N, N//<span class=\"number\">2</span>, <span class=\"number\">-1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"482-License-Key-Formatting\"><a href=\"#482-License-Key-Formatting\" class=\"headerlink\" title=\"482. License Key Formatting\"></a>482. License Key Formatting</h3><h4 id=\"æ ¹æ®è¦æ±‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®è¦æ±‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®è¦æ±‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æ ¹æ®è¦æ±‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/license-key-formatting/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;5F3Z-2e-9-w&quot;, K &#x3D; 4</span><br><span class=\"line\">Output: &quot;5F3Z-2E9W&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å†…ç½®æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">licenseKeyFormatting</span><span class=\"params\">(self, S: str, K: int)</span> -&gt; str:</span></span><br><span class=\"line\">    s = S.replace(<span class=\"string\">'-'</span>, <span class=\"string\">''</span>).upper()[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'-'</span>.join(s[i:i+K] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, len(s), K))[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå®Œæ•´å®ç°ã€‚one-pass.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">licenseKeyFormatting</span><span class=\"params\">(self, S: str, K: int)</span> -&gt; str:</span></span><br><span class=\"line\">    s = S.replace(<span class=\"string\">'-'</span>, <span class=\"string\">''</span>).upper()</span><br><span class=\"line\">    ans, n = <span class=\"string\">''</span>, len(s)</span><br><span class=\"line\">    f = n % K</span><br><span class=\"line\">    ans += s[:f]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(f, n, K):</span><br><span class=\"line\">        ans += <span class=\"string\">'-'</span> + s[i:i+K]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.strip(<span class=\"string\">'-'</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1071-Greatest-Common-Divisor-of-Strings\"><a href=\"#1071-Greatest-Common-Divisor-of-Strings\" class=\"headerlink\" title=\"1071. Greatest Common Divisor of Strings\"></a>1071. Greatest Common Divisor of Strings</h3><h4 id=\"æœ€é•¿å…¬å…±è¢«æ•´é™¤çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿å…¬å…±è¢«æ•´é™¤çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿å…¬å…±è¢«æ•´é™¤çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æœ€é•¿å…¬å…±è¢«æ•´é™¤çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/greatest-common-divisor-of-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: str1 &#x3D; &quot;ABCABC&quot;, str2 &#x3D; &quot;ABC&quot;</span><br><span class=\"line\">Output: &quot;ABC&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input: str1 &#x3D; &quot;ABABAB&quot;, str2 &#x3D; &quot;ABAB&quot;</span><br><span class=\"line\">Output: &quot;AB&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é‡Œæˆ‘æ˜¯ä»å°æ‰¾ä¸€ä¸ªå…¬å…±ä¸²ï¼Œå¹¶è®°å½•é‡å¤æ¬¡æ•°ã€‚å†ä»ä¸¤ä¸ªé‡å¤çš„æ¬¡æ•°ä¸­å–æœ€å¤§å…¬çº¦æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gcdOfStrings</span><span class=\"params\">(self, str1: str, str2: str)</span> -&gt; str:</span></span><br><span class=\"line\">    n1, n2 = len(str1), len(str2)</span><br><span class=\"line\">    <span class=\"keyword\">from</span> math <span class=\"keyword\">import</span> gcd</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">repeat</span><span class=\"params\">(word)</span>:</span></span><br><span class=\"line\">        n = len(word)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n//<span class=\"number\">2</span>+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(&#123;word[j] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(k, n, i)&#125;) != <span class=\"number\">1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> word[:i], n // i</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    common1, num1 = repeat(str1)</span><br><span class=\"line\">    common2, num2 = repeat(str2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> gcd(num1, num2) * common1</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šé€’å½’ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gcdOfStrings</span><span class=\"params\">(self, str1: str, str2: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(str1) == len(str2):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> str1 <span class=\"keyword\">if</span> str1==str2 <span class=\"keyword\">else</span> <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(str1) &lt; len(str2):</span><br><span class=\"line\">            str1, str2 = str2, str1</span><br><span class=\"line\">        <span class=\"keyword\">if</span> str1[:len(str2)] == str2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.gcdOfStrings(str1[len(str2):], str2)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1156-Swap-For-Longest-Repeated-Character-Substring\"><a href=\"#1156-Swap-For-Longest-Repeated-Character-Substring\" class=\"headerlink\" title=\"1156. Swap For Longest Repeated Character Substring\"></a>1156. Swap For Longest Repeated Character Substring</h3><h4 id=\"æœ€å¤šäº¤æ¢ä¸€æ¬¡ä¸¤ä¸ªå­—ç¬¦ï¼Œæ±‚è¿ç»­é‡å¤çš„å­—ç¬¦æœ€å¤§ä¸ªæ•°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æœ€å¤šäº¤æ¢ä¸€æ¬¡ä¸¤ä¸ªå­—ç¬¦ï¼Œæ±‚è¿ç»­é‡å¤çš„å­—ç¬¦æœ€å¤§ä¸ªæ•°æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤šäº¤æ¢ä¸€æ¬¡ä¸¤ä¸ªå­—ç¬¦ï¼Œæ±‚è¿ç»­é‡å¤çš„å­—ç¬¦æœ€å¤§ä¸ªæ•°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>æœ€å¤šäº¤æ¢ä¸€æ¬¡ä¸¤ä¸ªå­—ç¬¦ï¼Œæ±‚è¿ç»­é‡å¤çš„å­—ç¬¦æœ€å¤§ä¸ªæ•°æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/swap-for-maximum-repeated-substring/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: text &#x3D; &quot;aaabaaa&quot;</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: Swap &#39;b&#39; with the last &#39;a&#39; (or the first &#39;a&#39;), and we get longest repeated character substring &quot;aaaaaa&quot;, which its length is 6.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: text &#x3D; &quot;aaabbaaa&quot;</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ²¡åœ¨è§„å®šæ—¶é—´å†…å®Œæˆï¼Œæ€è·¯æ˜¯å¯¹çš„ï¼Œä½¿ç”¨groupbyï¼Œç¬¬äºŒä¸ªä¾‹å­é‚£é‡Œå°ç»†èŠ‚æ²¡æœ‰å¤„ç†å¥½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxRepOpt1</span><span class=\"params\">(self, text: str)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    gg = [(d, len(list(g))) <span class=\"keyword\">for</span> d, g <span class=\"keyword\">in</span> itertools.groupby(text)]</span><br><span class=\"line\">    count = collections.Counter(text)</span><br><span class=\"line\">    ans = max(min(c+<span class=\"number\">1</span>, count[k]) <span class=\"keyword\">for</span> k, c <span class=\"keyword\">in</span> gg)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(gg)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> gg[i<span class=\"number\">-1</span>][<span class=\"number\">0</span>]==gg[i+<span class=\"number\">1</span>][<span class=\"number\">0</span>] <span class=\"keyword\">and</span> gg[i][<span class=\"number\">1</span>]==<span class=\"number\">1</span>:</span><br><span class=\"line\">            ans = max(ans, min(gg[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]+gg[i+<span class=\"number\">1</span>][<span class=\"number\">1</span>]+<span class=\"number\">1</span>, count[gg[i+<span class=\"number\">1</span>][<span class=\"number\">0</span>]]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1106-Parsing-A-Boolean-Expression\"><a href=\"#1106-Parsing-A-Boolean-Expression\" class=\"headerlink\" title=\"1106. Parsing A Boolean Expression\"></a>1106. Parsing A Boolean Expression</h3><h4 id=\"è½¬æ¢-amp-æ“ä½œç¬¦ï¼Œè¿”å›ç»“æœã€‚åŸé¢˜\"><a href=\"#è½¬æ¢-amp-æ“ä½œç¬¦ï¼Œè¿”å›ç»“æœã€‚åŸé¢˜\" class=\"headerlink\" title=\"è½¬æ¢&amp;|~æ“ä½œç¬¦ï¼Œè¿”å›ç»“æœã€‚åŸé¢˜\"></a>è½¬æ¢&amp;|~æ“ä½œç¬¦ï¼Œè¿”å›ç»“æœã€‚<a href=\"https://leetcode.com/problems/parsing-a-boolean-expression/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: expression &#x3D; &quot;|(&amp;(t,f,t),!(t))&quot;</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜å¾ˆæœ‰æ„æ€ï¼Œé©¬ä¸Šå°±èƒ½æƒ³åˆ°ç”¨<code>eval</code>æ¥ä½œå¼Šï¼Œä½†æ˜¯<code>~</code>æ²¡æœ‰å¤„ç†å¥½ï¼Œçœ‹äº†Leeç¥ç­”æ¡ˆåæç„¶å¤§æ‚Ÿã€‚è¿™é‡Œéœ€è¦å°†éç¬¦å·è½¬æˆanyæ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">parseBoolExpr</span><span class=\"params\">(self, expression: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    t, f = <span class=\"literal\">True</span>, <span class=\"literal\">False</span></span><br><span class=\"line\">    expression = expression.replace(<span class=\"string\">'!'</span>, <span class=\"string\">'not |'</span>).replace(<span class=\"string\">'&amp;('</span>, <span class=\"string\">'all(['</span>).replace(<span class=\"string\">'|('</span>, <span class=\"string\">'any(['</span>).replace(<span class=\"string\">')'</span>, <span class=\"string\">'])'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> eval(expression)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1408-String-Matching-in-an-Array\"><a href=\"#1408-String-Matching-in-an-Array\" class=\"headerlink\" title=\"1408. String Matching in an Array\"></a>1408. String Matching in an Array</h3><h4 id=\"æ‰¾å‡ºå­—ç¬¦ä¸²æ˜¯å…¶å®ƒå­ä¸²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºå­—ç¬¦ä¸²æ˜¯å…¶å®ƒå­ä¸²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºå­—ç¬¦ä¸²æ˜¯å…¶å®ƒå­ä¸²çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æ‰¾å‡ºå­—ç¬¦ä¸²æ˜¯å…¶å®ƒå­ä¸²çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/string-matching-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: words &#x3D; [&quot;mass&quot;,&quot;as&quot;,&quot;hero&quot;,&quot;superhero&quot;]</span><br><span class=\"line\">Output: [&quot;as&quot;,&quot;hero&quot;]</span><br><span class=\"line\">Explanation: &quot;as&quot; is substring of &quot;mass&quot; and &quot;hero&quot; is substring of &quot;superhero&quot;.</span><br><span class=\"line\">[&quot;hero&quot;,&quot;as&quot;] is also a valid answer.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ’åºæš´åŠ›æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stringMatching</span><span class=\"params\">(self, words: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    words.sort(key=len)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(words)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(words)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> words[i] <span class=\"keyword\">in</span> words[j]:</span><br><span class=\"line\">                ans.append(words[i])</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"791-Custom-Sort-String\"><a href=\"#791-Custom-Sort-String\" class=\"headerlink\" title=\"791. Custom Sort String\"></a>791. Custom Sort String</h3><h4 id=\"è‡ªå®šä¹‰æ’åºå­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§Sä¸­å­—æ¯é¡ºåºæ’åºTã€‚åŸé¢˜\"><a href=\"#è‡ªå®šä¹‰æ’åºå­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§Sä¸­å­—æ¯é¡ºåºæ’åºTã€‚åŸé¢˜\" class=\"headerlink\" title=\"è‡ªå®šä¹‰æ’åºå­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§Sä¸­å­—æ¯é¡ºåºæ’åºTã€‚åŸé¢˜\"></a>è‡ªå®šä¹‰æ’åºå­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§Sä¸­å­—æ¯é¡ºåºæ’åºTã€‚<a href=\"https://leetcode.com/problems/custom-sort-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example :</span><br><span class=\"line\">Input: </span><br><span class=\"line\">S &#x3D; &quot;cba&quot;</span><br><span class=\"line\">T &#x3D; &quot;abcd&quot;</span><br><span class=\"line\">Output: &quot;cbad&quot;</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">&quot;a&quot;, &quot;b&quot;, &quot;c&quot; appear in S, so the order of &quot;a&quot;, &quot;b&quot;, &quot;c&quot; should be &quot;c&quot;, &quot;b&quot;, and &quot;a&quot;. </span><br><span class=\"line\">Since &quot;d&quot; does not appear in S, it can be at any position in T. &quot;dcba&quot;, &quot;cdba&quot;, &quot;cbda&quot; are also valid outputs.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">customSortString</span><span class=\"params\">(self, S: str, T: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"comment\"># return ''.join(sorted(T, key=S.find))</span></span><br><span class=\"line\">    d = &#123;k: i <span class=\"keyword\">for</span> i, k <span class=\"keyword\">in</span> enumerate(S)&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(sorted(T, key=<span class=\"keyword\">lambda</span> x: d.get(x, <span class=\"number\">-1</span>)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"678-Valid-Parenthesis-String\"><a href=\"#678-Valid-Parenthesis-String\" class=\"headerlink\" title=\"678. Valid Parenthesis String\"></a>678. Valid Parenthesis String</h3><h4 id=\"åŒ¹é…æ‹¬å·ï¼Œ-å¯ä»¥è¡¨ç¤ºå·¦å³æˆ–è€…ç©ºã€‚åŸé¢˜\"><a href=\"#åŒ¹é…æ‹¬å·ï¼Œ-å¯ä»¥è¡¨ç¤ºå·¦å³æˆ–è€…ç©ºã€‚åŸé¢˜\" class=\"headerlink\" title=\"åŒ¹é…æ‹¬å·ï¼Œ*å¯ä»¥è¡¨ç¤ºå·¦å³æˆ–è€…ç©ºã€‚åŸé¢˜\"></a>åŒ¹é…æ‹¬å·ï¼Œ*å¯ä»¥è¡¨ç¤ºå·¦å³æˆ–è€…ç©ºã€‚<a href=\"https://leetcode.com/problems/valid-parenthesis-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;(*))&quot;</span><br><span class=\"line\">Output: True</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ä¸€å¼€å§‹æƒ³æ­ªäº†ï¼Œæƒ³ç”¨æ ˆå’Œé€’å½’çš„æ–¹å¼å®ç°ï¼Œç»“æœæ²¡æƒ³å‡ºæ¥ã€‚è¿™é‡Œç”¨äº†Lee215çš„æ–¹æ³•ã€‚<code>cmin</code>è¡¨ç¤ºè‡³å°‘éœ€è¦<code>)</code>, <code>cmax</code>è¡¨ç¤ºæœ€å¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkValidString</span><span class=\"params\">(self, s: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    cmin = cmax = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'('</span>:</span><br><span class=\"line\">            cmin += <span class=\"number\">1</span></span><br><span class=\"line\">            cmax += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">')'</span>:</span><br><span class=\"line\">            cmax -= <span class=\"number\">1</span></span><br><span class=\"line\">            cmin = max(cmin - <span class=\"number\">1</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"string\">'*'</span>:</span><br><span class=\"line\">            cmax += <span class=\"number\">1</span></span><br><span class=\"line\">            cmin = max(cmin - <span class=\"number\">1</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cmax &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> cmin == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1419-Minimum-Number-of-Frogs-Croaking\"><a href=\"#1419-Minimum-Number-of-Frogs-Croaking\" class=\"headerlink\" title=\"1419. Minimum Number of Frogs Croaking\"></a>1419. Minimum Number of Frogs Croaking</h3><h4 id=\"æœ‰nä¸ªé’è›™ğŸ¸ä¸€èµ·å«ï¼Œå«å£°æ··åˆ°äº†ä¸€èµ·ï¼Œæ±‚æœ€å°é’è›™çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æœ‰nä¸ªé’è›™ğŸ¸ä¸€èµ·å«ï¼Œå«å£°æ··åˆ°äº†ä¸€èµ·ï¼Œæ±‚æœ€å°é’è›™çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰nä¸ªé’è›™ğŸ¸ä¸€èµ·å«ï¼Œå«å£°æ··åˆ°äº†ä¸€èµ·ï¼Œæ±‚æœ€å°é’è›™çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æœ‰nä¸ªé’è›™ğŸ¸ä¸€èµ·å«ï¼Œå«å£°æ··åˆ°äº†ä¸€èµ·ï¼Œæ±‚æœ€å°é’è›™çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/minimum-number-of-frogs-croaking/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: croakOfFrogs &#x3D; &quot;crcoakroak&quot;</span><br><span class=\"line\">Output: 2 </span><br><span class=\"line\">Explanation: The minimum number of frogs is two. </span><br><span class=\"line\">The first frog could yell &quot;crcoakroak&quot;.</span><br><span class=\"line\">The second frog could yell later &quot;crcoakroak&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè®°å½•æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°ï¼Œæ³¨æ„å«çš„è¿‡ç¨‹ä¸­å­—æ¯æ•°é‡çš„é¡ºåºã€‚<code>inuse</code>è¡¨ç¤ºåŒæ—¶å«çš„é’è›™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minNumberOfFrogs</span><span class=\"params\">(self, croakOfFrogs: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    c = defaultdict(int)</span><br><span class=\"line\">    inuse = <span class=\"number\">0</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> croakOfFrogs:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> f == <span class=\"string\">'c'</span>:</span><br><span class=\"line\">            inuse += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> f == <span class=\"string\">'k'</span>:</span><br><span class=\"line\">            inuse -= <span class=\"number\">1</span></span><br><span class=\"line\">        c[f] += <span class=\"number\">1</span></span><br><span class=\"line\">        ans = max(ans, inuse)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> c[<span class=\"string\">'c'</span>] &gt;= c[<span class=\"string\">'r'</span>] &gt;= c[<span class=\"string\">'o'</span>] &gt;= c[<span class=\"string\">'a'</span>] &gt;= c[<span class=\"string\">'k'</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> inuse==<span class=\"number\">0</span> <span class=\"keyword\">and</span> len(set(c.values()))==<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1358-Number-of-Substrings-Containing-All-Three-Characters\"><a href=\"#1358-Number-of-Substrings-Containing-All-Three-Characters\" class=\"headerlink\" title=\"1358. Number of Substrings Containing All Three Characters\"></a>1358. Number of Substrings Containing All Three Characters</h3><h4 id=\"åŒ…å«â€™abcâ€™å­ä¸²çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#åŒ…å«â€™abcâ€™å­ä¸²çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åŒ…å«â€™abcâ€™å­ä¸²çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>åŒ…å«â€™abcâ€™å­ä¸²çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abcabc&quot;</span><br><span class=\"line\">Output: 10</span><br><span class=\"line\">Explanation: The substrings containing at least one occurrence of the characters a, b and c are &quot;abc&quot;, &quot;abca&quot;, &quot;abcab&quot;, &quot;abcabc&quot;, &quot;bca&quot;, &quot;bcab&quot;, &quot;bcabc&quot;, &quot;cab&quot;, &quot;cabc&quot; and &quot;abc&quot; (again).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ã€‚è®°å½•abcçš„æ•°é‡ï¼Œå½“æ— æ³•ç»„æˆæ—¶é€€å‡ºï¼Œæ­¤æ—¶æœ€å·¦çš„ç´¢å¼•ä¸ºi-1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfSubstrings</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    res = i = <span class=\"number\">0</span></span><br><span class=\"line\">    count = &#123;c: <span class=\"number\">0</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> <span class=\"string\">'abc'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        count[s[j]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> all(count.values()):</span><br><span class=\"line\">            count[s[i]] -= <span class=\"number\">1</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        res += i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ•°å­¦æ–¹æ³•ã€‚ä»¥å³ä¾§ç‚¹ä¸ºå‡†ï¼Œå‘å·¦ç´¯åŠ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfSubstrings</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    last = [<span class=\"number\">-1</span>] * <span class=\"number\">3</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        last[ord(c) - <span class=\"number\">97</span>] = i</span><br><span class=\"line\">        res += <span class=\"number\">1</span> + min(last)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1309-Decrypt-String-from-Alphabet-to-Integer-Mapping\"><a href=\"#1309-Decrypt-String-from-Alphabet-to-Integer-Mapping\" class=\"headerlink\" title=\"1309. Decrypt String from Alphabet to Integer Mapping\"></a>1309. Decrypt String from Alphabet to Integer Mapping</h3><h4 id=\"æ•°å­—åˆ°å­—æ¯çš„ä¸€ä¸ªæ˜ å°„ã€‚åŸé¢˜\"><a href=\"#æ•°å­—åˆ°å­—æ¯çš„ä¸€ä¸ªæ˜ å°„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°å­—åˆ°å­—æ¯çš„ä¸€ä¸ªæ˜ å°„ã€‚åŸé¢˜\"></a>æ•°å­—åˆ°å­—æ¯çš„ä¸€ä¸ªæ˜ å°„ã€‚<a href=\"https://leetcode.com/problems/decrypt-string-from-alphabet-to-integer-mapping/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;10#11#12&quot;</span><br><span class=\"line\">Output: &quot;jkab&quot;</span><br><span class=\"line\">Explanation: &quot;j&quot; -&gt; &quot;10#&quot; , &quot;k&quot; -&gt; &quot;11#&quot; , &quot;a&quot; -&gt; &quot;1&quot; , &quot;b&quot; -&gt; &quot;2&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶çš„ç­”æ¡ˆè¿‡äºç¹çã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">freqAlphabets</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(chr(int(i[:<span class=\"number\">2</span>]) + <span class=\"number\">96</span>) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> re.findall(<span class=\"string\">r'\\d\\d#|\\d'</span>, s))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1545-Find-Kth-Bit-in-Nth-Binary-String\"><a href=\"#1545-Find-Kth-Bit-in-Nth-Binary-String\" class=\"headerlink\" title=\"1545. Find Kth Bit in Nth Binary String\"></a>1545. Find Kth Bit in Nth Binary String</h3><h4 id=\"æ‰¾åˆ°ç¬¬nä¸ªå­—ç¬¦ä¸²çš„ç¬¬kä½ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ç¬¬nä¸ªå­—ç¬¦ä¸²çš„ç¬¬kä½ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ç¬¬nä¸ªå­—ç¬¦ä¸²çš„ç¬¬kä½ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ç¬¬nä¸ªå­—ç¬¦ä¸²çš„ç¬¬kä½ã€‚<a href=\"https://leetcode.com/problems/find-kth-bit-in-nth-binary-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><ul>\n<li><code>S1 = &quot;0&quot;</code></li>\n<li><code>S2 = &quot;0**1**1&quot;</code></li>\n<li><code>S3 = &quot;011**1**001&quot;</code></li>\n<li><code>S4 = &quot;0111001**1**0110001&quot;</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, k &#x3D; 1</span><br><span class=\"line\">Output: &quot;0&quot;</span><br><span class=\"line\">Explanation: S3 is &quot;0111001&quot;. The first bit is &quot;0&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æ˜¯æŒ‰ç…§é¢˜æ„çš„æ–¹å¼å†™çš„ï¼Œæ•ˆç‡æ…¢äº†10å€ï¼Œè¿™é¢˜ç”¨é€†å‘æ€ç»´ã€‚by@lee215.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthBit</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    flip = <span class=\"number\">0</span></span><br><span class=\"line\">    l = <span class=\"number\">2</span> ** n - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> k &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == l // <span class=\"number\">2</span> + <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> str(<span class=\"number\">1</span> ^ flip)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k &gt; l // <span class=\"number\">2</span>:</span><br><span class=\"line\">            k = l + <span class=\"number\">1</span> - k</span><br><span class=\"line\">            flip = <span class=\"number\">1</span> - flip</span><br><span class=\"line\">        l //= <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> str(flip)</span><br></pre></td></tr></table></figure>\n<h3 id=\"777-Swap-Adjacent-in-LR-String\"><a href=\"#777-Swap-Adjacent-in-LR-String\" class=\"headerlink\" title=\"777. Swap Adjacent in LR String\"></a>777. Swap Adjacent in LR String</h3><h4 id=\"è½¬æ¢æˆç›®æ ‡å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†â€XLâ€å˜æˆâ€LXâ€ï¼Œæˆ–è€…å°†â€RXâ€å˜æˆâ€XRâ€ã€‚åŸé¢˜\"><a href=\"#è½¬æ¢æˆç›®æ ‡å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†â€XLâ€å˜æˆâ€LXâ€ï¼Œæˆ–è€…å°†â€RXâ€å˜æˆâ€XRâ€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è½¬æ¢æˆç›®æ ‡å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†â€XLâ€å˜æˆâ€LXâ€ï¼Œæˆ–è€…å°†â€RXâ€å˜æˆâ€XRâ€ã€‚åŸé¢˜\"></a>è½¬æ¢æˆç›®æ ‡å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†â€XLâ€å˜æˆâ€LXâ€ï¼Œæˆ–è€…å°†â€RXâ€å˜æˆâ€XRâ€ã€‚<a href=\"https://leetcode.com/problems/swap-adjacent-in-lr-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: start &#x3D; &quot;RXXLRXRXL&quot;, end &#x3D; &quot;XRLXXRRLX&quot;</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">We can transform start to end following these steps:</span><br><span class=\"line\">RXXLRXRXL -&gt;</span><br><span class=\"line\">XRXLRXRXL -&gt;</span><br><span class=\"line\">XRLXRXRXL -&gt;</span><br><span class=\"line\">XRLXXRRXL -&gt;</span><br><span class=\"line\">XRLXXRRLX</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³é”™äº†ï¼Œä»¥ä¸ºäº’æ¢å€’è¿‡æ¥ä¹Ÿè¡Œã€‚è¿™ä¸ªå˜æ¢æœ‰ç‚¹åƒå°†Lå‘å·¦ç§»ï¼ŒRå‘å³ç§»ï¼Œè€Œä¸”ä¸èƒ½è·¨è¶Šå…¶å®ƒçš„Ræˆ–è€…Lä¹Ÿå°±æ˜¯å¯ä»¥å°†Xæƒ³è±¡æˆç©ºä½ã€‚æ‰€ä»¥è¿™é‡Œè®¡ç®—æ—¶è¦å°†LRä¸€èµ·è€ƒè™‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canTransform</span><span class=\"params\">(self, start: str, end: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    left = [(c, i) <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(start) <span class=\"keyword\">if</span> c!=<span class=\"string\">'X'</span>]</span><br><span class=\"line\">    right = [(c, i) <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(end) <span class=\"keyword\">if</span> c!=<span class=\"string\">'X'</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(left) != len(right): <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (c1, i), (c2, j) <span class=\"keyword\">in</span> zip(left, right):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c1 != c2: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> c1 == <span class=\"string\">'L'</span> <span class=\"keyword\">and</span> i &lt; j: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> c1 == <span class=\"string\">'R'</span> <span class=\"keyword\">and</span> i &gt; j: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"539-Minimum-Time-Difference\"><a href=\"#539-Minimum-Time-Difference\" class=\"headerlink\" title=\"539. Minimum Time Difference\"></a>539. Minimum Time Difference</h3><h4 id=\"ä¸¤ä¸ªæ—¶é—´çš„æœ€å°åˆ†é’Ÿå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªæ—¶é—´çš„æœ€å°åˆ†é’Ÿå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªæ—¶é—´çš„æœ€å°åˆ†é’Ÿå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªæ—¶é—´çš„æœ€å°åˆ†é’Ÿå·®çš„ç»å¯¹å€¼ã€‚<a href=\"https://leetcode.com/problems/minimum-time-difference/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;23:59&quot;,&quot;00:00&quot;]</span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šLeeçš„æ–¹æ³•ï¼Œè‡ªå·±æƒ³çš„ä¸€æ ·ï¼Œä¼˜åŒ–ä¸€ä¸‹å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMinDifference</span><span class=\"params\">(self, timePoints: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    time = sorted(int(t[:<span class=\"number\">2</span>])*<span class=\"number\">60</span>+int(t[<span class=\"number\">-2</span>:]) <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> timePoints)</span><br><span class=\"line\">    time.append(time[<span class=\"number\">0</span>]+<span class=\"number\">60</span>*<span class=\"number\">24</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(b-a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(time, time[<span class=\"number\">1</span>:]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"459-Repeated-Substring-Pattern\"><a href=\"#459-Repeated-Substring-Pattern\" class=\"headerlink\" title=\"459. Repeated Substring Pattern\"></a>459. Repeated Substring Pattern</h3><h4 id=\"å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«é‡å¤çš„å­ä¸²æ¨¡å¼ã€‚åŸé¢˜\"><a href=\"#å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«é‡å¤çš„å­ä¸²æ¨¡å¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«é‡å¤çš„å­ä¸²æ¨¡å¼ã€‚åŸé¢˜\"></a>å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«é‡å¤çš„å­ä¸²æ¨¡å¼ã€‚<a href=\"https://leetcode.com/problems/repeated-substring-pattern/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;abcabcabcabc&quot;</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation: It&#39;s the substring &quot;abc&quot; four times. (And the substring &quot;abcabc&quot; twice.)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¦‚æœsåŒ…å«ä¸€ä¸ªé‡å¤çš„å­ä¸²ï¼Œé‚£ä¹ˆé€šè¿‡æ—‹è½¬såœ¨n-1æ¬¡ä¹‹å†…ï¼Œä¸€å®šä¼šåˆå‡ºç°sæœ¬èº«ã€‚å¦‚<code>s=&#39;abcabc&#39;</code>é‚£ä¹ˆæ—‹è½¬ä¸‰æ¬¡å°±ä¼šå¾—åˆ°å®ƒã€‚åˆ¤æ–­æ˜¯å¦å‡ºç°é‡å¤é‚£ä¹ˆåªè¦å‡ºç°ä¸¤æ¬¡å°±ç®—ã€‚äºæ˜¯å°†s+så¾—åˆ°s2ã€‚å¹¶å°†å¤´å°¾å»æ‰ï¼Œè¿™æ ·s2åŒ…å«äº†æ‰€æœ‰çš„æ—‹è½¬å¯èƒ½ã€‚å¦‚æœsåœ¨å…¶ä¸­ï¼Œé‚£ä¹ˆå°±è¯´æ˜è‡³å°‘æœ‰2æ¬¡ä»¥ä¸Šçš„å­ä¸²é‡å¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">repeatedSubstringPattern</span><span class=\"params\">(self, s: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s <span class=\"keyword\">in</span> (s * <span class=\"number\">2</span>)[<span class=\"number\">1</span>:<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"165-Compare-Version-Numbers\"><a href=\"#165-Compare-Version-Numbers\" class=\"headerlink\" title=\"165. Compare Version Numbers\"></a>165. Compare Version Numbers</h3><h4 id=\"æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬çš„å¤§å°ã€‚åŸé¢˜\"><a href=\"#æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬çš„å¤§å°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬çš„å¤§å°ã€‚åŸé¢˜\"></a>æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬çš„å¤§å°ã€‚<a href=\"https://leetcode.com/problems/compare-version-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: version1 &#x3D; &quot;7.5.2.4&quot;, version2 &#x3D; &quot;7.5.3&quot;</span><br><span class=\"line\">Output: -1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜å†™å®Œç›´æ¥è‡ªä¿¡æäº¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compareVersion</span><span class=\"params\">(self, version1: str, version2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    v1, v2 = map(int, version1.split(<span class=\"string\">'.'</span>)), map(int, version2.split(<span class=\"string\">'.'</span>))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d1, d2 <span class=\"keyword\">in</span> itertools.zip_longest(v1, v2, fillvalue=<span class=\"number\">0</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d1 &gt; d2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> d2 &gt; d1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå­¦å­¦stefançš„å†™æ³•ã€‚å…¶å®å°±æ˜¯cmpå‡½æ•°ï¼Œpython3æ²¡æœ‰è¿™ä¸ªå‡½æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compareVersion</span><span class=\"params\">(self, version1: str, version2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    v1, v2 = map(int, version1.split(<span class=\"string\">'.'</span>)), map(int, version2.split(<span class=\"string\">'.'</span>))</span><br><span class=\"line\">    v1, v2 = zip(*itertools.zip_longest(v1, v2, fillvalue=<span class=\"number\">0</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">-1</span>][(v1&gt;v2)-(v2&gt;v1)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1371-Find-the-Longest-Substring-Containing-Vowels-in-Even-Counts\"><a href=\"#1371-Find-the-Longest-Substring-Containing-Vowels-in-Even-Counts\" class=\"headerlink\" title=\"1371. Find the Longest Substring Containing Vowels in Even Counts\"></a>1371. Find the Longest Substring Containing Vowels in Even Counts</h3><h4 id=\"æ‰¾åˆ°æœ€é•¿çš„åŒ…å«å¶æ•°ä¸ªå…ƒéŸ³å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿™é“é¢˜éå¸¸çš„å…¸å‹ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æœ€é•¿çš„åŒ…å«å¶æ•°ä¸ªå…ƒéŸ³å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿™é“é¢˜éå¸¸çš„å…¸å‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æœ€é•¿çš„åŒ…å«å¶æ•°ä¸ªå…ƒéŸ³å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿™é“é¢˜éå¸¸çš„å…¸å‹ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æœ€é•¿çš„åŒ…å«å¶æ•°ä¸ªå…ƒéŸ³å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿™é“é¢˜éå¸¸çš„å…¸å‹ã€‚<a href=\"https://leetcode.com/problems/find-the-longest-substring-containing-vowels-in-even-counts/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;eleetminicoworoep&quot;</span><br><span class=\"line\">Output: 13</span><br><span class=\"line\">Explanation: The longest substring is &quot;leetminicowor&quot; which contains two each of the vowels: e, i and o and zero of the vowels: a and u.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè‡ªå·±ç ”ç©¶äº†åŠå¤©çš„å†™æ³•ï¼Œå…¶å®æ„Ÿè§‰2ä¸ªæ•°ç»„è®°å½•å±å®æœ‰ç‚¹å¤šä½™ã€‚å¯¹äºå˜åŒ–çš„å½¢æ€ï¼Œä¸€ç§æœ‰32ç§çŠ¶æ€ï¼Œæˆ‘è¿™é‡Œæ˜¯è®°å½•äº†è¿™ä¸ªçŠ¶æ€æœ€å¼€å§‹æ—¶ä¸Šä¸ªçŠ¶æ€+1çš„ç´¢å¼•ï¼Œå› ä¸ºè¿™ç§çŠ¶æ€å¯ä»¥é€šè¿‡éå…ƒéŸ³å¾€ä¸¤ä¾§å»¶ä¼¸ã€‚ç„¶åè®°å½•äº†æ¯ç§çŠ¶æ€æœ€åçš„ç´¢å¼•ã€‚ç»“æœå°±æ˜¯ä¸¤ä¸ªç´¢å¼•çš„å·®å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheLongestSubstring</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    vowels = <span class=\"string\">'aeiou'</span></span><br><span class=\"line\">    mask = last_mask = <span class=\"number\">0</span></span><br><span class=\"line\">    first = [<span class=\"number\">-1</span>] + [float(<span class=\"string\">'inf'</span>)] * <span class=\"number\">31</span></span><br><span class=\"line\">    last = [<span class=\"number\">-1</span>] + [float(<span class=\"string\">'-inf'</span>)] * <span class=\"number\">31</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">in</span> set(vowels):</span><br><span class=\"line\">            j = vowels.index(c)</span><br><span class=\"line\">            last_mask, mask = mask, mask ^ (<span class=\"number\">1</span>&lt;&lt;j)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> first[mask] == float(<span class=\"string\">'inf'</span>):</span><br><span class=\"line\">                first[mask] = last[last_mask] + <span class=\"number\">1</span> </span><br><span class=\"line\">        last[mask] = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(j-i <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> zip(first, last))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„å†™æ³•ã€‚æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œå†™æ³•ä¸Šæœ‰äº†æ”¹è¿›ï¼Œsetdefaultæˆ‘ä¹Ÿæƒ³åˆ°äº†ï¼Œä½†æ˜¯lastæ•°ç»„æ²¡æƒ³åˆ°æ€ä¹ˆæ¶ˆé™¤ã€‚åŸæ¥è¦æ¯æ¬¡è®¡ç®—ä¸€ä¸‹ã€‚<code>1&lt;&lt;i&gt;&gt;1</code>æ˜¯ä¸ºäº†å°†å…¶ä»–findä¸º0çš„å˜æˆ0ã€‚ä¸è¿‡å¤§ä½¬çš„æ–¹æ³•æ¯”æˆ‘çš„æ…¢äº†200msï¼Œå¯èƒ½å› ä¸ºâ€™aeiouâ€˜çš„åå¤éå†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheLongestSubstring</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    seen = &#123;<span class=\"number\">0</span>: <span class=\"number\">-1</span>&#125;</span><br><span class=\"line\">    res = cur = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        cur ^= <span class=\"number\">1</span> &lt;&lt; (<span class=\"string\">'aeiou'</span>.find(c) + <span class=\"number\">1</span>) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        seen.setdefault(cur, i)</span><br><span class=\"line\">        res = max(res, i - seen[cur])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"443-String-Compression-1\"><a href=\"#443-String-Compression-1\" class=\"headerlink\" title=\"443. String Compression\"></a>443. String Compression</h3><h4 id=\"åŸåœ°å‹ç¼©ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œå¦‚æœæ˜¯1åˆ™ä¸éœ€è¦è¡¥æ•°é‡ã€‚åŸé¢˜\"><a href=\"#åŸåœ°å‹ç¼©ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œå¦‚æœæ˜¯1åˆ™ä¸éœ€è¦è¡¥æ•°é‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åŸåœ°å‹ç¼©ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œå¦‚æœæ˜¯1åˆ™ä¸éœ€è¦è¡¥æ•°é‡ã€‚åŸé¢˜\"></a>åŸåœ°å‹ç¼©ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œå¦‚æœæ˜¯1åˆ™ä¸éœ€è¦è¡¥æ•°é‡ã€‚<a href=\"https://leetcode.com/problems/string-compression/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: chars &#x3D; [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]</span><br><span class=\"line\">Output: Return 6, and the first 6 characters of the input array should be: [&quot;a&quot;,&quot;2&quot;,&quot;b&quot;,&quot;2&quot;,&quot;c&quot;,&quot;3&quot;]</span><br><span class=\"line\">Explanation: The groups are &quot;aa&quot;, &quot;bb&quot;, and &quot;ccc&quot;. This compresses to &quot;a2b2c3&quot;.</span><br><span class=\"line\">Input: chars &#x3D; [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;a&quot;,&quot;a&quot;]</span><br><span class=\"line\">Output: Return 6, and the first 6 characters of the input array should be: [&quot;a&quot;,&quot;3&quot;,&quot;b&quot;,&quot;2&quot;,&quot;a&quot;,&quot;2&quot;].</span><br><span class=\"line\">Explanation: The groups are &quot;aaa&quot;, &quot;bb&quot;, and &quot;aa&quot;. This compresses to &quot;a3b2a2&quot;. Note that each group is independent even if two groups have the same character.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå› ä¸ºä¸èƒ½ä½¿ç”¨å…¶å®ƒçš„ç©ºé—´ï¼Œæ‰€ä»¥åªèƒ½æ˜¯é€šè¿‡æŒ‡é’ˆæ¥æ”¹å˜ã€‚0ä½œä¸ºä¸€ä¸ªç»“å°¾ç¬¦å·ï¼Œå› ä¸ºè¿˜å¯èƒ½åŒ…å«å…¶å®ƒç¬¦å·ï¼Œè€Œä¸ä¼šå‡ºç°æ•°å­—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compress</span><span class=\"params\">(self, chars: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    i, j, cnt, last = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"string\">''</span></span><br><span class=\"line\">    chars.append(<span class=\"string\">'0'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j, s <span class=\"keyword\">in</span> enumerate(chars):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s == last:</span><br><span class=\"line\">            cnt += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            to_add = last + (str(cnt) <span class=\"keyword\">if</span> cnt!=<span class=\"number\">1</span> <span class=\"keyword\">else</span> <span class=\"string\">''</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> to_add:</span><br><span class=\"line\">                chars[i] = c</span><br><span class=\"line\">                i += <span class=\"number\">1</span></span><br><span class=\"line\">            cnt = <span class=\"number\">1</span></span><br><span class=\"line\">            last = s</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<h3 id=\"809-Expressive-Words\"><a href=\"#809-Expressive-Words\" class=\"headerlink\" title=\"809. Expressive Words\"></a>809. Expressive Words</h3><h4 id=\"æƒ…æ„Ÿä¸°å¯Œçš„å•è¯ï¼Œç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œåˆ¤æ–­æœ‰å¤šå°‘ä¸ªå¯ä»¥å˜æˆSï¼Œè§„åˆ™æ˜¯å¯ä»¥é‡å¤ä¸€ä¸ªå­—æ¯ï¼Œä½†æ˜¯è‡³å°‘è¦é‡å¤åˆ°3æ¬¡ã€‚åŸé¢˜\"><a href=\"#æƒ…æ„Ÿä¸°å¯Œçš„å•è¯ï¼Œç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œåˆ¤æ–­æœ‰å¤šå°‘ä¸ªå¯ä»¥å˜æˆSï¼Œè§„åˆ™æ˜¯å¯ä»¥é‡å¤ä¸€ä¸ªå­—æ¯ï¼Œä½†æ˜¯è‡³å°‘è¦é‡å¤åˆ°3æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æƒ…æ„Ÿä¸°å¯Œçš„å•è¯ï¼Œç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œåˆ¤æ–­æœ‰å¤šå°‘ä¸ªå¯ä»¥å˜æˆSï¼Œè§„åˆ™æ˜¯å¯ä»¥é‡å¤ä¸€ä¸ªå­—æ¯ï¼Œä½†æ˜¯è‡³å°‘è¦é‡å¤åˆ°3æ¬¡ã€‚åŸé¢˜\"></a>æƒ…æ„Ÿä¸°å¯Œçš„å•è¯ï¼Œç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œåˆ¤æ–­æœ‰å¤šå°‘ä¸ªå¯ä»¥å˜æˆSï¼Œè§„åˆ™æ˜¯å¯ä»¥é‡å¤ä¸€ä¸ªå­—æ¯ï¼Œä½†æ˜¯è‡³å°‘è¦é‡å¤åˆ°3æ¬¡ã€‚<a href=\"https://leetcode.com/problems/expressive-words/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: </span><br><span class=\"line\">S &#x3D; &quot;heeellooo&quot;</span><br><span class=\"line\">words &#x3D; [&quot;hello&quot;, &quot;hi&quot;, &quot;helo&quot;]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">We can extend &quot;e&quot; and &quot;o&quot; in the word &quot;hello&quot; to get &quot;heeellooo&quot;.</span><br><span class=\"line\">We can&#39;t extend &quot;helo&quot; to get &quot;heeellooo&quot; because the group &quot;ll&quot; is not size 3 or more.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ï¼Œ<code>groupby</code>æ³¨æ„åªèƒ½éå†ä¸€æ¬¡ï¼Œå“ªæ€•æ˜¯æ±‚lenï¼Œä¹Ÿä¼šå¯¼è‡´å…¶ä¸­åµŒå¥—çš„ç”Ÿæˆå™¨è¢«æ¶ˆè€—æ‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">expressiveWords</span><span class=\"params\">(self, S: str, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        sg = itertools.groupby(S)</span><br><span class=\"line\">        wg = itertools.groupby(word)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (sc, sgs), (wc, wgs) <span class=\"keyword\">in</span> itertools.zip_longest(</span><br><span class=\"line\">            sg, wg, fillvalue=(<span class=\"string\">'0'</span>, <span class=\"literal\">None</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> sc != wc: <span class=\"keyword\">break</span></span><br><span class=\"line\">            cnt_s, cnt_w = len(list(sgs)), len(list(wgs))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (cnt_s==<span class=\"number\">2</span> <span class=\"keyword\">and</span> cnt_w==<span class=\"number\">1</span>) <span class=\"keyword\">or</span> (cnt_s&lt;cnt_w):</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šsolutionä¸­çš„æ–¹æ³•ï¼Œå’Œæˆ‘çš„æ€æƒ³ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘çš„å†™æ³•æ²¡æœ‰è¿™ä¸ªå¥½ã€‚é¦–å…ˆéå†ä¸€æ¬¡ç„¶åè®°å½•ä¸ªæ•°å°±è¡Œäº†ï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆè¦éå†å¾ˆå¤šæ¬¡å‘¢ï¼Œå†ä¸€ä¸ªåˆ¤æ–­æ—¶ä½¿ç”¨æ»¡è¶³+1ï¼Œå°±å¯ä»¥é¿å…ä½¿ ç”¨<code>zip_longest</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">expressiveWords</span><span class=\"params\">(self, S: str, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rle</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> zip(*[(k, len(list(grp)))</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> k, grp <span class=\"keyword\">in</span> itertools.groupby(s)])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> S: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    R, count = rle(S)  <span class=\"comment\"># [('h', 'e', 'l', 'o'), (1, 3, 2, 3)]</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        R2, count2 = rle(word)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> R != R2: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        ans += all(c1&gt;=max(c2, <span class=\"number\">3</span>) <span class=\"keyword\">or</span> c1==c2</span><br><span class=\"line\">                  <span class=\"keyword\">for</span> c1, c2 <span class=\"keyword\">in</span> zip(count, count2))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"833-Find-And-Replace-in-String\"><a href=\"#833-Find-And-Replace-in-String\" class=\"headerlink\" title=\"833. Find And Replace in String\"></a>833. Find And Replace in String</h3><h4 id=\"æ‰¾åˆ°åŒ¹é…å¹¶æ›¿æ¢ï¼Œæ³¨æ„æ˜¯æ‰€æœ‰çš„åŒæ—¶æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢é•¿åº¦ä¸åŒå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åˆ‡ç‰‡ç›´æ¥ä¿®æ”¹ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°åŒ¹é…å¹¶æ›¿æ¢ï¼Œæ³¨æ„æ˜¯æ‰€æœ‰çš„åŒæ—¶æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢é•¿åº¦ä¸åŒå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åˆ‡ç‰‡ç›´æ¥ä¿®æ”¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°åŒ¹é…å¹¶æ›¿æ¢ï¼Œæ³¨æ„æ˜¯æ‰€æœ‰çš„åŒæ—¶æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢é•¿åº¦ä¸åŒå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åˆ‡ç‰‡ç›´æ¥ä¿®æ”¹ã€‚åŸé¢˜\"></a>æ‰¾åˆ°åŒ¹é…å¹¶æ›¿æ¢ï¼Œæ³¨æ„æ˜¯æ‰€æœ‰çš„åŒæ—¶æ›¿æ¢ï¼Œå› ä¸ºæ›¿æ¢é•¿åº¦ä¸åŒå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åˆ‡ç‰‡ç›´æ¥ä¿®æ”¹ã€‚<a href=\"https://leetcode.com/problems/find-and-replace-in-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;abcd&quot;, indexes &#x3D; [0,2], sources &#x3D; [&quot;ab&quot;,&quot;ec&quot;], targets &#x3D; [&quot;eee&quot;,&quot;ffff&quot;]</span><br><span class=\"line\">Output: &quot;eeecd&quot;</span><br><span class=\"line\">Explanation: &quot;ab&quot; starts at index 0 in S, so it&#39;s replaced by &quot;eee&quot;. </span><br><span class=\"line\">&quot;ec&quot; doesn&#39;t starts at index 2 in the original S, so we do nothing.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ³¨æ„last_iè¦æ›´æ–°ï¼Œè¿˜æœ‰ä¸€ç‚¹æ˜¯ï¼Œisliceç”¨çš„ä¸ç†Ÿï¼Œä»¥ä¸º<code>islice(S, 0)</code>æ˜¯ä»0å¼€å§‹å‘¢ï¼ŒåŸæ¥æ˜¯åˆ°0æˆªæ­¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findReplaceString</span><span class=\"params\">(self, S: str, indexes: List[int], sources: List[str], targets: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    ans, last_i = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, r, t <span class=\"keyword\">in</span> sorted(zip(indexes, sources, targets)):</span><br><span class=\"line\">        ans.append(S[last_i:i])</span><br><span class=\"line\">        last_i, j = i, len(r)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> all(c1==c2 <span class=\"keyword\">for</span> c1, c2 <span class=\"keyword\">in</span> zip(itertools.islice(S, i, i+j), r)):</span><br><span class=\"line\">            ans.append(t)</span><br><span class=\"line\">            last_i += j</span><br><span class=\"line\">    ans += S[last_i:]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(ans)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šby Lee215ï¼Œæˆ‘çœ‹äº†ä¸€çœ¼å°±å†™å‡ºæ¥äº†ï¼Œç›´æ¥ä½¿ç”¨äº†åˆ‡ç‰‡ï¼Œå› ä¸ºé€†åºä¸å½±å“ç´¢å¼•ã€‚ç†è®ºä¸Šæ–¹æ³•ä¸€è¦å¿«ä¸€ç‚¹ï¼Œå› ä¸ºæ²¡æœ‰äº§ç”Ÿå¤šä½™çš„åˆ‡ç‰‡ï¼Œä½†å®é™…ä¸ŠäºŒè€…æ—¶é—´ç›¸å·®æ— å‡ ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findReplaceString</span><span class=\"params\">(self, S: str, indexes: List[int], sources: List[str], targets: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, r, t <span class=\"keyword\">in</span> sorted(zip(indexes, sources, targets), reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        S = S[:i] + t + S[i+len(r):] <span class=\"keyword\">if</span> S[i:i+len(r)]==r <span class=\"keyword\">else</span> S</span><br><span class=\"line\">    <span class=\"keyword\">return</span> S</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå€’åºæ”¹æ–¹æ³•ä¸€ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findReplaceString</span><span class=\"params\">(self, S: str, indexes: List[int], sources: List[str], targets: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    s = list(S)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, r, t <span class=\"keyword\">in</span> sorted(zip(indexes, sources, targets), reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        j = len(r)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> all(c1==c2 <span class=\"keyword\">for</span> c1, c2 <span class=\"keyword\">in</span> zip(itertools.islice(s, i, i+j), r)):</span><br><span class=\"line\">            s[i:i+j] = t</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(s)</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-17-15-æœ€é•¿å•è¯\"><a href=\"#é¢è¯•é¢˜-17-15-æœ€é•¿å•è¯\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.15. æœ€é•¿å•è¯\"></a><a href=\"https://leetcode-cn.com/problems/longest-word-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.15. æœ€é•¿å•è¯</a></h3><h4 id=\"ç»™å®šä¸€ç»„å•è¯wordsï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºå…¶ä¸­çš„æœ€é•¿å•è¯ï¼Œä¸”è¯¥å•è¯ç”±è¿™ç»„å•è¯ä¸­çš„å…¶ä»–å•è¯ç»„åˆè€Œæˆã€‚è‹¥æœ‰å¤šä¸ªé•¿åº¦ç›¸åŒçš„ç»“æœï¼Œè¿”å›å…¶ä¸­å­—å…¸åºæœ€å°çš„ä¸€é¡¹ï¼Œè‹¥æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„å•è¯åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\"><a href=\"#ç»™å®šä¸€ç»„å•è¯wordsï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºå…¶ä¸­çš„æœ€é•¿å•è¯ï¼Œä¸”è¯¥å•è¯ç”±è¿™ç»„å•è¯ä¸­çš„å…¶ä»–å•è¯ç»„åˆè€Œæˆã€‚è‹¥æœ‰å¤šä¸ªé•¿åº¦ç›¸åŒçš„ç»“æœï¼Œè¿”å›å…¶ä¸­å­—å…¸åºæœ€å°çš„ä¸€é¡¹ï¼Œè‹¥æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„å•è¯åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ç»„å•è¯wordsï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºå…¶ä¸­çš„æœ€é•¿å•è¯ï¼Œä¸”è¯¥å•è¯ç”±è¿™ç»„å•è¯ä¸­çš„å…¶ä»–å•è¯ç»„åˆè€Œæˆã€‚è‹¥æœ‰å¤šä¸ªé•¿åº¦ç›¸åŒçš„ç»“æœï¼Œè¿”å›å…¶ä¸­å­—å…¸åºæœ€å°çš„ä¸€é¡¹ï¼Œè‹¥æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„å•è¯åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\"></a>ç»™å®šä¸€ç»„å•è¯wordsï¼Œç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºå…¶ä¸­çš„æœ€é•¿å•è¯ï¼Œä¸”è¯¥å•è¯ç”±è¿™ç»„å•è¯ä¸­çš„å…¶ä»–å•è¯ç»„åˆè€Œæˆã€‚è‹¥æœ‰å¤šä¸ªé•¿åº¦ç›¸åŒçš„ç»“æœï¼Œè¿”å›å…¶ä¸­å­—å…¸åºæœ€å°çš„ä¸€é¡¹ï¼Œè‹¥æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„å•è¯åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šdfsã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestWord</span><span class=\"params\">(self, words: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    words.sort(key=<span class=\"keyword\">lambda</span> w: (-len(w), w))</span><br><span class=\"line\">    N = len(words)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gen_word</span><span class=\"params\">(cur, w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> w.startswith(word) <span class=\"keyword\">and</span> word!=cur:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> gen_word(cur, w[len(word):]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> next((word <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words <span class=\"keyword\">if</span> gen_word(word, word)), <span class=\"string\">''</span>)</span><br><span class=\"line\">    <span class=\"comment\"># return next(word for word in words if gen_word(word, word))</span></span><br><span class=\"line\">    <span class=\"comment\"># è¿™å¥è¯ä¸è¡Œï¼Œä¼šå¯¼è‡´æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œè€Œä¸”è¿˜ä¼šå½±å“åˆ«çš„ç”¨ä¾‹ã€‚å’Œè¾“å‡ºé¡ºåºæœ‰å…³ã€‚</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-16-18-æ¨¡å¼åŒ¹é…\"><a href=\"#é¢è¯•é¢˜-16-18-æ¨¡å¼åŒ¹é…\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 16.18. æ¨¡å¼åŒ¹é…\"></a><a href=\"https://leetcode-cn.com/problems/pattern-matching-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 16.18. æ¨¡å¼åŒ¹é…</a></h3><h4 id=\"ä½ æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå³patternå’Œvalueã€‚-patternå­—ç¬¦ä¸²ç”±å­—æ¯â€aâ€å’Œâ€bâ€ç»„æˆï¼Œç”¨äºæè¿°å­—ç¬¦ä¸²ä¸­çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€catcatgocatgoâ€åŒ¹é…æ¨¡å¼â€aababâ€ï¼ˆå…¶ä¸­â€catâ€æ˜¯â€aâ€ï¼Œâ€goâ€æ˜¯â€bâ€ï¼‰ï¼Œè¯¥å­—ç¬¦ä¸²ä¹ŸåŒ¹é…åƒâ€aâ€ã€â€abâ€å’Œâ€bâ€è¿™æ ·çš„æ¨¡å¼ã€‚ä½†éœ€æ³¨æ„â€aâ€å’Œâ€bâ€ä¸èƒ½åŒæ—¶è¡¨ç¤ºç›¸åŒçš„å­—ç¬¦ä¸²ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­valueå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…patternå­—ç¬¦ä¸²ã€‚\"><a href=\"#ä½ æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå³patternå’Œvalueã€‚-patternå­—ç¬¦ä¸²ç”±å­—æ¯â€aâ€å’Œâ€bâ€ç»„æˆï¼Œç”¨äºæè¿°å­—ç¬¦ä¸²ä¸­çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€catcatgocatgoâ€åŒ¹é…æ¨¡å¼â€aababâ€ï¼ˆå…¶ä¸­â€catâ€æ˜¯â€aâ€ï¼Œâ€goâ€æ˜¯â€bâ€ï¼‰ï¼Œè¯¥å­—ç¬¦ä¸²ä¹ŸåŒ¹é…åƒâ€aâ€ã€â€abâ€å’Œâ€bâ€è¿™æ ·çš„æ¨¡å¼ã€‚ä½†éœ€æ³¨æ„â€aâ€å’Œâ€bâ€ä¸èƒ½åŒæ—¶è¡¨ç¤ºç›¸åŒçš„å­—ç¬¦ä¸²ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­valueå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…patternå­—ç¬¦ä¸²ã€‚\" class=\"headerlink\" title=\"ä½ æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå³patternå’Œvalueã€‚ patternå­—ç¬¦ä¸²ç”±å­—æ¯â€aâ€å’Œâ€bâ€ç»„æˆï¼Œç”¨äºæè¿°å­—ç¬¦ä¸²ä¸­çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€catcatgocatgoâ€åŒ¹é…æ¨¡å¼â€aababâ€ï¼ˆå…¶ä¸­â€catâ€æ˜¯â€aâ€ï¼Œâ€goâ€æ˜¯â€bâ€ï¼‰ï¼Œè¯¥å­—ç¬¦ä¸²ä¹ŸåŒ¹é…åƒâ€aâ€ã€â€abâ€å’Œâ€bâ€è¿™æ ·çš„æ¨¡å¼ã€‚ä½†éœ€æ³¨æ„â€aâ€å’Œâ€bâ€ä¸èƒ½åŒæ—¶è¡¨ç¤ºç›¸åŒçš„å­—ç¬¦ä¸²ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­valueå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…patternå­—ç¬¦ä¸²ã€‚\"></a>ä½ æœ‰ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå³patternå’Œvalueã€‚ patternå­—ç¬¦ä¸²ç”±å­—æ¯â€aâ€å’Œâ€bâ€ç»„æˆï¼Œç”¨äºæè¿°å­—ç¬¦ä¸²ä¸­çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€catcatgocatgoâ€åŒ¹é…æ¨¡å¼â€aababâ€ï¼ˆå…¶ä¸­â€catâ€æ˜¯â€aâ€ï¼Œâ€goâ€æ˜¯â€bâ€ï¼‰ï¼Œè¯¥å­—ç¬¦ä¸²ä¹ŸåŒ¹é…åƒâ€aâ€ã€â€abâ€å’Œâ€bâ€è¿™æ ·çš„æ¨¡å¼ã€‚ä½†éœ€æ³¨æ„â€aâ€å’Œâ€bâ€ä¸èƒ½åŒæ—¶è¡¨ç¤ºç›¸åŒçš„å­—ç¬¦ä¸²ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­valueå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…patternå­—ç¬¦ä¸²ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜è¾¹ç•Œæ¡ä»¶æŒºå¤šçš„ã€‚å†™äº†å¾ˆé•¿æ—¶é—´ã€‚ä¸æ˜¯æœ€ä¼˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯é€Ÿåº¦è¿˜å¯ä»¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">patternMatching</span><span class=\"params\">(self, pattern: str, value: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    N, M = len(pattern), len(value)</span><br><span class=\"line\">    first, first_val = pattern[<span class=\"number\">0</span>], <span class=\"string\">''</span></span><br><span class=\"line\">    another = <span class=\"string\">'ab'</span>[first==<span class=\"string\">'a'</span>]</span><br><span class=\"line\">    cnt_another = pattern.count(another)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> (value + <span class=\"string\">'#'</span>):</span><br><span class=\"line\">        <span class=\"comment\"># print(first_val)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cnt_another == <span class=\"number\">0</span>:</span><br><span class=\"line\">            len_another = <span class=\"number\">0</span></span><br><span class=\"line\">            another_val = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            len_another = (M - (len(first_val)*(N-cnt_another))) / cnt_another</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> len_another.is_integer():  <span class=\"comment\"># ä¸èƒ½æ•´é™¤åˆ™è·³è¿‡</span></span><br><span class=\"line\">                first_val += c</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                len_another = int(len_another)</span><br><span class=\"line\">            j = pattern.find(another)</span><br><span class=\"line\">            another_val = value[j*len(first_val):j*len(first_val)+len_another]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (pattern.replace(another, <span class=\"string\">'#'</span>).replace(first, first_val).replace(<span class=\"string\">'#'</span>, another_val)==value) <span class=\"keyword\">and</span> (cnt_another==<span class=\"number\">0</span> <span class=\"keyword\">or</span> first_val!=another_val):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        first_val += c</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1638-Count-Substrings-That-Differ-by-One-Character\"><a href=\"#1638-Count-Substrings-That-Differ-by-One-Character\" class=\"headerlink\" title=\"1638. Count Substrings That Differ by One Character\"></a><a href=\"https://leetcode.com/problems/count-substrings-that-differ-by-one-character/\" target=\"_blank\" rel=\"noopener\">1638. Count Substrings That Differ by One Character</a></h3><h4 id=\"ä¸¤ä¸ªå­—ç¬¦ä¸²çš„è¿ç»­å­ä¸²ä¸­åˆšå¥½å·®ä¸€ä¸ªå­—ç¬¦çš„ä¸€å…±æœ‰å¤šå°‘å¯¹ã€‚\"><a href=\"#ä¸¤ä¸ªå­—ç¬¦ä¸²çš„è¿ç»­å­ä¸²ä¸­åˆšå¥½å·®ä¸€ä¸ªå­—ç¬¦çš„ä¸€å…±æœ‰å¤šå°‘å¯¹ã€‚\" class=\"headerlink\" title=\"ä¸¤ä¸ªå­—ç¬¦ä¸²çš„è¿ç»­å­ä¸²ä¸­åˆšå¥½å·®ä¸€ä¸ªå­—ç¬¦çš„ä¸€å…±æœ‰å¤šå°‘å¯¹ã€‚\"></a>ä¸¤ä¸ªå­—ç¬¦ä¸²çš„è¿ç»­å­ä¸²ä¸­åˆšå¥½å·®ä¸€ä¸ªå­—ç¬¦çš„ä¸€å…±æœ‰å¤šå°‘å¯¹ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;aba&quot;, t &#x3D; &quot;baba&quot;</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: The following are the pairs of substrings from s and t that differ by exactly 1 character:</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">(&quot;aba&quot;, &quot;baba&quot;)</span><br><span class=\"line\">The underlined portions are the substrings that are chosen from s and t.</span><br><span class=\"line\">Input: s &#x3D; &quot;abe&quot;, t &#x3D; &quot;bbc&quot;</span><br><span class=\"line\">Output: 10</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€: æ¯”èµ›æ—¶æš´åŠ›è¿‡çš„ã€‚å¤æ‚åº¦å¾ˆé«˜ï¼Œæ—¶é—´1000ms+ï¼Œä¸è¿‡å±…ç„¶èƒ½è¿‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSubstrings</span><span class=\"params\">(self, s: str, t: str)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">check</span><span class=\"params\">(s1, s2)</span>:</span></span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(s1, s2):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> count == <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count == <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    min_len = min(len(t), len(s))</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min_len+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)-d+<span class=\"number\">1</span>):</span><br><span class=\"line\">            s1 = s[i:i+d]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(t)-d+<span class=\"number\">1</span>):</span><br><span class=\"line\">                s2 = t[j:j+d]</span><br><span class=\"line\">                <span class=\"comment\"># print(s1, s2, check(s1, s2))</span></span><br><span class=\"line\">                ans += check(s1, s2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•å¥½å¤ªå¤šäº†ï¼Œ44msã€‚å½“å­—ç¬¦ä¸ç›¸ç­‰æ—¶é‡ç½®ä¸º0ï¼Œå¦åˆ™ç´¯åŠ ã€‚è¿™ä¸ªå†™æ³•æŒºéš¾ç†è§£çš„ï¼Œcurè¡¨ç¤ºç›¸ç­‰çš„æ•°çš„ç´¯åŠ ï¼Œä¸ç›¸ç­‰æ—¶é‡ç½®ä¸º0ï¼Œç„¶åäº¤ç»™preæ¥å¤„ç†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSubstrings</span><span class=\"params\">(self, s: str, t: str)</span> -&gt; int:</span></span><br><span class=\"line\">    M, N = len(s), len(t)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">check</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        res = pre = cur = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(min(M-i, N-j)):</span><br><span class=\"line\">            cur += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[i+k] != t[j+k]:</span><br><span class=\"line\">                pre, cur = cur, <span class=\"number\">0</span></span><br><span class=\"line\">            res += pre</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(check(i, <span class=\"number\">0</span>) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M)) + sum(check(<span class=\"number\">0</span>, j) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N))</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["String","LeetCode","Python","Algorithm"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ•°ç»„ç¯‡ï¼‰Array","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/","content":"<h3 id=\"26-Remove-Duplicates-from-Sorted-Array\"><a href=\"#26-Remove-Duplicates-from-Sorted-Array\" class=\"headerlink\" title=\"26. Remove Duplicates from Sorted Array\"></a>26. Remove Duplicates from Sorted Array</h3><h4 id=\"åˆ é™¤æ’åºæ•°ç»„ä¸­é‡å¤çš„å…ƒç´ -åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ï¼Œæ ‡è¯†å‰nä¸ªå…ƒç´ ä¸ºç›®æ ‡æ•°ç»„ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤æ’åºæ•°ç»„ä¸­é‡å¤çš„å…ƒç´ -åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ï¼Œæ ‡è¯†å‰nä¸ªå…ƒç´ ä¸ºç›®æ ‡æ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤æ’åºæ•°ç»„ä¸­é‡å¤çš„å…ƒç´ , åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ï¼Œæ ‡è¯†å‰nä¸ªå…ƒç´ ä¸ºç›®æ ‡æ•°ç»„ã€‚åŸé¢˜\"></a>åˆ é™¤æ’åºæ•°ç»„ä¸­é‡å¤çš„å…ƒç´ , åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ï¼Œæ ‡è¯†å‰nä¸ªå…ƒç´ ä¸ºç›®æ ‡æ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given nums &#x3D; [0,0,1,1,1,2,2,3,3,4],</span><br><span class=\"line\"></span><br><span class=\"line\">Your function should return length &#x3D; 5, with the first five elements of nums being modified to 0, 1, 2, 3, and 4 respectively.</span><br><span class=\"line\"></span><br><span class=\"line\">It doesn&#39;t matter what values are set beyond the returned length.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">remove_duplicates</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    index = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] != nums[i+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            nums[index] = nums[i+<span class=\"number\">1</span>]</span><br><span class=\"line\">            index += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> index</span><br></pre></td></tr></table></figure>\n<h3 id=\"80-Remove-Duplicates-from-Sorted-Array-II\"><a href=\"#80-Remove-Duplicates-from-Sorted-Array-II\" class=\"headerlink\" title=\"80. Remove Duplicates from Sorted Array II\"></a>80. Remove Duplicates from Sorted Array II</h3><h4 id=\"å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥å…è®¸é‡å¤ä¸¤æ¬¡ã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥å…è®¸é‡å¤ä¸¤æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥å…è®¸é‡å¤ä¸¤æ¬¡ã€‚åŸé¢˜\"></a>å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä½†æ˜¯å¯ä»¥å…è®¸é‡å¤ä¸¤æ¬¡ã€‚<a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆè°ƒäº†åŠå¤©ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    left = right = cnt = <span class=\"number\">0</span></span><br><span class=\"line\">    last_left = <span class=\"literal\">None</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> right &lt; n:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> right&lt;n <span class=\"keyword\">and</span> nums[right]==last_left <span class=\"keyword\">and</span> cnt:</span><br><span class=\"line\">            right += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> right &gt;= n: <span class=\"keyword\">break</span></span><br><span class=\"line\">        nums[left] = nums[right]</span><br><span class=\"line\">        cnt = last_left==nums[left]</span><br><span class=\"line\">        last_left = nums[left]</span><br><span class=\"line\">        left += <span class=\"number\">1</span></span><br><span class=\"line\">        right += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> left</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstefançš„æ–¹æ³•åŸæ¥è¿™ä¹ˆç®€å•ã€‚iä½œä¸ºå¾…æ’å…¥çš„ç´¢å¼•ä½ç½®ï¼Œç”¨nå’Œä»–å‰ä¸¤ä½æ¯”è¾ƒï¼Œå¦‚æœä¸€æ ·çš„è¯ï¼Œä¿æŒæ’å…¥ä½ç½®ä¸åŠ¨ï¼Œè€Œnums[i-2]æ˜¯ä¸å˜çš„ï¼Œä¸€ç›´å¯ä»¥ç”¨æ¥ä½œæ¯”è¾ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i&lt;<span class=\"number\">2</span> <span class=\"keyword\">or</span> n&gt;nums[i<span class=\"number\">-2</span>]:</span><br><span class=\"line\">            nums[i] = n</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<h3 id=\"66-Plus-One\"><a href=\"#66-Plus-One\" class=\"headerlink\" title=\"66. Plus One\"></a>66. Plus One</h3><h4 id=\"ç»™æ•°ç»„åŠ ä¸€ï¼Œå…ƒç´ ä¸ºéè´Ÿæ•´æ•°ï¼Œä¸ä»¥0å¼€å¤´ï¼Œæ¯ä¸ªå…ƒç´ åªæœ‰ä¸€ä¸ªæ•°å­—ã€‚åŸé¢˜\"><a href=\"#ç»™æ•°ç»„åŠ ä¸€ï¼Œå…ƒç´ ä¸ºéè´Ÿæ•´æ•°ï¼Œä¸ä»¥0å¼€å¤´ï¼Œæ¯ä¸ªå…ƒç´ åªæœ‰ä¸€ä¸ªæ•°å­—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™æ•°ç»„åŠ ä¸€ï¼Œå…ƒç´ ä¸ºéè´Ÿæ•´æ•°ï¼Œä¸ä»¥0å¼€å¤´ï¼Œæ¯ä¸ªå…ƒç´ åªæœ‰ä¸€ä¸ªæ•°å­—ã€‚åŸé¢˜\"></a>ç»™æ•°ç»„åŠ ä¸€ï¼Œå…ƒç´ ä¸ºéè´Ÿæ•´æ•°ï¼Œä¸ä»¥0å¼€å¤´ï¼Œæ¯ä¸ªå…ƒç´ åªæœ‰ä¸€ä¸ªæ•°å­—ã€‚<a href=\"https://leetcode.com/problems/plus-one/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [4,3,2,1]</span><br><span class=\"line\">Output: [4,3,2,2]</span><br><span class=\"line\">Explanation: The array represents the integer 4321.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè½¬æˆå­—ç¬¦ä¸²å†è½¬æˆæ•°å­—</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">plusOne</span><span class=\"params\">(self, digits: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    num = int(<span class=\"string\">''</span>.join(map(str, digits)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [int(d) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> str(num + <span class=\"number\">1</span>)]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šMath è¿›ä½</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">plus_one</span><span class=\"params\">(digits)</span>:</span></span><br><span class=\"line\">    d = digits[:]  </span><br><span class=\"line\">    plused = []</span><br><span class=\"line\">    carry = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> d <span class=\"keyword\">or</span> carry:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d:</span><br><span class=\"line\">            v = d.pop()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            v = <span class=\"number\">0</span></span><br><span class=\"line\">        carry, val = divmod(carry+v, <span class=\"number\">10</span>)</span><br><span class=\"line\">        plused.append(val)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> plused[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ•°ç»„è¿›ä½ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">plusOne</span><span class=\"params\">(self, digits: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    d = digits[:]</span><br><span class=\"line\">    d[<span class=\"number\">-1</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(d)<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        carry, d[i] = divmod(d[i], <span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i: d[i<span class=\"number\">-1</span>] += carry</span><br><span class=\"line\">    <span class=\"keyword\">if</span> carry:</span><br><span class=\"line\">        d.insert(<span class=\"number\">0</span>, carry)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d</span><br></pre></td></tr></table></figure>\n<h3 id=\"989-Add-to-Array-Form-of-Integer\"><a href=\"#989-Add-to-Array-Form-of-Integer\" class=\"headerlink\" title=\"989. Add to Array-Form of Integer\"></a>989. Add to Array-Form of Integer</h3><h4 id=\"å’Œ66é¢˜å¾ˆç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯è¿™ä¸ªKä¼šå¤§äº10ï¼Œä»¥è‡³äºä½™æ•°ä¹Ÿä¼šå¤§äº10ã€‚åŸé¢˜\"><a href=\"#å’Œ66é¢˜å¾ˆç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯è¿™ä¸ªKä¼šå¤§äº10ï¼Œä»¥è‡³äºä½™æ•°ä¹Ÿä¼šå¤§äº10ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ66é¢˜å¾ˆç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯è¿™ä¸ªKä¼šå¤§äº10ï¼Œä»¥è‡³äºä½™æ•°ä¹Ÿä¼šå¤§äº10ã€‚åŸé¢˜\"></a>å’Œ66é¢˜å¾ˆç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯è¿™ä¸ªKä¼šå¤§äº10ï¼Œä»¥è‡³äºä½™æ•°ä¹Ÿä¼šå¤§äº10ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-123/problems/add-to-array-form-of-integer/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [2,7,4], K &#x3D; 181</span><br><span class=\"line\">Output: [4,5,5]</span><br><span class=\"line\">Explanation: 274 + 181 &#x3D; 455</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addToArrayForm</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>, K: <span class=\"string\">'int'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    a = int(<span class=\"string\">''</span>.join(map(str, A)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [int(c) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> str(a + K)]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåŸç†å®ç°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addToArrayForm</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>, K: <span class=\"string\">'int'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    A[<span class=\"number\">-1</span>] += K</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        carry, A[i] = divmod(A[i], <span class=\"number\">10</span>) </span><br><span class=\"line\">        <span class=\"keyword\">if</span> i: A[i<span class=\"number\">-1</span>] += carry</span><br><span class=\"line\">    <span class=\"keyword\">if</span> carry:</span><br><span class=\"line\">        A = list(map(int, str(carry))) + A</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A</span><br></pre></td></tr></table></figure>\n<h3 id=\"88-Merge-Sorted-Array\"><a href=\"#88-Merge-Sorted-Array\" class=\"headerlink\" title=\"88. Merge Sorted Array\"></a>88. Merge Sorted Array</h3><h4 id=\"åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåœ¨nums1ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"><a href=\"#åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåœ¨nums1ä¸Šä¿®æ”¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåœ¨nums1ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"></a>åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåœ¨nums1ä¸Šä¿®æ”¹ã€‚<a href=\"https://leetcode.com/problems/merge-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">nums1 &#x3D; [1,2,3,0,0,0], m &#x3D; 3</span><br><span class=\"line\">nums2 &#x3D; [2,5,6],       n &#x3D; 3</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [1,2,2,3,5,6]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge</span><span class=\"params\">(self, nums1, m, nums2, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> m&gt;<span class=\"number\">0</span> <span class=\"keyword\">and</span> n&gt;<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums1[m<span class=\"number\">-1</span>] &gt; nums2[n<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            nums1[n+m<span class=\"number\">-1</span>] = nums1[m<span class=\"number\">-1</span>]</span><br><span class=\"line\">            m -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            nums1[n+m<span class=\"number\">-1</span>] = nums2[n<span class=\"number\">-1</span>]</span><br><span class=\"line\">            n -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        nums1[:n] = nums2[:n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"118-Pascalâ€™s-Triangle\"><a href=\"#118-Pascalâ€™s-Triangle\" class=\"headerlink\" title=\"118. Pascalâ€™s Triangle\"></a>118. Pascalâ€™s Triangle</h3><h4 id=\"æ¨è¾‰ä¸‰è§’ã€‚åŸé¢˜\"><a href=\"#æ¨è¾‰ä¸‰è§’ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¨è¾‰ä¸‰è§’ã€‚åŸé¢˜\"></a>æ¨è¾‰ä¸‰è§’ã€‚<a href=\"https://leetcode.com/problems/pascals-triangle/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 5</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">     [1],</span><br><span class=\"line\">    [1,1],</span><br><span class=\"line\">   [1,2,1],</span><br><span class=\"line\">  [1,3,3,1],</span><br><span class=\"line\"> [1,4,6,4,1]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€: é”™ä½ç›¸åŠ ã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨zipï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œreséœ€è¦â•ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ç»´ã€‚ç»“å°¾çš„åˆ‡ç‰‡æ˜¯ä¸ºäº†0çš„æƒ…å†µã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generate</span><span class=\"params\">(self, numRows: <span class=\"string\">'int'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans = [[<span class=\"number\">1</span>]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(numRows<span class=\"number\">-1</span>):</span><br><span class=\"line\">        ans += [[a+b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip([<span class=\"number\">0</span>]+ans[<span class=\"number\">-1</span>], ans[<span class=\"number\">-1</span>]+[<span class=\"number\">0</span>])]]</span><br><span class=\"line\">        <span class=\"comment\"># ans.append(list(map(lambda x, y: x + y, [0]+ans[-1], ans[-1]+[0])))</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[:numRows]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒ</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generate</span><span class=\"params\">(num)</span>:</span></span><br><span class=\"line\">    triangle = []</span><br><span class=\"line\">    inner = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(num):</span><br><span class=\"line\">        triangle.append(list(inner))</span><br><span class=\"line\">        inner.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">        right = [inner[i]+inner[i+<span class=\"number\">1</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(inner)<span class=\"number\">-1</span>)]</span><br><span class=\"line\">        inner = [<span class=\"number\">1</span>] + right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> triangle</span><br></pre></td></tr></table></figure>\n<h3 id=\"119-Pascalâ€™s-Triangle-II\"><a href=\"#119-Pascalâ€™s-Triangle-II\" class=\"headerlink\" title=\"119.Pascalâ€™s Triangle II\"></a>119.Pascalâ€™s Triangle II</h3><h4 id=\"æ¨è¾‰ä¸‰è§’ï¼Œåªæ‰“å°ä¸€å±‚ã€‚åŸé¢˜\"><a href=\"#æ¨è¾‰ä¸‰è§’ï¼Œåªæ‰“å°ä¸€å±‚ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¨è¾‰ä¸‰è§’ï¼Œåªæ‰“å°ä¸€å±‚ã€‚åŸé¢˜\"></a>æ¨è¾‰ä¸‰è§’ï¼Œåªæ‰“å°ä¸€å±‚ã€‚<a href=\"https://leetcode.com/problems/pascals-triangle-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getRow</span><span class=\"params\">(self, rowIndex: <span class=\"string\">'int'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    ans = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(rowIndex):</span><br><span class=\"line\">        ans = [a+b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip([<span class=\"number\">0</span>]+ans, ans+[<span class=\"number\">0</span>])]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"169-Majority-Element\"><a href=\"#169-Majority-Element\" class=\"headerlink\" title=\"169. Majority Element\"></a>169. Majority Element</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/majority-element/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ’åº. Time-O(nlogn), Space-O(n)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majority_element</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(nums)[len(nums)//<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šCounter Time-O(n), Space-O(n)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majority_element</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    <span class=\"comment\"># return max(c.keys(), key=c.get)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> c.most_common(<span class=\"number\">1</span>)[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šBoyer-Moore Voting Algorithm. ä¹¦ä¸­çš„ç®—æ³•è¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œè¿™é‡Œé™„ä¸Šè‡ªå·±çš„è§è§£ã€‚</font>\n\n<a href=\"/%E6%B3%A2%E4%B9%89%E5%B0%94%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95%EF%BC%88Boyer-Moore-Voting-Algorithm%EF%BC%89/\" title=\"æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•\">æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•</a>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majorityElement</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    candidate = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> count == <span class=\"number\">0</span>:</span><br><span class=\"line\">            candidate = num</span><br><span class=\"line\">        count += (<span class=\"number\">1</span> <span class=\"keyword\">if</span> num == candidate <span class=\"keyword\">else</span> <span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> candidate</span><br></pre></td></tr></table></figure>\n<h3 id=\"229-Majority-Element-II\"><a href=\"#229-Majority-Element-II\" class=\"headerlink\" title=\"229. Majority Element II\"></a>229. Majority Element II</h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­å‡ºç°è¶…è¿‡n-3æ¬¡çš„å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­å‡ºç°è¶…è¿‡n-3æ¬¡çš„å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­å‡ºç°è¶…è¿‡n/3æ¬¡çš„å…ƒç´ ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ•°ç»„ä¸­å‡ºç°è¶…è¿‡n/3æ¬¡çš„å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/majority-element-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,1,1,3,3,2,2,2]</span><br><span class=\"line\">Output: [1,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨æ³•åŒæ ·å¯ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸€å¼€å§‹æƒ³ä¸€æ¬¡éå†æ±‚ï¼Œå‘ç°å¥½åƒä¸å¯ä»¥ï¼Œæœ€åéƒ½è¦éå†ä¸€æ¬¡åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚å¾ªç¯ä¸­æ˜¯elifï¼Œä¸¤ä¸ªå€™é€‰äººå¼€å§‹è®¾ä¸ºä¸åŒçš„å€¼ä»¥ç”¨æ¥åŒºåˆ†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majorityElement</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    count1, count2, candidate1, candidate2 = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == candidate1:</span><br><span class=\"line\">            count1 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> n == candidate2:</span><br><span class=\"line\">            count2 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> count1 == <span class=\"number\">0</span>:</span><br><span class=\"line\">            candidate1, count1 = n, <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> count2 == <span class=\"number\">0</span>:</span><br><span class=\"line\">            candidate2, count2 = n, <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            count1, count2 = count1 - <span class=\"number\">1</span>, count2 - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> (candidate1, candidate2)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums.count(n) &gt; len(nums) // <span class=\"number\">3</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šCounter. by Stefan.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">majorityElement</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ctr = Counter()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ctr[n] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(ctr)==<span class=\"number\">3</span>:</span><br><span class=\"line\">            ctr -= Counter(set(ctr))  <span class=\"comment\"># å‡-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> ctr <span class=\"keyword\">if</span> nums.count(n) &gt; len(nums)//<span class=\"number\">3</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"189-Rotate-Array\"><a href=\"#189-Rotate-Array\" class=\"headerlink\" title=\"189. Rotate Array\"></a>189. Rotate Array</h3><h4 id=\"æ—‹è½¬æ•°ç»„ã€‚è¿›é˜¶ï¼šä½¿ç”¨O-1-ç©ºé—´å®ç°ã€‚åŸé¢˜\"><a href=\"#æ—‹è½¬æ•°ç»„ã€‚è¿›é˜¶ï¼šä½¿ç”¨O-1-ç©ºé—´å®ç°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ—‹è½¬æ•°ç»„ã€‚è¿›é˜¶ï¼šä½¿ç”¨O(1)ç©ºé—´å®ç°ã€‚åŸé¢˜\"></a>æ—‹è½¬æ•°ç»„ã€‚è¿›é˜¶ï¼šä½¿ç”¨O(1)ç©ºé—´å®ç°ã€‚<a href=\"https://leetcode.com/problems/rotate-array/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5,6,7] and k &#x3D; 3</span><br><span class=\"line\">Output: [5,6,7,1,2,3,4]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">rotate 1 steps to the right: [7,1,2,3,4,5,6]</span><br><span class=\"line\">rotate 2 steps to the right: [6,7,1,2,3,4,5]</span><br><span class=\"line\">rotate 3 steps to the right: [5,6,7,1,2,3,4]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•ä¸€ï¼šslicingã€‚ä½¿ç”¨ç”Ÿæˆå™¨è€Œä¸æ˜¯å•çº¯çš„åˆ‡ç‰‡å¯ä»¥ä½¿å¤æ‚åº¦é™åˆ°å¸¸æ•°ã€‚è¿™é‡Œä¹Ÿæ˜¯æŠ±ç€è¯•è¯•çœ‹çš„æ€åº¦ï¼Œå‘ç°å¯ä»¥ç›´æ¥å°†chainçš„ç”Ÿæˆå™¨å¯¹è±¡èµ‹å€¼ç»™numsã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    k = k % n</span><br><span class=\"line\">    nums[:] = chain(islice(nums, n-k, n), islice(nums, n-k))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šreverseçš„æ–¹æ³•å¾ˆæ–°é¢–ï¼Œä¸è¿‡è¦éå†ä¸¤æ¬¡æ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse</span><span class=\"params\">(ary, lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi: </span><br><span class=\"line\">            ary[lo], ary[hi] = ary[hi], ary[lo]</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">            hi -= <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    N = len(nums)</span><br><span class=\"line\">    k = k % N</span><br><span class=\"line\">    reverse(nums, <span class=\"number\">0</span>, N<span class=\"number\">-1</span>)</span><br><span class=\"line\">    reverse(nums, <span class=\"number\">0</span>, k<span class=\"number\">-1</span>)</span><br><span class=\"line\">    reverse(nums, k, N<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•ä¸‰: æƒ³è¿™ç§è¦æ±‚å¸¸æ•°ç©ºé—´å¤æ‚åº¦çš„å¹¶ä¸”å…è®¸ä¿®æ”¹åŸæ•°ç»„çš„ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ€æƒ³ï¼Œ<strong>æŠŠæ¯ä¸ªæ•°æ”¾åˆ°åº”è¯¥æ”¾åˆ°çš„ä½ç½®ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    N = len(nums)</span><br><span class=\"line\">    k %= N</span><br><span class=\"line\"></span><br><span class=\"line\">    start = count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> count &lt; N:</span><br><span class=\"line\">        cur, prev = start, nums[start]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">            cur = (cur + k) % N</span><br><span class=\"line\">            nums[cur], prev = prev, nums[cur]</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur == start: <span class=\"keyword\">break</span></span><br><span class=\"line\">        start += <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"217-Contains-Duplicate\"><a href=\"#217-Contains-Duplicate\" class=\"headerlink\" title=\"217. Contains Duplicate\"></a>217. Contains Duplicate</h3><h4 id=\"æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/contains-duplicate/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,1]</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šset</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">contains_duplicate</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(set(nums)) &lt; len(nums)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šhash</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsDuplicate</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            seen.add(num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"219-Contains-Duplicate-II\"><a href=\"#219-Contains-Duplicate-II\" class=\"headerlink\" title=\"219. Contains Duplicate II\"></a>219. Contains Duplicate II</h3><h4 id=\"æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸‹æ ‡å·®å°äºç­‰äºkã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸‹æ ‡å·®å°äºç­‰äºkã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸‹æ ‡å·®å°äºç­‰äºkã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸‹æ ‡å·®å°äºç­‰äºkã€‚<a href=\"https://leetcode.com/problems/contains-duplicate-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,1], k &#x3D; 3</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Input: nums &#x3D; [1,0,1,1], k &#x3D; 1</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šå¼€å§‹æƒ³ç”¨setä½œåˆ‡ç‰‡æ¥åˆ¤æ–­ï¼ŒåŒä¸Šé¢˜æ–¹æ³•ä¸€ï¼Œä½†æ˜¯æ•ˆç‡å¤ªä½ã€‚æ•…ä½¿ç”¨å­—å…¸ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsNearbyDuplicate</span><span class=\"params\">(self, nums, k)</span>:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    seen = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i-seen[num] &lt;= k:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        seen[num] = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"220-Contains-Duplicate-III\"><a href=\"#220-Contains-Duplicate-III\" class=\"headerlink\" title=\"220. Contains Duplicate III\"></a>220. Contains Duplicate III</h3><h4 id=\"æ˜¯å¦å­˜åœ¨ç´¢å¼•å·®kèŒƒå›´å†…çš„ç»å¯¹å€¼ä¸å¤§äºtçš„ä¸¤ä¸ªå€¼ã€‚åŸé¢˜\"><a href=\"#æ˜¯å¦å­˜åœ¨ç´¢å¼•å·®kèŒƒå›´å†…çš„ç»å¯¹å€¼ä¸å¤§äºtçš„ä¸¤ä¸ªå€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ˜¯å¦å­˜åœ¨ç´¢å¼•å·®kèŒƒå›´å†…çš„ç»å¯¹å€¼ä¸å¤§äºtçš„ä¸¤ä¸ªå€¼ã€‚åŸé¢˜\"></a>æ˜¯å¦å­˜åœ¨ç´¢å¼•å·®kèŒƒå›´å†…çš„ç»å¯¹å€¼ä¸å¤§äºtçš„ä¸¤ä¸ªå€¼ã€‚<a href=\"https://leetcode.com/problems/contains-duplicate-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,1], k &#x3D; 3, t &#x3D; 0</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Input: nums &#x3D; [1,5,9,1,5,9], k &#x3D; 2, t &#x3D; 3</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå®é™…ä¸Šæ˜¯æ¡¶æ’åºçš„åŸç†ï¼Œæ¯ä¸ªæ¡¶çš„sizeä¸ºtã€‚ä¸¤ä¸ªå·®å€¼ä¸ºtçš„çš„æ•°ï¼Œåªå¯èƒ½å‡ºç°åœ¨åŒä¸€ä¸ªæ¡¶æˆ–è€…ä¸¤è¾¹çš„æ¡¶ä¸­ã€‚æ¯ä¸ªæ¡¶åªç»´æŠ¤ä¸€ä¸ªå€¼å°±è¡Œäº†ï¼Œå› ä¸ºå¦‚æœæœ‰ä¸¤ä¸ªå€¼ï¼Œé‚£ä¹ˆè‚¯å®šå°±è¿”å›äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsNearbyAlmostDuplicate</span><span class=\"params\">(self, nums: List[int], k: int, t: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &lt; <span class=\"number\">1</span> <span class=\"keyword\">or</span> t &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    dic = collections.OrderedDict()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        key = n <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t <span class=\"keyword\">else</span> n // t</span><br><span class=\"line\">        <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> (dic.get(key - <span class=\"number\">1</span>), dic.get(key), dic.get(key + <span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> m <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span> <span class=\"keyword\">and</span> abs(n - m) &lt;= t:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(dic) == k:</span><br><span class=\"line\">            dic.popitem(<span class=\"literal\">False</span>)</span><br><span class=\"line\">        dic[key] = n</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"283-Move-Zeroes\"><a href=\"#283-Move-Zeroes\" class=\"headerlink\" title=\"283. Move Zeroes\"></a>283. Move Zeroes</h3><h4 id=\"å°†æ•°ç»„0å…ƒç´ ç§»åŠ¨åˆ°æœ«å°¾ï¼Œä¿è¯å…¶ä»–å…ƒç´ é¡ºåºã€‚åŸé¢˜\"><a href=\"#å°†æ•°ç»„0å…ƒç´ ç§»åŠ¨åˆ°æœ«å°¾ï¼Œä¿è¯å…¶ä»–å…ƒç´ é¡ºåºã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ•°ç»„0å…ƒç´ ç§»åŠ¨åˆ°æœ«å°¾ï¼Œä¿è¯å…¶ä»–å…ƒç´ é¡ºåºã€‚åŸé¢˜\"></a>å°†æ•°ç»„0å…ƒç´ ç§»åŠ¨åˆ°æœ«å°¾ï¼Œä¿è¯å…¶ä»–å…ƒç´ é¡ºåºã€‚<a href=\"https://leetcode.com/problems/move-zeroes/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,1,0,3,12]</span><br><span class=\"line\">Output: [1,3,12,0,0]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼štwo pointers</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move_zero</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[l] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            nums[:] = nums[:l] + nums[l+<span class=\"number\">1</span>:] + [<span class=\"number\">0</span>]</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š slicing</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">move_zero</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    nums[:] = [x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> x != <span class=\"number\">0</span>] + [x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> x == <span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæœ€å0çš„ä½ç½®ï¼Œæ„Ÿè§‰åƒå†’æ³¡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">moveZeroes</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">    p = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num != <span class=\"number\">0</span>:</span><br><span class=\"line\">            nums[p], nums[i] = nums[i], nums[p]</span><br><span class=\"line\">            p += <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šæ’åºã€‚æ—¶é—´å¤æ‚åº¦ç•¥é«˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">moveZeroes</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; '<span class=\"keyword\">None</span>':</span></span><br><span class=\"line\">    nums.sort(key=<span class=\"keyword\">lambda</span> x: <span class=\"number\">1</span> <span class=\"keyword\">if</span> x==<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"54-Spiral-Matrix\"><a href=\"#54-Spiral-Matrix\" class=\"headerlink\" title=\"54. Spiral Matrix\"></a>54. Spiral Matrix</h3><h4 id=\"èºæ—‹çŸ©é˜µï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚åŸé¢˜\"><a href=\"#èºæ—‹çŸ©é˜µï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"èºæ—‹çŸ©é˜µï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚åŸé¢˜\"></a>èºæ—‹çŸ©é˜µï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/spiral-matrix/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>è¿™é‡Œæ³¨æ„ä¸€ç‚¹<code>matrix.pop(0)</code>éœ€è¦è½¬æˆlistï¼Œå› ä¸ºzipå‡½æ•°ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleï¼Œå¦‚æœä¸è½¬å˜æˆäº†ä¸€ä¸ª<code>tuple+list</code>ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>\n<p>ps: æ­¤é¢˜è§£æ³•ä¸ºLeetCodeä¸€ä½å¤§ç¥ï¼Œç»å¸¸èƒ½çœ‹åˆ°æ­¤äººçš„ç­”æ¡ˆï¼Œä¸è¿‡è¿™ä¸ªæ˜¯æˆ‘è®¤ä¸ºæœ€pythonicçš„ä¸€ä¸ªï¼Œæ²¡æœ‰ä¸ºäº†å¼ºè¡Œone-lineè€Œone-lineã€‚brilliant!</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">TypeError: can only concatenate tuple (not &quot;list&quot;) to tuple</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralOrder</span><span class=\"params\">(self, matrix)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> matrix <span class=\"keyword\">and</span> list(matrix.pop(<span class=\"number\">0</span>))+self.spiralOrder(list(zip(*matrix))[::<span class=\"number\">-1</span>])</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralOrder</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> matrix: <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    M, N = len(matrix), len(matrix[<span class=\"number\">0</span>])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    seen = [[<span class=\"literal\">False</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">    x, y, di, dj = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(ans) &lt; M*N:</span><br><span class=\"line\">        seen[x][y] = <span class=\"literal\">True</span></span><br><span class=\"line\">        ans.append(matrix[x][y])        </span><br><span class=\"line\">        nx, ny = x+di, y+dj</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (<span class=\"number\">0</span>&lt;=nx&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=ny&lt;N <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> seen[nx][ny]):</span><br><span class=\"line\">            di, dj = dj, -di</span><br><span class=\"line\">        x, y = x+di, y+dj</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ­¤é¢˜æœ‰ä¸ªå˜å½¢ï¼Œå¦‚æœé€†æ—¶é’ˆè¯¥å¦‚ä½•æ‰“å°ã€‚è¿™æ ·çš„è¯æƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">anti_clock_wise</span><span class=\"params\">(self, matrix)</span></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">if</span> <span class=\"title\">not</span> <span class=\"title\">matrix</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    clock_wise = list(zip(*(matrix[::<span class=\"number\">-1</span>])))</span><br><span class=\"line\">    a = list(clock_wise.pop(<span class=\"number\">0</span>))[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    b = self.anti_clock_wise(clock_wise)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a + b</span><br></pre></td></tr></table></figure>\n<h3 id=\"59-Spiral-Matrix-II\"><a href=\"#59-Spiral-Matrix-II\" class=\"headerlink\" title=\"59. Spiral Matrix II\"></a>59. Spiral Matrix II</h3><h4 id=\"æŒ‰ç…§é¡ºæ—¶é’ˆçš„é¡ºåºç”Ÿæˆä¸€ä¸ªçŸ©é˜µã€‚åŸé¢˜\"><a href=\"#æŒ‰ç…§é¡ºæ—¶é’ˆçš„é¡ºåºç”Ÿæˆä¸€ä¸ªçŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰ç…§é¡ºæ—¶é’ˆçš„é¡ºåºç”Ÿæˆä¸€ä¸ªçŸ©é˜µã€‚åŸé¢˜\"></a>æŒ‰ç…§é¡ºæ—¶é’ˆçš„é¡ºåºç”Ÿæˆä¸€ä¸ªçŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/spiral-matrix-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 3</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\"> [ 1, 2, 3 ],</span><br><span class=\"line\"> [ 8, 9, 4 ],</span><br><span class=\"line\"> [ 7, 6, 5 ]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè‡ªå·±çš„æ–¹æ³•ã€‚ä½¿ç”¨äº†ä¸€ä¸ªæ§åˆ¶æ–¹å‘ï¼Œå¦‚æœè¶…èŒƒå›´æˆ–è€…æœ‰å€¼å°±æ¢æ–¹å‘ã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateMatrix</span><span class=\"params\">(self, n: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    ans = [[<span class=\"number\">0</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    op = itertools.cycle([(<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    d = next(op)</span><br><span class=\"line\">    x, y = (<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n**<span class=\"number\">2</span>+<span class=\"number\">1</span>):</span><br><span class=\"line\">        ans[x][y] = k</span><br><span class=\"line\">        i, j = x+d[<span class=\"number\">0</span>], y+d[<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> <span class=\"number\">0</span>&lt;=i&lt;n <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> <span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">or</span> ans[i][j]:</span><br><span class=\"line\">            d = next(op)</span><br><span class=\"line\">            x, y = x+d[<span class=\"number\">0</span>], y+d[<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            x, y = i, j</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure><br>æ–¹æ³•äºŒï¼šstefançš„æ—‹è½¬æ³•ï¼Œæˆ‘å¾€è¿™è¾¹æƒ³äº†ï¼Œzipä¹Ÿæƒ³åˆ°äº†ï¼Œæ²¡æƒ³åˆ°çš„æ˜¯ï¼Œä»é‡Œå¾€å¤–éå†ï¼Œè¿˜æœ‰ä¸€ç‚¹æ˜¯æ ¹æ®Açš„é•¿åº¦ç¡®å®šèµ·å§‹ç‚¹ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">||  &#x3D;&gt;  |9|  &#x3D;&gt;  |8|      |6 7|      |4 5|      |1 2 3|</span><br><span class=\"line\">                 |9|  &#x3D;&gt;  |9 8|  &#x3D;&gt;  |9 6|  &#x3D;&gt;  |8 9 4|</span><br><span class=\"line\">                                     |8 7|      |7 6 5|</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateMatrix</span><span class=\"params\">(self, n: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    A, lo = [], n**<span class=\"number\">2</span>+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        lo, hi = lo - len(A), lo</span><br><span class=\"line\">        A = [range(lo, hi)] + list(zip(*A[::<span class=\"number\">-1</span>]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A</span><br></pre></td></tr></table></figure>\n<h3 id=\"885-Spiral-Matrix-III\"><a href=\"#885-Spiral-Matrix-III\" class=\"headerlink\" title=\"885. Spiral Matrix III\"></a>885. Spiral Matrix III</h3><h4 id=\"ä»äºŒç»´æ•°ç»„ä¸­çš„æŸä¸€ä¸ªç‚¹å¼€å§‹é¡ºæ—¶é’ˆæ—‹è½¬è¾“å‡ºæ‰€æœ‰çš„åæ ‡ã€‚åŸé¢˜\"><a href=\"#ä»äºŒç»´æ•°ç»„ä¸­çš„æŸä¸€ä¸ªç‚¹å¼€å§‹é¡ºæ—¶é’ˆæ—‹è½¬è¾“å‡ºæ‰€æœ‰çš„åæ ‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä»äºŒç»´æ•°ç»„ä¸­çš„æŸä¸€ä¸ªç‚¹å¼€å§‹é¡ºæ—¶é’ˆæ—‹è½¬è¾“å‡ºæ‰€æœ‰çš„åæ ‡ã€‚åŸé¢˜\"></a>ä»äºŒç»´æ•°ç»„ä¸­çš„æŸä¸€ä¸ªç‚¹å¼€å§‹é¡ºæ—¶é’ˆæ—‹è½¬è¾“å‡ºæ‰€æœ‰çš„åæ ‡ã€‚<a href=\"https://leetcode.com/problems/spiral-matrix-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè¿˜æ˜¯é€šè¿‡ç”Ÿæˆå™¨æ§åˆ¶æ–¹å‘ï¼Œå½“å¤„äºæ°´å¹³ä½ç½®æ—¶æ­¥æ•°å¢åŠ 1ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralMatrixIII</span><span class=\"params\">(self, R: int, C: int, r0: int, c0: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    direction = itertools.cycle([(<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    ans = [(r0, c0)]</span><br><span class=\"line\">    step = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(ans) &lt; R*C:</span><br><span class=\"line\">        di, dj = next(direction)        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> di==<span class=\"number\">0</span>:</span><br><span class=\"line\">            step += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(step):</span><br><span class=\"line\">            r0 += di</span><br><span class=\"line\">            c0 += dj</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=r0&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=c0&lt;C:</span><br><span class=\"line\">                ans.append((r0, c0))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ã€‚ä½¿ç”¨äº†<code>di, dj = dj, -di</code>åˆšå¥½æ˜¯è¿™ä¸ªå³è½¬çš„æ–¹å‘ã€‚ç„¶åç”¨ä¸€ä¸ªnæ¥è®¡ç®—æ­¥æ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralMatrixIII</span><span class=\"params\">(self, R: int, C: int, r0: int, c0: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    di, dj, step = <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(ans) &lt; R*C:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> range(step//<span class=\"number\">2</span>+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=r0&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=c0&lt;C:</span><br><span class=\"line\">                ans.append((r0, c0))</span><br><span class=\"line\">            r0, c0 = r0+di, c0+dj</span><br><span class=\"line\">        di, dj, step = dj, -di, step+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šLeeçš„å‡ ä½•æ–¹æ³•ã€‚æ ¹æ®åˆ°ç›®æ ‡ç‚¹çš„è·ç¦»å¤§å°æ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spiralMatrixIII</span><span class=\"params\">(self, R, C, r, c)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">key</span><span class=\"params\">(<span class=\"params\">(x, y)</span>)</span>:</span></span><br><span class=\"line\">        x, y = x - r, y - c</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (max(abs(x), abs(y)), -((math.atan2(<span class=\"number\">-1</span>, <span class=\"number\">1</span>) - math.atan2(x, y)) % (math.pi * <span class=\"number\">2</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted([(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> xrange(R) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> xrange(C)], key=key)</span><br></pre></td></tr></table></figure>\n<h3 id=\"53-Maximum-Subarray\"><a href=\"#53-Maximum-Subarray\" class=\"headerlink\" title=\"53. Maximum Subarray\"></a>53. Maximum Subarray</h3><h4 id=\"è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚åŸé¢˜\"><a href=\"#è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚åŸé¢˜\"></a>è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚<a href=\"https://leetcode.com/problems/maximum-subarray/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [-2,1,-3,4,-1,2,1,-5,4],</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: [4,-1,2,1] has the largest sum &#x3D; 6.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¹¦ä¸­çš„æ€æƒ³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    cp_nums = nums[:]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cp_nums[i<span class=\"number\">-1</span>] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            cp_nums[i] += cp_nums[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(cp_nums)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šone-linerã€‚æ³¨æ„<code>accumulate</code>æ˜¯æŠŠå‡½æ•°æ”¾åˆ°åé¢çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSubArray</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> accumulate</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(accumulate(nums, <span class=\"keyword\">lambda</span> x, y: x+y <span class=\"keyword\">if</span> x &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> y))</span><br></pre></td></tr></table></figure>\n<h3 id=\"918-Maximum-Sum-Circular-Subarray\"><a href=\"#918-Maximum-Sum-Circular-Subarray\" class=\"headerlink\" title=\"918. Maximum Sum Circular Subarray\"></a>918. Maximum Sum Circular Subarray</h3><h4 id=\"è¿ç»­æ•°ç»„çš„æœ€å¤§å’Œï¼Œæ•°ç»„å¯ä»¥é¦–ä½ç›¸è¿ï¼Œä½†æ˜¯æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸€ä¸ªæ•°ç»„ã€‚åŸé¢˜\"><a href=\"#è¿ç»­æ•°ç»„çš„æœ€å¤§å’Œï¼Œæ•°ç»„å¯ä»¥é¦–ä½ç›¸è¿ï¼Œä½†æ˜¯æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸€ä¸ªæ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿ç»­æ•°ç»„çš„æœ€å¤§å’Œï¼Œæ•°ç»„å¯ä»¥é¦–ä½ç›¸è¿ï¼Œä½†æ˜¯æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸€ä¸ªæ•°ç»„ã€‚åŸé¢˜\"></a>è¿ç»­æ•°ç»„çš„æœ€å¤§å’Œï¼Œæ•°ç»„å¯ä»¥é¦–ä½ç›¸è¿ï¼Œä½†æ˜¯æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡ä¸€ä¸ªæ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/maximum-sum-circular-subarray/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,-2,3,-2]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Subarray [3] has maximum sum 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šby @Lee215ã€‚çœ‹å®Œè¿™ä¸ªè§£æ³•è±ç„¶å¼€æœ—ï¼Œåªéœ€è¦åŒæ—¶æ‰¾åˆ°ä¸€ä¸ªç´¯åŠ å’Œæœ€å°çš„å­æ•°ç»„ï¼Œå†ç”¨æ€»æ•°å‡æ‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSubarraySumCircular</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    total = cur_max = cur_min = <span class=\"number\">0</span></span><br><span class=\"line\">    sum_max, sum_min = float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        cur_max = max(cur_max+a, a)</span><br><span class=\"line\">        sum_max = max(sum_max, cur_max)</span><br><span class=\"line\">        cur_min = min(cur_min+a, a)</span><br><span class=\"line\">        sum_min = min(sum_min, cur_min)</span><br><span class=\"line\">        total += a</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(sum_max, total-sum_min) <span class=\"keyword\">if</span> sum_max &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> sum_max</span><br></pre></td></tr></table></figure>\n<h3 id=\"904-Fruit-Into-Baskets\"><a href=\"#904-Fruit-Into-Baskets\" class=\"headerlink\" title=\"904. Fruit Into Baskets\"></a>904. Fruit Into Baskets</h3><h4 id=\"å®é™…ä¸Šè¯¥é¢˜æŠ½è±¡ä¸ºæ±‚æœ€å¤§æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæ»‘åŠ¨çª—å£ä¸åŒå…ƒç´ æœ€å¤šä¸è¶…è¿‡ä¸¤ä¸ªã€‚åŸé¢˜\"><a href=\"#å®é™…ä¸Šè¯¥é¢˜æŠ½è±¡ä¸ºæ±‚æœ€å¤§æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæ»‘åŠ¨çª—å£ä¸åŒå…ƒç´ æœ€å¤šä¸è¶…è¿‡ä¸¤ä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®é™…ä¸Šè¯¥é¢˜æŠ½è±¡ä¸ºæ±‚æœ€å¤§æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæ»‘åŠ¨çª—å£ä¸åŒå…ƒç´ æœ€å¤šä¸è¶…è¿‡ä¸¤ä¸ªã€‚åŸé¢˜\"></a>å®é™…ä¸Šè¯¥é¢˜æŠ½è±¡ä¸ºæ±‚æœ€å¤§æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæ»‘åŠ¨çª—å£ä¸åŒå…ƒç´ æœ€å¤šä¸è¶…è¿‡ä¸¤ä¸ªã€‚<a href=\"https://leetcode.com/problems/fruit-into-baskets/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">tree &#x3D; [3,3,3,1,2,1,1,2,3,3,4]   # 5</span><br><span class=\"line\">tree &#x3D; [1,0,1,4,1,4,1,2,3]  # 5</span><br><span class=\"line\">tree &#x3D; [1,2,3,2,2]  # 4</span><br><span class=\"line\">tree &#x3D; [0,1,6,6,4,4,6]  # 5</span><br></pre></td></tr></table></figure>\n<p>ä¸€å¼€å§‹æ²¡æœ‰æ‰¾åˆ°æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œï¼Œè€æ˜¯æƒ³ç›´æ¥åˆ é™¤ä¸€ä¸ªkeyï¼Œåæ¥çœ‹åˆ«äººä»£ç å—åˆ°å¯å‘ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå†…å¾ªç¯æ¥è§£å†³ï¼Œå¯ä»¥é€ä¸ªåˆ é™¤ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">totalFruit</span><span class=\"params\">(self, tree)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    basket = Counter()</span><br><span class=\"line\">    l, res = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> range(len(tree)):</span><br><span class=\"line\">        basket[tree[r]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(basket) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            basket[tree[l]] -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> basket[tree[l]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                basket.pop(tree[l])</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        res = max(res, r-l+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"27-Remove-Element\"><a href=\"#27-Remove-Element\" class=\"headerlink\" title=\"27. Remove Element\"></a>27. Remove Element</h3><h4 id=\"ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œåœ¨åŸæ•°ç»„ä¿®æ”¹ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ªé•¿åº¦ã€‚åŸé¢˜\"><a href=\"#ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œåœ¨åŸæ•°ç»„ä¿®æ”¹ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ªé•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œåœ¨åŸæ•°ç»„ä¿®æ”¹ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ªé•¿åº¦ã€‚åŸé¢˜\"></a>ä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œåœ¨åŸæ•°ç»„ä¿®æ”¹ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ªé•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/remove-element/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given nums &#x3D; [0,1,2,2,3,0,4,2], val &#x3D; 2,</span><br><span class=\"line\">Your function should return length &#x3D; 5,</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‰åæŒ‡é’ˆï¼Œrè¦ä»<code>n</code>å¼€å§‹ï¼Œä»¥<code>n-1</code>ä½œæ¯”è¾ƒï¼Œè¿™é‡Œrä¸æ˜¯ä»<code>n-1</code>å¼€å§‹æ˜¯å› ä¸º<code>nums=[]</code>çš„æƒ…å†µï¼Œå¦åˆ™<code>l+1</code>å°†è¶…å‡ºæ•°ç»„èŒƒå›´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeElement</span><span class=\"params\">(self, nums, val)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[l] == val:</span><br><span class=\"line\">            nums[l], nums[r<span class=\"number\">-1</span>] = nums[r<span class=\"number\">-1</span>], nums[l]</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> l</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆï¼Œå‡ ä¹å’Œ283é¢˜ä¸­çš„æ–¹æ³•ä¸€æ ·ã€‚ </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeElement</span><span class=\"params\">(self, nums, val)</span>:</span></span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[j] != val:</span><br><span class=\"line\">            nums[i] = nums[j]</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<h3 id=\"349-Intersection-of-Two-Arrays\"><a href=\"#349-Intersection-of-Two-Arrays\" class=\"headerlink\" title=\"349. Intersection of Two Arrays\"></a>349. Intersection of Two Arrays</h3><h4 id=\"æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚è¿”å›çš„æ•°ç»„å¿…é¡»å…ƒç´ å”¯ä¸€ï¼Œå¯ä»¥æ— åºã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚è¿”å›çš„æ•°ç»„å¿…é¡»å…ƒç´ å”¯ä¸€ï¼Œå¯ä»¥æ— åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚è¿”å›çš„æ•°ç»„å¿…é¡»å…ƒç´ å”¯ä¸€ï¼Œå¯ä»¥æ— åºã€‚åŸé¢˜\"></a>æ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚è¿”å›çš„æ•°ç»„å¿…é¡»å…ƒç´ å”¯ä¸€ï¼Œå¯ä»¥æ— åºã€‚<a href=\"https://leetcode.com/problems/intersection-of-two-arrays/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šä¸€å¼€å§‹çœ‹åˆ°è¿™é¢˜ä»¥ä¸ºæ˜¯ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ç‚¹ã€‚æœ€åå‘ç°<code>Intersection</code>ä¸åº”è¯¥ç†è§£ä¸ºâ€œåå­—è·¯å£â€è€Œåº”è¯¥æ˜¯â€œäº¤é›†â€ã€‚è¿™é‡Œç¿»äº†ä¸€ä¸‹<code>discuss</code>ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨æ–¹æ³•ä¸€ï¼Œå…¶å®ƒæ–¹æ³•è¦ä¹ˆå¤ªç¹çï¼Œè¦ä¹ˆæ•ˆç‡ä½ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ­¤é¢˜çš„ç›¸å…³è¯é¢˜è¿˜æœ‰ä¸€é¡¹æ˜¯<code>Binary Search</code>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªè¾ƒä¸ºé«˜æ•ˆçš„äºŒåˆ†æœç´¢æ³•çš„å®ç°æ–¹å¼ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 2:</span><br><span class=\"line\">Input: nums1 &#x3D; [4,9,5], nums2 &#x3D; [9,4,9,8,4]</span><br><span class=\"line\">Output: [9,4]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šæœ€å¿«çš„æ–¹æ³•ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">intersection</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(set(nums1) &amp; set(nums2))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šSort &amp; Two Pointers.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">intersection</span><span class=\"params\">(self, nums1: <span class=\"string\">'List[int]'</span>, nums2: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    nums1.sort()</span><br><span class=\"line\">    nums2.sort()</span><br><span class=\"line\">    i, n1 = <span class=\"number\">0</span>, len(nums1)</span><br><span class=\"line\">    j, n2 = <span class=\"number\">0</span>, len(nums2)</span><br><span class=\"line\">    ans, last = [], <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt; n1 <span class=\"keyword\">and</span> j &lt; n2:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums1[i] == nums2[j]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums1[i] != last:</span><br><span class=\"line\">                ans.append(nums1[i])</span><br><span class=\"line\">                last = nums1[i]</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums1[i] &gt; nums2[j]:</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums1[i] &lt; nums2[j]:</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"350-Intersection-of-Two-Arrays-II\"><a href=\"#350-Intersection-of-Two-Arrays-II\" class=\"headerlink\" title=\"350. Intersection of Two Arrays II\"></a>350. Intersection of Two Arrays II</h3><h4 id=\"å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯è¦è¿”å›æ‰€æœ‰çš„äº¤é›†å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯è¦è¿”å›æ‰€æœ‰çš„äº¤é›†å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯è¦è¿”å›æ‰€æœ‰çš„äº¤é›†å…ƒç´ ã€‚åŸé¢˜\"></a>å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯è¦è¿”å›æ‰€æœ‰çš„äº¤é›†å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/intersection-of-two-arrays-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 1:</span><br><span class=\"line\"></span><br><span class=\"line\">Input: nums1 &#x3D; [1,2,2,1], nums2 &#x3D; [2,2]</span><br><span class=\"line\">Output: [2,2]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šCounterå®ç°äº†&amp;æ“ä½œå¯ä»¥ç›´æ¥å–äº¤é›†ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">intersect</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    a, b = map(Counter, (nums1, nums2))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list((a &amp; b).elements())</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨<code>Counter</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">intersect</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    counter = defaultdict(int)</span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num1 <span class=\"keyword\">in</span> nums1:</span><br><span class=\"line\">        counter[num1] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num2 <span class=\"keyword\">in</span> nums2:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> counter[num2] != <span class=\"number\">0</span>:</span><br><span class=\"line\">            res.append(num2)</span><br><span class=\"line\">            counter[num2] -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå¯ä»¥é‡‡ç”¨ä¸Šé¢˜349çš„æ–¹æ³•ï¼Œåªéœ€è¦å»æ‰<code>last</code>å³å¯ã€‚</font>\n\n<h3 id=\"905-Sort-Array-By-Parity\"><a href=\"#905-Sort-Array-By-Parity\" class=\"headerlink\" title=\"905. Sort Array By Parity\"></a>905. Sort Array By Parity</h3><h4 id=\"å°†ä¸€ä¸ªæ•°ç»„é‡æ–°æ’åˆ—ï¼Œæ˜¯å¶æ•°åœ¨å‰å¥‡æ•°åœ¨åã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªæ•°ç»„é‡æ–°æ’åˆ—ï¼Œæ˜¯å¶æ•°åœ¨å‰å¥‡æ•°åœ¨åã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªæ•°ç»„é‡æ–°æ’åˆ—ï¼Œæ˜¯å¶æ•°åœ¨å‰å¥‡æ•°åœ¨åã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªæ•°ç»„é‡æ–°æ’åˆ—ï¼Œæ˜¯å¶æ•°åœ¨å‰å¥‡æ•°åœ¨åã€‚<a href=\"https://leetcode.com/problems/sort-array-by-parity/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [3,1,2,4]</span><br><span class=\"line\">Output: [2,4,3,1]</span><br><span class=\"line\">The outputs [4,2,3,1], [2,4,1,3], and [4,2,1,3] would also be accepted.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArrayByParity</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(A)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> A[l]&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span>:</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l&lt;r <span class=\"keyword\">and</span> A[r]&amp;<span class=\"number\">1</span>==<span class=\"number\">1</span>:</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">        A[l], A[r] = A[r], A[l]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArrayByParity</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    even = [num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> num &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>]</span><br><span class=\"line\">    odd = [num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> num &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> even + odd</span><br></pre></td></tr></table></figure>\n<h3 id=\"922-Sort-Array-By-Parity-II\"><a href=\"#922-Sort-Array-By-Parity-II\" class=\"headerlink\" title=\"922. Sort Array By Parity II\"></a>922. Sort Array By Parity II</h3><h4 id=\"è¾“å…¥ä¸€ä¸ªå¥‡æ•°å¶æ•°æ•°é‡ç›¸åŒçš„æ•°ç»„ï¼Œè¿”å›ä¸‹æ ‡å’Œå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œå³å¥‡å¶äº¤å‰ã€‚å’Œ905ç›¸ä¼¼ã€‚åŸé¢˜\"><a href=\"#è¾“å…¥ä¸€ä¸ªå¥‡æ•°å¶æ•°æ•°é‡ç›¸åŒçš„æ•°ç»„ï¼Œè¿”å›ä¸‹æ ‡å’Œå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œå³å¥‡å¶äº¤å‰ã€‚å’Œ905ç›¸ä¼¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å…¥ä¸€ä¸ªå¥‡æ•°å¶æ•°æ•°é‡ç›¸åŒçš„æ•°ç»„ï¼Œè¿”å›ä¸‹æ ‡å’Œå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œå³å¥‡å¶äº¤å‰ã€‚å’Œ905ç›¸ä¼¼ã€‚åŸé¢˜\"></a>è¾“å…¥ä¸€ä¸ªå¥‡æ•°å¶æ•°æ•°é‡ç›¸åŒçš„æ•°ç»„ï¼Œè¿”å›ä¸‹æ ‡å’Œå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œå³å¥‡å¶äº¤å‰ã€‚å’Œ905ç›¸ä¼¼ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-106/problems/sort-array-by-parity-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šä½¿ç”¨åˆ‡ç‰‡çš„ç‰¹æ€§èµ‹å€¼ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArrayByParityII</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    res = [<span class=\"literal\">None</span>] * len(A)</span><br><span class=\"line\">    res[::<span class=\"number\">2</span>] = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> num &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">    res[<span class=\"number\">1</span>::<span class=\"number\">2</span>] = (num <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> num &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArrayByParityII</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    j = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, len(A), <span class=\"number\">2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> A[j] &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">                j += <span class=\"number\">2</span></span><br><span class=\"line\">            A[i], A[j] = A[j], A[i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A</span><br></pre></td></tr></table></figure>\n<h3 id=\"933-Number-of-Recent-Calls\"><a href=\"#933-Number-of-Recent-Calls\" class=\"headerlink\" title=\"933. Number of Recent Calls\"></a>933. Number of Recent Calls</h3><h4 id=\"è¾“å…¥ä¸€ä¸ªæ—¶é—´tï¼Œè¿”å›3000æ¯«ç§’å†…æ‰€æœ‰çš„è¯·æ±‚ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#è¾“å…¥ä¸€ä¸ªæ—¶é—´tï¼Œè¿”å›3000æ¯«ç§’å†…æ‰€æœ‰çš„è¯·æ±‚ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å…¥ä¸€ä¸ªæ—¶é—´tï¼Œè¿”å›3000æ¯«ç§’å†…æ‰€æœ‰çš„è¯·æ±‚ä¸ªæ•°ã€‚åŸé¢˜\"></a>è¾“å…¥ä¸€ä¸ªæ—¶é—´tï¼Œè¿”å›3000æ¯«ç§’å†…æ‰€æœ‰çš„è¯·æ±‚ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-recent-calls/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šdeque.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RecentCounter</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q = collections.deque()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">ping</span><span class=\"params\">(self, t: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">        self.q.append(t)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> self.q[<span class=\"number\">0</span>] &lt; t - <span class=\"number\">3000</span>:</span><br><span class=\"line\">            self.q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(self.q)</span><br></pre></td></tr></table></figure>\n<h3 id=\"937-Reorder-Log-Files\"><a href=\"#937-Reorder-Log-Files\" class=\"headerlink\" title=\"937. Reorder Log Files\"></a>937. Reorder Log Files</h3><h4 id=\"æŒ‰ç…§è§„åˆ™å°†logæ–‡ä»¶æ’åºã€‚åŸé¢˜\"><a href=\"#æŒ‰ç…§è§„åˆ™å°†logæ–‡ä»¶æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰ç…§è§„åˆ™å°†logæ–‡ä»¶æ’åºã€‚åŸé¢˜\"></a>æŒ‰ç…§è§„åˆ™å°†logæ–‡ä»¶æ’åºã€‚<a href=\"https://leetcode.com/problems/reorder-log-files/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;a1 9 2 3 1&quot;,&quot;g1 act car&quot;,&quot;zo4 4 7&quot;,&quot;ab1 off key dog&quot;,&quot;a8 act zoo&quot;]</span><br><span class=\"line\">Output: [&quot;g1 act car&quot;,&quot;a8 act zoo&quot;,&quot;ab1 off key dog&quot;,&quot;a1 9 2 3 1&quot;,&quot;zo4 4 7&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorderLogFiles</span><span class=\"params\">(self, logs)</span>:</span></span><br><span class=\"line\">    letter_logs = [l <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> logs <span class=\"keyword\">if</span> l.split()[<span class=\"number\">1</span>].isalpha()]</span><br><span class=\"line\">    digit_logs = [l <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> logs <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l.split()[<span class=\"number\">1</span>].isalpha()]</span><br><span class=\"line\">    letter_logs.sort(key=<span class=\"keyword\">lambda</span> x: x.split()[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> letter_logs + digit_logs</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šsort. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorderLogFiles</span><span class=\"params\">(self, logs: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(log)</span>:</span></span><br><span class=\"line\">        pk, text = log.split(<span class=\"string\">\" \"</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"number\">0</span>, text) <span class=\"keyword\">if</span> text[<span class=\"number\">0</span>].isalpha() <span class=\"keyword\">else</span> (<span class=\"number\">1</span>, )</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(logs, key=f)</span><br></pre></td></tr></table></figure>\n<h3 id=\"485-Max-Consecutive-Ones\"><a href=\"#485-Max-Consecutive-Ones\" class=\"headerlink\" title=\"485. Max Consecutive Ones\"></a>485. Max Consecutive Ones</h3><h4 id=\"è¾“å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œè¿”å›æœ€å¤§çš„è¿ç»­1çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#è¾“å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œè¿”å›æœ€å¤§çš„è¿ç»­1çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œè¿”å›æœ€å¤§çš„è¿ç»­1çš„é•¿åº¦ã€‚åŸé¢˜\"></a>è¾“å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œè¿”å›æœ€å¤§çš„è¿ç»­1çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/max-consecutive-ones/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,1,0,1,1,1]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: The first two digits or the last three digits are consecutive 1s.</span><br><span class=\"line\">    The maximum number of consecutive 1s is 3.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨æ ‡å‡†åº“ã€‚æœ«å°¾è¡¥0æ˜¯å› ä¸ºï¼Œå¦‚æœåŸæ•°ç»„æœ«å°¾æ˜¯1çš„æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦è®¡ç®—ä¸€æ¬¡maxçš„å€¼ã€‚ç¼ºç‚¹æ˜¯æ”¹å˜äº†åŸæ•°ç»„ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å†è®¡ç®—ä¸€æ¬¡çš„æ–¹å¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxConsecutiveOnes</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums+[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num == <span class=\"number\">1</span>:</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = max(ans, count)</span><br><span class=\"line\">            count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨groupbyã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxConsecutiveOnes</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> groupby</span><br><span class=\"line\">    max_con = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d, group <span class=\"keyword\">in</span> groupby(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d == <span class=\"number\">1</span>:</span><br><span class=\"line\">            max_con = max(max_con, len(list(group)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max_con</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šsplitã€‚ä¸è¿‡è¿™ä¸ªæ•ˆç‡ä¸é«˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxConsecutiveOnes</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    nums_str = <span class=\"string\">''</span>.join(map(str, nums))</span><br><span class=\"line\">    ones = nums_str.split(<span class=\"string\">'0'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(max(ones))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šä½¿ç”¨accumulateã€‚Space-complex O(n)ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxConsecutiveOnes</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> accumulate</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(accumulate(nums, <span class=\"keyword\">lambda</span> x, y: x+y <span class=\"keyword\">if</span> y==<span class=\"number\">1</span> <span class=\"keyword\">else</span> y))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äº”ï¼šäºŒè¿›åˆ¶çš„æ–¹æ³•ï¼Œå°†ä¸€ä¸ªæ•°ä¸æ–­å·¦ç§»å¹¶æŒ‰ä½ä¸ï¼Œç›´åˆ°å®ƒä¸º0ï¼Œæ¬¡æ•°å°±æ˜¯è¿ç»­çš„1çš„ä¸ªæ•°ã€‚ä¸è¿‡ç”±äºç»™çš„æ˜¯æ•°ç»„ä¸æ˜¯æ•°å­—ï¼Œæ‰€ä»¥æ€»ä½“æ¯”æ–¹æ³•å››æ…¢ä¸€ä¸¢ä¸¢ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxConsecutiveOnes</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, b = <span class=\"number\">0</span>, int(<span class=\"string\">''</span>.join(map(str, nums)), <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> b:</span><br><span class=\"line\">        b = b &amp; (b&lt;&lt;<span class=\"number\">1</span>)</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1004-Max-Consecutive-Ones-III\"><a href=\"#1004-Max-Consecutive-Ones-III\" class=\"headerlink\" title=\"1004. Max Consecutive Ones III\"></a>1004. Max Consecutive Ones III</h3><h4 id=\"ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæœ‰Kæ¬¡æœºä¼šå¯ä»¥å°†0å˜æˆ1-åŸé¢˜\"><a href=\"#ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæœ‰Kæ¬¡æœºä¼šå¯ä»¥å°†0å˜æˆ1-åŸé¢˜\" class=\"headerlink\" title=\"ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæœ‰Kæ¬¡æœºä¼šå¯ä»¥å°†0å˜æˆ1. åŸé¢˜\"></a>ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæœ‰Kæ¬¡æœºä¼šå¯ä»¥å°†0å˜æˆ1. <a href=\"https://leetcode.com/problems/max-consecutive-ones-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K &#x3D; 3</span><br><span class=\"line\">Output: 10</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]</span><br><span class=\"line\">Bolded numbers were flipped from 0 to 1.  The longest subarray is underlined.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ç«èµ›æ—¶æ²¡æƒ³å‡ºæ¥ï¼Œå—ä¸Šé¢˜å½±å“ï¼Œæ€è·¯è·‘åˆ°äº†<code>groupby</code>é‚£é‡Œï¼Œæƒ³ç€æ€ä¹ˆåˆ†ç»„åæ“ä½œã€‚å®é™…ä¸Šæ­¤é¢˜å®Œå…¨ä¸åŒï¼Œåº”è¯¥ä½¿ç”¨æ»‘åŠ¨çª—å£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestOnes</span><span class=\"params\">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">        K -= A[j]==<span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> K &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            K += A[i]==<span class=\"number\">0</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        ans = max(ans, j-i+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"496-Next-Greater-Element-I\"><a href=\"#496-Next-Greater-Element-I\" class=\"headerlink\" title=\"496. Next Greater Element I\"></a>496. Next Greater Element I</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„nums2ä¸­å¯¹åº”çš„nums1å…ƒç´ çš„ä½ç½®ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”nums1å¤§çš„å…ƒç´ ã€‚nums1æ˜¯nums2çš„å­é›†ï¼ŒäºŒè€…å‡æ— é‡å¤çš„å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„nums2ä¸­å¯¹åº”çš„nums1å…ƒç´ çš„ä½ç½®ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”nums1å¤§çš„å…ƒç´ ã€‚nums1æ˜¯nums2çš„å­é›†ï¼ŒäºŒè€…å‡æ— é‡å¤çš„å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„nums2ä¸­å¯¹åº”çš„nums1å…ƒç´ çš„ä½ç½®ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”nums1å¤§çš„å…ƒç´ ã€‚nums1æ˜¯nums2çš„å­é›†ï¼ŒäºŒè€…å‡æ— é‡å¤çš„å…ƒç´ ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„nums2ä¸­å¯¹åº”çš„nums1å…ƒç´ çš„ä½ç½®ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”nums1å¤§çš„å…ƒç´ ã€‚nums1æ˜¯nums2çš„å­é›†ï¼ŒäºŒè€…å‡æ— é‡å¤çš„å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/next-greater-element-i/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums1 &#x3D; [4,1,2], nums2 &#x3D; [1,3,4,2].</span><br><span class=\"line\">Output: [-1,3,-1]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">    For number 4 in the first array, you cannot find the next greater number for it in the second array, so output -1.</span><br><span class=\"line\">    For number 1 in the first array, the next greater number for it in the second array is 3.</span><br><span class=\"line\">    For number 2 in the first array, there is no next greater number for it in the second array, so output -1.</span><br><span class=\"line\">    </span><br><span class=\"line\">Input: nums1 &#x3D; [2,4], nums2 &#x3D; [1,2,3,4].</span><br><span class=\"line\">Output: [3,-1]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">    For number 2 in the first array, the next greater number for it in the second array is 3.</span><br><span class=\"line\">    For number 4 in the first array, there is no next greater number for it in the second array, so output -1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼Œå› ä¸ºé¢˜ä¸­ç»™äº†èŒƒå›´æ•°ç»„é•¿åº¦å°äº1000ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰è¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreaterElement</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num1 <span class=\"keyword\">in</span> nums1:</span><br><span class=\"line\">        index = nums2.index(num1)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums2[index+<span class=\"number\">1</span>:]:</span><br><span class=\"line\">            res.append(<span class=\"number\">-1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> num2 <span class=\"keyword\">in</span> nums2[index+<span class=\"number\">1</span>:]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> num2 &gt; num1:</span><br><span class=\"line\">                    res.append(num2)</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                res.append(<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šone-linerï¼Œç”Ÿæˆå™¨ä¸€å¼€å§‹æƒ³åˆ°äº†ï¼Œæ²¡æƒ³åˆ°nextå‡½æ•°è¿˜å¯ä»¥è®¾é»˜è®¤å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreaterElement</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [next((y <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> nums2[nums2.index(x):] <span class=\"keyword\">if</span> y &gt; x), <span class=\"number\">-1</span>) </span><br><span class=\"line\">            <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums1]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šTime: O(n). </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreaterElement</span><span class=\"params\">(self, nums1, nums2)</span>:</span></span><br><span class=\"line\">    st, d = [], &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums2:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> st <span class=\"keyword\">and</span> st[<span class=\"number\">-1</span>] &lt; n:</span><br><span class=\"line\">            d[st.pop()] = n</span><br><span class=\"line\">        st.append(n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(map(<span class=\"keyword\">lambda</span> x: d.get(x, <span class=\"number\">-1</span>), nums1))</span><br></pre></td></tr></table></figure>\n<h3 id=\"953-Verifying-an-Alien-Dictionary\"><a href=\"#953-Verifying-an-Alien-Dictionary\" class=\"headerlink\" title=\"953. Verifying an Alien Dictionary\"></a>953. Verifying an Alien Dictionary</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦æŒ‰ç…§ç‰¹å®šçš„å­—å…¸é¡ºåºæ’åºã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦æŒ‰ç…§ç‰¹å®šçš„å­—å…¸é¡ºåºæ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦æŒ‰ç…§ç‰¹å®šçš„å­—å…¸é¡ºåºæ’åºã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦æŒ‰ç…§ç‰¹å®šçš„å­—å…¸é¡ºåºæ’åºã€‚<a href=\"https://leetcode.com/contest/weekly-contest-114/problems/verifying-an-alien-dictionary/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: words &#x3D; [&quot;hello&quot;,&quot;leetcode&quot;], order &#x3D; &quot;hlabcdefgijkmnopqrstuvwxyz&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: As &#39;h&#39; comes before &#39;l&#39; in this language, then the sequence is sorted.</span><br><span class=\"line\">Input: words &#x3D; [&quot;word&quot;,&quot;world&quot;,&quot;row&quot;], order &#x3D; &quot;worldabcefghijkmnpqstuvxyz&quot;</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: As &#39;d&#39; comes after &#39;l&#39; in this language, then words[0] &gt; words[1], hence the sequence is unsorted.</span><br><span class=\"line\">Input: words &#x3D; [&quot;apple&quot;,&quot;app&quot;], order &#x3D; &quot;abcdefghijklmnopqrstuvwxyz&quot;</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: The first three characters &quot;app&quot; match, and the second string is shorter (in size.) According to lexicographical rules &quot;apple&quot; &gt; &quot;app&quot;, because &#39;l&#39; &gt; &#39;âˆ…&#39;, where &#39;âˆ…&#39; is defined as the blank character which is less than any other character (More info).</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æƒ³äº†å¾ˆä¹…ï¼Œæœ€åè¿˜æ˜¯æ²¡æœ‰åšå‡ºæ¥ï¼Œä¸€å¼€å§‹æƒ³ç”¨zipæ¥è‡ªå·±å®ç°ï¼Œä¹Ÿæƒ³åˆ°äº†sortï¼Œä½†æ˜¯keyé‡Œé¢çš„åŒ¿åå‡½æ•°ä¸€ç›´æ²¡æœ‰æƒ³å¯¹ï¼Œå…³é”®æ˜¯äºŒç»´æ•°ç»„ä¹Ÿèƒ½æ’åºè¿™ç‚¹æ²¡æœ‰æƒ³åˆ°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isAlienSorted</span><span class=\"params\">(self, words: <span class=\"string\">'List[str]'</span>, order: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    d = dict(zip(order, range(<span class=\"number\">26</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> words == sorted(words, key=<span class=\"keyword\">lambda</span> w: [d[c] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼ ç»Ÿæ–¹æ³•ï¼Œä¼˜ç‚¹åœ¨äºæå‰é€€å‡ºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isAlienSorted</span><span class=\"params\">(self, words: <span class=\"string\">'List[str]'</span>, order: <span class=\"string\">'str'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    d = dict(zip(order, range(<span class=\"number\">26</span>)))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(words)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        word1, word2 = words[i:i+<span class=\"number\">2</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> c1, c2 <span class=\"keyword\">in</span> zip(word1, word2):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c1 != c2:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> d[c1] &gt; d[c2]:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(word1) &gt; len(word2):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"506-Relative-Ranks\"><a href=\"#506-Relative-Ranks\" class=\"headerlink\" title=\"506. Relative Ranks\"></a>506. Relative Ranks</h3><h4 id=\"æ ¹æ®å¾—åˆ†ï¼Œè¿”å›æ’åã€‚å‰ä¸‰è¦ç”¨å¥–ç‰Œè¡¨ç¤ºã€‚åŸé¢˜\"><a href=\"#æ ¹æ®å¾—åˆ†ï¼Œè¿”å›æ’åã€‚å‰ä¸‰è¦ç”¨å¥–ç‰Œè¡¨ç¤ºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®å¾—åˆ†ï¼Œè¿”å›æ’åã€‚å‰ä¸‰è¦ç”¨å¥–ç‰Œè¡¨ç¤ºã€‚åŸé¢˜\"></a>æ ¹æ®å¾—åˆ†ï¼Œè¿”å›æ’åã€‚å‰ä¸‰è¦ç”¨å¥–ç‰Œè¡¨ç¤ºã€‚<a href=\"https://leetcode.com/problems/relative-ranks/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [5, 4, 3, 2, 1]</span><br><span class=\"line\">Output: [&quot;Gold Medal&quot;, &quot;Silver Medal&quot;, &quot;Bronze Medal&quot;, &quot;4&quot;, &quot;5&quot;]</span><br><span class=\"line\">Explanation: The first three athletes got the top three highest scores, so they got &quot;Gold Medal&quot;, &quot;Silver Medal&quot; and &quot;Bronze Medal&quot;. </span><br><span class=\"line\">For the left two athletes, you just need to output their relative ranks according to their scores.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆç”Ÿæˆä¸€ä¸ªæ’è¡Œæ¦œå•ï¼Œå†æ ¹æ®æ¯ä¸ªå¾—åˆ†æŠŠæ’åºæ˜ å°„ä¸Šå»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRelativeRanks</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ranks = list(map(str,range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    ranks[:<span class=\"number\">3</span>] = [<span class=\"string\">\"Gold Medal\"</span>, <span class=\"string\">\"Silver Medal\"</span>, <span class=\"string\">\"Bronze Medal\"</span>]</span><br><span class=\"line\">    sorted_nums = sorted(nums, reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [ranks[sorted_nums.index(num)] <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums]  <span class=\"comment\"># slow</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨mapæ˜ å°„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRelativeRanks</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ranks = list(map(str,range(<span class=\"number\">1</span>, len(nums)+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    ranks[:<span class=\"number\">3</span>] = [<span class=\"string\">\"Gold Medal\"</span>, <span class=\"string\">\"Silver Medal\"</span>, <span class=\"string\">\"Bronze Medal\"</span>]</span><br><span class=\"line\">    sorted_nums = sorted(nums, reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"comment\"># map_rank = &#123;num: ranks[i] for i, num in enumerate(sorted_nums)&#125;</span></span><br><span class=\"line\">    <span class=\"comment\"># return list(map(map_rank.get, nums))</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(map(dict(zip(sorted_nums, ranks)).get, nums))</span><br></pre></td></tr></table></figure>\n<h3 id=\"532-K-diff-Pairs-in-an-Array\"><a href=\"#532-K-diff-Pairs-in-an-Array\" class=\"headerlink\" title=\"532. K-diff Pairs in an Array\"></a>532. K-diff Pairs in an Array</h3><h4 id=\"æ‰¾å‡ºå·®ä¸ºkçš„ä¸é‡å¤çš„æˆå¯¹å…ƒç´ çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºå·®ä¸ºkçš„ä¸é‡å¤çš„æˆå¯¹å…ƒç´ çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºå·®ä¸ºkçš„ä¸é‡å¤çš„æˆå¯¹å…ƒç´ çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡ºå·®ä¸ºkçš„ä¸é‡å¤çš„æˆå¯¹å…ƒç´ çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/k-diff-pairs-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [3, 1, 4, 1, 5], k &#x3D; 2</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: There are two 2-diff pairs in the array, (1, 3) and (3, 5).</span><br><span class=\"line\">Although we have two 1s in the input, we should only return the number of unique pairs.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šCounterï¼Œä¸€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œæƒ³sortæˆ–æ˜¯setï¼Œç„¶åå®ç°ä¸äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findPairs</span><span class=\"params\">(self, nums, k)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.items():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (k == <span class=\"number\">0</span> <span class=\"keyword\">and</span> count &gt; <span class=\"number\">1</span>) <span class=\"keyword\">or</span> (k &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> num+k <span class=\"keyword\">in</span> c):</span><br><span class=\"line\">            res += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"961-N-Repeated-Element-in-Size-2N-Array\"><a href=\"#961-N-Repeated-Element-in-Size-2N-Array\" class=\"headerlink\" title=\"961. N-Repeated Element in Size 2N Array\"></a>961. N-Repeated Element in Size 2N Array</h3><h4 id=\"æ‰¾å‡º2Né•¿çš„æ•°ç»„ä¸­é‡å¤Næ¬¡çš„æ•°å­—ï¼Œå…¶å®ƒæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ­¤é¢˜ä¸èƒ½ç”¨æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨å› ä¸ºæ•°é‡æ²¡æœ‰å¤§äºåŠæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡º2Né•¿çš„æ•°ç»„ä¸­é‡å¤Næ¬¡çš„æ•°å­—ï¼Œå…¶å®ƒæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ­¤é¢˜ä¸èƒ½ç”¨æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨å› ä¸ºæ•°é‡æ²¡æœ‰å¤§äºåŠæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡º2Né•¿çš„æ•°ç»„ä¸­é‡å¤Næ¬¡çš„æ•°å­—ï¼Œå…¶å®ƒæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ­¤é¢˜ä¸èƒ½ç”¨æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨å› ä¸ºæ•°é‡æ²¡æœ‰å¤§äºåŠæ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡º2Né•¿çš„æ•°ç»„ä¸­é‡å¤Næ¬¡çš„æ•°å­—ï¼Œå…¶å®ƒæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ­¤é¢˜ä¸èƒ½ç”¨æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨å› ä¸ºæ•°é‡æ²¡æœ‰å¤§äºåŠæ•°ã€‚<a href=\"https://leetcode.com/problems/n-repeated-element-in-size-2n-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,1,2,5,3,2]</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè¿™é¢˜æœ¬æ„æˆ‘çœ‹æ˜¯å“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†ç­”æ¡ˆéƒ½æ˜¯Counterä¹‹ç±»çš„ï¼Œæˆ‘çœ‹æ’è¡Œæ¦œç­¾åçš„Pythoné€‰æ‰‹ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„ï¼Œæˆ‘æ˜¯çµæœºä¸€åŠ¨ä¸€åŠ¨åŠ¨æƒ³å‡ºäº†ä¸€ä¸ªæ•°å­¦æ–¹æ³•ã€‚çœ‹ä¸Šå»è¿­ä»£äº†ä¸¤æ¬¡æ•°ç»„ï¼Œå¹¶ä½¿ç”¨äº†ä¸€äº›ç©ºé—´ï¼Œä½†å…¶å®é€Ÿåº¦å¾ˆå¿«ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">repeatedNTimes</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (sum(A)-sum(set(A))) // (len(A)//<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå…¶å®æ˜¯æ‰¾é‡å¤çš„æ•°å­—ï¼Œé‚£ä¹ˆå°±æ•°é‡æ˜¯ä¸€å®šçš„è¯ï¼Œå…¶ä»–æ•°å­—çš„ç›¸é‚»ä¸¤ä½ä¸­å¯èƒ½ä¼šæœ‰é‡å¤ï¼Œå…¶ä»–ä¸€ç§ä¸é‡å¤æƒ…å†µï¼Œ<code>2234</code>å’Œ<code>2342</code>ã€‚æ­¤æ–¹æ³•ä¸èƒ½ç”¨äº169é¢˜ï¼Œå› ä¸º169é¢˜ä¸­çš„å…¶å®ƒå…ƒç´ æ˜¯å¯èƒ½é‡å¤çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">repeatedNTimes</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] == A[i<span class=\"number\">-1</span>] <span class=\"keyword\">or</span> A[i] == A[i<span class=\"number\">-2</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> A[i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"967-Numbers-With-Same-Consecutive-Differences\"><a href=\"#967-Numbers-With-Same-Consecutive-Differences\" class=\"headerlink\" title=\"967. Numbers With Same Consecutive Differences\"></a>967. Numbers With Same Consecutive Differences</h3><h4 id=\"æ ¹æ®è§„åˆ™ç”Ÿæˆä¸€ç»„æ•°ç»„ï¼Œæ•°å­—é•¿åº¦ä¸ºNï¼Œæ¯ä¸¤ä½çš„å·®ä¸ºKã€‚åŸé¢˜\"><a href=\"#æ ¹æ®è§„åˆ™ç”Ÿæˆä¸€ç»„æ•°ç»„ï¼Œæ•°å­—é•¿åº¦ä¸ºNï¼Œæ¯ä¸¤ä½çš„å·®ä¸ºKã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®è§„åˆ™ç”Ÿæˆä¸€ç»„æ•°ç»„ï¼Œæ•°å­—é•¿åº¦ä¸ºNï¼Œæ¯ä¸¤ä½çš„å·®ä¸ºKã€‚åŸé¢˜\"></a>æ ¹æ®è§„åˆ™ç”Ÿæˆä¸€ç»„æ•°ç»„ï¼Œæ•°å­—é•¿åº¦ä¸ºNï¼Œæ¯ä¸¤ä½çš„å·®ä¸ºKã€‚<a href=\"https://leetcode.com/problems/numbers-with-same-consecutive-differences/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿­ä»£ç”Ÿæˆï¼Œå…¶å®æ­¤é¢˜æœ¬æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ï¼Œä½†ç”±äºè§£æ³•ä¸æ˜¯ï¼Œæš‚æ—¶å½’åˆ°æ•°ç»„é‡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numsSameConsecDiff</span><span class=\"params\">(self, N, K)</span>:</span></span><br><span class=\"line\">    ans = &#123;x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">10</span>)&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N<span class=\"number\">-1</span>):</span><br><span class=\"line\">        ans2 = set()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> digit <span class=\"keyword\">in</span> ans:</span><br><span class=\"line\">            d = digit % <span class=\"number\">10</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> d - K &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                ans2.add(digit*<span class=\"number\">10</span> + d - K)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> d + K &lt;= <span class=\"number\">9</span>:</span><br><span class=\"line\">                ans2.add(digit*<span class=\"number\">10</span> + d + K)</span><br><span class=\"line\">        ans = ans2</span><br><span class=\"line\">    <span class=\"keyword\">if</span> N == <span class=\"number\">1</span>:</span><br><span class=\"line\">        ans.add(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(ans)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç®€åŒ–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numsSameConsecDiff</span><span class=\"params\">(self, N, K)</span>:</span></span><br><span class=\"line\">    ans = range(<span class=\"number\">10</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N<span class=\"number\">-1</span>):</span><br><span class=\"line\">        ans = &#123;x*<span class=\"number\">10</span>+y <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ans <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> (x%<span class=\"number\">10</span>-K, x%<span class=\"number\">10</span>+K) </span><br><span class=\"line\">               <span class=\"keyword\">if</span> x <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;<span class=\"number\">10</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(ans)</span><br></pre></td></tr></table></figure>\n<h3 id=\"561-Array-Partition-I\"><a href=\"#561-Array-Partition-I\" class=\"headerlink\" title=\"561. Array Partition I\"></a>561. Array Partition I</h3><h4 id=\"å°†æ•°ç»„ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œç´¯åŠ æ¯ç»„çš„æœ€å°å€¼ï¼Œä½¿ä¹‹å°½é‡å¤§ã€‚åŸé¢˜\"><a href=\"#å°†æ•°ç»„ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œç´¯åŠ æ¯ç»„çš„æœ€å°å€¼ï¼Œä½¿ä¹‹å°½é‡å¤§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ•°ç»„ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œç´¯åŠ æ¯ç»„çš„æœ€å°å€¼ï¼Œä½¿ä¹‹å°½é‡å¤§ã€‚åŸé¢˜\"></a>å°†æ•°ç»„ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œç´¯åŠ æ¯ç»„çš„æœ€å°å€¼ï¼Œä½¿ä¹‹å°½é‡å¤§ã€‚<a href=\"https://leetcode.com/problems/array-partition-i/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,4,3,2]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: n is 2, and the maximum sum of pairs is 4 &#x3D; min(1, 2) + min(3, 4).</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">arrayPairSum</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sorted(nums)[::<span class=\"number\">2</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"566-Reshape-the-Matrix\"><a href=\"#566-Reshape-the-Matrix\" class=\"headerlink\" title=\"566. Reshape the Matrix\"></a>566. Reshape the Matrix</h3><h4 id=\"æ”¹å˜çŸ©é˜µçš„å½¢çŠ¶ï¼Œå¦‚æœå…ƒç´ è¶…å‡ºæˆ–ä¸è¶³ï¼Œè¿”å›åŸçŸ©é˜µã€‚åŸé¢˜\"><a href=\"#æ”¹å˜çŸ©é˜µçš„å½¢çŠ¶ï¼Œå¦‚æœå…ƒç´ è¶…å‡ºæˆ–ä¸è¶³ï¼Œè¿”å›åŸçŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ”¹å˜çŸ©é˜µçš„å½¢çŠ¶ï¼Œå¦‚æœå…ƒç´ è¶…å‡ºæˆ–ä¸è¶³ï¼Œè¿”å›åŸçŸ©é˜µã€‚åŸé¢˜\"></a>æ”¹å˜çŸ©é˜µçš„å½¢çŠ¶ï¼Œå¦‚æœå…ƒç´ è¶…å‡ºæˆ–ä¸è¶³ï¼Œè¿”å›åŸçŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/reshape-the-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">nums &#x3D; </span><br><span class=\"line\">[[1,2],</span><br><span class=\"line\"> [3,4]]</span><br><span class=\"line\">r &#x3D; 1, c &#x3D; 4</span><br><span class=\"line\">Output: </span><br><span class=\"line\">[[1,2,3,4]]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The row-traversing of nums is [1,2,3,4]. The new reshaped matrix is a 1 * 4 matrix, fill it row by row by using the previous list.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ‰å¹³åŒ–åé‡ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">matrixReshape</span><span class=\"params\">(self, nums, r, c)</span>:</span></span><br><span class=\"line\">    a = [x <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> nums <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> row]</span><br><span class=\"line\">    n = len(a)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> r*c != n:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a[i*c:i*c+c] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(r)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨itertools.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">matrixReshape</span><span class=\"params\">(self, nums, r, c)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> r*c != len(nums)*len(nums[<span class=\"number\">0</span>]):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums</span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> islice, chain</span><br><span class=\"line\">    it = chain(*nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [list(islice(it, c)) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(r)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"575-Distribute-Candies\"><a href=\"#575-Distribute-Candies\" class=\"headerlink\" title=\"575. Distribute Candies\"></a>575. Distribute Candies</h3><h4 id=\"ç»™å§å§å¼Ÿå¼Ÿåˆ†ç³–ï¼Œä¸¤äººæ•°é‡ä¸€æ ·ï¼Œä¿è¯å§å§çš„ç§ç±»æœ€å¤šï¼Œæ±‚å§å§æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç§ã€‚åŸé¢˜\"><a href=\"#ç»™å§å§å¼Ÿå¼Ÿåˆ†ç³–ï¼Œä¸¤äººæ•°é‡ä¸€æ ·ï¼Œä¿è¯å§å§çš„ç§ç±»æœ€å¤šï¼Œæ±‚å§å§æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å§å§å¼Ÿå¼Ÿåˆ†ç³–ï¼Œä¸¤äººæ•°é‡ä¸€æ ·ï¼Œä¿è¯å§å§çš„ç§ç±»æœ€å¤šï¼Œæ±‚å§å§æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç§ã€‚åŸé¢˜\"></a>ç»™å§å§å¼Ÿå¼Ÿåˆ†ç³–ï¼Œä¸¤äººæ•°é‡ä¸€æ ·ï¼Œä¿è¯å§å§çš„ç§ç±»æœ€å¤šï¼Œæ±‚å§å§æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç§ã€‚<a href=\"https://leetcode.com/problems/distribute-candies/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: candies &#x3D; [1,1,2,2,3,3]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">There are three different kinds of candies (1, 2 and 3), and two candies for each kind.</span><br><span class=\"line\">Optimal distribution: The sister has candies [1,2,3] and the brother has candies [1,2,3], too. </span><br><span class=\"line\">The sister has three different kinds of candies.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">distributeCandies</span><span class=\"params\">(self, candies)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(len(candies)//<span class=\"number\">2</span>, len(set(candies)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"594-Longest-Harmonious-Subsequence\"><a href=\"#594-Longest-Harmonious-Subsequence\" class=\"headerlink\" title=\"594. Longest Harmonious Subsequence\"></a>594. Longest Harmonious Subsequence</h3><h4 id=\"æœ€é•¿çš„å’Œè°å­æ•°ç»„ï¼Œå³å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ­£å¥½ç›¸å·®ä¸€çš„å­æ•°ç»„ï¼Œå…ƒç´ é¡ºåºæ— å…³ï¼Œæ±‚æœ€å¤§å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„å’Œè°å­æ•°ç»„ï¼Œå³å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ­£å¥½ç›¸å·®ä¸€çš„å­æ•°ç»„ï¼Œå…ƒç´ é¡ºåºæ— å…³ï¼Œæ±‚æœ€å¤§å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„å’Œè°å­æ•°ç»„ï¼Œå³å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ­£å¥½ç›¸å·®ä¸€çš„å­æ•°ç»„ï¼Œå…ƒç´ é¡ºåºæ— å…³ï¼Œæ±‚æœ€å¤§å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"></a>æœ€é•¿çš„å’Œè°å­æ•°ç»„ï¼Œå³å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ­£å¥½ç›¸å·®ä¸€çš„å­æ•°ç»„ï¼Œå…ƒç´ é¡ºåºæ— å…³ï¼Œæ±‚æœ€å¤§å­æ•°ç»„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/longest-harmonious-subsequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,3,2,2,5,2,3,7]</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: The longest harmonious subsequence is [3,2,2,2,3].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¼€å§‹æƒ³é”™äº†ï¼Œåæ¥å‘ç°å­æ•°ç»„åªèƒ½åŒ…å«ä¸¤ä¸ªå…ƒç´ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLHS</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.items():</span><br><span class=\"line\">        sum_count = count+c[num+<span class=\"number\">1</span>] <span class=\"keyword\">if</span> c[num+<span class=\"number\">1</span>] <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        res = max(res, sum_count)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šone-liner.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLHS</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    c = Counter(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max([count+c[num+<span class=\"number\">1</span>] <span class=\"keyword\">for</span> num, count <span class=\"keyword\">in</span> c.items() </span><br><span class=\"line\">                <span class=\"keyword\">if</span> num+<span class=\"number\">1</span> <span class=\"keyword\">in</span> c] <span class=\"keyword\">or</span> [<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"598-Range-Addition-II\"><a href=\"#598-Range-Addition-II\" class=\"headerlink\" title=\"598. Range Addition II\"></a>598. Range Addition II</h3><h4 id=\"è¿™é¢˜çœ‹ä¸Šå»æŒºé•¿ï¼Œå…¶å®æŠ½è±¡èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠæ•´ä¸ªçŸ©é˜µæƒ³è±¡æˆä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åæ¯æ¬¡å¾€ä¸Šå åŠ ï¼Œæ¯æ¬¡å æ”¾çš„çŸ©å½¢éƒ½ä¼šå’Œå·¦ä¸Šè§’å¯¹é½ï¼Œæ‰€ä»¥æœ€åå®Œæˆçš„æ—¶å€™ï¼Œå·¦ä¸Šè§’çš„ä¸€å°å—ä¸€å®šæ˜¯æœ€â€œåšâ€çš„ï¼Œé—®é¢˜å°±å˜æˆå’Œå·¦ä¸Šä¸€æ ·çš„åšåº¦çš„é¢ç§¯ã€‚å®é™…ä¸Šç­‰äºå æ”¾çš„æ‰€æœ‰çŸ©å½¢çš„æœ€å°é•¿åº¦å’Œæœ€å°å®½åº¦çš„ä¹˜ç§¯ã€‚åŸé¢˜\"><a href=\"#è¿™é¢˜çœ‹ä¸Šå»æŒºé•¿ï¼Œå…¶å®æŠ½è±¡èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠæ•´ä¸ªçŸ©é˜µæƒ³è±¡æˆä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åæ¯æ¬¡å¾€ä¸Šå åŠ ï¼Œæ¯æ¬¡å æ”¾çš„çŸ©å½¢éƒ½ä¼šå’Œå·¦ä¸Šè§’å¯¹é½ï¼Œæ‰€ä»¥æœ€åå®Œæˆçš„æ—¶å€™ï¼Œå·¦ä¸Šè§’çš„ä¸€å°å—ä¸€å®šæ˜¯æœ€â€œåšâ€çš„ï¼Œé—®é¢˜å°±å˜æˆå’Œå·¦ä¸Šä¸€æ ·çš„åšåº¦çš„é¢ç§¯ã€‚å®é™…ä¸Šç­‰äºå æ”¾çš„æ‰€æœ‰çŸ©å½¢çš„æœ€å°é•¿åº¦å’Œæœ€å°å®½åº¦çš„ä¹˜ç§¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é¢˜çœ‹ä¸Šå»æŒºé•¿ï¼Œå…¶å®æŠ½è±¡èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠæ•´ä¸ªçŸ©é˜µæƒ³è±¡æˆä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åæ¯æ¬¡å¾€ä¸Šå åŠ ï¼Œæ¯æ¬¡å æ”¾çš„çŸ©å½¢éƒ½ä¼šå’Œå·¦ä¸Šè§’å¯¹é½ï¼Œæ‰€ä»¥æœ€åå®Œæˆçš„æ—¶å€™ï¼Œå·¦ä¸Šè§’çš„ä¸€å°å—ä¸€å®šæ˜¯æœ€â€œåšâ€çš„ï¼Œé—®é¢˜å°±å˜æˆå’Œå·¦ä¸Šä¸€æ ·çš„åšåº¦çš„é¢ç§¯ã€‚å®é™…ä¸Šç­‰äºå æ”¾çš„æ‰€æœ‰çŸ©å½¢çš„æœ€å°é•¿åº¦å’Œæœ€å°å®½åº¦çš„ä¹˜ç§¯ã€‚åŸé¢˜\"></a>è¿™é¢˜çœ‹ä¸Šå»æŒºé•¿ï¼Œå…¶å®æŠ½è±¡èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠæ•´ä¸ªçŸ©é˜µæƒ³è±¡æˆä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åæ¯æ¬¡å¾€ä¸Šå åŠ ï¼Œæ¯æ¬¡å æ”¾çš„çŸ©å½¢éƒ½ä¼šå’Œå·¦ä¸Šè§’å¯¹é½ï¼Œæ‰€ä»¥æœ€åå®Œæˆçš„æ—¶å€™ï¼Œå·¦ä¸Šè§’çš„ä¸€å°å—ä¸€å®šæ˜¯æœ€â€œåšâ€çš„ï¼Œé—®é¢˜å°±å˜æˆå’Œå·¦ä¸Šä¸€æ ·çš„åšåº¦çš„é¢ç§¯ã€‚å®é™…ä¸Šç­‰äºå æ”¾çš„æ‰€æœ‰çŸ©å½¢çš„æœ€å°é•¿åº¦å’Œæœ€å°å®½åº¦çš„ä¹˜ç§¯ã€‚<a href=\"https://leetcode.com/problems/range-addition-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">m &#x3D; 3, n &#x3D; 3</span><br><span class=\"line\">operations &#x3D; [[2,2],[3,3]]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Initially, M &#x3D; </span><br><span class=\"line\">[[0, 0, 0],</span><br><span class=\"line\"> [0, 0, 0],</span><br><span class=\"line\"> [0, 0, 0]]</span><br><span class=\"line\"></span><br><span class=\"line\">After performing [2,2], M &#x3D; </span><br><span class=\"line\">[[1, 1, 0],</span><br><span class=\"line\"> [1, 1, 0],</span><br><span class=\"line\"> [0, 0, 0]]</span><br><span class=\"line\"></span><br><span class=\"line\">After performing [3,3], M &#x3D; </span><br><span class=\"line\">[[2, 2, 1],</span><br><span class=\"line\"> [2, 2, 1],</span><br><span class=\"line\"> [1, 1, 1]]</span><br><span class=\"line\"></span><br><span class=\"line\">So the maximum integer in M is 2, and there are four of it in M. So return 4.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxCount</span><span class=\"params\">(self, m, n, ops)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ops:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> m*n</span><br><span class=\"line\">    length, width = list(zip(*ops))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(length) * min(width)</span><br></pre></td></tr></table></figure>\n<h3 id=\"599-Minimum-Index-Sum-of-Two-Lists\"><a href=\"#599-Minimum-Index-Sum-of-Two-Lists\" class=\"headerlink\" title=\"599. Minimum Index Sum of Two Lists\"></a>599. Minimum Index Sum of Two Lists</h3><h4 id=\"æ‰¾å‡ºä¸¤ä¸ªäººå…±åŒæœ€å–œæ¬¢çš„é¤å…ã€‚å¦‚æœæœ‰å¤šä¸ªè¾“å‡ºå¤šä¸ªã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºä¸¤ä¸ªäººå…±åŒæœ€å–œæ¬¢çš„é¤å…ã€‚å¦‚æœæœ‰å¤šä¸ªè¾“å‡ºå¤šä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºä¸¤ä¸ªäººå…±åŒæœ€å–œæ¬¢çš„é¤å…ã€‚å¦‚æœæœ‰å¤šä¸ªè¾“å‡ºå¤šä¸ªã€‚åŸé¢˜\"></a>æ‰¾å‡ºä¸¤ä¸ªäººå…±åŒæœ€å–œæ¬¢çš„é¤å…ã€‚å¦‚æœæœ‰å¤šä¸ªè¾“å‡ºå¤šä¸ªã€‚<a href=\"https://leetcode.com/problems/minimum-index-sum-of-two-lists/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[&quot;Shogun&quot;,&quot;Tapioca Express&quot;,&quot;Burger King&quot;,&quot;KFC&quot;]</span><br><span class=\"line\">[&quot;Piatti&quot;,&quot;The Grill at Torrey Pines&quot;,&quot;Tapioca Express&quot;,&quot;Shogun&quot;]</span><br><span class=\"line\">Output: [&#39;Shogun&#39;, &#39;Tapioca Express&#39;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é‡Œåšäº†ä¸€ä¸ªä¼˜åŒ–ï¼Œä»¥åŸlist1çš„é¡ºåºè¾“å‡ºæ•°ç»„ï¼Œå¦‚æœç´¢å¼•å¤ªå¤§è¶…å‡ºäº†æœ€å°ç´¢å¼•å’Œï¼Œè¿™æ ·å³ä½¿æ˜¯map2ä½¿ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿæ— æ³•æ»¡è¶³æ¡ä»¶ï¼Œç›´æ¥é€€å‡ºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRestaurant</span><span class=\"params\">(self, list1, list2)</span>:</span></span><br><span class=\"line\">    map2 = &#123;x: i <span class=\"keyword\">for</span> i, x <span class=\"keyword\">in</span> enumerate(list2)&#125;</span><br><span class=\"line\">    res, min_sum = [], float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, rest <span class=\"keyword\">in</span> enumerate(list1):</span><br><span class=\"line\">        <span class=\"comment\"># optimize </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt; min_sum: </span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> rest <span class=\"keyword\">in</span> map2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i+map2[rest] &lt; min_sum:</span><br><span class=\"line\">                res = [rest]</span><br><span class=\"line\">                min_sum = i+map2[rest]</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> i+map2[rest] == min_sum:</span><br><span class=\"line\">                res += [rest]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"605-Can-Place-Flowers\"><a href=\"#605-Can-Place-Flowers\" class=\"headerlink\" title=\"605. Can Place Flowers\"></a>605. Can Place Flowers</h3><h4 id=\"æ˜¯å¦å¯ä»¥ç§ä¸‹ç»™å®šæ•°é‡çš„èŠ±ã€‚ä¸¤é¢—èŠ±ä¸èƒ½æŒ¨ç€ï¼Œç»™å®šçš„æ•°ç»„ä¸­æ»¡è¶³è¿™ä¸€æ¡ä»¶ã€‚åŸé¢˜\"><a href=\"#æ˜¯å¦å¯ä»¥ç§ä¸‹ç»™å®šæ•°é‡çš„èŠ±ã€‚ä¸¤é¢—èŠ±ä¸èƒ½æŒ¨ç€ï¼Œç»™å®šçš„æ•°ç»„ä¸­æ»¡è¶³è¿™ä¸€æ¡ä»¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ˜¯å¦å¯ä»¥ç§ä¸‹ç»™å®šæ•°é‡çš„èŠ±ã€‚ä¸¤é¢—èŠ±ä¸èƒ½æŒ¨ç€ï¼Œç»™å®šçš„æ•°ç»„ä¸­æ»¡è¶³è¿™ä¸€æ¡ä»¶ã€‚åŸé¢˜\"></a>æ˜¯å¦å¯ä»¥ç§ä¸‹ç»™å®šæ•°é‡çš„èŠ±ã€‚ä¸¤é¢—èŠ±ä¸èƒ½æŒ¨ç€ï¼Œç»™å®šçš„æ•°ç»„ä¸­æ»¡è¶³è¿™ä¸€æ¡ä»¶ã€‚<a href=\"https://leetcode.com/problems/can-place-flowers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: flowerbed &#x3D; [1,0,0,0,1], n &#x3D; 2</span><br><span class=\"line\">Output: False</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canPlaceFlowers</span><span class=\"params\">(self, flowerbed, n)</span>:</span></span><br><span class=\"line\">    plots = [<span class=\"number\">0</span>] + flowerbed + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    p = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> p &lt;= len(flowerbed) <span class=\"keyword\">and</span> n &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> plots[p] == <span class=\"number\">0</span> <span class=\"keyword\">and</span> plots[p<span class=\"number\">-1</span>] == <span class=\"number\">0</span> <span class=\"keyword\">and</span> plots[p+<span class=\"number\">1</span>] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            plots[p] = <span class=\"number\">1</span></span><br><span class=\"line\">            n -= <span class=\"number\">1</span></span><br><span class=\"line\">        p += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"643-Maximum-Average-Subarray-I\"><a href=\"#643-Maximum-Average-Subarray-I\" class=\"headerlink\" title=\"643. Maximum Average Subarray I\"></a>643. Maximum Average Subarray I</h3><h4 id=\"æœ€å¤§çš„è¿ç»­çš„é•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„å¹³å‡å€¼ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„è¿ç»­çš„é•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„å¹³å‡å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„è¿ç»­çš„é•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„å¹³å‡å€¼ã€‚åŸé¢˜\"></a>æœ€å¤§çš„è¿ç»­çš„é•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„å¹³å‡å€¼ã€‚<a href=\"https://leetcode.com/problems/maximum-average-subarray-i/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,12,-5,-6,50,3], k &#x3D; 4</span><br><span class=\"line\">Output: 12.75</span><br><span class=\"line\">Explanation: Maximum average is (12-5-6+50)&#x2F;4 &#x3D; 51&#x2F;4 &#x3D; 12.75</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‚è€ƒäº†stefenå¤§ç¥çš„ç­”æ¡ˆï¼Œè‡ªå·±å†™çš„æ»‘åŠ¨çª—å£å±…ç„¶è¶…æ—¶äº†ã€‚accumulateä¹Ÿä¸æ˜¯æƒ³ä¸åˆ°ï¼Œæ­¤ç­”æ¡ˆå‰å®³çš„åœ°æ–¹åœ¨äº è¡¥0 å’Œmapæ“ä½œã€‚åƒè¿™ç§å›ºå®šé•¿åº¦çš„æ»‘åŠ¨çª—å£ä½¿ç”¨è¡¥0çš„<code>accumulate</code>ï¼Œå¯ä»¥ç”¨åˆ°å…¶ä»–çš„é¢˜ä¸Šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMaxAverage</span><span class=\"params\">(self, nums, k)</span>:</span></span><br><span class=\"line\">    sums = [<span class=\"number\">0</span>] + list(itertools.accumulate(nums))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(map(operator.sub, sums[k:], sums)) / k</span><br></pre></td></tr></table></figure>\n<h3 id=\"661-Image-Smoother\"><a href=\"#661-Image-Smoother\" class=\"headerlink\" title=\"661. Image Smoother\"></a>661. Image Smoother</h3><h4 id=\"ä½¿å›¾ç‰‡å¹³æ»‘æ¨¡ç³Šï¼Œä¸€ä¸ªçŸ©é˜µä½¿æ¯ä¸ªç‚¹çš„å€¼ä¸ºå‘¨å›´æ‰€æœ‰ç‚¹çš„å¹³å‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚åŸé¢˜\"><a href=\"#ä½¿å›¾ç‰‡å¹³æ»‘æ¨¡ç³Šï¼Œä¸€ä¸ªçŸ©é˜µä½¿æ¯ä¸ªç‚¹çš„å€¼ä¸ºå‘¨å›´æ‰€æœ‰ç‚¹çš„å¹³å‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä½¿å›¾ç‰‡å¹³æ»‘æ¨¡ç³Šï¼Œä¸€ä¸ªçŸ©é˜µä½¿æ¯ä¸ªç‚¹çš„å€¼ä¸ºå‘¨å›´æ‰€æœ‰ç‚¹çš„å¹³å‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚åŸé¢˜\"></a>ä½¿å›¾ç‰‡å¹³æ»‘æ¨¡ç³Šï¼Œä¸€ä¸ªçŸ©é˜µä½¿æ¯ä¸ªç‚¹çš„å€¼ä¸ºå‘¨å›´æ‰€æœ‰ç‚¹çš„å¹³å‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚<a href=\"https://leetcode.com/problems/image-smoother/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[[1,1,1],</span><br><span class=\"line\"> [1,0,1],</span><br><span class=\"line\"> [1,1,1]]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[[0, 0, 0],</span><br><span class=\"line\"> [0, 0, 0],</span><br><span class=\"line\"> [0, 0, 0]]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">For the point (0,0), (0,2), (2,0), (2,2): floor(3&#x2F;4) &#x3D; floor(0.75) &#x3D; 0</span><br><span class=\"line\">For the point (0,1), (1,0), (1,2), (2,1): floor(5&#x2F;6) &#x3D; floor(0.83333333) &#x3D; 0</span><br><span class=\"line\">For the point (1,1): floor(8&#x2F;9) &#x3D; floor(0.88888889) &#x3D; 0</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‚è€ƒäº†è¯„è®ºåŒºä¸€ä½æœ‹å‹çš„å†™æ³•ï¼Œä¸è¿‡æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ï¼Œ800msï¼ŒSolutionç»™å‡ºçš„æ–¹æ³•ä¹Ÿæ˜¯è¿™ä¸ªé€Ÿåº¦ï¼Œçœ‹æ¥å¦‚æœä¼˜åŒ–çš„è¯ï¼Œå¯èƒ½ä½¿ç”¨<code>numpy</code>ä¼šå¥½ä¸€ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">imageSmoother</span><span class=\"params\">(self, M)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> itertools</span><br><span class=\"line\">    R, C = len(M), len(M[<span class=\"number\">0</span>]) </span><br><span class=\"line\">    res = [[<span class=\"number\">0</span>]*C <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(R)]</span><br><span class=\"line\">    offset = list(itertools.product([<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>], [<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>]))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            points = [M[i+x][j+y] <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> offset</span><br><span class=\"line\">                      <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i+x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j+y&lt;C]</span><br><span class=\"line\">            res[i][j] = sum(points) // len(points)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"665-Non-decreasing-Array\"><a href=\"#665-Non-decreasing-Array\" class=\"headerlink\" title=\"665. Non-decreasing Array\"></a>665. Non-decreasing Array</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦æ”¹å˜ä¸€ä¸ªæ•°ï¼Œå¯ä½¿å…¶å˜æˆå•è°ƒé€’å¢æ•°ç»„ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦æ”¹å˜ä¸€ä¸ªæ•°ï¼Œå¯ä½¿å…¶å˜æˆå•è°ƒé€’å¢æ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦æ”¹å˜ä¸€ä¸ªæ•°ï¼Œå¯ä½¿å…¶å˜æˆå•è°ƒé€’å¢æ•°ç»„ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦æ”¹å˜ä¸€ä¸ªæ•°ï¼Œå¯ä½¿å…¶å˜æˆå•è°ƒé€’å¢æ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/non-decreasing-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [4,2,3]</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation: You could modify the first 4 to 1 to get a non-decreasing array.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkPossibility</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    p = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] &gt; nums[i+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            p = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"keyword\">not</span> p) <span class=\"keyword\">or</span> p == n<span class=\"number\">-2</span> <span class=\"keyword\">or</span> nums[p<span class=\"number\">-1</span>] &lt;= nums[p+<span class=\"number\">1</span>] <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">           nums[p] &lt;= nums[p+<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<ul>\n<li>If p = 0, then we could make the array good by setting A[p] = A[p+1]</li>\n<li>if p = len(A) - 2, then we could make the array good by setting A[p+1] = A[p]</li>\n<li>Otherwise, A[p-1], A[p], A[p+1], A[p+2] all exist, and:<ul>\n<li>change A[p] to be between A[p-1] and A[p+1] if possible, or: [4, 8, 6]</li>\n<li>change A[p+1] to be between A[p] and A[p+2] if possible. [4, 5, 3, 6]</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"674-Longest-Continuous-Increasing-Subsequence\"><a href=\"#674-Longest-Continuous-Increasing-Subsequence\" class=\"headerlink\" title=\"674. Longest Continuous Increasing Subsequence\"></a>674. Longest Continuous Increasing Subsequence</h3><h4 id=\"æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"></a>æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/longest-continuous-increasing-subsequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,3,5,4,7]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: The longest continuous increasing subsequence is [1,3,5], its length is 3. </span><br><span class=\"line\">Even though [1,3,5,7] is also an increasing subsequence, it&#39;s not a continuous one where 5 and 7 are separated by 4.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLengthOfLCIS</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = anchor = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">and</span> nums[i] &lt;= nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            anchor = i</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = max(ans, i-anchor+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"682-Baseball-Game\"><a href=\"#682-Baseball-Game\" class=\"headerlink\" title=\"682. Baseball Game\"></a>682. Baseball Game</h3><h4 id=\"æ£’çƒæ¸¸æˆï¼Œç»™äº†ä¸€äº›ç§¯åˆ†è§„åˆ™ã€‚åŸé¢˜\"><a href=\"#æ£’çƒæ¸¸æˆï¼Œç»™äº†ä¸€äº›ç§¯åˆ†è§„åˆ™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ£’çƒæ¸¸æˆï¼Œç»™äº†ä¸€äº›ç§¯åˆ†è§„åˆ™ã€‚åŸé¢˜\"></a>æ£’çƒæ¸¸æˆï¼Œç»™äº†ä¸€äº›ç§¯åˆ†è§„åˆ™ã€‚<a href=\"https://leetcode.com/problems/baseball-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;5&quot;,&quot;2&quot;,&quot;C&quot;,&quot;D&quot;,&quot;+&quot;]</span><br><span class=\"line\">Output: 30</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Round 1: You could get 5 points. The sum is: 5.</span><br><span class=\"line\">Round 2: You could get 2 points. The sum is: 7.</span><br><span class=\"line\">Operation 1: The round 2&#39;s data was invalid. The sum is: 5.  </span><br><span class=\"line\">Round 3: You could get 10 points (the round 2&#39;s data has been removed). The sum is: 15.</span><br><span class=\"line\">Round 4: You could get 5 + 10 &#x3D; 15 points. The sum is: 30.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calPoints</span><span class=\"params\">(self, ops)</span>:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> op <span class=\"keyword\">in</span> ops:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> op == <span class=\"string\">'C'</span>:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> op == <span class=\"string\">'D'</span>:</span><br><span class=\"line\">            stack.append(stack[<span class=\"number\">-1</span>]*<span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> op == <span class=\"string\">'+'</span>:</span><br><span class=\"line\">            stack.append(stack[<span class=\"number\">-1</span>] + stack[<span class=\"number\">-2</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append(int(op))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(stack)</span><br></pre></td></tr></table></figure>\n<h3 id=\"690-Employee-Importance\"><a href=\"#690-Employee-Importance\" class=\"headerlink\" title=\"690. Employee Importance\"></a>690. Employee Importance</h3><h4 id=\"å‘˜å·¥é‡è¦å€¼ã€‚åŸé¢˜\"><a href=\"#å‘˜å·¥é‡è¦å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‘˜å·¥é‡è¦å€¼ã€‚åŸé¢˜\"></a>å‘˜å·¥é‡è¦å€¼ã€‚<a href=\"https://leetcode.com/problems/employee-importance/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1, 5, [2, 3]], [2, 3, []], [3, 3, []]], 1</span><br><span class=\"line\">Output: 11</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Employee 1 has importance value 5, and he has two direct subordinates: employee 2 and employee 3. They both have importance value 3. So the total importance value of employee 1 is 5 + 3 + 3 &#x3D; 11.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šiteratively.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getImportance</span><span class=\"params\">(self, employees, id)</span>:</span></span><br><span class=\"line\">    emp_dict = &#123;ep.id: (ep.importance, ep.subordinates) <span class=\"keyword\">for</span> ep <span class=\"keyword\">in</span> employees&#125;</span><br><span class=\"line\">    res, stack = <span class=\"number\">0</span>, [id]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        value, subs = emp_dict.get(stack.pop())</span><br><span class=\"line\">        res += value</span><br><span class=\"line\">        stack += subs</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getImportance</span><span class=\"params\">(self, employees, id)</span>:</span></span><br><span class=\"line\">    emp_dict = &#123;ep.id: (ep.importance, ep.subordinates) <span class=\"keyword\">for</span> ep <span class=\"keyword\">in</span> employees&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(pk)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> emp_dict[pk][<span class=\"number\">0</span>] + sum(dfs(sub) <span class=\"keyword\">for</span> sub <span class=\"keyword\">in</span> emp_dict[pk][<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(id)</span><br></pre></td></tr></table></figure>\n<h3 id=\"724-Find-Pivot-Index\"><a href=\"#724-Find-Pivot-Index\" class=\"headerlink\" title=\"724. Find Pivot Index\"></a>724. Find Pivot Index</h3><h4 id=\"æ‰¾åˆ°ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹å’Œç›¸ç­‰ã€‚å·¦å³æ±‚å’Œæ—¶å‡ä¸åŒ…å«è¯¥ç´¢å¼•ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹å’Œç›¸ç­‰ã€‚å·¦å³æ±‚å’Œæ—¶å‡ä¸åŒ…å«è¯¥ç´¢å¼•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹å’Œç›¸ç­‰ã€‚å·¦å³æ±‚å’Œæ—¶å‡ä¸åŒ…å«è¯¥ç´¢å¼•ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹å’Œç›¸ç­‰ã€‚å·¦å³æ±‚å’Œæ—¶å‡ä¸åŒ…å«è¯¥ç´¢å¼•ã€‚<a href=\"https://leetcode.com/problems/find-pivot-index/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">nums &#x3D; [1, 7, 3, 6, 5, 6]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The sum of the numbers to the left of index 3 (nums[3] &#x3D; 6) is equal to the sum of numbers to the right of index 3.</span><br><span class=\"line\">Also, 3 is the first index where this occurs.</span><br><span class=\"line\"></span><br><span class=\"line\">Input:</span><br><span class=\"line\">nums &#x3D; [1,0]</span><br><span class=\"line\">Output: 0</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæŒ‡é’ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pivotIndex</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    left, right, i = <span class=\"number\">0</span>, sum(nums), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt; len(nums):</span><br><span class=\"line\">        left += nums[i<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> i &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        right -= nums[i] </span><br><span class=\"line\">        <span class=\"keyword\">if</span> left == right:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨æŒ‡é’ˆã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pivotIndex</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    S, left = sum(nums), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left == S-left-num:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">        left += num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"985-Sum-of-Even-Numbers-After-Queries\"><a href=\"#985-Sum-of-Even-Numbers-After-Queries\" class=\"headerlink\" title=\"985. Sum of Even Numbers After Queries\"></a>985. Sum of Even Numbers After Queries</h3><h4 id=\"è®¡ç®—Queriesåï¼Œç´¯åŠ æ‰€æœ‰çš„å¶æ•°ã€‚åŸé¢˜\"><a href=\"#è®¡ç®—Queriesåï¼Œç´¯åŠ æ‰€æœ‰çš„å¶æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—Queriesåï¼Œç´¯åŠ æ‰€æœ‰çš„å¶æ•°ã€‚åŸé¢˜\"></a>è®¡ç®—Queriesåï¼Œç´¯åŠ æ‰€æœ‰çš„å¶æ•°ã€‚<a href=\"https://leetcode.com/problems/sum-of-even-numbers-after-queries/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [1,2,3,4], queries &#x3D; [[1,0],[-3,1],[-4,0],[2,3]]</span><br><span class=\"line\">Output: [8,6,2,4]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">At the beginning, the array is [1,2,3,4].</span><br><span class=\"line\">After adding 1 to A[0], the array is [2,2,3,4], and the sum of even values is 2 + 2 + 4 &#x3D; 8.</span><br><span class=\"line\">After adding -3 to A[1], the array is [2,-1,3,4], and the sum of even values is 2 + 4 &#x3D; 6.</span><br><span class=\"line\">After adding -4 to A[0], the array is [-2,-1,3,4], and the sum of even values is -2 + 4 &#x3D; 2.</span><br><span class=\"line\">After adding 2 to A[3], the array is [-2,-1,3,6], and the sum of even values is -2 + 6 &#x3D; 4.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumEvenAfterQueries</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>, queries: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    sum_even = sum(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> A <span class=\"keyword\">if</span> x &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> v, i <span class=\"keyword\">in</span> queries:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            sum_even -= A[i]</span><br><span class=\"line\">        A[i] += v</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            sum_even += A[i]</span><br><span class=\"line\">        res.append(sum_even)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"986-Interval-List-Intersections\"><a href=\"#986-Interval-List-Intersections\" class=\"headerlink\" title=\"986. Interval List Intersections\"></a>986. Interval List Intersections</h3><h4 id=\"ä¸¤ä¸ªåŒºé—´åˆ—è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªåŒºé—´åˆ—è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªåŒºé—´åˆ—è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªåŒºé—´åˆ—è¡¨æ±‚ç›¸äº¤ã€‚<a href=\"https://leetcode.com/problems/interval-list-intersections/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/interval1.png\" class>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [[0,2],[5,10],[13,23],[24,25]], B &#x3D; [[1,5],[8,12],[15,24],[25,26]]</span><br><span class=\"line\">Output: [[1,2],[5,5],[8,10],[15,23],[24,24],[25,25]]</span><br><span class=\"line\">Reminder: The inputs and the desired output are lists of Interval objects, and not arrays or lists.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">intervalIntersection</span><span class=\"params\">(self, A: <span class=\"string\">'List[Interval]'</span>, B: <span class=\"string\">'List[Interval]'</span>)</span> -&gt; 'List[Interval]':</span></span><br><span class=\"line\">    i = j = <span class=\"number\">0</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt; len(A) <span class=\"keyword\">and</span> j &lt; len(B):</span><br><span class=\"line\">        lo = max(A[i].start, B[j].start)</span><br><span class=\"line\">        hi = min(A[i].end, B[j].end)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &lt;= hi:</span><br><span class=\"line\">            res.append(Interval(lo, hi))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i].end &gt; B[j].end:</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"747-Largest-Number-At-Least-Twice-of-Others\"><a href=\"#747-Largest-Number-At-Least-Twice-of-Others\" class=\"headerlink\" title=\"747. Largest Number At Least Twice of Others\"></a>747. Largest Number At Least Twice of Others</h3><h4 id=\"æœ€å¤§çš„æ•°æ˜¯å¦å¤§äºç­‰äºæ‰€æœ‰å…¶å®ƒæ•°çš„ä¸¤å€ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„æ•°æ˜¯å¦å¤§äºç­‰äºæ‰€æœ‰å…¶å®ƒæ•°çš„ä¸¤å€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„æ•°æ˜¯å¦å¤§äºç­‰äºæ‰€æœ‰å…¶å®ƒæ•°çš„ä¸¤å€ã€‚åŸé¢˜\"></a>æœ€å¤§çš„æ•°æ˜¯å¦å¤§äºç­‰äºæ‰€æœ‰å…¶å®ƒæ•°çš„ä¸¤å€ã€‚<a href=\"https://leetcode.com/problems/largest-number-at-least-twice-of-others/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [3, 6, 1, 0]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: 6 is the largest integer, and for every other number in the array x,</span><br><span class=\"line\">6 is more than twice as big as x.  The index of value 6 is 1, so we return 1.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dominantIndex</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    max_v = max(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> all(max_v &gt;= <span class=\"number\">2</span>*x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> x!=max_v):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums.index(max_v)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"766-Toeplitz-Matrix\"><a href=\"#766-Toeplitz-Matrix\" class=\"headerlink\" title=\"766. Toeplitz Matrix\"></a>766. Toeplitz Matrix</h3><h4 id=\"ToeplitzçŸ©é˜µï¼Œå³å¯¹è§’çŸ©é˜µï¼Œæ–œè§’å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªçŸ©é˜µæ˜¯å¦æ˜¯å¯¹è§’çŸ©é˜µã€‚åŸé¢˜\"><a href=\"#ToeplitzçŸ©é˜µï¼Œå³å¯¹è§’çŸ©é˜µï¼Œæ–œè§’å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªçŸ©é˜µæ˜¯å¦æ˜¯å¯¹è§’çŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"ToeplitzçŸ©é˜µï¼Œå³å¯¹è§’çŸ©é˜µï¼Œæ–œè§’å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªçŸ©é˜µæ˜¯å¦æ˜¯å¯¹è§’çŸ©é˜µã€‚åŸé¢˜\"></a>ToeplitzçŸ©é˜µï¼Œå³å¯¹è§’çŸ©é˜µï¼Œæ–œè§’å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªçŸ©é˜µæ˜¯å¦æ˜¯å¯¹è§’çŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/toeplitz-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">matrix &#x3D; [</span><br><span class=\"line\">  [1,2,3,4],</span><br><span class=\"line\">  [5,1,2,3],</span><br><span class=\"line\">  [9,5,1,2]</span><br><span class=\"line\">]</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">In the above grid, the diagonals are:</span><br><span class=\"line\">&quot;[9]&quot;, &quot;[5, 5]&quot;, &quot;[1, 1, 1]&quot;, &quot;[2, 2, 2]&quot;, &quot;[3, 3]&quot;, &quot;[4]&quot;.</span><br><span class=\"line\">In each diagonal all elements are the same, so the answer is True.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåµŒå¥—å¾ªç¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isToeplitzMatrix</span><span class=\"params\">(self, matrix: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(x==<span class=\"number\">0</span> <span class=\"keyword\">or</span> y==<span class=\"number\">0</span> <span class=\"keyword\">or</span> matrix[x<span class=\"number\">-1</span>][y<span class=\"number\">-1</span>]==val</span><br><span class=\"line\">               <span class=\"keyword\">for</span> x, rows <span class=\"keyword\">in</span> enumerate(matrix)</span><br><span class=\"line\">               <span class=\"keyword\">for</span> y, val <span class=\"keyword\">in</span> enumerate(rows))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ‡ç‰‡ï¼Œä¸ä¸Šè¿°æ–¹æ³•åœ¨æ•ˆç‡ç©ºé—´ä¸Šæ²¡æœ‰å·®è·ï¼Œæ›´å–œæ¬¢è¿™ä¸ªæ–¹æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isToeplitzMatrix</span><span class=\"params\">(self, matrix: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(matrix[i][<span class=\"number\">1</span>:]==matrix[i<span class=\"number\">-1</span>][:<span class=\"number\">-1</span>]</span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(matrix)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"830-Positions-of-Large-Groups\"><a href=\"#830-Positions-of-Large-Groups\" class=\"headerlink\" title=\"830. Positions of Large Groups\"></a>830. Positions of Large Groups</h3><h4 id=\"æ ¹æ®æŒ‡å®šå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè¶…è¿‡ä¸‰ä¸ªå…ƒç´ çš„ç§°ä¸ºå¤§ç»„ï¼Œæ±‚æ‰€æœ‰å¤§ç»„çš„ä½ç½®ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®æŒ‡å®šå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè¶…è¿‡ä¸‰ä¸ªå…ƒç´ çš„ç§°ä¸ºå¤§ç»„ï¼Œæ±‚æ‰€æœ‰å¤§ç»„çš„ä½ç½®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®æŒ‡å®šå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè¶…è¿‡ä¸‰ä¸ªå…ƒç´ çš„ç§°ä¸ºå¤§ç»„ï¼Œæ±‚æ‰€æœ‰å¤§ç»„çš„ä½ç½®ã€‚åŸé¢˜\"></a>æ ¹æ®æŒ‡å®šå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè¶…è¿‡ä¸‰ä¸ªå…ƒç´ çš„ç§°ä¸ºå¤§ç»„ï¼Œæ±‚æ‰€æœ‰å¤§ç»„çš„ä½ç½®ã€‚<a href=\"https://leetcode.com/problems/positions-of-large-groups/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;abcdddeeeeaabbbcd&quot;</span><br><span class=\"line\">Output: [[3,5],[6,9],[12,14]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šgroupby.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largeGroupPositions</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    groups = itertools.groupby(S)</span><br><span class=\"line\">    index, ans = <span class=\"number\">0</span>, []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s, group <span class=\"keyword\">in</span> groups:</span><br><span class=\"line\">        count = len(list(group))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> count &gt;= <span class=\"number\">3</span>:</span><br><span class=\"line\">            ans.append([index, index+count<span class=\"number\">-1</span>])</span><br><span class=\"line\">        index += count</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼štwo pointers.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largeGroupPositions</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    i = <span class=\"number\">0</span> <span class=\"comment\"># start of each group</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(S)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> j == len(S)<span class=\"number\">-1</span> <span class=\"keyword\">or</span> S[j] != S[j+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j - i &gt;= <span class=\"number\">2</span>:</span><br><span class=\"line\">                ans.append([i, j])</span><br><span class=\"line\">            i = j + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"832-Flipping-an-Image\"><a href=\"#832-Flipping-an-Image\" class=\"headerlink\" title=\"832. Flipping an Image\"></a>832. Flipping an Image</h3><h4 id=\"æ°´å¹³ç¿»è½¬ä¸€å¼ å›¾ç‰‡å¹¶åè½¬-invert-åŸé¢˜\"><a href=\"#æ°´å¹³ç¿»è½¬ä¸€å¼ å›¾ç‰‡å¹¶åè½¬-invert-åŸé¢˜\" class=\"headerlink\" title=\"æ°´å¹³ç¿»è½¬ä¸€å¼ å›¾ç‰‡å¹¶åè½¬(invert). åŸé¢˜\"></a>æ°´å¹³ç¿»è½¬ä¸€å¼ å›¾ç‰‡å¹¶åè½¬(invert). <a href=\"https://leetcode.com/problems/flipping-an-image/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,1,0],[1,0,1],[0,0,0]]</span><br><span class=\"line\">Output: [[1,0,0],[0,1,0],[1,1,1]]</span><br><span class=\"line\">Explanation: First reverse each row: [[0,1,1],[1,0,1],[0,0,0]].</span><br><span class=\"line\">Then, invert the image: [[1,0,0],[0,1,0],[1,1,1]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flipAndInvertImage</span><span class=\"params\">(self, A: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[x ^ <span class=\"number\">1</span> <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> reversed(row)] <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> A]</span><br></pre></td></tr></table></figure>\n<h3 id=\"840-Magic-Squares-In-Grid\"><a href=\"#840-Magic-Squares-In-Grid\" class=\"headerlink\" title=\"840. Magic Squares In Grid\"></a>840. Magic Squares In Grid</h3><h4 id=\"æ‰¾å‡ºgridä¸­æ•°ç‹¬çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºgridä¸­æ•°ç‹¬çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºgridä¸­æ•°ç‹¬çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡ºgridä¸­æ•°ç‹¬çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/magic-squares-in-grid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[4,3,8,4],</span><br><span class=\"line\">        [9,5,1,9],</span><br><span class=\"line\">        [2,7,6,2]]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The following subgrid is a 3 x 3 magic square:</span><br><span class=\"line\">438</span><br><span class=\"line\">951</span><br><span class=\"line\">276</span><br><span class=\"line\"></span><br><span class=\"line\">while this one is not:</span><br><span class=\"line\">384</span><br><span class=\"line\">519</span><br><span class=\"line\">762</span><br><span class=\"line\"></span><br><span class=\"line\">In total, there is only one magic square inside the given grid.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numMagicSquaresInside</span><span class=\"params\">(self, grid: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    digits = set(range(<span class=\"number\">1</span>, <span class=\"number\">10</span>))</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_sudoku</span><span class=\"params\">(matrix)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> matrix[<span class=\"number\">1</span>][<span class=\"number\">1</span>] != <span class=\"number\">5</span>:   <span class=\"comment\"># for optimization</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> set(sum(matrix, [])) != digits:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> &#123;sum(row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> matrix&#125; != &#123;<span class=\"number\">15</span>&#125;:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> &#123;sum(col) <span class=\"keyword\">for</span> col <span class=\"keyword\">in</span> zip(*matrix)&#125; != &#123;<span class=\"number\">15</span>&#125;:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> matrix[<span class=\"number\">0</span>][<span class=\"number\">0</span>] + matrix[<span class=\"number\">1</span>][<span class=\"number\">1</span>] + matrix[<span class=\"number\">2</span>][<span class=\"number\">2</span>] != <span class=\"number\">15</span> <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">           matrix[<span class=\"number\">2</span>][<span class=\"number\">0</span>] + matrix[<span class=\"number\">1</span>][<span class=\"number\">1</span>] + matrix[<span class=\"number\">0</span>][<span class=\"number\">2</span>] != <span class=\"number\">15</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(grid)<span class=\"number\">-2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(grid[<span class=\"number\">0</span>])<span class=\"number\">-2</span>):</span><br><span class=\"line\">            matrix = [rows[j:j+<span class=\"number\">3</span>] <span class=\"keyword\">for</span> rows <span class=\"keyword\">in</span> grid[i:i+<span class=\"number\">3</span>]]</span><br><span class=\"line\">            <span class=\"comment\"># print(matrix)</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_sudoku(matrix):</span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå‚è€ƒäº†å¤§ç¥çš„è§£æ³•ã€‚å¤–å±‚å¾ªç¯ä¸­åªæŠŠå·¦ä¸Šè§’çš„ç‚¹ä¼ å…¥å­æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶åœ¨å¤–å¾ªç¯åˆ¤æ–­ä¸­å¿ƒç‚¹æ˜¯å¦ä¸º5ï¼›</p>\n<p>å¦å¤–ä¸€ä¸ªè§„å¾‹å°±æ˜¯ï¼Œæ»¡è¶³æ¡ä»¶æ•°ç‹¬çš„9å®«æ ¼ä¸­ï¼Œ4ä¸ªè§’éƒ½æ˜¯å¶æ•°ï¼Œ4ä¸ªè¾¹éƒ½æ˜¯å¥‡æ•°ï¼Œå¹¶ä¸”æ²¿ç€ä¸€ä¸ªæ–¹å‘å¿…ç„¶æ˜¯â€™43816729â€™çš„æ­£åºæˆ–è€…å€’åºã€‚æ‰€ä»¥å½“å·¦ä¸Šè§’ä¸ºå¶æ•°æ—¶ï¼Œå¹¶æ»¡è¶³é¡ºåºè¦æ±‚ï¼Œå¦ä¸¤ä¸ªæ¡ä»¶ä¹Ÿè‡ªç„¶æ»¡è¶³äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numMagicSquaresInside</span><span class=\"params\">(self, g: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_sudoku</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># clockwise begin i, j</span></span><br><span class=\"line\">        s = <span class=\"string\">''</span>.join(str(g[i + x//<span class=\"number\">3</span>][j + x%<span class=\"number\">3</span>])</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> (<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> g[i][j] &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span> <span class=\"keyword\">and</span> (</span><br><span class=\"line\">            s <span class=\"keyword\">in</span> <span class=\"string\">'43816729'</span>*<span class=\"number\">2</span> <span class=\"keyword\">or</span> s <span class=\"keyword\">in</span> <span class=\"string\">'43816729'</span>[::<span class=\"number\">-1</span>]*<span class=\"number\">2</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(is_sudoku(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(g)<span class=\"number\">-2</span>)</span><br><span class=\"line\">               <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(g[<span class=\"number\">0</span>])<span class=\"number\">-2</span>) <span class=\"keyword\">if</span> g[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] == <span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"849-Maximize-Distance-to-Closest-Person\"><a href=\"#849-Maximize-Distance-to-Closest-Person\" class=\"headerlink\" title=\"849. Maximize Distance to Closest Person\"></a>849. Maximize Distance to Closest Person</h3><h4 id=\"ä¸€æ’ç”µå½±é™¢åº§ä½ï¼Œç¦»äººçš„æœ€è¿œè·ç¦»ã€‚æ•°ç»„ä¸­å¿…å«æœ‰ä¸€ä¸ª1å’Œ0ã€‚åŸé¢˜\"><a href=\"#ä¸€æ’ç”µå½±é™¢åº§ä½ï¼Œç¦»äººçš„æœ€è¿œè·ç¦»ã€‚æ•°ç»„ä¸­å¿…å«æœ‰ä¸€ä¸ª1å’Œ0ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€æ’ç”µå½±é™¢åº§ä½ï¼Œç¦»äººçš„æœ€è¿œè·ç¦»ã€‚æ•°ç»„ä¸­å¿…å«æœ‰ä¸€ä¸ª1å’Œ0ã€‚åŸé¢˜\"></a>ä¸€æ’ç”µå½±é™¢åº§ä½ï¼Œç¦»äººçš„æœ€è¿œè·ç¦»ã€‚æ•°ç»„ä¸­å¿…å«æœ‰ä¸€ä¸ª1å’Œ0ã€‚<a href=\"https://leetcode.com/problems/maximize-distance-to-closest-person/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,0,0,0,1,0,1]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">If Alex sits in the second open seat (seats[2]), then the closest person has distance 2.</span><br><span class=\"line\">If Alex sits in any other open seat, the closest person has distance 1.</span><br><span class=\"line\">Thus, the maximum distance to the closest person is 2.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šgroupbyã€‚éœ€è¦æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼šä¸€ä¸ªæ˜¯groupæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¿…é¡»è½¬æˆlistæ‰å¯ä»¥æ±‚é•¿åº¦ï¼›å¦ä¸€ä¸ªåœ°æ–¹æ˜¯<code>reversed(seats)</code>ä¹Ÿæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œæ‰€ä»¥è¿™é‡Œè¦ç”¨åˆ‡ç‰‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDistToClosest</span><span class=\"params\">(self, seats: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    groups = itertools.groupby(seats)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> seat, group <span class=\"keyword\">in</span> groups:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seat:</span><br><span class=\"line\">            ans = max(ans, (len(list(group))+<span class=\"number\">1</span>) // <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(ans, seats.index(<span class=\"number\">1</span>), seats[::<span class=\"number\">-1</span>].index(<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼štwo pointers. åœ¨ç¬¬ä¸€ä¸ª1å‡ºç°ä¹‹å‰é•¿åº¦éƒ½æ˜¯jã€‚ç›´åˆ°ç¬¬äºŒä¸ª1å‡ºç°æ—¶ï¼Œè®¡ç®—æ–¹å¼å˜ä¸ºå¹³å‡æ•°ã€‚è¿™é‡Œä½¿ç”¨<code>i = j + 1</code>è€Œä¸æ˜¯<code>i = j</code>æ˜¯å› ä¸ºæœ‰æ ¹æ®iåˆ¤æ–­çš„æ¡ä»¶ï¼Œåœ¨è®¡ç®—å¹³å‡è·ç¦»æ—¶åˆå°†å…¶åŠ äº†å›æ¥ã€‚æœ€åçš„<code>len(seats)-i</code>æ˜¯ä¸ºäº†<code>[1, 0, 0, 0]</code>æœ«å°¾çš„0ä½œç»“ç®—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDistToClosest</span><span class=\"params\">(self, seats: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(seats)):</span><br><span class=\"line\">        <span class=\"comment\"># print(j, i, ans)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> seats[j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            dis = (j - i + <span class=\"number\">1</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == <span class=\"number\">0</span>:</span><br><span class=\"line\">                dis = j    </span><br><span class=\"line\">            ans = max(ans, dis)</span><br><span class=\"line\">            i = j + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># print(ans)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(ans, len(seats)-i)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ–¹æ³•äºŒçš„ç®€æ´å†™æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDistToClosest</span><span class=\"params\">(self, seats: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(seats)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> seats[j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans = max(ans, ((j-i+<span class=\"number\">1</span>)//<span class=\"number\">2</span>, j)[i==<span class=\"number\">0</span>])</span><br><span class=\"line\">            i = j + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(ans, len(seats)-i)</span><br></pre></td></tr></table></figure>\n<h3 id=\"867-Transpose-Matrix\"><a href=\"#867-Transpose-Matrix\" class=\"headerlink\" title=\"867. Transpose Matrix\"></a>867. Transpose Matrix</h3><h4 id=\"è½¬ç½®çŸ©é˜µã€‚åŸé¢˜\"><a href=\"#è½¬ç½®çŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"è½¬ç½®çŸ©é˜µã€‚åŸé¢˜\"></a>è½¬ç½®çŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/transpose-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class=\"line\">Output: [[1,4,7],[2,5,8],[3,6,9]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šzipã€‚ è¿™é‡Œtestcaseå¹¶æ²¡æœ‰æ£€æµ‹å…¶ä¸­çš„å…ƒç´ æ˜¯å¦ä¸ºlistã€‚æ‰€ä»¥ä¸éœ€è¦è½¬æ¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">transpose</span><span class=\"params\">(self, A: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(zip(*A))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šzipåŸç†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">transpose</span><span class=\"params\">(self, A: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(map(<span class=\"keyword\">lambda</span> *arg: arg, *A))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">transpose</span><span class=\"params\">(self, A: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[A[i][j] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A))]</span><br><span class=\"line\">           <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A[<span class=\"number\">0</span>]))]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šnumpy.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">transpose</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\">    <span class=\"keyword\">return</span> np.transpose(A).tolist()</span><br></pre></td></tr></table></figure>\n<h3 id=\"888-Fair-Candy-Swap\"><a href=\"#888-Fair-Candy-Swap\" class=\"headerlink\" title=\"888. Fair Candy Swap\"></a>888. Fair Candy Swap</h3><h4 id=\"å…¬å¹³çš„ç³–æœäº¤æ¢ã€‚ä¸¤ä¸ªäººæœ‰å¾ˆå¤šç³–æœé…’å§ï¼Œäº¤æ¢å…¶ä¸­ä¸€é—´ä½¿ï¼Œç³–æœç›¸åŒï¼Œå¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›ä»»æ„ä¸€ä¸ªã€‚åŸé¢˜\"><a href=\"#å…¬å¹³çš„ç³–æœäº¤æ¢ã€‚ä¸¤ä¸ªäººæœ‰å¾ˆå¤šç³–æœé…’å§ï¼Œäº¤æ¢å…¶ä¸­ä¸€é—´ä½¿ï¼Œç³–æœç›¸åŒï¼Œå¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›ä»»æ„ä¸€ä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"å…¬å¹³çš„ç³–æœäº¤æ¢ã€‚ä¸¤ä¸ªäººæœ‰å¾ˆå¤šç³–æœé…’å§ï¼Œäº¤æ¢å…¶ä¸­ä¸€é—´ä½¿ï¼Œç³–æœç›¸åŒï¼Œå¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›ä»»æ„ä¸€ä¸ªã€‚åŸé¢˜\"></a>å…¬å¹³çš„ç³–æœäº¤æ¢ã€‚ä¸¤ä¸ªäººæœ‰å¾ˆå¤šç³–æœé…’å§ï¼Œäº¤æ¢å…¶ä¸­ä¸€é—´ä½¿ï¼Œç³–æœç›¸åŒï¼Œå¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›ä»»æ„ä¸€ä¸ªã€‚<a href=\"https://leetcode.com/problems/fair-candy-swap/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [1,1], B &#x3D; [2,2]</span><br><span class=\"line\">Output: [1,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šSolutionä¸­çš„ç­”æ¡ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fairCandySwap</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>, B: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    diff = (sum(B) - sum(A)) // <span class=\"number\">2</span></span><br><span class=\"line\">    set_b = set(B)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> diff + a <span class=\"keyword\">in</span> set_b:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a, diff + a</span><br></pre></td></tr></table></figure>\n<h3 id=\"896-Monotonic-Array\"><a href=\"#896-Monotonic-Array\" class=\"headerlink\" title=\"896. Monotonic Array\"></a>896. Monotonic Array</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯å•è°ƒé€’å¢æˆ–é€’å‡ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯å•è°ƒé€’å¢æˆ–é€’å‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯å•è°ƒé€’å¢æˆ–é€’å‡ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯å•è°ƒé€’å¢æˆ–é€’å‡ã€‚<a href=\"https://leetcode.com/problems/monotonic-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,2,3]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [6,5,4,4]</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè¿­ä»£ä¸¤æ¬¡ã€‚ä½†æ˜¯ç”±äºæ˜¯ç”Ÿæˆå™¨ï¼Œå¹³å‡æ•ˆç‡æ¯”ä¸‹é¢è¦é«˜ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isMonotonic</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(A[i] &lt;= A[i+<span class=\"number\">1</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>)) <span class=\"keyword\">or</span> \\</span><br><span class=\"line\">           all(A[i] &gt;= A[i+<span class=\"number\">1</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£ä¸€æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isMonotonic</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    increasing = decreasing = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i+<span class=\"number\">1</span>] &gt; A[i]:</span><br><span class=\"line\">            decreasing = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i+<span class=\"number\">1</span>] &lt; A[i]:</span><br><span class=\"line\">            increasing = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> decreasing <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> increasing:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼špython2çš„ä¸€ç§å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isMonotonic</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> &#123;cmp(i, j) <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> zip(A, A[<span class=\"number\">1</span>:])&#125; &gt;= &#123;<span class=\"number\">1</span>, <span class=\"number\">-1</span>&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"977-Squares-of-a-Sorted-Array\"><a href=\"#977-Squares-of-a-Sorted-Array\" class=\"headerlink\" title=\"977. Squares of a Sorted Array\"></a>977. Squares of a Sorted Array</h3><h4 id=\"æ±‚ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¹³æ–¹åçš„æœ‰åºç»“æœã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¹³æ–¹åçš„æœ‰åºç»“æœã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¹³æ–¹åçš„æœ‰åºç»“æœã€‚åŸé¢˜\"></a>æ±‚ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¹³æ–¹åçš„æœ‰åºç»“æœã€‚<a href=\"https://leetcode.com/problems/squares-of-a-sorted-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [-4,-1,0,3,10]</span><br><span class=\"line\">Output: [0,1,9,16,100]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆå¡«å……æ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortedSquares</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    answer = [<span class=\"number\">0</span>] * len(A)</span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(A) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        left, right = abs(A[l]), abs(A[r])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left &gt; right:</span><br><span class=\"line\">            answer[r - l] = left * left</span><br><span class=\"line\">            l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            answer[r - l] = right * right</span><br><span class=\"line\">            r -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> answer</span><br></pre></td></tr></table></figure>\n<h3 id=\"941-Valid-Mountain-Array\"><a href=\"#941-Valid-Mountain-Array\" class=\"headerlink\" title=\"941. Valid Mountain Array\"></a>941. Valid Mountain Array</h3><h4 id=\"éªŒè¯æ˜¯å¦æ˜¯å±±å³°æ•°ç»„ï¼Œå‰æ®µå•è°ƒå¢ï¼ˆä¸é‡å¤ï¼‰ï¼Œåæ®µå•è°ƒå‡ï¼Œå¿…é¡»æ˜¯å•å³°å€¼ã€‚åŸé¢˜\"><a href=\"#éªŒè¯æ˜¯å¦æ˜¯å±±å³°æ•°ç»„ï¼Œå‰æ®µå•è°ƒå¢ï¼ˆä¸é‡å¤ï¼‰ï¼Œåæ®µå•è°ƒå‡ï¼Œå¿…é¡»æ˜¯å•å³°å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯æ˜¯å¦æ˜¯å±±å³°æ•°ç»„ï¼Œå‰æ®µå•è°ƒå¢ï¼ˆä¸é‡å¤ï¼‰ï¼Œåæ®µå•è°ƒå‡ï¼Œå¿…é¡»æ˜¯å•å³°å€¼ã€‚åŸé¢˜\"></a>éªŒè¯æ˜¯å¦æ˜¯å±±å³°æ•°ç»„ï¼Œå‰æ®µå•è°ƒå¢ï¼ˆä¸é‡å¤ï¼‰ï¼Œåæ®µå•è°ƒå‡ï¼Œå¿…é¡»æ˜¯å•å³°å€¼ã€‚<a href=\"https://leetcode.com/problems/valid-mountain-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,3,2,1]</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¼ ç»Ÿè¿­ä»£æ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    increasing = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] == A[i+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; A[i+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            increasing = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> increasing <span class=\"keyword\">and</span> (A[i] &lt; A[i+<span class=\"number\">1</span>] <span class=\"keyword\">or</span> i ==<span class=\"number\">0</span>):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == len(A)<span class=\"number\">-2</span> <span class=\"keyword\">and</span> increasing:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(A) &gt;= <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•æŒºæ–°é¢–ï¼Œæ ¹æ®å€¼æ¥é€’å¢ç´¢å¼•ã€‚ä¸­é€”æš‚åœä¸€ä¸‹åˆ¤æ–­å³°å€¼æ˜¯å¦åœ¨é¦–ä½ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(A)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r <span class=\"keyword\">and</span> A[l] &lt; A[l+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        l += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> l==<span class=\"number\">0</span> <span class=\"keyword\">or</span> l == r:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r <span class=\"keyword\">and</span> A[l] &gt; A[l+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        l += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> l == r</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šLeeç¥çš„åŒæŒ‡é’ˆï¼Œæƒ³è±¡ä¸¤ä¸ªäººåŒæ—¶ä»å·¦å³ä¸¤è¾¹çˆ¬å±±ï¼Œæœ€ç»ˆæ˜¯å¦ç›¸é‡åœ¨ä¸€ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    l, r, n = <span class=\"number\">0</span>, len(A)<span class=\"number\">-1</span>, len(A)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r <span class=\"keyword\">and</span> A[l] &lt; A[l+<span class=\"number\">1</span>]: l += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> r &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> A[r] &lt; A[r<span class=\"number\">-1</span>]: r -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span> &lt; l==r &lt; n<span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"845-Longest-Mountain-in-Array\"><a href=\"#845-Longest-Mountain-in-Array\" class=\"headerlink\" title=\"845. Longest Mountain in Array\"></a><a href=\"https://leetcode.com/problems/longest-mountain-in-array/\" target=\"_blank\" rel=\"noopener\">845. Longest Mountain in Array</a></h3><h4 id=\"æ•°ç»„ä¸­æœ€é•¿çš„å±±å³°ã€‚é¢˜å’Œå­—ç¬¦ä¸²ç¯‡821ä¸€æ ·çš„è§£æ³•ã€‚\"><a href=\"#æ•°ç»„ä¸­æœ€é•¿çš„å±±å³°ã€‚é¢˜å’Œå­—ç¬¦ä¸²ç¯‡821ä¸€æ ·çš„è§£æ³•ã€‚\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æœ€é•¿çš„å±±å³°ã€‚é¢˜å’Œå­—ç¬¦ä¸²ç¯‡821ä¸€æ ·çš„è§£æ³•ã€‚\"></a>æ•°ç»„ä¸­æœ€é•¿çš„å±±å³°ã€‚é¢˜å’Œå­—ç¬¦ä¸²ç¯‡821ä¸€æ ·çš„è§£æ³•ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,1,4,7,3,2,5]</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: The largest mountain is [1,4,7,3,2] which has length 5.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå·¦å³å„éå†ä¸€æ¬¡ã€‚æ­¤é¢˜æœ‰å¾ˆå¤šç›¸ä¼¼é¢˜éƒ½æœ‰è¿™ä¸ªè§£æ³•ã€‚53 Maximum Subarrayï¼Œ121 Best Time to Buy and Sell Stockï¼Œ152 Maximum Product Subarrayï¼Œ238 Product of Array Except Selfï¼Œ739 Daily Temperaturesï¼Œ769 Max Chunks to Make Sortedï¼Œ770 Max Chunks to Make Sorted IIï¼Œ821 Shortest Distance to a Characterï¼Œ845 Longest Mountain in Array</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestMountain</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    N = len(A)</span><br><span class=\"line\">    left = [<span class=\"number\">0</span>] * N</span><br><span class=\"line\">    right = [<span class=\"number\">0</span>] * N</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; A[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            left[i] += left[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>): </span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &lt; A[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            right[i<span class=\"number\">-1</span>] += right[i] + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max((l+r+<span class=\"number\">1</span> <span class=\"keyword\">for</span> l, r <span class=\"keyword\">in</span> zip(left, right) <span class=\"keyword\">if</span> l <span class=\"keyword\">and</span> r), default=<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ—¶é—´å¤æ‚åº¦è¿˜å¯ä»¥ä¼˜åŒ–ï¼Œç©ºé—´å¯ä»¥é™åˆ°O(1)ï¼Œ ä¸€æ¬¡éå†ã€‚ä½¿ç”¨ä¸¤ä¸ªæ•°å­—æ¥è¡¨ç¤ºä¸Šå¡å’Œä¸‹å¡ï¼Œå½“æœ‰ä¸‹æ‹¨å¹¶ä¸”å†æ¬¡ä¸Šå¡æ—¶ï¼Œæˆ–è€…ç›¸ç­‰çš„æ—¶å€™é‡ç½®up,downä¸º0ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestMountain</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    res = up = down = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> down <span class=\"keyword\">and</span> A[i]&gt;A[i<span class=\"number\">-1</span>] <span class=\"keyword\">or</span> A[i]==A[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            up = down = <span class=\"number\">0</span></span><br><span class=\"line\">        up += A[i] &gt; A[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        down += A[i] &lt; A[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> up <span class=\"keyword\">and</span> down: res = max(res, up+down+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"942-DI-String-Match\"><a href=\"#942-DI-String-Match\" class=\"headerlink\" title=\"942. DI String Match\"></a>942. DI String Match</h3><h4 id=\"æ ¹æ®ä¸€ä¸ªâ€IDIDâ€å­—ç¬¦ä¸²ï¼ˆIè¡¨ç¤ºå¢åŠ ï¼ŒDè¡¨ç¤ºå‡å°‘ï¼‰ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®ä¸€ä¸ªâ€IDIDâ€å­—ç¬¦ä¸²ï¼ˆIè¡¨ç¤ºå¢åŠ ï¼ŒDè¡¨ç¤ºå‡å°‘ï¼‰ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®ä¸€ä¸ªâ€IDIDâ€å­—ç¬¦ä¸²ï¼ˆIè¡¨ç¤ºå¢åŠ ï¼ŒDè¡¨ç¤ºå‡å°‘ï¼‰ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"></a>æ ¹æ®ä¸€ä¸ªâ€IDIDâ€å­—ç¬¦ä¸²ï¼ˆIè¡¨ç¤ºå¢åŠ ï¼ŒDè¡¨ç¤ºå‡å°‘ï¼‰ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/di-string-match/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;IDID&quot;</span><br><span class=\"line\">Output: [0,4,1,3,2]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">diStringMatch</span><span class=\"params\">(self, S: <span class=\"string\">'str'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    l = r = <span class=\"number\">0</span></span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s == <span class=\"string\">'I'</span>:</span><br><span class=\"line\">            r += <span class=\"number\">1</span></span><br><span class=\"line\">            ans.append(r)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans.append(l)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [x-l <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ans]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1007-Minimum-Domino-Rotations-For-Equal-Row\"><a href=\"#1007-Minimum-Domino-Rotations-For-Equal-Row\" class=\"headerlink\" title=\"1007. Minimum Domino Rotations For Equal Row\"></a>1007. Minimum Domino Rotations For Equal Row</h3><h4 id=\"æ—‹è½¬æœ€å°æ¬¡ï¼Œæ˜¯ä¸Šä¸‹çš„å¤šç±³è¯ºéª¨ç‰Œæœ‰ä¸€è¡Œå…¨éƒ¨ç›¸åŒã€‚åŸé¢˜\"><a href=\"#æ—‹è½¬æœ€å°æ¬¡ï¼Œæ˜¯ä¸Šä¸‹çš„å¤šç±³è¯ºéª¨ç‰Œæœ‰ä¸€è¡Œå…¨éƒ¨ç›¸åŒã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ—‹è½¬æœ€å°æ¬¡ï¼Œæ˜¯ä¸Šä¸‹çš„å¤šç±³è¯ºéª¨ç‰Œæœ‰ä¸€è¡Œå…¨éƒ¨ç›¸åŒã€‚åŸé¢˜\"></a>æ—‹è½¬æœ€å°æ¬¡ï¼Œæ˜¯ä¸Šä¸‹çš„å¤šç±³è¯ºéª¨ç‰Œæœ‰ä¸€è¡Œå…¨éƒ¨ç›¸åŒã€‚<a href=\"https://leetcode.com/problems/minimum-domino-rotations-for-equal-row/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶å†™çš„Brute Force.å½“æ—¶è§‰å¾—ç‚’é¸¡ç¡¬æ ¸ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDominoRotations</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = reduce(<span class=\"keyword\">lambda</span> x, y: set(x) &amp; set(y), zip(A, B))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ans:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        a = set(ans).pop()</span><br><span class=\"line\">        dul = sum(a==c==d <span class=\"keyword\">for</span> c, d <span class=\"keyword\">in</span> zip(A, B))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min(A.count(a), B.count(a)) - dul</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeç¥çš„æ–¹æ³•ã€‚æœ‰ä¸ªåœ°æ–¹æƒ³é”™äº†ï¼Œæƒ³è¦ç®—å‡ºé‡å¤çš„å€¼ï¼Œå®é™…ä¸Šå°±æ˜¯æ±‚éç›®æ ‡å€¼çš„æœ€å°å€¼å°±è¡Œäº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDominoRotations</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = reduce(<span class=\"keyword\">lambda</span> x, y: x &amp; y, map(set, zip(A, B)))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ans:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        a = ans.pop()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min(len(A)-A.count(a), len(B)-B.count(a))</span><br></pre></td></tr></table></figure>\n<h3 id=\"48-Rotate-Image\"><a href=\"#48-Rotate-Image\" class=\"headerlink\" title=\"48. Rotate Image\"></a>48. Rotate Image</h3><h4 id=\"çŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ã€‚åŸé¢˜\"></a>çŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ã€‚<a href=\"https://leetcode.com/problems/rotate-image/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given input matrix &#x3D; </span><br><span class=\"line\">[</span><br><span class=\"line\">  [1,2,3],</span><br><span class=\"line\">  [4,5,6],</span><br><span class=\"line\">  [7,8,9]</span><br><span class=\"line\">],</span><br><span class=\"line\"></span><br><span class=\"line\">rotate the input matrix in-place such that it becomes:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [7,4,1],</span><br><span class=\"line\">  [8,5,2],</span><br><span class=\"line\">  [9,6,3]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨zipã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">\tmatrix[:] = list(zip(*reversed(matrix)))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé€šç”¨å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    matrix.reverse()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(matrix)):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(matrix[<span class=\"number\">0</span>])):</span><br><span class=\"line\">            matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šæ‰¾åˆ°å››ä¸ªç‚¹ï¼Œç›´æ¥äº’æ¢ã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/rotate_img.png\" class width=\"300\" height=\"200\">\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotate</span><span class=\"params\">(self, A: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    n = len(A)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//<span class=\"number\">2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n-n//<span class=\"number\">2</span>):</span><br><span class=\"line\">            A[i][j], A[~j][i], A[~i][~j], A[j][~i] = \\</span><br><span class=\"line\">                     A[~j][i], A[~i][~j], A[j][~i], A[i][j]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1020-Partition-Array-Into-Three-Parts-With-Equal-Sum\"><a href=\"#1020-Partition-Array-Into-Three-Parts-With-Equal-Sum\" class=\"headerlink\" title=\"1020. Partition Array Into Three Parts With Equal Sum\"></a>1020. Partition Array Into Three Parts With Equal Sum</h3><h4 id=\"ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥åˆ†æˆä¸‰ä¸ªå’Œç›¸åŒçš„éƒ¨åˆ†ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥åˆ†æˆä¸‰ä¸ªå’Œç›¸åŒçš„éƒ¨åˆ†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥åˆ†æˆä¸‰ä¸ªå’Œç›¸åŒçš„éƒ¨åˆ†ã€‚åŸé¢˜\"></a>ä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥åˆ†æˆä¸‰ä¸ªå’Œç›¸åŒçš„éƒ¨åˆ†ã€‚<a href=\"https://leetcode.com/problems/partition-array-into-three-parts-with-equal-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,2,1,-6,6,-7,9,1,2,0,1]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: 0 + 2 + 1 &#x3D; -6 + 6 - 7 + 9 + 1 &#x3D; 2 + 0 + 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶å†™çš„Time: O(nÂ²)çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canThreePartsEqualSum</span><span class=\"params\">(self, A: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    a = list(itertools.accumulate(A))</span><br><span class=\"line\">    n, a_set = len(a), set(a)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, total <span class=\"keyword\">in</span> enumerate(a):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> total==a[<span class=\"number\">-1</span>]//<span class=\"number\">3</span> <span class=\"keyword\">and</span> total*<span class=\"number\">2</span> <span class=\"keyword\">in</span> a_set:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n<span class=\"number\">-1</span>-a[::<span class=\"number\">-1</span>].index(total*<span class=\"number\">2</span>) &gt; i:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå…¶å®ä¸éœ€è¦éå†ã€‚æ¯éƒ¨åˆ†çš„å’Œå¯ä»¥é€šè¿‡æ€»å’Œ/3å¾—åˆ°ã€‚æ¯”å¦‚æ¯éƒ¨åˆ†å’Œä¸º3ï¼Œåªè¦æ‰¾åˆ°3å’Œ6ï¼Œå¹¶ä¸”3åœ¨6çš„å·¦è¾¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canThreePartsEqualSum</span><span class=\"params\">(self, A: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    a = list(itertools.accumulate(A))</span><br><span class=\"line\">    total = sum(A)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    one = total // <span class=\"number\">3</span></span><br><span class=\"line\">    two = one * <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> one <span class=\"keyword\">in</span> a:</span><br><span class=\"line\">        l_index = a.index(one)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> two <span class=\"keyword\">in</span> a[l_index:]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1021-Best-Sightseeing-Pair\"><a href=\"#1021-Best-Sightseeing-Pair\" class=\"headerlink\" title=\"1021. Best Sightseeing Pair\"></a>1021. Best Sightseeing Pair</h3><h4 id=\"å¾—åˆ†æœ€é«˜çš„ä¸¤ä¸ªæ™¯ç‚¹ã€‚åŸé¢˜\"><a href=\"#å¾—åˆ†æœ€é«˜çš„ä¸¤ä¸ªæ™¯ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¾—åˆ†æœ€é«˜çš„ä¸¤ä¸ªæ™¯ç‚¹ã€‚åŸé¢˜\"></a>å¾—åˆ†æœ€é«˜çš„ä¸¤ä¸ªæ™¯ç‚¹ã€‚<a href=\"https://leetcode.com/problems/best-sightseeing-pair/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>ä¸¤ä¸ªæ™¯ç‚¹ä¹‹é—´æœ‰è·ç¦»ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [8,1,5,2,6]</span><br><span class=\"line\">Output: 11</span><br><span class=\"line\">Explanation: i &#x3D; 0, j &#x3D; 2, A[i] + A[j] + i - j &#x3D; 8 + 5 + 0 - 2 &#x3D; 11</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š<code>cur</code>ä¿å­˜ç€ä¸€ä¸ªä¸Šä¸€æ¬¡æœ€å¥½çš„æ™¯ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxScoreSightseeingPair</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cur = res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        res = max(res, cur + a)</span><br><span class=\"line\">        cur = max(cur, a) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"56-Merge-Intervals\"><a href=\"#56-Merge-Intervals\" class=\"headerlink\" title=\"56. Merge Intervals\"></a>56. Merge Intervals</h3><h4 id=\"åˆå¹¶æ—¶é—´æ®µã€‚å¦‚æœæ—¶é—´æ®µæœ‰é‡å ï¼Œåˆ™å°†å…¶åˆå¹¶æˆä¸€ä¸ªã€‚åŸé¢˜\"><a href=\"#åˆå¹¶æ—¶é—´æ®µã€‚å¦‚æœæ—¶é—´æ®µæœ‰é‡å ï¼Œåˆ™å°†å…¶åˆå¹¶æˆä¸€ä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆå¹¶æ—¶é—´æ®µã€‚å¦‚æœæ—¶é—´æ®µæœ‰é‡å ï¼Œåˆ™å°†å…¶åˆå¹¶æˆä¸€ä¸ªã€‚åŸé¢˜\"></a>åˆå¹¶æ—¶é—´æ®µã€‚å¦‚æœæ—¶é—´æ®µæœ‰é‡å ï¼Œåˆ™å°†å…¶åˆå¹¶æˆä¸€ä¸ªã€‚<a href=\"https://leetcode.com/problems/merge-intervals/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,3],[2,6],[8,10],[15,18]]</span><br><span class=\"line\">Output: [[1,6],[8,10],[15,18]]</span><br><span class=\"line\">Explanation: Since intervals [1,3] and [2,6] overlaps, merge them into [1,6].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆæ’åºï¼Œåœ¨æ ¹æ®æ¡ä»¶åˆ¤æ–­æ˜¯åˆå¹¶è¿˜æ˜¯ä¿®æ”¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># class Interval:</span></span><br><span class=\"line\"><span class=\"comment\">#     def __init__(self, s=0, e=0):</span></span><br><span class=\"line\"><span class=\"comment\">#         self.start = s</span></span><br><span class=\"line\"><span class=\"comment\">#         self.end = e</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge</span><span class=\"params\">(self, intervals: List[Interval])</span> -&gt; List[Interval]:</span></span><br><span class=\"line\">        intervals.sort(key=operator.attrgetter(<span class=\"string\">'start'</span>))</span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> interval <span class=\"keyword\">in</span> intervals:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ans <span class=\"keyword\">or</span> ans[<span class=\"number\">-1</span>].end &lt; interval.start:</span><br><span class=\"line\">                ans.append(interval)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans[<span class=\"number\">-1</span>].end = max(ans[<span class=\"number\">-1</span>].end, interval.end)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"57-Insert-Interval\"><a href=\"#57-Insert-Interval\" class=\"headerlink\" title=\"57. Insert Interval\"></a>57. Insert Interval</h3><h4 id=\"æœ‰ä¸€ä¸ªæ’å¥½åºçš„æ—¶é—´æ®µï¼Œå¹¶ä¸”æ²¡æœ‰é‡å¤ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æ®µï¼Œè¦æ±‚æ’å…¥å…¶ä¸­ï¼Œå¦‚æœæœ‰é‡åˆéœ€è¦åˆå¹¶ã€‚åŸé¢˜\"><a href=\"#æœ‰ä¸€ä¸ªæ’å¥½åºçš„æ—¶é—´æ®µï¼Œå¹¶ä¸”æ²¡æœ‰é‡å¤ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æ®µï¼Œè¦æ±‚æ’å…¥å…¶ä¸­ï¼Œå¦‚æœæœ‰é‡åˆéœ€è¦åˆå¹¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰ä¸€ä¸ªæ’å¥½åºçš„æ—¶é—´æ®µï¼Œå¹¶ä¸”æ²¡æœ‰é‡å¤ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æ®µï¼Œè¦æ±‚æ’å…¥å…¶ä¸­ï¼Œå¦‚æœæœ‰é‡åˆéœ€è¦åˆå¹¶ã€‚åŸé¢˜\"></a>æœ‰ä¸€ä¸ªæ’å¥½åºçš„æ—¶é—´æ®µï¼Œå¹¶ä¸”æ²¡æœ‰é‡å¤ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æ®µï¼Œè¦æ±‚æ’å…¥å…¶ä¸­ï¼Œå¦‚æœæœ‰é‡åˆéœ€è¦åˆå¹¶ã€‚<a href=\"https://leetcode.com/problems/insert-interval/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: intervals &#x3D; [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval &#x3D; [4,8]</span><br><span class=\"line\">Output: [[1,2],[3,10],[12,16]]</span><br><span class=\"line\">Explanation: Because the new interval [4,8] overlaps with [3,5],[6,7],[8,10].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”¨56çš„æ–¹æ³•åˆå¹¶ï¼Œä½¿ç”¨äºŒåˆ†æ³•å°†å…¶æ’å…¥ã€‚140msã€‚è¿™é¢˜æœ¬æ¥æƒ³ç”¨äºŒåˆ†æ³•æ‰¾åˆ°ç´¢å¼•ï¼Œç„¶åå‰ååˆ‡ç‰‡åšï¼Œåæ¥å‘ç°è¾¹ç•Œå¤ªå¤šä¸å¥½åˆ¤æ–­ï¼Œè¿˜æ˜¯ä»å¤´åˆ°å°¾éå†ä¸€éæ¯”è¾ƒç¨³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, inter: List[List[int]], newInterval: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    n = len(inter)</span><br><span class=\"line\">    i = bisect.insort(inter, [*newInterval])</span><br><span class=\"line\">    <span class=\"comment\"># print(inter, i)</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> stack <span class=\"keyword\">or</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] &lt; inter[j][<span class=\"number\">0</span>]:</span><br><span class=\"line\">            stack.append(inter[j])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] = max(stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>], inter[j][<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stack</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstefançš„æ–¹æ³•1ï¼Œæˆ‘æ”¹äº†ç‚¹ï¼Œæ¡ä»¶è¯­å¥æ”¹æˆé•¿åº¦æ¯”è¾ƒäº†ã€‚å¯å‘1ï¼Œç”¨é•¿åº¦è®°å½•ç´¢å¼•ï¼Œç®€æ´æ˜äº†ã€‚72ms</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, inter: List[List[int]], newInterval: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    s, e = newInterval</span><br><span class=\"line\">    left = [i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> inter <span class=\"keyword\">if</span> i[<span class=\"number\">1</span>] &lt; s]</span><br><span class=\"line\">    right = [i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> inter <span class=\"keyword\">if</span> i[<span class=\"number\">0</span>] &gt; e]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(left) + len(right) != len(inter):</span><br><span class=\"line\">        s = min(s, inter[len(left)][<span class=\"number\">0</span>])</span><br><span class=\"line\">        e = max(e, inter[~len(right)][<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> left + [[s, e]] + right</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šstefançš„æ–¹æ³•2ï¼Œå’Œæ–¹æ³•äºŒæ€è·¯ä¸€æ ·ï¼Œå†™æ³•ä¸Šä¸åŒã€‚righté‡Œæ·»åŠ æ—¶ç´¢å¼•æ˜¯-1ã€‚è¿˜æœ‰ä¸€ç§ä¸€æ¬¡éå†çš„å®ç°å°±æ˜¯æ¯æ¬¡éƒ½æ±‚ä¸€ä¸‹s, eã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, inter: List[List[int]], newInterval: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    s, e = newInterval</span><br><span class=\"line\">    parts = merge, left, right = [], [], []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> start, end <span class=\"keyword\">in</span> inter:</span><br><span class=\"line\">        parts[(end&lt;s) - (start&gt;e)].append((start, end))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> merge:</span><br><span class=\"line\">        s = min(s, merge[<span class=\"number\">0</span>][<span class=\"number\">0</span>])</span><br><span class=\"line\">        e = max(e, merge[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> left + [[s, e]] + right</span><br></pre></td></tr></table></figure>\n<h3 id=\"1030-Matrix-Cells-in-Distance-Order\"><a href=\"#1030-Matrix-Cells-in-Distance-Order\" class=\"headerlink\" title=\"1030. Matrix Cells in Distance Order\"></a>1030. Matrix Cells in Distance Order</h3><h4 id=\"çŸ©é˜µåæ ‡è·ç¦»æŒ‡å®šç‚¹çš„æ’åºã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µåæ ‡è·ç¦»æŒ‡å®šç‚¹çš„æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µåæ ‡è·ç¦»æŒ‡å®šç‚¹çš„æ’åºã€‚åŸé¢˜\"></a>çŸ©é˜µåæ ‡è·ç¦»æŒ‡å®šç‚¹çš„æ’åºã€‚<a href=\"https://leetcode.com/problems/matrix-cells-in-distance-order/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: R &#x3D; 2, C &#x3D; 2, r0 &#x3D; 0, c0 &#x3D; 1</span><br><span class=\"line\">Output: [[0,1],[0,0],[1,1],[1,0]]</span><br><span class=\"line\">Explanation: The distances from (r0, c0) to other cells are: [0,1,1,2]</span><br><span class=\"line\">The answer [[0,1],[1,1],[0,0],[1,0]] would also be accepted as correct.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">allCellsDistOrder</span><span class=\"params\">(self, R: int, C: int, r0: int, c0: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    cells = [[x, y] <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(R) <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(C)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(cells, key=<span class=\"keyword\">lambda</span> x: abs(x[<span class=\"number\">0</span>]-r0)+abs(x[<span class=\"number\">1</span>]-c0))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1033-Moving-Stones-Until-Consecutive\"><a href=\"#1033-Moving-Stones-Until-Consecutive\" class=\"headerlink\" title=\"1033. Moving Stones Until Consecutive\"></a>1033. Moving Stones Until Consecutive</h3><h4 id=\"ä¸‰ä¸ªçŸ³å­ç§»åˆ°è¿ç»­çš„ä½ç½®ï¼Œæœ€å°‘å’Œæœ€å¤šéœ€è¦å‡ æ­¥ã€‚åŸé¢˜\"><a href=\"#ä¸‰ä¸ªçŸ³å­ç§»åˆ°è¿ç»­çš„ä½ç½®ï¼Œæœ€å°‘å’Œæœ€å¤šéœ€è¦å‡ æ­¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸‰ä¸ªçŸ³å­ç§»åˆ°è¿ç»­çš„ä½ç½®ï¼Œæœ€å°‘å’Œæœ€å¤šéœ€è¦å‡ æ­¥ã€‚åŸé¢˜\"></a>ä¸‰ä¸ªçŸ³å­ç§»åˆ°è¿ç»­çš„ä½ç½®ï¼Œæœ€å°‘å’Œæœ€å¤šéœ€è¦å‡ æ­¥ã€‚<a href=\"https://leetcode.com/problems/moving-stones-until-consecutive/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: a &#x3D; 1, b &#x3D; 2, c &#x3D; 5</span><br><span class=\"line\">Output: [1,2]</span><br><span class=\"line\">Explanation: Move the stone from 5 to 3, or move the stone from 5 to 4 to 3.</span><br><span class=\"line\">Input: a &#x3D; 4, b &#x3D; 3, c &#x3D; 2</span><br><span class=\"line\">Output: [0,0]</span><br><span class=\"line\">Explanation: We cannot make any moves.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numMovesStones</span><span class=\"params\">(self, a: int, b: int, c: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    a, b, c = sorted((a, b, c))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> c-b==<span class=\"number\">1</span> <span class=\"keyword\">and</span> b-a==<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>, c-a<span class=\"number\">-2</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> c-b&lt;=<span class=\"number\">2</span> <span class=\"keyword\">or</span> b-a&lt;=<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span>, c-a<span class=\"number\">-2</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span>, c-a<span class=\"number\">-2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1051-Height-Checker\"><a href=\"#1051-Height-Checker\" class=\"headerlink\" title=\"1051. Height Checker\"></a>1051. Height Checker</h3><h4 id=\"é«˜åº¦æ£€æŸ¥ã€‚åŸé¢˜\"><a href=\"#é«˜åº¦æ£€æŸ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é«˜åº¦æ£€æŸ¥ã€‚åŸé¢˜\"></a>é«˜åº¦æ£€æŸ¥ã€‚<a href=\"https://leetcode.com/problems/height-checker/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">heightChecker</span><span class=\"params\">(self, heights: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(a!=b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(heights, sorted(heights)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1052-Grumpy-Bookstore-Owner\"><a href=\"#1052-Grumpy-Bookstore-Owner\" class=\"headerlink\" title=\"1052. Grumpy Bookstore Owner\"></a>1052. Grumpy Bookstore Owner</h3><h4 id=\"è¿™é¢˜æè¿°çš„æ¯”è¾ƒæŠ½è±¡ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ»‘åŠ¨çª—å£çš„é—®é¢˜ã€‚åŸé¢˜\"><a href=\"#è¿™é¢˜æè¿°çš„æ¯”è¾ƒæŠ½è±¡ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ»‘åŠ¨çª—å£çš„é—®é¢˜ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é¢˜æè¿°çš„æ¯”è¾ƒæŠ½è±¡ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ»‘åŠ¨çª—å£çš„é—®é¢˜ã€‚åŸé¢˜\"></a>è¿™é¢˜æè¿°çš„æ¯”è¾ƒæŠ½è±¡ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ»‘åŠ¨çª—å£çš„é—®é¢˜ã€‚<a href=\"https://leetcode.com/problems/grumpy-bookstore-owner/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æˆ‘ç”¨çš„åŒç«¯é˜Ÿåˆ—ï¼Œå¹¶ä¸”ä½¿ç”¨äº†compress.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSatisfied</span><span class=\"params\">(self, customers: List[int], grumpy: List[int], X: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> compress</span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> deque</span><br><span class=\"line\">    base_satisfied = sum(compress(customers, map(<span class=\"keyword\">lambda</span> x: x^<span class=\"number\">1</span>, grumpy)))</span><br><span class=\"line\">    q = deque([customers[i] <span class=\"keyword\">if</span> grumpy[i]==<span class=\"number\">1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span>  <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(X)])</span><br><span class=\"line\">    cur_sum = <span class=\"number\">0</span></span><br><span class=\"line\">    max_sum = cur_sum</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(grumpy)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> grumpy[i] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            q.append(customers[i])</span><br><span class=\"line\">            cur_sum += q[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            q.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">        cur_sum -= q.popleft()</span><br><span class=\"line\">        max_sum = max(max_sum, cur_sum)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max_sum + base_satisfied</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå…¶å®ä¸éœ€è¦åŒç«¯é˜Ÿåˆ—ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSatisfied</span><span class=\"params\">(self, customers: List[int], grumpy: List[int], X: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(grumpy)</span><br><span class=\"line\">    base = sum(c <span class=\"keyword\">for</span> c, g <span class=\"keyword\">in</span> zip(customers, grumpy) <span class=\"keyword\">if</span> g == <span class=\"number\">0</span>)</span><br><span class=\"line\">    max_added = added = sum(c <span class=\"keyword\">for</span> c, g <span class=\"keyword\">in</span> zip(customers, grumpy[:X]) <span class=\"keyword\">if</span> g == <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(X, n):</span><br><span class=\"line\">        added -= customers[i-X] * grumpy[i-X]</span><br><span class=\"line\">        added += customers[i] * grumpy[i]</span><br><span class=\"line\">        max_added = max(max_added, added)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max_added + base</span><br></pre></td></tr></table></figure>\n<h3 id=\"1139-Largest-1-Bordered-Square\"><a href=\"#1139-Largest-1-Bordered-Square\" class=\"headerlink\" title=\"1139. Largest 1-Bordered Square\"></a>1139. Largest 1-Bordered Square</h3><h4 id=\"æœ€å¤§çš„ä»¥1ä¸ºè¾¹é•¿çš„æ­£æ–¹å½¢ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„ä»¥1ä¸ºè¾¹é•¿çš„æ­£æ–¹å½¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„ä»¥1ä¸ºè¾¹é•¿çš„æ­£æ–¹å½¢ã€‚åŸé¢˜\"></a>æœ€å¤§çš„ä»¥1ä¸ºè¾¹é•¿çš„æ­£æ–¹å½¢ã€‚<a href=\"https://leetcode.com/problems/largest-1-bordered-square/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[1,1,1],[1,0,1],[1,1,1]]</span><br><span class=\"line\">Output: 9</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¼€å§‹ä»¥ä¸ºåƒå…¶ä»–å°å²›é—®é¢˜é‚£æ ·ï¼Œè¦å›æº¯å»¶ä¼¸ã€‚å…¶å®æ­¤é¢˜æ˜¯æš´åŠ›æ³•ã€‚å…ˆå¯¹æ•°ç»„è¿›è¡Œä¸€ä¸ªé¢„å¤„ç†ï¼Œåˆ¤æ–­æ¯ä¸ªç‚¹ä¸Šé¢å’Œå·¦é¢è¿ç»­çš„1çš„ä¸ªæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largest1BorderedSquare</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">from</span> copy <span class=\"keyword\">import</span> deepcopy</span><br><span class=\"line\">    top, left = deepcopy(g), deepcopy(g)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> i: top[i][j] = top[i - <span class=\"number\">1</span>][j] + <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> j: left[i][j] = left[i][j - <span class=\"number\">1</span>] + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> range(min(R, C), <span class=\"number\">0</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R-w+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C-w+<span class=\"number\">1</span>):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> top[i+w<span class=\"number\">-1</span>][j] &gt;= w <span class=\"keyword\">and</span> top[i+w<span class=\"number\">-1</span>][j+w<span class=\"number\">-1</span>] &gt;= w:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> left[i][j+w<span class=\"number\">-1</span>] &gt;= w <span class=\"keyword\">and</span> left[i+w<span class=\"number\">-1</span>][j+w<span class=\"number\">-1</span>] &gt;= w:</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> w * w</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1078-Occurrences-After-Bigram\"><a href=\"#1078-Occurrences-After-Bigram\" class=\"headerlink\" title=\"1078. Occurrences After Bigram\"></a>1078. Occurrences After Bigram</h3><h4 id=\"æ‰“å°ç¬¬ä¸‰ä¸ªå•è¯ã€‚åŸé¢˜\"><a href=\"#æ‰“å°ç¬¬ä¸‰ä¸ªå•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰“å°ç¬¬ä¸‰ä¸ªå•è¯ã€‚åŸé¢˜\"></a>æ‰“å°ç¬¬ä¸‰ä¸ªå•è¯ã€‚<a href=\"https://leetcode.com/problems/occurrences-after-bigram/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: text &#x3D; &quot;alice is a good girl she is a good student&quot;, first &#x3D; &quot;a&quot;, second &#x3D; &quot;good&quot;</span><br><span class=\"line\">Output: [&quot;girl&quot;,&quot;student&quot;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findOcurrences</span><span class=\"params\">(self, text: str, first: str, second: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    words = text.split()</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(words)<span class=\"number\">-2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> words[i] == first <span class=\"keyword\">and</span> words[i+<span class=\"number\">1</span>] == second:</span><br><span class=\"line\">            ans.append(words[i+<span class=\"number\">2</span>]) </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1144-Decrease-Elements-To-Make-Array-Zigzag\"><a href=\"#1144-Decrease-Elements-To-Make-Array-Zigzag\" class=\"headerlink\" title=\"1144. Decrease Elements To Make Array Zigzag\"></a>1144. Decrease Elements To Make Array Zigzag</h3><h4 id=\"æ¯æ¬¡æ“ä½œæŸä¸ªå…ƒç´ -1ï¼Œå¤šå°‘æ¬¡æ“ä½œåï¼Œå¯ä»¥ä½¿æ•°ç»„ç§°ä¸ºä¸€ä¸ªzigzagã€‚åŸé¢˜\"><a href=\"#æ¯æ¬¡æ“ä½œæŸä¸ªå…ƒç´ -1ï¼Œå¤šå°‘æ¬¡æ“ä½œåï¼Œå¯ä»¥ä½¿æ•°ç»„ç§°ä¸ºä¸€ä¸ªzigzagã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯æ¬¡æ“ä½œæŸä¸ªå…ƒç´ -1ï¼Œå¤šå°‘æ¬¡æ“ä½œåï¼Œå¯ä»¥ä½¿æ•°ç»„ç§°ä¸ºä¸€ä¸ªzigzagã€‚åŸé¢˜\"></a>æ¯æ¬¡æ“ä½œæŸä¸ªå…ƒç´ -1ï¼Œå¤šå°‘æ¬¡æ“ä½œåï¼Œå¯ä»¥ä½¿æ•°ç»„ç§°ä¸ºä¸€ä¸ªzigzagã€‚<a href=\"https://leetcode.com/problems/decrease-elements-to-make-array-zigzag/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [9,6,1,6,2]</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›çš„æ–¹æ³•ã€‚éå†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">movesToMakeZigzag</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    even_sum = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n, <span class=\"number\">2</span>):</span><br><span class=\"line\">        left = float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> <span class=\"keyword\">else</span> nums[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        right = float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">if</span> i == n<span class=\"number\">-1</span> <span class=\"keyword\">else</span> nums[i+<span class=\"number\">1</span>]</span><br><span class=\"line\">        to_add = nums[i]-min(left, right)+<span class=\"number\">1</span></span><br><span class=\"line\">        even_sum += to_add <span class=\"keyword\">if</span> to_add &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    odd_sum = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n, <span class=\"number\">2</span>):</span><br><span class=\"line\">        left = float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> <span class=\"keyword\">else</span> nums[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        right = float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">if</span> i == n<span class=\"number\">-1</span> <span class=\"keyword\">else</span> nums[i+<span class=\"number\">1</span>]</span><br><span class=\"line\">        to_min = nums[i]-min(left, right)+<span class=\"number\">1</span></span><br><span class=\"line\">        odd_sum += to_min <span class=\"keyword\">if</span> to_min &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(even_sum, odd_sum)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ©ç”¨å¥‡å¶æ€§ï¼Œæ•´åˆåˆ°ä¸€æ¬¡å¾ªç¯ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">movesToMakeZigzag</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">    ary = [float(<span class=\"string\">'inf'</span>)] + nums + [float(<span class=\"string\">'inf'</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(ary)<span class=\"number\">-1</span>):  </span><br><span class=\"line\">        ans[i % <span class=\"number\">2</span>] += max(<span class=\"number\">0</span>, ary[i]-min(ary[i<span class=\"number\">-1</span>], ary[i+<span class=\"number\">1</span>])+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(ans)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1089-Duplicate-Zeros\"><a href=\"#1089-Duplicate-Zeros\" class=\"headerlink\" title=\"1089. Duplicate Zeros\"></a>1089. Duplicate Zeros</h3><h4 id=\"å¤åˆ¶æ•°ç»„ä¸­çš„0ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œå¤šå‡ºçš„å…ƒç´ å°†è¢«â€œæŒ¤æ‰â€ã€‚è¦æ±‚åœ¨åŸæ•°ç»„ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"><a href=\"#å¤åˆ¶æ•°ç»„ä¸­çš„0ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œå¤šå‡ºçš„å…ƒç´ å°†è¢«â€œæŒ¤æ‰â€ã€‚è¦æ±‚åœ¨åŸæ•°ç»„ä¸Šä¿®æ”¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¤åˆ¶æ•°ç»„ä¸­çš„0ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œå¤šå‡ºçš„å…ƒç´ å°†è¢«â€œæŒ¤æ‰â€ã€‚è¦æ±‚åœ¨åŸæ•°ç»„ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"></a>å¤åˆ¶æ•°ç»„ä¸­çš„0ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œå¤šå‡ºçš„å…ƒç´ å°†è¢«â€œæŒ¤æ‰â€ã€‚è¦æ±‚åœ¨åŸæ•°ç»„ä¸Šä¿®æ”¹ã€‚<a href=\"https://leetcode.com/problems/duplicate-zeros/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,0,2,3,0,4,5,0]</span><br><span class=\"line\">Output: null</span><br><span class=\"line\">Explanation: After calling your function, the input array is modified to: [1,0,0,2,3,0,0,4]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶çš„æ–¹æ³•ï¼Œéœ€è¦æ³¨æ„æœ«å°¾ä¸è¦å¤šåŠ 0ã€‚ç©ºé—´å¤æ‚åº¦è¿‡é«˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">duplicateZeros</span><span class=\"params\">(self, arr: List[int])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># arr_reversed = arr[::-1]</span></span><br><span class=\"line\">    <span class=\"comment\"># ans = []</span></span><br><span class=\"line\">    <span class=\"comment\"># while len(ans) &lt; len(arr):</span></span><br><span class=\"line\">    <span class=\"comment\">#     val = arr_reversed.pop()</span></span><br><span class=\"line\">    <span class=\"comment\">#     if val == 0 and len(ans) &lt; len(arr)-1:</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans.extend([0, 0])</span></span><br><span class=\"line\">    <span class=\"comment\">#     else:</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans.append(val)</span></span><br><span class=\"line\">    <span class=\"comment\"># arr[:] = ans</span></span><br><span class=\"line\">    arr[:] = [x <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> arr <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ([a] <span class=\"keyword\">if</span> a <span class=\"keyword\">else</span> [<span class=\"number\">0</span>, <span class=\"number\">0</span>])][:len(arr)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆçš„O(1)Spaceã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">duplicateZeros</span><span class=\"params\">(self, arr: List[int])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    zero_c = arr.count(<span class=\"number\">0</span>)</span><br><span class=\"line\">    n = len(arr)</span><br><span class=\"line\">    j = n + zero_c - <span class=\"number\">1</span></span><br><span class=\"line\">    i = n - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[i] != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j &lt; n:</span><br><span class=\"line\">                arr[j] = arr[i]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j &lt; n:</span><br><span class=\"line\">                arr[j] = arr[i]</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> j &lt; n:</span><br><span class=\"line\">                arr[j] = arr[i]</span><br><span class=\"line\">        j -= <span class=\"number\">1</span></span><br><span class=\"line\">        i -= <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1169-Invalid-Transactions\"><a href=\"#1169-Invalid-Transactions\" class=\"headerlink\" title=\"1169. Invalid Transactions\"></a>1169. Invalid Transactions</h3><h4 id=\"éæ³•äº¤æ˜“ï¼Œå•ç¬”é‡‘é¢å¤§äº1000ï¼Œæˆ–è€…60åˆ†é’Ÿå†…æœ‰å¼‚åœ°äº¤æ˜“ï¼Œé‚£ä¹ˆä¸ºéæ³•äº¤æ˜“ã€‚åˆ—å‡ºæ‰€æœ‰çš„éæ³•äº¤æ˜“ã€‚åŸé¢˜\"><a href=\"#éæ³•äº¤æ˜“ï¼Œå•ç¬”é‡‘é¢å¤§äº1000ï¼Œæˆ–è€…60åˆ†é’Ÿå†…æœ‰å¼‚åœ°äº¤æ˜“ï¼Œé‚£ä¹ˆä¸ºéæ³•äº¤æ˜“ã€‚åˆ—å‡ºæ‰€æœ‰çš„éæ³•äº¤æ˜“ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éæ³•äº¤æ˜“ï¼Œå•ç¬”é‡‘é¢å¤§äº1000ï¼Œæˆ–è€…60åˆ†é’Ÿå†…æœ‰å¼‚åœ°äº¤æ˜“ï¼Œé‚£ä¹ˆä¸ºéæ³•äº¤æ˜“ã€‚åˆ—å‡ºæ‰€æœ‰çš„éæ³•äº¤æ˜“ã€‚åŸé¢˜\"></a>éæ³•äº¤æ˜“ï¼Œå•ç¬”é‡‘é¢å¤§äº1000ï¼Œæˆ–è€…60åˆ†é’Ÿå†…æœ‰å¼‚åœ°äº¤æ˜“ï¼Œé‚£ä¹ˆä¸ºéæ³•äº¤æ˜“ã€‚åˆ—å‡ºæ‰€æœ‰çš„éæ³•äº¤æ˜“ã€‚<a href=\"https://leetcode.com/problems/invalid-transactions/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: transactions &#x3D; [&quot;alice,20,800,mtv&quot;,&quot;alice,50,100,beijing&quot;]</span><br><span class=\"line\">Output: [&quot;alice,20,800,mtv&quot;,&quot;alice,50,100,beijing&quot;]</span><br><span class=\"line\">Explanation: The first transaction is invalid because the second transaction occurs within a difference of 60 minutes, have the same name and is in a different city. Similarly the second one is invalid too.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">invalidTransactions</span><span class=\"params\">(self, transactions: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    ts = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> line <span class=\"keyword\">in</span> transactions:</span><br><span class=\"line\">        name, time, amount, city = line.split(<span class=\"string\">','</span>)</span><br><span class=\"line\">        ts.append((name, time, amount, city))</span><br><span class=\"line\">    city_times = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> ts:</span><br><span class=\"line\">        city_times[t[<span class=\"number\">0</span>]+<span class=\"string\">','</span>+t[<span class=\"number\">3</span>]].append(int(t[<span class=\"number\">1</span>]))</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> ts:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> int(t[<span class=\"number\">2</span>]) &gt; <span class=\"number\">1000</span>:</span><br><span class=\"line\">            ans.append(<span class=\"string\">','</span>.join(t))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            diff_cities = (c <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> city_times.keys() <span class=\"keyword\">if</span> c!=t[<span class=\"number\">0</span>]+<span class=\"string\">','</span>+t[<span class=\"number\">3</span>] <span class=\"keyword\">and</span> c.startswith(t[<span class=\"number\">0</span>]+<span class=\"string\">','</span>))</span><br><span class=\"line\">            <span class=\"keyword\">for</span> d_c <span class=\"keyword\">in</span> diff_cities:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> any(abs(tt-int(t[<span class=\"number\">1</span>])) &lt;= <span class=\"number\">60</span> <span class=\"keyword\">for</span> tt <span class=\"keyword\">in</span> city_times[d_c]):</span><br><span class=\"line\">                    ans.append(<span class=\"string\">','</span>.join(t))</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1170-Compare-Strings-by-Frequency-of-the-Smallest-Character\"><a href=\"#1170-Compare-Strings-by-Frequency-of-the-Smallest-Character\" class=\"headerlink\" title=\"1170. Compare Strings by Frequency of the Smallest Character\"></a>1170. Compare Strings by Frequency of the Smallest Character</h3><h4 id=\"æ¯”è¾ƒæœ€å°å­—ç¬¦çš„é¢‘ç‡ã€‚åŸé¢˜\"><a href=\"#æ¯”è¾ƒæœ€å°å­—ç¬¦çš„é¢‘ç‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯”è¾ƒæœ€å°å­—ç¬¦çš„é¢‘ç‡ã€‚åŸé¢˜\"></a>æ¯”è¾ƒæœ€å°å­—ç¬¦çš„é¢‘ç‡ã€‚<a href=\"https://leetcode.com/problems/compare-strings-by-frequency-of-the-smallest-character/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: queries &#x3D; [&quot;cbd&quot;], words &#x3D; [&quot;zaaaz&quot;]</span><br><span class=\"line\">Output: [1]</span><br><span class=\"line\">Explanation: On the first query we have f(&quot;cbd&quot;) &#x3D; 1, f(&quot;zaaaz&quot;) &#x3D; 3 so f(&quot;cbd&quot;) &lt; f(&quot;zaaaz&quot;).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSmallerByFrequency</span><span class=\"params\">(self, queries: List[str], words: List[str])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    qq = [q.count(min(q)) <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> queries]</span><br><span class=\"line\">    ww = [w.count(min(w)) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [sum(q &lt; w <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> ww) <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> qq]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSmallerByFrequency</span><span class=\"params\">(self, queries: List[str], words: List[str])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    qq = [q.count(min(q)) <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> queries]</span><br><span class=\"line\">    ww = [w.count(min(w)) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">    ww.sort()</span><br><span class=\"line\">    n = len(ww)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [n-bisect.bisect_right(ww, q) <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> qq]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1122-Relative-Sort-Array\"><a href=\"#1122-Relative-Sort-Array\" class=\"headerlink\" title=\"1122. Relative Sort Array\"></a>1122. Relative Sort Array</h3><h4 id=\"æŒ‰ç…§æ•°ç»„2çš„ç›¸å¯¹ä½ç½®ç»™å¦ä¸€ä¸ªæ•°ç»„æ’åºã€‚åŸé¢˜\"><a href=\"#æŒ‰ç…§æ•°ç»„2çš„ç›¸å¯¹ä½ç½®ç»™å¦ä¸€ä¸ªæ•°ç»„æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰ç…§æ•°ç»„2çš„ç›¸å¯¹ä½ç½®ç»™å¦ä¸€ä¸ªæ•°ç»„æ’åºã€‚åŸé¢˜\"></a>æŒ‰ç…§æ•°ç»„2çš„ç›¸å¯¹ä½ç½®ç»™å¦ä¸€ä¸ªæ•°ç»„æ’åºã€‚<a href=\"https://leetcode.com/contest/weekly-contest-145/problems/relative-sort-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå’ŒLeeç¥å†™æ³•ä¸è°‹è€Œåˆï¼Œåªä¸è¿‡è‡ªå·±ç”¨äº†ä¹˜æ³•ï¼Œå…¶å®åŠ æ³•å°±å¯ä»¥äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">relativeSortArray</span><span class=\"params\">(self, arr1: List[int], arr2: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    index = &#123;d: i <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(arr2)&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(arr1, key=<span class=\"keyword\">lambda</span> x: index.get(x, <span class=\"number\">1000</span>+x))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1176-Diet-Plan-Performance\"><a href=\"#1176-Diet-Plan-Performance\" class=\"headerlink\" title=\"1176. Diet Plan Performance\"></a>1176. Diet Plan Performance</h3><h4 id=\"ç‡ƒçƒ§ä½ çš„å¡è·¯é‡Œï¼Œå¡è·¯é‡Œå’Œä½“é‡çš„å…³ç³»ã€‚åŸé¢˜\"><a href=\"#ç‡ƒçƒ§ä½ çš„å¡è·¯é‡Œï¼Œå¡è·¯é‡Œå’Œä½“é‡çš„å…³ç³»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç‡ƒçƒ§ä½ çš„å¡è·¯é‡Œï¼Œå¡è·¯é‡Œå’Œä½“é‡çš„å…³ç³»ã€‚åŸé¢˜\"></a>ç‡ƒçƒ§ä½ çš„å¡è·¯é‡Œï¼Œå¡è·¯é‡Œå’Œä½“é‡çš„å…³ç³»ã€‚<a href=\"https://leetcode.com/problems/diet-plan-performance/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: calories &#x3D; [1,2,3,4,5], k &#x3D; 1, lower &#x3D; 3, upper &#x3D; 3</span><br><span class=\"line\">Output: 0</span><br><span class=\"line\">Explanation: Since k &#x3D; 1, we consider each element of the array separately and compare it to lower and upper.</span><br><span class=\"line\">calories[0] and calories[1] are less than lower so 2 points are lost.</span><br><span class=\"line\">calories[3] and calories[4] are greater than upper so 2 points are gained.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dietPlanPerformance</span><span class=\"params\">(self, calories: List[int], k: int, lower: int, upper: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    calories.insert(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    cur_sum = sum(calories[:k])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(calories)-k+<span class=\"number\">1</span>):</span><br><span class=\"line\">        cur_sum -= calories[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        cur_sum += calories[i+k<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_sum &gt; upper:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> cur_sum &lt; lower:</span><br><span class=\"line\">            ans -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1395-Count-Number-of-Teams\"><a href=\"#1395-Count-Number-of-Teams\" class=\"headerlink\" title=\"1395. Count Number of Teams\"></a>1395. Count Number of Teams</h3><h4 id=\"æ•°å­—åˆ†ç»„è®¡æ•°ã€‚åŸé¢˜\"><a href=\"#æ•°å­—åˆ†ç»„è®¡æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°å­—åˆ†ç»„è®¡æ•°ã€‚åŸé¢˜\"></a>æ•°å­—åˆ†ç»„è®¡æ•°ã€‚<a href=\"https://leetcode.com/problems/count-number-of-teams/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: rating &#x3D; [2,5,3,4,1]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: We can form three teams given the conditions. (2,3,4), (5,4,1), (5,3,1).</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTeams</span><span class=\"params\">(self, rating: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    n = len(rating)</span><br><span class=\"line\">    greater = defaultdict(int)</span><br><span class=\"line\">    less = defaultdict(int)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> rating[i] &gt; rating[j]:</span><br><span class=\"line\">                less[i] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                greater[i] += <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> rating[i] &gt; rating[j]:</span><br><span class=\"line\">                ans += less[j]</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans += greater[j]</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1375-Bulb-Switcher-III\"><a href=\"#1375-Bulb-Switcher-III\" class=\"headerlink\" title=\"1375. Bulb Switcher III\"></a>1375. Bulb Switcher III</h3><h4 id=\"ç¯æ³¡å¼€å…³ï¼Œè®°å½•ç¯æ³¡å…¨éƒ¨å˜è“çš„æ¬¡æ•°ã€‚åŸé¢˜\"><a href=\"#ç¯æ³¡å¼€å…³ï¼Œè®°å½•ç¯æ³¡å…¨éƒ¨å˜è“çš„æ¬¡æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç¯æ³¡å¼€å…³ï¼Œè®°å½•ç¯æ³¡å…¨éƒ¨å˜è“çš„æ¬¡æ•°ã€‚åŸé¢˜\"></a>ç¯æ³¡å¼€å…³ï¼Œè®°å½•ç¯æ³¡å…¨éƒ¨å˜è“çš„æ¬¡æ•°ã€‚<a href=\"https://leetcode.com/problems/bulb-switcher-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: light &#x3D; [2,1,3,5,4]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: All bulbs turned on, are blue at the moment 1, 2 and 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å †ã€‚å…¶å®æ²¡å¿…è¦å¢åŠ O(n)çš„ç©ºé—´</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTimesAllBlue</span><span class=\"params\">(self, light: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\">    s = []</span><br><span class=\"line\">    hq.heapify(s)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, b <span class=\"keyword\">in</span> enumerate(light, <span class=\"number\">1</span>):</span><br><span class=\"line\">        hq.heappush(s, -b)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> -s[<span class=\"number\">0</span>] == i:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåªéœ€è¦ç»´æŠ¤ä¸€ä¸ªæœ€å¤§å€¼å˜é‡å³å¯</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTimesAllBlue</span><span class=\"params\">(self, light: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cur_max = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, b <span class=\"keyword\">in</span> enumerate(light, <span class=\"number\">1</span>):</span><br><span class=\"line\">        cur_max = max(cur_max, b)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur_max == i:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸€è¡Œ</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTimesAllBlue</span><span class=\"params\">(self, light: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(i==b <span class=\"keyword\">for</span> i, b <span class=\"keyword\">in</span> enumerate(itertools.accumulate(light, max), <span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"498-Diagonal-Traverse\"><a href=\"#498-Diagonal-Traverse\" class=\"headerlink\" title=\"498. Diagonal Traverse\"></a>498. Diagonal Traverse</h3><h4 id=\"å¯¹è§’çº¿zå­—å½¢éå†ã€‚åŸé¢˜\"><a href=\"#å¯¹è§’çº¿zå­—å½¢éå†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯¹è§’çº¿zå­—å½¢éå†ã€‚åŸé¢˜\"></a>å¯¹è§’çº¿zå­—å½¢éå†ã€‚<a href=\"https://leetcode.com/problems/diagonal-traverse/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè´¹åŠ²å¿ƒæ€å»æ‰¾i,jçš„å…³ç³»ï¼Œå…¶å®åªéœ€è¦çŸ¥é“ä¸€ç‚¹ï¼Œiå’Œjéƒ½æ˜¯è¶Šæ¥è¶Šå¤§çš„å°±è¡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDiagonalOrder</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> matrix:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    dd = collections.defaultdict(list)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    m, n = len(matrix), len(matrix[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            dd[i+j].append(matrix[i][j])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(m+n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k % <span class=\"number\">2</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            dd[k].reverse()</span><br><span class=\"line\">        ans.extend(dd[k])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1424-Diagonal-Traverse-II\"><a href=\"#1424-Diagonal-Traverse-II\" class=\"headerlink\" title=\"1424. Diagonal Traverse II\"></a>1424. Diagonal Traverse II</h3><h4 id=\"å¯¹è§’çº¿éå†ï¼Œæ¯è¡Œé•¿åº¦å¯èƒ½ä¸ä¸€æ ·ã€‚åŸé¢˜\"><a href=\"#å¯¹è§’çº¿éå†ï¼Œæ¯è¡Œé•¿åº¦å¯èƒ½ä¸ä¸€æ ·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯¹è§’çº¿éå†ï¼Œæ¯è¡Œé•¿åº¦å¯èƒ½ä¸ä¸€æ ·ã€‚åŸé¢˜\"></a>å¯¹è§’çº¿éå†ï¼Œæ¯è¡Œé•¿åº¦å¯èƒ½ä¸ä¸€æ ·ã€‚<a href=\"https://leetcode.com/problems/diagonal-traverse-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDiagonalOrder</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, r <span class=\"keyword\">in</span> enumerate(g):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, a <span class=\"keyword\">in</span> enumerate(r):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(res) &lt;= i + j:</span><br><span class=\"line\">                res.append([])</span><br><span class=\"line\">            res[i + j].append(a)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> res <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> reversed(r)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1365-How-Many-Numbers-Are-Smaller-Than-the-Current-Number\"><a href=\"#1365-How-Many-Numbers-Are-Smaller-Than-the-Current-Number\" class=\"headerlink\" title=\"1365. How Many Numbers Are Smaller Than the Current Number\"></a>1365. How Many Numbers Are Smaller Than the Current Number</h3><h4 id=\"æ•°ç»„ä¸­æ¯”å½“å‰æ•°å°çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­æ¯”å½“å‰æ•°å°çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æ¯”å½“å‰æ•°å°çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­æ¯”å½“å‰æ•°å°çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/how-many-numbers-are-smaller-than-the-current-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ’åºã€‚T=O(n*lgn)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallerNumbersThanCurrent</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    indices = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(sorted(nums)):</span><br><span class=\"line\">        indices.setdefault(d, i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [indices[d] <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> nums]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåˆ©ç”¨äº†æ•°çš„èŒƒå›´åœ¨1~100ä¹‹é—´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallerNumbersThanCurrent</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    count = [<span class=\"number\">0</span>] * <span class=\"number\">102</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        count[num+<span class=\"number\">1</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">    count = list(itertools.accumulate(count))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [count[num] <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1366-Rank-Teams-by-Votes\"><a href=\"#1366-Rank-Teams-by-Votes\" class=\"headerlink\" title=\"1366. Rank Teams by Votes\"></a>1366. Rank Teams by Votes</h3><h4 id=\"æŠ•ç¥¨é€‰ä¸¾ã€‚é¦–å…ˆæŒ‰ç…§æ’åï¼Œç„¶åæŒ‰ç…§å­—æ¯é¡ºåºã€‚åŸé¢˜\"><a href=\"#æŠ•ç¥¨é€‰ä¸¾ã€‚é¦–å…ˆæŒ‰ç…§æ’åï¼Œç„¶åæŒ‰ç…§å­—æ¯é¡ºåºã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŠ•ç¥¨é€‰ä¸¾ã€‚é¦–å…ˆæŒ‰ç…§æ’åï¼Œç„¶åæŒ‰ç…§å­—æ¯é¡ºåºã€‚åŸé¢˜\"></a>æŠ•ç¥¨é€‰ä¸¾ã€‚é¦–å…ˆæŒ‰ç…§æ’åï¼Œç„¶åæŒ‰ç…§å­—æ¯é¡ºåºã€‚<a href=\"https://leetcode.com/problems/rank-teams-by-votes/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: votes &#x3D; [&quot;ABC&quot;,&quot;ACB&quot;,&quot;ABC&quot;,&quot;ACB&quot;,&quot;ACB&quot;]</span><br><span class=\"line\">Output: &quot;ACB&quot;</span><br><span class=\"line\">Explanation: Team A was ranked first place by 5 voters. No other team was voted as first place so team A is the first team.</span><br><span class=\"line\">Team B was ranked second by 2 voters and was ranked third by 3 voters.</span><br><span class=\"line\">Team C was ranked second by 3 voters and was ranked third by 2 voters.</span><br><span class=\"line\">As most of the voters ranked C second, team C is the second team and team B is the third.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: votes &#x3D; [&quot;WXYZ&quot;,&quot;XYZW&quot;]</span><br><span class=\"line\">Output: &quot;XWYZ&quot;</span><br><span class=\"line\">Explanation: X is the winner due to tie-breaking rule. X has same votes as W for the first position but X has one vote as second position while W doesn&#39;t have any votes as second position.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆ—ä¸¾äº†æ‰€æœ‰çš„ç¥¨æ•°ï¼Œç„¶åå¯¹tupleè¿›è¡Œæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rankTeams</span><span class=\"params\">(self, votes: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter, defaultdict</span><br><span class=\"line\">    cc = defaultdict(<span class=\"keyword\">lambda</span> : [<span class=\"number\">0</span>]*<span class=\"number\">26</span>)</span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> zip(*votes):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> Counter(w).items():</span><br><span class=\"line\">            cc[k][i] = v</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># print(cc)</span></span><br><span class=\"line\">    cmp = (tuple(p) + (-ord(a), a) <span class=\"keyword\">for</span> a, p <span class=\"keyword\">in</span> cc.items())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(x[<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> sorted(cmp, reverse=<span class=\"literal\">True</span>))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¿½ç•¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå…¶å®æ¯ä¸ªäººéƒ½éœ€è¦å¯¹æ‰€æœ‰äººæŠ•ç¥¨ã€‚æ ¹æ®ç¬¬ä¸€ä¸ªæ¥è¿›è¡Œåˆå§‹åŒ–ã€‚æ•°ç»„åŒæ ·å¯ä»¥æ¯”è¾ƒå¤§å°ï¼Œæ— é¡»è½¬åŒ–ä¸ºtuple</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rankTeams</span><span class=\"params\">(self, votes: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    count = &#123;c: [<span class=\"number\">0</span>] * len(votes[<span class=\"number\">0</span>]) + [c] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> votes[<span class=\"number\">0</span>]&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> vote <span class=\"keyword\">in</span> votes:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(vote):</span><br><span class=\"line\">            count[v][i] -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(sorted(votes[<span class=\"number\">0</span>], key=count.get))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1331-Rank-Transform-of-an-Array\"><a href=\"#1331-Rank-Transform-of-an-Array\" class=\"headerlink\" title=\"1331. Rank Transform of an Array\"></a>1331. Rank Transform of an Array</h3><h4 id=\"å°†æ•°ç»„è½¬åŒ–ä¸ºæ’è¡Œã€‚åŸé¢˜\"><a href=\"#å°†æ•°ç»„è½¬åŒ–ä¸ºæ’è¡Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ•°ç»„è½¬åŒ–ä¸ºæ’è¡Œã€‚åŸé¢˜\"></a>å°†æ•°ç»„è½¬åŒ–ä¸ºæ’è¡Œã€‚<a href=\"https://leetcode.com/problems/rank-transform-of-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [40,10,20,30]</span><br><span class=\"line\">Output: [4,1,2,3]</span><br><span class=\"line\">Explanation: 40 is the largest element. 10 is the smallest. 20 is the second smallest. 30 is the third smallest.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š<code>setdefault</code>çš„å¦™ç”¨ã€‚ by Lee215</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">arrayRankTransform</span><span class=\"params\">(self, arr: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    rank = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> sorted(arr):</span><br><span class=\"line\">        rank.setdefault(a, len(rank)+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> map(rank.get, arr)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1306-Jump-Game-III\"><a href=\"#1306-Jump-Game-III\" class=\"headerlink\" title=\"1306. Jump Game III\"></a>1306. Jump Game III</h3><h4 id=\"è·³è·ƒæ¸¸æˆï¼Œä»startå¼€å§‹ï¼Œå¯ä»¥æ²¿ç€valueå‘å‰å‘åè·³ï¼Œæ±‚æ˜¯å¦å¯ä»¥è·³åˆ°0-åŸé¢˜\"><a href=\"#è·³è·ƒæ¸¸æˆï¼Œä»startå¼€å§‹ï¼Œå¯ä»¥æ²¿ç€valueå‘å‰å‘åè·³ï¼Œæ±‚æ˜¯å¦å¯ä»¥è·³åˆ°0-åŸé¢˜\" class=\"headerlink\" title=\"è·³è·ƒæ¸¸æˆï¼Œä»startå¼€å§‹ï¼Œå¯ä»¥æ²¿ç€valueå‘å‰å‘åè·³ï¼Œæ±‚æ˜¯å¦å¯ä»¥è·³åˆ°0.åŸé¢˜\"></a>è·³è·ƒæ¸¸æˆï¼Œä»startå¼€å§‹ï¼Œå¯ä»¥æ²¿ç€valueå‘å‰å‘åè·³ï¼Œæ±‚æ˜¯å¦å¯ä»¥è·³åˆ°0.<a href=\"https://leetcode.com/problems/jump-game-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [4,2,3,0,3,1,2], start &#x3D; 5</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">All possible ways to reach at index 3 with value 0 are: </span><br><span class=\"line\">index 5 -&gt; index 4 -&gt; index 1 -&gt; index 3 </span><br><span class=\"line\">index 5 -&gt; index 6 -&gt; index 4 -&gt; index 1 -&gt; index 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBfs.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canReach</span><span class=\"params\">(self, arr: List[int], start: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    q, seen = collections.deque([start]), &#123;start&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        i = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[i] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> nxt <span class=\"keyword\">in</span> (i-arr[i], i+arr[i]):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nxt <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=nxt&lt;len(arr):</span><br><span class=\"line\">                q.append(nxt)</span><br><span class=\"line\">                seen.add(nxt)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ•°ç»„ä¸­å…ƒç´ å‡ä¸ºéè´Ÿæ•°ï¼Œæ‰€ä»¥ç”¨è´Ÿæ•°æ¥æ ‡è®°å·²ç»è·³è¿‡çš„ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canReach</span><span class=\"params\">(self, arr: List[int], i: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;len(arr) <span class=\"keyword\">and</span> arr[i]&gt;=<span class=\"number\">0</span>:</span><br><span class=\"line\">        arr[i] = -arr[i]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> arr[i]==<span class=\"number\">0</span> <span class=\"keyword\">or</span> self.canReach(arr, i+arr[i]) <span class=\"keyword\">or</span> self.canReach(arr, i-arr[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1297-Maximum-Number-of-Occurrences-of-a-Substring\"><a href=\"#1297-Maximum-Number-of-Occurrences-of-a-Substring\" class=\"headerlink\" title=\"1297. Maximum Number of Occurrences of a Substring\"></a>1297. Maximum Number of Occurrences of a Substring</h3><h4 id=\"å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­ä¸²ã€‚æ»‘åŠ¨çª—å£å¯ä¼¸ç¼©ï¼Œæœ€å¤šåŒ…å«maxLettersä¸ªå­—æ¯ã€‚åŸé¢˜\"><a href=\"#å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­ä¸²ã€‚æ»‘åŠ¨çª—å£å¯ä¼¸ç¼©ï¼Œæœ€å¤šåŒ…å«maxLettersä¸ªå­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­ä¸²ã€‚æ»‘åŠ¨çª—å£å¯ä¼¸ç¼©ï¼Œæœ€å¤šåŒ…å«maxLettersä¸ªå­—æ¯ã€‚åŸé¢˜\"></a>å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­ä¸²ã€‚æ»‘åŠ¨çª—å£å¯ä¼¸ç¼©ï¼Œæœ€å¤šåŒ…å«maxLettersä¸ªå­—æ¯ã€‚<a href=\"https://leetcode.com/problems/maximum-number-of-occurrences-of-a-substring/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxFreq</span><span class=\"params\">(self, s: str, maxLetters: int, k: int, maxSize: int)</span> -&gt; int:</span></span><br><span class=\"line\">    c = collections.Counter(s[i:i+k] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)-k+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max([n <span class=\"keyword\">for</span> sub, n <span class=\"keyword\">in</span> c.items() <span class=\"keyword\">if</span> len(set(sub)) &lt;= maxLetters] + [<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"1291-Sequential-Digits\"><a href=\"#1291-Sequential-Digits\" class=\"headerlink\" title=\"1291. Sequential Digits\"></a>1291. Sequential Digits</h3><h4 id=\"æŒ‰åºæ±‚ç»„åŒºé—´ä¸­çš„é¡ºå­ã€‚åŸé¢˜\"><a href=\"#æŒ‰åºæ±‚ç»„åŒºé—´ä¸­çš„é¡ºå­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰åºæ±‚ç»„åŒºé—´ä¸­çš„é¡ºå­ã€‚åŸé¢˜\"></a>æŒ‰åºæ±‚ç»„åŒºé—´ä¸­çš„é¡ºå­ã€‚<a href=\"https://leetcode.com/problems/sequential-digits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: low &#x3D; 1000, high &#x3D; 13000</span><br><span class=\"line\">Output: [1234,2345,3456,4567,5678,6789,12345]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¼€å§‹æ—¶ç”¨çš„è½¬åŒ–å­—ç¬¦ä¸²çš„æ–¹å¼ã€‚ä¸ä¼˜é›…ï¼Œå€Ÿé‰´äº†ä»–äººè§£æ³•ã€‚ç”Ÿæˆå™¨æœ‰ä¸ªå¥½å¤„æ˜¯ä½ å¯ä»¥æš‚æ—¶å…ˆä¸å…³å¿ƒé¡ºåºã€‚å› ä¸ºlow&gt;=10ï¼Œæ‰€ä»¥ä¸€å¼€å§‹ä¸ä¼šä»¥9å¼€å¤´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sequentialDigits</span><span class=\"params\">(self, low: int, high: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gen</span><span class=\"params\">(digit)</span>:</span></span><br><span class=\"line\">        num = digit</span><br><span class=\"line\">        <span class=\"keyword\">while</span> num &lt;= high <span class=\"keyword\">and</span> digit &lt; <span class=\"number\">10</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num &gt;= low:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> num</span><br><span class=\"line\">            digit += <span class=\"number\">1</span></span><br><span class=\"line\">            num = num*<span class=\"number\">10</span> + digit</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sorted(num <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">9</span>) <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> gen(i))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1275-Find-Winner-on-a-Tic-Tac-Toe-Game\"><a href=\"#1275-Find-Winner-on-a-Tic-Tac-Toe-Game\" class=\"headerlink\" title=\"1275. Find Winner on a Tic Tac Toe Game\"></a>1275. Find Winner on a Tic Tac Toe Game</h3><h4 id=\"ä¸‰å­æ£‹çš„æ¸¸æˆï¼Œè°å…ˆè¿åˆ°3ä¸ªå­è°å°±èµ¢ã€‚åŸé¢˜\"><a href=\"#ä¸‰å­æ£‹çš„æ¸¸æˆï¼Œè°å…ˆè¿åˆ°3ä¸ªå­è°å°±èµ¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸‰å­æ£‹çš„æ¸¸æˆï¼Œè°å…ˆè¿åˆ°3ä¸ªå­è°å°±èµ¢ã€‚åŸé¢˜\"></a>ä¸‰å­æ£‹çš„æ¸¸æˆï¼Œè°å…ˆè¿åˆ°3ä¸ªå­è°å°±èµ¢ã€‚<a href=\"https://leetcode.com/problems/find-winner-on-a-tic-tac-toe-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: moves &#x3D; [[0,0],[2,0],[1,1],[2,1],[2,2]]</span><br><span class=\"line\">Output: &quot;A&quot;</span><br><span class=\"line\">Explanation: &quot;A&quot; wins, he always plays first.</span><br><span class=\"line\">&quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;</span><br><span class=\"line\">&quot;   &quot; -&gt; &quot;   &quot; -&gt; &quot; X &quot; -&gt; &quot; X &quot; -&gt; &quot; X &quot;</span><br><span class=\"line\">&quot;   &quot;    &quot;O  &quot;    &quot;O  &quot;    &quot;OO &quot;    &quot;OOX&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æ˜¯ä¸ºæ•°ä¸å¤šeasyé‡Œé¢æƒ³äº†æ—¶é—´é‚£ä¹ˆé•¿çš„ï¼Œé™¤äº†æš´åŠ›æ³•æ²¡æœ‰æƒ³åˆ°ä»€ä¹ˆæ€è·¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">tictactoe</span><span class=\"params\">(self, moves: List[List[int]])</span> -&gt; str:</span></span><br><span class=\"line\">    line = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (x, y) <span class=\"keyword\">in</span> enumerate(moves):</span><br><span class=\"line\">        p = <span class=\"string\">'A'</span> <span class=\"keyword\">if</span> i&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"string\">'B'</span> </span><br><span class=\"line\">        xk, yk = <span class=\"string\">'x_&#123;&#125;'</span>.format(x), <span class=\"string\">'y_&#123;&#125;'</span>.format(y)</span><br><span class=\"line\">        line[xk].append(p)</span><br><span class=\"line\">        line[yk].append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x == y:</span><br><span class=\"line\">            line[<span class=\"string\">'d_0'</span>].append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x + y == <span class=\"number\">2</span>:</span><br><span class=\"line\">            line[<span class=\"string\">'d_1'</span>].append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> any(len(l)==<span class=\"number\">3</span> <span class=\"keyword\">and</span> len(set(l))==<span class=\"number\">1</span> <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> (line[xk], line[yk], line[<span class=\"string\">'d_0'</span>], line[<span class=\"string\">'d_1'</span>])):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Draw'</span> <span class=\"keyword\">if</span> len(moves) == <span class=\"number\">9</span> <span class=\"keyword\">else</span> <span class=\"string\">'Pending'</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå°†A, Båˆ†ä¸º2ç»„ï¼Œè¿™æ ·æ¯”è¾ƒæ—¶æ›´ç®€å•ä¸€ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">tictactoe</span><span class=\"params\">(self, moves: List[List[int]])</span> -&gt; str:</span></span><br><span class=\"line\">    row, col = [[<span class=\"number\">0</span>] * <span class=\"number\">3</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>)], [[<span class=\"number\">0</span>] * <span class=\"number\">3</span> <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>)]</span><br><span class=\"line\">    d1, d2, p = [<span class=\"number\">0</span>] * <span class=\"number\">2</span>, [<span class=\"number\">0</span>] * <span class=\"number\">2</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> r, c <span class=\"keyword\">in</span> moves:</span><br><span class=\"line\">        row[p][r] += <span class=\"number\">1</span></span><br><span class=\"line\">        col[p][c] += <span class=\"number\">1</span></span><br><span class=\"line\">        d1[p] += r==c</span><br><span class=\"line\">        d2[p] += r+c==<span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">3</span> <span class=\"keyword\">in</span> (row[p][r], col[p][c], d1[p], d2[p]):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'AB'</span>[p]</span><br><span class=\"line\">        p ^= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Draw'</span> <span class=\"keyword\">if</span> len(moves)==<span class=\"number\">9</span> <span class=\"keyword\">else</span> <span class=\"string\">'Pending'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-16-04-äº•å­—æ¸¸æˆ\"><a href=\"#é¢è¯•é¢˜-16-04-äº•å­—æ¸¸æˆ\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 16.04. äº•å­—æ¸¸æˆ\"></a><a href=\"https://leetcode-cn.com/problems/tic-tac-toe-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 16.04. äº•å­—æ¸¸æˆ</a></h3><h4 id=\"æ¯”1275ç®€å•ä¸€ç‚¹ï¼Œç»™å®šæ£‹ç›˜ï¼Œåˆ¤æ–­è°èµ¢ã€‚\"><a href=\"#æ¯”1275ç®€å•ä¸€ç‚¹ï¼Œç»™å®šæ£‹ç›˜ï¼Œåˆ¤æ–­è°èµ¢ã€‚\" class=\"headerlink\" title=\"æ¯”1275ç®€å•ä¸€ç‚¹ï¼Œç»™å®šæ£‹ç›˜ï¼Œåˆ¤æ–­è°èµ¢ã€‚\"></a>æ¯”1275ç®€å•ä¸€ç‚¹ï¼Œç»™å®šæ£‹ç›˜ï¼Œåˆ¤æ–­è°èµ¢ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè‡ªå·±ç”¨ifå†™çš„ï¼Œè¯„è®ºæœ‰ä¸ªæ­£åˆ™çš„å†™æ³•ä¸é”™ï¼Œå­¦ä¹ ä¸€ä¸‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">tictactoe</span><span class=\"params\">(self, board: List[str])</span> -&gt; str:</span></span><br><span class=\"line\">    N = len(board)</span><br><span class=\"line\">    pattern = re.compile(<span class=\"string\">r'^([XO])\\1*$'</span>)</span><br><span class=\"line\">    col = map(<span class=\"string\">''</span>.join, zip(*board))</span><br><span class=\"line\">    l_dig = (<span class=\"string\">''</span>.join(board[i][i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N))), </span><br><span class=\"line\">    r_dig = (<span class=\"string\">''</span>.join(board[N-i<span class=\"number\">-1</span>][i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N))), </span><br><span class=\"line\">    <span class=\"keyword\">for</span> line <span class=\"keyword\">in</span> itertools.chain(board, col, l_dig, r_dig):</span><br><span class=\"line\">        match_obj = pattern.match(line)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> match_obj:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> match_obj.group(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"string\">' '</span> <span class=\"keyword\">in</span> itertools.chain.from_iterable(board):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'Pending'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Draw'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1260-Shift-2D-Grid\"><a href=\"#1260-Shift-2D-Grid\" class=\"headerlink\" title=\"1260. Shift 2D Grid\"></a>1260. Shift 2D Grid</h3><h4 id=\"2Dæ»‘åŠ¨ï¼Œæ¯æ¬¡åˆ—å³ç§»ä¸€æ¬¡ï¼Œé¦–åˆ—ä¸‹ç§»ä¸€æ¬¡ã€‚åŸé¢˜\"><a href=\"#2Dæ»‘åŠ¨ï¼Œæ¯æ¬¡åˆ—å³ç§»ä¸€æ¬¡ï¼Œé¦–åˆ—ä¸‹ç§»ä¸€æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"2Dæ»‘åŠ¨ï¼Œæ¯æ¬¡åˆ—å³ç§»ä¸€æ¬¡ï¼Œé¦–åˆ—ä¸‹ç§»ä¸€æ¬¡ã€‚åŸé¢˜\"></a>2Dæ»‘åŠ¨ï¼Œæ¯æ¬¡åˆ—å³ç§»ä¸€æ¬¡ï¼Œé¦–åˆ—ä¸‹ç§»ä¸€æ¬¡ã€‚<a href=\"https://leetcode.com/problems/shift-2d-grid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[1,2,3],[4,5,6],[7,8,9]], k &#x3D; 1</span><br><span class=\"line\">Output: [[9,1,2],[3,4,5],[6,7,8]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdequeã€‚æœ€ç›´è§‚çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shiftGrid</span><span class=\"params\">(self, g: List[List[int]], k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    q = collections.deque(zip(*g))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">        head = q.pop()</span><br><span class=\"line\">        q.appendleft(head[<span class=\"number\">-1</span>:]+head[:<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> zip(*q)]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè°ƒäº†åŠå¤©ï¼Œæ‰¾äº†ä¸€äº›è§„å¾‹ï¼Œç„¶è€Œå¹¶æ²¡æœ‰æ–¹æ³•ä¸€å¿«å¤šå°‘ï¼Œæ—¶é—´ä¸Šå·®ä¸å¤šï¼Œåè€Œæ˜¯æ›´éš¾ç†è§£äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shiftGrid</span><span class=\"params\">(self, g: List[List[int]], k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    mk = k % n</span><br><span class=\"line\">    a = list(zip(*g))</span><br><span class=\"line\">    a = a[-mk:] + a[:-mk]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> zip(*[row[-((k//n+(i&lt;mk))%m):] + row[:-((k//n+(i&lt;mk))%m)] <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(a)])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šçœ‹æ¥æ—¶é—´æ•ˆç‡åº”è¯¥æ˜¯å·®ä¸å¤šäº†ï¼Œå°†æ•°ç»„è½¬æˆä¸€ç»´ï¼Œä¼šå‘ç°è§„å¾‹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shiftGrid</span><span class=\"params\">(self, g: List[List[int]], k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    col, nums = len(g[<span class=\"number\">0</span>]), sum(g, [])</span><br><span class=\"line\">    k = k % len(nums)</span><br><span class=\"line\">    nums = nums[-k:] + nums[:-k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [nums[i:i+col] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, len(nums), col)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1252-Cells-with-Odd-Values-in-a-Matrix\"><a href=\"#1252-Cells-with-Odd-Values-in-a-Matrix\" class=\"headerlink\" title=\"1252. Cells with Odd Values in a Matrix\"></a>1252. Cells with Odd Values in a Matrix</h3><h4 id=\"æ ¹æ®åæ ‡æ¯æ¬¡å°†æ‰€åœ¨çš„è¡Œå’Œåˆ—-1ï¼Œè¿™ä¸ªç‚¹-2ï¼Œç»Ÿè®¡æ‰€æœ‰çš„å¥‡æ•°ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®åæ ‡æ¯æ¬¡å°†æ‰€åœ¨çš„è¡Œå’Œåˆ—-1ï¼Œè¿™ä¸ªç‚¹-2ï¼Œç»Ÿè®¡æ‰€æœ‰çš„å¥‡æ•°ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®åæ ‡æ¯æ¬¡å°†æ‰€åœ¨çš„è¡Œå’Œåˆ—+1ï¼Œè¿™ä¸ªç‚¹+2ï¼Œç»Ÿè®¡æ‰€æœ‰çš„å¥‡æ•°ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ ¹æ®åæ ‡æ¯æ¬¡å°†æ‰€åœ¨çš„è¡Œå’Œåˆ—+1ï¼Œè¿™ä¸ªç‚¹+2ï¼Œç»Ÿè®¡æ‰€æœ‰çš„å¥‡æ•°ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/cells-with-odd-values-in-a-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, m &#x3D; 3, indices &#x3D; [[0,1],[1,1]]</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: Initial matrix &#x3D; [[0,0,0],[0,0,0]].</span><br><span class=\"line\">After applying first increment it becomes [[1,2,1],[0,1,0]].</span><br><span class=\"line\">The final matrix will be [[1,3,1],[1,3,1]] which contains 6 odd numbers.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¼‚æˆ–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">oddCells</span><span class=\"params\">(self, n: int, m: int, indices: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    row, col = [<span class=\"number\">0</span>] * n, [<span class=\"number\">0</span>] * m</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> indices:</span><br><span class=\"line\">        row[x] ^= <span class=\"number\">1</span></span><br><span class=\"line\">        col[y] ^= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(r ^ c <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> row <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> col)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1248-Count-Number-of-Nice-Subarrays\"><a href=\"#1248-Count-Number-of-Nice-Subarrays\" class=\"headerlink\" title=\"1248. Count Number of Nice Subarrays\"></a>1248. Count Number of Nice Subarrays</h3><h4 id=\"æ‰¾åˆ°åŒ…å«kä¸ªå¥‡æ•°çš„å­æ•°ç»„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°åŒ…å«kä¸ªå¥‡æ•°çš„å­æ•°ç»„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°åŒ…å«kä¸ªå¥‡æ•°çš„å­æ•°ç»„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾åˆ°åŒ…å«kä¸ªå¥‡æ•°çš„å­æ•°ç»„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/count-number-of-nice-subarrays/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,1,2,1,1], k &#x3D; 3</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The only sub-arrays with 3 odd numbers are [1,1,2,1] and [1,2,1,1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ‰¾åˆ°æ‰€æœ‰çš„å¥‡æ•°ç´¢å¼•ï¼Œç„¶åæ»‘åŠ¨çª—å£ç´¯åŠ å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfSubarrays</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    odd = [i <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums) <span class=\"keyword\">if</span> num&amp;<span class=\"number\">1</span>==<span class=\"number\">1</span>]</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(odd)-k+<span class=\"number\">1</span>):</span><br><span class=\"line\">        pre = <span class=\"number\">-1</span> <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> i <span class=\"keyword\">else</span> odd[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        hi = n <span class=\"keyword\">if</span> i==len(odd)-k <span class=\"keyword\">else</span> odd[i+k]</span><br><span class=\"line\">        ans += (odd[i]-pre) * (hi-odd[i+k<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šéå†ä¸€æ¬¡</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfSubarrays</span><span class=\"params\">(self, A: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    i = count = res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[j] &amp; <span class=\"number\">1</span>:</span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br><span class=\"line\">            count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">            k += A[i] &amp; <span class=\"number\">1</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        res += count</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1234-Replace-the-Substring-for-Balanced-String\"><a href=\"#1234-Replace-the-Substring-for-Balanced-String\" class=\"headerlink\" title=\"1234. Replace the Substring for Balanced String\"></a>1234. Replace the Substring for Balanced String</h3><h4 id=\"å°†æ¯ä¸ªQWERå‡ºç°çš„æ¬¡æ•°å˜ä¸ºä¸€æ ·ï¼Œæœ€å°‘éœ€è¦ä¿®æ”¹çš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#å°†æ¯ä¸ªQWERå‡ºç°çš„æ¬¡æ•°å˜ä¸ºä¸€æ ·ï¼Œæœ€å°‘éœ€è¦ä¿®æ”¹çš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ¯ä¸ªQWERå‡ºç°çš„æ¬¡æ•°å˜ä¸ºä¸€æ ·ï¼Œæœ€å°‘éœ€è¦ä¿®æ”¹çš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>å°†æ¯ä¸ªQWERå‡ºç°çš„æ¬¡æ•°å˜ä¸ºä¸€æ ·ï¼Œæœ€å°‘éœ€è¦ä¿®æ”¹çš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/replace-the-substring-for-balanced-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;QQWE&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: We need to replace a &#39;Q&#39; to &#39;R&#39;, so that &quot;RQWE&quot; (or &quot;QRWE&quot;) is balanced.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¾‹å­æœ‰åœ°ä¸å¥½ï¼Œå­ä¸²å¿…é¡»æ˜¯è¿ç»­çš„ã€‚å’Œleeå¤§ä½¬è§£æ³•å·®ä¸å¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">balancedString</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    diff = Counter(s) - Counter(&#123;c: len(s)//<span class=\"number\">4</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> <span class=\"string\">'QWER'</span>&#125;)</span><br><span class=\"line\">    ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    c = Counter()</span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j, a <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        c[a] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i!=len(s) <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> diff-c:</span><br><span class=\"line\">            ans = min(ans, j-i+<span class=\"number\">1</span>)</span><br><span class=\"line\">            c[s[i]] -= <span class=\"number\">1</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1208-Get-Equal-Substrings-Within-Budget\"><a href=\"#1208-Get-Equal-Substrings-Within-Budget\" class=\"headerlink\" title=\"1208. Get Equal Substrings Within Budget\"></a>1208. Get Equal Substrings Within Budget</h3><h4 id=\"å°†å­—ç¬¦ä¸²så˜ä¸ºtã€‚éœ€è¦asciiç çš„å·®ï¼Œé—®åœ¨æŒ‡å®šçš„å·®ä¸­ï¼Œæœ€é•¿çš„å¯ä»¥å˜æˆçš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#å°†å­—ç¬¦ä¸²så˜ä¸ºtã€‚éœ€è¦asciiç çš„å·®ï¼Œé—®åœ¨æŒ‡å®šçš„å·®ä¸­ï¼Œæœ€é•¿çš„å¯ä»¥å˜æˆçš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†å­—ç¬¦ä¸²så˜ä¸ºtã€‚éœ€è¦asciiç çš„å·®ï¼Œé—®åœ¨æŒ‡å®šçš„å·®ä¸­ï¼Œæœ€é•¿çš„å¯ä»¥å˜æˆçš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>å°†å­—ç¬¦ä¸²så˜ä¸ºtã€‚éœ€è¦asciiç çš„å·®ï¼Œé—®åœ¨æŒ‡å®šçš„å·®ä¸­ï¼Œæœ€é•¿çš„å¯ä»¥å˜æˆçš„å­ä¸²é•¿åº¦æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/get-equal-substrings-within-budget/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abcd&quot;, t &#x3D; &quot;bcdf&quot;, maxCost &#x3D; 3</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: &quot;abc&quot; of s can change to &quot;bcd&quot;. That costs 3, so the maximum length is 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£é—®é¢˜ã€‚æ¯”èµ›çš„ç­”æ¡ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">equalSubstring</span><span class=\"params\">(self, s: str, t: str, maxCost: int)</span> -&gt; int:</span></span><br><span class=\"line\">    diff = [abs(ord(a)-ord(b)) <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(s, t)]</span><br><span class=\"line\">    q = collections.deque()</span><br><span class=\"line\">    cur_sum = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> diff:</span><br><span class=\"line\">        q.append(d)</span><br><span class=\"line\">        cur_sum += d</span><br><span class=\"line\">        <span class=\"keyword\">while</span> cur_sum &gt; maxCost:</span><br><span class=\"line\">            cur_sum -= q.popleft()</span><br><span class=\"line\">        ans = max(ans, len(q))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLee215ï¼Œå¼€å§‹æ¯”è¾ƒè¿·æƒ‘ä¸ºä»€ä¹ˆi, j ä¸ç”¨maxæ¥æ±‚å€¼ï¼Œçœ‹äº†è¯„è®ºå‘ç°æœ‰äººå’Œæˆ‘æœ‰ä¸€æ ·çš„ç–‘æƒ‘ï¼Œå¹¶ä¸”ç»™äº†è§£é‡Šï¼Œå¯¹äºæ­¤é¢˜è€Œè¨€ï¼Œæ»‘åŠ¨çª—å£çš„é•¿åº¦ä¸ä¼šç¼©çŸ­ã€‚å› ä¸ºåªç”¨äº†if è€Œä¸æ˜¯while</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">equalSubstring</span><span class=\"params\">(self, s: str, t: str, cost: int)</span> -&gt; int:</span></span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        cost -= abs(ord(s[j]) - ord(t[j]))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cost &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            cost += abs(ord(s[i]) - ord(t[i]))</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> j - i + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Sort-Colors\"><a href=\"#Sort-Colors\" class=\"headerlink\" title=\"Sort Colors\"></a>Sort Colors</h3><h4 id=\"0-1-2çš„æ•°ç»„æ’åºã€‚åŸé¢˜\"><a href=\"#0-1-2çš„æ•°ç»„æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"0,1,2çš„æ•°ç»„æ’åºã€‚åŸé¢˜\"></a>0,1,2çš„æ•°ç»„æ’åºã€‚<a href=\"https://leetcode.com/problems/sort-colors/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,0,2,1,1,0]</span><br><span class=\"line\">Output: [0,0,1,1,2,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ²¡æƒ³åˆ°æœ‰å¿«æ’çš„æ€æƒ³ã€‚ç»´æŒä¸‰ä¸ªåŒºé—´<code>[0,i) [i,j),[j,k)</code>åˆ†åˆ«è¡¨ç¤º0ï¼Œ1ï¼Œ2çš„åŒºé—´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortColors</span><span class=\"params\">(self, nums: List[int])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    i, j = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        v = nums[k]</span><br><span class=\"line\">        nums[k] = <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> v &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            nums[j] = <span class=\"number\">1</span></span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> v == <span class=\"number\">0</span>:</span><br><span class=\"line\">            nums[i] = <span class=\"number\">0</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1191-K-Concatenation-Maximum-Sum\"><a href=\"#1191-K-Concatenation-Maximum-Sum\" class=\"headerlink\" title=\"1191. K-Concatenation Maximum Sum\"></a>1191. K-Concatenation Maximum Sum</h3><h4 id=\"æ±‚k-arrçš„è¿ç»­æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\"><a href=\"#æ±‚k-arrçš„è¿ç»­æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚k*arrçš„è¿ç»­æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\"></a>æ±‚k*arrçš„è¿ç»­æ•°ç»„æœ€å¤§å’Œã€‚<a href=\"https://leetcode.com/problems/k-concatenation-maximum-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,2], k &#x3D; 3</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Input: arr &#x3D; [1,-2,1], k &#x3D; 5</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæƒ³åˆ°äº†å¡ç™»ç®—æ³•ï¼Œä½†æ˜¯æ²¡æƒ³æ˜ç™½ä¸ºå•¥è¦åŠ (k-2)ä¸ªæ•°ç»„çš„å’Œï¼Œå› ä¸ºé¦–ä½æ•°ç»„ä¸­é—´å¯ä»¥å¤¹å¸¦(k-2)ä¸ªæ•°ç»„ï¼Œå¦‚æœæ•°ç»„å’Œæ˜¯æ­£æ•°çš„è¯ï¼Œå°±å°†å®ƒç®—è¿›å»</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kConcatenationMaxSum</span><span class=\"params\">(self, arr: List[int], k: int, mod=<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">acc</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(accumulate(nums+[<span class=\"number\">0</span>], <span class=\"keyword\">lambda</span> x, y: x+y <span class=\"keyword\">if</span> x&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> y))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ((k<span class=\"number\">-2</span>)*max(sum(arr), <span class=\"number\">0</span>) + acc(arr*<span class=\"number\">2</span>)) % mod <span class=\"keyword\">if</span> k &gt; <span class=\"number\">1</span> <span class=\"keyword\">else</span> acc(arr) % mod</span><br></pre></td></tr></table></figure>\n<h3 id=\"448-Find-All-Numbers-Disappeared-in-an-Array\"><a href=\"#448-Find-All-Numbers-Disappeared-in-an-Array\" class=\"headerlink\" title=\"448. Find All Numbers Disappeared in an Array\"></a>448. Find All Numbers Disappeared in an Array</h3><h4 id=\"æ‰¾å‡ºné•¿åº¦çš„æ•°ç»„ä¸­1-nç¼ºå¤±çš„æ•°å­—ï¼Œæœ‰çš„æ•°å­—ä¼šå‡ºç°å¤šæ¬¡ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºné•¿åº¦çš„æ•°ç»„ä¸­1-nç¼ºå¤±çš„æ•°å­—ï¼Œæœ‰çš„æ•°å­—ä¼šå‡ºç°å¤šæ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºné•¿åº¦çš„æ•°ç»„ä¸­1-nç¼ºå¤±çš„æ•°å­—ï¼Œæœ‰çš„æ•°å­—ä¼šå‡ºç°å¤šæ¬¡ã€‚åŸé¢˜\"></a>æ‰¾å‡ºné•¿åº¦çš„æ•°ç»„ä¸­1-nç¼ºå¤±çš„æ•°å­—ï¼Œæœ‰çš„æ•°å­—ä¼šå‡ºç°å¤šæ¬¡ã€‚<a href=\"https://leetcode.com/problems/find-all-numbers-disappeared-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[4,3,2,7,8,2,3,1]</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">[5,6]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜è§£æ³•æŒºæ–°é¢–ï¼Œçœ‹ç€è¿™é¢˜å’Œå‰‘æŒ‡offerä¸­çš„æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯é‚£é“é¢˜æ˜¯å…¶å®ƒæ•°å­—å‡ºç°ä¸€æ¬¡ã€‚è¿™ä¸ªé¢˜çš„è§£æ³•æ˜¯å‡ºç°çš„ä½ç½®çš„æ•°å˜æˆè´Ÿçš„ï¼Œæœ€åæ‰¾æ­£æ•°çš„ç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDisappearedNumbers</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        index = abs(nums[i]) - <span class=\"number\">1</span></span><br><span class=\"line\">        nums[index] = -abs(nums[index])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [i+<span class=\"number\">1</span> <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums) <span class=\"keyword\">if</span> num&gt;<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-Container-With-Most-Water\"><a href=\"#11-Container-With-Most-Water\" class=\"headerlink\" title=\"11. Container With Most Water\"></a>11. Container With Most Water</h3><h4 id=\"æœ€å¤§çš„æ°´å®¹ç§¯ï¼Œç”¨åæ ‡è½´è£…æ°´ï¼Œæœ‰ç‚¹åƒæœ¨æ¡¶åŸç†ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„æ°´å®¹ç§¯ï¼Œç”¨åæ ‡è½´è£…æ°´ï¼Œæœ‰ç‚¹åƒæœ¨æ¡¶åŸç†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„æ°´å®¹ç§¯ï¼Œç”¨åæ ‡è½´è£…æ°´ï¼Œæœ‰ç‚¹åƒæœ¨æ¡¶åŸç†ã€‚åŸé¢˜\"></a>æœ€å¤§çš„æ°´å®¹ç§¯ï¼Œç”¨åæ ‡è½´è£…æ°´ï¼Œæœ‰ç‚¹åƒæœ¨æ¡¶åŸç†ã€‚<a href=\"https://leetcode.com/problems/container-with-most-water/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆï¼Œå¼€å§‹æ²¡æœ‰æƒ³åˆ°æŒ‡é’ˆå¦‚ä½•ç§»åŠ¨ã€‚å…¶å®è¿™æ ·æƒ³ï¼Œå¦‚æœä¸€ä¸ªåæ ‡æ¯”è¾ƒçŸ®ï¼Œé‚£å°±å°†å…¶èˆå¼ƒï¼Œå› ä¸ºå®½åº¦æ˜¯è¶Šæ¥è¶Šå°çš„ï¼Œæ‰€ä»¥éœ€è¦æ›´é«˜çš„æœ¨æ¡¶æ‰èƒ½å¼¥è¡¥ã€‚</p>\n<pre><code>def maxArea(self, height: List[int]) -&gt; int:\n    lo, hi = 0, len(height)-1\n    ans = 0\n    while lo &lt; hi:\n        ans = max(ans, (hi-lo)*min(height[hi], height[lo]))\n        if height[lo] &lt; height[hi]:\n            lo += 1\n        else:\n            hi -= 1\n    return ans\n</code></pre><h3 id=\"1498-Number-of-Subsequences-That-Satisfy-the-Given-Sum-Condition\"><a href=\"#1498-Number-of-Subsequences-That-Satisfy-the-Given-Sum-Condition\" class=\"headerlink\" title=\"1498. Number of Subsequences That Satisfy the Given Sum Condition\"></a>1498. Number of Subsequences That Satisfy the Given Sum Condition</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›æœ€å¤§å€¼æœ€å°å€¼å’Œå°äºç›®æ ‡å€¼çš„å­åºåˆ—ï¼Œå¯ä»¥ä¸è¿ç»­ï¼Œçš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›æœ€å¤§å€¼æœ€å°å€¼å’Œå°äºç›®æ ‡å€¼çš„å­åºåˆ—ï¼Œå¯ä»¥ä¸è¿ç»­ï¼Œçš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›æœ€å¤§å€¼æœ€å°å€¼å’Œå°äºç›®æ ‡å€¼çš„å­åºåˆ—ï¼Œå¯ä»¥ä¸è¿ç»­ï¼Œçš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›æœ€å¤§å€¼æœ€å°å€¼å’Œå°äºç›®æ ‡å€¼çš„å­åºåˆ—ï¼Œå¯ä»¥ä¸è¿ç»­ï¼Œçš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [3,5,6,7], target &#x3D; 9</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: There are 4 subsequences that satisfy the condition.</span><br><span class=\"line\">[3] -&gt; Min value + max value &lt;&#x3D; target (3 + 3 &lt;&#x3D; 9)</span><br><span class=\"line\">[3,5] -&gt; (3 + 5 &lt;&#x3D; 9)</span><br><span class=\"line\">[3,5,6] -&gt; (3 + 6 &lt;&#x3D; 9)</span><br><span class=\"line\">[3,6] -&gt; (3 + 6 &lt;&#x3D; 9)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æ€è·¯ç›¸å¯¹äº†ï¼Œä½†æ˜¯æŒ‡é’ˆç§»åŠ¨æ²¡æƒ³å¥½ã€‚æ¥è‡ªLee215ï¼Œç´¯åŠ çš„æ—¶å€™è¦è®¡ç®—ä¸€ä¸‹modå¦åˆ™æ•ˆç‡ä¼šå˜å¾ˆæ…¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSubseq</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[lo] + nums[hi] &gt; target:</span><br><span class=\"line\">            hi -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            res += pow(<span class=\"number\">2</span>, hi - lo, <span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"463-Island-Perimeter\"><a href=\"#463-Island-Perimeter\" class=\"headerlink\" title=\"463. Island Perimeter\"></a>463. Island Perimeter</h3><h4 id=\"å°å²›çš„å‘¨é•¿ï¼Œå°å²›ä¸­é—´æ²¡æœ‰æ¹–ã€‚åŸé¢˜\"><a href=\"#å°å²›çš„å‘¨é•¿ï¼Œå°å²›ä¸­é—´æ²¡æœ‰æ¹–ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°å²›çš„å‘¨é•¿ï¼Œå°å²›ä¸­é—´æ²¡æœ‰æ¹–ã€‚åŸé¢˜\"></a>å°å²›çš„å‘¨é•¿ï¼Œå°å²›ä¸­é—´æ²¡æœ‰æ¹–ã€‚<a href=\"https://leetcode.com/problems/island-perimeter/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[[0,1,0,0],</span><br><span class=\"line\"> [1,1,1,0],</span><br><span class=\"line\"> [0,1,0,0],</span><br><span class=\"line\"> [1,1,0,0]]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 16</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šstefanã€å› ä¸ºä¸­é—´æ²¡æœ‰æ¹–ï¼Œæ‰€ä»¥å‘¢å‘¨é•¿ç­‰äºæ‰€ä»¥ç›¸é‚»æ ¼å­ä¸ç›¸ç­‰çš„ä¸ªæ•°ã€‚è¿™é‡Œå°†åˆ—ä¹Ÿæ”¾åœ¨ä¸€èµ·è®¡ç®—äº†</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">islandPerimeter</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    cols = list(map(list, zip(*grid)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sum(map(ne, [<span class=\"number\">0</span>]+row, row+[<span class=\"number\">0</span>])) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> grid + cols)</span><br></pre></td></tr></table></figure>\n<h3 id=\"15-3Sum\"><a href=\"#15-3Sum\" class=\"headerlink\" title=\"15. 3Sum\"></a>15. 3Sum</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­3ä¸ªæ•°ç›¸åŠ ä¸º0ï¼Œè¿”å›æ‰€æœ‰çš„ç»„åˆéé‡å¤ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­3ä¸ªæ•°ç›¸åŠ ä¸º0ï¼Œè¿”å›æ‰€æœ‰çš„ç»„åˆéé‡å¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­3ä¸ªæ•°ç›¸åŠ ä¸º0ï¼Œè¿”å›æ‰€æœ‰çš„ç»„åˆéé‡å¤ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­3ä¸ªæ•°ç›¸åŠ ä¸º0ï¼Œè¿”å›æ‰€æœ‰çš„ç»„åˆéé‡å¤ã€‚<a href=\"https://leetcode.com/problems/3sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given array nums &#x3D; [-1, 0, 1, 2, -1, -4],</span><br><span class=\"line\"></span><br><span class=\"line\">A solution set is:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [-1, 0, 1],</span><br><span class=\"line\">  [-1, -1, 2]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é‡Œçœ‹äº†æç¤ºåç”¨çš„2sumçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">threeSum</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        a = nums[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        seen.add(a)</span><br><span class=\"line\">        d = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            b = nums[j]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> b <span class=\"keyword\">in</span> d <span class=\"keyword\">and</span> (<span class=\"keyword\">not</span>(ans) <span class=\"keyword\">or</span> (ans[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]!=a <span class=\"keyword\">or</span> ans[<span class=\"number\">-1</span>][<span class=\"number\">2</span>]!=b)):</span><br><span class=\"line\">                ans.append((a, -a-b, b))</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                d[-a-b] = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè®¨è®ºåŒºçœ‹åˆ°çš„ä¸€ä¸ªæ–¹æ³•ã€‚æ˜ç™½äº†è¿˜æœ‰è®¸å¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">threeSum</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    ans, n = [], len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-2</span>):</span><br><span class=\"line\">        a = nums[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span> <span class=\"comment\"># å› ä¸ºa&gt;0, b,c&gt;0ï¼Œæ‰€ä»¥ä¸å¯èƒ½å’Œä¸º0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">and</span> a == nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        lo, hi = i+<span class=\"number\">1</span>, n<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">            total = nums[lo] + nums[hi]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> total &gt; -a:</span><br><span class=\"line\">                hi -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> total &lt; -a:</span><br><span class=\"line\">                lo += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> nums[lo]==nums[lo+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                    lo += <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> lo&lt;hi <span class=\"keyword\">and</span> nums[hi]==nums[hi<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    hi -= <span class=\"number\">1</span></span><br><span class=\"line\">                ans.append((a, nums[lo], nums[hi]))</span><br><span class=\"line\">                lo += <span class=\"number\">1</span></span><br><span class=\"line\">                hi -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1508-Range-Sum-of-Sorted-Subarray-Sums\"><a href=\"#1508-Range-Sum-of-Sorted-Subarray-Sums\" class=\"headerlink\" title=\"1508. Range Sum of Sorted Subarray Sums\"></a>1508. Range Sum of Sorted Subarray Sums</h3><h4 id=\"æ•°ç»„çš„ç´¯åŠ å’Œæ’åºï¼Œå–åŒºé—´ä¸­çš„æ•°å­—å’Œã€‚åŸé¢˜\"><a href=\"#æ•°ç»„çš„ç´¯åŠ å’Œæ’åºï¼Œå–åŒºé—´ä¸­çš„æ•°å­—å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„çš„ç´¯åŠ å’Œæ’åºï¼Œå–åŒºé—´ä¸­çš„æ•°å­—å’Œã€‚åŸé¢˜\"></a>æ•°ç»„çš„ç´¯åŠ å’Œæ’åºï¼Œå–åŒºé—´ä¸­çš„æ•°å­—å’Œã€‚<a href=\"https://leetcode.com/problems/range-sum-of-sorted-subarray-sums/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,4], n &#x3D; 4, left &#x3D; 1, right &#x3D; 5</span><br><span class=\"line\">Output: 13 </span><br><span class=\"line\">Explanation: All subarray sums are 1, 3, 6, 10, 2, 5, 9, 3, 7, 4. After sorting them in non-decreasing order we have the new array [1, 2, 3, 3, 4, 5, 6, 7, 9, 10]. The sum of the numbers from index le &#x3D; 1 to ri &#x3D; 5 is 1 + 2 + 3 + 3 + 4 &#x3D; 13.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šO(n^2)çš„æ–¹æ³•ã€‚æ¯”èµ›çš„æ—¶å€™è¿˜ç”¨äº†accumulateï¼Œ ä½†æ˜¯å…¶å®æ²¡å¿…è¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeSum</span><span class=\"params\">(self, nums: List[int], n: int, left: int, right: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        cur = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, n):</span><br><span class=\"line\">            cur += nums[j]</span><br><span class=\"line\">            ans.append(cur)</span><br><span class=\"line\">    ans.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(ans[left<span class=\"number\">-1</span>: right]) % mod</span><br></pre></td></tr></table></figure>\n<h3 id=\"1509-Minimum-Difference-Between-Largest-and-Smallest-Value-in-Three-Moves\"><a href=\"#1509-Minimum-Difference-Between-Largest-and-Smallest-Value-in-Three-Moves\" class=\"headerlink\" title=\"1509. Minimum Difference Between Largest and Smallest Value in Three Moves\"></a>1509. Minimum Difference Between Largest and Smallest Value in Three Moves</h3><h4 id=\"åˆ é™¤3ä¸ªæ•°ï¼Œæ•°ç»„çš„æœ€å¤§å€¼æœ€å°å€¼å·®æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤3ä¸ªæ•°ï¼Œæ•°ç»„çš„æœ€å¤§å€¼æœ€å°å€¼å·®æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤3ä¸ªæ•°ï¼Œæ•°ç»„çš„æœ€å¤§å€¼æœ€å°å€¼å·®æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>åˆ é™¤3ä¸ªæ•°ï¼Œæ•°ç»„çš„æœ€å¤§å€¼æœ€å°å€¼å·®æœ€å°æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/minimum-difference-between-largest-and-smallest-value-in-three-moves/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ã€‚æ€è·¯å¾ˆç›´è§‚ï¼Œä½†æ˜¯å†™æ³•å´æœ‰ç‚¹å¤æ‚ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDifference</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &lt;= <span class=\"number\">3</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"comment\"># print(nums)</span></span><br><span class=\"line\">    ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">4</span>):</span><br><span class=\"line\">        tmp = nums[i:n<span class=\"number\">-3</span>+i]</span><br><span class=\"line\">        ans = min(ans, max(tmp) - min(tmp))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼š2è¡Œå°±å¯ä»¥æå®šã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDifference</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(b-a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(nums[:<span class=\"number\">4</span>], nums[<span class=\"number\">-4</span>:]))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå †æ±‚ä¹Ÿå¯ä»¥ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDifference</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(a - b <span class=\"keyword\">for</span> a,b <span class=\"keyword\">in</span> zip(heapq.nlargest(<span class=\"number\">4</span>, nums), heapq.nsmallest(<span class=\"number\">4</span>, nums)[::<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1529-Bulb-Switcher-IV\"><a href=\"#1529-Bulb-Switcher-IV\" class=\"headerlink\" title=\"1529. Bulb Switcher IV\"></a>1529. Bulb Switcher IV</h3><h4 id=\"ç¯æ³¡å¼€å…³ï¼Œæ¯æ¬¡åªèƒ½å¼€å…³ä»åå¼€å§‹çš„è¿ç»­çš„nä¸ªï¼Œé—®å˜æˆç›®æ ‡çŠ¶æ€ï¼Œæœ€å°‘éœ€è¦å‡ æ¬¡æ“ä½œã€‚åŸé¢˜\"><a href=\"#ç¯æ³¡å¼€å…³ï¼Œæ¯æ¬¡åªèƒ½å¼€å…³ä»åå¼€å§‹çš„è¿ç»­çš„nä¸ªï¼Œé—®å˜æˆç›®æ ‡çŠ¶æ€ï¼Œæœ€å°‘éœ€è¦å‡ æ¬¡æ“ä½œã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç¯æ³¡å¼€å…³ï¼Œæ¯æ¬¡åªèƒ½å¼€å…³ä»åå¼€å§‹çš„è¿ç»­çš„nä¸ªï¼Œé—®å˜æˆç›®æ ‡çŠ¶æ€ï¼Œæœ€å°‘éœ€è¦å‡ æ¬¡æ“ä½œã€‚åŸé¢˜\"></a>ç¯æ³¡å¼€å…³ï¼Œæ¯æ¬¡åªèƒ½å¼€å…³ä»åå¼€å§‹çš„è¿ç»­çš„nä¸ªï¼Œé—®å˜æˆç›®æ ‡çŠ¶æ€ï¼Œæœ€å°‘éœ€è¦å‡ æ¬¡æ“ä½œã€‚<a href=\"https://leetcode.com/problems/bulb-switcher-iv/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: target &#x3D; &quot;10111&quot;</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Initial configuration &quot;00000&quot;.</span><br><span class=\"line\">flip from the third bulb:  &quot;00000&quot; -&gt; &quot;00111&quot;</span><br><span class=\"line\">flip from the first bulb:  &quot;00111&quot; -&gt; &quot;11000&quot;</span><br><span class=\"line\">flip from the second bulb:  &quot;11000&quot; -&gt; &quot;10111&quot;</span><br><span class=\"line\">We need at least 3 flip operations to form target.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶çš„æ–¹æ³•ã€‚ åˆ†ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFlips</span><span class=\"params\">(self, target: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    first = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> l, g <span class=\"keyword\">in</span> itertools.groupby(target):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l == <span class=\"string\">'0'</span> <span class=\"keyword\">and</span> first:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">        first = <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸Šè¯‰æ–¹æ³•è¡¥0 ä¼˜åŒ–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFlips</span><span class=\"params\">(self, target: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(list(itertools.groupby(<span class=\"string\">'0'</span> + target))) - <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸åˆ†ç»„ï¼Œä¸€æ¬¡éå†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFlips</span><span class=\"params\">(self, target: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, b = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> target:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> int(c) == b:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            b = <span class=\"number\">1</span> - b</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"442-Find-All-Duplicates-in-an-Array\"><a href=\"#442-Find-All-Duplicates-in-an-Array\" class=\"headerlink\" title=\"442. Find All Duplicates in an Array\"></a>442. Find All Duplicates in an Array</h3><h4 id=\"æ‰¾åˆ°æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ éƒ½åœ¨1-nä¹‹é—´ï¼Œnä¸ºæ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ éƒ½åœ¨1-nä¹‹é—´ï¼Œnä¸ºæ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ éƒ½åœ¨1~nä¹‹é—´ï¼Œnä¸ºæ•°ç»„çš„é•¿åº¦ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ éƒ½åœ¨1~nä¹‹é—´ï¼Œnä¸ºæ•°ç»„çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/find-all-duplicates-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¦æ±‚åœ¨O(n)æ—¶é—´ï¼ŒO(1)ç©ºé—´å®ç°ï¼Œé‚£ä¹ˆå°±è€ƒè™‘ä¿®æ”¹åŸæ•°ç»„æ¥èŠ‚çœç©ºé—´ã€‚ä»¥è´Ÿå€¼æ¥è®°å½•æ˜¯å¦å‡ºç°è¿‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDuplicates</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[abs(x)<span class=\"number\">-1</span>] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            res.append(abs(x))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            nums[abs(x)<span class=\"number\">-1</span>] *= <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"713-Subarray-Product-Less-Than-K\"><a href=\"#713-Subarray-Product-Less-Than-K\" class=\"headerlink\" title=\"713. Subarray Product Less Than K\"></a>713. Subarray Product Less Than K</h3><h4 id=\"è¿ç»­å­æ•°ç»„ä¹˜ç§¯å°äºkçš„ä¸ªæ•°ï¼Œå…ƒç´ ä¸ºæ­£æ•°ã€‚åŸé¢˜\"><a href=\"#è¿ç»­å­æ•°ç»„ä¹˜ç§¯å°äºkçš„ä¸ªæ•°ï¼Œå…ƒç´ ä¸ºæ­£æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿ç»­å­æ•°ç»„ä¹˜ç§¯å°äºkçš„ä¸ªæ•°ï¼Œå…ƒç´ ä¸ºæ­£æ•°ã€‚åŸé¢˜\"></a>è¿ç»­å­æ•°ç»„ä¹˜ç§¯å°äºkçš„ä¸ªæ•°ï¼Œå…ƒç´ ä¸ºæ­£æ•°ã€‚<a href=\"https://leetcode.com/problems/subarray-product-less-than-k/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [10, 5, 2, 6], k &#x3D; 100</span><br><span class=\"line\">Output: 8</span><br><span class=\"line\">Explanation: The 8 subarrays that have product less than 100 are: [10], [5], [2], [6], [10, 5], [5, 2], [2, 6], [5, 2, 6].</span><br><span class=\"line\">Note that [10, 5, 2] is not included as the product of 100 is not strictly less than k.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³åˆ°äº†åŒç«¯é˜Ÿåˆ—ï¼Œä½†æ˜¯ç´¯åŠ æ—¶end-start+1æ•°é‡æ²¡æƒ³åˆ°ã€‚æ­¤é¢˜ç”¨åŒæŒ‡é’ˆå³å¯</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSubarrayProductLessThanK</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    start = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    prod = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> end, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> start&lt;=end <span class=\"keyword\">and</span> prod*num&gt;=k:</span><br><span class=\"line\">            prod //= nums[start]</span><br><span class=\"line\">            start += <span class=\"number\">1</span></span><br><span class=\"line\">        prod = <span class=\"number\">1</span> <span class=\"keyword\">if</span> start&gt;end <span class=\"keyword\">else</span> prod*num</span><br><span class=\"line\">        ans += (end-start+<span class=\"number\">1</span>) * (start&lt;=end)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"915-Partition-Array-into-Disjoint-Intervals\"><a href=\"#915-Partition-Array-into-Disjoint-Intervals\" class=\"headerlink\" title=\"915. Partition Array into Disjoint Intervals\"></a>915. Partition Array into Disjoint Intervals</h3><h4 id=\"å°†æ•°ç»„æ‹†æˆä¸¤ä¸ªéç©ºæ•°ç»„ï¼Œè¦æ±‚å·¦ä¾§çš„æ¯ä¸ªå…ƒç´ éƒ½å°äºç­‰äºå³ä¾§çš„æ¯ä¸ªå…ƒç´ ï¼Œæ±‚å·¦ä¾§æœ€å°çš„é•¿åº¦ï¼Œå‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"><a href=\"#å°†æ•°ç»„æ‹†æˆä¸¤ä¸ªéç©ºæ•°ç»„ï¼Œè¦æ±‚å·¦ä¾§çš„æ¯ä¸ªå…ƒç´ éƒ½å°äºç­‰äºå³ä¾§çš„æ¯ä¸ªå…ƒç´ ï¼Œæ±‚å·¦ä¾§æœ€å°çš„é•¿åº¦ï¼Œå‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ•°ç»„æ‹†æˆä¸¤ä¸ªéç©ºæ•°ç»„ï¼Œè¦æ±‚å·¦ä¾§çš„æ¯ä¸ªå…ƒç´ éƒ½å°äºç­‰äºå³ä¾§çš„æ¯ä¸ªå…ƒç´ ï¼Œæ±‚å·¦ä¾§æœ€å°çš„é•¿åº¦ï¼Œå‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"></a>å°†æ•°ç»„æ‹†æˆä¸¤ä¸ªéç©ºæ•°ç»„ï¼Œè¦æ±‚å·¦ä¾§çš„æ¯ä¸ªå…ƒç´ éƒ½å°äºç­‰äºå³ä¾§çš„æ¯ä¸ªå…ƒç´ ï¼Œæ±‚å·¦ä¾§æœ€å°çš„é•¿åº¦ï¼Œå‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚<a href=\"https://leetcode.com/problems/partition-array-into-disjoint-intervals/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [5,0,3,8,6]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: left &#x3D; [5,0,3], right &#x3D; [8,6]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè›®ç®€å•çš„ï¼Œtwo-passçš„æ–¹æ³•ï¼Œè¿™ä¸ªç´¯åŠ å‡½æ•°çš„ç”Ÿæˆå™¨ä¸èƒ½ç›´æ¥reversedï¼Œè¦å°†å…¶è½¬æ¢æˆæ•°ç»„ï¼Œè¿™é‡Œäº§ç”Ÿäº†ä¸€æ¬¡éå†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partitionDisjoint</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    left = itertools.accumulate(A, max)</span><br><span class=\"line\">    right = reversed(list(itertools.accumulate(reversed(A), min)))</span><br><span class=\"line\">    next(right, <span class=\"literal\">None</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (a, b) <span class=\"keyword\">in</span> enumerate(zip(left, right)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a &lt;= b:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šone-pass. è¿™ä¸ªæ–¹æ³•ä¸æ˜¯å¾ˆå¥½æƒ³ï¼Œæ€è·¯æ˜¯è¿™æ ·çš„ï¼Œå½“å½“å‰æ•°å°äºä¹‹å‰çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆä¹…å°†å…¶ç®—å…¥å·¦ä¾§çš„æ•°ç»„ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partitionDisjoint</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    p = <span class=\"number\">0</span></span><br><span class=\"line\">    cur_max = left_max = A[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        cur_max = max(cur_max, a)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a &lt; left_max:</span><br><span class=\"line\">            left_max = cur_max</span><br><span class=\"line\">            p = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1562-Find-Latest-Group-of-Size-M\"><a href=\"#1562-Find-Latest-Group-of-Size-M\" class=\"headerlink\" title=\"1562. Find Latest Group of Size M\"></a>1562. Find Latest Group of Size M</h3><h4 id=\"å°†ä¸€ä¸ªå…¨æ˜¯0çš„å­—ç¬¦ä¸²æŒ‰ç…§arrçš„ç´¢å¼•é¡ºåºå˜ä¸º1ï¼Œæ•´ä½“è¢«0åˆ†å‰²æˆè‹¥å¹²æ®µï¼Œé—®æœ€åæœ‰mä¸ªé•¿åº¦çš„â€1â€çš„æ®µæ—¶æ˜¯ç¬¬å‡ æ­¥ã€åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªå…¨æ˜¯0çš„å­—ç¬¦ä¸²æŒ‰ç…§arrçš„ç´¢å¼•é¡ºåºå˜ä¸º1ï¼Œæ•´ä½“è¢«0åˆ†å‰²æˆè‹¥å¹²æ®µï¼Œé—®æœ€åæœ‰mä¸ªé•¿åº¦çš„â€1â€çš„æ®µæ—¶æ˜¯ç¬¬å‡ æ­¥ã€åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªå…¨æ˜¯0çš„å­—ç¬¦ä¸²æŒ‰ç…§arrçš„ç´¢å¼•é¡ºåºå˜ä¸º1ï¼Œæ•´ä½“è¢«0åˆ†å‰²æˆè‹¥å¹²æ®µï¼Œé—®æœ€åæœ‰mä¸ªé•¿åº¦çš„â€1â€çš„æ®µæ—¶æ˜¯ç¬¬å‡ æ­¥ã€åŸé¢˜\"></a>å°†ä¸€ä¸ªå…¨æ˜¯0çš„å­—ç¬¦ä¸²æŒ‰ç…§arrçš„ç´¢å¼•é¡ºåºå˜ä¸º1ï¼Œæ•´ä½“è¢«0åˆ†å‰²æˆè‹¥å¹²æ®µï¼Œé—®æœ€åæœ‰mä¸ªé•¿åº¦çš„â€1â€çš„æ®µæ—¶æ˜¯ç¬¬å‡ æ­¥ã€<a href=\"https://leetcode.com/problems/find-latest-group-of-size-m/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [3,5,1,2,4], m &#x3D; 1</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Step 1: &quot;00100&quot;, groups: [&quot;1&quot;]</span><br><span class=\"line\">Step 2: &quot;00101&quot;, groups: [&quot;1&quot;, &quot;1&quot;]</span><br><span class=\"line\">Step 3: &quot;10101&quot;, groups: [&quot;1&quot;, &quot;1&quot;, &quot;1&quot;]</span><br><span class=\"line\">Step 4: &quot;11101&quot;, groups: [&quot;111&quot;, &quot;1&quot;]</span><br><span class=\"line\">Step 5: &quot;11111&quot;, groups: [&quot;11111&quot;]</span><br><span class=\"line\">The latest step at which there exists a group of size 1 is step 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æ²¡åšå‡ºæ¥ï¼ŒLeeçš„æ–¹æ³•ã€‚lengthè¡¨ç¤ºç¬¬iä¸ªbitçš„é•¿åº¦ï¼Œcountè¡¨ç¤ºè¿™ä¹ˆé•¿çš„groupæœ‰å¤šå°‘ä¸ªã€‚ä¸¥æ ¼æ¥è¯´<code>length[a-left]</code>å’Œ<code>lenght[a+right]</code>åŒºé—´å†…éƒ½åº”è¯¥å˜æˆleft+right+1ã€‚ä½†æ˜¯ç”±äºä¸­é—´çš„åç»­ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥ä¸å¿…èµ‹å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLatestStep</span><span class=\"params\">(self, arr: List[int], m: int)</span> -&gt; int:</span></span><br><span class=\"line\">    length = [<span class=\"number\">0</span>] * (len(arr)+<span class=\"number\">2</span>)</span><br><span class=\"line\">    count = [<span class=\"number\">0</span>] * (len(arr)+<span class=\"number\">1</span>)</span><br><span class=\"line\">    ans = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(arr):</span><br><span class=\"line\">        left, right = length[a<span class=\"number\">-1</span>], length[a+<span class=\"number\">1</span>]</span><br><span class=\"line\">        length[a] = length[a-left] = length[a+right] = left + right + <span class=\"number\">1</span></span><br><span class=\"line\">        count[left] -= <span class=\"number\">1</span></span><br><span class=\"line\">        count[right] -= <span class=\"number\">1</span></span><br><span class=\"line\">        count[length[a]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># print(length, count)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> count[m]:</span><br><span class=\"line\">            ans = i + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"334-Increasing-Triplet-Subsequence\"><a href=\"#334-Increasing-Triplet-Subsequence\" class=\"headerlink\" title=\"334. Increasing Triplet Subsequence\"></a>334. Increasing Triplet Subsequence</h3><h4 id=\"æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸‰ä¸ªå…ƒç´ é€’å¢ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸‰ä¸ªå…ƒç´ é€’å¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸‰ä¸ªå…ƒç´ é€’å¢ã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­æ˜¯å¦æœ‰ä¸‰ä¸ªå…ƒç´ é€’å¢ã€‚<a href=\"https://leetcode.com/problems/increasing-triplet-subsequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Input: [1,5,3,4,2]</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ï¼Œçœ‹äº†è¦æ±‚åœ¨O(n)æ—¶é—´O(1)ç©ºé—´å®ç°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increasingTriplet</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    a = b = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num &gt; b: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        a = min(a, num)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a&lt;num&lt;b: b=num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªstefançš„æ–¹æ³•ï¼Œå…·æœ‰æ³›åŒ–æ€§ï¼Œå¦‚æœæ±‚4ï¼Œ5ä¸ªå…ƒç´ é€’å¢å¯ä»¥ç›´æ¥ä¿®æ”¹å˜é‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">inc = [float(<span class=\"string\">'inf'</span>)] * <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        i = bisect.bisect_left(inc, x)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt;= <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        inc[i] = x</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"926-Flip-String-to-Monotone-Increasing\"><a href=\"#926-Flip-String-to-Monotone-Increasing\" class=\"headerlink\" title=\"926. Flip String to Monotone Increasing\"></a>926. Flip String to Monotone Increasing</h3><h4 id=\"å°†ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ç¿»è½¬æˆå•è°ƒé€’å¢æœ€å°‘è¦å‡ æ­¥ã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ç¿»è½¬æˆå•è°ƒé€’å¢æœ€å°‘è¦å‡ æ­¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ç¿»è½¬æˆå•è°ƒé€’å¢æœ€å°‘è¦å‡ æ­¥ã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ç¿»è½¬æˆå•è°ƒé€’å¢æœ€å°‘è¦å‡ æ­¥ã€‚<a href=\"https://leetcode.com/problems/flip-string-to-monotone-increasing/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;010110&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: We flip to get 011111, or alternatively 000111.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†ä¸€çœ¼è®¨è®ºåŒºï¼Œå°±æ˜ç™½äº†ï¼Œéå†æ—¶æ‰¾åˆ°é€’å¢çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ª1ï¼Œè®°å½•åè¾¹çš„0å’Œå‰è¾¹çš„1ã€‚è¿™é‡Œæˆ‘æ˜¯åœ¨åé¢è¡¥1ï¼Œä¹Ÿå¯ä»¥å°†ansåˆå§‹åŒ–ä¸ºlen(S)-suffix_0ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFlipsMonoIncr</span><span class=\"params\">(self, S: str)</span> -&gt; int:</span></span><br><span class=\"line\">    S += <span class=\"string\">'1'</span></span><br><span class=\"line\">    suffix_0, prefix_1 = S.count(<span class=\"string\">'0'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">    ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> S:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'0'</span>:</span><br><span class=\"line\">            suffix_0 -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = min(ans, suffix_0+prefix_1)</span><br><span class=\"line\">            prefix_1 += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"424-Longest-Repeating-Character-Replacement\"><a href=\"#424-Longest-Repeating-Character-Replacement\" class=\"headerlink\" title=\"424. Longest Repeating Character Replacement\"></a>424. Longest Repeating Character Replacement</h3><h4 id=\"ç”±26ä¸ªå¤§å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œåœ¨kæ¬¡æ›¿æ¢èŒƒå›´å†…ï¼Œäº§ç”Ÿçš„æœ€é•¿çš„é‡å¤å­—ç¬¦ä¸²æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#ç”±26ä¸ªå¤§å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œåœ¨kæ¬¡æ›¿æ¢èŒƒå›´å†…ï¼Œäº§ç”Ÿçš„æœ€é•¿çš„é‡å¤å­—ç¬¦ä¸²æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç”±26ä¸ªå¤§å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œåœ¨kæ¬¡æ›¿æ¢èŒƒå›´å†…ï¼Œäº§ç”Ÿçš„æœ€é•¿çš„é‡å¤å­—ç¬¦ä¸²æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>ç”±26ä¸ªå¤§å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œåœ¨kæ¬¡æ›¿æ¢èŒƒå›´å†…ï¼Œäº§ç”Ÿçš„æœ€é•¿çš„é‡å¤å­—ç¬¦ä¸²æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/longest-repeating-character-replacement/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">s &#x3D; &quot;ABAB&quot;, k &#x3D; 2</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">4</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Replace the two &#39;A&#39;s with two &#39;B&#39;s or vice versa.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£åŠ æ•°ç»„è®¡æ•°ã€‚time- O(26N)ã€‚whileæ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œleft+1å å·¦è¾¹ç­‰å·å°±ä¼šåˆšå¥½=k, ä¸è¿‡è¿™é‡Œçš„left, rightè¡¨ç¤ºçš„åŒºé—´æ„ä¹‰å˜äº†ï¼Œè¡¨ç¤ºçš„æ˜¯æœ€å¤§çš„æ»‘åŠ¨çª—å£ï¼Œçª—å£å†…çš„å­—ç¬¦ä¸²ä¸ä¸€å®šæ˜¯å¯ä»¥æ»¡è¶³æ¡ä»¶çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">characterReplacement</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    cnt = [<span class=\"number\">0</span>] * <span class=\"number\">26</span></span><br><span class=\"line\">    left = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> right, d <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        cnt[ord(d)-ord(<span class=\"string\">'A'</span>)] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># while right-left+1-max(cnt) &gt; k:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> right-left+<span class=\"number\">1</span>-max(cnt) &gt; k:</span><br><span class=\"line\">            cnt[ord(s[left])-ord(<span class=\"string\">'A'</span>)] -= <span class=\"number\">1</span></span><br><span class=\"line\">            left += <span class=\"number\">1</span></span><br><span class=\"line\">        ans = max(ans, right-left+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šç ”ç©¶äº†å¾ˆä¹…ä¹Ÿæ²¡å¼„æ˜ç™½ï¼Œä¸ºä»€ä¹ˆmaxfæ›¾ç»æœ€å¤§çš„å€¼ï¼Œå¯ä»¥æ›¿ä»£max(cnt)ã€‚ç†è®ºä¸Šæ—¶é—´ç¡®å®æ¯”ä¸Šè¿°å¿«äº†ã€‚Time-O(N)ã€‚æˆ‘è¯•äº†ä¸€ä¸ªç‰¹æ®Šçš„ä¾‹å­ï¼Œâ€BBBCADEFâ€1ï¼Œåœ¨æŸäº›æƒ…å†µmaxf &gt; max(cnt)çš„ï¼Œä½†å³ä¾¿è¿™æ ·ä¹Ÿæ²¡æœ‰å½±å“ifåˆ¤æ–­ï¼ŒçŒœæµ‹å¯èƒ½ä¸ºright-left+1åŒºé—´ä¸ºæœ€å¤§åŒºé—´ã€‚ä¸è¿‡åˆå°†ifæ”¹æˆwhileå¾ªç¯ï¼Œä¾ç„¶æ²¡æœ‰å½±å“ã€‚æ­¤è§£æ³•è¿˜æ˜¯æœ‰äº›ç–‘æƒ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">characterReplacement</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    cnt = [<span class=\"number\">0</span>] * <span class=\"number\">26</span></span><br><span class=\"line\">    left = ans = maxf = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> right, d <span class=\"keyword\">in</span> enumerate(s):</span><br><span class=\"line\">        cnt[ord(d)-ord(<span class=\"string\">'A'</span>)] += <span class=\"number\">1</span></span><br><span class=\"line\">        maxf = max(maxf, cnt[ord(d)-ord(<span class=\"string\">'A'</span>)])</span><br><span class=\"line\">        <span class=\"comment\"># while right-left+1-max(cnt) &gt; k:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(maxf, max(cnt), left, right, ans)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> right-left+<span class=\"number\">1</span>-maxf &gt; k:</span><br><span class=\"line\">            cnt[ord(s[left])-ord(<span class=\"string\">'A'</span>)] -= <span class=\"number\">1</span></span><br><span class=\"line\">            left += <span class=\"number\">1</span></span><br><span class=\"line\">        ans = max(ans, right-left+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"398-Random-Pick-Index\"><a href=\"#398-Random-Pick-Index\" class=\"headerlink\" title=\"398. Random Pick Index\"></a>398. Random Pick Index</h3><h4 id=\"æœ‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘æƒ³éšæœºçš„å»ä¸€ä¸ªç›®æ ‡çš„å…ƒç´ ï¼Œæ‰¾åˆ°å’Œç›®æ ‡ç›¸ç­‰çš„è¿™äº›å…ƒç´ éšæœºè¿”å›ä¸€ä¸ªç´¢å¼•ã€‚åŸé¢˜\"><a href=\"#æœ‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘æƒ³éšæœºçš„å»ä¸€ä¸ªç›®æ ‡çš„å…ƒç´ ï¼Œæ‰¾åˆ°å’Œç›®æ ‡ç›¸ç­‰çš„è¿™äº›å…ƒç´ éšæœºè¿”å›ä¸€ä¸ªç´¢å¼•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘æƒ³éšæœºçš„å»ä¸€ä¸ªç›®æ ‡çš„å…ƒç´ ï¼Œæ‰¾åˆ°å’Œç›®æ ‡ç›¸ç­‰çš„è¿™äº›å…ƒç´ éšæœºè¿”å›ä¸€ä¸ªç´¢å¼•ã€‚åŸé¢˜\"></a>æœ‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘æƒ³éšæœºçš„å»ä¸€ä¸ªç›®æ ‡çš„å…ƒç´ ï¼Œæ‰¾åˆ°å’Œç›®æ ‡ç›¸ç­‰çš„è¿™äº›å…ƒç´ éšæœºè¿”å›ä¸€ä¸ªç´¢å¼•ã€‚<a href=\"https://leetcode.com/problems/random-pick-index/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">int[] nums &#x3D; new int[] &#123;1,2,3,3,3&#125;;</span><br><span class=\"line\">Solution solution &#x3D; new Solution(nums);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; pick(3) should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.</span><br><span class=\"line\">solution.pick(3);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; pick(1) should return 0. Since in the array only nums[0] is equal to 1.</span><br><span class=\"line\">solution.pick(1);</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç›´æ¥æ”¾åˆ°defaultdictä¸­ä¹Ÿæ²¡æœ‰è¶…è¿‡ç©ºé—´é™åˆ¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nums: List[int])</span>:</span></span><br><span class=\"line\">        self.p = collections.defaultdict(list)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">            self.p[d].append(i)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pick</span><span class=\"params\">(self, target: int)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> random.choice(self.p[target])</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸€ä¸ªæ–°çš„æ–¹æ³•å«ä½œè“„æ°´æ± å–æ ·ï¼Œå½“é‡è§äº†ä¸€ä¸ªç›®æ ‡æ•°ï¼Œå°±å°†å®ƒæ”¾åˆ°æ± å­ä¸­ï¼Œç„¶åéšæœºä¸€ä¸ªæ•°ã€‚å¹¶åœ¨éšåˆ°å½“å‰æ•°æ—¶æ›´æ–°ç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nums: List[int])</span>:</span></span><br><span class=\"line\">        self.nums = nums</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pick</span><span class=\"params\">(self, target: int)</span> -&gt; int:</span></span><br><span class=\"line\">        ans = <span class=\"literal\">None</span></span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(self.nums):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num == target:</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">                chance = random.randint(<span class=\"number\">1</span>, count)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> chance == count:</span><br><span class=\"line\">                    ans = i</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"382-Linked-List-Random-Node\"><a href=\"#382-Linked-List-Random-Node\" class=\"headerlink\" title=\"382. Linked List Random Node\"></a>382. Linked List Random Node</h3><h4 id=\"åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Šéšæœºå–ä¸€ä¸ªèŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"><a href=\"#åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Šéšæœºå–ä¸€ä¸ªèŠ‚ç‚¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Šéšæœºå–ä¸€ä¸ªèŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"></a>åœ¨ä¸€ä¸ªé“¾è¡¨ä¸Šéšæœºå–ä¸€ä¸ªèŠ‚ç‚¹å€¼ã€‚<a href=\"https://leetcode.com/problems/linked-list-random-node/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå’Œ398ä¸€æ ·ã€‚å‡è®¾é“¾è¡¨æ— é™å¤§ï¼Œä¸èƒ½å¤Ÿè·å–å®ƒçš„é•¿åº¦ã€‚è¿™æ˜¯éå¸¸ç»å…¸çš„ä¸€ä¸ªé¢˜ã€‚ä¸€ä¸ªå¾ˆå¤§çš„æ•°æ®æµï¼Œå¯¹æ•°æ®æµçš„å†…å®¹åªèƒ½è®¿é—®ä¸€æ¬¡ï¼Œéšæœºç®—æ³•ä½¿æ•°æ®æµä¸­æ‰€æœ‰çš„è¢«é€‰ä¸­çš„æ¦‚ç‡ç›¸ç­‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nums: List[int])</span>:</span></span><br><span class=\"line\">        self.nums = nums</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pick</span><span class=\"params\">(self, target: int)</span> -&gt; int:</span></span><br><span class=\"line\">        ans = <span class=\"literal\">None</span></span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(self.nums):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num == target:</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">                chance = random.randint(<span class=\"number\">1</span>, count)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> chance == count:</span><br><span class=\"line\">                    ans = i</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"209-Minimum-Size-Subarray-Sum\"><a href=\"#209-Minimum-Size-Subarray-Sum\" class=\"headerlink\" title=\"209. Minimum Size Subarray Sum\"></a>209. Minimum Size Subarray Sum</h3><h4 id=\"ç´¯åŠ å’Œå¤§äºsçš„æœ€çŸ­çš„å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#ç´¯åŠ å’Œå¤§äºsçš„æœ€çŸ­çš„å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç´¯åŠ å’Œå¤§äºsçš„æœ€çŸ­çš„å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"></a>ç´¯åŠ å’Œå¤§äºsçš„æœ€çŸ­çš„å­æ•°ç»„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/minimum-size-subarray-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; 7, nums &#x3D; [2,3,1,2,4,3]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: the subarray [4,3] has the minimal length under the problem constraint.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ã€‚æ³¨æ„Aä¸ºç©ºçš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSubArrayLen</span><span class=\"params\">(self, s: int, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    i, ans = <span class=\"number\">0</span>, len(A)+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">        s -= A[j]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> s &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans = min(ans, j-i+<span class=\"number\">1</span>)</span><br><span class=\"line\">            s += A[i]</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans % (len(A)+<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"930-Binary-Subarrays-With-Sum\"><a href=\"#930-Binary-Subarrays-With-Sum\" class=\"headerlink\" title=\"930. Binary Subarrays With Sum\"></a>930. Binary Subarrays With Sum</h3><h4 id=\"æ±‚å’Œæˆ‘Sçš„å­æ•°ç»„ä¸ªæ•°ï¼Œæ•°ç»„å…ƒç´ åªåŒ…å«0ï¼Œ1ã€‚åŸé¢˜\"><a href=\"#æ±‚å’Œæˆ‘Sçš„å­æ•°ç»„ä¸ªæ•°ï¼Œæ•°ç»„å…ƒç´ åªåŒ…å«0ï¼Œ1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚å’Œæˆ‘Sçš„å­æ•°ç»„ä¸ªæ•°ï¼Œæ•°ç»„å…ƒç´ åªåŒ…å«0ï¼Œ1ã€‚åŸé¢˜\"></a>æ±‚å’Œæˆ‘Sçš„å­æ•°ç»„ä¸ªæ•°ï¼Œæ•°ç»„å…ƒç´ åªåŒ…å«0ï¼Œ1ã€‚<a href=\"https://leetcode.com/problems/binary-subarrays-with-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [1,0,1,0,1], S &#x3D; 2</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The 4 subarrays are bolded below:</span><br><span class=\"line\">[1,0,1,0,1]</span><br><span class=\"line\">[1,0,1,0,1]</span><br><span class=\"line\">[1,0,1,0,1]</span><br><span class=\"line\">[1,0,1,0,1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™ç§é¢˜è¦æ±‚at_most. æ»‘åŠ¨çª—å£ï¼Œç”¨å’Œå°äºç­‰äºSçš„å­æ•°ç»„ä¸ªæ•°å‡å»å°äºç­‰äºS-1çš„å­æ•°ç»„ä¸ªæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSubarraysWithSum</span><span class=\"params\">(self, A: List[int], S: int)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">at_most</span><span class=\"params\">(S)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> S &lt; <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        res = i = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(A)):</span><br><span class=\"line\">            S -= A[j]</span><br><span class=\"line\">            <span class=\"keyword\">while</span> S &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                S += A[i]</span><br><span class=\"line\">                i += <span class=\"number\">1</span></span><br><span class=\"line\">            res += j-i+<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> at_most(S) - at_most(S<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"969-Pancake-Sorting\"><a href=\"#969-Pancake-Sorting\" class=\"headerlink\" title=\"969. Pancake Sorting\"></a>969. Pancake Sorting</h3><h4 id=\"ç…é¥¼æ’åºã€‚ç”±1-nç»„æˆï¼Œæ²¡æ¬¡åªèƒ½reverseå‰kä¸ªï¼Œæ±‚kçš„æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#ç…é¥¼æ’åºã€‚ç”±1-nç»„æˆï¼Œæ²¡æ¬¡åªèƒ½reverseå‰kä¸ªï¼Œæ±‚kçš„æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç…é¥¼æ’åºã€‚ç”±1~nç»„æˆï¼Œæ²¡æ¬¡åªèƒ½reverseå‰kä¸ªï¼Œæ±‚kçš„æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"></a>ç…é¥¼æ’åºã€‚ç”±1~nç»„æˆï¼Œæ²¡æ¬¡åªèƒ½reverseå‰kä¸ªï¼Œæ±‚kçš„æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/pancake-sorting/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [3,2,4,1]</span><br><span class=\"line\">Output: [4,2,4,3]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">We perform 4 pancake flips, with k values 4, 2, 4, and 3.</span><br><span class=\"line\">Starting state: A &#x3D; [3, 2, 4, 1]</span><br><span class=\"line\">After 1st flip (k &#x3D; 4): A &#x3D; [1, 4, 2, 3]</span><br><span class=\"line\">After 2nd flip (k &#x3D; 2): A &#x3D; [4, 1, 2, 3]</span><br><span class=\"line\">After 3rd flip (k &#x3D; 4): A &#x3D; [3, 2, 1, 4]</span><br><span class=\"line\">After 4th flip (k &#x3D; 3): A &#x3D; [1, 2, 3, 4], which is sorted.</span><br><span class=\"line\">Notice that we return an array of the chosen k values of the pancake flips.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¾‹å­ä¸­çš„åšæ³•ä¸æ˜¯å¾ˆå¥½ï¼Œåªéœ€è¦æ¯æ¬¡æ‰¾æœ€å¤§çš„ï¼Œç„¶åç¿»åˆ°é¦–ä½ï¼Œç„¶åå†å…¨ç¿»è½¬ä½¿å…¶åˆ°è¾¾æœ«å°¾ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pancakeSort</span><span class=\"params\">(self, A: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, n = [], len(A)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] != i+<span class=\"number\">1</span>:</span><br><span class=\"line\">            j = A.index(i+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j:</span><br><span class=\"line\">                ans.append(j+<span class=\"number\">1</span>)</span><br><span class=\"line\">                A = A[:j+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>] + A[j+<span class=\"number\">1</span>:]</span><br><span class=\"line\">            ans.append(i+<span class=\"number\">1</span>)</span><br><span class=\"line\">            A = A[:i+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>] + A[i+<span class=\"number\">1</span>:]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•æŠŠ1ä¹Ÿæ”¾è¿›å»äº†ã€‚å…¶å®æ˜¯æ— æ‰€è°“çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pancakeSort</span><span class=\"params\">(self, A: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, n = [], len(A)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(n, <span class=\"number\">1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        i = A.index(x)</span><br><span class=\"line\">        ans.extend((i+<span class=\"number\">1</span>, x))</span><br><span class=\"line\">        A = A[:i:<span class=\"number\">-1</span>] + A[:i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1566-Detect-Pattern-of-Length-M-Repeated-K-or-More-Times\"><a href=\"#1566-Detect-Pattern-of-Length-M-Repeated-K-or-More-Times\" class=\"headerlink\" title=\"1566. Detect Pattern of Length M Repeated K or More Times\"></a>1566. Detect Pattern of Length M Repeated K or More Times</h3><h4 id=\"åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰kæ¬¡ä»¥ä¸Šä¸ªé‡å¤çš„Må¤§å°çš„ç»„ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰kæ¬¡ä»¥ä¸Šä¸ªé‡å¤çš„Må¤§å°çš„ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰kæ¬¡ä»¥ä¸Šä¸ªé‡å¤çš„Må¤§å°çš„ç»„ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰kæ¬¡ä»¥ä¸Šä¸ªé‡å¤çš„Må¤§å°çš„ç»„ã€‚<a href=\"https://leetcode.com/problems/detect-pattern-of-length-m-repeated-k-or-more-times/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,2,4,4,4,4], m &#x3D; 1, k &#x3D; 3</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: The pattern (4) of length 1 is repeated 4 consecutive times. Notice that pattern can be repeated k or more times but not less.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsPattern</span><span class=\"params\">(self, arr: List[int], m: int, k: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    n = len(arr)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        end = i + m*k</span><br><span class=\"line\">        <span class=\"keyword\">if</span> end &gt; n: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        tmp = arr[i:i+m]</span><br><span class=\"line\">        <span class=\"comment\"># if all(arr[i+m*j:i+m*j+m] == tmp for j in range(1, k)):</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[i:i+m*k] == tmp*k:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•æŒºéš¾æƒ³ï¼Œä¸ºä»€ä¹ˆæ˜¯<code>(k-1)*m</code>å› ä¸ºç¬¬ä¸€ä¸ªç”¨æ¥æ¯”è¾ƒï¼Œä¸ç®—åœ¨å†…ï¼Œå¦‚æœåœ¨è¾¾åˆ°ä¹‹å‰æœ‰ä¸€ä¸ªä¸ç›¸ç­‰ï¼Œåˆ™å½’é›¶ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsPattern</span><span class=\"params\">(self, arr: List[int], m: int, k: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    streak = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(arr)-m):</span><br><span class=\"line\">        streak = streak + <span class=\"number\">1</span> <span class=\"keyword\">if</span> arr[i] == arr[i+m] <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> streak == (k<span class=\"number\">-1</span>)*m: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"228-Summary-Ranges\"><a href=\"#228-Summary-Ranges\" class=\"headerlink\" title=\"228. Summary Ranges\"></a>228. Summary Ranges</h3><h4 id=\"æ ¼å¼åŒ–ä¸€æ®µrangeã€‚åŸé¢˜\"><a href=\"#æ ¼å¼åŒ–ä¸€æ®µrangeã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¼å¼åŒ–ä¸€æ®µrangeã€‚åŸé¢˜\"></a>æ ¼å¼åŒ–ä¸€æ®µrangeã€‚<a href=\"https://leetcode.com/problems/summary-ranges/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:  [0,1,2,4,5,7]</span><br><span class=\"line\">Output: [&quot;0-&gt;2&quot;,&quot;4-&gt;5&quot;,&quot;7&quot;]</span><br><span class=\"line\">Explanation: 0,1,2 form a continuous range; 4,5 form a continuous range.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆç®€å•ï¼Œè®°å½•è¿™é¢˜ä¸»è¦æ˜¯å­¦åˆ°äº†ä¸€ä¸ªæ–°çš„å†™æ³•ã€‚å…ˆè´´è‡ªå·±çš„è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">summaryRanges</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> stack <span class=\"keyword\">or</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]+<span class=\"number\">1</span>&lt;d:</span><br><span class=\"line\">            stack.append([d])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(stack[<span class=\"number\">-1</span>]) == <span class=\"number\">2</span>:</span><br><span class=\"line\">                stack[<span class=\"number\">-1</span>].pop()</span><br><span class=\"line\">            stack[<span class=\"number\">-1</span>].append(d)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">'-&gt;'</span>.join(map(str, p)) <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> stack]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šstefançš„å†™æ³•ã€‚<code>[][1:] = 1,</code>æ•°ç»„ä¼šå˜æˆ[1]ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">summaryRanges</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> stack <span class=\"keyword\">or</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]+<span class=\"number\">1</span>&lt;d:</span><br><span class=\"line\">            stack.append([])</span><br><span class=\"line\">        stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>:] = d, </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">'-&gt;'</span>.join(map(str, p)) <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> stack]</span><br></pre></td></tr></table></figure>\n<h3 id=\"769-Max-Chunks-To-Make-Sorted\"><a href=\"#769-Max-Chunks-To-Make-Sorted\" class=\"headerlink\" title=\"769. Max Chunks To Make Sorted\"></a>769. Max Chunks To Make Sorted</h3><h4 id=\"å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„åˆ†æˆå‡ å—å°æ•°ç»„ï¼Œç„¶åä½¿æ¯ä¸ªå°æ•°ç»„æ’åºåè¿æ¥èµ·æ¥ï¼Œæ•´ä¸ªå¤§æ•°ç»„æœ‰åºï¼Œé—®æœ€å¤šå¯ä»¥åˆ†æˆå¤šå°‘å—ã€‚åŸé¢˜\"><a href=\"#å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„åˆ†æˆå‡ å—å°æ•°ç»„ï¼Œç„¶åä½¿æ¯ä¸ªå°æ•°ç»„æ’åºåè¿æ¥èµ·æ¥ï¼Œæ•´ä¸ªå¤§æ•°ç»„æœ‰åºï¼Œé—®æœ€å¤šå¯ä»¥åˆ†æˆå¤šå°‘å—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„åˆ†æˆå‡ å—å°æ•°ç»„ï¼Œç„¶åä½¿æ¯ä¸ªå°æ•°ç»„æ’åºåè¿æ¥èµ·æ¥ï¼Œæ•´ä¸ªå¤§æ•°ç»„æœ‰åºï¼Œé—®æœ€å¤šå¯ä»¥åˆ†æˆå¤šå°‘å—ã€‚åŸé¢˜\"></a>å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„åˆ†æˆå‡ å—å°æ•°ç»„ï¼Œç„¶åä½¿æ¯ä¸ªå°æ•°ç»„æ’åºåè¿æ¥èµ·æ¥ï¼Œæ•´ä¸ªå¤§æ•°ç»„æœ‰åºï¼Œé—®æœ€å¤šå¯ä»¥åˆ†æˆå¤šå°‘å—ã€‚<a href=\"https://leetcode.com/problems/max-chunks-to-make-sorted/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,0,2,3,4]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">We can split into two chunks, such as [1, 0], [2, 3, 4].</span><br><span class=\"line\">However, splitting into [1, 0], [2], [3], [4] is the highest number of chunks possible.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç›´ç™½æ¥çœ‹ï¼Œå¦‚æœæŸä¸€æ®µåŒ…å«äº†æ’åºååº”è¯¥æœ‰çš„æ‰€æœ‰çš„æ•°ï¼Œé‚£ä¹ˆä¹…å°†å…¶åˆ†æˆä¸€æ®µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxChunksToSorted</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, n = <span class=\"number\">0</span>, len(arr)</span><br><span class=\"line\">    start = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> sorted(arr[start:end]) == list(range(start, end)):</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            start = end</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ã€‚å½“max(A[0]~A[i])==iæ—¶åˆ†å‰²ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ªåŸç†ï¼Œå¦‚æœæ›´å¤§çš„æ•°å‚å…¥åˆ°ä¹‹å‰çš„æ®µä¸­ï¼Œæœ€å¤§å€¼å°±ä¼šæ›´æ–°ï¼Œæƒ³è¦åœ¨æŸç‚¹å’Œç´¢å¼•ç›¸ç­‰ï¼Œå°±å¿…é¡»å°†æ¯”å®ƒå°çš„æ•°å…¨æ‰¾åˆ°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxChunksToSorted</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cur_max, ans = <span class=\"number\">-1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(arr):</span><br><span class=\"line\">        cur_max = max(num, cur_max)</span><br><span class=\"line\">        ans += cur_max==i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"390-Elimination-Game\"><a href=\"#390-Elimination-Game\" class=\"headerlink\" title=\"390. Elimination Game\"></a>390. Elimination Game</h3><h4 id=\"æ¶ˆé™¤æ¸¸æˆï¼Œä»1-nçš„æ•°ç»„ï¼Œæ¯æ¬¡ä»å·¦åˆ°å³éš”ä¸€ä¸ªåˆ é™¤ï¼Œç„¶åä»å³åˆ°å·¦éš”ä¸€ä¸ªåˆ é™¤ã€‚æœ€åå‰©ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å“ªä¸ªã€‚åŸé¢˜\"><a href=\"#æ¶ˆé™¤æ¸¸æˆï¼Œä»1-nçš„æ•°ç»„ï¼Œæ¯æ¬¡ä»å·¦åˆ°å³éš”ä¸€ä¸ªåˆ é™¤ï¼Œç„¶åä»å³åˆ°å·¦éš”ä¸€ä¸ªåˆ é™¤ã€‚æœ€åå‰©ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å“ªä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¶ˆé™¤æ¸¸æˆï¼Œä»1~nçš„æ•°ç»„ï¼Œæ¯æ¬¡ä»å·¦åˆ°å³éš”ä¸€ä¸ªåˆ é™¤ï¼Œç„¶åä»å³åˆ°å·¦éš”ä¸€ä¸ªåˆ é™¤ã€‚æœ€åå‰©ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å“ªä¸ªã€‚åŸé¢˜\"></a>æ¶ˆé™¤æ¸¸æˆï¼Œä»1~nçš„æ•°ç»„ï¼Œæ¯æ¬¡ä»å·¦åˆ°å³éš”ä¸€ä¸ªåˆ é™¤ï¼Œç„¶åä»å³åˆ°å·¦éš”ä¸€ä¸ªåˆ é™¤ã€‚æœ€åå‰©ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å“ªä¸ªã€‚<a href=\"https://leetcode.com/problems/elimination-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">n &#x3D; 9,</span><br><span class=\"line\">1 2 3 4 5 6 7 8 9</span><br><span class=\"line\">2 4 6 8</span><br><span class=\"line\">2 6</span><br><span class=\"line\">6</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">6</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåœ¨ç”¨åˆ‡ç‰‡æ–¹æ³•å‘ç°nèƒ½åˆ°1äº¿æ—¶ï¼Œè¶…æ—¶äº†ï¼›ç„¶åæƒ³åˆ°å…¶å®åªéœ€è¦æ§åˆ¶ä¸€ä¸ªèŒƒå›´å³å¯ã€‚æ¯æ¬¡æ“ä½œåï¼Œæ•°ç»„ä¸­çš„ç­‰å·®å˜ä¸ºåŸæ¥çš„2å€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lastRemaining</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    start, end, d = <span class=\"number\">1</span>, n, <span class=\"number\">1</span></span><br><span class=\"line\">    op = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> start &lt; end:</span><br><span class=\"line\">        <span class=\"comment\"># print(start, end, d, op)</span></span><br><span class=\"line\">        num = (end-start)//d + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> op:</span><br><span class=\"line\">            start += d</span><br><span class=\"line\">            end -= (num&amp;<span class=\"number\">1</span>) * d</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            start += (num&amp;<span class=\"number\">1</span>) * d</span><br><span class=\"line\">            end -= d</span><br><span class=\"line\">        op ^= <span class=\"number\">1</span></span><br><span class=\"line\">        d *= <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> start</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ•´ç†ä»£ç ã€‚endå…¶å®æ— ç”¨ï¼Œç”¨ä¸€ä¸ªnumè¡¨ç¤ºå‰©ä½™çš„æ•°å­—ä¸ªæ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lastRemaining</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    start = d = left = <span class=\"number\">1</span></span><br><span class=\"line\">    num = n</span><br><span class=\"line\">    <span class=\"keyword\">while</span> num &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        start += (left <span class=\"keyword\">or</span> (num&amp;<span class=\"number\">1</span>)) * d</span><br><span class=\"line\">        left ^= <span class=\"number\">1</span></span><br><span class=\"line\">        d *= <span class=\"number\">2</span></span><br><span class=\"line\">        num //= <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> start</span><br></pre></td></tr></table></figure>\n<h3 id=\"853-Car-Fleet\"><a href=\"#853-Car-Fleet\" class=\"headerlink\" title=\"853. Car Fleet\"></a>853. Car Fleet</h3><h4 id=\"è¶…è½¦è½¦é˜Ÿï¼Œè¯´æœ‰è¿™ä¹ˆä¸€äº›è½¦å‘åŒä¸€ä¸ªç›®çš„åœ°å‡ºå‘ï¼Œèµ·å§‹ä½ç½®å’Œé€Ÿåº¦ä¸åŒï¼Œå½“å¿«è½¦é‡è§æ…¢è½¦æ—¶ä¸èƒ½è¶…è¿‡ï¼Œè€Œæ˜¯è·Ÿåœ¨åé¢å˜æˆä¸€ä¸ªè½¦é˜Ÿã€‚é—®æœ€ååˆ°è¾¾ç»ˆç‚¹æ—¶æœ‰å‡ ä¸ªè½¦é˜Ÿï¼Œ1è¾†è½¦ä¹Ÿç®—ä¸€ä¸ªè½¦é˜Ÿã€‚åŸé¢˜\"><a href=\"#è¶…è½¦è½¦é˜Ÿï¼Œè¯´æœ‰è¿™ä¹ˆä¸€äº›è½¦å‘åŒä¸€ä¸ªç›®çš„åœ°å‡ºå‘ï¼Œèµ·å§‹ä½ç½®å’Œé€Ÿåº¦ä¸åŒï¼Œå½“å¿«è½¦é‡è§æ…¢è½¦æ—¶ä¸èƒ½è¶…è¿‡ï¼Œè€Œæ˜¯è·Ÿåœ¨åé¢å˜æˆä¸€ä¸ªè½¦é˜Ÿã€‚é—®æœ€ååˆ°è¾¾ç»ˆç‚¹æ—¶æœ‰å‡ ä¸ªè½¦é˜Ÿï¼Œ1è¾†è½¦ä¹Ÿç®—ä¸€ä¸ªè½¦é˜Ÿã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¶…è½¦è½¦é˜Ÿï¼Œè¯´æœ‰è¿™ä¹ˆä¸€äº›è½¦å‘åŒä¸€ä¸ªç›®çš„åœ°å‡ºå‘ï¼Œèµ·å§‹ä½ç½®å’Œé€Ÿåº¦ä¸åŒï¼Œå½“å¿«è½¦é‡è§æ…¢è½¦æ—¶ä¸èƒ½è¶…è¿‡ï¼Œè€Œæ˜¯è·Ÿåœ¨åé¢å˜æˆä¸€ä¸ªè½¦é˜Ÿã€‚é—®æœ€ååˆ°è¾¾ç»ˆç‚¹æ—¶æœ‰å‡ ä¸ªè½¦é˜Ÿï¼Œ1è¾†è½¦ä¹Ÿç®—ä¸€ä¸ªè½¦é˜Ÿã€‚åŸé¢˜\"></a>è¶…è½¦è½¦é˜Ÿï¼Œè¯´æœ‰è¿™ä¹ˆä¸€äº›è½¦å‘åŒä¸€ä¸ªç›®çš„åœ°å‡ºå‘ï¼Œèµ·å§‹ä½ç½®å’Œé€Ÿåº¦ä¸åŒï¼Œå½“å¿«è½¦é‡è§æ…¢è½¦æ—¶ä¸èƒ½è¶…è¿‡ï¼Œè€Œæ˜¯è·Ÿåœ¨åé¢å˜æˆä¸€ä¸ªè½¦é˜Ÿã€‚é—®æœ€ååˆ°è¾¾ç»ˆç‚¹æ—¶æœ‰å‡ ä¸ªè½¦é˜Ÿï¼Œ1è¾†è½¦ä¹Ÿç®—ä¸€ä¸ªè½¦é˜Ÿã€‚<a href=\"https://leetcode.com/problems/car-fleet/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: target &#x3D; 12, position &#x3D; [10,8,0,5,3], speed &#x3D; [2,4,1,1,3]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The cars starting at 10 and 8 become a fleet, meeting each other at 12.</span><br><span class=\"line\">The car starting at 0 doesn&#39;t catch up to any other car, so it is a fleet by itself.</span><br><span class=\"line\">The cars starting at 5 and 3 become a fleet, meeting each other at 6.</span><br><span class=\"line\">Note that no other cars meet these fleets before the destination, so the answer is 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ€è·¯å¾ˆå¿«æƒ³å‡ºæ¥äº†ï¼Œå°±æ˜¯æ’åºï¼Œä½†æ˜¯æ ¹æ®ä»€ä¹ˆæ’åºï¼Œæ€ä¹ˆæ¯”è¾ƒæƒ³äº†åŠå¤©ã€‚é—®é¢˜å‡ºåœ¨è¿™ä¸ªä¾‹å­ä¸Šï¼š<code>10, [0,4,2],[2,1,3]</code>è¿™ä¸ªæ’åºåæ—¶<code>[(4, 6), (2, 2.6), (0, 5)]</code>ï¼Œä»¥èµ·å§‹ç‚¹ä½ç½®æ’åºï¼Œå½“ä¸€ä¸ªæ—¶é—´å°äºç­‰äºä¹‹å‰çš„æ—¶é—´æ—¶ï¼Œé‚£ä¹ˆè¿™è¾†è½¦å°±èƒ½è¿½ä¸Šä¹‹å‰çš„ï¼Œå˜æˆä¸€ä¸ªè½¦é˜Ÿï¼›åä¹‹ï¼Œåˆ™å½¢æˆä¸€ä¸ªå•ç‹¬çš„è½¦é˜Ÿã€‚è¿™ä¸ªâ€œä¹‹å‰çš„æ—¶é—´â€æŒ‡çš„ä¸æ˜¯æŒ¨ç€çš„å‰é¢çš„ä¸€ä¸ªæ—¶é—´ï¼Œè€Œæ˜¯ä¹‹å‰æœ€æ…¢çš„ä¸€ä¸ªè½¦ã€‚ä¹Ÿå°±æ˜¯æ—¶é—´æœ€å¤§çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">carFleet</span><span class=\"params\">(self, target: int, position: List[int], speed: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cars = ((target-p)/s <span class=\"keyword\">for</span> p, s <span class=\"keyword\">in</span> sorted(zip(position, speed), reverse=<span class=\"literal\">True</span>))</span><br><span class=\"line\">    ans = cur_t = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> cars:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> t &gt; cur_t:</span><br><span class=\"line\">            cur_t = t</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1574-Shortest-Subarray-to-be-Removed-to-Make-Array-Sorted\"><a href=\"#1574-Shortest-Subarray-to-be-Removed-to-Make-Array-Sorted\" class=\"headerlink\" title=\"1574. Shortest Subarray to be Removed to Make Array Sorted\"></a>1574. Shortest Subarray to be Removed to Make Array Sorted</h3><h4 id=\"åˆ é™¤ä¸€ä¸ªæœ€çŸ­çš„å­æ•°ç»„ä½¿æ•´ä¸ªæ•°ç»„æœ‰åºã€‚é—®æœ€çŸ­æ•°ç»„é•¿åº¦ä¸ºå¤šå°‘ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤ä¸€ä¸ªæœ€çŸ­çš„å­æ•°ç»„ä½¿æ•´ä¸ªæ•°ç»„æœ‰åºã€‚é—®æœ€çŸ­æ•°ç»„é•¿åº¦ä¸ºå¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤ä¸€ä¸ªæœ€çŸ­çš„å­æ•°ç»„ä½¿æ•´ä¸ªæ•°ç»„æœ‰åºã€‚é—®æœ€çŸ­æ•°ç»„é•¿åº¦ä¸ºå¤šå°‘ã€‚åŸé¢˜\"></a>åˆ é™¤ä¸€ä¸ªæœ€çŸ­çš„å­æ•°ç»„ä½¿æ•´ä¸ªæ•°ç»„æœ‰åºã€‚é—®æœ€çŸ­æ•°ç»„é•¿åº¦ä¸ºå¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,2,3,10,4,2,3,5]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: The shortest subarray we can remove is [10,4,2] of length 3. The remaining elements after that will be [1,2,3,3,5] which are sorted.</span><br><span class=\"line\">Another correct solution is to remove the subarray [3,10,4].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªé¢˜ç«èµ›æ—¶æ²¡åšå‡ºæ¥ï¼Œåªæƒ³åˆ°ä»å·¦åˆ°å³æ‰¾åçš„ç‚¹ï¼Œæ²¡æƒ³åˆ°ä»å³åˆ°å·¦ä¹Ÿéœ€è¦æ‰¾ä¸€æ¬¡ã€‚è€Œä¸”æ‰¾å®Œä¹‹åï¼Œè¦æ§åˆ¶ä¸¤ä¸ªæŒ‡é’ˆï¼Œä»0å’Œjå‡ºå‘éå†ï¼Œè‡ªå·±æƒ³çš„æ˜¯ä»ä¸­é—´å¾€ä¸¤è¾¹éå†ã€‚è¾¹ç•Œæ¡ä»¶éå¸¸å¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLengthOfShortestSubarray</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(arr)</span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i+<span class=\"number\">1</span>&lt;n <span class=\"keyword\">and</span> arr[i]&lt;=arr[i+<span class=\"number\">1</span>]: i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> i == n<span class=\"number\">-1</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    j = n<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> j &gt; i <span class=\"keyword\">and</span> arr[j<span class=\"number\">-1</span>] &lt;= arr[j]: j -= <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> j == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> n<span class=\"number\">-1</span></span><br><span class=\"line\">    ans = min(n-i<span class=\"number\">-1</span>, j)</span><br><span class=\"line\">    left = <span class=\"number\">0</span></span><br><span class=\"line\">    right = j</span><br><span class=\"line\">    <span class=\"keyword\">while</span> left &lt;= i <span class=\"keyword\">and</span> right &lt; n:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[right] &gt;= arr[left]:</span><br><span class=\"line\">            ans = min(ans, right-left<span class=\"number\">-1</span>)</span><br><span class=\"line\">            left += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            right += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"835-Image-Overlap\"><a href=\"#835-Image-Overlap\" class=\"headerlink\" title=\"835. Image Overlap\"></a>835. Image Overlap</h3><h4 id=\"å›¾ç‰‡è¦†ç›–ã€‚ä¸¤ä¸ªäºŒç»´çŸ©é˜µï¼ŒAå¯ä»¥å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨Nä¸ªå•ä½ï¼Œç„¶åæ”¾åˆ°Bä¸Šï¼Œå¦‚æœéƒ½ä¸º1ï¼Œåˆ™è¡¨ç¤ºæŸä¸ªåƒç´ æ˜¯è¦†ç›–çš„ã€‚æ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªåƒç´ è¦†ç›–ã€‚åŸé¢˜\"><a href=\"#å›¾ç‰‡è¦†ç›–ã€‚ä¸¤ä¸ªäºŒç»´çŸ©é˜µï¼ŒAå¯ä»¥å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨Nä¸ªå•ä½ï¼Œç„¶åæ”¾åˆ°Bä¸Šï¼Œå¦‚æœéƒ½ä¸º1ï¼Œåˆ™è¡¨ç¤ºæŸä¸ªåƒç´ æ˜¯è¦†ç›–çš„ã€‚æ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªåƒç´ è¦†ç›–ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å›¾ç‰‡è¦†ç›–ã€‚ä¸¤ä¸ªäºŒç»´çŸ©é˜µï¼ŒAå¯ä»¥å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨Nä¸ªå•ä½ï¼Œç„¶åæ”¾åˆ°Bä¸Šï¼Œå¦‚æœéƒ½ä¸º1ï¼Œåˆ™è¡¨ç¤ºæŸä¸ªåƒç´ æ˜¯è¦†ç›–çš„ã€‚æ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªåƒç´ è¦†ç›–ã€‚åŸé¢˜\"></a>å›¾ç‰‡è¦†ç›–ã€‚ä¸¤ä¸ªäºŒç»´çŸ©é˜µï¼ŒAå¯ä»¥å‘ä¸€ä¸ªæ–¹å‘æ»‘åŠ¨Nä¸ªå•ä½ï¼Œç„¶åæ”¾åˆ°Bä¸Šï¼Œå¦‚æœéƒ½ä¸º1ï¼Œåˆ™è¡¨ç¤ºæŸä¸ªåƒç´ æ˜¯è¦†ç›–çš„ã€‚æ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªåƒç´ è¦†ç›–ã€‚<a href=\"https://leetcode.com/problems/image-overlap/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [[1,1,0],</span><br><span class=\"line\">            [0,1,0],</span><br><span class=\"line\">            [0,1,0]]</span><br><span class=\"line\">       B &#x3D; [[0,0,0],</span><br><span class=\"line\">            [0,1,1],</span><br><span class=\"line\">            [0,0,1]]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: We slide A to right by 1 unit and down by 1 unit.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´ï¼Œå°†1çš„ç‚¹éƒ½æ±‚å‡ºæ¥ï¼Œç„¶åæ¯ä¸¤ä¸ªåšæ¯”è¾ƒã€‚ç›¸åŒåç§»é‡çš„ç®—åˆ°ä¸€èµ·ã€‚</p>\n<pre><code>def largestOverlap(self, A: List[List[int]], B: List[List[int]]) -&gt; int:\n    A = [(x, y) for x, row in enumerate(A) for y, d in enumerate(row) if d]\n    B = [(x, y) for x, row in enumerate(B) for y, d in enumerate(row) if d]\n    c = Counter((xa-xb, ya-yb) for xa, ya in A for xb, yb in B)\n    return max(c.values() or [0])\n</code></pre><p>æ–¹æ³•äºŒï¼šæ•°å­¦çš„é™ç»´æ‰“å‡»ã€‚å·ç§¯ã€‚å…¶ä¸­æ¶‰åŠåˆ°äº†ä¸€äº›æ•°å­¦çŸ¥è¯†è¿˜æ²¡æœ‰å®Œå…¨å‚é€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> scipy.signal <span class=\"keyword\">import</span> convolve2d</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestOverlap</span><span class=\"params\">(self, A: List[List[int]], B: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> np.max(convolve2d(A, np.rot90(B, <span class=\"number\">2</span>)))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> scipy.signal <span class=\"keyword\">import</span> correlate2d</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestOverlap</span><span class=\"params\">(self, A: List[List[int]], B: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> correlate2d(A, B).max()</span><br></pre></td></tr></table></figure>\n<h3 id=\"42-Trapping-Rain-Water\"><a href=\"#42-Trapping-Rain-Water\" class=\"headerlink\" title=\"42. Trapping Rain Water\"></a>42. Trapping Rain Water</h3><h4 id=\"æ¥é›¨æ°´ã€‚ç»™å®šä¸€äº›æŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œé—®èƒ½æ¥å¤šå°‘é›¨æ°´ã€‚åŸé¢˜\"><a href=\"#æ¥é›¨æ°´ã€‚ç»™å®šä¸€äº›æŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œé—®èƒ½æ¥å¤šå°‘é›¨æ°´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¥é›¨æ°´ã€‚ç»™å®šä¸€äº›æŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œé—®èƒ½æ¥å¤šå°‘é›¨æ°´ã€‚åŸé¢˜\"></a>æ¥é›¨æ°´ã€‚ç»™å®šä¸€äº›æŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œé—®èƒ½æ¥å¤šå°‘é›¨æ°´ã€‚<a href=\"https://leetcode.com/problems/trapping-rain-water/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array/rainwatertrap.png\" class>\n<p>æ–¹æ³•ä¸€ï¼šç”¨äº†é€†å‘æ€ç»´ï¼Œé€šè¿‡æ€»é¢ç§¯-æŸå¤±çš„æ°´-æŸ±ä½“é¢ç§¯æ±‚çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trap</span><span class=\"params\">(self, height: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> height: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    h_max, n = max(height), len(height)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_lost</span><span class=\"params\">(heights, target)</span>:</span></span><br><span class=\"line\">        cur_h = lost = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, h <span class=\"keyword\">in</span> enumerate(heights):</span><br><span class=\"line\">            lost += max(h-cur_h, <span class=\"number\">0</span>) * i   </span><br><span class=\"line\">            cur_h = max(cur_h, h)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> h == target:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> lost</span><br><span class=\"line\">    </span><br><span class=\"line\">    lost = get_lost(height, h_max) + get_lost(height[::<span class=\"number\">-1</span>], h_max)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n*h_max - lost - sum(height)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šéå†ä¸€æ¬¡ï¼Œå…¶å®æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œä»ä¸¤è¾¹åˆ°ä¸­é—´ï¼Œå½“é‡è§ä¸€æ¬¡ä¸‹é™æ—¶ï¼Œè®¡ç®—å·®å€¼é¢ç§¯ï¼Œå°±æ˜¯è“„æ°´é¢ç§¯ã€‚left_max, right_maxå¯ä»¥çœ‹åšæ˜¯ä¸¤é¢å¢™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trap</span><span class=\"params\">(self, height: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    left, right = <span class=\"number\">0</span>, len(height)<span class=\"number\">-1</span></span><br><span class=\"line\">    ans = left_max = right_max = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> left &lt; right:</span><br><span class=\"line\">        left_max = max(left_max, height[left])</span><br><span class=\"line\">        right_max = max(right_max, height[right])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left_max &lt; right_max:</span><br><span class=\"line\">            ans += left_max - height[left]</span><br><span class=\"line\">            left += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += right_max - height[right]</span><br><span class=\"line\">            right -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"36-Valid-Sudoku\"><a href=\"#36-Valid-Sudoku\" class=\"headerlink\" title=\"36. Valid Sudoku\"></a>36. Valid Sudoku</h3><h4 id=\"éªŒè¯ä¸€ä¸ªæ•°ç‹¬çš„æ­£ç¡®æ€§ï¼Œåªéœ€è¦è€ƒè™‘å¡«å…¥æ•°å­—çš„æ ¼å­ã€‚åŸé¢˜\"><a href=\"#éªŒè¯ä¸€ä¸ªæ•°ç‹¬çš„æ­£ç¡®æ€§ï¼Œåªéœ€è¦è€ƒè™‘å¡«å…¥æ•°å­—çš„æ ¼å­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯ä¸€ä¸ªæ•°ç‹¬çš„æ­£ç¡®æ€§ï¼Œåªéœ€è¦è€ƒè™‘å¡«å…¥æ•°å­—çš„æ ¼å­ã€‚åŸé¢˜\"></a>éªŒè¯ä¸€ä¸ªæ•°ç‹¬çš„æ­£ç¡®æ€§ï¼Œåªéœ€è¦è€ƒè™‘å¡«å…¥æ•°å­—çš„æ ¼å­ã€‚<a href=\"https://leetcode.com/problems/valid-sudoku/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç›´è§‚çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValidSudoku</span><span class=\"params\">(self, board: List[List[str]])</span> -&gt; bool:</span></span><br><span class=\"line\">    row = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]        </span><br><span class=\"line\">    col = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]</span><br><span class=\"line\">    sub = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> board[i][j] != <span class=\"string\">'.'</span>:</span><br><span class=\"line\">                d = int(board[i][j]) - <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (row[i][d] <span class=\"keyword\">and</span> col[j][d] <span class=\"keyword\">and</span> sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                row[i][d] = col[j][d] = sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d] = <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šCounter, by Stefan. è®°å½•3ç§å…ƒç´ ï¼Œå¦‚æœæœ‰é‡å¤çš„ å°±è¯´æ˜ä¸è¡Œã€‚è¿™é‡Œå’Œpython2æœ‰ä¸ªåŒºåˆ«ï¼ŒåŸæ¥æ˜¯ç”¨çš„+ï¼Œpython3ä¸­å­—å…¸çš„values()æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª<code>dict_values</code>çš„å¯¹è±¡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValidSudoku</span><span class=\"params\">(self, board: List[List[str]])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span> == max(collections.Counter(</span><br><span class=\"line\">        x <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(board)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, c <span class=\"keyword\">in</span> enumerate(row)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c != <span class=\"string\">'.'</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ((c, i), (j, c), (i//<span class=\"number\">3</span>, j//<span class=\"number\">3</span>, c))</span><br><span class=\"line\">    ).values() <span class=\"keyword\">or</span> [<span class=\"number\">1</span>])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šåŒæ ·æ¥è‡ªStefanï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆæœ‰è¶£ï¼Œå°†åˆ¤æ–­æ”¾åˆ°äº†ç”Ÿæˆå™¨ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValidSudoku</span><span class=\"params\">(self, board: List[List[str]])</span> -&gt; bool:</span></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> any(x <span class=\"keyword\">in</span> seen <span class=\"keyword\">or</span> seen.add(x)</span><br><span class=\"line\">                   <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(board)</span><br><span class=\"line\">                   <span class=\"keyword\">for</span> j, c <span class=\"keyword\">in</span> enumerate(row)</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> c != <span class=\"string\">'.'</span></span><br><span class=\"line\">                   <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ((c, i), (j, c), (i//<span class=\"number\">3</span>, j//<span class=\"number\">3</span>, c)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1054-Distant-Barcodes\"><a href=\"#1054-Distant-Barcodes\" class=\"headerlink\" title=\"1054. Distant Barcodes\"></a><a href=\"https://leetcode.com/problems/distant-barcodes/\" target=\"_blank\" rel=\"noopener\">1054. Distant Barcodes</a></h3><h4 id=\"åˆ†æ•£çš„æ¡å½¢ç ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ’åºï¼Œè®©å…¶æ²¡æœ‰ä¸¤ä¸ªä¸€æ ·çš„ç›¸é‚»ã€‚åŸé¢˜\"><a href=\"#åˆ†æ•£çš„æ¡å½¢ç ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ’åºï¼Œè®©å…¶æ²¡æœ‰ä¸¤ä¸ªä¸€æ ·çš„ç›¸é‚»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ†æ•£çš„æ¡å½¢ç ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ’åºï¼Œè®©å…¶æ²¡æœ‰ä¸¤ä¸ªä¸€æ ·çš„ç›¸é‚»ã€‚åŸé¢˜\"></a>åˆ†æ•£çš„æ¡å½¢ç ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ é‡æ–°æ’åºï¼Œè®©å…¶æ²¡æœ‰ä¸¤ä¸ªä¸€æ ·çš„ç›¸é‚»ã€‚<a href=\"ps://leetcode.com/problems/distant-barcodes/\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæˆ‘é¦–æ¬¡ACçš„æ–¹æ³•å°±æ˜¯ç”¨å †ï¼Œå–å‡ºä¸€ä¸ªæˆ–è€…2ä¸ªæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rearrangeBarcodes</span><span class=\"params\">(self, barcodes: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    c = Counter(barcodes)</span><br><span class=\"line\">    heap = []</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> c.items():</span><br><span class=\"line\">        heapq.heappush(heap, (-v, k))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">        most, d1 = heapq.heappop(heap)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ans <span class=\"keyword\">and</span> ans[<span class=\"number\">-1</span>]==d1:</span><br><span class=\"line\">            more, d2 = heapq.heappop(heap)</span><br><span class=\"line\">            ans.append(d2)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> more &lt; <span class=\"number\">-1</span>:</span><br><span class=\"line\">                heapq.heappush(heap, (more+<span class=\"number\">1</span>, d2))</span><br><span class=\"line\">            heapq.heappush(heap, (most, d1))</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        ans.append(d1)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> most &lt; <span class=\"number\">-1</span>:</span><br><span class=\"line\">            heapq.heappush(heap, (most+<span class=\"number\">1</span>, d1))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šby Lee, å°†æœ€å¤šçš„æ•°å­—ï¼ŒæŒ‰ç´¢å¼•åˆ†å‰²ä¾æ¬¡æ’å…¥ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rearrangeBarcodes</span><span class=\"params\">(self, barcodes: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    i, n = <span class=\"number\">0</span>, len(barcodes)</span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> collections.Counter(barcodes).most_common():</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(v):</span><br><span class=\"line\">            ans[i] = k</span><br><span class=\"line\">            i += <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i &gt;= n: i = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šby Leeï¼Œçœ‹åˆ°æ–¹æ³•äºŒæ—¶å°±æƒ³åˆ°äº†ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œæ’åºæ—¶è¦ç”¨ä¸€ä¸ªå…ƒç»„ï¼Œå°†ä¸€æ ·çš„å…ƒç´ æ”¾åˆ°ä¸€èµ·ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rearrangeBarcodes</span><span class=\"params\">(self, a: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    count = collections.Counter(a)</span><br><span class=\"line\">    a.sort(key=<span class=\"keyword\">lambda</span> x: (count[x], x))</span><br><span class=\"line\">    a[<span class=\"number\">1</span>::<span class=\"number\">2</span>], a[::<span class=\"number\">2</span>] = a[:len(a)//<span class=\"number\">2</span>], a[len(a)//<span class=\"number\">2</span>:]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a</span><br></pre></td></tr></table></figure>\n<h3 id=\"1588-Sum-of-All-Odd-Length-Subarrays\"><a href=\"#1588-Sum-of-All-Odd-Length-Subarrays\" class=\"headerlink\" title=\"1588. Sum of All Odd Length Subarrays\"></a><a href=\"https://leetcode.com/problems/sum-of-all-odd-length-subarrays/\" target=\"_blank\" rel=\"noopener\">1588. Sum of All Odd Length Subarrays</a></h3><h4 id=\"æ±‚æ‰€æœ‰å¥‡æ•°é•¿åº¦çš„å­æ•°ç»„çš„å’Œã€‚\"><a href=\"#æ±‚æ‰€æœ‰å¥‡æ•°é•¿åº¦çš„å­æ•°ç»„çš„å’Œã€‚\" class=\"headerlink\" title=\"æ±‚æ‰€æœ‰å¥‡æ•°é•¿åº¦çš„å­æ•°ç»„çš„å’Œã€‚\"></a>æ±‚æ‰€æœ‰å¥‡æ•°é•¿åº¦çš„å­æ•°ç»„çš„å’Œã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ç»™çš„èŒƒå›´æ¯”è¾ƒå°ï¼Œç«èµ›æ—¶ç”¨O(n^2)æš´åŠ›å°±è§£äº†ï¼Œä¸è¿‡å®é™…æœ‰O(n)çš„æ–¹æ³•ã€‚é€šè¿‡å‰ç¼€å’Œçš„æ–¹å¼ï¼Œç´¯åŠ ï¼Œå†é€šè¿‡å‡æ³•ç®—å’Œã€‚æ¯”å¦‚<code>[1,4,2,5,3]</code>ã€‚<code>j-i</code>è¡¨ç¤ºçš„æ˜¯å­æ•°ç»„çš„é•¿åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumOddLengthSubarrays</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n, sum_odd = len(arr), <span class=\"number\">0</span></span><br><span class=\"line\">    p_sum = [<span class=\"number\">0</span>] + list(itertools.accumulate(arr))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> enumerate(p_sum):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i + <span class=\"number\">1</span>, n + <span class=\"number\">1</span>, <span class=\"number\">2</span>):</span><br><span class=\"line\">            <span class=\"comment\"># print(i, j, p_sum[j], p_sum[i])</span></span><br><span class=\"line\">            sum_odd += p_sum[j] - p_sum[i] </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum_odd</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">0 1 1 0</span><br><span class=\"line\">0 3 7 0</span><br><span class=\"line\">0 5 15 0</span><br><span class=\"line\">1 2 5 1</span><br><span class=\"line\">1 4 12 1</span><br><span class=\"line\">2 3 7 5</span><br><span class=\"line\">2 5 15 5</span><br><span class=\"line\">3 4 12 7</span><br><span class=\"line\">4 5 15 12</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé€šè¿‡è§‚å¯Ÿå¯ä»¥æ‰¾åˆ°è§„å¾‹ï¼Œæ¯ä¸ªæ•°å­—å‡ºç°çš„ä¸ªæ•°æ˜¯æœ‰è§„å¾‹çš„ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">1 2 3 4 5 subarray length 1</span><br><span class=\"line\">1 2 X X X subarray length 2</span><br><span class=\"line\">X 2 3 X X subarray length 2</span><br><span class=\"line\">X X 3 4 X subarray length 2</span><br><span class=\"line\">X X X 4 5 subarray length 2</span><br><span class=\"line\">1 2 3 X X subarray length 3</span><br><span class=\"line\">X 2 3 4 X subarray length 3</span><br><span class=\"line\">X X 3 4 5 subarray length 3</span><br><span class=\"line\">1 2 3 4 X subarray length 4</span><br><span class=\"line\">X 2 3 4 5 subarray length 4</span><br><span class=\"line\">1 2 3 4 5 subarray length 5</span><br><span class=\"line\"></span><br><span class=\"line\">5 8 9 8 5 total times each index was added.</span><br><span class=\"line\">3 4 5 4 3 total times in odd length array with (x + 1) &#x2F; 2</span><br><span class=\"line\">2 4 4 4 2 total times in even length array with x &#x2F; 2</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåœ¨æ‰€æœ‰å­æ•°ç»„ä¸­ï¼Œä¸ç®¡å¥‡å¶æ€»å…±æœ‰å¤šå°‘ï¼Œæ¯”å¦‚åŒ…å«2çš„å­æ•°ç»„ï¼Œå·¦è¾¹æœ‰2ä¸ªå­æ•°ç»„ï¼Œå³è¾¹4ä¸ªå­æ•°ç»„ï¼Œä¸€å…±æœ‰2<em>4ï¼Œä¹Ÿå°±æ˜¯è¯´<br><br>å¯¹äºç¬¬iä¸ªå…ƒç´ ï¼ŒåŒ…å«ç¬¬iä¸ªå…ƒç´ çš„å­æ•°ç»„=`(i+1) </em> (n-i)<code>å¥‡æ•°æ•°ç»„</code>(x+1)//2`, xè¡¨ç¤ºæ€»æ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumOddLengthSubarrays</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, n = <span class=\"number\">0</span>, len(arr)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(arr):</span><br><span class=\"line\">        ans += (((i+<span class=\"number\">1</span>)*(n-i) + <span class=\"number\">1</span>) // <span class=\"number\">2</span>) * a</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-16-22-å…°é¡¿èš‚èš\"><a href=\"#é¢è¯•é¢˜-16-22-å…°é¡¿èš‚èš\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 16.22. å…°é¡¿èš‚èš\"></a><a href=\"https://leetcode-cn.com/problems/langtons-ant-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 16.22. å…°é¡¿èš‚èš</a></h3><blockquote>\n<p><strong>å…°é¡¿èš‚èš</strong>ï¼ˆè‹±è¯­ï¼šLangtonâ€™s antï¼‰æ˜¯<a href=\"https://zh.wikipedia.org/wiki/ç´°èƒè‡ªå‹•æ©Ÿ\" target=\"_blank\" rel=\"noopener\">ç»†èƒè‡ªåŠ¨æœº</a>çš„ä¾‹å­ã€‚å®ƒç”±<a href=\"https://zh.wikipedia.org/w/index.php?title=å…‹é‡Œæ–¯æ‰˜å¤«Â·å…°é¡¿&amp;action=edit&amp;redlink=1\" target=\"_blank\" rel=\"noopener\">å…‹é‡Œæ–¯æ‰˜å¤«Â·å…°é¡¿</a>åœ¨1986å¹´æå‡ºï¼Œå®ƒç”±é»‘ç™½æ ¼å­å’Œä¸€åªâ€œèš‚èšâ€æ„æˆ<a href=\"https://zh.wikipedia.org/wiki/å…°é¡¿èš‚èš#cite_note-1\" target=\"_blank\" rel=\"noopener\">[1]</a>ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´<a href=\"https://zh.wikipedia.org/wiki/å›¾çµæœº\" target=\"_blank\" rel=\"noopener\">å›¾çµæœº</a>ã€‚å…°é¡¿èš‚èšæ‹¥æœ‰éå¸¸ç®€å•çš„é€»è¾‘å’Œå¤æ‚çš„è¡¨ç°ã€‚åœ¨2000å¹´å…°é¡¿èš‚èšçš„<a href=\"https://zh.wikipedia.org/wiki/åœ–éˆå®Œå‚™æ€§\" target=\"_blank\" rel=\"noopener\">å›¾çµå®Œå¤‡æ€§</a>è¢«è¯æ˜ã€‚å…°é¡¿èš‚èšçš„æƒ³æ³•åæ¥è¢«æ¨å¹¿ï¼Œæ¯”å¦‚ä½¿ç”¨å¤šç§é¢œè‰²ã€‚</p>\n<p>è‹¥ä»å…¨ç™½çš„èƒŒæ™¯å¼€å§‹ï¼Œåœ¨ä¸€å¼€å§‹çš„æ•°ç™¾æ­¥ï¼Œèš‚èšç•™ä¸‹çš„è·¯çº¿ä¼šå‡ºç°è®¸å¤šå¯¹ç§°æˆ–é‡å¤çš„å½¢çŠ¶ï¼Œç„¶åä¼šå‡ºç°ç±»ä¼¼æ··æ²Œçš„å‡éšæœºï¼Œè‡³çº¦ä¸€ä¸‡æ­¥åä¼šå‡ºç°ä»¥104æ­¥ä¸ºå‘¨æœŸæ— é™é‡å¤çš„â€œé«˜é€Ÿå…¬è·¯â€æœå›ºå®šæ–¹å‘ç§»åŠ¨<a href=\"https://zh.wikipedia.org/wiki/å…°é¡¿èš‚èš#cite_note-2\" target=\"_blank\" rel=\"noopener\">[2]</a>ã€‚åœ¨ç›®å‰è¯•è¿‡çš„æ‰€æœ‰èµ·å§‹çŠ¶æ€ï¼Œèš‚èšçš„è·¯çº¿æœ€ç»ˆéƒ½ä¼šå˜æˆé«˜é€Ÿå…¬è·¯ï¼Œä½†å°šæ— æ³•è¯æ˜è¿™æ˜¯æ— è®ºä»»ä½•èµ·å§‹çŠ¶æ€éƒ½ä¼šå¯¼è‡´çš„å¿…ç„¶ç»“æœ<a href=\"https://zh.wikipedia.org/wiki/å…°é¡¿èš‚èš#cite_note-3\" target=\"_blank\" rel=\"noopener\">[3]</a>ã€‚</p>\n</blockquote>\n<p>è¿™é“é¢˜éå¸¸æœ‰æ„æ€ã€‚ä¸€åªèš‚èšååœ¨ç”±ç™½è‰²å’Œé»‘è‰²æ–¹æ ¼æ„æˆçš„æ— é™ç½‘æ ¼ä¸Šã€‚å¼€å§‹æ—¶ï¼Œç½‘æ ¼å…¨ç™½ï¼Œèš‚èšé¢å‘å³ä¾§ã€‚æ¯è¡Œèµ°ä¸€æ­¥ï¼Œèš‚èšæ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚è¿”å›èƒ½å¤ŸåŒ…å«èš‚èšèµ°è¿‡çš„æ‰€æœ‰æ–¹æ ¼çš„æœ€å°çŸ©å½¢ã€‚</p>\n<p>(1) å¦‚æœåœ¨ç™½è‰²æ–¹æ ¼ä¸Šï¼Œåˆ™ç¿»è½¬æ–¹æ ¼çš„é¢œè‰²ï¼Œå‘å³(é¡ºæ—¶é’ˆ)è½¬ 90 åº¦ï¼Œå¹¶å‘å‰ç§»åŠ¨ä¸€ä¸ªå•ä½ã€‚<br>(2) å¦‚æœåœ¨é»‘è‰²æ–¹æ ¼ä¸Šï¼Œåˆ™ç¿»è½¬æ–¹æ ¼çš„é¢œè‰²ï¼Œå‘å·¦(é€†æ—¶é’ˆæ–¹å‘)è½¬ 90 åº¦ï¼Œå¹¶å‘å‰ç§»åŠ¨ä¸€ä¸ªå•ä½</p>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šåˆšçœ‹åˆ°æ­¤é¢˜æ—¶è‰ç‡äº†ï¼Œè¿˜æƒ³æ‰¾åˆ°è§„å¾‹ï¼Œåæ¥ä¸€æœï¼ŒåŸæ¥åœ¨ä¸€ä¸‡æ­¥ä¹‹åæ‰ä¼šå‡ºç°æŸç§è§„å¾‹ï¼Œæ‰“æ‰°äº†ã€‚æ­¤æ–¹æ³•ç”¨äº†ä¸€ä¸ªäºŒç»´çš„åŒç«¯é˜Ÿåˆ—æ¨¡æ‹Ÿçš„ã€‚700ms, 40ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printKMoves</span><span class=\"params\">(self, K: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    ax, ay = <span class=\"number\">0</span>, <span class=\"number\">0</span>  <span class=\"comment\"># èš‚èšğŸœ</span></span><br><span class=\"line\">    di, dj, m, n = <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>  <span class=\"comment\"># æ–¹å‘å’ŒçŸ©é˜µé«˜ï¼Œé•¿</span></span><br><span class=\"line\">    g = deque([deque([<span class=\"number\">0</span>])])  <span class=\"comment\"># 0 è¡¨ç¤ºç™½è‰²</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[ax][ay]==<span class=\"number\">0</span>:</span><br><span class=\"line\">            di, dj = dj, -di  <span class=\"comment\"># é¡ºæ—¶é’ˆ</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            di, dj = -dj, di  <span class=\"comment\"># é€†æ—¶é’ˆ</span></span><br><span class=\"line\">        g[ax][ay] ^= <span class=\"number\">1</span>        <span class=\"comment\"># ç¿»è½¬</span></span><br><span class=\"line\">        ax, ay = ax+di, ay+dj   <span class=\"comment\"># ç§»åŠ¨</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ax <span class=\"keyword\">in</span> (<span class=\"number\">-1</span>, m):       <span class=\"comment\"># ä¸Šä¸‹è¶Šç•Œ</span></span><br><span class=\"line\">            g.append(deque([<span class=\"number\">0</span>]*n))</span><br><span class=\"line\">            g.rotate(ax&lt;<span class=\"number\">0</span>)       <span class=\"comment\"># ä¸Šè¶Šç•Œï¼Œç›´æ¥appendleftä¹Ÿå¯ä»¥ï¼Œè¿™é‡Œå†™åˆ°äº†ä¸€èµ·</span></span><br><span class=\"line\">            m += <span class=\"number\">1</span></span><br><span class=\"line\">            ax = max(ax, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> ay &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g:</span><br><span class=\"line\">                row.appendleft(<span class=\"number\">0</span>)            </span><br><span class=\"line\">            n += <span class=\"number\">1</span></span><br><span class=\"line\">            ay += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> ay &gt;= n:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g:</span><br><span class=\"line\">                row.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">            n += <span class=\"number\">1</span></span><br><span class=\"line\">    g[ax][ay] = <span class=\"number\">-1</span></span><br><span class=\"line\">    d = ((<span class=\"string\">'LR'</span>, <span class=\"string\">'UD'</span>)[di][(dj&gt;=<span class=\"number\">0</span>)&amp;(di&gt;=<span class=\"number\">0</span>)])  <span class=\"comment\"># é˜´é—´å†™æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"># d = &#123;(0, -1): 'L', (-1, 0): 'U', (1, 0): 'D', (0, 1): 'R'&#125;[di, dj] # é˜³é—´å†™æ³•</span></span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>.join((<span class=\"string\">'_X'</span>+d)[c] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå—è¯„è®ºåŒºå¤§ç¥å¯å‘ï¼Œä½¿ç”¨<code>defaultdict</code>æ¥é¿å…æ¯æ¬¡éƒ½ç§»åŠ¨æ•°ç»„ã€‚å†™æ³•æ˜¯ä¸é”™ï¼Œä½†æ˜¯æ—¶é—´å’Œç©ºé—´ä¸Šéƒ½æ¯”æ–¹æ³•ä¸€å·®å¤ªå¤šï¼Œæ—¶é—´æ˜¯3ï¼Œ4å€ï¼Œç©ºé—´æ˜¯10å€ã€‚æ‰€ä»¥æˆ‘æ”¹äº†ä¸€ä¸‹æ”¹æˆä¸¤ä¸ªdefaultdictï¼Œæ—¶é—´ä¸Šè™½ç„¶è¿˜æ˜¯ä¸å¦‚æ–¹æ³•ä¸€ï¼Œä½†æ˜¯æ—¶é—´ç©ºé—´éƒ½å¥½äº†ä¸€åŠã€‚æœ€åæ˜¯1500ms, 240Mã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printKMoves</span><span class=\"params\">(self, K: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    ax, ay = <span class=\"number\">0</span>, <span class=\"number\">0</span>  <span class=\"comment\"># èš‚èšğŸœ</span></span><br><span class=\"line\">    di, dj, m, n = <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>  <span class=\"comment\"># åˆå§‹æ–¹å‘å’ŒçŸ©é˜µé«˜ï¼Œé•¿</span></span><br><span class=\"line\">    g = defaultdict(<span class=\"keyword\">lambda</span>: defaultdict(int))</span><br><span class=\"line\">    r1 = r2 = c1 = c2 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">nonlocal</span> r1, r2, c1, c2</span><br><span class=\"line\">        r1, r2, c1, c2 = min(r1, x), max(r2, x), min(c1, y), max(c2, y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[ax][ay]==<span class=\"number\">0</span>:</span><br><span class=\"line\">            di, dj = dj, -di  <span class=\"comment\"># é¡ºæ—¶é’ˆ</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            di, dj = -dj, di  <span class=\"comment\"># é€†æ—¶é’ˆ</span></span><br><span class=\"line\">        g[ax][ay] ^= <span class=\"number\">1</span>        <span class=\"comment\"># ç¿»è½¬</span></span><br><span class=\"line\">        ax, ay = ax+di, ay+dj   <span class=\"comment\"># ç§»åŠ¨</span></span><br><span class=\"line\">        spread(ax, ay)</span><br><span class=\"line\">    g[ax][ay] = <span class=\"number\">-1</span></span><br><span class=\"line\">    d = ((<span class=\"string\">'LR'</span>, <span class=\"string\">'UD'</span>)[di][(dj&gt;=<span class=\"number\">0</span>)&amp;(di&gt;=<span class=\"number\">0</span>)])  <span class=\"comment\"># é˜´é—´å†™æ³•</span></span><br><span class=\"line\">    <span class=\"comment\"># d = &#123;(0, -1): 'L', (-1, 0): 'U', (1, 0): 'D', (0, 1): 'R'&#125;[di, dj] # é˜³é—´å†™æ³•</span></span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>.join((<span class=\"string\">'_X'</span>+d)[g[i][j]] </span><br><span class=\"line\">           <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(c1, c2+<span class=\"number\">1</span>)) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(r1, r2+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"41-First-Missing-Positive\"><a href=\"#41-First-Missing-Positive\" class=\"headerlink\" title=\"41. First Missing Positive\"></a><a href=\"https://leetcode.com/problems/first-missing-positive/\" target=\"_blank\" rel=\"noopener\">41. First Missing Positive</a></h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„ç¼ºå¤±çš„æ­£æ•°ã€‚æ•°ç»„ä¸­å¯èƒ½åŒ…å«è´Ÿæ•°ã€‚è¦æ±‚åœ¨O-N-æ—¶é—´ï¼Œå¸¸æ•°ç©ºé—´å®ç°ã€‚\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„ç¼ºå¤±çš„æ­£æ•°ã€‚æ•°ç»„ä¸­å¯èƒ½åŒ…å«è´Ÿæ•°ã€‚è¦æ±‚åœ¨O-N-æ—¶é—´ï¼Œå¸¸æ•°ç©ºé—´å®ç°ã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„ç¼ºå¤±çš„æ­£æ•°ã€‚æ•°ç»„ä¸­å¯èƒ½åŒ…å«è´Ÿæ•°ã€‚è¦æ±‚åœ¨O(N)æ—¶é—´ï¼Œå¸¸æ•°ç©ºé—´å®ç°ã€‚\"></a>æ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„ç¼ºå¤±çš„æ­£æ•°ã€‚æ•°ç»„ä¸­å¯èƒ½åŒ…å«è´Ÿæ•°ã€‚è¦æ±‚åœ¨O(N)æ—¶é—´ï¼Œå¸¸æ•°ç©ºé—´å®ç°ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šéš¾ç‚¹åœ¨äºå¤æ‚åº¦çš„è¦æ±‚ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æƒ³åˆ°ï¼Œä½†æ˜¯æ„Ÿè§‰ä¹‹å‰ç”¨è¿‡ï¼Œå¿˜è®°æ˜¯å“ªé“é¢˜äº†ã€‚å°±æ˜¯å°†å…ƒç´ æ”¾åœ¨å®ƒå¯¹åº”çš„ç´¢å¼•ä¸Šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">firstMissingPositive</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"number\">0</span> &lt;= nums[i]<span class=\"number\">-1</span> &lt; len(nums) <span class=\"keyword\">and</span> nums[nums[i]<span class=\"number\">-1</span>] != nums[i]:</span><br><span class=\"line\">            j = nums[i] - <span class=\"number\">1</span></span><br><span class=\"line\">            nums[i], nums[j] = nums[j], nums[i]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] != i+<span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(nums) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢è¯•é¢˜-17-18-æœ€çŸ­è¶…ä¸²\"><a href=\"#é¢è¯•é¢˜-17-18-æœ€çŸ­è¶…ä¸²\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²\"></a><a href=\"https://leetcode-cn.com/problems/shortest-supersequence-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²</a></h4><h4 id=\"æ‰¾åˆ°åŒ…å«smallæ‰€æœ‰å…ƒç´ æœ€çŸ­å­æ•°ç»„çš„æœ€å°ç´¢å¼•ã€‚\"><a href=\"#æ‰¾åˆ°åŒ…å«smallæ‰€æœ‰å…ƒç´ æœ€çŸ­å­æ•°ç»„çš„æœ€å°ç´¢å¼•ã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°åŒ…å«smallæ‰€æœ‰å…ƒç´ æœ€çŸ­å­æ•°ç»„çš„æœ€å°ç´¢å¼•ã€‚\"></a>æ‰¾åˆ°åŒ…å«smallæ‰€æœ‰å…ƒç´ æœ€çŸ­å­æ•°ç»„çš„æœ€å°ç´¢å¼•ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">big &#x3D; [7,5,9,0,2,1,3,5,7,9,1,1,5,8,8,9,7]</span><br><span class=\"line\">small &#x3D; [1,5,9]</span><br><span class=\"line\">è¾“å‡º: [7,10]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ã€‚æŒºç®€å•çš„ä¸€æ¬¡å°±ACäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestSeq</span><span class=\"params\">(self, big: List[int], small: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, c, s = [], defaultdict(int), set(small)</span><br><span class=\"line\">    i, min_len = <span class=\"number\">0</span>, float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> end, d <span class=\"keyword\">in</span> enumerate(big):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">            c[d] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(c) == len(s):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> end-i+<span class=\"number\">1</span> &lt; min_len:</span><br><span class=\"line\">                min_len = end - i + <span class=\"number\">1</span></span><br><span class=\"line\">                ans = [i, end]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> big[i] <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">                c[big[i]] -= <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> c[big[i]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                    c.pop(big[i])</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"289-Game-of-Life\"><a href=\"#289-Game-of-Life\" class=\"headerlink\" title=\"289. Game of Life\"></a><a href=\"https://leetcode.com/problems/game-of-life/\" target=\"_blank\" rel=\"noopener\">289. Game of Life</a></h3><blockquote>\n<h4 id=\"ç”Ÿå‘½æ¸¸æˆï¼Œç®€ç§°ä¸ºç”Ÿå‘½ï¼Œæ˜¯è‹±å›½æ•°å­¦å®¶çº¦ç¿°Â·ä½•é¡¿Â·åº·å¨åœ¨-1970-å¹´å‘æ˜çš„ç»†èƒè‡ªåŠ¨æœºã€‚\"><a href=\"#ç”Ÿå‘½æ¸¸æˆï¼Œç®€ç§°ä¸ºç”Ÿå‘½ï¼Œæ˜¯è‹±å›½æ•°å­¦å®¶çº¦ç¿°Â·ä½•é¡¿Â·åº·å¨åœ¨-1970-å¹´å‘æ˜çš„ç»†èƒè‡ªåŠ¨æœºã€‚\" class=\"headerlink\" title=\"ç”Ÿå‘½æ¸¸æˆï¼Œç®€ç§°ä¸ºç”Ÿå‘½ï¼Œæ˜¯è‹±å›½æ•°å­¦å®¶çº¦ç¿°Â·ä½•é¡¿Â·åº·å¨åœ¨ 1970 å¹´å‘æ˜çš„ç»†èƒè‡ªåŠ¨æœºã€‚\"></a>ç”Ÿå‘½æ¸¸æˆï¼Œç®€ç§°ä¸ºç”Ÿå‘½ï¼Œæ˜¯è‹±å›½æ•°å­¦å®¶çº¦ç¿°Â·ä½•é¡¿Â·åº·å¨åœ¨ 1970 å¹´å‘æ˜çš„ç»†èƒè‡ªåŠ¨æœºã€‚</h4><p>ç»™å®šä¸€ä¸ªåŒ…å« m Ã— n ä¸ªæ ¼å­çš„é¢æ¿ï¼Œæ¯ä¸€ä¸ªæ ¼å­éƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç»†èƒã€‚æ¯ä¸ªç»†èƒéƒ½å…·æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼š1 å³ä¸ºæ´»ç»†èƒï¼ˆliveï¼‰ï¼Œæˆ– 0 å³ä¸ºæ­»ç»†èƒï¼ˆdeadï¼‰ã€‚æ¯ä¸ªç»†èƒä¸å…¶å…«ä¸ªç›¸é‚»ä½ç½®ï¼ˆæ°´å¹³ï¼Œå‚ç›´ï¼Œå¯¹è§’çº¿ï¼‰çš„ç»†èƒéƒ½éµå¾ªä»¥ä¸‹å››æ¡ç”Ÿå­˜å®šå¾‹ï¼š</p>\n<p>å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®çš„æ´»ç»†èƒæ•°å°‘äºä¸¤ä¸ªï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒæ­»äº¡ï¼›<br>å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®æœ‰ä¸¤ä¸ªæˆ–ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒä»ç„¶å­˜æ´»ï¼›<br>å¦‚æœæ´»ç»†èƒå‘¨å›´å…«ä¸ªä½ç½®æœ‰è¶…è¿‡ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ´»ç»†èƒæ­»äº¡ï¼›<br>å¦‚æœæ­»ç»†èƒå‘¨å›´æ­£å¥½æœ‰ä¸‰ä¸ªæ´»ç»†èƒï¼Œåˆ™è¯¥ä½ç½®æ­»ç»†èƒå¤æ´»ï¼›<br>æ ¹æ®å½“å‰çŠ¶æ€ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—é¢æ¿ä¸Šæ‰€æœ‰ç»†èƒçš„ä¸‹ä¸€ä¸ªï¼ˆä¸€æ¬¡æ›´æ–°åçš„ï¼‰çŠ¶æ€ã€‚ä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯é€šè¿‡å°†ä¸Šè¿°è§„åˆ™åŒæ—¶åº”ç”¨äºå½“å‰çŠ¶æ€ä¸‹çš„æ¯ä¸ªç»†èƒæ‰€å½¢æˆçš„ï¼Œå…¶ä¸­ç»†èƒçš„å‡ºç”Ÿå’Œæ­»äº¡æ˜¯åŒæ—¶å‘ç”Ÿçš„ã€‚</p>\n</blockquote>\n<p>ä½ å¯ä»¥ä½¿ç”¨åŸåœ°ç®—æ³•è§£å†³æœ¬é¢˜å—ï¼Ÿè¯·æ³¨æ„ï¼Œé¢æ¿ä¸Šæ‰€æœ‰æ ¼å­éœ€è¦åŒæ—¶è¢«æ›´æ–°ï¼šä½ ä¸èƒ½å…ˆæ›´æ–°æŸäº›æ ¼å­ï¼Œç„¶åä½¿ç”¨å®ƒä»¬çš„æ›´æ–°åçš„å€¼å†æ›´æ–°å…¶ä»–æ ¼å­ã€‚<br>æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒç»´æ•°ç»„æ¥è¡¨ç¤ºé¢æ¿ã€‚åŸåˆ™ä¸Šï¼Œé¢æ¿æ˜¯æ— é™çš„ï¼Œä½†å½“æ´»ç»†èƒä¾µå äº†é¢æ¿è¾¹ç•Œæ—¶ä¼šé€ æˆé—®é¢˜ã€‚ä½ å°†å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ</p>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gameOfLife</span><span class=\"params\">(self, board: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    m, n = len(board), len(board[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_live</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        neighbors = ((<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>), </span><br><span class=\"line\">                     (<span class=\"number\">-1</span>, <span class=\"number\">-1</span>), (<span class=\"number\">1</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">-1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(board[i+di][j+dj] <span class=\"keyword\">for</span> di, dj <span class=\"keyword\">in</span> neighbors </span><br><span class=\"line\">                   <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i+di&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j+dj&lt;n)</span><br><span class=\"line\">    </span><br><span class=\"line\">    g = [[<span class=\"number\">0</span>] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            c = count_live(i, j)</span><br><span class=\"line\">            g[i][j] = int(c==<span class=\"number\">3</span> <span class=\"keyword\">or</span> (c==<span class=\"number\">2</span> <span class=\"keyword\">and</span> board[i][j]))</span><br><span class=\"line\"></span><br><span class=\"line\">    board[:] = g</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå¦‚æœé¢æ¿æ˜¯æ— é™çš„ï¼Œå¦‚ä½•è€ƒè™‘å‘¢ï¼ŸStefanè¿™æ ·å†™ï¼Œä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥æ ¹æ®æ‰€æœ‰å½“å‰æ´»ç€çš„ç»†èƒè®¡ç®—ä¸‹ä¸€ä¸ªçŠ¶æ€çš„æ´»ç»†èƒé›†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gameOfLife</span><span class=\"params\">(self, board: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">  </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gameOfLifeInfinite</span><span class=\"params\">(live)</span>:</span></span><br><span class=\"line\">        ctr = collections.Counter((I, J)</span><br><span class=\"line\">                                  <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> live</span><br><span class=\"line\">                                  <span class=\"keyword\">for</span> I <span class=\"keyword\">in</span> range(i<span class=\"number\">-1</span>, i+<span class=\"number\">2</span>)</span><br><span class=\"line\">                                  <span class=\"keyword\">for</span> J <span class=\"keyword\">in</span> range(j<span class=\"number\">-1</span>, j+<span class=\"number\">2</span>)</span><br><span class=\"line\">                                  <span class=\"keyword\">if</span> I != i <span class=\"keyword\">or</span> J != j)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> &#123;ij</span><br><span class=\"line\">                <span class=\"keyword\">for</span> ij <span class=\"keyword\">in</span> ctr</span><br><span class=\"line\">                <span class=\"keyword\">if</span> ctr[ij] == <span class=\"number\">3</span> <span class=\"keyword\">or</span> ctr[ij] == <span class=\"number\">2</span> <span class=\"keyword\">and</span> ij <span class=\"keyword\">in</span> live&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    live = &#123;(i, j) <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(board) <span class=\"keyword\">for</span> j, live <span class=\"keyword\">in</span> enumerate(row) <span class=\"keyword\">if</span> live&#125;</span><br><span class=\"line\">    live = gameOfLifeInfinite(live)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(board):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(row)):</span><br><span class=\"line\">            row[j] = int((i, j) <span class=\"keyword\">in</span> live)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šæ­¤é¢˜å¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨æ¥å»ºæ¨¡ï¼Œåœ¨ã€Šeffictive pythonã€‹ä¸­æœ‰ä¸€ä¸ªéå¸¸ç»å…¸çš„ä¾‹å­ï¼Œã€ŠFluent Pythonã€‹ä¸­ä½œè€…ä¹Ÿæåˆ°äº†è¿™ä¸ªä¾‹å­ã€‚æˆ‘åœ¨æ¬¡åŸºç¡€ä¸Šä¿®æ”¹äº†ä¸€ç‚¹ï¼Œä¸»è¦æ˜¯é’ˆå¯¹è¾¹ç•Œå¤„ç†ã€‚æ¯ä¸€ä¸ªç»†èƒéƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªåç¨‹ï¼Œå¹¶ä»¤è¿™äº›åç¨‹æ­¥è°ƒä¸€è‡´åœ°å‘å‰æ¨è¿›ã€‚<code>step_cell</code>æ˜¯ä¸€ä¸ªåç¨‹ï¼Œä¼šç”ŸæˆÂ·<code>Transition</code>å¯¹è±¡ç”¨æ¥è¡¨ç¤ºç»†èƒçš„çŠ¶æ€è¿ç§»ã€‚æ¯ä¸ªç»†èƒéƒ½å¯ä»¥é€šè¿‡è¿è¡Œ<code>step_cell</code>æ¥è¿ç§»åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚å¾…æ‰€æœ‰ç»†èƒéƒ½è¿ç§»å¥½ä¹‹åï¼Œæ¸¸æˆçš„å§‹ç»ˆå°±ä¼šå‘å‰èµ°ä¸€æ­¥ã€‚åªè¦<code>simulate</code>åç¨‹åœ¨æ¨è¿›ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ä¼šä¸€ç›´æŒç»­ä¸‹å»ã€‚åç¨‹çš„ä¼˜åŠ¿å°±åœ¨äºæ­¤ã€‚å®ƒä»¤å¼€å‘è€…æ‰€ç”¨çš„å®ç°ä»£ç ç›¸äº’è§£è€¦ã€‚è¿™ä½¿å¾—ç¨‹åºå¥½åƒèƒ½å¤Ÿå¹³è¡Œåœ°è¿è¡Œå¤šä¸ªåç¨‹ï¼Œä¹Ÿä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹åç¨‹çš„å‰æä¸‹ï¼Œé€æ¸æ”¹è¿›å‘å¸ƒæŒ‡ä»¤æ—¶æ‰€ç”¨çš„ä»£ç ã€‚ä¸è¿‡ä¹¦ä¸­è¯´çš„ä¸€ç‚¹æ²¡æœ‰æ˜ç™½â€å¦‚æœä¼ å…¥çš„åæ ‡è¶Šç•Œï¼Œé‚£å°±è‡ªåŠ¨æŠ˜å›ï¼Œè¿™ä½¿å¾—ç½‘æ ¼çœ‹ä¸Šå»å¥½åƒæ˜¯ä¸€ç§æ— é™å¾ªç¯çš„ç©ºé—´â€ï¼Œä¹¦ä¸­ä½¿ç”¨äº†å–ä½™çš„æ–¹å¼ï¼Œä½†æ˜¯æœ¬é¢˜ä¸­è¶Šç•Œåº”è¯¥è¿”å›0ã€‚è¿™å¥—æ¨¡æ¿ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ç”¨åç¨‹åˆ†ç¦»ç¨‹åºä¸­çš„å„ä¸ªå…³æ³¨ç‚¹ï¼Œè€Œå…³æ³¨ç‚¹çš„åˆ†ç¦»ï¼Œæ­£æ˜¯ä¸€æ¡é‡è¦çš„è®¾è®¡åŸåˆ™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">Query = namedtuple(<span class=\"string\">'Query'</span>, <span class=\"string\">'y x'</span>)   <span class=\"comment\"># ç”¨äºæŸ¥è¯¢ç»†èƒçš„çŠ¶æ€ï¼Œè¿™é‡Œå®ç°å¾ˆå·§å¦™å¯ä»¥ä½¿åç¨‹é€šè¿‡æ­¤å¯¹è±¡å‘å¤–å›´ç¯å¢ƒæŸ¥è¯¢ä¿¡æ¯</span></span><br><span class=\"line\">Transition = namedtuple(<span class=\"string\">'Transition'</span>, <span class=\"string\">'y x state'</span>)  <span class=\"comment\"># è¡¨ç¤ºç»†èƒçš„çŠ¶æ€è¿ç§»</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gameOfLife</span><span class=\"params\">(self, board: List[List[int]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">        Do not return anything, modify board in-place instead.</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        self.board = board</span><br><span class=\"line\">        self.TICK = object()\t<span class=\"comment\"># åœæ­¢æ ‡è¯†ï¼Œæ ‡å¿—ç€ä¸€è½®æ¨¡æ‹Ÿç»“æŸ</span></span><br><span class=\"line\">        sim = self.simulate(len(board), len(board[<span class=\"number\">0</span>]))</span><br><span class=\"line\">        ans = self.live_a_generation(sim)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(board)):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(board[<span class=\"number\">0</span>])):</span><br><span class=\"line\">                board[i][j] = ans[i,j]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_neighbors</span><span class=\"params\">(self, y, x)</span>:</span>\t\t<span class=\"comment\">#æŸ¥è¯¢äº†ç»†èƒå‘¨å›´çš„8ä¸ªç»†èƒçŠ¶æ€</span></span><br><span class=\"line\">        n_ = <span class=\"keyword\">yield</span> Query(y + <span class=\"number\">1</span>, x + <span class=\"number\">0</span>)  <span class=\"comment\"># North</span></span><br><span class=\"line\">        ne = <span class=\"keyword\">yield</span> Query(y + <span class=\"number\">1</span>, x + <span class=\"number\">1</span>)  <span class=\"comment\"># Northeast</span></span><br><span class=\"line\">        e_ = <span class=\"keyword\">yield</span> Query(y + <span class=\"number\">0</span>, x + <span class=\"number\">1</span>)  <span class=\"comment\"># East</span></span><br><span class=\"line\">        se = <span class=\"keyword\">yield</span> Query(y - <span class=\"number\">1</span>, x + <span class=\"number\">1</span>)  <span class=\"comment\"># Southeast</span></span><br><span class=\"line\">        s_ = <span class=\"keyword\">yield</span> Query(y - <span class=\"number\">1</span>, x + <span class=\"number\">0</span>)  <span class=\"comment\"># South</span></span><br><span class=\"line\">        sw = <span class=\"keyword\">yield</span> Query(y - <span class=\"number\">1</span>, x - <span class=\"number\">1</span>)  <span class=\"comment\"># Southwest</span></span><br><span class=\"line\">        w_ = <span class=\"keyword\">yield</span> Query(y + <span class=\"number\">0</span>, x - <span class=\"number\">1</span>)  <span class=\"comment\"># West</span></span><br><span class=\"line\">        nw = <span class=\"keyword\">yield</span> Query(y + <span class=\"number\">1</span>, x - <span class=\"number\">1</span>)  <span class=\"comment\"># Northwest</span></span><br><span class=\"line\">        neighbor_states = [n_, ne, e_, se, s_, sw, w_, nw]</span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> state <span class=\"keyword\">in</span> neighbor_states:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> state == <span class=\"number\">1</span>:</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">game_logic</span><span class=\"params\">(self, state, neighbors)</span>:</span>   <span class=\"comment\"># æ¸¸æˆé€»è¾‘</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> state == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> neighbors &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>     <span class=\"comment\"># Die: Too few</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> neighbors &gt; <span class=\"number\">3</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>     <span class=\"comment\"># Die: Too many</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> neighbors == <span class=\"number\">3</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span>     <span class=\"comment\"># Regenerate</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">step_cell</span><span class=\"params\">(self, y, x)</span>:</span>\t\t</span><br><span class=\"line\">        state = <span class=\"keyword\">yield</span> Query(y, x)\t\t<span class=\"comment\"># æŸ¥è¯¢å½“å‰ç»†èƒçŠ¶æ€</span></span><br><span class=\"line\">        neighbors = <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> self.count_neighbors(y, x)  <span class=\"comment\"># æŸ¥è¯¢å‘¨å›´ç»†èƒçŠ¶æ€ï¼Œ`count_neighbors`åç¨‹</span></span><br><span class=\"line\">        next_state = self.game_logic(state, neighbors)\t\t<span class=\"comment\"># ç»†èƒçš„ä¸‹ä¸€æ¬¡çŠ¶æ€</span></span><br><span class=\"line\">        <span class=\"keyword\">yield</span> Transition(y, x, next_state)\t\t<span class=\"comment\"># ç”Ÿæˆè¿ç§»å¯¹è±¡ï¼Œå°†ç»†èƒåœ¨ä¸‹ä¸€è½®çš„çŠ¶æ€å‘Šè¯‰å¤–éƒ¨ä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">simulate</span><span class=\"params\">(self, height, width)</span>:</span>    <span class=\"comment\">#  æ¨¡æ‹Ÿåç¨‹</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(height):</span><br><span class=\"line\">                <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(width):</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> self.step_cell(y, x)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> self.TICK</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">live_a_generation</span><span class=\"params\">(self, sim)</span>:</span>\t\t\t<span class=\"comment\"># ä¸»å‡½æ•°</span></span><br><span class=\"line\">        M, N = len(self.board), len(self.board[<span class=\"number\">0</span>])</span><br><span class=\"line\">        progeny = Grid(M, N)</span><br><span class=\"line\">        item = next(sim)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> item <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> self.TICK:\t\t<span class=\"comment\"># å¯¹æ‰€æœ‰çš„ç»†èƒå‘å‰æ¨è¿›ä¸€æ­¥</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> isinstance(item, Query):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=item.y&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=item.x&lt;N:</span><br><span class=\"line\">                    state = self.board[item.y][item.x]</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    state = <span class=\"number\">0</span></span><br><span class=\"line\">                item = sim.send(state)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                progeny[item.y, item.x] = item.state</span><br><span class=\"line\">                item = next(sim)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> progeny</span><br><span class=\"line\">                </span><br><span class=\"line\">                </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Grid</span><span class=\"params\">(object)</span>:</span>\t\t<span class=\"comment\"># ç”¨äºè¡¨ç¤ºç»†èƒç½‘æ ¼</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, height, width)</span>:</span></span><br><span class=\"line\">        self.height = height</span><br><span class=\"line\">        self.width = width</span><br><span class=\"line\">        self.rows = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(self.height):</span><br><span class=\"line\">            self.rows.append([<span class=\"number\">0</span>] * self.width)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__str__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        output = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> self.rows:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> cell <span class=\"keyword\">in</span> row:</span><br><span class=\"line\">                output += str(cell)</span><br><span class=\"line\">            output += <span class=\"string\">'\\n'</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__getitem__</span><span class=\"params\">(self, index)</span>:</span></span><br><span class=\"line\">        y, x = index</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=y&lt;self.height <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=x&lt;self.width:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.rows[y][x]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__setitem__</span><span class=\"params\">(self, index, state)</span>:</span></span><br><span class=\"line\">        y, x = index</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=y&lt;self.height <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=x&lt;self.width:</span><br><span class=\"line\">            self.rows[y % self.height][x % self.width] = state</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Array"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆé“¾è¡¨ç¯‡ï¼‰LinkedList","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E9%93%BE%E8%A1%A8%E7%AF%87%EF%BC%89LinkedList/","content":"<h3 id=\"é“¾è¡¨çš„å®šä¹‰\"><a href=\"#é“¾è¡¨çš„å®šä¹‰\" class=\"headerlink\" title=\"é“¾è¡¨çš„å®šä¹‰\"></a>é“¾è¡¨çš„å®šä¹‰</h3><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ListNode</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">        self.val = x</span><br><span class=\"line\">        self.next = <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"2-Add-Two-Numbers\"><a href=\"#2-Add-Two-Numbers\" class=\"headerlink\" title=\"2. Add Two Numbers\"></a>2. Add Two Numbers</h3><h4 id=\"ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ \"><a href=\"#ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ \" class=\"headerlink\" title=\"ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ \"></a><a href=\"https://leetcode.com/problems/add-two-numbers/description/\" target=\"_blank\" rel=\"noopener\">ä¸¤ä¸ªé“¾è¡¨ç›¸åŠ </a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 0 -&gt; 8</span><br><span class=\"line\">Explanation: 342 + 465 &#x3D; 807.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addTwoNumbers</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">    l = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    carry = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l1 <span class=\"keyword\">or</span> l2 <span class=\"keyword\">or</span> carry:</span><br><span class=\"line\">        v1 = v2 = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> l1:</span><br><span class=\"line\">            v1 = l1.val</span><br><span class=\"line\">            l1 = l1.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l2:</span><br><span class=\"line\">            v2 = l2.val</span><br><span class=\"line\">            l2 = l2.next</span><br><span class=\"line\">        carry, val = divmod(v1+v2+carry, <span class=\"number\">10</span>)</span><br><span class=\"line\">        l.next = ListNode(val)</span><br><span class=\"line\">        l = l.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"445-Add-Two-Numbers-II\"><a href=\"#445-Add-Two-Numbers-II\" class=\"headerlink\" title=\"445. Add Two Numbers II\"></a>445. Add Two Numbers II</h3><h4 id=\"è·Ÿä¸Šé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿›ä½æ–¹å¼ä¸åŒã€‚åŸé¢˜\"><a href=\"#è·Ÿä¸Šé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿›ä½æ–¹å¼ä¸åŒã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·Ÿä¸Šé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿›ä½æ–¹å¼ä¸åŒã€‚åŸé¢˜\"></a>è·Ÿä¸Šé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿›ä½æ–¹å¼ä¸åŒã€‚<a href=\"https://leetcode.com/problems/add-two-numbers-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class=\"line\">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆreverseå†ç›¸åŠ ï¼Œæœ€åå†reverseã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addTwoNumbers</span><span class=\"params\">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse</span><span class=\"params\">(head)</span>:</span></span><br><span class=\"line\">        prev = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">            head.next, prev, head = prev, head, head.next</span><br><span class=\"line\">        <span class=\"keyword\">return</span> prev</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    l1, l2 = reverse(l1), reverse(l2)</span><br><span class=\"line\">    carry = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l1 <span class=\"keyword\">or</span> l2 <span class=\"keyword\">or</span> carry:</span><br><span class=\"line\">        v1 = v2 = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> l1:</span><br><span class=\"line\">            v1 = l1.val</span><br><span class=\"line\">            l1 = l1.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l2:</span><br><span class=\"line\">            v2 = l2.val</span><br><span class=\"line\">            l2 = l2.next</span><br><span class=\"line\">        carry, val = divmod(v1+v2+carry, <span class=\"number\">10</span>)</span><br><span class=\"line\">        head.next = ListNode(val)</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reverse(ans.next)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç”±äºPython intæ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥éå†ç›¸åŠ ï¼Œå†ä»å°¾åˆ°å¤´è¿˜åŸèŠ‚ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addTwoNumbers</span><span class=\"params\">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    v1 = v2 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l1:</span><br><span class=\"line\">        v1 = v1*<span class=\"number\">10</span> + l1.val</span><br><span class=\"line\">        l1 = l1.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l2:</span><br><span class=\"line\">        v2 = v2*<span class=\"number\">10</span> + l2.val</span><br><span class=\"line\">        l2 = l2.next</span><br><span class=\"line\">    val = v1 + v2</span><br><span class=\"line\">    tail, head = <span class=\"literal\">None</span>, <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> val &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        head = ListNode(val % <span class=\"number\">10</span>)</span><br><span class=\"line\">        head.next = tail</span><br><span class=\"line\">        tail = head</span><br><span class=\"line\">        val //= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> head <span class=\"keyword\">if</span> head <span class=\"keyword\">else</span> ListNode(<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"21-Merge-Two-Sorted-Lists\"><a href=\"#21-Merge-Two-Sorted-Lists\" class=\"headerlink\" title=\"21. Merge Two Sorted Lists\"></a>21. Merge Two Sorted Lists</h3><h4 id=\"åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚åŸé¢˜\"><a href=\"#åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚åŸé¢˜\"></a>åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚<a href=\"https://leetcode.com/problems/merge-two-sorted-lists/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span><br><span class=\"line\">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•1ï¼šiteratively è¿­ä»£</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTwoLists</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">    l = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l1 <span class=\"keyword\">and</span> l2:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l1.val &lt;= l2.val:</span><br><span class=\"line\">            l.next, l1 = l1, l1.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l.next, l2 = l2, l2.next</span><br><span class=\"line\">        l = l.next</span><br><span class=\"line\">    l.next = l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•2ï¼šrecursively é€’å½’</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTwoLists</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># åˆ¤æ–­æ˜¯å¦å­˜åœ¨None</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> l2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">    <span class=\"keyword\">if</span> l1.val &lt; l2.val:</span><br><span class=\"line\">        l1.next = mergeTwoLists(l1.next, l2)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l1</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        l2.next = mergeTwoLists(l1, l2.next)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> l2</span><br></pre></td></tr></table></figure>\n<h3 id=\"23-Merge-k-Sorted-Lists\"><a href=\"#23-Merge-k-Sorted-Lists\" class=\"headerlink\" title=\"23. Merge k Sorted Lists\"></a>23. Merge k Sorted Lists</h3><h4 id=\"åˆå¹¶kä¸ªæœ‰åºåˆ—è¡¨ã€‚åŸé¢˜\"><a href=\"#åˆå¹¶kä¸ªæœ‰åºåˆ—è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆå¹¶kä¸ªæœ‰åºåˆ—è¡¨ã€‚åŸé¢˜\"></a>åˆå¹¶kä¸ªæœ‰åºåˆ—è¡¨ã€‚<a href=\"https://leetcode.com/problems/merge-k-sorted-lists/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[</span><br><span class=\"line\">  1-&gt;4-&gt;5,</span><br><span class=\"line\">  1-&gt;3-&gt;4,</span><br><span class=\"line\">  2-&gt;6</span><br><span class=\"line\">]</span><br><span class=\"line\">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force. time: O(NlogN)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeKLists</span><span class=\"params\">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> lists:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l:</span><br><span class=\"line\">            ans.append(l.val)</span><br><span class=\"line\">            l = l.next</span><br><span class=\"line\">    h = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> sorted(ans):</span><br><span class=\"line\">        h.next = ListNode(v)</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚æœ¬æ¥ä¼˜å…ˆçº§å°±æ²¡æœ‰æ–¹æ³•ä¸€å¿«ï¼Œå†åŠ ä¸ŠPython3ä¸­çš„æ¯”è¾ƒç¬¦æœºåˆ¶ä¸åŒï¼Œå¯¼è‡´è¦å®ç°<code>__lt__</code>æ–¹æ³•ï¼Œå°±æ›´æ…¢äº†ã€‚ä¸è¿‡ç†è®ºæ—¶é—´å¤æ‚åº¦æ˜¯æ¯”æ–¹æ³•ä¸€å°çš„ã€‚Time: O(Nlogk)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CmpNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">        self.node = node</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__lt__</span><span class=\"params\">(self, other)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.node.val &lt; other.node.val</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeKLists</span><span class=\"params\">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> queue <span class=\"keyword\">import</span> PriorityQueue</span><br><span class=\"line\">        head = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">        q = PriorityQueue()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> lists:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> l:</span><br><span class=\"line\">                q.put(CmpNode(l))</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"keyword\">not</span> q.empty():</span><br><span class=\"line\">            to_add = q.get().node</span><br><span class=\"line\">            h.next = to_add</span><br><span class=\"line\">            h = h.next</span><br><span class=\"line\">            <span class=\"keyword\">if</span> to_add.next:</span><br><span class=\"line\">                q.put(CmpNode(to_add.next))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè§„é¿<code>ListNode</code>çš„æ¯”è¾ƒï¼Œä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚åªè¦åŠ ä¸Šè¯¥é“¾è¡¨åœ¨åŸæ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œå°±ä¸€å®šä¸ä¼šé‡å¤ï¼Œä»è€Œå¿½ç•¥å¯¹<code>ListNode</code>çš„æ¯”è¾ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeKLists</span><span class=\"params\">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> queue <span class=\"keyword\">import</span> PriorityQueue</span><br><span class=\"line\">    q = PriorityQueue()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> idx, l <span class=\"keyword\">in</span> enumerate(lists):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l:</span><br><span class=\"line\">            q.put((l.val, idx, l))</span><br><span class=\"line\">    h = head = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"keyword\">not</span> q.empty():</span><br><span class=\"line\">        val, idx, node = q.get()</span><br><span class=\"line\">        h.next = node</span><br><span class=\"line\">        h, node = h.next, node.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            q.put((node.val, idx, node))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head.next</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šä¿©ä¿©åˆå¹¶ã€‚Time: O(Nlogk)</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeKLists</span><span class=\"params\">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_two</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">        dummy = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l1 <span class=\"keyword\">and</span> l2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> l1.val &lt;= l2.val:</span><br><span class=\"line\">                h.next = l1</span><br><span class=\"line\">                l1 = l1.next</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                h.next = l2</span><br><span class=\"line\">                l2 = l2.next</span><br><span class=\"line\">            h = h.next</span><br><span class=\"line\">        h.next = l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dummy.next</span><br><span class=\"line\"></span><br><span class=\"line\">    pairs = lists</span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(pairs) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(pairs) &amp; <span class=\"number\">1</span>: pairs.append(<span class=\"literal\">None</span>)</span><br><span class=\"line\">        pairs = [merge_two(pairs[i], pairs[~i]) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(pairs)//<span class=\"number\">2</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> pairs[<span class=\"number\">0</span>] <span class=\"keyword\">if</span> pairs <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äº”ï¼šå’Œä¼˜å…ˆé˜Ÿåˆ—ä¸€æ ·ï¼Œä½¿ç”¨å †å®ç°ã€‚ä¸ªäººè§‰å¾—æ¯”ä¼˜å…ˆçº§é˜Ÿåˆ—å¥½å†™ä¸€ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeKLists</span><span class=\"params\">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class=\"line\">    dummy = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    heap = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, l <span class=\"keyword\">in</span> enumerate(lists):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l: heapq.heappush(heap, (l.val, i, l))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">        val, i, l = heapq.heappop(heap)</span><br><span class=\"line\">        h.next, l = l, l.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l: heapq.heappush(heap, (l.val, i, l))</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dummy.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"141-Linked-List-Cycle\"><a href=\"#141-Linked-List-Cycle\" class=\"headerlink\" title=\"141. Linked List Cycle\"></a>141. Linked List Cycle</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚<a href=\"https://leetcode.com/problems/linked-list-cycle/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>ç»å…¸çš„ä¸€é“é¢˜ï¼Œçœ‹æˆä¸¤ä¸ªäººåœ¨èµ›è·‘ï¼Œå¦‚æœæœ‰ç¯ï¼Œå¿«çš„äººä¼šå’Œæ…¢çš„äººç›¸é‡</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasCycle</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    slow = fast = head:</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> fast <span class=\"keyword\">is</span> slow:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"142-Linked-List-Cycle-II\"><a href=\"#142-Linked-List-Cycle-II\" class=\"headerlink\" title=\"142. Linked List Cycle II\"></a>142. Linked List Cycle II</h3><h4 id=\"æ±‚é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#æ±‚é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>æ±‚é“¾è¡¨ä¸­ç¯çš„å…¥å£èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/linked-list-cycle-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><ul>\n<li>é¦–å…ˆåˆ¤æ–­æ­¤é“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚</li>\n<li>ç„¶ååœ¨ç›¸äº¤ç‚¹å’Œå¤´ç»“ç‚¹ä¸€èµ·èµ°ï¼Œä¸€å®šä¼šåœ¨å…¥å£ç›¸é‡ã€‚</li>\n</ul>\n<blockquote>\n<pre><code>Consider the following linked list, where E is the cylce entry and X, the crossing point of fast and slow.\nH: distance from head to cycle entry E\nD: distance from E to X\nL: cycle length\n  â€‹                _____\n  â€‹               /     \\\nhead_____H______E       \\\n  â€‹              \\       /\n  â€‹               X_____/   \n</code></pre></blockquote>\n<blockquote>\n<pre><code>   If fast and slow both start at head, when fast catches slow, slow has traveled H+D and fast 2(H+D). \nAssume fast has traveled n loops in the cycle, we have:\n2H + 2D = H + D + L  --&gt;  H + D = nL  --&gt; H = nL - D\nThus if two pointers start from head and X, respectively, one first reaches E, the other also reaches E. \nIn my solution, since fast starts at head.next, we need to move slow one step forward in the beginning of part 2\n</code></pre></blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">detectCycle</span><span class=\"params\">(self, head)</span>:</span>        </span><br><span class=\"line\">    fast = slow = head</span><br><span class=\"line\">    <span class=\"comment\"># æ£€æµ‹æ˜¯å¦æœ‰ç¯</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> slow <span class=\"keyword\">is</span> fast:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># æ‰¾å‡ºå…¥å£èŠ‚ç‚¹</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> slow:</span><br><span class=\"line\">        head, slow = head.next, slow.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<h3 id=\"206-Reverse-Linked-List\"><a href=\"#206-Reverse-Linked-List\" class=\"headerlink\" title=\"206. Reverse Linked List\"></a>206. Reverse Linked List</h3><h4 id=\"å€’ç½®ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€ä¸ªé“¾è¡¨ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€ä¸ªé“¾è¡¨ã€‚<a href=\"https://leetcode.com/problems/reverse-linked-list/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class=\"line\">Output: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š iteratively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(head)</span>:</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        cur = head</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">        cur.next = prev</span><br><span class=\"line\">        prev = cur</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸€è¡Œèµ‹å€¼</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        head.next, prev, head = prev, head, head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev</span><br></pre></td></tr></table></figure>\n<a href=\"/Python-%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F%E5%90%8C%E6%97%B6%E8%B5%8B%E5%80%BC/\" title=\"PythonåŒæ—¶ç»™å¤šä¸ªå˜é‡èµ‹å€¼ã€‚\">PythonåŒæ—¶ç»™å¤šä¸ªå˜é‡èµ‹å€¼ã€‚</a>\n<p>æ–¹æ³•ä¸‰ï¼šé€’å½’</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(self, head, prev=None)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> prev</span><br><span class=\"line\">  </span><br><span class=\"line\">    cur, head.next = head.next, prev</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.reverseList(cur, head)</span><br></pre></td></tr></table></figure>\n<h3 id=\"92-Reverse-Linked-List-II\"><a href=\"#92-Reverse-Linked-List-II\" class=\"headerlink\" title=\"92. Reverse Linked List II\"></a>92. Reverse Linked List II</h3><h4 id=\"è·Ÿä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œåªå€’ç½®æŒ‡å®šåŒºé—´çš„éƒ¨åˆ†ã€‚åŸé¢˜\"><a href=\"#è·Ÿä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œåªå€’ç½®æŒ‡å®šåŒºé—´çš„éƒ¨åˆ†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·Ÿä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œåªå€’ç½®æŒ‡å®šåŒºé—´çš„éƒ¨åˆ†ã€‚åŸé¢˜\"></a>è·Ÿä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œåªå€’ç½®æŒ‡å®šåŒºé—´çš„éƒ¨åˆ†ã€‚<a href=\"https://leetcode.com/problems/reverse-linked-list-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m &#x3D; 2, n &#x3D; 4</span><br><span class=\"line\">Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseBetween</span><span class=\"params\">(self, head: ListNode, m: int, n: int)</span> -&gt; ListNode:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    root = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    h.next = head</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m<span class=\"number\">-1</span>):</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    cur_head = h</span><br><span class=\"line\">    p1 = p2 = cur_head.next</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n-m):</span><br><span class=\"line\">        p2 = p2.next</span><br><span class=\"line\">    prev = p2.next <span class=\"keyword\">if</span> p2 <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> p2:</span><br><span class=\"line\">        p2.next = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> p1:</span><br><span class=\"line\">        p1.next, prev, p1 = prev, p1, p1.next</span><br><span class=\"line\">    cur_head.next = prev</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"160-Intersection-of-Two-Linked-Lists\"><a href=\"#160-Intersection-of-Two-Linked-Lists\" class=\"headerlink\" title=\"160. Intersection of Two Linked Lists\"></a>160. Intersection of Two Linked Lists</h3><h4 id=\"ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ã€‚<a href=\"https://leetcode.com/problems/intersection-of-two-linked-lists/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getIntersectionNode</span><span class=\"params\">(self, headA, headB)</span>:</span></span><br><span class=\"line\">    p1, p2 = headA, headB</span><br><span class=\"line\">    <span class=\"keyword\">while</span> p1 <span class=\"keyword\">is</span> <span class=\"keyword\">not</span> p2:</span><br><span class=\"line\">        p1 = p1.next <span class=\"keyword\">if</span> p1 <span class=\"keyword\">else</span> headB</span><br><span class=\"line\">        p2 = p2.next <span class=\"keyword\">if</span> p2 <span class=\"keyword\">else</span> headA</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p1</span><br></pre></td></tr></table></figure>\n<h3 id=\"138-Copy-List-with-Random-Pointer\"><a href=\"#138-Copy-List-with-Random-Pointer\" class=\"headerlink\" title=\"138. Copy List with Random Pointer\"></a>138. Copy List with Random Pointer</h3><h4 id=\"æ·±æ‹·è´ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼Œé“¾è¡¨å¤šåŒ…å«äº†ä¸€ä¸ªéšæœºæŒ‡é’ˆã€‚åŸé¢˜\"><a href=\"#æ·±æ‹·è´ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼Œé“¾è¡¨å¤šåŒ…å«äº†ä¸€ä¸ªéšæœºæŒ‡é’ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ·±æ‹·è´ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼Œé“¾è¡¨å¤šåŒ…å«äº†ä¸€ä¸ªéšæœºæŒ‡é’ˆã€‚åŸé¢˜\"></a>æ·±æ‹·è´ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼Œé“¾è¡¨å¤šåŒ…å«äº†ä¸€ä¸ªéšæœºæŒ‡é’ˆã€‚<a href=\"https://leetcode.com/problems/copy-list-with-random-pointer/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><ul>\n<li><p>Time-O(2n), Memory-O(n).</p>\n  <figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">copyRandomList</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    cp_map = &#123;&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    m = n = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> m:</span><br><span class=\"line\">        cp_map[m] = RandomListNode(m.label)</span><br><span class=\"line\">        m = m.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        cp_map[n].next = cp_map.get(n.next)</span><br><span class=\"line\">        cp_map[n].random = cp_map.get(n.random)</span><br><span class=\"line\">        n = n.next</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> cp_map.get(head)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Time-O(n), Memory-O(n). è¿™ç§æ–¹å¼æ˜¯ç›¸å½“äºæŠŠç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿‡ç¨‹å§”æ‰˜ç»™äº†<code>defaultdict</code>ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¯¹è±¡ï¼Œå†å»ä¿®æ”¹å®ƒçš„labelå€¼ã€‚</p>\n  <figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">copyRandomList</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    cp = defaultdict(<span class=\"keyword\">lambda</span>: RandomListNode(<span class=\"number\">0</span>))</span><br><span class=\"line\">    cp[<span class=\"literal\">None</span>] = <span class=\"literal\">None</span></span><br><span class=\"line\">    n = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        cp[n].label = n.label</span><br><span class=\"line\">        cp[n].next = cp[n.next]</span><br><span class=\"line\">        cp[n].random = cp[n.random]</span><br><span class=\"line\">        n = n.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cp[head]</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"237-Delete-Node-in-a-Linked-List\"><a href=\"#237-Delete-Node-in-a-Linked-List\" class=\"headerlink\" title=\"237. Delete Node in a Linked List\"></a>237. Delete Node in a Linked List</h3><h4 id=\"åœ¨é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#åœ¨é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>åœ¨é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/delete-node-in-a-linked-list/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: head &#x3D; [4,5,1,9], node &#x3D; 5</span><br><span class=\"line\">Output: [4,1,9]</span><br></pre></td></tr></table></figure>\n<p>å¼€å§‹çœ‹åˆ°è¿™é¢˜çš„æ€è·¯æ˜¯ï¼Œè¦æ˜¯èƒ½æ‹¿åˆ°çˆ¶èŠ‚ç‚¹å°±å¥½äº†ï¼Œç„¶åè¿™é“é¢˜éœ€è¦åˆ«çš„æ€è·¯ï¼Œå…¶å…³é”®åœ¨äºå¤åˆ¶</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteNode</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">    node.val = node.next.val  <span class=\"comment\"># 4-&gt;1-&gt;1-&gt;9</span></span><br><span class=\"line\">    node.next = node.next.next  <span class=\"comment\"># 4-&gt;1-&gt;9</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"203-Remove-Linked-List-Elements\"><a href=\"#203-Remove-Linked-List-Elements\" class=\"headerlink\" title=\"203. Remove Linked List Elements\"></a>203. Remove Linked List Elements</h3><h4 id=\"åˆ é™¤é“¾è¡¨ä¸­å€¼ä¸ºvalçš„å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤é“¾è¡¨ä¸­å€¼ä¸ºvalçš„å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤é“¾è¡¨ä¸­å€¼ä¸ºvalçš„å…ƒç´ ã€‚åŸé¢˜\"></a>åˆ é™¤é“¾è¡¨ä¸­å€¼ä¸ºvalçš„å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/remove-linked-list-elements/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šéå†<code>head</code>å¹¶æ„å»ºæ–°çš„<code>ListNode</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeElements</span><span class=\"params\">(self, head, val)</span>:</span></span><br><span class=\"line\">    l = res = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head.val != val:</span><br><span class=\"line\">            l.next = ListNode(head.val)</span><br><span class=\"line\">            l = l.next</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res.next</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ›´å–œæ¬¢è¿™ä¸ªæ–¹æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeElements</span><span class=\"params\">(self, head: <span class=\"string\">'ListNode'</span>, val: <span class=\"string\">'int'</span>)</span> -&gt; 'ListNode':</span></span><br><span class=\"line\">    l = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    l.next, ans = head, l</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l <span class=\"keyword\">and</span> l.next:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l.next.val == val:</span><br><span class=\"line\">            l.next = l.next.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l = l.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"83-Remove-Duplicates-from-Sorted-List\"><a href=\"#83-Remove-Duplicates-from-Sorted-List\" class=\"headerlink\" title=\"83. Remove Duplicates from Sorted List\"></a>83. Remove Duplicates from Sorted List</h3><h4 id=\"åˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>åˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-list/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">delete_duplicates</span><span class=\"params\">(head)</span>:</span></span><br><span class=\"line\">    root = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head <span class=\"keyword\">and</span> head.next:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head.val == head.next.val:</span><br><span class=\"line\">            head.next = head.next.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            head = head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"82-Remove-Duplicates-from-Sorted-List-II\"><a href=\"#82-Remove-Duplicates-from-Sorted-List-II\" class=\"headerlink\" title=\"82. Remove Duplicates from Sorted List II\"></a>82. Remove Duplicates from Sorted List II</h3><h4 id=\"å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œé‡å¤çš„èŠ‚ç‚¹è¦å…¨éƒ¨åˆ é™¤ã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œé‡å¤çš„èŠ‚ç‚¹è¦å…¨éƒ¨åˆ é™¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œé‡å¤çš„èŠ‚ç‚¹è¦å…¨éƒ¨åˆ é™¤ã€‚åŸé¢˜\"></a>å’Œä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œé‡å¤çš„èŠ‚ç‚¹è¦å…¨éƒ¨åˆ é™¤ã€‚<a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-list-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5</span><br><span class=\"line\">Output: 1-&gt;2-&gt;5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteDuplicates</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    prev = ans = ListNode(<span class=\"number\">0</span>)        </span><br><span class=\"line\">    prev.next = h = head</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">while</span> h <span class=\"keyword\">and</span> h.next:</span><br><span class=\"line\">        remove = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> h.next <span class=\"keyword\">and</span> h.val == h.next.val:</span><br><span class=\"line\">            h.next = h.next.next</span><br><span class=\"line\">            remove = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> remove:</span><br><span class=\"line\">            prev.next = h.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            prev = prev.next</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"876-Middle-of-the-Linked-List\"><a href=\"#876-Middle-of-the-Linked-List\" class=\"headerlink\" title=\"876. Middle of the Linked List\"></a>876. Middle of the Linked List</h3><h4 id=\"é“¾è¡¨ä¸­ç‚¹ï¼Œå¦‚æœå¶æ•°ä¸ªï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#é“¾è¡¨ä¸­ç‚¹ï¼Œå¦‚æœå¶æ•°ä¸ªï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é“¾è¡¨ä¸­ç‚¹ï¼Œå¦‚æœå¶æ•°ä¸ªï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"></a>é“¾è¡¨ä¸­ç‚¹ï¼Œå¦‚æœå¶æ•°ä¸ªï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/middle-of-the-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5]</span><br><span class=\"line\">Output: Node 3 from this list (Serialization: [3,4,5])</span><br><span class=\"line\">The returned node has value 3.  (The judge&#39;s serialization of this node is [3,4,5]).</span><br><span class=\"line\">Note that we returned a ListNode object ans, such that:</span><br><span class=\"line\">ans.val &#x3D; 3, ans.next.val &#x3D; 4, ans.next.next.val &#x3D; 5, and ans.next.next.next &#x3D; NULL.</span><br><span class=\"line\"></span><br><span class=\"line\">Output: Node 4 from this list (Serialization: [4,5,6])</span><br><span class=\"line\">Since the list has two middle nodes with values 3 and 4, we return the second one.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">middleNode</span><span class=\"params\">(self, head: <span class=\"string\">'ListNode'</span>)</span> -&gt; 'ListNode':</span></span><br><span class=\"line\">    fast = slow = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> slow</span><br></pre></td></tr></table></figure>\n<h3 id=\"234-Palindrome-Linked-List\"><a href=\"#234-Palindrome-Linked-List\" class=\"headerlink\" title=\"234. Palindrome Linked List\"></a>234. Palindrome Linked List</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨ã€‚<a href=\"https://leetcode.com/problems/palindrome-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;2-&gt;1</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ä¸ºå€’ç½®é“¾è¡¨å’Œå¿«æ…¢æŒ‡é’ˆçš„æ€»å’Œåº”ç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(self, head: <span class=\"string\">'ListNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    rev = <span class=\"literal\">None</span></span><br><span class=\"line\">    slow = fast = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        fast = fast.next.next</span><br><span class=\"line\">        slow.next, rev, slow = rev, slow, slow.next</span><br><span class=\"line\">    <span class=\"keyword\">if</span> fast:</span><br><span class=\"line\">        slow = slow.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> rev <span class=\"keyword\">and</span> rev.val == slow.val:</span><br><span class=\"line\">        rev, slow = rev.next, slow.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> rev <span class=\"keyword\">is</span> <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯æ”¹å˜äº†åŸå§‹çš„headï¼Œè¿™é‡Œè¿›è¡Œä¸€äº›æ”¹è¿›ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPalindrome</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    rev = <span class=\"literal\">None</span></span><br><span class=\"line\">    fast = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        fast = fast.next.next</span><br><span class=\"line\">        rev, rev.next, head = head, rev, head.next</span><br><span class=\"line\">    tail = head.next <span class=\"keyword\">if</span> fast <span class=\"keyword\">else</span> head</span><br><span class=\"line\">    isPali = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> rev:</span><br><span class=\"line\">        isPali = isPali <span class=\"keyword\">and</span> rev.val == tail.val</span><br><span class=\"line\">        head, head.next, rev = rev, head, rev.next</span><br><span class=\"line\">        tail = tail.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> isPali</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"24-Swap-Nodes-in-Pairs\"><a href=\"#24-Swap-Nodes-in-Pairs\" class=\"headerlink\" title=\"24. Swap Nodes in Pairs\"></a>24. Swap Nodes in Pairs</h3><h4 id=\"æˆå¯¹è½¬æ¢é“¾è¡¨ã€‚åŸé¢˜\"><a href=\"#æˆå¯¹è½¬æ¢é“¾è¡¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æˆå¯¹è½¬æ¢é“¾è¡¨ã€‚åŸé¢˜\"></a>æˆå¯¹è½¬æ¢é“¾è¡¨ã€‚<a href=\"https://leetcode.com/problems/swap-nodes-in-pairs/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">swapPairs</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    prev, prev.next = self, head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> prev.next <span class=\"keyword\">and</span> prev.next.next:</span><br><span class=\"line\">        a = prev.next    <span class=\"comment\"># current</span></span><br><span class=\"line\">        b = a.next</span><br><span class=\"line\">        prev.next, b.next, a.next = b, a, b.next</span><br><span class=\"line\">        prev = a</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.next</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿™é‡Œæœ‰ä¸ªé˜´é—´å†™æ³•ï¼Œåªåˆ›å»ºä¸€ä¸ªå˜é‡ã€‚æ³¨æ„å¤åˆ¶é¡ºåºï¼Œä¸èƒ½å°†p.nextæ”¾åˆ°å‰é¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">swapPairs</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    p, p.next = self, head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> p.next <span class=\"keyword\">and</span> p.next.next:</span><br><span class=\"line\">        p.next.next.next, p.next.next, p.next = p.next, p.next.next.next, p.next.next</span><br><span class=\"line\">        p = p.next.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"19-Remove-Nth-Node-From-End-of-List\"><a href=\"#19-Remove-Nth-Node-From-End-of-List\" class=\"headerlink\" title=\"19. Remove Nth Node From End of List\"></a>19. Remove Nth Node From End of List</h3><h4 id=\"åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"></a>åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/remove-nth-node-from-end-of-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n &#x3D; 2.</span><br><span class=\"line\"></span><br><span class=\"line\">After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeNthFromEnd</span><span class=\"params\">(self, head: ListNode, n: int)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    slow = dummy = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    dummy.next = fast = head</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        fast = fast.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next</span><br><span class=\"line\">    slow.next = slow.next.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dummy.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"328-Odd-Even-Linked-List\"><a href=\"#328-Odd-Even-Linked-List\" class=\"headerlink\" title=\"328. Odd Even Linked List\"></a>328. Odd Even Linked List</h3><h4 id=\"é‡æ’é“¾è¡¨ï¼Œä½¿å¥‡æ•°ä½èŠ‚ç‚¹åœ¨å‰ï¼Œå¶æ•°ä½èŠ‚ç‚¹åœ¨åï¼Œå°±åœ°æ’åºã€‚åŸé¢˜\"><a href=\"#é‡æ’é“¾è¡¨ï¼Œä½¿å¥‡æ•°ä½èŠ‚ç‚¹åœ¨å‰ï¼Œå¶æ•°ä½èŠ‚ç‚¹åœ¨åï¼Œå°±åœ°æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"é‡æ’é“¾è¡¨ï¼Œä½¿å¥‡æ•°ä½èŠ‚ç‚¹åœ¨å‰ï¼Œå¶æ•°ä½èŠ‚ç‚¹åœ¨åï¼Œå°±åœ°æ’åºã€‚åŸé¢˜\"></a>é‡æ’é“¾è¡¨ï¼Œä½¿å¥‡æ•°ä½èŠ‚ç‚¹åœ¨å‰ï¼Œå¶æ•°ä½èŠ‚ç‚¹åœ¨åï¼Œå°±åœ°æ’åºã€‚<a href=\"https://leetcode.com/problems/odd-even-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class=\"line\">Output: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL</span><br></pre></td></tr></table></figure>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E9%93%BE%E8%A1%A8%E7%AF%87%EF%BC%89LinkedList/328_Odd_Even.svg\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">oddEvenList</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    odd = head</span><br><span class=\"line\">    even_h = even = head.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> even <span class=\"keyword\">and</span> even.next:</span><br><span class=\"line\">        odd.next = odd.next.next</span><br><span class=\"line\">        odd = odd.next</span><br><span class=\"line\">        even.next = even.next.next</span><br><span class=\"line\">        even = even.next</span><br><span class=\"line\">    odd.next = even_h</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<h3 id=\"Sort-a-linked-list-that-is-sorted-alternating-asc-and-desc\"><a href=\"#Sort-a-linked-list-that-is-sorted-alternating-asc-and-desc\" class=\"headerlink\" title=\"***. Sort  a linked list that is sorted alternating asc and desc\"></a>***. Sort  a linked list that is sorted alternating asc and desc</h3><h4 id=\"è¿™é¢˜ä¸æ˜¯LCä¸Šçš„ï¼Œæ˜¯é¢ç»é‡Œçš„ï¼Œè¦æ±‚å°†ä¸€ä¸ªå¥‡æ•°ä½å‡åºï¼Œå¶æ•°ä½é™åºçš„é“¾è¡¨è½¬æˆä¸€ä¸ªå‡åºçš„é“¾è¡¨ã€‚\"><a href=\"#è¿™é¢˜ä¸æ˜¯LCä¸Šçš„ï¼Œæ˜¯é¢ç»é‡Œçš„ï¼Œè¦æ±‚å°†ä¸€ä¸ªå¥‡æ•°ä½å‡åºï¼Œå¶æ•°ä½é™åºçš„é“¾è¡¨è½¬æˆä¸€ä¸ªå‡åºçš„é“¾è¡¨ã€‚\" class=\"headerlink\" title=\"è¿™é¢˜ä¸æ˜¯LCä¸Šçš„ï¼Œæ˜¯é¢ç»é‡Œçš„ï¼Œè¦æ±‚å°†ä¸€ä¸ªå¥‡æ•°ä½å‡åºï¼Œå¶æ•°ä½é™åºçš„é“¾è¡¨è½¬æˆä¸€ä¸ªå‡åºçš„é“¾è¡¨ã€‚\"></a>è¿™é¢˜ä¸æ˜¯LCä¸Šçš„ï¼Œæ˜¯é¢ç»é‡Œçš„ï¼Œè¦æ±‚å°†ä¸€ä¸ªå¥‡æ•°ä½å‡åºï¼Œå¶æ•°ä½é™åºçš„é“¾è¡¨è½¬æˆä¸€ä¸ªå‡åºçš„é“¾è¡¨ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input List:   10-&gt;40-&gt;53-&gt;30-&gt;67-&gt;12-&gt;89-&gt;NULL</span><br><span class=\"line\">Output List:  10-&gt;12-&gt;30-&gt;40-&gt;53-&gt;67-&gt;89-&gt;NULL</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆ†åˆ«å‚è€ƒäº†328ï¼Œ206ï¼Œ21ä¸‰é¢˜ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œå°±æ˜¯å°†è¾“å…¥çš„é“¾è¡¨æ”¹å˜äº†ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯æƒ³é’ˆå¯¹é“¾è¡¨å°±åœ°ä¿®æ”¹ï¼Œä½†æ˜¯å‘ç°æœ€ååˆå¹¶çš„æ—¶å€™åˆä¸å¤ªå¥½å®ç°ã€‚</p>\n <figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sort_alternating</span><span class=\"params\">(head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># separate two lists</span></span><br><span class=\"line\">    odd = head</span><br><span class=\"line\">    even_h = even = head.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> even <span class=\"keyword\">and</span> even.next:</span><br><span class=\"line\">        odd.next = odd.next.next</span><br><span class=\"line\">        odd = odd.next</span><br><span class=\"line\">        even.next = even.next.next</span><br><span class=\"line\">        even = even.next</span><br><span class=\"line\">    odd.next = <span class=\"literal\">None</span>   <span class=\"comment\"># for last even tail ï¼ï¼</span></span><br><span class=\"line\">    <span class=\"comment\"># reverse the one with descending order</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> even_h:</span><br><span class=\"line\">        even_h.next, prev, even_h = prev, even_h, even_h.next</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># merge both lists</span></span><br><span class=\"line\">    ans = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head <span class=\"keyword\">and</span> prev:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head.val &lt;= prev.val:</span><br><span class=\"line\">            h.next, head = head, head.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            h.next, prev = prev, prev.next</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    h.next = head <span class=\"keyword\">or</span> prev</span><br><span class=\"line\">    <span class=\"comment\"># head is not head original</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.next</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¿®æ”¹äº†æ–¹æ³•ä¸€ä¸­çš„ä¸è¶³ï¼Œåœ¨ä¸€å¼€å§‹å°±å»ºç«‹ä¸¤ä¸ªé“¾è¡¨ã€‚ä¸¤ä¸ªé“¾è¡¨è¦åˆ†å¼€è¿­ä»£æ‰ä¸ä¼šé—æ¼å…ƒç´ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sort_alternating</span><span class=\"params\">(head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"comment\"># separate two lists</span></span><br><span class=\"line\">    odd_head = odd_h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    even_head = even_h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    odd = head</span><br><span class=\"line\">    even = head.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> odd:</span><br><span class=\"line\">        odd_h.next = ListNode(odd.val)</span><br><span class=\"line\">        odd, odd_h = odd.next.next <span class=\"keyword\">if</span> odd.next <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, odd_h.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> even:</span><br><span class=\"line\">        even_h.next = ListNode(even.val)</span><br><span class=\"line\">        even, even_h = even.next.next <span class=\"keyword\">if</span> even.next <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, even_h.next</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># reverse the one with descending order</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    odd_head, even_head = odd_head.next, even_head.next</span><br><span class=\"line\">    <span class=\"keyword\">while</span> even_head:</span><br><span class=\"line\">        even_head.next, prev, even_head = prev, even_head, even_head.next</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># merge both lists</span></span><br><span class=\"line\">    ans = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> odd_head <span class=\"keyword\">and</span> prev:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> odd_head.val &lt;= prev.val:</span><br><span class=\"line\">            h.next, odd_head = odd_head, odd_head.next</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            h.next, prev = prev, prev.next</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    h.next = odd_head <span class=\"keyword\">or</span> prev</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"148-Sort-List\"><a href=\"#148-Sort-List\" class=\"headerlink\" title=\"148. Sort List\"></a>148. Sort List</h3><h4 id=\"ç»™é“¾è¡¨æ’åºã€‚åŸé¢˜\"><a href=\"#ç»™é“¾è¡¨æ’åºã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™é“¾è¡¨æ’åºã€‚åŸé¢˜\"></a>ç»™é“¾è¡¨æ’åºã€‚<a href=\"https://leetcode.com/problems/sort-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 4-&gt;2-&gt;1-&gt;3</span><br><span class=\"line\">Output: 1-&gt;2-&gt;3-&gt;4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortList</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_both</span><span class=\"params\">(l1, l2)</span>:</span></span><br><span class=\"line\">        l = h = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l1 <span class=\"keyword\">and</span> l2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> l1.val &lt;= l2.val:</span><br><span class=\"line\">                l.next, l1 = l1, l1.next</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                l.next, l2 = l2, l2.next</span><br><span class=\"line\">            l = l.next</span><br><span class=\"line\">        l.next = l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">        <span class=\"keyword\">return</span> h.next</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_sort</span><span class=\"params\">(h)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> h <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> h.next:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> h</span><br><span class=\"line\">        slow = fast = h</span><br><span class=\"line\">        prev = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">            prev, slow, fast = slow, slow.next, fast.next.next</span><br><span class=\"line\">        prev.next = <span class=\"literal\">None</span></span><br><span class=\"line\">        left = merge_sort(h)</span><br><span class=\"line\">        right = merge_sort(slow)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> merge_both(left, right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> merge_sort(head)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•äºŒï¼šè¦æ±‚æ˜¯å¸¸æ•°ç©ºé—´å¤æ‚åº¦å®ç°ï¼Œçœ‹åˆ°æœ‰äººè¯´é€’å½’æ ˆä¹Ÿè¦ç®—åœ¨ç©ºé—´å†…ï¼Œé‚£å°±åªèƒ½å†™æˆè¿­ä»£ã€‚è¿­ä»£ç¡®å®æ¯”è¾ƒå¤æ‚è¿™æ˜¯è¯„è®ºåŒºä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™é‡Œæ˜¯å®˜æ–¹é¢˜è§£ç»™çš„æ–¹æ³•ï¼Œå†™å¾—å¾ˆå¥½äº†ã€‚å¤§ä½“æ€è·¯å’Œæˆ‘æƒ³çš„å·®ä¸å¤šï¼Œè¿”å›å°¾èŠ‚ç‚¹çš„æ“ä½œä¸€å¼€å§‹æƒ³æ”¾åˆ°cut_listä¸­è€Œä¸æ˜¯mergeä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortList</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_two</span><span class=\"params\">(l1, l2, pre)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l1 <span class=\"keyword\">and</span> l2:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> l1.val &lt;= l2.val:</span><br><span class=\"line\">                pre.next, l1 = l1, l1.next</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                pre.next, l2 = l2, l2.next</span><br><span class=\"line\">            pre = pre.next</span><br><span class=\"line\">        pre.next = l1 <span class=\"keyword\">or</span> l2</span><br><span class=\"line\">        <span class=\"keyword\">while</span> pre.next: pre = pre.next</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pre</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cut_list</span><span class=\"params\">(head, size)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(size<span class=\"number\">-1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head: <span class=\"keyword\">break</span></span><br><span class=\"line\">            head = head.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head: <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        next_head, head.next = head.next, <span class=\"literal\">None</span>  <span class=\"comment\"># cut</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> next_head</span><br><span class=\"line\"></span><br><span class=\"line\">    dummy = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    dummy.next, h = head, head</span><br><span class=\"line\">    length, d = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">        length += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> d &lt; length:</span><br><span class=\"line\">        pre, h = dummy, dummy.next</span><br><span class=\"line\">        <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">            left = h</span><br><span class=\"line\">            right = cut_list(left, d)</span><br><span class=\"line\">            h = cut_list(right, d)</span><br><span class=\"line\">            pre = merge_two(left, right, pre)</span><br><span class=\"line\">        d *= <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dummy.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"817-Linked-List-Components\"><a href=\"#817-Linked-List-Components\" class=\"headerlink\" title=\"817. Linked List Components\"></a>817. Linked List Components</h3><h4 id=\"é“¾è¡¨çš„ç»„ä»¶ã€‚ç»™å®šä¸€ä¸ªé›†åˆGï¼Œç„¶åæ ¹æ®æ˜¯å¦åœ¨Gä¸­åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œæ±‚è¿èµ·æ¥åœ¨Gä¸­çš„éƒ¨åˆ†çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#é“¾è¡¨çš„ç»„ä»¶ã€‚ç»™å®šä¸€ä¸ªé›†åˆGï¼Œç„¶åæ ¹æ®æ˜¯å¦åœ¨Gä¸­åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œæ±‚è¿èµ·æ¥åœ¨Gä¸­çš„éƒ¨åˆ†çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é“¾è¡¨çš„ç»„ä»¶ã€‚ç»™å®šä¸€ä¸ªé›†åˆGï¼Œç„¶åæ ¹æ®æ˜¯å¦åœ¨Gä¸­åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œæ±‚è¿èµ·æ¥åœ¨Gä¸­çš„éƒ¨åˆ†çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>é“¾è¡¨çš„ç»„ä»¶ã€‚ç»™å®šä¸€ä¸ªé›†åˆGï¼Œç„¶åæ ¹æ®æ˜¯å¦åœ¨Gä¸­åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œæ±‚è¿èµ·æ¥åœ¨Gä¸­çš„éƒ¨åˆ†çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/linked-list-components/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">head: 0-&gt;1-&gt;2-&gt;3-&gt;4</span><br><span class=\"line\">G &#x3D; [0, 3, 1, 4]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">0 and 1 are connected, 3 and 4 are connected, so [0, 1] and [3, 4] are the two connected components.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numComponents</span><span class=\"params\">(self, head: ListNode, G: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    SET_G = set(G)</span><br><span class=\"line\">    h = head</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> h.val <span class=\"keyword\">in</span> SET_G:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (h.next <span class=\"keyword\">and</span> h.next.val <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> SET_G <span class=\"keyword\">or</span> </span><br><span class=\"line\">                <span class=\"keyword\">not</span> h.next):</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<h3 id=\"86-Partition-List\"><a href=\"#86-Partition-List\" class=\"headerlink\" title=\"86. Partition List\"></a>86. Partition List</h3><h4 id=\"é“¾è¡¨åˆ†åŒºï¼Œå°†æ¯”xå°çš„èŠ‚ç‚¹æ”¾åˆ°å‰é¢ï¼Œå…¶ä½™èŠ‚ç‚¹æ”¾åˆ°åé¢ï¼Œå¹¶ä¿æŒåŸæœ‰é¡ºåºã€‚åŸé¢˜\"><a href=\"#é“¾è¡¨åˆ†åŒºï¼Œå°†æ¯”xå°çš„èŠ‚ç‚¹æ”¾åˆ°å‰é¢ï¼Œå…¶ä½™èŠ‚ç‚¹æ”¾åˆ°åé¢ï¼Œå¹¶ä¿æŒåŸæœ‰é¡ºåºã€‚åŸé¢˜\" class=\"headerlink\" title=\"é“¾è¡¨åˆ†åŒºï¼Œå°†æ¯”xå°çš„èŠ‚ç‚¹æ”¾åˆ°å‰é¢ï¼Œå…¶ä½™èŠ‚ç‚¹æ”¾åˆ°åé¢ï¼Œå¹¶ä¿æŒåŸæœ‰é¡ºåºã€‚åŸé¢˜\"></a>é“¾è¡¨åˆ†åŒºï¼Œå°†æ¯”xå°çš„èŠ‚ç‚¹æ”¾åˆ°å‰é¢ï¼Œå…¶ä½™èŠ‚ç‚¹æ”¾åˆ°åé¢ï¼Œå¹¶ä¿æŒåŸæœ‰é¡ºåºã€‚<a href=\"https://leetcode.com/problems/partition-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: head &#x3D; 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x &#x3D; 3</span><br><span class=\"line\">Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚æ³¨æ„æœ€ågtåé¢å¯èƒ½æœ‰æ®‹ç•™çš„èŠ‚ç‚¹æ¯”å¦‚æœ€åä¸€ä¸ª2.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(self, head: ListNode, x: int)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    lt = letter = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    gt = greater = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    h = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> h.val &lt; x:</span><br><span class=\"line\">            lt.next = h</span><br><span class=\"line\">            lt = h</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            gt.next = h</span><br><span class=\"line\">            gt = h</span><br><span class=\"line\">        h = h.next</span><br><span class=\"line\">    gt.next = <span class=\"literal\">None</span>   <span class=\"comment\"># important !!</span></span><br><span class=\"line\">    lt.next = greater.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> letter.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"61-Rotate-List\"><a href=\"#61-Rotate-List\" class=\"headerlink\" title=\"61. Rotate List\"></a>61. Rotate List</h3><h4 id=\"å‘å³æ—‹è½¬é“¾è¡¨kæ¬¡ã€‚åŸé¢˜\"><a href=\"#å‘å³æ—‹è½¬é“¾è¡¨kæ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‘å³æ—‹è½¬é“¾è¡¨kæ¬¡ã€‚åŸé¢˜\"></a>å‘å³æ—‹è½¬é“¾è¡¨kæ¬¡ã€‚<a href=\"https://leetcode.com/problems/rotate-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 0-&gt;1-&gt;2-&gt;NULL, k &#x3D; 4</span><br><span class=\"line\">Output: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">rotate 1 steps to the right: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class=\"line\">rotate 2 steps to the right: 1-&gt;2-&gt;0-&gt;NULL</span><br><span class=\"line\">rotate 3 steps to the right: 0-&gt;1-&gt;2-&gt;NULL</span><br><span class=\"line\">rotate 4 steps to the right: 2-&gt;0-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rotateRight</span><span class=\"params\">(self, head: ListNode, k: int)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    n, cur, prev = <span class=\"number\">0</span>, head, <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> cur:</span><br><span class=\"line\">        n += <span class=\"number\">1</span></span><br><span class=\"line\">        prev, cur = cur, cur.next</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> n==<span class=\"number\">0</span> <span class=\"keyword\">or</span> k%n==<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> head</span><br><span class=\"line\">    k = k % n</span><br><span class=\"line\">    tail = head</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n-k<span class=\"number\">-1</span>):</span><br><span class=\"line\">        tail = tail.next</span><br><span class=\"line\">    ans, tail.next, prev.next = tail.next, <span class=\"literal\">None</span>, head</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"725-Split-Linked-List-in-Parts\"><a href=\"#725-Split-Linked-List-in-Parts\" class=\"headerlink\" title=\"725. Split Linked List in Parts\"></a>725. Split Linked List in Parts</h3><h4 id=\"æŒ‰éƒ¨åˆ†æ‹†åˆ†é“¾è¡¨ã€‚å¦‚æœä¸èƒ½æ•´é™¤ï¼Œè¦ä¿è¯å‰é¢éƒ¨åˆ†çš„å¤§ã€‚åŸé¢˜\"><a href=\"#æŒ‰éƒ¨åˆ†æ‹†åˆ†é“¾è¡¨ã€‚å¦‚æœä¸èƒ½æ•´é™¤ï¼Œè¦ä¿è¯å‰é¢éƒ¨åˆ†çš„å¤§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŒ‰éƒ¨åˆ†æ‹†åˆ†é“¾è¡¨ã€‚å¦‚æœä¸èƒ½æ•´é™¤ï¼Œè¦ä¿è¯å‰é¢éƒ¨åˆ†çš„å¤§ã€‚åŸé¢˜\"></a>æŒ‰éƒ¨åˆ†æ‹†åˆ†é“¾è¡¨ã€‚å¦‚æœä¸èƒ½æ•´é™¤ï¼Œè¦ä¿è¯å‰é¢éƒ¨åˆ†çš„å¤§ã€‚<a href=\"https://leetcode.com/problems/split-linked-list-in-parts/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">root &#x3D; [1, 2, 3], k &#x3D; 5</span><br><span class=\"line\">Output: [[1],[2],[3],[],[]]</span><br><span class=\"line\">Input: </span><br><span class=\"line\">root &#x3D; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], k &#x3D; 3</span><br><span class=\"line\">Output: [[1, 2, 3, 4], [5, 6, 7], [8, 9, 10]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitListToParts</span><span class=\"params\">(self, root: ListNode, k: int)</span> -&gt; List[ListNode]:</span></span><br><span class=\"line\">    n, cur = <span class=\"number\">0</span>, root</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> cur:</span><br><span class=\"line\">        n += <span class=\"number\">1</span></span><br><span class=\"line\">        cur = cur.next</span><br><span class=\"line\">    parts, remain = divmod(n, k)</span><br><span class=\"line\">    h = root</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">        head = h</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(parts<span class=\"number\">-1</span>+(i&lt;remain)):</span><br><span class=\"line\">            h = h.next</span><br><span class=\"line\">        <span class=\"keyword\">if</span> h:</span><br><span class=\"line\">            h.next, h = <span class=\"literal\">None</span>, h.next</span><br><span class=\"line\">        ans.append(head)                            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"143-Reorder-List\"><a href=\"#143-Reorder-List\" class=\"headerlink\" title=\"143. Reorder List\"></a>143. Reorder List</h3><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorderList</span><span class=\"params\">(self, head: ListNode)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    slow = fast = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> fast <span class=\"keyword\">and</span> fast.next:</span><br><span class=\"line\">        slow, fast = slow.next, fast.next.next</span><br><span class=\"line\">    </span><br><span class=\"line\">    tail, slow.next = slow.next, <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        prev = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> node:</span><br><span class=\"line\">            node.next, prev, node = prev, node, node.next</span><br><span class=\"line\">        <span class=\"keyword\">return</span> prev</span><br><span class=\"line\">    tail = reverse(tail)</span><br><span class=\"line\">    h = head</span><br><span class=\"line\">    <span class=\"keyword\">while</span> h <span class=\"keyword\">and</span> tail:</span><br><span class=\"line\">        h.next, tail.next, tail, h = tail, h.next, tail.next, h.next</span><br></pre></td></tr></table></figure>\n<h3 id=\"1030-Next-Greater-Node-In-Linked-List\"><a href=\"#1030-Next-Greater-Node-In-Linked-List\" class=\"headerlink\" title=\"1030. Next Greater Node In Linked List\"></a>1030. Next Greater Node In Linked List</h3><h4 id=\"é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªæ¯”å½“å‰èŠ‚ç‚¹å¤§çš„å€¼ã€‚å’Œ503é¢˜ç±»ä¼¼ã€‚åŸé¢˜\"><a href=\"#é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªæ¯”å½“å‰èŠ‚ç‚¹å¤§çš„å€¼ã€‚å’Œ503é¢˜ç±»ä¼¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªæ¯”å½“å‰èŠ‚ç‚¹å¤§çš„å€¼ã€‚å’Œ503é¢˜ç±»ä¼¼ã€‚åŸé¢˜\"></a>é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªæ¯”å½“å‰èŠ‚ç‚¹å¤§çš„å€¼ã€‚å’Œ503é¢˜ç±»ä¼¼ã€‚<a href=\"https://leetcode.com/problems/next-greater-node-in-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,7,4,3,5]</span><br><span class=\"line\">Output: [7,0,5,5,0]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æ²¡æœ‰åšå‡ºæ¥ï¼Œè™½ç„¶æ˜¯ä¸€ä¸ªé“¾è¡¨é¢˜ï¼Œä½†æ˜¯è·Ÿé“¾è¡¨æ²¡å•¥å…³ç³»ã€‚æ€è·¯<code>vals</code>ä¿å­˜äº†ä¹‹å‰æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼Œ<code>stack</code>æŒ‰åºå­˜çš„ç´¢å¼•ï¼Œå½“éå†ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æ—¶ï¼Œä¸æ–­åœ°å»å’Œä¹‹å‰çš„èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœå¤§äºï¼Œé‚£ä¹ˆä¹…æ›´æ–°<code>ans</code>ä¸­çš„å€¼ï¼Œä¹‹å‰è®¾ä¸ºäº†0ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextLargerNodes</span><span class=\"params\">(self, head: ListNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack, vals = [], []</span><br><span class=\"line\">    i, ans = <span class=\"number\">0</span>, []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        num = head.val</span><br><span class=\"line\">        vals.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> num &gt; vals[stack[<span class=\"number\">-1</span>]]:</span><br><span class=\"line\">            ans[stack.pop()] = num</span><br><span class=\"line\">        stack.append(i)</span><br><span class=\"line\">        ans.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå»é™¤æ–¹æ³•ä¸€ä¸­æ— ç”¨çš„å˜é‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextLargerNodes</span><span class=\"params\">(self, head: ListNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, stack = [], []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack <span class=\"keyword\">and</span> stack[<span class=\"number\">-1</span>][<span class=\"number\">1</span>] &lt; head.val:</span><br><span class=\"line\">            ans[stack.pop()[<span class=\"number\">0</span>]] = head.val</span><br><span class=\"line\">        stack.append((len(ans), head.val))</span><br><span class=\"line\">        ans.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1171-Remove-Zero-Sum-Consecutive-Nodes-from-Linked-List\"><a href=\"#1171-Remove-Zero-Sum-Consecutive-Nodes-from-Linked-List\" class=\"headerlink\" title=\"1171. Remove Zero Sum Consecutive Nodes from Linked List\"></a>1171. Remove Zero Sum Consecutive Nodes from Linked List</h3><h4 id=\"ç§»é™¤ç›¸è¿å’Œä¸º0çš„èŠ‚ç‚¹ã€‚åƒç¥–ç›ä¸€æ ·ï¼Œè¿ç»­åœ°åˆ é™¤ã€‚ç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#ç§»é™¤ç›¸è¿å’Œä¸º0çš„èŠ‚ç‚¹ã€‚åƒç¥–ç›ä¸€æ ·ï¼Œè¿ç»­åœ°åˆ é™¤ã€‚ç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç§»é™¤ç›¸è¿å’Œä¸º0çš„èŠ‚ç‚¹ã€‚åƒç¥–ç›ä¸€æ ·ï¼Œè¿ç»­åœ°åˆ é™¤ã€‚ç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"></a>ç§»é™¤ç›¸è¿å’Œä¸º0çš„èŠ‚ç‚¹ã€‚åƒç¥–ç›ä¸€æ ·ï¼Œè¿ç»­åœ°åˆ é™¤ã€‚ç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/remove-zero-sum-consecutive-nodes-from-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: head &#x3D; [1,2,-3,3,1]</span><br><span class=\"line\">Output: [3,1]</span><br><span class=\"line\">Note: The answer [1,2,1] would also be accepted.</span><br></pre></td></tr></table></figure>\n<font color=\"#FF0000\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å­—å…¸è®°å½•å’Œï¼Œå½“å’Œå‡ºç°é‡å¤çš„æ—¶å€™ï¼Œè¯´æ˜å…¶ä¸­çš„ä¸€æ®µå’Œä¸º0ã€‚çœ‹äº†è¯„è®ºå‘ç°æ­¤é¢˜OJæœ‰é”™è¯¯ï¼Œ<code>[1,3,2,-3,-2,5,5,-5,1]</code>ç»“æœä¸º<code>[1,5,5,-5,1]</code>å±…ç„¶å¯¹äº†ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeZeroSumSublists</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    p = dummy = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    dummy.next = head</span><br><span class=\"line\">    s = <span class=\"number\">0</span></span><br><span class=\"line\">    vals = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> p:</span><br><span class=\"line\">        s += p.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vals:</span><br><span class=\"line\">            vals[s] = p</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            vals[s].next = p.next</span><br><span class=\"line\">        p = p.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dummy.next</span><br></pre></td></tr></table></figure>\n<p>ä»”ç»†åˆ†æä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼Œå†ç»“æœå˜æˆ<code>[1,5,5,-5,1]</code>æ—¶ï¼Œæ²¡æœ‰å°†valsä¸­åˆ é™¤çš„èŠ‚ç‚¹æ¸…ç©ºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeZeroSumSublists</span><span class=\"params\">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class=\"line\">    p = dummy = ListNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    dummy.next = head</span><br><span class=\"line\">    s = <span class=\"number\">0</span></span><br><span class=\"line\">    s_sum = [s]</span><br><span class=\"line\">    vals = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> p:</span><br><span class=\"line\">        s += p.val</span><br><span class=\"line\">        s_sum.append(s)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vals:</span><br><span class=\"line\">            vals[s] = p</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            vals[s].next = p.next</span><br><span class=\"line\">            s_sum.pop() <span class=\"comment\"># remove cur, keep the last</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> s_sum[<span class=\"number\">-1</span>] != s:</span><br><span class=\"line\">                vals.pop(s_sum.pop())</span><br><span class=\"line\">        p = p.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dummy.next</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Linked List"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆäºŒåˆ†æ³•ç¯‡ï¼‰Binary Search","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%88%86%E6%B3%95%E7%AF%87%EF%BC%89Binary-Search/","content":"<h3 id=\"704-Binary-Search\"><a href=\"#704-Binary-Search\" class=\"headerlink\" title=\"704. Binary Search\"></a>704. Binary Search</h3><h4 id=\"äºŒåˆ†æ³•åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#äºŒåˆ†æ³•åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒåˆ†æ³•åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚åŸé¢˜\"></a>äºŒåˆ†æ³•åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/binary-search/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [-1,0,3,5,9,12], target &#x3D; 9</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: 9 exists in nums and its index is 4</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šå®ç°åŸç†ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binary_search</span><span class=\"params\">(nums, target)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; target:</span><br><span class=\"line\">            r = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &lt; target:</span><br><span class=\"line\">            l = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, nums, target)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> bisect <span class=\"keyword\">import</span> bisect_left </span><br><span class=\"line\">    index = bisect_left(nums, target)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> index <span class=\"keyword\">if</span> index &lt; len(nums) <span class=\"keyword\">and</span> nums[index] == target <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"35-Search-Insert-Position\"><a href=\"#35-Search-Insert-Position\" class=\"headerlink\" title=\"35. Search Insert Position\"></a>35. Search Insert Position</h3><h4 id=\"ç»™å®šä¸€ä¸ªtargetï¼Œæ’å…¥åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œå‡å®šæ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªtargetï¼Œæ’å…¥åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œå‡å®šæ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªtargetï¼Œæ’å…¥åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œå‡å®šæ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªtargetï¼Œæ’å…¥åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œå‡å®šæ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/search-insert-position/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,3,5,6], 5</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šå®ç°åŸç†ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binary_insert</span><span class=\"params\">(nums, target)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; target:</span><br><span class=\"line\">            r = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &lt; target:</span><br><span class=\"line\">            l = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> l</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchInsert</span><span class=\"params\">(self, nums, target)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> bisect <span class=\"keyword\">import</span> bisect_left</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bisect_left(nums, target)</span><br></pre></td></tr></table></figure>\n<h3 id=\"153-Find-Minimum-in-Rotated-Sorted-Array\"><a href=\"#153-Find-Minimum-in-Rotated-Sorted-Array\" class=\"headerlink\" title=\"153. Find Minimum in Rotated Sorted Array\"></a>153. Find Minimum in Rotated Sorted Array</h3><h4 id=\"é€šè¿‡ä¸€ä¸ªæ’åºæ•°ç»„æ—‹è½¬åçš„ç»“æœï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#é€šè¿‡ä¸€ä¸ªæ’åºæ•°ç»„æ—‹è½¬åçš„ç»“æœï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é€šè¿‡ä¸€ä¸ªæ’åºæ•°ç»„æ—‹è½¬åçš„ç»“æœï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚åŸé¢˜\"></a>é€šè¿‡ä¸€ä¸ªæ’åºæ•°ç»„æ—‹è½¬åçš„ç»“æœï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [3,4,5,1,2] </span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šé€šè¿‡äºŒåˆ†æ³•ä¸æ–­ç¼©å°èŒƒå›´ï¼Œç”±äºmidæ˜¯æ•´é™¤ï¼Œæœ€ål==midï¼Œå¹¶ä¸”nums[mid] &gt; nums[r]çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find_min</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> nums[l] &lt; nums[r]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[l]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; nums[l]:</span><br><span class=\"line\">            l = mid</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &lt; nums[r]:</span><br><span class=\"line\">            r = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums[r]</span><br></pre></td></tr></table></figure>\n<h3 id=\"34-Find-First-and-Last-Position-of-Element-in-Sorted-Array\"><a href=\"#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array\" class=\"headerlink\" title=\"34. Find First and Last Position of Element in Sorted Array\"></a>34. Find First and Last Position of Element in Sorted Array</h3><h4 id=\"æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°ç»„ï¼Œè¿”å›æ•°å­—çš„ç´¢å¼•èŒƒå›´ã€‚åŸé¢˜\"><a href=\"#æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°ç»„ï¼Œè¿”å›æ•°å­—çš„ç´¢å¼•èŒƒå›´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°ç»„ï¼Œè¿”å›æ•°å­—çš„ç´¢å¼•èŒƒå›´ã€‚åŸé¢˜\"></a>æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°ç»„ï¼Œè¿”å›æ•°å­—çš„ç´¢å¼•èŒƒå›´ã€‚<a href=\"https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [5,7,7,8,8,10], target &#x3D; 8</span><br><span class=\"line\">Output: [3,4]</span><br><span class=\"line\">Input: nums &#x3D; [5,7,7,8,8,10], target &#x3D; 6</span><br><span class=\"line\">Output: [-1,-1]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchRange</span><span class=\"params\">(self, nums, target)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    left_idx = self.search_edge(nums, target, <span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> left_idx == len(nums) <span class=\"keyword\">or</span> nums[left_idx] != target:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [<span class=\"number\">-1</span>, <span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [left_idx, self.search_edge(nums, target, <span class=\"literal\">False</span>)<span class=\"number\">-1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search_edge</span><span class=\"params\">(self, nums, target, left)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; target <span class=\"keyword\">or</span> (left <span class=\"keyword\">and</span> nums[mid]==target):</span><br><span class=\"line\">            r = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> l</span><br></pre></td></tr></table></figure>\n<h3 id=\"278-First-Bad-Version\"><a href=\"#278-First-Bad-Version\" class=\"headerlink\" title=\"278. First Bad Version\"></a>278. First Bad Version</h3><h4 id=\"æ‰¾å‡ºæäº¤ç‰ˆæœ¬ä¸­çš„bad-versionã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæäº¤ç‰ˆæœ¬ä¸­çš„bad-versionã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæäº¤ç‰ˆæœ¬ä¸­çš„bad versionã€‚åŸé¢˜\"></a>æ‰¾å‡ºæäº¤ç‰ˆæœ¬ä¸­çš„bad versionã€‚<a href=\"https://leetcode.com/problems/first-bad-version\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given n &#x3D; 5, and version &#x3D; 4 is the first bad version.</span><br><span class=\"line\"></span><br><span class=\"line\">call isBadVersion(3) -&gt; false</span><br><span class=\"line\">call isBadVersion(5) -&gt; true</span><br><span class=\"line\">call isBadVersion(4) -&gt; true</span><br><span class=\"line\"></span><br><span class=\"line\">Then 4 is the first bad version.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">firstBadVersion</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">1</span>, n</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> isBadVersion(mid):</span><br><span class=\"line\">            r = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            l = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> l</span><br></pre></td></tr></table></figure>\n<h3 id=\"374-Guess-Number-Higher-or-Lower\"><a href=\"#374-Guess-Number-Higher-or-Lower\" class=\"headerlink\" title=\"374. Guess Number Higher or Lower\"></a>374. Guess Number Higher or Lower</h3><h4 id=\"çŒœæ•°æ¸¸æˆ1-nï¼Œæ¯çŒœä¸€æ¬¡ä¼šå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯æ›´å°è¿˜æ˜¯æ›´å¤§ã€‚åŸé¢˜\"><a href=\"#çŒœæ•°æ¸¸æˆ1-nï¼Œæ¯çŒœä¸€æ¬¡ä¼šå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯æ›´å°è¿˜æ˜¯æ›´å¤§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŒœæ•°æ¸¸æˆ1~nï¼Œæ¯çŒœä¸€æ¬¡ä¼šå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯æ›´å°è¿˜æ˜¯æ›´å¤§ã€‚åŸé¢˜\"></a>çŒœæ•°æ¸¸æˆ1~nï¼Œæ¯çŒœä¸€æ¬¡ä¼šå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯æ›´å°è¿˜æ˜¯æ›´å¤§ã€‚<a href=\"https://leetcode.com/problems/guess-number-higher-or-lower/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">def guess(num):</span><br><span class=\"line\">    return</span><br><span class=\"line\">    -1 : My number is lower</span><br><span class=\"line\">     1 : My number is higher</span><br><span class=\"line\">     0 : Congrats! You got it!</span><br><span class=\"line\">     </span><br><span class=\"line\">Input: n &#x3D; 10, pick &#x3D; 6</span><br><span class=\"line\">Output: 6</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šå®ç°åŸç†ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">guessNumber</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">1</span>, n</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">        mid = (l+r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> guess(mid) == <span class=\"number\">-1</span>:</span><br><span class=\"line\">            r = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> guess(mid) == <span class=\"number\">1</span>:</span><br><span class=\"line\">            l = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚æ­¤ç­”æ¡ˆå—stefanå¤§ç¥å¯å‘ã€‚æ ¸å¿ƒæ€æƒ³ä¸ºå°†guessè¿”å›çš„ç»“æœè½¬ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œç„¶åä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">guessNumber</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> bisect <span class=\"keyword\">import</span> bisect, bisect_left</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">C</span>:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__getitem__</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> -guess(x)</span><br><span class=\"line\">    <span class=\"comment\"># return bisect(C(), -1, 1, n)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> bisect_left(C(), <span class=\"number\">0</span>, <span class=\"number\">1</span>, n)</span><br></pre></td></tr></table></figure>\n<p>è§£æï¼šä»¥n=10, pick=6ä¸ºä¾‹ã€‚å®é™…ä¸ŠC classç›¸å½“äº:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">ary &#x3D; map(lambda x: -guess(x), range(1, n+1))</span><br><span class=\"line\">ary.insert(0, None)</span><br><span class=\"line\"># ary &#x3D; [None, -1, -1, -1, -1, -1, 0, 1, 1, 1, 1]</span><br><span class=\"line\">return bisect(ary, -1, 1, n)</span><br></pre></td></tr></table></figure>\n<p>è€Œç´¢å¼•åˆæ˜¯ä»1å¼€å§‹ï¼Œæ‰€ä»¥è¿™é‡Œåœ¨å‰é¢æ·»åŠ äº†ä¸€ä¸ªNoneï¼Œå®é™…ä¸Šå°†é¢˜è½¬ä¸ºäº†æŸ¥æ‰¾<code>ary</code>çš„<code>0</code>ï¼Œé—®é¢˜ä¾¿è¿åˆƒè€Œè§£ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨äº†mapï¼Œä¼šå¯¼è‡´ç©ºé—´ï¼Œæ—¶é—´å¤æ‚åº¦å¢åŠ ï¼Œè€Œä½¿ç”¨classçš„æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æ±‚å‡ºæ•´ä¸ªçš„<code>list</code>ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜ã€‚</p>\n<h3 id=\"744-Find-Smallest-Letter-Greater-Than-Target\"><a href=\"#744-Find-Smallest-Letter-Greater-Than-Target\" class=\"headerlink\" title=\"744. Find Smallest Letter Greater Than Target\"></a>744. Find Smallest Letter Greater Than Target</h3><h4 id=\"æ‰¾å‡ºæ¯”ç›®æ ‡å¤§çš„æœ€å°å­—æ¯ï¼Œæ²¡æœ‰çš„è¿”å›é¦–å­—æ¯ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ¯”ç›®æ ‡å¤§çš„æœ€å°å­—æ¯ï¼Œæ²¡æœ‰çš„è¿”å›é¦–å­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ¯”ç›®æ ‡å¤§çš„æœ€å°å­—æ¯ï¼Œæ²¡æœ‰çš„è¿”å›é¦–å­—æ¯ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ¯”ç›®æ ‡å¤§çš„æœ€å°å­—æ¯ï¼Œæ²¡æœ‰çš„è¿”å›é¦–å­—æ¯ã€‚<a href=\"https://leetcode.com/problems/find-smallest-letter-greater-than-target/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">letters &#x3D; [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]</span><br><span class=\"line\">target &#x3D; &quot;d&quot;</span><br><span class=\"line\">Output: &quot;f&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input:</span><br><span class=\"line\">letters &#x3D; [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]</span><br><span class=\"line\">target &#x3D; &quot;g&quot;</span><br><span class=\"line\">Output: &quot;j&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input:</span><br><span class=\"line\">letters &#x3D; [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]</span><br><span class=\"line\">target &#x3D; &quot;j&quot;</span><br><span class=\"line\">Output: &quot;c&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•å®ç°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreatestLetter</span><span class=\"params\">(self, letters: <span class=\"string\">'List[str]'</span>, target: <span class=\"string\">'str'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(letters)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> letters[mid] &gt; target:</span><br><span class=\"line\">            hi = mid <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> letters[mid] &lt;= target:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> letters[lo % len(letters)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨åº“ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nextGreatestLetter</span><span class=\"params\">(self, letters: <span class=\"string\">'List[str]'</span>, target: <span class=\"string\">'str'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    index = bisect.bisect(letters, target)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> letters[index % len(letters)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"852-Peak-Index-in-a-Mountain-Array\"><a href=\"#852-Peak-Index-in-a-Mountain-Array\" class=\"headerlink\" title=\"852. Peak Index in a Mountain Array\"></a>852. Peak Index in a Mountain Array</h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ã€‚å‡è®¾å³°å€¼ä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ã€‚å‡è®¾å³°å€¼ä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ã€‚å‡è®¾å³°å€¼ä¸€å®šå­˜åœ¨ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ã€‚å‡è®¾å³°å€¼ä¸€å®šå­˜åœ¨ã€‚<a href=\"https://leetcode.com/problems/peak-index-in-a-mountain-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,2,1,0]</span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šLinear Scan. Time: O(N)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peakIndexInMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(A)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; A[i+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šone-line.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peakIndexInMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> A.index(max(A))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šçœ‹åˆ°Solutionæ‰æƒ³åˆ°äºŒåˆ†æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peakIndexInMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(A)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[mid] &gt; A[mid+<span class=\"number\">1</span>]:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šé»„é‡‘åˆ†å‰²æ³•ï¼Œåº”ç”¨åœ¨å•å³°å‡½æ•°æ±‚æå€¼ï¼Œé€Ÿåº¦æ¯”äºŒåˆ†æ³•è¦å¿«ã€‚</font>\n\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%88%86%E6%B3%95%E7%AF%87%EF%BC%89Binary-Search/gold.gif\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">peakIndexInMountainArray</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gold1</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i + int(round((j-i) * <span class=\"number\">0.382</span>))</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gold2</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> i + int(round((j-i) * <span class=\"number\">0.618</span>))</span><br><span class=\"line\">    </span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(A) - <span class=\"number\">1</span></span><br><span class=\"line\">    x1, x2 = gold1(l, r), gold2(l, r)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> x1 &lt; x2:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[x1] &lt; A[x2]:</span><br><span class=\"line\">            l = x1</span><br><span class=\"line\">            x1 = x2</span><br><span class=\"line\">            x2 = gold1(x1, r)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            r = x2</span><br><span class=\"line\">            x2 = x1</span><br><span class=\"line\">            x1 = gold2(l, x2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> x1</span><br></pre></td></tr></table></figure>\n<h3 id=\"1014-Capacity-To-Ship-Packages-Within-D-Days\"><a href=\"#1014-Capacity-To-Ship-Packages-Within-D-Days\" class=\"headerlink\" title=\"1014. Capacity To Ship Packages Within D Days\"></a>1014. Capacity To Ship Packages Within D Days</h3><h4 id=\"nå¤©å†…è½®èˆ¹è¿é€çš„æœ€å°å®¹é‡ã€‚åŸé¢˜\"><a href=\"#nå¤©å†…è½®èˆ¹è¿é€çš„æœ€å°å®¹é‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"nå¤©å†…è½®èˆ¹è¿é€çš„æœ€å°å®¹é‡ã€‚åŸé¢˜\"></a>nå¤©å†…è½®èˆ¹è¿é€çš„æœ€å°å®¹é‡ã€‚<a href=\"https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: weights &#x3D; [1,2,3,4,5,6,7,8,9,10], D &#x3D; 5</span><br><span class=\"line\">Output: 15</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">A ship capacity of 15 is the minimum to ship all the packages in 5 days like this:</span><br><span class=\"line\">1st day: 1, 2, 3, 4, 5</span><br><span class=\"line\">2nd day: 6, 7</span><br><span class=\"line\">3rd day: 8</span><br><span class=\"line\">4th day: 9</span><br><span class=\"line\">5th day: 10</span><br><span class=\"line\"></span><br><span class=\"line\">Note that the cargo must be shipped in the order given, so using a ship of capacity 14 and splitting the packages into parts like (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) is not allowed.</span><br></pre></td></tr></table></figure>\n<p>è´´ä¸€ä¸‹ç«èµ›æ—¶ACçš„ä¸‘é™‹å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shipWithinDays</span><span class=\"params\">(self, weights: List[int], D: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">can_ship</span><span class=\"params\">(capacity, D)</span>:</span></span><br><span class=\"line\">        l = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(D):</span><br><span class=\"line\">            each = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> range(l, len(weights)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> weights[r]+each &lt;= capacity:</span><br><span class=\"line\">                    each += weights[r]</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    l = r</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    lo, hi = max(weights), sum(weights)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> can_ship(mid, D):</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<p>ä¼˜åŒ–ã€‚é‡è§ä¸€ä¸ªè¯¡å¼‚çš„ç°è±¡ï¼ŒåŒæ ·çš„ä»£ç ç”¨pythonæ¯”python3å¿«äº†60msï¼Œå’Œ3MBçš„å†…å­˜ã€‚è¿™è§£æ³•ä¹Ÿæ²¡æ¶‰åŠä¸¤è€…çš„åŒºåˆ«ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shipWithinDays</span><span class=\"params\">(self, weights: List[int], D: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = max(weights), sum(weights)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid, days, cur = (lo + hi) // <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> weights:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur+w &gt; mid:</span><br><span class=\"line\">                days += <span class=\"number\">1</span></span><br><span class=\"line\">                cur = <span class=\"number\">0</span></span><br><span class=\"line\">            cur += w</span><br><span class=\"line\">        <span class=\"keyword\">if</span> days &gt; D:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># print(lo, mid, hi)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"875-Koko-Eating-Bananas\"><a href=\"#875-Koko-Eating-Bananas\" class=\"headerlink\" title=\"875. Koko Eating Bananas\"></a>875. Koko Eating Bananas</h3><h4 id=\"è¿™é“é¢˜æ€è·¯å’Œ1014ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æœå½“å‰å †çš„é¦™è•‰å°äºåƒçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½åƒä¸‹ä¸€å †ã€‚åŸé¢˜\"><a href=\"#è¿™é“é¢˜æ€è·¯å’Œ1014ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æœå½“å‰å †çš„é¦™è•‰å°äºåƒçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½åƒä¸‹ä¸€å †ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é“é¢˜æ€è·¯å’Œ1014ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æœå½“å‰å †çš„é¦™è•‰å°äºåƒçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½åƒä¸‹ä¸€å †ã€‚åŸé¢˜\"></a>è¿™é“é¢˜æ€è·¯å’Œ1014ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æœå½“å‰å †çš„é¦™è•‰å°äºåƒçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½åƒä¸‹ä¸€å †ã€‚<a href=\"https://leetcode.com/problems/koko-eating-bananas/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [3,6,7,11], H &#x3D; 8</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå†™ä¹ æƒ¯äº†Python3ï¼Œè€æ˜¯æƒ³å†™<code>//</code>ï¼Œæ³¨æ„æ˜¯<code>p/mid</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minEatingSpeed</span><span class=\"params\">(self, piles: List[int], H: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, max(piles) </span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi ) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># needs = sum(math.ceil(p/mid) for p in piles)   # slower</span></span><br><span class=\"line\">        needs = sum((p<span class=\"number\">-1</span>)//mid+<span class=\"number\">1</span> <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> piles)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> needs &gt; H:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"1145-Binary-Tree-Coloring-Game\"><a href=\"#1145-Binary-Tree-Coloring-Game\" class=\"headerlink\" title=\"1145. Binary Tree Coloring Game\"></a>1145. Binary Tree Coloring Game</h3><h4 id=\"äºŒå‰æ ‘æŸ“è‰²æ¸¸æˆã€‚ä¸¤ä¸ªäººè½®æµç»™äºŒå‰æ ‘æŸ“è‰²ï¼Œæ¯æ¬¡åªèƒ½æŸ“ç›¸é‚»ä½çš„èŠ‚ç‚¹ï¼Œç»™å®šç¬¬ä¸€ä¸ªäººæŸ“è‰²çš„ä½ç½®ï¼Œé—®ç¬¬äºŒä¸ªäººæ˜¯å¦èƒ½å¤Ÿå¿…èƒœã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘æŸ“è‰²æ¸¸æˆã€‚ä¸¤ä¸ªäººè½®æµç»™äºŒå‰æ ‘æŸ“è‰²ï¼Œæ¯æ¬¡åªèƒ½æŸ“ç›¸é‚»ä½çš„èŠ‚ç‚¹ï¼Œç»™å®šç¬¬ä¸€ä¸ªäººæŸ“è‰²çš„ä½ç½®ï¼Œé—®ç¬¬äºŒä¸ªäººæ˜¯å¦èƒ½å¤Ÿå¿…èƒœã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘æŸ“è‰²æ¸¸æˆã€‚ä¸¤ä¸ªäººè½®æµç»™äºŒå‰æ ‘æŸ“è‰²ï¼Œæ¯æ¬¡åªèƒ½æŸ“ç›¸é‚»ä½çš„èŠ‚ç‚¹ï¼Œç»™å®šç¬¬ä¸€ä¸ªäººæŸ“è‰²çš„ä½ç½®ï¼Œé—®ç¬¬äºŒä¸ªäººæ˜¯å¦èƒ½å¤Ÿå¿…èƒœã€‚åŸé¢˜\"></a>äºŒå‰æ ‘æŸ“è‰²æ¸¸æˆã€‚ä¸¤ä¸ªäººè½®æµç»™äºŒå‰æ ‘æŸ“è‰²ï¼Œæ¯æ¬¡åªèƒ½æŸ“ç›¸é‚»ä½çš„èŠ‚ç‚¹ï¼Œç»™å®šç¬¬ä¸€ä¸ªäººæŸ“è‰²çš„ä½ç½®ï¼Œé—®ç¬¬äºŒä¸ªäººæ˜¯å¦èƒ½å¤Ÿå¿…èƒœã€‚<a href=\"https://leetcode.com/problems/binary-tree-coloring-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå…³é”®çš„ä¸€ç‚¹éœ€è¦æƒ³æ˜ç™½ï¼Œä»ç¬¬ä¸€ä¸ªäººæŸ“è‰²çš„åœ°æ–¹ï¼Œæœ‰ä¸‰ä¸ªåˆ†æ”¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªåˆ†æ”¯å¯ä»¥å¤§äºæ•´ä¸ªèŠ‚ç‚¹çš„ä¸€åŠï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªäººé€‰æ‹©è¿™ä¸ªåˆ†æ”¯ï¼Œå°±èƒ½èµ¢å¾—æ¯”èµ›</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">btreeGameWinningMove</span><span class=\"params\">(self, root: TreeNode, n: int, x: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    count = [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.val == x:</span><br><span class=\"line\">            count[<span class=\"number\">0</span>] = left</span><br><span class=\"line\">            count[<span class=\"number\">1</span>] = right</span><br><span class=\"line\">        <span class=\"keyword\">return</span> left + right + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(max(count), n - sum(count) - <span class=\"number\">1</span>) &gt; n // <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"33-Search-in-Rotated-Sorted-Array\"><a href=\"#33-Search-in-Rotated-Sorted-Array\" class=\"headerlink\" title=\"33. Search in Rotated Sorted Array\"></a>33. Search in Rotated Sorted Array</h3><h4 id=\"åœ¨æœ‰åºæ•°ç»„æ—‹è½¬åæŸ¥æ‰¾ç›®æ ‡ç´¢å¼•ã€‚åŸé¢˜\"><a href=\"#åœ¨æœ‰åºæ•°ç»„æ—‹è½¬åæŸ¥æ‰¾ç›®æ ‡ç´¢å¼•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨æœ‰åºæ•°ç»„æ—‹è½¬åæŸ¥æ‰¾ç›®æ ‡ç´¢å¼•ã€‚åŸé¢˜\"></a>åœ¨æœ‰åºæ•°ç»„æ—‹è½¬åæŸ¥æ‰¾ç›®æ ‡ç´¢å¼•ã€‚<a href=\"https://leetcode.com/problems/search-in-rotated-sorted-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [4,5,6,7,0,1,2], target &#x3D; 0</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªé¢˜å¼€å§‹çš„æ—¶å€™ç»“åˆä¸¤ä¸ªé¢˜ï¼Œä¸€ä¸ªæ˜¯æ—‹è½¬æ•°ç»„ä¸­çš„æœ€å°å€¼ï¼Œç„¶åé‡ç»„æˆä¸€ä¸ªåŸæ•°ç»„ï¼Œæœ€ååœ¨äºŒåˆ†æœç´¢åŠ ä¸ŠåŸæ¥åç§»çš„ç´¢å¼•å€¼ã€‚ä½†æ˜¯è¿™æ ·ä½¿ç”¨äº†ä¸¤æ¬¡äºŒåˆ†æ³•ï¼Œæ‰€ä»¥æ•ˆç‡ä¸é«˜ã€‚çœ‹äº†stefançš„ç­”æ¡ˆåæ˜ç™½äº†ï¼Œéœ€è¦æ‰¾åˆ°å¦ä¸€ä¸ªæ¯”è¾ƒçš„å€¼å°±æ˜¯<code>nums[0]</code>ã€‚è¿™é‡Œåˆ†äº†ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å½“<code>nums[0]&lt;=nums[mid]</code>ï¼Œè¿™ç§æƒ…å†µè¯´æ˜äº†<code>nums[:mid]</code>æ˜¯æœ‰åºçš„ï¼›å¦ä¸€ç§æ˜¯<code>nums[mid]&lt;nums[0]</code>ï¼Œè¯´æ˜<code>nums[:mid]</code>ä¸­å­˜åœ¨ä¸€ä¸ªä¸‹è½ç‚¹ï¼Œç„¶ååˆæ ¹æ®targetåœ¨ä¸‹è½ç‚¹çš„å·¦å³åˆ†ä¸ºä¸¤ç§æƒ…å†µã€‚è®°ä½æ¡ä»¶ä¸­targetå§‹ç»ˆæœ‰<code>=</code>ã€‚å…¶å®æœ‰ä¸€ä¸ªç­‰å·å¯ä»¥å»æ‰ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿å¥½è®°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] == target:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[<span class=\"number\">0</span>]&lt;=target&lt;nums[mid] <span class=\"keyword\">or</span> nums[mid]&lt;nums[<span class=\"number\">0</span>]&lt;=target <span class=\"keyword\">or</span> target&lt;=nums[mid]&lt;nums[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"81-Search-in-Rotated-Sorted-Array-II\"><a href=\"#81-Search-in-Rotated-Sorted-Array-II\" class=\"headerlink\" title=\"81. Search in Rotated Sorted Array II\"></a>81. Search in Rotated Sorted Array II</h3><h4 id=\"åŒ33é¢˜ï¼ŒåŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½æœ‰é‡å¤çš„æ•°å­—ï¼Œè¿”å›æ˜¯å¦å­˜åœ¨å³å¯ã€‚\"><a href=\"#åŒ33é¢˜ï¼ŒåŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½æœ‰é‡å¤çš„æ•°å­—ï¼Œè¿”å›æ˜¯å¦å­˜åœ¨å³å¯ã€‚\" class=\"headerlink\" title=\"åŒ33é¢˜ï¼ŒåŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½æœ‰é‡å¤çš„æ•°å­—ï¼Œè¿”å›æ˜¯å¦å­˜åœ¨å³å¯ã€‚\"></a>åŒ33é¢˜ï¼ŒåŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½æœ‰é‡å¤çš„æ•°å­—ï¼Œè¿”å›æ˜¯å¦å­˜åœ¨å³å¯ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [2,5,6,0,0,1,2], target &#x3D; 0</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ¸å¿ƒä»£ç åœ¨äºä¸ƒå…«è¡Œï¼Œå½“å·¦è¾¹ç•Œå’Œä¸­é—´ç›¸ç­‰æ—¶ï¼Œå·¦è¾¹ç•Œé€’å¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, nums: List[int], target: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] == target:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo&lt;mid <span class=\"keyword\">and</span> nums[lo]==nums[mid]:</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[lo] &lt;= nums[mid]: <span class=\"comment\"># å·¦ä¾§æœ‰åº</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[lo] &lt;= target &lt; nums[mid]:</span><br><span class=\"line\">                hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:                     <span class=\"comment\"># å³ä¾§æœ‰åºï¼Œå› ä¸ºä¸‹è½ç‚¹åœ¨å·¦ä¾§</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[mid] &lt; target &lt;= nums[hi]:</span><br><span class=\"line\">                lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1283-Find-the-Smallest-Divisor-Given-a-Threshold\"><a href=\"#1283-Find-the-Smallest-Divisor-Given-a-Threshold\" class=\"headerlink\" title=\"1283. Find the Smallest Divisor Given a Threshold\"></a>1283. Find the Smallest Divisor Given a Threshold</h3><h4 id=\"æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ï¼Œç”¨æ•°ç»„æ‰€æœ‰å…ƒç´ é™¤å®ƒå¾—åˆ°çš„å¤©èŠ±æ¿æ•°å’Œåˆšå¥½å°äºç­‰äºé˜ˆå€¼ã€‚æ±‚è¿™ä¸ªæ•°æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ï¼Œç”¨æ•°ç»„æ‰€æœ‰å…ƒç´ é™¤å®ƒå¾—åˆ°çš„å¤©èŠ±æ¿æ•°å’Œåˆšå¥½å°äºç­‰äºé˜ˆå€¼ã€‚æ±‚è¿™ä¸ªæ•°æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ï¼Œç”¨æ•°ç»„æ‰€æœ‰å…ƒç´ é™¤å®ƒå¾—åˆ°çš„å¤©èŠ±æ¿æ•°å’Œåˆšå¥½å°äºç­‰äºé˜ˆå€¼ã€‚æ±‚è¿™ä¸ªæ•°æœ€å°æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ï¼Œç”¨æ•°ç»„æ‰€æœ‰å…ƒç´ é™¤å®ƒå¾—åˆ°çš„å¤©èŠ±æ¿æ•°å’Œåˆšå¥½å°äºç­‰äºé˜ˆå€¼ã€‚æ±‚è¿™ä¸ªæ•°æœ€å°æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/find-the-smallest-divisor-given-a-threshold/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,5,9], threshold &#x3D; 6</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: We can get a sum to 17 (1+2+5+9) if the divisor is 1. </span><br><span class=\"line\">If the divisor is 4 we can get a sum to 7 (1+1+2+3) and if the divisor is 5 the sum will be 5 (1+1+1+2).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜å’Œå¤§ä½¬çš„è§£æ³•å·®ä¸å¤šã€‚åŒºåˆ«åœ¨äºæˆ‘ç”¨äº†mathçš„åº“ï¼Œè€Œä»–ç”¨äº†ä¸€ä¸ªå¼å­æ¥æ±‚çš„å¤©èŠ±æ¿æ•°ã€‚çŸ¥è¯†ç‚¹<code>(a + b - 1) // b == math.ceil(a/b)</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestDivisor</span><span class=\"params\">(self, nums: List[int], threshold: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, max(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"comment\"># if sum(math.ceil(i/mid) for i in nums) &lt;= threshold:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sum((i+mid<span class=\"number\">-1</span>) // mid <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> nums) &lt;= threshold:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"1268-Search-Suggestions-System\"><a href=\"#1268-Search-Suggestions-System\" class=\"headerlink\" title=\"1268. Search Suggestions System\"></a>1268. Search Suggestions System</h3><h4 id=\"å•è¯æ¨èç³»ç»Ÿã€‚åŸé¢˜\"><a href=\"#å•è¯æ¨èç³»ç»Ÿã€‚åŸé¢˜\" class=\"headerlink\" title=\"å•è¯æ¨èç³»ç»Ÿã€‚åŸé¢˜\"></a>å•è¯æ¨èç³»ç»Ÿã€‚<a href=\"https://leetcode.com/problems/search-suggestions-system/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: products &#x3D; [&quot;mobile&quot;,&quot;mouse&quot;,&quot;moneypot&quot;,&quot;monitor&quot;,&quot;mousepad&quot;], searchWord &#x3D; &quot;mouse&quot;</span><br><span class=\"line\">Output: [</span><br><span class=\"line\">[&quot;mobile&quot;,&quot;moneypot&quot;,&quot;monitor&quot;],</span><br><span class=\"line\">[&quot;mobile&quot;,&quot;moneypot&quot;,&quot;monitor&quot;],</span><br><span class=\"line\">[&quot;mouse&quot;,&quot;mousepad&quot;],</span><br><span class=\"line\">[&quot;mouse&quot;,&quot;mousepad&quot;],</span><br><span class=\"line\">[&quot;mouse&quot;,&quot;mousepad&quot;]</span><br><span class=\"line\">]</span><br><span class=\"line\">Explanation: products sorted lexicographically &#x3D; [&quot;mobile&quot;,&quot;moneypot&quot;,&quot;monitor&quot;,&quot;mouse&quot;,&quot;mousepad&quot;]</span><br><span class=\"line\">After typing m and mo all products match and we show user [&quot;mobile&quot;,&quot;moneypot&quot;,&quot;monitor&quot;]</span><br><span class=\"line\">After typing mou, mous and mouse the system suggests [&quot;mouse&quot;,&quot;mousepad&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ã€‚æ­¤é¢˜æš´åŠ›æ³•æ±‚è§£ä¹Ÿèƒ½è¿‡ã€‚æ›´å¥½çš„æ–¹æ³•è¿˜æ˜¯äºŒåˆ†æˆ–è€…Trieï¼Œä½†æ˜¯Trieçš„æ–¹å¼å®ç°è¿‡äºå¤æ‚ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">suggestedProducts</span><span class=\"params\">(self, p: List[str], w: str)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    p.sort()</span><br><span class=\"line\">    ans, prefix, i = [], <span class=\"string\">''</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w:</span><br><span class=\"line\">        prefix += c</span><br><span class=\"line\">        i = bisect.bisect_left(p, prefix, i)</span><br><span class=\"line\">        ans.append([d <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> p[i:i+<span class=\"number\">3</span>] <span class=\"keyword\">if</span> d.startswith(prefix)])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"392-Is-Subsequence\"><a href=\"#392-Is-Subsequence\" class=\"headerlink\" title=\"392. Is Subsequence\"></a>392. Is Subsequence</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¦ä¸€ä¸ªçš„å­åºåˆ—ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¦ä¸€ä¸ªçš„å­åºåˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¦ä¸€ä¸ªçš„å­åºåˆ—ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¦ä¸€ä¸ªçš„å­åºåˆ—ã€‚<a href=\"https://leetcode.com/problems/is-subsequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abc&quot;, t &#x3D; &quot;ahbgdc&quot;</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”Ÿæˆå™¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubsequence</span><span class=\"params\">(self, s: str, t: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    t = iter(t)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(c <span class=\"keyword\">in</span> t <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•ã€‚å°†æ¯ä¸ªå­—ç¬¦çš„ç´¢å¼•ç”¨åˆ—è¡¨è®°å½•ä¸‹æ¥ï¼Œæ¯æ¬¡ç”¨äºŒåˆ†æ³•æ‰¾ååºå‡ºç°çš„åŒ¹é…çš„å­—ç¬¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubsequence</span><span class=\"params\">(self, s: str, t: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    idx = defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(t):</span><br><span class=\"line\">        idx[c].append(i)</span><br><span class=\"line\">    prev = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s):            </span><br><span class=\"line\">        j = bisect.bisect_left(idx[c], prev)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> j == len(idx[c]): <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        prev = idx[c][j] + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1482-Minimum-Number-of-Days-to-Make-m-Bouquets\"><a href=\"#1482-Minimum-Number-of-Days-to-Make-m-Bouquets\" class=\"headerlink\" title=\"1482. Minimum Number of Days to Make m Bouquets\"></a>1482. Minimum Number of Days to Make m Bouquets</h3><h4 id=\"èŠ±åœƒé‡Œæœ‰è‹¥å¹²çš„èŠ±æŸè®°å½•äº†ç¬¬å‡ å¤©ä¼šå¼€èŠ±ã€‚æœ€å°çš„å¤©æ•°ï¼Œå¯ä»¥åšå‡ºmæŸèŠ±ï¼Œå¿…é¡»ä½¿ç”¨è¿ç»­çš„èŠ±æ‰èƒ½åšæˆä¸€æœµèŠ±æŸã€‚éœ€è¦kæŸèŠ±ã€‚åŸé¢˜\"><a href=\"#èŠ±åœƒé‡Œæœ‰è‹¥å¹²çš„èŠ±æŸè®°å½•äº†ç¬¬å‡ å¤©ä¼šå¼€èŠ±ã€‚æœ€å°çš„å¤©æ•°ï¼Œå¯ä»¥åšå‡ºmæŸèŠ±ï¼Œå¿…é¡»ä½¿ç”¨è¿ç»­çš„èŠ±æ‰èƒ½åšæˆä¸€æœµèŠ±æŸã€‚éœ€è¦kæŸèŠ±ã€‚åŸé¢˜\" class=\"headerlink\" title=\"èŠ±åœƒé‡Œæœ‰è‹¥å¹²çš„èŠ±æŸè®°å½•äº†ç¬¬å‡ å¤©ä¼šå¼€èŠ±ã€‚æœ€å°çš„å¤©æ•°ï¼Œå¯ä»¥åšå‡ºmæŸèŠ±ï¼Œå¿…é¡»ä½¿ç”¨è¿ç»­çš„èŠ±æ‰èƒ½åšæˆä¸€æœµèŠ±æŸã€‚éœ€è¦kæŸèŠ±ã€‚åŸé¢˜\"></a>èŠ±åœƒé‡Œæœ‰è‹¥å¹²çš„èŠ±æŸè®°å½•äº†ç¬¬å‡ å¤©ä¼šå¼€èŠ±ã€‚æœ€å°çš„å¤©æ•°ï¼Œå¯ä»¥åšå‡ºmæŸèŠ±ï¼Œå¿…é¡»ä½¿ç”¨è¿ç»­çš„èŠ±æ‰èƒ½åšæˆä¸€æœµèŠ±æŸã€‚éœ€è¦kæŸèŠ±ã€‚<a href=\"https://leetcode.com/problems/minimum-number-of-days-to-make-m-bouquets/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: bloomDay &#x3D; [1,10,3,10,2], m &#x3D; 3, k &#x3D; 1</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Let&#39;s see what happened in the first three days. x means flower bloomed and _ means flower didn&#39;t bloom in the garden.</span><br><span class=\"line\">We need 3 bouquets each should contain 1 flower.</span><br><span class=\"line\">After day 1: [x, _, _, _, _]   &#x2F;&#x2F; we can only make one bouquet.</span><br><span class=\"line\">After day 2: [x, _, _, _, x]   &#x2F;&#x2F; we can only make two bouquets.</span><br><span class=\"line\">After day 3: [x, _, x, _, x]   &#x2F;&#x2F; we can make 3 bouquets. The answer is 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›çš„æ—¶å€™çœŸæ˜¯ä¸€ç‚¹éƒ½æ²¡å¾€äºŒåˆ†æ³•æƒ³ã€è¿™ä¸ªæ˜¯Leeçš„ç­”æ¡ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDays</span><span class=\"params\">(self, A: List[int], m: int, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> m * k &gt; len(A): <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, max(A)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        flow = bouq = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">            flow = <span class=\"number\">0</span> <span class=\"keyword\">if</span> a &gt; mid <span class=\"keyword\">else</span> flow + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> flow &gt;= k:</span><br><span class=\"line\">                bouq += <span class=\"number\">1</span></span><br><span class=\"line\">                flow = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> bouq == m:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> bouq == m:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"1201-Ugly-Number-III\"><a href=\"#1201-Ugly-Number-III\" class=\"headerlink\" title=\"1201. Ugly Number III\"></a>1201. Ugly Number III</h3><h4 id=\"æ‰¾åˆ°ç¬¬nä¸ªèƒ½è¢«aæˆ–bæˆ–cæ•´é™¤çš„æ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ç¬¬nä¸ªèƒ½è¢«aæˆ–bæˆ–cæ•´é™¤çš„æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ç¬¬nä¸ªèƒ½è¢«aæˆ–bæˆ–cæ•´é™¤çš„æ•°ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ç¬¬nä¸ªèƒ½è¢«aæˆ–bæˆ–cæ•´é™¤çš„æ•°ã€‚<a href=\"https://leetcode.com/problems/ugly-number-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, a &#x3D; 2, b &#x3D; 3, c &#x3D; 5</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: The ugly numbers are 2, 3, 4, 5, 6, 8, 9, 10... The 3rd is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜å’Œ ä¸‘æ•°2çš„é¢˜ä¸ä¸€æ ·ï¼Œé‚£é“é¢˜æ˜¯åªèƒ½è¢«2ï¼Œ3ï¼Œ5æ•´é™¤çš„æ•°ã€‚è¿™é¢˜ä¸€å¼€å§‹ä¹Ÿæ˜¯æ²¡æƒ³åˆ°ç”¨äºŒåˆ†æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nthUglyNumber</span><span class=\"params\">(self, n: int, a: int, b: int, c: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, <span class=\"number\">2</span> * <span class=\"number\">10</span>**<span class=\"number\">9</span></span><br><span class=\"line\">    ab = a*b // math.gcd(a, b)</span><br><span class=\"line\">    ac = a*c // math.gcd(a, c)</span><br><span class=\"line\">    bc = b*c // math.gcd(b, c)</span><br><span class=\"line\">    abc = a*bc // math.gcd(a, bc)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        total = mid//a + mid//b + mid//c - mid//ab - mid//ac - mid//bc + mid//abc</span><br><span class=\"line\">        <span class=\"keyword\">if</span> total &gt;= n:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"287-Find-the-Duplicate-Number\"><a href=\"#287-Find-the-Duplicate-Number\" class=\"headerlink\" title=\"287. Find the Duplicate Number\"></a>287. Find the Duplicate Number</h3><h4 id=\"æ‰¾åˆ°é‡å¤çš„æ•°å­—ï¼Œåœ¨1-nä¸­æœ‰ä¸€ä¸ªæ•°è‡³å°‘é‡å¤äº†ä¸€æ¬¡ï¼Œä½†æ˜¯å…¶å®ƒæ•°å¯èƒ½æ²¡æœ‰ï¼Œæ‰¾åˆ°è¿™ä¸ªé‡å¤çš„æ•°å­—ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°é‡å¤çš„æ•°å­—ï¼Œåœ¨1-nä¸­æœ‰ä¸€ä¸ªæ•°è‡³å°‘é‡å¤äº†ä¸€æ¬¡ï¼Œä½†æ˜¯å…¶å®ƒæ•°å¯èƒ½æ²¡æœ‰ï¼Œæ‰¾åˆ°è¿™ä¸ªé‡å¤çš„æ•°å­—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°é‡å¤çš„æ•°å­—ï¼Œåœ¨1~nä¸­æœ‰ä¸€ä¸ªæ•°è‡³å°‘é‡å¤äº†ä¸€æ¬¡ï¼Œä½†æ˜¯å…¶å®ƒæ•°å¯èƒ½æ²¡æœ‰ï¼Œæ‰¾åˆ°è¿™ä¸ªé‡å¤çš„æ•°å­—ã€‚åŸé¢˜\"></a>æ‰¾åˆ°é‡å¤çš„æ•°å­—ï¼Œåœ¨1~nä¸­æœ‰ä¸€ä¸ªæ•°è‡³å°‘é‡å¤äº†ä¸€æ¬¡ï¼Œä½†æ˜¯å…¶å®ƒæ•°å¯èƒ½æ²¡æœ‰ï¼Œæ‰¾åˆ°è¿™ä¸ªé‡å¤çš„æ•°å­—ã€‚<a href=\"https://leetcode.com/problems/find-the-duplicate-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šç”¨è¿‡è¿™ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°èƒ½ç”¨åœ¨è¿™é“é¢˜ä¸Šï¼Œæ–¹æ³•æ˜¯è§£ç¯å½¢é“¾è¡¨ä¸­å…¥å£èŠ‚ç‚¹çš„é‚£é“é¢˜ã€‚å› ä¸ºæ•°ç»„ä¸­å­˜åœ¨é‡å¤çš„æ•°å­—ï¼Œæ‰€ä»¥è¿™æ ·å»¶ä¼¸ä¸‹å»ä¸€å®šæ˜¯æœ‰ç¯ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDuplicate</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    slow = nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    fast = nums[slow]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> slow != fast:</span><br><span class=\"line\">        slow = nums[slow]</span><br><span class=\"line\">        fast = nums[nums[fast]]</span><br><span class=\"line\">    head = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head != fast:</span><br><span class=\"line\">        fast = nums[fast]</span><br><span class=\"line\">        head = nums[head]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•ã€‚æ¯”è¾ƒçš„æ˜¯æ•°å­—çš„å¤šå°‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findDuplicate</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sum(i&lt;=mid <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> nums) &lt;= mid:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"154-Find-Minimum-in-Rotated-Sorted-Array-II\"><a href=\"#154-Find-Minimum-in-Rotated-Sorted-Array-II\" class=\"headerlink\" title=\"154. Find Minimum in Rotated Sorted Array II\"></a>154. Find Minimum in Rotated Sorted Array II</h3><h4 id=\"æ—‹è½¬æ•°ç»„æ‰¾åˆ°æœ€å°å€¼ï¼Œä¸1ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæœ‰é‡å¤çš„å€¼ã€‚åŸé¢˜\"><a href=\"#æ—‹è½¬æ•°ç»„æ‰¾åˆ°æœ€å°å€¼ï¼Œä¸1ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæœ‰é‡å¤çš„å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ—‹è½¬æ•°ç»„æ‰¾åˆ°æœ€å°å€¼ï¼Œä¸1ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæœ‰é‡å¤çš„å€¼ã€‚åŸé¢˜\"></a>æ—‹è½¬æ•°ç»„æ‰¾åˆ°æœ€å°å€¼ï¼Œä¸1ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæœ‰é‡å¤çš„å€¼ã€‚<a href=\"https://leetcode.com/problems/find-minimum-in-rotated-sorted-array-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”±äºé‡å¤å€¼çš„åŸå› ï¼Œ<code>[10, 1, 10, 10, 10]</code>ï¼Œ<code>[10, 10, 10, 1, 10]</code>    </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMin</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> nums[lo] &lt; nums[hi]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &gt; nums[hi]:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[mid] &lt; nums[hi]:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums[lo]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1539-Kth-Missing-Positive-Number\"><a href=\"#1539-Kth-Missing-Positive-Number\" class=\"headerlink\" title=\"1539. Kth Missing Positive Number\"></a>1539. Kth Missing Positive Number</h3><h4 id=\"æ‰¾åˆ°ç¬¬kä¸ªç¼ºå¤±çš„æ­£æ•°ï¼Œæ•°ç»„å¯èƒ½ä¼šè¢«è€—å°½ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°ç¬¬kä¸ªç¼ºå¤±çš„æ­£æ•°ï¼Œæ•°ç»„å¯èƒ½ä¼šè¢«è€—å°½ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°ç¬¬kä¸ªç¼ºå¤±çš„æ­£æ•°ï¼Œæ•°ç»„å¯èƒ½ä¼šè¢«è€—å°½ã€‚åŸé¢˜\"></a>æ‰¾åˆ°ç¬¬kä¸ªç¼ºå¤±çš„æ­£æ•°ï¼Œæ•°ç»„å¯èƒ½ä¼šè¢«è€—å°½ã€‚<a href=\"https://leetcode.com/problems/kth-missing-positive-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [2,3,4,7,11], k &#x3D; 5</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Explanation: The missing positive integers are [1,5,6,8,9,10,12,13,...]. The 5th missing positive integer is 9.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”¨äº†é›†åˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthPositive</span><span class=\"params\">(self, arr: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    s = set(arr)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">2002</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•by@lee215ã€‚loæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æœ€åçš„ç»“æœé‡Œé¢å­˜åœ¨äº†å¤šå°‘æ•°ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯lo+kã€‚å¯¹äºæ•°ç»„<code>[2,3,4,7,11]</code> A[m]-1-mè¡¨ç¤ºç¼ºå¤±äº†å‡ ä¸ªæ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthPositive</span><span class=\"params\">(self, A: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(A)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &lt; r:</span><br><span class=\"line\">        m = (l + r) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[m] - <span class=\"number\">1</span> - m &lt; k:</span><br><span class=\"line\">            l = m + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            r = m</span><br><span class=\"line\">    <span class=\"keyword\">return</span> l + k</span><br></pre></td></tr></table></figure>\n<h3 id=\"1552-Magnetic-Force-Between-Two-Balls\"><a href=\"#1552-Magnetic-Force-Between-Two-Balls\" class=\"headerlink\" title=\"1552. Magnetic Force Between Two Balls\"></a>1552. Magnetic Force Between Two Balls</h3><h4 id=\"åœ¨è‹¥å¹²çš„æŒ‡å®šçš„ä½ç½®å¯ä»¥æ”¾ç½®çƒï¼Œé—®å¦‚ä½•ä½¿çƒä¹‹é—´æœ€å°çš„è·ç¦»æœ€å¤§åŒ–ã€‚åŸé¢˜\"><a href=\"#åœ¨è‹¥å¹²çš„æŒ‡å®šçš„ä½ç½®å¯ä»¥æ”¾ç½®çƒï¼Œé—®å¦‚ä½•ä½¿çƒä¹‹é—´æœ€å°çš„è·ç¦»æœ€å¤§åŒ–ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨è‹¥å¹²çš„æŒ‡å®šçš„ä½ç½®å¯ä»¥æ”¾ç½®çƒï¼Œé—®å¦‚ä½•ä½¿çƒä¹‹é—´æœ€å°çš„è·ç¦»æœ€å¤§åŒ–ã€‚åŸé¢˜\"></a>åœ¨è‹¥å¹²çš„æŒ‡å®šçš„ä½ç½®å¯ä»¥æ”¾ç½®çƒï¼Œé—®å¦‚ä½•ä½¿çƒä¹‹é—´æœ€å°çš„è·ç¦»æœ€å¤§åŒ–ã€‚<a href=\"https://leetcode.com/problems/magnetic-force-between-two-balls/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: position &#x3D; [1,2,3,4,7], m &#x3D; 3</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Distributing the 3 balls into baskets 1, 4 and 7 will make the magnetic force between ball pairs [3, 3, 6]. The minimum magnetic force is 3. We cannot achieve a larger minimum magnetic force than 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›çš„æ—¶å€™æƒ³äº†ä¸€ä¸‹äºŒåˆ†æ³•ï¼Œä½†æ˜¯æ²¡å¤šæƒ³ã€‚è¿™é‡Œåªè¦æƒ³æ˜ç™½è¿™ä¸ªè¾…åŠ©æ–¹æ³•å°±èƒ½å®ç°äº†ã€‚countæ–¹æ³•è¡¨ç¤ºè·ç¦»ä¸ºdæ—¶æœ€å¤šå¯ä»¥æ”¾å‡ ä¸ªçƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDistance</span><span class=\"params\">(self, position: List[int], m: int)</span> -&gt; int:</span></span><br><span class=\"line\">    position.sort()</span><br><span class=\"line\">    n = len(position)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(d)</span>:</span></span><br><span class=\"line\">        cnt, cur = <span class=\"number\">0</span>, float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> position:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p - cur &gt;= d:</span><br><span class=\"line\">                cnt += <span class=\"number\">1</span></span><br><span class=\"line\">                cur = p</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cnt</span><br><span class=\"line\">    </span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, position[<span class=\"number\">-1</span>]-position[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> count(mid) &gt;= m:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> hi</span><br></pre></td></tr></table></figure>\n<h3 id=\"162-Find-Peak-Element\"><a href=\"#162-Find-Peak-Element\" class=\"headerlink\" title=\"162. Find Peak Element\"></a>162. Find Peak Element</h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ï¼Œæ•°ç»„ä¸­å…ƒç´ ä¸¤ä¸ªæŒ¨ç€çš„å…ƒç´ ä¸é‡å¤ã€‚å¯èƒ½å­˜åœ¨å¤šä¸ªå€¼ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå³å¯ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ï¼Œæ•°ç»„ä¸­å…ƒç´ ä¸¤ä¸ªæŒ¨ç€çš„å…ƒç´ ä¸é‡å¤ã€‚å¯èƒ½å­˜åœ¨å¤šä¸ªå€¼ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå³å¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ï¼Œæ•°ç»„ä¸­å…ƒç´ ä¸¤ä¸ªæŒ¨ç€çš„å…ƒç´ ä¸é‡å¤ã€‚å¯èƒ½å­˜åœ¨å¤šä¸ªå€¼ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå³å¯ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ï¼Œæ•°ç»„ä¸­å…ƒç´ ä¸¤ä¸ªæŒ¨ç€çš„å…ƒç´ ä¸é‡å¤ã€‚å¯èƒ½å­˜åœ¨å¤šä¸ªå€¼ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå³å¯ã€‚<a href=\"https://leetcode.com/problems/find-peak-element/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,1,3,5,6,4]</span><br><span class=\"line\">Output: 1 or 5 </span><br><span class=\"line\">Explanation: Your function can return either index number 1 where the peak element is 2, </span><br><span class=\"line\">             or index number 5 where the peak element is 6.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå› ä¸ºæŒ¨ç€çš„å…ƒç´ ä¸é‡å¤ï¼Œæ‰€ä»¥å¯ä»¥ç”¨äºŒåˆ†æ³•ã€‚æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœåšå·¦å°äºå³è¯´æ˜å³°å€¼åœ¨å³ä¾§ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findPeakElement</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        mid2 = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[mid] &lt; nums[mid2]:</span><br><span class=\"line\">            lo = mid2</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"1095-Find-in-Mountain-Array\"><a href=\"#1095-Find-in-Mountain-Array\" class=\"headerlink\" title=\"1095. Find in Mountain Array\"></a>1095. Find in Mountain Array</h3><h4 id=\"æŸ¥æ‰¾å±±å³°æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä¼˜å…ˆè¿”å›å·¦ä¾§çš„ç´¢å¼•ï¼Œå¦‚æœéƒ½æ²¡æœ‰è¿”å›-1ã€‚åŸé¢˜\"><a href=\"#æŸ¥æ‰¾å±±å³°æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä¼˜å…ˆè¿”å›å·¦ä¾§çš„ç´¢å¼•ï¼Œå¦‚æœéƒ½æ²¡æœ‰è¿”å›-1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŸ¥æ‰¾å±±å³°æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä¼˜å…ˆè¿”å›å·¦ä¾§çš„ç´¢å¼•ï¼Œå¦‚æœéƒ½æ²¡æœ‰è¿”å›-1ã€‚åŸé¢˜\"></a>æŸ¥æ‰¾å±±å³°æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä¼˜å…ˆè¿”å›å·¦ä¾§çš„ç´¢å¼•ï¼Œå¦‚æœéƒ½æ²¡æœ‰è¿”å›-1ã€‚<a href=\"https://leetcode.com/problems/find-in-mountain-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: array &#x3D; [1,2,3,4,5,3,1], target &#x3D; 3</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: 3 exists in the array, at index&#x3D;2 and index&#x3D;5. Return the minimum index, which is 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸‰æ¬¡äºŒåˆ†æ³•ï¼Œæƒ³åˆ°äº†è¿™ä¸ªæ–¹å¼ï¼ŒçŠ¹è±«äº†ä¸€ä¸‹ï¼Œå› ä¸ºè§‰å¾—è¿™ç§æ–¹å¼åœ¨æœ€åçš„æƒ…å†µä¸‹å–å€¼ä¼šè¶…è¿‡100æ¬¡ã€‚</p>\n<p>ç¬¬ä¸€æ¬¡æ‰¾åˆ°å³°å€¼ï¼Œå’Œ162ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findInMountainArray</span><span class=\"params\">(self, target: int, A: <span class=\"string\">'MountainArray'</span>)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, A.length()<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        mid2 = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> A.get(mid) &lt; A.get(mid2):</span><br><span class=\"line\">            lo = mid2</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">    peak = lo</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, peak</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        mid_val = A.get(mid)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mid_val &gt; target:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> mid_val &lt; target:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">            </span><br><span class=\"line\">    lo, hi = peak, A.length()<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        mid_val = A.get(mid)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mid_val &gt; target:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> mid_val &lt; target:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"74-Search-a-2D-Matrix\"><a href=\"#74-Search-a-2D-Matrix\" class=\"headerlink\" title=\"74. Search a 2D Matrix\"></a>74. Search a 2D Matrix</h3><h4 id=\"åœ¨2dæ•°ç»„ä¸­æœç´¢ç›®æ ‡ï¼ŒæŠŠæ•°ç»„æŠ»æˆä¸€ç»´çš„ä¹Ÿæ˜¯æœ‰åºæ•°ç»„ã€‚åŸé¢˜\"><a href=\"#åœ¨2dæ•°ç»„ä¸­æœç´¢ç›®æ ‡ï¼ŒæŠŠæ•°ç»„æŠ»æˆä¸€ç»´çš„ä¹Ÿæ˜¯æœ‰åºæ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨2dæ•°ç»„ä¸­æœç´¢ç›®æ ‡ï¼ŒæŠŠæ•°ç»„æŠ»æˆä¸€ç»´çš„ä¹Ÿæ˜¯æœ‰åºæ•°ç»„ã€‚åŸé¢˜\"></a>åœ¨2dæ•°ç»„ä¸­æœç´¢ç›®æ ‡ï¼ŒæŠŠæ•°ç»„æŠ»æˆä¸€ç»´çš„ä¹Ÿæ˜¯æœ‰åºæ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/search-a-2d-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">matrix &#x3D; [</span><br><span class=\"line\">  [1,   3,  5,  7],</span><br><span class=\"line\">  [10, 11, 16, 20],</span><br><span class=\"line\">  [23, 30, 34, 50]</span><br><span class=\"line\">]</span><br><span class=\"line\">target &#x3D; 3</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æ²¡æƒ³åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œè€Œæ˜¯å…ˆbisect_rightæ‰¾è¡Œï¼Œç„¶åå†åœ¨è¡Œé‡ŒäºŒåˆ†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchMatrix</span><span class=\"params\">(self, matrix: List[List[int]], target: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> matrix <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> matrix[<span class=\"number\">0</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    n = len(matrix[<span class=\"number\">0</span>])</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, n*len(matrix)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> matrix[mid//n][mid%n] &gt; target:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> matrix[mid//n][mid%n] &lt; target:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"436-Find-Right-Interval\"><a href=\"#436-Find-Right-Interval\" class=\"headerlink\" title=\"436. Find Right Interval\"></a>436. Find Right Interval</h3><h4 id=\"æ‰¾åˆ°æ¯ä¸ªæ®µçš„å³ä¾§çš„æ®µçš„ç´¢å¼•ï¼Œå³ä¾§çš„æ®µæ„å‘³ç€èµ·å§‹ç‚¹å¤§äºç­‰äºè¯¥æ®µç»“å°¾ç‚¹çš„å¹¶ä¸”æœ€è¿‘çš„æ®µã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ¯ä¸ªæ®µçš„å³ä¾§çš„æ®µçš„ç´¢å¼•ï¼Œå³ä¾§çš„æ®µæ„å‘³ç€èµ·å§‹ç‚¹å¤§äºç­‰äºè¯¥æ®µç»“å°¾ç‚¹çš„å¹¶ä¸”æœ€è¿‘çš„æ®µã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ¯ä¸ªæ®µçš„å³ä¾§çš„æ®µçš„ç´¢å¼•ï¼Œå³ä¾§çš„æ®µæ„å‘³ç€èµ·å§‹ç‚¹å¤§äºç­‰äºè¯¥æ®µç»“å°¾ç‚¹çš„å¹¶ä¸”æœ€è¿‘çš„æ®µã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ¯ä¸ªæ®µçš„å³ä¾§çš„æ®µçš„ç´¢å¼•ï¼Œå³ä¾§çš„æ®µæ„å‘³ç€èµ·å§‹ç‚¹å¤§äºç­‰äºè¯¥æ®µç»“å°¾ç‚¹çš„å¹¶ä¸”æœ€è¿‘çš„æ®µã€‚<a href=\"https://leetcode.com/problems/find-right-interval/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [ [3,4], [2,3], [1,2] ]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [-1, 0, 1]</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: There is no satisfied &quot;right&quot; interval for [3,4].</span><br><span class=\"line\">For [2,3], the interval [3,4] has minimum-&quot;right&quot; start point;</span><br><span class=\"line\">For [1,2], the interval [2,3] has minimum-&quot;right&quot; start point.</span><br><span class=\"line\">[ [3,4], [6,9], [5,8] ]</span><br><span class=\"line\">[2,-1,-1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ã€‚ç†æ¸…é¢˜æ„åæŒºç®€å•çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRightInterval</span><span class=\"params\">(self, intervals: <span class=\"string\">'List[Interval]'</span>)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    starts = [(start, i) <span class=\"keyword\">for</span> i, (start, _) <span class=\"keyword\">in</span> enumerate(intervals)]</span><br><span class=\"line\">    starts.append((float(<span class=\"string\">'inf'</span>), <span class=\"number\">-1</span>))</span><br><span class=\"line\">    starts.sort()</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, end <span class=\"keyword\">in</span> intervals:</span><br><span class=\"line\">        i = bisect.bisect_left(starts, (end, ))</span><br><span class=\"line\">        ans.append(starts[i][<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå‹ç¼©ä¸€ä¸‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRightInterval</span><span class=\"params\">(self, intervals: <span class=\"string\">'List[Interval]'</span>)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    starts = [(start, i) <span class=\"keyword\">for</span> i, (start, _) <span class=\"keyword\">in</span> enumerate(intervals)] + [(float(<span class=\"string\">'inf'</span>), <span class=\"number\">-1</span>)]</span><br><span class=\"line\">    starts.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [starts[bisect.bisect_left(starts, (end, ))][<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> _, end <span class=\"keyword\">in</span> intervals]</span><br></pre></td></tr></table></figure>\n<h3 id=\"911-Online-Election\"><a href=\"#911-Online-Election\" class=\"headerlink\" title=\"911. Online Election\"></a><a href=\"https://leetcode.com/problems/online-election/\" target=\"_blank\" rel=\"noopener\">911. Online Election</a></h3><h4 id=\"æ‰¾åˆ°æŸä¸€æ—¶é—´çš„é€‰ä¸¾ç¥¨æœ€å¤šçš„äººã€‚\"><a href=\"#æ‰¾åˆ°æŸä¸€æ—¶é—´çš„é€‰ä¸¾ç¥¨æœ€å¤šçš„äººã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°æŸä¸€æ—¶é—´çš„é€‰ä¸¾ç¥¨æœ€å¤šçš„äººã€‚\"></a>æ‰¾åˆ°æŸä¸€æ—¶é—´çš„é€‰ä¸¾ç¥¨æœ€å¤šçš„äººã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;TopVotedCandidate&quot;,&quot;q&quot;,&quot;q&quot;,&quot;q&quot;,&quot;q&quot;,&quot;q&quot;,&quot;q&quot;], [[[0,1,1,0,0,1,0],[0,5,10,15,20,25,30]],[3],[12],[25],[15],[24],[8]]</span><br><span class=\"line\">Output: [null,0,1,1,0,0,1]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">At time 3, the votes are [0], and 0 is leading.</span><br><span class=\"line\">At time 12, the votes are [0,1,1], and 1 is leading.</span><br><span class=\"line\">At time 25, the votes are [0,1,1,0,0,1], and 1 is leading (as ties go to the most recent vote.)</span><br><span class=\"line\">This continues for 3 more queries at time 15, 24, and 8.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ï¼ŒæŒºç®€å•çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TopVotedCandidate</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, persons: List[int], times: List[int])</span>:</span></span><br><span class=\"line\">        self.leading = []</span><br><span class=\"line\">        tickets = collections.defaultdict(int)</span><br><span class=\"line\">        max_votes, candidate = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> p, t <span class=\"keyword\">in</span> zip(persons, times):</span><br><span class=\"line\">            tickets[p] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> tickets[p] &gt;= max_votes:</span><br><span class=\"line\">                candidate = p</span><br><span class=\"line\">                max_votes = tickets[p]</span><br><span class=\"line\">            self.leading.append((t, candidate))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">q</span><span class=\"params\">(self, t: int)</span> -&gt; int:</span></span><br><span class=\"line\">        i = bisect.bisect(self.leading, (t, float(<span class=\"string\">'inf'</span>)))        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.leading[i<span class=\"number\">-1</span>][<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ï¼Œå†™æ³•ä¸Šæ”¹è¿›ï¼Œæ—¶é—´å¹¶ä¸éœ€è¦ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¯ä»¥é€šè¿‡äºŒåˆ†æ—¶é—´ç´¢å¼•æ‰¾é€‰ä¸¾äººã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TopVotedCandidate</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, persons: List[int], times: List[int])</span>:</span></span><br><span class=\"line\">        self.leading = []</span><br><span class=\"line\">        self.times = times</span><br><span class=\"line\">        tickets = collections.defaultdict(int)</span><br><span class=\"line\">        lead = <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> persons:</span><br><span class=\"line\">            tickets[p] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> tickets[p] &gt;= tickets[lead]:</span><br><span class=\"line\">                lead = p</span><br><span class=\"line\">            self.leading.append(lead)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">q</span><span class=\"params\">(self, t: int)</span> -&gt; int:</span></span><br><span class=\"line\">        i = bisect.bisect(self.times, t)      </span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.leading[i<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"378-Kth-Smallest-Element-in-a-Sorted-Matrix\"><a href=\"#378-Kth-Smallest-Element-in-a-Sorted-Matrix\" class=\"headerlink\" title=\"378. Kth Smallest Element in a Sorted Matrix\"></a><a href=\"https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/\" target=\"_blank\" rel=\"noopener\">378. Kth Smallest Element in a Sorted Matrix</a></h3><h4 id=\"æœ‰ä¸ªäºŒç»´çŸ©é˜µè¡Œåˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°ç¬¬Kä¸ªæœ€å°çš„å…ƒç´ ã€‚\"><a href=\"#æœ‰ä¸ªäºŒç»´çŸ©é˜µè¡Œåˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°ç¬¬Kä¸ªæœ€å°çš„å…ƒç´ ã€‚\" class=\"headerlink\" title=\"æœ‰ä¸ªäºŒç»´çŸ©é˜µè¡Œåˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°ç¬¬Kä¸ªæœ€å°çš„å…ƒç´ ã€‚\"></a>æœ‰ä¸ªäºŒç»´çŸ©é˜µè¡Œåˆ—éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°ç¬¬Kä¸ªæœ€å°çš„å…ƒç´ ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">matrix &#x3D; [</span><br><span class=\"line\">   [ 1,  5,  9],</span><br><span class=\"line\">   [10, 11, 13],</span><br><span class=\"line\">   [12, 13, 15]</span><br><span class=\"line\">],</span><br><span class=\"line\">k &#x3D; 8,</span><br><span class=\"line\"></span><br><span class=\"line\">return 13.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¯ä»¥ç”¨å †ï¼Œæš´åŠ›åœ°è§£å†³ï¼Œæ•ˆç‡ä¹Ÿå¾ˆé«˜ã€‚ä¸è¿‡è¿™æ ·çš„è¯ï¼Œæœ‰åºçš„æ¡ä»¶ç›¸å½“äºæ²¡æœ‰ç”¨ä¸Šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallest</span><span class=\"params\">(self, matrix: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    heap = sum(matrix, [])</span><br><span class=\"line\">    heapq.heapify(heap)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">        ans = heapq.heappop(heap)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸éœ€è¦å…¨éƒ¨éƒ½å¡åˆ°å †é‡Œã€‚è¿™é‡Œæ³¨æ„åªæœ‰é¦–è¡Œå…ƒç´ éœ€è¦æ·»åŠ å³ä¾§çš„èŠ‚ç‚¹åˆ°å †ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallest</span><span class=\"params\">(self, matrix: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    heap = [(matrix[<span class=\"number\">0</span>][<span class=\"number\">0</span>], <span class=\"number\">0</span>, <span class=\"number\">0</span>)]</span><br><span class=\"line\">    N = len(matrix)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">        val, i, j = heapq.heappop(heap)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i==<span class=\"number\">0</span> <span class=\"keyword\">and</span> j+<span class=\"number\">1</span>&lt;N:</span><br><span class=\"line\">            heapq.heappush(heap, (matrix[i][j+<span class=\"number\">1</span>], i, j+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i + <span class=\"number\">1</span> &lt; N:</span><br><span class=\"line\">            heapq.heappush(heap, (matrix[i+<span class=\"number\">1</span>][j], i+<span class=\"number\">1</span>, j))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> val</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šäºŒåˆ†æ³•ï¼Œæ‰¾åˆ°ä¸­é—´çš„æ•°å’Œkæ¯”è¾ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallest</span><span class=\"params\">(self, matrix: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = matrix[<span class=\"number\">0</span>][<span class=\"number\">0</span>], matrix[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sum(bisect.bisect(row, mid) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> matrix) &lt; k:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<h3 id=\"1157-Online-Majority-Element-In-Subarray\"><a href=\"#1157-Online-Majority-Element-In-Subarray\" class=\"headerlink\" title=\"1157. Online Majority Element In Subarray\"></a>1157. Online Majority Element In Subarray</h3><h4 id=\"å®æ—¶çš„æœ€å¤šå…ƒç´ æŸ¥è¯¢ã€‚åŸé¢˜\"><a href=\"#å®æ—¶çš„æœ€å¤šå…ƒç´ æŸ¥è¯¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®æ—¶çš„æœ€å¤šå…ƒç´ æŸ¥è¯¢ã€‚åŸé¢˜\"></a>å®æ—¶çš„æœ€å¤šå…ƒç´ æŸ¥è¯¢ã€‚<a href=\"https://leetcode.com/problems/online-majority-element-in-subarray/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">MajorityChecker majorityChecker &#x3D; new MajorityChecker([1,1,2,2,1,1]);</span><br><span class=\"line\">majorityChecker.query(0,5,4); &#x2F;&#x2F; returns 1</span><br><span class=\"line\">majorityChecker.query(0,3,3); &#x2F;&#x2F; returns -1</span><br><span class=\"line\">majorityChecker.query(2,3,2); &#x2F;&#x2F; returns 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶ï¼Œç”¨äº†ä¸ª<code>dict</code>åµŒå¥—ï¼Œå†…å­˜æº¢å‡ºäº†ã€‚æ­¤é¢˜çš„è§£æ³•æ˜¯å­˜ç´¢å¼•ï¼Œç„¶åäºŒåˆ†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MajorityChecker</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, arr: List[int])</span>:</span></span><br><span class=\"line\">        self.c = collections.defaultdict(list)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, x <span class=\"keyword\">in</span> enumerate(arr):</span><br><span class=\"line\">            self.c[x].append(i)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">query</span><span class=\"params\">(self, left: int, right: int, threshold: int)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> self.c.items():</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(v) &lt; threshold:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\">            low = bisect.bisect_left(v, left)</span><br><span class=\"line\">            high = bisect.bisect_right(v, right)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> high - low &gt;= threshold:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> k</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1146-Snapshot-Array\"><a href=\"#1146-Snapshot-Array\" class=\"headerlink\" title=\"1146. Snapshot Array\"></a>1146. Snapshot Array</h3><h4 id=\"æ•°ç»„çš„å¿«ç…§ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„çš„å¿«ç…§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„çš„å¿«ç…§ã€‚åŸé¢˜\"></a>æ•°ç»„çš„å¿«ç…§ã€‚<a href=\"https://leetcode.com/problems/snapshot-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;SnapshotArray&quot;,&quot;set&quot;,&quot;snap&quot;,&quot;set&quot;,&quot;get&quot;]</span><br><span class=\"line\">[[3],[0,5],[],[0,6],[0,0]]</span><br><span class=\"line\">Output: [null,null,0,null,5]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">SnapshotArray snapshotArr &#x3D; new SnapshotArray(3); &#x2F;&#x2F; set the length to be 3</span><br><span class=\"line\">snapshotArr.set(0,5);  &#x2F;&#x2F; Set array[0] &#x3D; 5</span><br><span class=\"line\">snapshotArr.snap();  &#x2F;&#x2F; Take a snapshot, return snap_id &#x3D; 0</span><br><span class=\"line\">snapshotArr.set(0,6);</span><br><span class=\"line\">snapshotArr.get(0,0);  &#x2F;&#x2F; Get the value of array[0] with snap_id &#x3D; 0, return 5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜æš´åŠ›æ³•æ—¶ï¼Œç©ºé—´å¤æ‚åº¦ä¼šè¿‡é«˜ã€‚é‡‡ç”¨é’ˆå¯¹æ¯ä¸ªå…ƒç´ ï¼Œå˜åŒ–æ—¶ï¼Œè®°å½•è¯¥å˜åŒ–çš„å†å²ã€‚å†ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚</p>\n<p>æ³¨æ„æŸ¥æ‰¾æ—¶ï¼Œæ˜¯é€šè¿‡æ•°ç»„æŸ¥æ‰¾è€Œä¸æ˜¯æ•°å­—ï¼ŒæŸ¥æ‰¾æ¯”å…¶å¤§çš„å†-1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SnapshotArray</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, length: int)</span>:</span></span><br><span class=\"line\">        self.ary = [[[<span class=\"number\">-1</span>, <span class=\"number\">0</span>]] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(length)]</span><br><span class=\"line\">        self.snap_id = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">set</span><span class=\"params\">(self, index: int, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.ary[index].append([self.snap_id, val])</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">snap</span><span class=\"params\">(self)</span> -&gt; int:</span></span><br><span class=\"line\">        self.snap_id += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.snap_id - <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">(self, index: int, snap_id: int)</span> -&gt; int:</span></span><br><span class=\"line\">        i = bisect.bisect(self.ary[index], [snap_id+<span class=\"number\">1</span>]) - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.ary[index][i][<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Binary Search"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆè´ªå¿ƒç¯‡ï¼‰Greedy","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy/","content":"<h3 id=\"984-String-Without-AAA-or-BBB\"><a href=\"#984-String-Without-AAA-or-BBB\" class=\"headerlink\" title=\"984. String Without AAA or BBB\"></a>984. String Without AAA or BBB</h3><h4 id=\"ç”Ÿæˆå­—ç¬¦ä¸²æ²¡æœ‰â€˜aaaâ€™å’Œâ€™bbbâ€™ã€‚åŸé¢˜\"><a href=\"#ç”Ÿæˆå­—ç¬¦ä¸²æ²¡æœ‰â€˜aaaâ€™å’Œâ€™bbbâ€™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç”Ÿæˆå­—ç¬¦ä¸²æ²¡æœ‰â€˜aaaâ€™å’Œâ€™bbbâ€™ã€‚åŸé¢˜\"></a>ç”Ÿæˆå­—ç¬¦ä¸²æ²¡æœ‰â€˜aaaâ€™å’Œâ€™bbbâ€™ã€‚<a href=\"https://leetcode.com/problems/string-without-aaa-or-bbb/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; 1, B &#x3D; 2</span><br><span class=\"line\">Output: &quot;abb&quot;</span><br><span class=\"line\">Explanation: &quot;abb&quot;, &quot;bab&quot; and &quot;bba&quot; are all correct answers.</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">strWithout3a3b</span><span class=\"params\">(self, A, B)</span>:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> A <span class=\"keyword\">or</span> B:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(ans) &gt;= <span class=\"number\">2</span> <span class=\"keyword\">and</span> ans[<span class=\"number\">-1</span>]==ans[<span class=\"number\">-2</span>]:</span><br><span class=\"line\">            writeA = ans[<span class=\"number\">-1</span>]==<span class=\"string\">'b'</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            writeA = A&gt;=B</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> writeA:</span><br><span class=\"line\">            A -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans += <span class=\"string\">'a'</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            B -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans += <span class=\"string\">'b'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"455-Assign-Cookies\"><a href=\"#455-Assign-Cookies\" class=\"headerlink\" title=\"455. Assign Cookies\"></a>455. Assign Cookies</h3><h4 id=\"å‘å°é¥¼å¹²ï¼Œsä¸ºè‹¥å¹²ä¸ªé¥¼å¹²çš„å¤§å°ï¼Œgä¸ºæ¯ä¸ªäººéœ€è¦çš„å¤§å°ï¼Œæ²¡äººå‘çš„é¥¼å¹²ä¸èƒ½æ¯”è¦æ±‚çš„sizeå°ï¼Œé—®æœ€å¤šå¯ä»¥æ»¡è¶³å‡ ä¸ªäººã€‚åŸé¢˜\"><a href=\"#å‘å°é¥¼å¹²ï¼Œsä¸ºè‹¥å¹²ä¸ªé¥¼å¹²çš„å¤§å°ï¼Œgä¸ºæ¯ä¸ªäººéœ€è¦çš„å¤§å°ï¼Œæ²¡äººå‘çš„é¥¼å¹²ä¸èƒ½æ¯”è¦æ±‚çš„sizeå°ï¼Œé—®æœ€å¤šå¯ä»¥æ»¡è¶³å‡ ä¸ªäººã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‘å°é¥¼å¹²ï¼Œsä¸ºè‹¥å¹²ä¸ªé¥¼å¹²çš„å¤§å°ï¼Œgä¸ºæ¯ä¸ªäººéœ€è¦çš„å¤§å°ï¼Œæ²¡äººå‘çš„é¥¼å¹²ä¸èƒ½æ¯”è¦æ±‚çš„sizeå°ï¼Œé—®æœ€å¤šå¯ä»¥æ»¡è¶³å‡ ä¸ªäººã€‚åŸé¢˜\"></a>å‘å°é¥¼å¹²ï¼Œsä¸ºè‹¥å¹²ä¸ªé¥¼å¹²çš„å¤§å°ï¼Œgä¸ºæ¯ä¸ªäººéœ€è¦çš„å¤§å°ï¼Œæ²¡äººå‘çš„é¥¼å¹²ä¸èƒ½æ¯”è¦æ±‚çš„sizeå°ï¼Œé—®æœ€å¤šå¯ä»¥æ»¡è¶³å‡ ä¸ªäººã€‚<a href=\"https://leetcode.com/problems/assign-cookies/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2], [1,2,3]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 2</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2. </span><br><span class=\"line\">You have 3 cookies and their sizes are big enough to gratify all of the children, </span><br><span class=\"line\">You need to output 2.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findContentChildren</span><span class=\"params\">(self, g: List[int], s: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    g.sort()</span><br><span class=\"line\">    s.sort()</span><br><span class=\"line\">    i = j = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt; len(g) <span class=\"keyword\">and</span> j &lt; len(s):</span><br><span class=\"line\">        i += s[j] &gt;= g[i]</span><br><span class=\"line\">        j += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<h3 id=\"860-Lemonade-Change\"><a href=\"#860-Lemonade-Change\" class=\"headerlink\" title=\"860. Lemonade Change\"></a>860. Lemonade Change</h3><h4 id=\"æŸ æª¬æ‰¾é›¶ï¼Œæ¯äººä¹°ä¸€ä¸ªæŸ æª¬ï¼Œï¼ˆä»·å€¼5ï¼‰å¯èƒ½ä»˜5-10-20é¢å€¼çš„é’ç¥¨ï¼Œé—®é›¶é’±æ˜¯å¦èƒ½æ‰¾å¼€ã€‚åŸé¢˜\"><a href=\"#æŸ æª¬æ‰¾é›¶ï¼Œæ¯äººä¹°ä¸€ä¸ªæŸ æª¬ï¼Œï¼ˆä»·å€¼5ï¼‰å¯èƒ½ä»˜5-10-20é¢å€¼çš„é’ç¥¨ï¼Œé—®é›¶é’±æ˜¯å¦èƒ½æ‰¾å¼€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŸ æª¬æ‰¾é›¶ï¼Œæ¯äººä¹°ä¸€ä¸ªæŸ æª¬ï¼Œï¼ˆä»·å€¼5ï¼‰å¯èƒ½ä»˜5, 10, 20é¢å€¼çš„é’ç¥¨ï¼Œé—®é›¶é’±æ˜¯å¦èƒ½æ‰¾å¼€ã€‚åŸé¢˜\"></a>æŸ æª¬æ‰¾é›¶ï¼Œæ¯äººä¹°ä¸€ä¸ªæŸ æª¬ï¼Œï¼ˆä»·å€¼5ï¼‰å¯èƒ½ä»˜5, 10, 20é¢å€¼çš„é’ç¥¨ï¼Œé—®é›¶é’±æ˜¯å¦èƒ½æ‰¾å¼€ã€‚<a href=\"https://leetcode.com/problems/lemonade-change/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [5,5,5,10,20]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">From the first 3 customers, we collect three $5 bills in order.</span><br><span class=\"line\">From the fourth customer, we collect a $10 bill and give back a $5.</span><br><span class=\"line\">From the fifth customer, we give a $10 bill and a $5 bill.</span><br><span class=\"line\">Since all customers got correct change, we output true.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š<code>defaultdict</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lemonadeChange</span><span class=\"params\">(self, bills: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    c = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> bill <span class=\"keyword\">in</span> bills:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> bill == <span class=\"number\">10</span>:</span><br><span class=\"line\">            c[<span class=\"number\">5</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> bill == <span class=\"number\">20</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c[<span class=\"number\">10</span>] &gt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">                c[<span class=\"number\">10</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">                c[<span class=\"number\">5</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                c[<span class=\"number\">5</span>] -= <span class=\"number\">3</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> c[<span class=\"number\">5</span>] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        c[bill] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"944-Delete-Columns-to-Make-Sorted\"><a href=\"#944-Delete-Columns-to-Make-Sorted\" class=\"headerlink\" title=\"944. Delete Columns to Make Sorted\"></a>944. Delete Columns to Make Sorted</h3><h4 id=\"æ‰¾å‡ºå¹¶è¡Œé¡¹ä¸­æœªæ’åºçš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºå¹¶è¡Œé¡¹ä¸­æœªæ’åºçš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºå¹¶è¡Œé¡¹ä¸­æœªæ’åºçš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡ºå¹¶è¡Œé¡¹ä¸­æœªæ’åºçš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/delete-columns-to-make-sorted/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼š<code>sorted</code>è¦æ¯”<code>any</code>å¿«ï¼Œæ„Ÿè§‰æ˜¯Cpythonçš„ä¼˜åŒ–å¯¼è‡´ï¼Œç†è®ºä¸Šæ¥è¯´åº”è¯¥æ˜¯anyå¿«ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDeletionSize</span><span class=\"params\">(self, A: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> col <span class=\"keyword\">in</span> zip(*A):</span><br><span class=\"line\">        <span class=\"comment\"># if any(col[i]&gt;col[i+1] for i in range(len(col)-1)):</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sorted(col) != list(col):</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"55-Jump-Game\"><a href=\"#55-Jump-Game\" class=\"headerlink\" title=\"55. Jump Game\"></a>55. Jump Game</h3><h4 id=\"è·³è·ƒæ¸¸æˆï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸‹ä¸€æ­¥çš„è·ç¦»ï¼Œé—®æ˜¯å¦èƒ½è·³åˆ°æœ€åç´¢å¼•ä½ç½®ã€‚åŸé¢˜\"><a href=\"#è·³è·ƒæ¸¸æˆï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸‹ä¸€æ­¥çš„è·ç¦»ï¼Œé—®æ˜¯å¦èƒ½è·³åˆ°æœ€åç´¢å¼•ä½ç½®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·³è·ƒæ¸¸æˆï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸‹ä¸€æ­¥çš„è·ç¦»ï¼Œé—®æ˜¯å¦èƒ½è·³åˆ°æœ€åç´¢å¼•ä½ç½®ã€‚åŸé¢˜\"></a>è·³è·ƒæ¸¸æˆï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸‹ä¸€æ­¥çš„è·ç¦»ï¼Œé—®æ˜¯å¦èƒ½è·³åˆ°æœ€åç´¢å¼•ä½ç½®ã€‚<a href=\"https://leetcode.com/problems/jump-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,3,1,1,4]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: Jump 1 step from index 0 to 1, then 3 steps to the last index.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè´ªå¿ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canJump</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    last_pos = len(nums) - <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i + nums[i] &gt;= last_pos:</span><br><span class=\"line\">            last_pos = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> last_pos == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1005-Maximize-Sum-Of-Array-After-K-Negations\"><a href=\"#1005-Maximize-Sum-Of-Array-After-K-Negations\" class=\"headerlink\" title=\"1005. Maximize Sum Of Array After K Negations\"></a>1005. Maximize Sum Of Array After K Negations</h3><h4 id=\"Kæ¬¡å–è´Ÿåçš„æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\"><a href=\"#Kæ¬¡å–è´Ÿåçš„æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"Kæ¬¡å–è´Ÿåçš„æ•°ç»„æœ€å¤§å’Œã€‚åŸé¢˜\"></a>Kæ¬¡å–è´Ÿåçš„æ•°ç»„æœ€å¤§å’Œã€‚<a href=\"https://leetcode.com/problems/maximize-sum-of-array-after-k-negations/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [3,-1,0,2], K &#x3D; 3</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: Choose indices (1, 2, 2) and A becomes [3,1,0,2].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›çš„æ—¶å€™ï¼Œå†™å¾—æ¯”è¾ƒéº»çƒ¦ï¼Œåˆ†äº†ä¸¤ä¸ªæ•°ç»„ï¼Œè¿˜è€ƒè™‘äº†0ï¼Œåæ¥çœ‹leeç¥çš„æ•´ç†ä¸€ä¸‹ã€‚æ³¨æ„æœ€åä¸€æ­¥è¦ç”¨ä¸€ä¸‹<code>min</code>ï¼Œå¦åˆ™è·å–ä¸äº†æœ€å°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestSumAfterKNegations</span><span class=\"params\">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    A.sort()</span><br><span class=\"line\">    i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;len(A) <span class=\"keyword\">and</span> i&lt;K <span class=\"keyword\">and</span> A[i]&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">        A[i] = -A[i]</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(A) - (K-i)%<span class=\"number\">2</span>*min(A)*<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1029-Two-City-Scheduling\"><a href=\"#1029-Two-City-Scheduling\" class=\"headerlink\" title=\"1029. Two City Scheduling\"></a>1029. Two City Scheduling</h3><h4 id=\"ä¸¤ä¸ªåŸå¸‚è°ƒåº¦ã€‚æ¯ä¸ªåæ ‡è¡¨ç¤ºï¼Œå»Aå’ŒBçš„èŠ±è´¹ï¼Œä½¿èŠ±è´¹æœ€å°ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªåŸå¸‚è°ƒåº¦ã€‚æ¯ä¸ªåæ ‡è¡¨ç¤ºï¼Œå»Aå’ŒBçš„èŠ±è´¹ï¼Œä½¿èŠ±è´¹æœ€å°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªåŸå¸‚è°ƒåº¦ã€‚æ¯ä¸ªåæ ‡è¡¨ç¤ºï¼Œå»Aå’ŒBçš„èŠ±è´¹ï¼Œä½¿èŠ±è´¹æœ€å°ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªåŸå¸‚è°ƒåº¦ã€‚æ¯ä¸ªåæ ‡è¡¨ç¤ºï¼Œå»Aå’ŒBçš„èŠ±è´¹ï¼Œä½¿èŠ±è´¹æœ€å°ã€‚<a href=\"https://leetcode.com/problems/two-city-scheduling/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[10,20],[30,200],[400,50],[30,20]]</span><br><span class=\"line\">Output: 110</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The first person goes to city A for a cost of 10.</span><br><span class=\"line\">The second person goes to city A for a cost of 30.</span><br><span class=\"line\">The third person goes to city B for a cost of 50.</span><br><span class=\"line\">The fourth person goes to city B for a cost of 20.</span><br><span class=\"line\"></span><br><span class=\"line\">The total minimum cost is 10 + 30 + 50 + 20 &#x3D; 110 to have half the people interviewing in each city.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‡è®¾å·¦è¾¹çš„äººç•™åœ¨Aï¼Œå³è¾¹çš„äººç•™åœ¨Bï¼Œå¦‚æœä¸æ˜¯æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆå³è¾¹çš„äººréœ€è¦ç§»åˆ°å·¦è¾¹ï¼Œå·¦è¾¹çš„äººléœ€è¦ç§»åˆ°å³è¾¹ï¼Œç›¸å½“äºä»<code>l[0]+r[1]</code>å˜ä¸ºäº†<code>l[1]+r[0]</code>ï¼Œå³<code>l[1]-l[0]+r[0]-r[1]&lt;0</code>æ—¶éœ€è¦äº¤æ¢ä¸¤ä¸ªåŸå¸‚ï¼Œæ¨å¯¼å¯å¾—å‡ºï¼Œ<code>l[0]-l[1] &gt; r[0]-r[1]</code>ï¼Œåˆ™å¾—å‡ºæ’åºè§„åˆ™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">twoCitySchedCost</span><span class=\"params\">(self, costs: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    costs.sort(key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">0</span>]-x[<span class=\"number\">1</span>]) </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(i[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> costs[:len(costs)//<span class=\"number\">2</span>]) + sum(j[<span class=\"number\">1</span>] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> costs[len(costs)//<span class=\"number\">2</span>:])</span><br></pre></td></tr></table></figure>\n<h3 id=\"1042-Flower-Planting-With-No-Adjacent\"><a href=\"#1042-Flower-Planting-With-No-Adjacent\" class=\"headerlink\" title=\"1042. Flower Planting With No Adjacent\"></a>1042. Flower Planting With No Adjacent</h3><h4 id=\"è”é€šå›¾æŸ“è‰²é—®é¢˜ï¼Œpathsè¡¨ç¤ºç›¸é‚»çš„èŠ±å›­ï¼Œç›¸é‚»çš„èŠ±å›­ä¸­ä¸èƒ½ç§åŒä¸€ç§èŠ±ï¼Œä¸€ç§æœ‰å››ç§èŠ±ã€‚åŸé¢˜\"><a href=\"#è”é€šå›¾æŸ“è‰²é—®é¢˜ï¼Œpathsè¡¨ç¤ºç›¸é‚»çš„èŠ±å›­ï¼Œç›¸é‚»çš„èŠ±å›­ä¸­ä¸èƒ½ç§åŒä¸€ç§èŠ±ï¼Œä¸€ç§æœ‰å››ç§èŠ±ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è”é€šå›¾æŸ“è‰²é—®é¢˜ï¼Œpathsè¡¨ç¤ºç›¸é‚»çš„èŠ±å›­ï¼Œç›¸é‚»çš„èŠ±å›­ä¸­ä¸èƒ½ç§åŒä¸€ç§èŠ±ï¼Œä¸€ç§æœ‰å››ç§èŠ±ã€‚åŸé¢˜\"></a>è”é€šå›¾æŸ“è‰²é—®é¢˜ï¼Œpathsè¡¨ç¤ºç›¸é‚»çš„èŠ±å›­ï¼Œç›¸é‚»çš„èŠ±å›­ä¸­ä¸èƒ½ç§åŒä¸€ç§èŠ±ï¼Œä¸€ç§æœ‰å››ç§èŠ±ã€‚<a href=\"https://leetcode.com/problems/flower-planting-with-no-adjacent/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gardenNoAdj</span><span class=\"params\">(self, N: int, paths: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    res = [<span class=\"number\">0</span>] * N</span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> paths:</span><br><span class=\"line\">        g[x<span class=\"number\">-1</span>].append(y<span class=\"number\">-1</span>)</span><br><span class=\"line\">        g[y<span class=\"number\">-1</span>].append(x<span class=\"number\">-1</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        res[i] = (&#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>&#125;-&#123;res[j] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]&#125;).pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1046-Last-Stone-Weight\"><a href=\"#1046-Last-Stone-Weight\" class=\"headerlink\" title=\"1046. Last Stone Weight\"></a>1046. Last Stone Weight</h3><h4 id=\"æœ€åä¸€å—çŸ³å¤´çš„è´¨é‡ã€‚æ¯æ¬¡ä»çŸ³å¤´å †ä¸­æ‹¿å‡ºä¸¤å—æœ€é‡çš„pkï¼Œå‰©ä¸‹ä¸ºäºŒè€…ä¹‹å·®ã€‚åŸé¢˜\"><a href=\"#æœ€åä¸€å—çŸ³å¤´çš„è´¨é‡ã€‚æ¯æ¬¡ä»çŸ³å¤´å †ä¸­æ‹¿å‡ºä¸¤å—æœ€é‡çš„pkï¼Œå‰©ä¸‹ä¸ºäºŒè€…ä¹‹å·®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€åä¸€å—çŸ³å¤´çš„è´¨é‡ã€‚æ¯æ¬¡ä»çŸ³å¤´å †ä¸­æ‹¿å‡ºä¸¤å—æœ€é‡çš„pkï¼Œå‰©ä¸‹ä¸ºäºŒè€…ä¹‹å·®ã€‚åŸé¢˜\"></a>æœ€åä¸€å—çŸ³å¤´çš„è´¨é‡ã€‚æ¯æ¬¡ä»çŸ³å¤´å †ä¸­æ‹¿å‡ºä¸¤å—æœ€é‡çš„pkï¼Œå‰©ä¸‹ä¸ºäºŒè€…ä¹‹å·®ã€‚<a href=\"https://leetcode.com/problems/last-stone-weight/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lastStoneWeight</span><span class=\"params\">(self, stones: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    stones = sorted(stones)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(stones) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        a, b = stones.pop(), stones.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">            stones.append(a - b)</span><br><span class=\"line\">            stones.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> stones[<span class=\"number\">0</span>] <span class=\"keyword\">if</span> stones <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨å †ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lastStoneWeight</span><span class=\"params\">(self, stones: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\">    <span class=\"keyword\">from</span> operator <span class=\"keyword\">import</span> neg</span><br><span class=\"line\">    stones = list(map(neg, stones))</span><br><span class=\"line\">    hq.heapify(stones)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(stones) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        a = -hq.heappop(stones)</span><br><span class=\"line\">        b = -hq.heappop(stones)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">            hq.heappush(stones, b - a)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> -hq.heappop(stones) <span class=\"keyword\">if</span> stones <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1090-Largest-Values-From-Labels\"><a href=\"#1090-Largest-Values-From-Labels\" class=\"headerlink\" title=\"1090. Largest Values From Labels\"></a>1090. Largest Values From Labels</h3><h4 id=\"ç»™ä¸€ä¸ªé›†åˆï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå€¼values-i-ä¸æ ‡ç­¾labels-i-ã€‚è¿™é‡Œè¦é€‰æ‹©ä¸€ä¸ªå­é›†ï¼Œä½¿å¾—å­é›†çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡num-wantedï¼Œè€Œä¸”ç›¸åŒæ ‡ç­¾çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡use-limitã€‚æ±‚å­é›†çš„æœ€å¤§å’Œã€‚åŸé¢˜\"><a href=\"#ç»™ä¸€ä¸ªé›†åˆï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå€¼values-i-ä¸æ ‡ç­¾labels-i-ã€‚è¿™é‡Œè¦é€‰æ‹©ä¸€ä¸ªå­é›†ï¼Œä½¿å¾—å­é›†çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡num-wantedï¼Œè€Œä¸”ç›¸åŒæ ‡ç­¾çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡use-limitã€‚æ±‚å­é›†çš„æœ€å¤§å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä¸€ä¸ªé›†åˆï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå€¼values[i]ä¸æ ‡ç­¾labels[i]ã€‚è¿™é‡Œè¦é€‰æ‹©ä¸€ä¸ªå­é›†ï¼Œä½¿å¾—å­é›†çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡num_wantedï¼Œè€Œä¸”ç›¸åŒæ ‡ç­¾çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡use_limitã€‚æ±‚å­é›†çš„æœ€å¤§å’Œã€‚åŸé¢˜\"></a>ç»™ä¸€ä¸ªé›†åˆï¼Œæ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå€¼<code>values[i]</code>ä¸æ ‡ç­¾<code>labels[i]</code>ã€‚è¿™é‡Œè¦é€‰æ‹©ä¸€ä¸ªå­é›†ï¼Œä½¿å¾—å­é›†çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡<code>num_wanted</code>ï¼Œè€Œä¸”ç›¸åŒæ ‡ç­¾çš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡<code>use_limit</code>ã€‚æ±‚å­é›†çš„æœ€å¤§å’Œã€‚<a href=\"https://leetcode.com/problems/largest-values-from-labels/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: values &#x3D; [5,4,3,2,1], labels &#x3D; [1,1,2,2,3], num_wanted &#x3D; 3, use_limit &#x3D; 1</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Explanation: The subset chosen is the first, third, and fifth item.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜å¤§éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ç†è§£é¢˜æ„ï¼Œè‹±æ–‡åŸæ–‡éå¸¸å®¹æ˜“è¯¯è§£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestValsFromLabels</span><span class=\"params\">(self, values: List[int], labels: List[int], num_wanted: int, use_limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    c = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> v, b <span class=\"keyword\">in</span> sorted(zip(values, labels), reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num_wanted == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> c[b] &lt; use_limit:</span><br><span class=\"line\">            c[b] += <span class=\"number\">1</span></span><br><span class=\"line\">            ans += v</span><br><span class=\"line\">            num_wanted -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1094-Car-Pooling\"><a href=\"#1094-Car-Pooling\" class=\"headerlink\" title=\"1094. Car Pooling\"></a>1094. Car Pooling</h3><h4 id=\"ä¸€è¾†è½¦æ¥æ—…å®¢ï¼Œæ ¹æ®æ—…å®¢çš„äººæ•°ï¼Œä¸Šä¸‹è½¦ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥è½½å®Œæ‰€æœ‰çš„æ—…å®¢ã€‚åŸé¢˜\"><a href=\"#ä¸€è¾†è½¦æ¥æ—…å®¢ï¼Œæ ¹æ®æ—…å®¢çš„äººæ•°ï¼Œä¸Šä¸‹è½¦ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥è½½å®Œæ‰€æœ‰çš„æ—…å®¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€è¾†è½¦æ¥æ—…å®¢ï¼Œæ ¹æ®æ—…å®¢çš„äººæ•°ï¼Œä¸Šä¸‹è½¦ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥è½½å®Œæ‰€æœ‰çš„æ—…å®¢ã€‚åŸé¢˜\"></a>ä¸€è¾†è½¦æ¥æ—…å®¢ï¼Œæ ¹æ®æ—…å®¢çš„äººæ•°ï¼Œä¸Šä¸‹è½¦ä½ç½®ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥è½½å®Œæ‰€æœ‰çš„æ—…å®¢ã€‚<a href=\"https://leetcode.com/problems/car-pooling/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: trips &#x3D; [[2,1,5],[3,3,7]], capacity &#x3D; 4</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå°†æ—…å®¢ä¸Šä¸‹è½¦åœ°ç‚¹æ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">carPooling</span><span class=\"params\">(self, trips: List[List[int]], capacity: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> sorted(x <span class=\"keyword\">for</span> n, s, e <span class=\"keyword\">in</span> trips <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> ((s, n), (e, -n))):</span><br><span class=\"line\">        capacity -= v</span><br><span class=\"line\">        <span class=\"keyword\">if</span> capacity &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1403-Minimum-Subsequence-in-Non-Increasing-Order\"><a href=\"#1403-Minimum-Subsequence-in-Non-Increasing-Order\" class=\"headerlink\" title=\"1403. Minimum Subsequence in Non-Increasing Order\"></a>1403. Minimum Subsequence in Non-Increasing Order</h3><h4 id=\"æœ€å°çš„å®½åº¦çš„å’Œå¤§äºå‰©ä½™æ•°çš„å­åºåˆ—ã€‚åŸé¢˜\"><a href=\"#æœ€å°çš„å®½åº¦çš„å’Œå¤§äºå‰©ä½™æ•°çš„å­åºåˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°çš„å®½åº¦çš„å’Œå¤§äºå‰©ä½™æ•°çš„å­åºåˆ—ã€‚åŸé¢˜\"></a>æœ€å°çš„å®½åº¦çš„å’Œå¤§äºå‰©ä½™æ•°çš„å­åºåˆ—ã€‚<a href=\"https://leetcode.com/problems/minimum-subsequence-in-non-increasing-order/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [4,3,10,9,8]</span><br><span class=\"line\">Output: [10,9] </span><br><span class=\"line\">Explanation: The subsequences [10,9] and [10,8] are minimal such that the sum of their elements is strictly greater than the sum of elements not included, however, the subsequence [10,9] has the maximum total sum of its elements.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSubsequence</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    nums.sort(reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    total = sum(nums)</span><br><span class=\"line\">    cur = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        cur += d</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur * <span class=\"number\">2</span> &gt; total:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums[:i+<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums</span><br></pre></td></tr></table></figure>\n<h3 id=\"1400-Construct-K-Palindrome-Strings\"><a href=\"#1400-Construct-K-Palindrome-Strings\" class=\"headerlink\" title=\"1400. Construct K Palindrome Strings\"></a>1400. Construct K Palindrome Strings</h3><h4 id=\"æ˜¯å¦èƒ½ç”¨ç»™å®šçš„å­—ç¬¦ä¸²å¤Ÿæˆkä¸ªå›æ–‡ä¸²ã€‚åŸé¢˜\"><a href=\"#æ˜¯å¦èƒ½ç”¨ç»™å®šçš„å­—ç¬¦ä¸²å¤Ÿæˆkä¸ªå›æ–‡ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ˜¯å¦èƒ½ç”¨ç»™å®šçš„å­—ç¬¦ä¸²å¤Ÿæˆkä¸ªå›æ–‡ä¸²ã€‚åŸé¢˜\"></a>æ˜¯å¦èƒ½ç”¨ç»™å®šçš„å­—ç¬¦ä¸²å¤Ÿæˆkä¸ªå›æ–‡ä¸²ã€‚<a href=\"https://leetcode.com/problems/construct-k-palindrome-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;annabelle&quot;, k &#x3D; 2</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: You can construct two palindromes using all characters in s.</span><br><span class=\"line\">Some possible constructions &quot;anna&quot; + &quot;elble&quot;, &quot;anbna&quot; + &quot;elle&quot;, &quot;anellena&quot; + &quot;b&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šèƒ½å¦æ„æˆå›æ–‡ä¸²ï¼Œè¦çœ‹å¥‡æ•°ä¸ªå­—ç¬¦æ˜¯å¦å°äºç­‰äºkã€‚<br><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canConstruct</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    odd_c = sum(cnt&amp;<span class=\"number\">1</span>==<span class=\"number\">1</span> <span class=\"keyword\">for</span> cnt <span class=\"keyword\">in</span> Counter(s).values())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> odd_c &lt;= k &lt;= len(s)</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"45-Jump-Game-II\"><a href=\"#45-Jump-Game-II\" class=\"headerlink\" title=\"45. Jump Game II\"></a>45. Jump Game II</h3><h4 id=\"è·³è·ƒæ¸¸æˆã€‚æ¯ä¸ªä½ç½®å†™äº†æœ€è¿œè·ç¦»ã€‚åŸé¢˜\"><a href=\"#è·³è·ƒæ¸¸æˆã€‚æ¯ä¸ªä½ç½®å†™äº†æœ€è¿œè·ç¦»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·³è·ƒæ¸¸æˆã€‚æ¯ä¸ªä½ç½®å†™äº†æœ€è¿œè·ç¦»ã€‚åŸé¢˜\"></a>è·³è·ƒæ¸¸æˆã€‚æ¯ä¸ªä½ç½®å†™äº†æœ€è¿œè·ç¦»ã€‚<a href=\"https://leetcode.com/problems/jump-game-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,3,1,1,4]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The minimum number of jumps to reach the last index is 2.</span><br><span class=\"line\">    Jump 1 step from index 0 to 1, then 3 steps to the last index.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨äº†ä¸1024é¢˜ä¸€æ ·çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">jump</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    end, end2, cnt = <span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, s <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> end2 &gt;= n<span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> end &lt; i &lt;= end2:</span><br><span class=\"line\">            cnt += <span class=\"number\">1</span></span><br><span class=\"line\">            end = end2</span><br><span class=\"line\">        end2 = max(end2, i+s)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cnt</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œè¡¨ç¤ºäº†ä¸€ä¸ªèŒƒå›´ï¼Œæ¯æ¬¡å¢åŠ ä¸€æ­¥æ—¶ï¼Œåœ¨è¿™ä¸ªèŒƒå›´ä¸­æ‰¾åˆ°ä¸‹ä¸€æ¬¡æœ€å³çš„è·ç¦»ï¼Œä¸ºäº†ä¸è®©èŒƒå›´é‡å , è®©<code>left=right+1</code>ï¼Œç›´åˆ°æœ€å³ç‚¹åˆ°è¾¾æœ«å°¾ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">jump</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(nums) &lt;= <span class=\"number\">1</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    step = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> r &lt; len(nums)<span class=\"number\">-1</span>:</span><br><span class=\"line\">        step += <span class=\"number\">1</span></span><br><span class=\"line\">        nxt = max(i+nums[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(l, r+<span class=\"number\">1</span>))</span><br><span class=\"line\">        l, r = r+<span class=\"number\">1</span>, nxt</span><br><span class=\"line\">    <span class=\"keyword\">return</span> step</span><br></pre></td></tr></table></figure>\n<h3 id=\"1296-Divide-Array-in-Sets-of-K-Consecutive-Numbers\"><a href=\"#1296-Divide-Array-in-Sets-of-K-Consecutive-Numbers\" class=\"headerlink\" title=\"1296. Divide Array in Sets of K Consecutive Numbers\"></a>1296. Divide Array in Sets of K Consecutive Numbers</h3><h4 id=\"æ•°ç»„èƒ½å¦åˆ†æˆè¿ç»­çš„kä¸ªå…ƒç´ çš„å­æ•°ç»„ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„èƒ½å¦åˆ†æˆè¿ç»­çš„kä¸ªå…ƒç´ çš„å­æ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„èƒ½å¦åˆ†æˆè¿ç»­çš„kä¸ªå…ƒç´ çš„å­æ•°ç»„ã€‚åŸé¢˜\"></a>æ•°ç»„èƒ½å¦åˆ†æˆè¿ç»­çš„kä¸ªå…ƒç´ çš„å­æ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/divide-array-in-sets-of-k-consecutive-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,3,4,4,5,6], k &#x3D; 4</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: Array can be divided into [1,2,3,4] and [3,4,5,6].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ã€‚æ¯æ¬¡å–æœ€å°çš„keyæ¯”è¾ƒè€—æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPossibleDivide</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n % k != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    c = collections.Counter(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//k):</span><br><span class=\"line\">        s = min(c.keys())</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s+j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> c:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            c[s+j] -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> c[s+j] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">del</span> c[s+j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ’åºï¼Œæ¯æ¬¡ä»ä¸­å–æœ€å°ï¼Œå¦‚æœå…¶æ•°é‡ä¸ä¸º1ï¼Œé‚£ä¹ˆä½œä¸ºå®ƒçš„ç­‰å·®æ•°åˆ—ä¸€ç»„ï¼Œå¦å¤–çš„k-1ä¸ªæ•°ä¹Ÿå¾—å¤§äºç­‰äºè¿™ä¸ªæ•°é‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPossibleDivide</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    c = collections.Counter(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> sorted(c):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c[i] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, k):</span><br><span class=\"line\">                c[i+j] -= c[i]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> c[i+j] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1282-Group-the-People-Given-the-Group-Size-They-Belong-To\"><a href=\"#1282-Group-the-People-Given-the-Group-Size-They-Belong-To\" class=\"headerlink\" title=\"1282. Group the People Given the Group Size They Belong To\"></a>1282. Group the People Given the Group Size They Belong To</h3><h4 id=\"å°†å…ƒç´ åˆ†ç»„åˆ°æŒ‡å®šçš„sizeä¸­ã€‚åŸé¢˜\"><a href=\"#å°†å…ƒç´ åˆ†ç»„åˆ°æŒ‡å®šçš„sizeä¸­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†å…ƒç´ åˆ†ç»„åˆ°æŒ‡å®šçš„sizeä¸­ã€‚åŸé¢˜\"></a>å°†å…ƒç´ åˆ†ç»„åˆ°æŒ‡å®šçš„sizeä¸­ã€‚<a href=\"https://leetcode.com/problems/group-the-people-given-the-group-size-they-belong-to/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: groupSizes &#x3D; [3,3,3,3,3,1,3]</span><br><span class=\"line\">Output: [[5],[0,1,2],[3,4,6]]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Other possible solutions are [[2,1,6],[5],[0,4,3]] and [[5],[0,6,2],[4,3,1]].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶ç”¨çš„sortï¼Œå…¶å®æœ‰O(n)çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">groupThePeople</span><span class=\"params\">(self, groupSizes: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    gs = [(i, s) <span class=\"keyword\">for</span> i, s <span class=\"keyword\">in</span> enumerate(groupSizes)]</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    last = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, s <span class=\"keyword\">in</span> sorted(gs, key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">1</span>]):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> last <span class=\"keyword\">or</span> len(ans[<span class=\"number\">-1</span>]) == last:</span><br><span class=\"line\">            ans.append([i])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans[<span class=\"number\">-1</span>].append(i)</span><br><span class=\"line\">        last = s</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šhash.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">groupThePeople</span><span class=\"params\">(self, groupSizes: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    count = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, g <span class=\"keyword\">in</span> enumerate(groupSizes):</span><br><span class=\"line\">        count[g].append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [l[i:i+s] <span class=\"keyword\">for</span> s, l <span class=\"keyword\">in</span> count.items() <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, len(l), s)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1253-Reconstruct-a-2-Row-Binary-Matrix\"><a href=\"#1253-Reconstruct-a-2-Row-Binary-Matrix\" class=\"headerlink\" title=\"1253. Reconstruct a 2-Row Binary Matrix\"></a>1253. Reconstruct a 2-Row Binary Matrix</h3><h4 id=\"ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç»™å‡ºæ¯ä¸ªç´¯åŠ 1çš„å’Œï¼Œå’Œåˆ—çš„å’Œï¼Œé‡å»ºè¿™ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç»™å‡ºæ¯ä¸ªç´¯åŠ 1çš„å’Œï¼Œå’Œåˆ—çš„å’Œï¼Œé‡å»ºè¿™ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç»™å‡ºæ¯ä¸ªç´¯åŠ 1çš„å’Œï¼Œå’Œåˆ—çš„å’Œï¼Œé‡å»ºè¿™ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç»™å‡ºæ¯ä¸ªç´¯åŠ 1çš„å’Œï¼Œå’Œåˆ—çš„å’Œï¼Œé‡å»ºè¿™ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/reconstruct-a-2-row-binary-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: upper &#x3D; 2, lower &#x3D; 1, colsum &#x3D; [1,1,1]</span><br><span class=\"line\">Output: [[1,1,0],[0,0,1]]</span><br><span class=\"line\">Explanation: [[1,0,1],[0,1,0]], and [[0,1,1],[1,0,0]] are also correct answers.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶çš„æ–¹æ³•å†™çš„å¤ªjavaã€‚å› ä¸ºåœ¨äºè´ªå¿ƒçš„æ¡ä»¶é€‰æ‹©å…ˆå¡æ»¡ç¬¬ä¸€ä¸ªæ•°ã€‚è¿™æ ·ä¼šå¾’å¢ä¸€äº›æ²¡ç”¨çš„åˆ¤æ–­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reconstructMatrix</span><span class=\"params\">(self, upper: int, lower: int, colsum: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    n = len(colsum)</span><br><span class=\"line\">    c1, c2 = colsum.count(<span class=\"number\">1</span>), colsum.count(<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> upper+lower-c2*<span class=\"number\">2</span> != c1 <span class=\"keyword\">or</span> min(upper, lower)&lt;c2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    a, b, r = [], [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> colsum:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"number\">2</span>:</span><br><span class=\"line\">            i = j = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> c == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> upper-c2-r &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                i = <span class=\"number\">1</span></span><br><span class=\"line\">                j = <span class=\"number\">0</span></span><br><span class=\"line\">                r += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                i = <span class=\"number\">0</span></span><br><span class=\"line\">                j = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            i = j = <span class=\"number\">0</span></span><br><span class=\"line\">        a.append(i)</span><br><span class=\"line\">        b.append(j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a, b]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¯ä»¥ç”¨å¤§å°åˆ¤æ–­é€‰æ‹©æ”¾å“ªä¸ªæ•°ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reconstructMatrix</span><span class=\"params\">(self, upper: int, lower: int, colsum: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    n = len(colsum)</span><br><span class=\"line\">    a1, a2 = [<span class=\"number\">0</span>] * n, [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, s <span class=\"keyword\">in</span> enumerate(colsum):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> upper &gt; lower:</span><br><span class=\"line\">                a1[i] = <span class=\"number\">1</span></span><br><span class=\"line\">                upper -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                a2[i] = <span class=\"number\">1</span></span><br><span class=\"line\">                lower -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> s == <span class=\"number\">2</span>:</span><br><span class=\"line\">            a1[i] = a2[i] = <span class=\"number\">1</span></span><br><span class=\"line\">            upper -= <span class=\"number\">1</span></span><br><span class=\"line\">            lower -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (a1, a2) <span class=\"keyword\">if</span> lower==upper==<span class=\"number\">0</span> <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"1247-Minimum-Swaps-to-Make-Strings-Equal\"><a href=\"#1247-Minimum-Swaps-to-Make-Strings-Equal\" class=\"headerlink\" title=\"1247. Minimum Swaps to Make Strings Equal\"></a>1247. Minimum Swaps to Make Strings Equal</h3><h4 id=\"ä¸¤ä¸ªåŒ…å«xå’Œyçš„å­—ç¬¦ä¸²ï¼Œäº’æ¢ä»»æ„ä¸¤ä¸ªå­—ç¬¦ï¼Œæœ€å°éœ€è¦å¤šå°‘æ¬¡æ‰èƒ½ç›¸ç­‰ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªåŒ…å«xå’Œyçš„å­—ç¬¦ä¸²ï¼Œäº’æ¢ä»»æ„ä¸¤ä¸ªå­—ç¬¦ï¼Œæœ€å°éœ€è¦å¤šå°‘æ¬¡æ‰èƒ½ç›¸ç­‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªåŒ…å«xå’Œyçš„å­—ç¬¦ä¸²ï¼Œäº’æ¢ä»»æ„ä¸¤ä¸ªå­—ç¬¦ï¼Œæœ€å°éœ€è¦å¤šå°‘æ¬¡æ‰èƒ½ç›¸ç­‰ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªåŒ…å«xå’Œyçš„å­—ç¬¦ä¸²ï¼Œäº’æ¢ä»»æ„ä¸¤ä¸ªå­—ç¬¦ï¼Œæœ€å°éœ€è¦å¤šå°‘æ¬¡æ‰èƒ½ç›¸ç­‰ã€‚<a href=\"https://leetcode.com/problems/minimum-swaps-to-make-strings-equal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s1 &#x3D; &quot;xx&quot;, s2 &#x3D; &quot;yy&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Swap s1[0] and s2[1], s1 &#x3D; &quot;yx&quot;, s2 &#x3D; &quot;yx&quot;.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s1 &#x3D; &quot;xy&quot;, s2 &#x3D; &quot;yx&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Swap s1[0] and s2[0], s1 &#x3D; &quot;yy&quot;, s2 &#x3D; &quot;xx&quot;.</span><br><span class=\"line\">Swap s1[0] and s2[1], s1 &#x3D; &quot;xy&quot;, s2 &#x3D; &quot;xy&quot;.</span><br><span class=\"line\">Note that you can&#39;t swap s1[0] and s1[1] to make s1 equal to &quot;yx&quot;, cause we can only swap chars in different strings.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå°½é‡å¤šçš„åŒ¹é…,â€™xxâ€™å’Œâ€™yyâ€™è¿™æ ·åªéœ€è¦ä¸€æ­¥ã€‚acå€’æ˜¯acäº†ï¼Œå†™æ³•ä¸Šçœ‹ç€æœ‰ç‚¹çƒ‚ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumSwap</span><span class=\"params\">(self, s1: str, s2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    c_x, c_y = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(s1, s2):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">            c_x += (a==<span class=\"string\">'x'</span>)</span><br><span class=\"line\">            c_y += (a==<span class=\"string\">'y'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> max(c_x, c_y)==<span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c_x &gt; c_y:</span><br><span class=\"line\">                c_x -= <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                c_y -= <span class=\"number\">2</span></span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> c_x + c_y == <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    ans += (c_x==<span class=\"number\">1</span> <span class=\"keyword\">and</span> c_y==<span class=\"number\">1</span>) * <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¼˜åŒ–ä¸€ä¸‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumSwap</span><span class=\"params\">(self, s1: str, s2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    x1 = y1 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(s1, s2):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a != b:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a == <span class=\"string\">'x'</span>:</span><br><span class=\"line\">                x1 += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                y1 += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x1+y1) &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x1//<span class=\"number\">2</span> + y1//<span class=\"number\">2</span> + <span class=\"number\">2</span>*(x1&amp;<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"406-Queue-Reconstruction-by-Height\"><a href=\"#406-Queue-Reconstruction-by-Height\" class=\"headerlink\" title=\"406. Queue Reconstruction by Height\"></a>406. Queue Reconstruction by Height</h3><h4 id=\"æ ¹æ®æ²¡è·Ÿäººçš„é«˜åº¦å’Œå‰é¢æ¯”ä»–é«˜çš„kä¸ªäººï¼Œé‡å»ºé˜Ÿåˆ—ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®æ²¡è·Ÿäººçš„é«˜åº¦å’Œå‰é¢æ¯”ä»–é«˜çš„kä¸ªäººï¼Œé‡å»ºé˜Ÿåˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®æ²¡è·Ÿäººçš„é«˜åº¦å’Œå‰é¢æ¯”ä»–é«˜çš„kä¸ªäººï¼Œé‡å»ºé˜Ÿåˆ—ã€‚åŸé¢˜\"></a>æ ¹æ®æ²¡è·Ÿäººçš„é«˜åº¦å’Œå‰é¢æ¯”ä»–é«˜çš„kä¸ªäººï¼Œé‡å»ºé˜Ÿåˆ—ã€‚<a href=\"https://leetcode.com/problems/queue-reconstruction-by-height/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[[7,0], [4,4], [7,1], [5,0], [6,1], [5,2]]</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">[[5,0], [7,0], [5,2], [6,1], [4,4], [7,1]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†ç­”æ¡ˆï¼Œç†è§£èµ·æ¥ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œæ ¹æ®é«˜åº¦æ¥æ’åºï¼Œæ¯æ¬¡é€‰å‡ºä¸€ä¸ªäººæ’å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºé˜Ÿåˆ—é‡Œçš„äººéƒ½æ˜¯æ¯”ä»–é«˜çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reconstructQueue</span><span class=\"params\">(self, people: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    people.sort(key=<span class=\"keyword\">lambda</span> x: (-x[<span class=\"number\">0</span>], x[<span class=\"number\">1</span>]))</span><br><span class=\"line\">    queue = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> people:</span><br><span class=\"line\">        queue.insert(p[<span class=\"number\">1</span>], p)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> queue</span><br></pre></td></tr></table></figure>\n<h3 id=\"1488-Avoid-Flood-in-The-City\"><a href=\"#1488-Avoid-Flood-in-The-City\" class=\"headerlink\" title=\"1488. Avoid Flood in The City\"></a>1488. Avoid Flood in The City</h3><h4 id=\"rainsè¡¨ç¤ºå“ªä¸ªæ¹–ä¼šä¸‹é›¨ï¼Œ0çš„æ—¶å€™è¡¨ç¤ºå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¹–æŠ½å¹²æ°´ï¼Œå¦‚æœæœ‰æ¹–æ°´åœ¨æŠ½å¹²å‰åˆä¸‹é›¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šå‘æ´ªæ°´ï¼Œè¿”å›-1ï¼Œç„¶åéœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ¯å¤©åº”è¯¥æŠ½å¹²å“ªä¸ªæ¹–çš„æ°´ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#rainsè¡¨ç¤ºå“ªä¸ªæ¹–ä¼šä¸‹é›¨ï¼Œ0çš„æ—¶å€™è¡¨ç¤ºå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¹–æŠ½å¹²æ°´ï¼Œå¦‚æœæœ‰æ¹–æ°´åœ¨æŠ½å¹²å‰åˆä¸‹é›¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šå‘æ´ªæ°´ï¼Œè¿”å›-1ï¼Œç„¶åéœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ¯å¤©åº”è¯¥æŠ½å¹²å“ªä¸ªæ¹–çš„æ°´ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"rainsè¡¨ç¤ºå“ªä¸ªæ¹–ä¼šä¸‹é›¨ï¼Œ0çš„æ—¶å€™è¡¨ç¤ºå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¹–æŠ½å¹²æ°´ï¼Œå¦‚æœæœ‰æ¹–æ°´åœ¨æŠ½å¹²å‰åˆä¸‹é›¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šå‘æ´ªæ°´ï¼Œè¿”å›-1ï¼Œç„¶åéœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ¯å¤©åº”è¯¥æŠ½å¹²å“ªä¸ªæ¹–çš„æ°´ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜ \"></a>rainsè¡¨ç¤ºå“ªä¸ªæ¹–ä¼šä¸‹é›¨ï¼Œ0çš„æ—¶å€™è¡¨ç¤ºå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¹–æŠ½å¹²æ°´ï¼Œå¦‚æœæœ‰æ¹–æ°´åœ¨æŠ½å¹²å‰åˆä¸‹é›¨äº†ï¼Œé‚£ä¹ˆå°±ä¼šå‘æ´ªæ°´ï¼Œè¿”å›-1ï¼Œç„¶åéœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºæ¯å¤©åº”è¯¥æŠ½å¹²å“ªä¸ªæ¹–çš„æ°´ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/avoid-flood-in-the-city/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜ </a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: rains &#x3D; [1,2,0,0,2,1]</span><br><span class=\"line\">Output: [-1,-1,2,1,-1,-1]</span><br><span class=\"line\">Explanation: After the first day full lakes are [1]</span><br><span class=\"line\">After the second day full lakes are [1,2]</span><br><span class=\"line\">After the third day, we dry lake 2. Full lakes are [1]</span><br><span class=\"line\">After the fourth day, we dry lake 1. There is no full lakes.</span><br><span class=\"line\">After the fifth day, full lakes are [2].</span><br><span class=\"line\">After the sixth day, full lakes are [1,2].</span><br><span class=\"line\">It is easy that this scenario is flood-free. [-1,-1,1,2,-1,-1] is another acceptable scenario.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›çš„æ—¶å€™æ²¡æœ‰åšå‡ºæ¥ï¼Œåœ¨å¤šæ¬¡waåTLEäº†ï¼Œä½¿ç”¨çš„æ–¹å¼æ˜¯äºŒåˆ†æŸ¥æ‰¾ä¿®æ”¹è¦æŠ½å“ªå¤©çš„æ°´ã€‚æ²¡æœ‰æƒ³åˆ°ç”¨å †ã€‚è€Œä¸”æ•´ä½“çš„æ€è·¯æœ‰ä¸€ç§æ»åæ€§ï¼Œå°±æ˜¯å½“é‡è§ç¬¬äºŒæ¬¡ä¸‹é›¨çš„æ—¶å€™å†å»æ‰¾0çš„é‚£å¤©æŠ½å¹²å“ªä¸ªæ¹–çš„æ°´ã€‚è¿™ä¸ªæ–¹æ³•éå†äº†ä¸¤æ¬¡æ•°ç»„ï¼Œç¬¬ä¸€æ¬¡å°†æ¯ä¸ªæ¹–ä¸‹é›¨çš„å¤©æ•°è®°å½•ä¸‹æ¥ã€‚ç„¶åå¯ä»¥æŠ½æ°´çš„æ—¶å€™ç”¨ä¸€ä¸ªå †å»è®¡ç®—æœ€è¿‘çš„å“ªä¸ªæ¹–ä¼šå†æ¬¡ä¸‹é›¨ï¼Œè¿™æ ·ä¼˜å…ˆæŠ½å¹²è¿™ä¸ªæ¹–çš„æ°´ã€‚to_emptyä¸­è®°å½•ç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">avoidFlood</span><span class=\"params\">(self, rains: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    n = len(rains)</span><br><span class=\"line\">    dic = collections.defaultdict(list)</span><br><span class=\"line\">    ans = [<span class=\"number\">-1</span>] * n</span><br><span class=\"line\">    full = set()</span><br><span class=\"line\">    to_empty = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, rain <span class=\"keyword\">in</span> enumerate(rains):</span><br><span class=\"line\">        dic[rain].append(i)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, rain <span class=\"keyword\">in</span> enumerate(rains):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> rain:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> rain <span class=\"keyword\">in</span> full:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> []</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                full.add(rain)</span><br><span class=\"line\">                dic[rain].pop(<span class=\"number\">0</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dic[rain]:</span><br><span class=\"line\">                    heapq.heappush(to_empty, dic[rain][<span class=\"number\">0</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> to_empty:</span><br><span class=\"line\">                j = heapq.heappop(to_empty)</span><br><span class=\"line\">                ans[i] = rains[j]</span><br><span class=\"line\">                full.remove(rains[j])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans[i] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1505-Minimum-Possible-Integer-After-at-Most-K-Adjacent-Swaps-On-Digits\"><a href=\"#1505-Minimum-Possible-Integer-After-at-Most-K-Adjacent-Swaps-On-Digits\" class=\"headerlink\" title=\"1505. Minimum Possible Integer After at Most K Adjacent Swaps On Digits\"></a>1505. Minimum Possible Integer After at Most K Adjacent Swaps On Digits</h3><h4 id=\"ä¸€ä¸ªæ•°å­—æœ€å¤šäº¤æ¢Kæ¬¡ç›¸é‚»çš„å­—ç¬¦ï¼Œä½¿å…¶è¡¨ç¤ºçš„æ•°å­—æœ€å°ï¼Œå¯ä»¥0å¼€å¤´ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªæ•°å­—æœ€å¤šäº¤æ¢Kæ¬¡ç›¸é‚»çš„å­—ç¬¦ï¼Œä½¿å…¶è¡¨ç¤ºçš„æ•°å­—æœ€å°ï¼Œå¯ä»¥0å¼€å¤´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªæ•°å­—æœ€å¤šäº¤æ¢Kæ¬¡ç›¸é‚»çš„å­—ç¬¦ï¼Œä½¿å…¶è¡¨ç¤ºçš„æ•°å­—æœ€å°ï¼Œå¯ä»¥0å¼€å¤´ã€‚åŸé¢˜\"></a>ä¸€ä¸ªæ•°å­—æœ€å¤šäº¤æ¢Kæ¬¡ç›¸é‚»çš„å­—ç¬¦ï¼Œä½¿å…¶è¡¨ç¤ºçš„æ•°å­—æœ€å°ï¼Œå¯ä»¥0å¼€å¤´ã€‚<a href=\"https://leetcode.com/problems/minimum-possible-integer-after-at-most-k-adjacent-swaps-on-digits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: num &#x3D; &quot;4321&quot;, k &#x3D; 4</span><br><span class=\"line\">Output: &quot;1342&quot;</span><br><span class=\"line\">Explanation: The steps to obtain the minimum integer from 4321 with 4 adjacent swaps are shown.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ®è¯´æ˜¯å­—èŠ‚çš„é¢è¯•é¢˜ã€‚contestæ—¶å¡åœ¨äº†ç¬¬ä¸‰é¢˜ï¼Œæ­¤é¢˜æ²¡æœ‰æ—¶é—´çœ‹ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯è¶…æ—¶çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minInteger</span><span class=\"params\">(self, num: str, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    num = [*map(int, num)]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &gt;= (len(num) ** <span class=\"number\">2</span>) // <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(map(str, sorted(num)))</span><br><span class=\"line\">    </span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    q = [(v, i) <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(num)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> k <span class=\"keyword\">and</span> q:</span><br><span class=\"line\">        idx, (v, i) = min(enumerate(q[:k + <span class=\"number\">1</span>]), key=<span class=\"keyword\">lambda</span> p:p[<span class=\"number\">1</span>])</span><br><span class=\"line\">        k -= idx</span><br><span class=\"line\">        <span class=\"keyword\">del</span> q[idx]</span><br><span class=\"line\">        res += v,</span><br><span class=\"line\">        </span><br><span class=\"line\">    res += [v <span class=\"keyword\">for</span> v, _ <span class=\"keyword\">in</span> q]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(map(str, res))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸€ä¸ªFenWickæ•°å³äºŒå‰ç´¢å¼•æ•°è®°å½•ä½ç§»ã€‚æ€»ä½“çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œæ¯æ¬¡åœ¨å¯ä»¥kçš„èŒƒå›´å†…æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„æ•°ç§»åˆ°æœ€å·¦è¾¹ï¼Œè¿™æ ·æ•°å­—ä¼šå˜ä¸ºæœ€å°ï¼Œå¼€å§‹çš„æ—¶å€™è®°å½•æ¯ä¸ªæ•°çš„åŸå§‹ç´¢å¼•ï¼Œä½¿ç”¨FenWickè®°å½•ä½ç§»ç´¢å¼•ï¼Œå¦‚åœ¨ä¸€ä¸ªiçš„ä½ç½®æ‰¾åˆ°ä¸€ä¸ªæœ€å°æ•°ç§»åˆ°æœ€å·¦è¾¹ï¼Œé‚£ä¹ˆå…¶åŸå§‹åºåˆ—å³ä¾§çš„æ•°ä¸‹æ¬¡éœ€è¦ä½ç§»ä¸ºåŸå§‹åšé˜´-1ï¼Œå› ä¸ºæœ€å·¦ä½å·²ç»è¢«å ç”¨äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FenWick</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">        self.nums = [<span class=\"number\">0</span>] * (<span class=\"number\">1</span>+ n)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">update</span><span class=\"params\">(self, i, delta)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i &lt; len(self.nums):</span><br><span class=\"line\">            self.nums[i] += delta</span><br><span class=\"line\">            i += i &amp; -i</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">query</span><span class=\"params\">(self, i)</span>:</span></span><br><span class=\"line\">        ans = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans += self.nums[i]</span><br><span class=\"line\">            i -= i &amp; -i</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minInteger</span><span class=\"params\">(self, num: str, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">        n = len(num)</span><br><span class=\"line\">        pos = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">10</span>)]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">            pos[ord(num[i])-ord(<span class=\"string\">'0'</span>)].append(i)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find_min</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">10</span>):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pos[d]: <span class=\"keyword\">continue</span></span><br><span class=\"line\">                i = pos[d][<span class=\"number\">-1</span>]</span><br><span class=\"line\">                cost = i - tree.query(i)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> cost &lt;= k: <span class=\"keyword\">return</span> d, cost</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span>, <span class=\"literal\">None</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        tree = FenWick(n)</span><br><span class=\"line\">        res = []</span><br><span class=\"line\">        removed = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> k:</span><br><span class=\"line\">            d, cost = find_min()</span><br><span class=\"line\">            <span class=\"keyword\">if</span> d <span class=\"keyword\">is</span> <span class=\"literal\">None</span>: <span class=\"keyword\">break</span>  </span><br><span class=\"line\">            k -= cost</span><br><span class=\"line\">            res.append(d)</span><br><span class=\"line\">            i = pos[d].pop()</span><br><span class=\"line\">            tree.update(i+<span class=\"number\">1</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">            removed[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        lhs = <span class=\"string\">''</span>.join(map(str, res))</span><br><span class=\"line\">        rhs = <span class=\"string\">''</span>.join(num[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> removed[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> lhs + rhs</span><br></pre></td></tr></table></figure>\n<h3 id=\"763-Partition-Labels\"><a href=\"#763-Partition-Labels\" class=\"headerlink\" title=\"763. Partition Labels\"></a>763. Partition Labels</h3><h4 id=\"å°†å­—ç¬¦ä¸²Så°½å¯èƒ½åˆ†æˆå¤šçš„éƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†ä¸èƒ½æœ‰ç›¸åŒçš„å­—ç¬¦ã€‚åŸé¢˜\"><a href=\"#å°†å­—ç¬¦ä¸²Så°½å¯èƒ½åˆ†æˆå¤šçš„éƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†ä¸èƒ½æœ‰ç›¸åŒçš„å­—ç¬¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†å­—ç¬¦ä¸²Så°½å¯èƒ½åˆ†æˆå¤šçš„éƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†ä¸èƒ½æœ‰ç›¸åŒçš„å­—ç¬¦ã€‚åŸé¢˜\"></a>å°†å­—ç¬¦ä¸²Så°½å¯èƒ½åˆ†æˆå¤šçš„éƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†ä¸èƒ½æœ‰ç›¸åŒçš„å­—ç¬¦ã€‚<a href=\"https://leetcode.com/problems/partition-labels/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;ababcbacadefegdehijhklij&quot;</span><br><span class=\"line\">Output: [9,7,8]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The partition is &quot;ababcbaca&quot;, &quot;defegde&quot;, &quot;hijhklij&quot;.</span><br><span class=\"line\">This is a partition so that each letter appears in at most one part.</span><br><span class=\"line\">A partition like &quot;ababcbacadefegde&quot;, &quot;hijhklij&quot; is incorrect, because it splits S into less parts.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³çš„æ–¹æ³•ã€‚æ¯æ¬¡é‡åˆ°ä¹‹å‰çš„å…ƒç´ å°±ç”¨æ ˆçš„æ–¹å¼æ¥åˆå¹¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partitionLabels</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    n = len(S)</span><br><span class=\"line\">    last = &#123;&#125;</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(S):</span><br><span class=\"line\">        last[c] = i</span><br><span class=\"line\">        </span><br><span class=\"line\">    hi = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> hi != n<span class=\"number\">-1</span>:</span><br><span class=\"line\">        lo = start = hi + <span class=\"number\">1</span></span><br><span class=\"line\">        hi = last[S[lo]]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">            hi = max(hi, last[S[lo]])</span><br><span class=\"line\">        ans.append(hi-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªåˆ¤æ–­æ¡ä»¶æ²¡æœ‰æƒ³åˆ°ï¼Œå…¶å®åªè¦å’Œæœ€åç´¢å¼•ç›¸åŒï¼Œå°±å¯ä»¥æ·»åŠ ä¸€æ®µäº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partitionLabels</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    last = &#123;c: i <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(S)&#125;</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    lo = hi = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(S):</span><br><span class=\"line\">        hi = max(hi, last[c])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == hi:</span><br><span class=\"line\">            ans.append(hi-lo+<span class=\"number\">1</span>)</span><br><span class=\"line\">            lo = i + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šstefanæœ‰æ¯”è¾ƒç›´è§‚çš„æ–¹æ³•ã€‚æ—¶é—´å¤æ‚åº¦ç•¥é«˜</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partitionLabels</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> S:</span><br><span class=\"line\">        i = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> set(S[:i]) &amp; set(S[i:]):</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        ans.append(i)</span><br><span class=\"line\">        S = S[i:]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"621-Task-Scheduler\"><a href=\"#621-Task-Scheduler\" class=\"headerlink\" title=\"621. Task Scheduler\"></a>621. Task Scheduler</h3><h4 id=\"æ¯ä¸¤ä¸ªç›¸åŒä»»åŠ¡ä¹‹é—´éœ€è¦æœ‰nä¸ªæ—¶é—´ï¼Œä¸è¶³åˆ™éœ€è¦é—²ç½®ï¼Œé—®æœ€å°‘çš„ä»»åŠ¡è°ƒåº¦å®Œæˆæ—¶é—´æ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æ¯ä¸¤ä¸ªç›¸åŒä»»åŠ¡ä¹‹é—´éœ€è¦æœ‰nä¸ªæ—¶é—´ï¼Œä¸è¶³åˆ™éœ€è¦é—²ç½®ï¼Œé—®æœ€å°‘çš„ä»»åŠ¡è°ƒåº¦å®Œæˆæ—¶é—´æ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯ä¸¤ä¸ªç›¸åŒä»»åŠ¡ä¹‹é—´éœ€è¦æœ‰nä¸ªæ—¶é—´ï¼Œä¸è¶³åˆ™éœ€è¦é—²ç½®ï¼Œé—®æœ€å°‘çš„ä»»åŠ¡è°ƒåº¦å®Œæˆæ—¶é—´æ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>æ¯ä¸¤ä¸ªç›¸åŒä»»åŠ¡ä¹‹é—´éœ€è¦æœ‰nä¸ªæ—¶é—´ï¼Œä¸è¶³åˆ™éœ€è¦é—²ç½®ï¼Œé—®æœ€å°‘çš„ä»»åŠ¡è°ƒåº¦å®Œæˆæ—¶é—´æ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/task-scheduler/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: tasks &#x3D; [&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;], n &#x3D; 2</span><br><span class=\"line\">Output: 8</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">A -&gt; B -&gt; idle -&gt; A -&gt; B -&gt; idle -&gt; A -&gt; B</span><br><span class=\"line\">There is at least 2 units of time between any two same tasks.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å †ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">leastInterval</span><span class=\"params\">(self, tasks: List[str], n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    c = Counter(tasks).most_common()</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    c = [(-b, a) <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> c]</span><br><span class=\"line\">    heapq.heapify(c)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> c:</span><br><span class=\"line\">        tmp = [heapq.heappop(c)]</span><br><span class=\"line\">        k = n</span><br><span class=\"line\">        <span class=\"keyword\">while</span> k <span class=\"keyword\">and</span> c:</span><br><span class=\"line\">            tmp.append(heapq.heappop(c))</span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> t, l <span class=\"keyword\">in</span> tmp:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> -t &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">                heapq.heappush(c, (t+<span class=\"number\">1</span>, l))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c:</span><br><span class=\"line\">            ans += k</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + len(tasks)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ„é€ ä¸€ä¸ª<code>M*(n+1)</code>çš„çŸ©é˜µï¼ˆæœ€åä¸€è¡Œå¯èƒ½ä¸æ»¡ï¼‰ï¼Œå°†æœ€å¤šçš„ä»»åŠ¡æ’åœ¨æ¯ä¸€åˆ—ä¸­ã€‚Mctè¡¨ç¤ºæœ€å¤šçš„ä»»åŠ¡æœ‰å¤šå°‘ä¸ªã€‚é‚£ä¹ˆæ€»æ—¶é—´ä¸º<br><br><code>(M-1)(n+1)+Mct</code>ã€‚</font>\n\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy/162_1.png\" class>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy/162_2.png\" class>\n<p>å¦‚æœè¿˜æœ‰ä»»åŠ¡æ²¡æœ‰æ”¾ç½®ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿè¿™æ—¶åªè¦å¢åŠ å®½åº¦ï¼Œå¯¹äºCPUæ¥è¯´ï¼Œç›¸å½“äºæ²¡æœ‰ç©ºé—²æ—¶é—´ï¼Œä¸€ç›´åœ¨æ»¡è´Ÿè½½è¿è¡Œã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy/162_3.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">leastInterval</span><span class=\"params\">(self, tasks: List[str], N: int)</span> -&gt; int:</span></span><br><span class=\"line\">    task_counts = list(collections.Counter(tasks).values())</span><br><span class=\"line\">    M = max(task_counts)</span><br><span class=\"line\">    Mct = task_counts.count(M)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(len(tasks), (M - <span class=\"number\">1</span>) * (N + <span class=\"number\">1</span>) + Mct)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1536-Minimum-Swaps-to-Arrange-a-Binary-Grid\"><a href=\"#1536-Minimum-Swaps-to-Arrange-a-Binary-Grid\" class=\"headerlink\" title=\"1536. Minimum Swaps to Arrange a Binary Grid\"></a>1536. Minimum Swaps to Arrange a Binary Grid</h3><h4 id=\"äºŒç»´çŸ©é˜µï¼Œæ¯æ¬¡æ¢ç›¸é‚»çš„2è¡Œï¼Œæœ€å°æ­¥æ•°ä½¿å·¦ä¸Šå³ä¸‹çš„å¯¹è±¡çº¿ä¸Šæ–¹å…¨æ˜¯0-åŸé¢˜\"><a href=\"#äºŒç»´çŸ©é˜µï¼Œæ¯æ¬¡æ¢ç›¸é‚»çš„2è¡Œï¼Œæœ€å°æ­¥æ•°ä½¿å·¦ä¸Šå³ä¸‹çš„å¯¹è±¡çº¿ä¸Šæ–¹å…¨æ˜¯0-åŸé¢˜\" class=\"headerlink\" title=\"äºŒç»´çŸ©é˜µï¼Œæ¯æ¬¡æ¢ç›¸é‚»çš„2è¡Œï¼Œæœ€å°æ­¥æ•°ä½¿å·¦ä¸Šå³ä¸‹çš„å¯¹è±¡çº¿ä¸Šæ–¹å…¨æ˜¯0.åŸé¢˜\"></a>äºŒç»´çŸ©é˜µï¼Œæ¯æ¬¡æ¢ç›¸é‚»çš„2è¡Œï¼Œæœ€å°æ­¥æ•°ä½¿å·¦ä¸Šå³ä¸‹çš„å¯¹è±¡çº¿ä¸Šæ–¹å…¨æ˜¯0.<a href=\"https://leetcode.com/problems/minimum-swaps-to-arrange-a-binary-grid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒã€‚æ›¾ç»åšè¿‡ä¸€é“ç±»ä¼¼çš„é¢˜ï¼Œæ˜¯æ¯æ¬¡å˜æ¢åå­—å½¢ï¼Œç„¶åæœ€åå˜æˆå…¨æ˜¯0ï¼Œé‚£é“é¢˜ç”¨äº†è½¬æ¢çš„æ–¹å¼ï¼Œå°†æ•°ç»„è½¬æ¢æˆäº†ä¸€ä¸ªäºŒç»´æ•°å­—ã€‚å—åˆ°äº†é‚£é¢˜çš„å½±å“ï¼Œæ¯”èµ›æ—¶æƒ³çš„æ˜¯BFSçš„æ–¹æ³•ï¼Œæ‰€ä»¥æœ€åè¶…æ—¶äº†ã€‚ä¸ºä»€ä¹ˆè´ªå¿ƒçš„æ–¹æ³•å¯è¡Œï¼Œå› ä¸ºæ¯è¡Œæ‰€éœ€çš„ç»“å°¾0çš„ä¸ªæ•°æ˜¯è¶Šæ¥è¶Šå°‘çš„ï¼Œæ‰€ä»¥æ¯æ¬¡å°†æ‰€æ»¡è¶³çš„è¡Œç§»åˆ°æœ€ä¸Šï¼Œä¸‹é¢çš„è¡Œéœ€è¦çš„ä¸ªæ•°ä¸ä¼šè¶…è¿‡æ­¤è¡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSwaps</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(grid)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    tail_zero = [len(list(itertools.takewhile(<span class=\"keyword\">lambda</span> x: x==<span class=\"number\">0</span>, row[::<span class=\"number\">-1</span>]))) </span><br><span class=\"line\">                 <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> grid]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, n):</span><br><span class=\"line\">            tail_zero[i], tail_zero[j] = tail_zero[j], tail_zero[i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> tail_zero[i] &gt;= n-i<span class=\"number\">-1</span>:</span><br><span class=\"line\">                ans += j - i</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"435-Non-overlapping-Intervals\"><a href=\"#435-Non-overlapping-Intervals\" class=\"headerlink\" title=\"435. Non-overlapping Intervals\"></a>435. Non-overlapping Intervals</h3><h4 id=\"åˆ é™¤æœ€å°‘çš„æ®µï¼Œä½¿å‰©ä½™çš„ä¸é‡å¤ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤æœ€å°‘çš„æ®µï¼Œä½¿å‰©ä½™çš„ä¸é‡å¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤æœ€å°‘çš„æ®µï¼Œä½¿å‰©ä½™çš„ä¸é‡å¤ã€‚åŸé¢˜\"></a>åˆ é™¤æœ€å°‘çš„æ®µï¼Œä½¿å‰©ä½™çš„ä¸é‡å¤ã€‚<a href=\"https://leetcode.com/problems/non-overlapping-intervals/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,2],[2,3],[3,4],[1,3]]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: [1,3] can be removed and the rest of intervals are non-overlapping.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ’åºã€‚ä¸€å¼€å§‹æ²¡æœ‰åŠ keyï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„æ¡ä»¶å‘¢ï¼Œå› ä¸ºéœ€è¦æ¯æ¬¡é€‰å–æœ€å°çš„endï¼Œæ‰èƒ½ä¿è¯å®¹çº³æ›´å¤šçš„æ®µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">eraseOverlapIntervals</span><span class=\"params\">(self, intervals: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    intervals.sort(key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">1</span>])</span><br><span class=\"line\">    end, ans = float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> s, e <span class=\"keyword\">in</span> intervals:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s &lt; end:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            end = e</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"134-Gas-Station\"><a href=\"#134-Gas-Station\" class=\"headerlink\" title=\"134. Gas Station\"></a>134. Gas Station</h3><h4 id=\"è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªåŠ æ²¹ç«™ï¼Œæ¯ä¸ªåŠ æ²¹ç«™èƒ½åŠ gas-i-çš„æ²¹é‡ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªç«™éœ€è¦èŠ±è´¹cost-i-çš„æ²¹é‡ï¼Œè¿™äº›åŠ æ²¹ç«™å›´ç»•æˆä¸€ä¸ªåœˆï¼Œåªæœ‰ä»ä¸€ä¸ªç«™èµ°æ‰èƒ½é¡ºæ—¶é’ˆèµ°å®Œä¸€åœˆï¼Œé—®è¿™ä¸ªç«™çš„ç´¢å¼•æ˜¯å¤šå°‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1ã€‚åŸé¢˜\"><a href=\"#è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªåŠ æ²¹ç«™ï¼Œæ¯ä¸ªåŠ æ²¹ç«™èƒ½åŠ gas-i-çš„æ²¹é‡ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªç«™éœ€è¦èŠ±è´¹cost-i-çš„æ²¹é‡ï¼Œè¿™äº›åŠ æ²¹ç«™å›´ç»•æˆä¸€ä¸ªåœˆï¼Œåªæœ‰ä»ä¸€ä¸ªç«™èµ°æ‰èƒ½é¡ºæ—¶é’ˆèµ°å®Œä¸€åœˆï¼Œé—®è¿™ä¸ªç«™çš„ç´¢å¼•æ˜¯å¤šå°‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªåŠ æ²¹ç«™ï¼Œæ¯ä¸ªåŠ æ²¹ç«™èƒ½åŠ gas[i]çš„æ²¹é‡ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªç«™éœ€è¦èŠ±è´¹cost[i]çš„æ²¹é‡ï¼Œè¿™äº›åŠ æ²¹ç«™å›´ç»•æˆä¸€ä¸ªåœˆï¼Œåªæœ‰ä»ä¸€ä¸ªç«™èµ°æ‰èƒ½é¡ºæ—¶é’ˆèµ°å®Œä¸€åœˆï¼Œé—®è¿™ä¸ªç«™çš„ç´¢å¼•æ˜¯å¤šå°‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1ã€‚åŸé¢˜\"></a>è¯´æœ‰è¿™ä¹ˆä¸€ä¸ªåŠ æ²¹ç«™ï¼Œæ¯ä¸ªåŠ æ²¹ç«™èƒ½åŠ gas[i]çš„æ²¹é‡ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªç«™éœ€è¦èŠ±è´¹cost[i]çš„æ²¹é‡ï¼Œè¿™äº›åŠ æ²¹ç«™å›´ç»•æˆä¸€ä¸ªåœˆï¼Œåªæœ‰ä»ä¸€ä¸ªç«™èµ°æ‰èƒ½é¡ºæ—¶é’ˆèµ°å®Œä¸€åœˆï¼Œé—®è¿™ä¸ªç«™çš„ç´¢å¼•æ˜¯å¤šå°‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1ã€‚<a href=\"https://leetcode.com/problems/gas-station/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">gas  &#x3D; [1,2,3,4,5]</span><br><span class=\"line\">cost &#x3D; [3,4,5,1,2]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 3</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Start at station 3 (index 3) and fill up with 4 unit of gas. Your tank &#x3D; 0 + 4 &#x3D; 4</span><br><span class=\"line\">Travel to station 4. Your tank &#x3D; 4 - 1 + 5 &#x3D; 8</span><br><span class=\"line\">Travel to station 0. Your tank &#x3D; 8 - 2 + 1 &#x3D; 7</span><br><span class=\"line\">Travel to station 1. Your tank &#x3D; 7 - 3 + 2 &#x3D; 6</span><br><span class=\"line\">Travel to station 2. Your tank &#x3D; 6 - 4 + 3 &#x3D; 5</span><br><span class=\"line\">Travel to station 3. The cost is 5. Your gas is just enough to travel back to station 3.</span><br><span class=\"line\">Therefore, return 3 as the starting index.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ã€‚æ‰¾åˆ°æ²¹é‡æ¶ˆè€—æœ€å¤šçš„ç‚¹ï¼Œç„¶åè®©å…¶æœ€åç»è¿‡é‚£é‡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canCompleteCircuit</span><span class=\"params\">(self, gas: List[int], cost: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    diff = [a-b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(gas, cost)]</span><br><span class=\"line\">    acc = list(itertools.accumulate(diff))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> sum(diff) &lt; <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    ans = acc.index(min(acc)) + <span class=\"number\">1</span> </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> ans &lt; len(gas) <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•éå†ä¸€æ¬¡ï¼Œone-passï¼Œæƒ³æƒ³åŸç†å…¶å®ä¸€æ ·ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canCompleteCircuit</span><span class=\"params\">(self, gas: List[int], cost: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    gas_left = gas_needed = start = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (g, c) <span class=\"keyword\">in</span> enumerate(zip(gas, cost)):</span><br><span class=\"line\">        gas_left += g - c</span><br><span class=\"line\">        <span class=\"keyword\">if</span> gas_left &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            gas_needed -= gas_left</span><br><span class=\"line\">            start = i + <span class=\"number\">1</span></span><br><span class=\"line\">            gas_left = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> start <span class=\"keyword\">if</span> gas_left &gt;= gas_needed <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1558-Minimum-Numbers-of-Function-Calls-to-Make-Target-Array\"><a href=\"#1558-Minimum-Numbers-of-Function-Calls-to-Make-Target-Array\" class=\"headerlink\" title=\"1558. Minimum Numbers of Function Calls to Make Target Array\"></a>1558. Minimum Numbers of Function Calls to Make Target Array</h3><h4 id=\"æœ€å°æ­¥éª¤èƒ½å°†å…¨æ˜¯0çš„æ•°ç»„å˜ä¸ºç›®æ ‡æ•°ç»„ã€‚æ¯æ­¥å¯ä»¥é€‰æ‹©ä¸€ä¸ªå…ƒç´ -1ï¼Œæˆ–è€…æ‰€æœ‰å…ƒç´ -2ã€‚åŸé¢˜\"><a href=\"#æœ€å°æ­¥éª¤èƒ½å°†å…¨æ˜¯0çš„æ•°ç»„å˜ä¸ºç›®æ ‡æ•°ç»„ã€‚æ¯æ­¥å¯ä»¥é€‰æ‹©ä¸€ä¸ªå…ƒç´ -1ï¼Œæˆ–è€…æ‰€æœ‰å…ƒç´ -2ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°æ­¥éª¤èƒ½å°†å…¨æ˜¯0çš„æ•°ç»„å˜ä¸ºç›®æ ‡æ•°ç»„ã€‚æ¯æ­¥å¯ä»¥é€‰æ‹©ä¸€ä¸ªå…ƒç´ +1ï¼Œæˆ–è€…æ‰€æœ‰å…ƒç´ *2ã€‚åŸé¢˜\"></a>æœ€å°æ­¥éª¤èƒ½å°†å…¨æ˜¯0çš„æ•°ç»„å˜ä¸ºç›®æ ‡æ•°ç»„ã€‚æ¯æ­¥å¯ä»¥é€‰æ‹©ä¸€ä¸ªå…ƒç´ +1ï¼Œæˆ–è€…æ‰€æœ‰å…ƒç´ *2ã€‚<a href=\"https://leetcode.com/problems/minimum-numbers-of-function-calls-to-make-target-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,5]</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: Increment by 1 (second element): [0, 0] to get [0, 1] (1 operation).</span><br><span class=\"line\">Double all the elements: [0, 1] -&gt; [0, 2] -&gt; [0, 4] (2 operations).</span><br><span class=\"line\">Increment by 1 (both elements)  [0, 4] -&gt; [1, 4] -&gt; [1, 5] (2 operations).</span><br><span class=\"line\">Total of operations: 1 + 2 + 2 &#x3D; 5.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æƒ³åˆ°äº†è¿™ä¸ªæ–¹æ³•ï¼Œä»åå¾€å‰ç®—ï¼Œç„¶åå°½é‡/2ï¼Œä½†æ˜¯æ„Ÿè§‰ä¼šè¶…æ—¶ï¼Œæ‰€ä»¥æ²¡æœ‰æäº¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperations</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    d = nums.index(max(nums))</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i]&amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">                nums[i] -= <span class=\"number\">1</span></span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[d] == <span class=\"number\">0</span>: <span class=\"keyword\">break</span></span><br><span class=\"line\">        nums = [n//<span class=\"number\">2</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums]</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># print(nums, ans)</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å·®ä¸€ç‚¹æƒ³å‡ºæ¥ï¼Œæ²¡æƒ³åˆ°ç”¨äºŒè¿›åˆ¶æ—¶å¯ä»¥çœ‹åˆ°è§„å¾‹ï¼Œ/2çš„æ“ä½œå¯ä»¥è¢«å…±äº«ï¼Œè¿™ç‚¹æˆ‘ä¹Ÿæƒ³åˆ°äº†ï¼Œå…¶å®æ˜¯æœ€å¤§æ•°çš„äºŒè¿›åˆ¶é•¿åº¦-1ï¼Œè€Œ-1çš„æ“ä½œå°±æ˜¯æ¯ä¸ªæ•°å­—æœ‰å¤šå°‘ä¸ª1ï¼Œè¿™ç‚¹æ²¡æœ‰æƒ³åˆ°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperations</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(bin(a).count(<span class=\"string\">'1'</span>) <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> A) + len(format(max(A), <span class=\"string\">'b'</span>)) - <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1568-Minimum-Number-of-Days-to-Disconnect-Island\"><a href=\"#1568-Minimum-Number-of-Days-to-Disconnect-Island\" class=\"headerlink\" title=\"1568. Minimum Number of Days to Disconnect Island\"></a>1568. Minimum Number of Days to Disconnect Island</h3><h4 id=\"æŠŠåˆšå¥½å­˜åœ¨ä¸€ä¸ªå²›å±¿å˜æˆ2ä¸ªæˆ–æ²¡æœ‰ï¼Œæœ€å°‘éœ€è¦å‡ æ­¥ã€‚æ¯æ­¥å¯ä»¥æ²‰æ²¡ä¸€ä¸ªæ ¼å­ã€‚åŸé¢˜\"><a href=\"#æŠŠåˆšå¥½å­˜åœ¨ä¸€ä¸ªå²›å±¿å˜æˆ2ä¸ªæˆ–æ²¡æœ‰ï¼Œæœ€å°‘éœ€è¦å‡ æ­¥ã€‚æ¯æ­¥å¯ä»¥æ²‰æ²¡ä¸€ä¸ªæ ¼å­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŠŠåˆšå¥½å­˜åœ¨ä¸€ä¸ªå²›å±¿å˜æˆ2ä¸ªæˆ–æ²¡æœ‰ï¼Œæœ€å°‘éœ€è¦å‡ æ­¥ã€‚æ¯æ­¥å¯ä»¥æ²‰æ²¡ä¸€ä¸ªæ ¼å­ã€‚åŸé¢˜\"></a>æŠŠåˆšå¥½å­˜åœ¨ä¸€ä¸ªå²›å±¿å˜æˆ2ä¸ªæˆ–æ²¡æœ‰ï¼Œæœ€å°‘éœ€è¦å‡ æ­¥ã€‚æ¯æ­¥å¯ä»¥æ²‰æ²¡ä¸€ä¸ªæ ¼å­ã€‚<a href=\"https://leetcode.com/problems/minimum-number-of-days-to-disconnect-island/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[0,1,1,0],[0,1,1,0],[0,0,0,0]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: We need at least 2 days to get a disconnected grid.</span><br><span class=\"line\">Change land grid[1][1] and grid[0][2] to water and get 2 disconnected island.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜éœ€è¦æƒ³æ˜ç™½ä¸€ä»¶äº‹ï¼Œå¯¹äºä»»æ„çš„å²›å±¿ï¼Œæˆ‘æ‰¾ä¸€ä¸ªè§’æ²‰æ²¡å®ƒæ—è¾¹ä¸¤ä¸ªï¼Œå°±èƒ½å°†å…¶å˜æˆä¸€ä¸ªå•ç‹¬çš„å²›å±¿ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ æœ€å¤šéœ€è¦2æ­¥å°±è¡Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDays</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(g)</span>:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sink</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> g[i][j]:</span><br><span class=\"line\">                g[i][j] = <span class=\"number\">0</span></span><br><span class=\"line\">                list(map(sink, (i, i, i+<span class=\"number\">1</span>, i<span class=\"number\">-1</span>), (j+<span class=\"number\">1</span>, j<span class=\"number\">-1</span>, j, j)))        </span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(sink(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n))</span><br><span class=\"line\">    </span><br><span class=\"line\">    cnt_g = count(copy.deepcopy(grid))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> cnt_g == <span class=\"number\">0</span> <span class=\"keyword\">or</span> cnt_g &gt; <span class=\"number\">1</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            tmp_g = copy.deepcopy(grid)</span><br><span class=\"line\">            tmp_g[i][j] = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> count(tmp_g)!=<span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸ç”¨æ·±æ‹·è´ï¼Œç”¨é›†åˆåˆ¤æ–­ç‚¹æ˜¯å¦é‡å¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDays</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(g)</span>:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sink</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> (i, j) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> g[i][j]:</span><br><span class=\"line\">                seen.add((i, j))</span><br><span class=\"line\">                list(map(sink, (i, i, i+<span class=\"number\">1</span>, i<span class=\"number\">-1</span>), (j+<span class=\"number\">1</span>, j<span class=\"number\">-1</span>, j, j)))        </span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(sink(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n))</span><br><span class=\"line\">    </span><br><span class=\"line\">    cnt_g = count(grid)</span><br><span class=\"line\">    seen.clear()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> cnt_g == <span class=\"number\">0</span> <span class=\"keyword\">or</span> cnt_g &gt; <span class=\"number\">1</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> grid[i][j]:</span><br><span class=\"line\">                grid[i][j] = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> count(grid)!=<span class=\"number\">1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">                grid[i][j] = <span class=\"number\">1</span></span><br><span class=\"line\">                seen.clear()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1567-Maximum-Length-of-Subarray-With-Positive-Product\"><a href=\"#1567-Maximum-Length-of-Subarray-With-Positive-Product\" class=\"headerlink\" title=\"1567. Maximum Length of Subarray With Positive Product\"></a>1567. Maximum Length of Subarray With Positive Product</h3><h4 id=\"æœ€é•¿çš„å­æ•°ç»„ç´¯ä¹˜ä¸ºæ­£æ•°ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„å­æ•°ç»„ç´¯ä¹˜ä¸ºæ­£æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„å­æ•°ç»„ç´¯ä¹˜ä¸ºæ­£æ•°ã€‚åŸé¢˜\"></a>æœ€é•¿çš„å­æ•°ç»„ç´¯ä¹˜ä¸ºæ­£æ•°ã€‚<a href=\"https://leetcode.com/problems/maximum-length-of-subarray-with-positive-product/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,-2,-3,4]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: The array nums already has a positive product of 24.</span><br><span class=\"line\">Input: nums &#x3D; [0,1,-2,-3,-4]</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶çš„æ–¹æ³•ã€‚è¿™é¢˜ä½œä¸ºç«èµ›ç¬¬äºŒé¢˜æœ‰ç‚¹ç¨éš¾ï¼Œä½†è¿˜æ˜¯å®Œæˆäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMaxLen</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># [1, 0, -2, 4, 3, 1]</span></span><br><span class=\"line\">    start = ans = <span class=\"number\">0</span></span><br><span class=\"line\">    flag = <span class=\"number\">1</span></span><br><span class=\"line\">    q = collections.deque()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[end] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            start = end+<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> flag:</span><br><span class=\"line\">                ans = max(ans, end-start)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans = max(ans, end-q[<span class=\"number\">0</span>]<span class=\"number\">-1</span>)</span><br><span class=\"line\">            q.clear()</span><br><span class=\"line\">            flag = <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[end] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">pass</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            q.append(end)</span><br><span class=\"line\">            flag ^= <span class=\"number\">1</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> flag:</span><br><span class=\"line\">            ans = max(ans, end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = max(ans, end-q[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š0è¿™ä¸ªå…ƒç´ ä¸æ˜¯å¾ˆå¥½åˆ¤æ–­ï¼Œæ‰€ä»¥å…ˆå°†æ•°ç»„ä»¥0åˆ†å‰²ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMaxLen</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    trip_zeros = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> trip_zeros: trip_zeros[<span class=\"number\">-1</span>].append(num)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>: trip_zeros.append([num])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            trip_zeros.append([])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(arr)</span>:</span></span><br><span class=\"line\">        start = ans = <span class=\"number\">0</span></span><br><span class=\"line\">        left_neg = <span class=\"literal\">None</span></span><br><span class=\"line\">        pos = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> range(len(arr)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> arr[end] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> left_neg <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                    left_neg = end</span><br><span class=\"line\">                pos ^= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> pos:</span><br><span class=\"line\">                ans = max(ans, end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans = max(ans, end-left_neg)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(map(count, trip_zeros))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šdpæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æœ‰ç”¨ï¼Œæœ‰ä¸€é“dpçš„ç±»ä¼¼é¢˜ï¼Œ152å·é¢˜ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMaxLen</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    pos, neg = [<span class=\"number\">0</span>] * n, [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">if</span> nums[<span class=\"number\">0</span>] &gt; <span class=\"number\">0</span>: pos[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> nums[<span class=\"number\">0</span>] &lt; <span class=\"number\">0</span>: neg[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    ans = pos[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            pos[i] = <span class=\"number\">1</span> + pos[i - <span class=\"number\">1</span>]</span><br><span class=\"line\">            neg[i] = (<span class=\"number\">1</span> + neg[i - <span class=\"number\">1</span>]) * (neg[i - <span class=\"number\">1</span>] != <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[i] &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            pos[i] = (<span class=\"number\">1</span> + neg[i - <span class=\"number\">1</span>]) * (neg[i - <span class=\"number\">1</span>] != <span class=\"number\">0</span>)</span><br><span class=\"line\">            neg[i] = <span class=\"number\">1</span> + pos[i - <span class=\"number\">1</span>]</span><br><span class=\"line\">        ans = max(ans, pos[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"881-Boats-to-Save-People\"><a href=\"#881-Boats-to-Save-People\" class=\"headerlink\" title=\"881. Boats to Save People\"></a>881. Boats to Save People</h3><h4 id=\"æœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹æ•‘äººã€‚å°èˆ¹é™é‡ä¸ºlimitï¼Œæœ€å¤šèƒ½è£…ä¿©äººã€‚æ ¹æ®äººçš„é‡é‡ï¼Œæœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹ã€‚åŸé¢˜\"><a href=\"#æœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹æ•‘äººã€‚å°èˆ¹é™é‡ä¸ºlimitï¼Œæœ€å¤šèƒ½è£…ä¿©äººã€‚æ ¹æ®äººçš„é‡é‡ï¼Œæœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹æ•‘äººã€‚å°èˆ¹é™é‡ä¸ºlimitï¼Œæœ€å¤šèƒ½è£…ä¿©äººã€‚æ ¹æ®äººçš„é‡é‡ï¼Œæœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹ã€‚åŸé¢˜\"></a>æœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹æ•‘äººã€‚å°èˆ¹é™é‡ä¸ºlimitï¼Œæœ€å¤šèƒ½è£…ä¿©äººã€‚æ ¹æ®äººçš„é‡é‡ï¼Œæœ€å°‘éœ€è¦å¤šå°‘å°èˆ¹ã€‚<a href=\"https://leetcode.com/problems/boats-to-save-people/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: people &#x3D; [3,2,2,1], limit &#x3D; 3</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 boats (1, 2), (2) and (3)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæŠ±ç€è¶…æ—¶çš„å¿ƒæ€æäº¤ï¼Œå±…ç„¶acäº†ã€‚ä½†æ˜¯å¤ªæ…¢äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numRescueBoats</span><span class=\"params\">(self, people: List[int], limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    c = Counter(people)</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, limit+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> c[i]&gt;<span class=\"number\">0</span>:</span><br><span class=\"line\">            c[i] -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            p = limit - i</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(p, i<span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> c[j]:</span><br><span class=\"line\">                    c[j] -= <span class=\"number\">1</span></span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¦ä»è‚¥çš„äººè€ƒè™‘ï¼Œè¿™æ ·ç®€å•ä¸€äº›ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numRescueBoats</span><span class=\"params\">(self, people: List[int], limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    q = collections.deque(sorted(people, reverse=<span class=\"literal\">True</span>))</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        fat = q.popleft()</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> q <span class=\"keyword\">and</span> q[<span class=\"number\">-1</span>] + fat &lt;= limit:</span><br><span class=\"line\">            q.pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šç”¨æŒ‡é’ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numRescueBoats</span><span class=\"params\">(self, p: List[int], limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    p.sort()</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    i, j = <span class=\"number\">0</span>, len(p)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= j:</span><br><span class=\"line\">        fat = p[j]</span><br><span class=\"line\">        j -= <span class=\"number\">1</span></span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> fat+p[i] &lt;= limit:</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šLeeçš„æ–¹æ³•ï¼Œç”¨iè¡¨ç¤ºAnsã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numRescueBoats</span><span class=\"params\">(self, p: List[int], limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    p.sort(reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    i, j = <span class=\"number\">0</span>, len(p)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= j:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> p[j]+p[i] &lt;= limit:</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> i</span><br></pre></td></tr></table></figure>\n<h3 id=\"1405-Longest-Happy-String\"><a href=\"#1405-Longest-Happy-String\" class=\"headerlink\" title=\"1405. Longest Happy String\"></a>1405. Longest Happy String</h3><h4 id=\"æœ€é•¿çš„æ¬¢ä¹å­—ç¬¦ä¸²ï¼Œæœ‰â€™abcâ€™3ä¸ªå­—ç¬¦ç»„æˆï¼Œå¹¶ä¸”ä¸å­˜åœ¨â€™aaaâ€™è¿™ç§ä¸‰è¿çš„æƒ…å†µã€‚ç»™å®šæ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œé—®æœ€é•¿å¯ä»¥ç”Ÿæˆå¤šé•¿çš„è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„æ¬¢ä¹å­—ç¬¦ä¸²ï¼Œæœ‰â€™abcâ€™3ä¸ªå­—ç¬¦ç»„æˆï¼Œå¹¶ä¸”ä¸å­˜åœ¨â€™aaaâ€™è¿™ç§ä¸‰è¿çš„æƒ…å†µã€‚ç»™å®šæ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œé—®æœ€é•¿å¯ä»¥ç”Ÿæˆå¤šé•¿çš„è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„æ¬¢ä¹å­—ç¬¦ä¸²ï¼Œæœ‰â€™abcâ€™3ä¸ªå­—ç¬¦ç»„æˆï¼Œå¹¶ä¸”ä¸å­˜åœ¨â€™aaaâ€™è¿™ç§ä¸‰è¿çš„æƒ…å†µã€‚ç»™å®šæ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œé—®æœ€é•¿å¯ä»¥ç”Ÿæˆå¤šé•¿çš„è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æœ€é•¿çš„æ¬¢ä¹å­—ç¬¦ä¸²ï¼Œæœ‰â€™abcâ€™3ä¸ªå­—ç¬¦ç»„æˆï¼Œå¹¶ä¸”ä¸å­˜åœ¨â€™aaaâ€™è¿™ç§ä¸‰è¿çš„æƒ…å†µã€‚ç»™å®šæ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œé—®æœ€é•¿å¯ä»¥ç”Ÿæˆå¤šé•¿çš„è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/longest-happy-string/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: a &#x3D; 1, b &#x3D; 1, c &#x3D; 7</span><br><span class=\"line\">Output: &quot;ccaccbcc&quot;</span><br><span class=\"line\">Explanation: &quot;ccbccacc&quot; would also be a correct answer.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”¨æœ€å¤§å †å®ç°ï¼Œæ³¨æ„è¿™é‡Œé€‰æ‹©ç¬¬äºŒå¤šå…ƒç´ æ—¶è¦æ·»åŠ ä¸€ä¸ªå­—ç¬¦ï¼Œå› ä¸ºæœ‰æ—¶å€™ç¬¬äºŒä¸ªå­—ç¬¦å¯èƒ½ä¸å¤Ÿåˆ†å‰²ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestDiverseString</span><span class=\"params\">(self, a: int, b: int, c: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    lt = [(-a, <span class=\"string\">'a'</span>), (-b, <span class=\"string\">'b'</span>), (-c, <span class=\"string\">'c'</span>)]</span><br><span class=\"line\">    heapq.heapify(lt)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lt:</span><br><span class=\"line\">        max_d, char = heapq.heappop(lt)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ans[<span class=\"number\">-2</span>:]==char*<span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> lt:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            snd_d, char2 = heapq.heappop(lt)</span><br><span class=\"line\">            ans += char2*min(-snd_d, <span class=\"number\">1</span>)</span><br><span class=\"line\">            snd_d += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> snd_d &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                heapq.heappush(lt, (snd_d, char2))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += char*min(-max_d, <span class=\"number\">2</span>)</span><br><span class=\"line\">            max_d += <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> max_d &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            heapq.heappush(lt, (max_d, char))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"870-Advantage-Shuffle\"><a href=\"#870-Advantage-Shuffle\" class=\"headerlink\" title=\"870. Advantage Shuffle\"></a>870. Advantage Shuffle</h3><h4 id=\"å°†Aé‡æ–°æ’åºï¼Œä½¿å¾—å¯¹åº”ä½ç½®-gt-Bçš„æ•°å°½å¯èƒ½åœ°å¤šã€‚åŸé¢˜\"><a href=\"#å°†Aé‡æ–°æ’åºï¼Œä½¿å¾—å¯¹åº”ä½ç½®-gt-Bçš„æ•°å°½å¯èƒ½åœ°å¤šã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†Aé‡æ–°æ’åºï¼Œä½¿å¾—å¯¹åº”ä½ç½®&gt;Bçš„æ•°å°½å¯èƒ½åœ°å¤šã€‚åŸé¢˜\"></a>å°†Aé‡æ–°æ’åºï¼Œä½¿å¾—å¯¹åº”ä½ç½®&gt;Bçš„æ•°å°½å¯èƒ½åœ°å¤šã€‚<a href=\"https://leetcode.com/problems/advantage-shuffle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [2,7,11,15], B &#x3D; [1,10,4,11]</span><br><span class=\"line\">Output: [2,11,7,15]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆç›´è§‚çš„è´ªå¿ƒç®—æ³•ã€‚å°†ABæ’åºã€‚æ¯æ¬¡æ‹¿å‡ºæœ€å¤§çš„å’ŒBæœ€å¤§çš„æ¯”ï¼Œå¦‚æœæ¯”ä¸è¿‡ï¼Œå°±æ‹¿æœ€å°çš„é¡¶ä¸Šã€‚ç±»ä¼¼äºç”°å¿Œèµ›é©¬ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">advantageCount</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    q = collections.deque(sorted(A))</span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * len(A)</span><br><span class=\"line\">    B = reversed(sorted((b, i) <span class=\"keyword\">for</span> i, b <span class=\"keyword\">in</span> enumerate(B)))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> b, i <span class=\"keyword\">in</span> B:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> q[<span class=\"number\">-1</span>] &lt;= b:</span><br><span class=\"line\">            ans[i] = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans[i] = q.pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å¾ˆæ–°é¢–ï¼ŒæŠŠèƒ½èµ¢çš„ä½ç½®æ”¾åˆ°takeä¸­ã€‚ç„¶åAä¼šå‰©ä¸‹ä¸€éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†é¡ºåºå·²ç»æ— æ‰€è°“äº†ï¼Œæ‰€ä»¥å½“takeä¸åˆ°æ—¶ï¼Œå°±ä»Aéšä¾¿è¿”å›ä¸€ä¸ªå°±è¡Œäº†</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">advantageCount</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    A.sort()</span><br><span class=\"line\">    take = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> sorted(B, reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> b &lt; A[<span class=\"number\">-1</span>]: take[b].append(A.pop())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [(take[b] <span class=\"keyword\">or</span> A).pop() <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> B]</span><br></pre></td></tr></table></figure>\n<h3 id=\"861-Score-After-Flipping-Matrix\"><a href=\"#861-Score-After-Flipping-Matrix\" class=\"headerlink\" title=\"861. Score After Flipping Matrix\"></a>861. Score After Flipping Matrix</h3><h4 id=\"ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå¯ä»¥æŒ‰è¡Œï¼Œåˆ—ç¿»è½¬ï¼Œé—®æœ€å¤§æ¯è¡Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå¯ä»¥æŒ‰è¡Œï¼Œåˆ—ç¿»è½¬ï¼Œé—®æœ€å¤§æ¯è¡Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå¯ä»¥æŒ‰è¡Œï¼Œåˆ—ç¿»è½¬ï¼Œé—®æœ€å¤§æ¯è¡Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå¯ä»¥æŒ‰è¡Œï¼Œåˆ—ç¿»è½¬ï¼Œé—®æœ€å¤§æ¯è¡Œå’Œæ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/score-after-flipping-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[0,0,1,1],[1,0,1,0],[1,1,0,0]]</span><br><span class=\"line\">Output: 39</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Toggled to [[1,1,1,1],[1,0,0,1],[1,1,1,1]].</span><br><span class=\"line\">0b1111 + 0b1001 + 0b1111 &#x3D; 15 + 9 + 15 &#x3D; 39</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒï¼Œé¦–å…ˆä¿è¯è¡Œé¦–ä½æ˜¯1ï¼Œç„¶ååˆ—ç¿»è½¬æ—¶ä¿è¯å¤šä½™ä¸€åŠ1.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">matrixScore</span><span class=\"params\">(self, A: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    m, n = len(A), len(A[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i][<span class=\"number\">0</span>] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            A[i] = [A[i][j]^<span class=\"number\">1</span> <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, cols <span class=\"keyword\">in</span> enumerate(list(zip(*A))[::<span class=\"number\">-1</span>]):</span><br><span class=\"line\">        ans += <span class=\"number\">2</span>**i * max(sum(cols), m-sum(cols))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLee215çš„æ–¹æ³•ã€‚é¦–å…ˆä¿è¯è¡Œé¦–æ˜¯1ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®é™…ç¿»è¿‡æ¥ï¼Œååºé€šè¿‡è·Ÿè¡Œé¦–æ¯”è¾ƒï¼Œåˆ¤æ–­ç¿»è¿‡åçš„å€¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">matrixScore</span><span class=\"params\">(self, A: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    M, N = len(A), len(A[<span class=\"number\">0</span>])</span><br><span class=\"line\">    ans = (<span class=\"number\">1</span> &lt;&lt; N<span class=\"number\">-1</span>) * M</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N):</span><br><span class=\"line\">        cur = sum(A[i][j]==A[i][<span class=\"number\">0</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M))</span><br><span class=\"line\">        ans += max(cur, M-cur) * (<span class=\"number\">1</span> &lt;&lt; N<span class=\"number\">-1</span>-j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"452-Minimum-Number-of-Arrows-to-Burst-Balloons\"><a href=\"#452-Minimum-Number-of-Arrows-to-Burst-Balloons\" class=\"headerlink\" title=\"452. Minimum Number of Arrows to Burst Balloons\"></a><a href=\"https://leetcode.com/problems/minimum-number-of-arrows-to-burst-balloons/\" target=\"_blank\" rel=\"noopener\">452. Minimum Number of Arrows to Burst Balloons</a></h3><h4 id=\"æœ‰å¾ˆå¤šä¸ªæ°”çƒç»‘åœ¨äº†æ°´å¹³çº¿ä¸Šï¼Œç»™äº†è¿™äº›æ°”çƒçš„start-endè¡¨ç¤ºå’Œæ°´å¹³çº¿ç›¸äº¤çš„ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªé£é•–æ‰èƒ½å°†æ‰€æœ‰æ°”çƒæ‰åã€‚\"><a href=\"#æœ‰å¾ˆå¤šä¸ªæ°”çƒç»‘åœ¨äº†æ°´å¹³çº¿ä¸Šï¼Œç»™äº†è¿™äº›æ°”çƒçš„start-endè¡¨ç¤ºå’Œæ°´å¹³çº¿ç›¸äº¤çš„ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªé£é•–æ‰èƒ½å°†æ‰€æœ‰æ°”çƒæ‰åã€‚\" class=\"headerlink\" title=\"æœ‰å¾ˆå¤šä¸ªæ°”çƒç»‘åœ¨äº†æ°´å¹³çº¿ä¸Šï¼Œç»™äº†è¿™äº›æ°”çƒçš„start, endè¡¨ç¤ºå’Œæ°´å¹³çº¿ç›¸äº¤çš„ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªé£é•–æ‰èƒ½å°†æ‰€æœ‰æ°”çƒæ‰åã€‚\"></a>æœ‰å¾ˆå¤šä¸ªæ°”çƒç»‘åœ¨äº†æ°´å¹³çº¿ä¸Šï¼Œç»™äº†è¿™äº›æ°”çƒçš„start, endè¡¨ç¤ºå’Œæ°´å¹³çº¿ç›¸äº¤çš„ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªé£é•–æ‰èƒ½å°†æ‰€æœ‰æ°”çƒæ‰åã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[[10,16], [2,8], [1,6], [7,12]]</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">2</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">One way is to shoot one arrow for example at x &#x3D; 6 (bursting the balloons [2,8] and [1,6]) and another arrow at x &#x3D; 11 (bursting the other two balloons).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒæ³•ï¼Œå°½é‡æ‰å¤šç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMinArrowShots</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    points.sort(key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">1</span>], reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> points:</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        s, e = points.pop()</span><br><span class=\"line\">        <span class=\"keyword\">while</span> points <span class=\"keyword\">and</span> points[<span class=\"number\">-1</span>][<span class=\"number\">0</span>]&lt;=e:</span><br><span class=\"line\">            points.pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šforå¾ªç¯ä¹Ÿå¯ä»¥ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMinArrowShots</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, e = <span class=\"number\">0</span>, float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> start, end <span class=\"keyword\">in</span> sorted(points, key=itemgetter(<span class=\"number\">1</span>)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> start &gt; e:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            e = end</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1589-Maximum-Sum-Obtained-of-Any-Permutation\"><a href=\"#1589-Maximum-Sum-Obtained-of-Any-Permutation\" class=\"headerlink\" title=\"1589. Maximum Sum Obtained of Any Permutation\"></a><a href=\"https://leetcode.com/problems/maximum-sum-obtained-of-any-permutation/\" target=\"_blank\" rel=\"noopener\">1589. Maximum Sum Obtained of Any Permutation</a></h3><h4 id=\"è¯´è¦æŸ¥è¯¢æŸä¸€æ®µï¼Œè¿›è¡Œnæ¬¡æŸ¥è¯¢ï¼Œé—®å°†æ•°ç»„å¦‚ä½•æ’åˆ—èƒ½ä½¿çº¿æ®µçš„æ€»å’Œæœ€å¤§ã€‚\"><a href=\"#è¯´è¦æŸ¥è¯¢æŸä¸€æ®µï¼Œè¿›è¡Œnæ¬¡æŸ¥è¯¢ï¼Œé—®å°†æ•°ç»„å¦‚ä½•æ’åˆ—èƒ½ä½¿çº¿æ®µçš„æ€»å’Œæœ€å¤§ã€‚\" class=\"headerlink\" title=\"è¯´è¦æŸ¥è¯¢æŸä¸€æ®µï¼Œè¿›è¡Œnæ¬¡æŸ¥è¯¢ï¼Œé—®å°†æ•°ç»„å¦‚ä½•æ’åˆ—èƒ½ä½¿çº¿æ®µçš„æ€»å’Œæœ€å¤§ã€‚\"></a>è¯´è¦æŸ¥è¯¢æŸä¸€æ®µï¼Œè¿›è¡Œnæ¬¡æŸ¥è¯¢ï¼Œé—®å°†æ•°ç»„å¦‚ä½•æ’åˆ—èƒ½ä½¿çº¿æ®µçš„æ€»å’Œæœ€å¤§ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ç«èµ›æ—¶æ²¡åšå‡ºæ¥ï¼Œå¿ƒæ€å´©äº†ã€‚ä¸çŸ¥é“æ€ä¹ˆæ„é€ ä¸€ä¸ªå¯¹çº¿æ®µçš„è®¡æ•°ï¼Œç”¨Counterè¶…æ—¶äº†ã€‚å‰©ä¸‹çš„ä¸€å°æ—¶å°±æ˜¯æ‹¼å‘½åœ°æ„é€ ä¸€ä¸ªä¸é‡å¤çš„çº¿æ®µtupleï¼Œæœ€åä¹Ÿæ²¡å®Œæˆã€‚æ­£ç¡®çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œåœ¨çº¿æ®µçš„èµ·ç‚¹+1ï¼Œç»“æŸç‚¹åä¸€ä½-1ï¼Œè¿™æ ·åœ¨ç´¯åŠ çš„æ—¶å€™å°±ä¼šæŠŠè¿™æ®µ1éƒ½ç®—å‡ºæ¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumRangeQuery</span><span class=\"params\">(self, nums: List[int], requests: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    imos = [<span class=\"number\">0</span>] * (n + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> l, r <span class=\"keyword\">in</span> requests:</span><br><span class=\"line\">        imos[l] += <span class=\"number\">1</span></span><br><span class=\"line\">        imos[r + <span class=\"number\">1</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        imos[i+<span class=\"number\">1</span>] += imos[i]</span><br><span class=\"line\">    <span class=\"keyword\">del</span> imos[<span class=\"number\">-1</span>]</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> zip(sorted(nums), sorted(imos)):</span><br><span class=\"line\">        ans += i * v</span><br><span class=\"line\">        ans %= <span class=\"number\">10</span> ** <span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1599-Maximum-Profit-of-Operating-a-Centennial-Wheel\"><a href=\"#1599-Maximum-Profit-of-Operating-a-Centennial-Wheel\" class=\"headerlink\" title=\"1599. Maximum Profit of Operating a Centennial Wheel\"></a><a href=\"https://leetcode.com/problems/maximum-profit-of-operating-a-centennial-wheel/\" target=\"_blank\" rel=\"noopener\">1599. Maximum Profit of Operating a Centennial Wheel</a></h3><h4 id=\"è¿™é¢˜çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½œä¸ºç«èµ›ç¬¬äºŒé¢˜è¿˜ç®—å¯ä»¥ã€‚æœ‰è¿™æ ·ä¸€ä¸ªæ‘©å¤©è½®ï¼Œä¸€æ¬¡åªèƒ½ä¸Š4ä¸ªäººï¼Œè½¬ä¸€æ¬¡è¦èŠ±è´¹runningCostï¼Œé—¨ç¥¨boardingCostã€‚ç»™å®šä¸€ä¸ªæ¸¸å®¢æ—¶é—´äººæ•°é˜Ÿåˆ—ï¼Œé—®æœ€å¤§åˆ©æ¶¦æ—¶åœ¨ç¬¬å‡ è½®ï¼ˆæ‘©å¤©è½®è½¬äº†å¤šå°‘åœˆï¼‰ã€‚\"><a href=\"#è¿™é¢˜çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½œä¸ºç«èµ›ç¬¬äºŒé¢˜è¿˜ç®—å¯ä»¥ã€‚æœ‰è¿™æ ·ä¸€ä¸ªæ‘©å¤©è½®ï¼Œä¸€æ¬¡åªèƒ½ä¸Š4ä¸ªäººï¼Œè½¬ä¸€æ¬¡è¦èŠ±è´¹runningCostï¼Œé—¨ç¥¨boardingCostã€‚ç»™å®šä¸€ä¸ªæ¸¸å®¢æ—¶é—´äººæ•°é˜Ÿåˆ—ï¼Œé—®æœ€å¤§åˆ©æ¶¦æ—¶åœ¨ç¬¬å‡ è½®ï¼ˆæ‘©å¤©è½®è½¬äº†å¤šå°‘åœˆï¼‰ã€‚\" class=\"headerlink\" title=\"è¿™é¢˜çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½œä¸ºç«èµ›ç¬¬äºŒé¢˜è¿˜ç®—å¯ä»¥ã€‚æœ‰è¿™æ ·ä¸€ä¸ªæ‘©å¤©è½®ï¼Œä¸€æ¬¡åªèƒ½ä¸Š4ä¸ªäººï¼Œè½¬ä¸€æ¬¡è¦èŠ±è´¹runningCostï¼Œé—¨ç¥¨boardingCostã€‚ç»™å®šä¸€ä¸ªæ¸¸å®¢æ—¶é—´äººæ•°é˜Ÿåˆ—ï¼Œé—®æœ€å¤§åˆ©æ¶¦æ—¶åœ¨ç¬¬å‡ è½®ï¼ˆæ‘©å¤©è½®è½¬äº†å¤šå°‘åœˆï¼‰ã€‚\"></a>è¿™é¢˜çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½œä¸ºç«èµ›ç¬¬äºŒé¢˜è¿˜ç®—å¯ä»¥ã€‚æœ‰è¿™æ ·ä¸€ä¸ªæ‘©å¤©è½®ï¼Œä¸€æ¬¡åªèƒ½ä¸Š4ä¸ªäººï¼Œè½¬ä¸€æ¬¡è¦èŠ±è´¹runningCostï¼Œé—¨ç¥¨boardingCostã€‚ç»™å®šä¸€ä¸ªæ¸¸å®¢æ—¶é—´äººæ•°é˜Ÿåˆ—ï¼Œé—®æœ€å¤§åˆ©æ¶¦æ—¶åœ¨ç¬¬å‡ è½®ï¼ˆæ‘©å¤©è½®è½¬äº†å¤šå°‘åœˆï¼‰ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶çš„ç­”æ¡ˆæ“¦è¾¹è¿‡çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperationsMaxProfit</span><span class=\"params\">(self, cust: List[int], bc: int, rc: int)</span> -&gt; int:</span></span><br><span class=\"line\">    cust.reverse()</span><br><span class=\"line\">    wait, profit, t, max_p, ans = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> cust <span class=\"keyword\">or</span> wait:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cust:</span><br><span class=\"line\">            wait += cust.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> wait &gt;= <span class=\"number\">4</span>:</span><br><span class=\"line\">            profit += <span class=\"number\">4</span> * bc</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            profit += wait * bc</span><br><span class=\"line\">        wait = max(<span class=\"number\">0</span>, wait<span class=\"number\">-4</span>)</span><br><span class=\"line\">        profit -= rc</span><br><span class=\"line\">        t += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> profit &gt; max_p:</span><br><span class=\"line\">            ans = t</span><br><span class=\"line\">            max_p = profit</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> max_p&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå®é™…ä¸Šæœ€åéœ€è¦ä¸€ä¸ªå–ä½™æ“ä½œå°±è¡Œï¼Œä¸ç”¨å†æ¨¡æ‹Ÿäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minOperationsMaxProfit</span><span class=\"params\">(self, cust: List[int], bc: int, rc: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">-1</span></span><br><span class=\"line\">    most = profit = wait = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(cust, <span class=\"number\">1</span>):</span><br><span class=\"line\">        wait += c</span><br><span class=\"line\">        wait -= (cur := min(<span class=\"number\">4</span>, wait))</span><br><span class=\"line\">        profit += bc*cur - rc</span><br><span class=\"line\">        <span class=\"keyword\">if</span> profit &gt; most:</span><br><span class=\"line\">            ans, most = i, profit</span><br><span class=\"line\">    q, r = divmod(wait, <span class=\"number\">4</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"number\">4</span>*bc - rc &gt; <span class=\"number\">0</span>: ans += q</span><br><span class=\"line\">    <span class=\"keyword\">if</span> r*bc - rc &gt; <span class=\"number\">0</span>: ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1605-Find-Valid-Matrix-Given-Row-and-Column-Sums\"><a href=\"#1605-Find-Valid-Matrix-Given-Row-and-Column-Sums\" class=\"headerlink\" title=\"1605. Find Valid Matrix Given Row and Column Sums\"></a><a href=\"https://leetcode.com/problems/find-valid-matrix-given-row-and-column-sums/\" target=\"_blank\" rel=\"noopener\">1605. Find Valid Matrix Given Row and Column Sums</a></h3><h4 id=\"ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡Œçš„å’Œä¸åˆ—çš„å’Œï¼Œæ±‚è¿™ä¸ªäºŒç»´æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡Œçš„å’Œä¸åˆ—çš„å’Œï¼Œæ±‚è¿™ä¸ªäºŒç»´æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡Œçš„å’Œä¸åˆ—çš„å’Œï¼Œæ±‚è¿™ä¸ªäºŒç»´æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚\"></a>ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡Œçš„å’Œä¸åˆ—çš„å’Œï¼Œæ±‚è¿™ä¸ªäºŒç»´æ•°ç»„ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æ¯”èµ›ç”¨å›æº¯æ³•å†™çš„ï¼Œè¶…æ—¶äº†ä¸€æ¬¡ï¼Œç„¶åæ”¹ä¸ºå€’åºå‹‰å¼ºè¿‡äº†ã€‚å…¶å®å¯ä»¥ç”¨è´ªå¿ƒï¼Œæ¯æ¬¡éƒ½å°½é‡å°†æœ€å¤§çš„æ•°å¡«è¿›å»ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“æ€ä¹ˆè¯æ˜ã€‚Leeä¹Ÿæ²¡æœ‰ç»™å‡ºå¾ˆå¥½çš„è¯æ˜æ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">restoreMatrix</span><span class=\"params\">(self, rowSum: List[int], colSum: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    M, N = len(rowSum), len(colSum)</span><br><span class=\"line\">    g = [[<span class=\"number\">0</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            g[i][j] = min(rowSum[i], colSum[j])</span><br><span class=\"line\">            rowSum[i] -= g[i][j]</span><br><span class=\"line\">            colSum[j] -= g[i][j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> g</span><br></pre></td></tr></table></figure>\n<h3 id=\"1616-Split-Two-Strings-to-Make-Palindrome\"><a href=\"#1616-Split-Two-Strings-to-Make-Palindrome\" class=\"headerlink\" title=\"1616. Split Two Strings to Make Palindrome\"></a><a href=\"https://leetcode.com/problems/split-two-strings-to-make-palindrome/\" target=\"_blank\" rel=\"noopener\">1616. Split Two Strings to Make Palindrome</a></h3><h4 id=\"ä»æŸä¸ªç´¢å¼•å‡ºåˆ‡æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç›¸äº’æ‹¼æ¥æ˜¯å¦èƒ½ç»„æˆå›æ–‡ä¸²ã€‚\"><a href=\"#ä»æŸä¸ªç´¢å¼•å‡ºåˆ‡æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç›¸äº’æ‹¼æ¥æ˜¯å¦èƒ½ç»„æˆå›æ–‡ä¸²ã€‚\" class=\"headerlink\" title=\"ä»æŸä¸ªç´¢å¼•å‡ºåˆ‡æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç›¸äº’æ‹¼æ¥æ˜¯å¦èƒ½ç»„æˆå›æ–‡ä¸²ã€‚\"></a>ä»æŸä¸ªç´¢å¼•å‡ºåˆ‡æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç›¸äº’æ‹¼æ¥æ˜¯å¦èƒ½ç»„æˆå›æ–‡ä¸²ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: a &#x3D; &quot;ulacfd&quot;, b &#x3D; &quot;jizalu&quot;</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explaination: Split them at index 3:</span><br><span class=\"line\">aprefix &#x3D; &quot;ula&quot;, asuffix &#x3D; &quot;cfd&quot;</span><br><span class=\"line\">bprefix &#x3D; &quot;jiz&quot;, bsuffix &#x3D; &quot;alu&quot;</span><br><span class=\"line\">Then, aprefix + bsuffix &#x3D; &quot;ula&quot; + &quot;alu&quot; &#x3D; &quot;ulaalu&quot;, which is a palindrome.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æœ€åä¸€åˆ†é’Ÿåšäº†å‡ºæ¥ï¼Œé¡¶ç€å‹åŠ›ACäº†ã€‚ä¸è¿‡ä¹‹å‰è¶…æ—¶äº†ä¸¤æ¬¡ï¼Œå¦„æƒ³ç”¨æš´åŠ›æ³•è¿‡ï¼Œæ²¡æœ‰å¾—é€ã€‚æ•´ç†ä¸€ä¸‹ä»£ç ã€‚ä»¥æ¯ä¸ªå­—ç¬¦ä¸²ä¸­å¿ƒæ‰¾æœ€å¤§çš„å›æ–‡ä¸²ï¼Œç„¶åæ¯”è¾ƒç›¸äº’çš„å¤´å°¾ç›¸äº¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkPalindromeFormation</span><span class=\"params\">(self, a: str, b: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_palindrome_by_center</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        n = len(s)</span><br><span class=\"line\">        l, r = (n<span class=\"number\">-1</span>)//<span class=\"number\">2</span>, n//<span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> l &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> s[l]==s[r]:</span><br><span class=\"line\">            l -= <span class=\"number\">1</span></span><br><span class=\"line\">            r += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> l, r</span><br><span class=\"line\">    </span><br><span class=\"line\">    i, j = max_palindrome_by_center(a)</span><br><span class=\"line\">    ans = [b[:i+<span class=\"number\">1</span>] + a[j:], a[:i+<span class=\"number\">1</span>] + b[j:]]</span><br><span class=\"line\">    i, j = max_palindrome_by_center(b)</span><br><span class=\"line\">    ans.extend([a[:i+<span class=\"number\">1</span>] + b[j:], b[:i+<span class=\"number\">1</span>] + a[j:]])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> any(s==s[::<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> ans)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ã€‚ä»å¤´å°¾æ‰¾ç›¸åŒï¼Œåˆ¤æ–­ä¸­é—´æ˜¯å¦å›æ–‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkPalindromeFormation</span><span class=\"params\">(self, a: str, b: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    i, j = <span class=\"number\">0</span>, len(a)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;j <span class=\"keyword\">and</span> a[i]==b[j]:</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">        j -= <span class=\"number\">1</span></span><br><span class=\"line\">    s1, s2 = a[i:j+<span class=\"number\">1</span>], b[i:j+<span class=\"number\">1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    i, j = <span class=\"number\">0</span>, len(a)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;j <span class=\"keyword\">and</span> b[i]==a[j]:</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">        j -= <span class=\"number\">1</span></span><br><span class=\"line\">    s3, s4 = a[i:j+<span class=\"number\">1</span>], b[i:j+<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> any(s==s[::<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> (s1, s2, s3, s4))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">å¯ä»¥å°è£…ä¸€ä¸‹ã€‚è¿™ä¸ªæ–¹æ³•ç¡®å®æ¯”æˆ‘çš„ç®€å•ä¸€ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkPalindromeFormation</span><span class=\"params\">(self, a: str, b: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_middle</span><span class=\"params\">(a, b)</span>:</span></span><br><span class=\"line\">        i, j = <span class=\"number\">0</span>, len(a)<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i&lt;j <span class=\"keyword\">and</span> a[i]==b[j]:</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> a[i:j+<span class=\"number\">1</span>], b[i:j+<span class=\"number\">1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> any(s==s[::<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> get_middle(a, b)+get_middle(b, a))</span><br></pre></td></tr></table></figure>\n<h3 id=\"948-Bag-of-Tokens\"><a href=\"#948-Bag-of-Tokens\" class=\"headerlink\" title=\"948. Bag of Tokens\"></a><a href=\"https://leetcode.com/problems/bag-of-tokens/\" target=\"_blank\" rel=\"noopener\">948. Bag of Tokens</a></h3><h4 id=\"ä½ çš„åˆå§‹èƒ½é‡ä¸º-Pï¼Œåˆå§‹åˆ†æ•°ä¸º-0ï¼Œåªæœ‰ä¸€åŒ…ä»¤ç‰Œã€‚ä»¤ç‰Œçš„å€¼ä¸º-token-i-ï¼Œæ¯ä¸ªä»¤ç‰Œæœ€å¤šåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå¯èƒ½çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼šå¦‚æœä½ è‡³å°‘æœ‰-token-i-ç‚¹èƒ½é‡ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºæ­£é¢æœä¸Šï¼Œå¤±å»-token-i-ç‚¹èƒ½é‡ï¼Œå¹¶å¾—åˆ°-1-åˆ†ã€‚å¦‚æœæˆ‘ä»¬è‡³å°‘æœ‰-1-åˆ†ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºåé¢æœä¸Šï¼Œè·å¾—-token-i-ç‚¹èƒ½é‡ï¼Œå¹¶å¤±å»-1-åˆ†ã€‚åœ¨ä½¿ç”¨ä»»æ„æ•°é‡çš„ä»¤ç‰Œåï¼Œè¿”å›æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å¤§åˆ†æ•°ã€‚\"><a href=\"#ä½ çš„åˆå§‹èƒ½é‡ä¸º-Pï¼Œåˆå§‹åˆ†æ•°ä¸º-0ï¼Œåªæœ‰ä¸€åŒ…ä»¤ç‰Œã€‚ä»¤ç‰Œçš„å€¼ä¸º-token-i-ï¼Œæ¯ä¸ªä»¤ç‰Œæœ€å¤šåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå¯èƒ½çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼šå¦‚æœä½ è‡³å°‘æœ‰-token-i-ç‚¹èƒ½é‡ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºæ­£é¢æœä¸Šï¼Œå¤±å»-token-i-ç‚¹èƒ½é‡ï¼Œå¹¶å¾—åˆ°-1-åˆ†ã€‚å¦‚æœæˆ‘ä»¬è‡³å°‘æœ‰-1-åˆ†ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºåé¢æœä¸Šï¼Œè·å¾—-token-i-ç‚¹èƒ½é‡ï¼Œå¹¶å¤±å»-1-åˆ†ã€‚åœ¨ä½¿ç”¨ä»»æ„æ•°é‡çš„ä»¤ç‰Œåï¼Œè¿”å›æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å¤§åˆ†æ•°ã€‚\" class=\"headerlink\" title=\"ä½ çš„åˆå§‹èƒ½é‡ä¸º Pï¼Œåˆå§‹åˆ†æ•°ä¸º 0ï¼Œåªæœ‰ä¸€åŒ…ä»¤ç‰Œã€‚ä»¤ç‰Œçš„å€¼ä¸º token[i]ï¼Œæ¯ä¸ªä»¤ç‰Œæœ€å¤šåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå¯èƒ½çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼šå¦‚æœä½ è‡³å°‘æœ‰ token[i] ç‚¹èƒ½é‡ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºæ­£é¢æœä¸Šï¼Œå¤±å» token[i] ç‚¹èƒ½é‡ï¼Œå¹¶å¾—åˆ° 1 åˆ†ã€‚å¦‚æœæˆ‘ä»¬è‡³å°‘æœ‰ 1 åˆ†ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºåé¢æœä¸Šï¼Œè·å¾— token[i] ç‚¹èƒ½é‡ï¼Œå¹¶å¤±å» 1 åˆ†ã€‚åœ¨ä½¿ç”¨ä»»æ„æ•°é‡çš„ä»¤ç‰Œåï¼Œè¿”å›æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å¤§åˆ†æ•°ã€‚\"></a>ä½ çš„åˆå§‹èƒ½é‡ä¸º Pï¼Œåˆå§‹åˆ†æ•°ä¸º 0ï¼Œåªæœ‰ä¸€åŒ…ä»¤ç‰Œã€‚ä»¤ç‰Œçš„å€¼ä¸º token[i]ï¼Œæ¯ä¸ªä»¤ç‰Œæœ€å¤šåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå¯èƒ½çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼šå¦‚æœä½ è‡³å°‘æœ‰ token[i] ç‚¹èƒ½é‡ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºæ­£é¢æœä¸Šï¼Œå¤±å» token[i] ç‚¹èƒ½é‡ï¼Œå¹¶å¾—åˆ° 1 åˆ†ã€‚å¦‚æœæˆ‘ä»¬è‡³å°‘æœ‰ 1 åˆ†ï¼Œå¯ä»¥å°†ä»¤ç‰Œç½®ä¸ºåé¢æœä¸Šï¼Œè·å¾— token[i] ç‚¹èƒ½é‡ï¼Œå¹¶å¤±å» 1 åˆ†ã€‚åœ¨ä½¿ç”¨ä»»æ„æ•°é‡çš„ä»¤ç‰Œåï¼Œè¿”å›æˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æœ€å¤§åˆ†æ•°ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: tokens &#x3D; [100,200,300,400], P &#x3D; 200</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: Play the tokens in this order to get a score of 2:</span><br><span class=\"line\">1. Play the 0th token (100) face up, your power becomes 100 and score becomes 1.</span><br><span class=\"line\">2. Play the 3rd token (400) face down, your power becomes 500 and score becomes 0.</span><br><span class=\"line\">3. Play the 1st token (200) face up, your power becomes 300 and score becomes 1.</span><br><span class=\"line\">4. Play the 2nd token (300) face up, your power becomes 0 and score becomes 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆã€‚å¾ˆå®¹æ˜“æƒ³åˆ°æ˜¯è´ªå¿ƒï¼Œå› ä¸ºåˆ†æ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»¥æœ€å°‘çš„èƒ½é‡æ¢æœ€å¤šçš„åˆ†ã€‚10åˆ†é’ŸACã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bagOfTokensScore</span><span class=\"params\">(self, tokens: List[int], P: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, cur_score, p = <span class=\"number\">0</span>, <span class=\"number\">0</span>, P</span><br><span class=\"line\">    tokens.sort()</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(tokens)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tokens[lo] &lt;= p:</span><br><span class=\"line\">            p -= tokens[lo]</span><br><span class=\"line\">            lo += <span class=\"number\">1</span></span><br><span class=\"line\">            cur_score += <span class=\"number\">1</span></span><br><span class=\"line\">            ans = max(ans, cur_score)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> cur_score &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            p += tokens[hi]</span><br><span class=\"line\">            hi -= <span class=\"number\">1</span></span><br><span class=\"line\">            cur_score -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeçš„å†™æ³•ï¼Œdequeï¼Œå°†åˆ¤æ–­æ”¾åˆ°while ä¸­äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bagOfTokensScore</span><span class=\"params\">(self, tokens: List[int], P: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, cur_score = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    q = deque(sorted(tokens))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q <span class=\"keyword\">and</span> (q[<span class=\"number\">0</span>]&lt;=P <span class=\"keyword\">or</span> cur_score):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> q[<span class=\"number\">0</span>] &lt;= P:</span><br><span class=\"line\">            cur_score += <span class=\"number\">1</span></span><br><span class=\"line\">            P -= q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur_score -= <span class=\"number\">1</span></span><br><span class=\"line\">            P += q.pop()</span><br><span class=\"line\">        ans = max(ans, cur_score)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"135-Candy\"><a href=\"#135-Candy\" class=\"headerlink\" title=\"135. Candy\"></a><a href=\"https://leetcode.com/problems/candy/\" target=\"_blank\" rel=\"noopener\">135. Candy</a></h3><h4 id=\"Nä¸ªå­¦ç”Ÿç«™æˆä¸€æ’ï¼Œæ¯ä¸ªäººæœ‰ä¸ªæ¯”ç‡ï¼Œè¦æ±‚æ¯äººè‡³å°‘å‘ä¸€å—ç³–ï¼Œæ¯”ç‡å¦‚æœæ¯”æŒ¨ç€çš„ä¸¤ä½åŒå­¦å¤§ï¼Œé‚£ä¹ˆç³–è¦æ¯”ä»–ä»¬å¤šã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªç³–ã€‚\"><a href=\"#Nä¸ªå­¦ç”Ÿç«™æˆä¸€æ’ï¼Œæ¯ä¸ªäººæœ‰ä¸ªæ¯”ç‡ï¼Œè¦æ±‚æ¯äººè‡³å°‘å‘ä¸€å—ç³–ï¼Œæ¯”ç‡å¦‚æœæ¯”æŒ¨ç€çš„ä¸¤ä½åŒå­¦å¤§ï¼Œé‚£ä¹ˆç³–è¦æ¯”ä»–ä»¬å¤šã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªç³–ã€‚\" class=\"headerlink\" title=\"Nä¸ªå­¦ç”Ÿç«™æˆä¸€æ’ï¼Œæ¯ä¸ªäººæœ‰ä¸ªæ¯”ç‡ï¼Œè¦æ±‚æ¯äººè‡³å°‘å‘ä¸€å—ç³–ï¼Œæ¯”ç‡å¦‚æœæ¯”æŒ¨ç€çš„ä¸¤ä½åŒå­¦å¤§ï¼Œé‚£ä¹ˆç³–è¦æ¯”ä»–ä»¬å¤šã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªç³–ã€‚\"></a>Nä¸ªå­¦ç”Ÿç«™æˆä¸€æ’ï¼Œæ¯ä¸ªäººæœ‰ä¸ªæ¯”ç‡ï¼Œè¦æ±‚æ¯äººè‡³å°‘å‘ä¸€å—ç³–ï¼Œæ¯”ç‡å¦‚æœæ¯”æŒ¨ç€çš„ä¸¤ä½åŒå­¦å¤§ï¼Œé‚£ä¹ˆç³–è¦æ¯”ä»–ä»¬å¤šã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªç³–ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå·¦å³éå†ä¸¤æ¬¡ã€‚ä»å·¦å‘å³éå†ä¹‹åï¼Œä¿è¯æ¯äººæ¯”å·¦ä¾§å¤§çš„æ¡ä»¶ï¼Œå†ä»å³å‘å·¦éå†ï¼Œä¿è¯æ¯äººæ¯”å·¦ä¾§å¤§çš„æ¡ä»¶ã€‚æ³¨æ„<code>13452</code>çš„æƒ…å†µï¼Œåå‘éå†æ—¶è¦å»æœ€å¤§å€¼ã€‚å› ä¸ºå·¦ä¾§éå†å®Œäº‹<code>12341</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">candy</span><span class=\"params\">(self, ratings: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    N = len(ratings)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> N &lt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> N</span><br><span class=\"line\">    candies = [<span class=\"number\">1</span>] * N</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ratings[i] &gt; ratings[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            candies[i] = candies[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ratings[i] &lt; ratings[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            candies[i<span class=\"number\">-1</span>] = max(candies[i<span class=\"number\">-1</span>], candies[i]+<span class=\"number\">1</span>)</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(candies)</span><br></pre></td></tr></table></figure>\n<h3 id=\"646-Maximum-Length-of-Pair-Chain\"><a href=\"#646-Maximum-Length-of-Pair-Chain\" class=\"headerlink\" title=\"646. Maximum Length of Pair Chain\"></a><a href=\"https://leetcode.com/problems/maximum-length-of-pair-chain/\" target=\"_blank\" rel=\"noopener\">646. Maximum Length of Pair Chain</a></h3><h4 id=\"èƒ½ç»„æˆçš„æœ€é•¿çš„é“¾ã€‚å’Œ300é¢˜ä¸€æ ·ã€‚\"><a href=\"#èƒ½ç»„æˆçš„æœ€é•¿çš„é“¾ã€‚å’Œ300é¢˜ä¸€æ ·ã€‚\" class=\"headerlink\" title=\"èƒ½ç»„æˆçš„æœ€é•¿çš„é“¾ã€‚å’Œ300é¢˜ä¸€æ ·ã€‚\"></a>èƒ½ç»„æˆçš„æœ€é•¿çš„é“¾ã€‚å’Œ300é¢˜ä¸€æ ·ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,2], [2,3], [3,4]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The longest chain is [1,2] -&gt; [3,4]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdp, O(n^2)çš„æš´åŠ›æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLongestChain</span><span class=\"params\">(self, pairs: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(pairs)</span><br><span class=\"line\">    dp = [<span class=\"number\">1</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    pairs.sort()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> pairs[i][<span class=\"number\">0</span>] &gt; pairs[j][<span class=\"number\">1</span>]:</span><br><span class=\"line\">                dp[i] = max(dp[i], dp[j]+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> pairs <span class=\"keyword\">and</span> max(dp) <span class=\"keyword\">or</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ­¤é¢˜ä¼˜åŒ–çš„è§£æ³•ä¸èƒ½åƒ300ä¸€æ ·ç”¨äºŒåˆ†ï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªç»´åº¦çš„ä¿¡æ¯éœ€è¦è€ƒè™‘ï¼Œæœ€ä¼˜çš„è§£æ³•æ˜¯è´ªå¿ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLongestChain</span><span class=\"params\">(self, pairs: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, last = <span class=\"number\">0</span>, float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> start, end <span class=\"keyword\">in</span> sorted(pairs, key=itemgetter(<span class=\"number\">1</span>)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> last &lt; start:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            last = end</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1647-Minimum-Deletions-to-Make-Character-Frequencies-Unique\"><a href=\"#1647-Minimum-Deletions-to-Make-Character-Frequencies-Unique\" class=\"headerlink\" title=\"1647. Minimum Deletions to Make Character Frequencies Unique\"></a><a href=\"https://leetcode.com/problems/minimum-deletions-to-make-character-frequencies-unique/\" target=\"_blank\" rel=\"noopener\">1647. Minimum Deletions to Make Character Frequencies Unique</a></h3><h4 id=\"æœ€å°‘éœ€è¦åˆ é™¤å¤šå°‘æ¬¡å­—æ¯ä½¿å¾—æ¯ä¸ªå­—æ¯çš„é¢‘ç‡éƒ½ä¸ä¸€æ ·ã€‚\"><a href=\"#æœ€å°‘éœ€è¦åˆ é™¤å¤šå°‘æ¬¡å­—æ¯ä½¿å¾—æ¯ä¸ªå­—æ¯çš„é¢‘ç‡éƒ½ä¸ä¸€æ ·ã€‚\" class=\"headerlink\" title=\"æœ€å°‘éœ€è¦åˆ é™¤å¤šå°‘æ¬¡å­—æ¯ä½¿å¾—æ¯ä¸ªå­—æ¯çš„é¢‘ç‡éƒ½ä¸ä¸€æ ·ã€‚\"></a>æœ€å°‘éœ€è¦åˆ é™¤å¤šå°‘æ¬¡å­—æ¯ä½¿å¾—æ¯ä¸ªå­—æ¯çš„é¢‘ç‡éƒ½ä¸ä¸€æ ·ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;aaabbbcc&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: You can delete two &#39;b&#39;s resulting in the good string &quot;aaabcc&quot;.</span><br><span class=\"line\">Another way it to delete one &#39;b&#39; and one &#39;c&#39; resulting in the good string &quot;aaabbc&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶å†™å¾—æ¯”è¾ƒç›´è§‚çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDeletions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    c = Counter(s)</span><br><span class=\"line\">    cnt = Counter(c.values())</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> sorted(cnt.keys()):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> cnt[k] &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(k)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> j == <span class=\"number\">0</span>:</span><br><span class=\"line\">                    cnt[k] -= <span class=\"number\">1</span></span><br><span class=\"line\">                    ans += k</span><br><span class=\"line\">                <span class=\"keyword\">elif</span> cnt[j] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                    cnt[k] -= <span class=\"number\">1</span></span><br><span class=\"line\">                    cnt[j] = <span class=\"number\">1</span></span><br><span class=\"line\">                    ans += k-j</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¯ä»¥ç”¨ä¸€ä¸ªé›†åˆæ¥åšå»é‡çš„å·¥ä½œã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDeletions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, seen = <span class=\"number\">0</span>, set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> cnt <span class=\"keyword\">in</span> sorted(Counter(s).values(), reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> cnt <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            cnt -= <span class=\"number\">1</span></span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cnt: </span><br><span class=\"line\">            seen.add(cnt)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1648-Sell-Diminishing-Valued-Colored-Balls\"><a href=\"#1648-Sell-Diminishing-Valued-Colored-Balls\" class=\"headerlink\" title=\"1648. Sell Diminishing-Valued Colored Balls\"></a><a href=\"https://leetcode.com/problems/sell-diminishing-valued-colored-balls/\" target=\"_blank\" rel=\"noopener\">1648. Sell Diminishing-Valued Colored Balls</a></h3><h4 id=\"æœ‰è¿™ä¹ˆå‡ ç§é¢œè‰²çš„çƒï¼Œæ¯ç§çƒæœ‰ä¸€äº›ä¸ªæ•°ã€‚å½“å–å‡ºä¸€ä¸ªçƒçš„æ—¶å€™ï¼Œåˆ†æ•°ä¸ºå‰©ä¸‹åŒç§é¢œè‰²çš„çƒï¼Œé—®ä¸€å…±éœ€è¦å–ordersä¸ªçƒï¼Œé—®æœ€å¤§çš„åˆ†æ˜¯å¤šå°‘ï¼Ÿ\"><a href=\"#æœ‰è¿™ä¹ˆå‡ ç§é¢œè‰²çš„çƒï¼Œæ¯ç§çƒæœ‰ä¸€äº›ä¸ªæ•°ã€‚å½“å–å‡ºä¸€ä¸ªçƒçš„æ—¶å€™ï¼Œåˆ†æ•°ä¸ºå‰©ä¸‹åŒç§é¢œè‰²çš„çƒï¼Œé—®ä¸€å…±éœ€è¦å–ordersä¸ªçƒï¼Œé—®æœ€å¤§çš„åˆ†æ˜¯å¤šå°‘ï¼Ÿ\" class=\"headerlink\" title=\"æœ‰è¿™ä¹ˆå‡ ç§é¢œè‰²çš„çƒï¼Œæ¯ç§çƒæœ‰ä¸€äº›ä¸ªæ•°ã€‚å½“å–å‡ºä¸€ä¸ªçƒçš„æ—¶å€™ï¼Œåˆ†æ•°ä¸ºå‰©ä¸‹åŒç§é¢œè‰²çš„çƒï¼Œé—®ä¸€å…±éœ€è¦å–ordersä¸ªçƒï¼Œé—®æœ€å¤§çš„åˆ†æ˜¯å¤šå°‘ï¼Ÿ\"></a>æœ‰è¿™ä¹ˆå‡ ç§é¢œè‰²çš„çƒï¼Œæ¯ç§çƒæœ‰ä¸€äº›ä¸ªæ•°ã€‚å½“å–å‡ºä¸€ä¸ªçƒçš„æ—¶å€™ï¼Œåˆ†æ•°ä¸ºå‰©ä¸‹åŒç§é¢œè‰²çš„çƒï¼Œé—®ä¸€å…±éœ€è¦å–ordersä¸ªçƒï¼Œé—®æœ€å¤§çš„åˆ†æ˜¯å¤šå°‘ï¼Ÿ</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: inventory &#x3D; [2,5], orders &#x3D; 4</span><br><span class=\"line\">Output: 14</span><br><span class=\"line\">Explanation: Sell the 1st color 1 time (2) and the 2nd color 3 times (5 + 4 + 3).</span><br><span class=\"line\">The maximum total value is 2 + 5 + 4 + 3 &#x3D; 14.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆå®¹æ˜“çœ‹å‡ºæ˜¯ä¸€é“è´ªå¿ƒçš„é¢˜ï¼Œæ¯”èµ›æ—¶è¶…æ—¶äº†ä¸€æ¬¡ï¼Œå› ä¸ºæƒ³ç”¨å †æ¥æ¨¡æ‹Ÿã€‚åæ¥æƒ³åˆ°äº†ç”¨æ•°å­¦çš„æ–¹å¼ã€‚å°±æ˜¯å°½é‡å°†æ‰€æœ‰çš„å‰©ä¸‹çƒå¹³å‡ï¼Œå› ä¸ºè¶Šå°‘æ‹¿çƒåˆ†å°±è¶Šå°‘ã€‚è¿™é‡Œç”¨äº†ä¸€ä¸ªåŠ¨æ€çš„æ±‚å¹³å‡çš„æ–¹å¼ã€‚ä¸æ˜¯æœ€ä¼˜è§£ï¼Œ700+msï¼Œbeats 30%ï¼Œè¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, inventory: List[int], orders: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, mod = <span class=\"number\">0</span>, <span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span></span><br><span class=\"line\">    total = sum(inventory) </span><br><span class=\"line\">    inventory.sort()</span><br><span class=\"line\">    remain = total - orders</span><br><span class=\"line\">    N = len(inventory)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(inventory):</span><br><span class=\"line\">        each = remain // (N-i)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d &gt; each:</span><br><span class=\"line\">            ans += (each+<span class=\"number\">1</span>+d) * (d-each) // <span class=\"number\">2</span></span><br><span class=\"line\">        remain -= min(each, d)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans % mod</span><br></pre></td></tr></table></figure>\n<h3 id=\"1653-Minimum-Deletions-to-Make-String-Balanced\"><a href=\"#1653-Minimum-Deletions-to-Make-String-Balanced\" class=\"headerlink\" title=\"1653. Minimum Deletions to Make String Balanced\"></a><a href=\"https://leetcode.com/problems/minimum-deletions-to-make-string-balanced/\" target=\"_blank\" rel=\"noopener\">1653. Minimum Deletions to Make String Balanced</a></h3><h4 id=\"æœ€å°‘çš„æ­¥æ•°å¯ä»¥è®©å­—ç¬¦ä¸²ä¸­æ²¡æœ‰båœ¨aå‰çš„æƒ…å†µã€‚\"><a href=\"#æœ€å°‘çš„æ­¥æ•°å¯ä»¥è®©å­—ç¬¦ä¸²ä¸­æ²¡æœ‰båœ¨aå‰çš„æƒ…å†µã€‚\" class=\"headerlink\" title=\"æœ€å°‘çš„æ­¥æ•°å¯ä»¥è®©å­—ç¬¦ä¸²ä¸­æ²¡æœ‰båœ¨aå‰çš„æƒ…å†µã€‚\"></a>æœ€å°‘çš„æ­¥æ•°å¯ä»¥è®©å­—ç¬¦ä¸²ä¸­æ²¡æœ‰båœ¨aå‰çš„æƒ…å†µã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;aababbab&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: You can either:</span><br><span class=\"line\">Delete the characters at 0-indexed positions 2 and 6 (&quot;aababbab&quot; -&gt; &quot;aaabbb&quot;), or</span><br><span class=\"line\">Delete the characters at 0-indexed positions 3 and 6 (&quot;aababbab&quot; -&gt; &quot;aabbbb&quot;).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æƒ³ç€å’Œ<code>ç§‹å¶æ”¶è—é›†</code>ä¸€é¢˜å¾ˆåƒï¼Œå°±ç”¨äº†dpï¼Œä¹Ÿèƒ½è¿‡ï¼Œä¸è¿‡ä¸æ˜¯æœ€ä¼˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumDeletions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    a, b, ab = int(s[<span class=\"number\">0</span>]!=<span class=\"string\">'a'</span>), int(s[<span class=\"number\">0</span>]!=<span class=\"string\">'b'</span>), float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)):</span><br><span class=\"line\">        cur = int(s[i]!=<span class=\"string\">'a'</span>)</span><br><span class=\"line\">        a, b, ab = a+cur, b+(cur^<span class=\"number\">1</span>), min(a, ab)+(cur^<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(a, b, ab)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè´ªå¿ƒã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§å°†åé¢çš„aå…¨éƒ¨åˆ æ‰ï¼›ä¸€ç§å°†å‰é¢çš„bå…¨éƒ¨åˆ æ‰ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumDeletions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    cur = res = s.count(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c == <span class=\"string\">'a'</span>:</span><br><span class=\"line\">            cur -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur += <span class=\"number\">1</span></span><br><span class=\"line\">        res = min(res, cur)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1663-Smallest-String-With-A-Given-Numeric-Value\"><a href=\"#1663-Smallest-String-With-A-Given-Numeric-Value\" class=\"headerlink\" title=\"1663. Smallest String With A Given Numeric Value\"></a><a href=\"https://leetcode.com/problems/smallest-string-with-a-given-numeric-value/\" target=\"_blank\" rel=\"noopener\">1663. Smallest String With A Given Numeric Value</a></h3><h4 id=\"æ¯ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªå€¼ï¼Œç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ¡ä»¶ï¼Œæ±‚è¿™ä¸ªæ¡ä»¶å­—ç¬¦æ€»å’Œä¸ºkçš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ã€‚\"><a href=\"#æ¯ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªå€¼ï¼Œç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ¡ä»¶ï¼Œæ±‚è¿™ä¸ªæ¡ä»¶å­—ç¬¦æ€»å’Œä¸ºkçš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ã€‚\" class=\"headerlink\" title=\"æ¯ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªå€¼ï¼Œç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ¡ä»¶ï¼Œæ±‚è¿™ä¸ªæ¡ä»¶å­—ç¬¦æ€»å’Œä¸ºkçš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ã€‚\"></a>æ¯ä¸ªå­—æ¯å¯¹åº”ä¸€ä¸ªå€¼ï¼Œç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ¡ä»¶ï¼Œæ±‚è¿™ä¸ªæ¡ä»¶å­—ç¬¦æ€»å’Œä¸ºkçš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, k &#x3D; 27</span><br><span class=\"line\">Output: &quot;aay&quot;</span><br><span class=\"line\">Explanation: The numeric value of the string is 1 + 1 + 25 &#x3D; 27, and it is the smallest string with such a value and length equal to 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æˆ‘æƒ³é”™äº†ä¸€ä¸ªç‚¹ï¼Œzå¯¹åº”çš„æ˜¯26è€Œä¸æ˜¯25ã€‚å¯¼è‡´ç”¨äº†1ä¸ªå°æ—¶æ‰æäº¤ä¸Šã€‚å‘¨èµ›ç¬¬ä¸€é¢˜ç”¨äº†44ç§’çš„å¥½æˆç»©éƒ½æµªè´¹æ‰äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSmallestString</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n*<span class=\"number\">26</span> == k:</span><br><span class=\"line\">            ans += n * <span class=\"string\">'z'</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> k<span class=\"number\">-1</span> &lt;= (n<span class=\"number\">-1</span>)*<span class=\"number\">26</span>:</span><br><span class=\"line\">            ans += <span class=\"string\">'a'</span></span><br><span class=\"line\">            n -= <span class=\"number\">1</span></span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            m = k - (n<span class=\"number\">-1</span>)*<span class=\"number\">26</span></span><br><span class=\"line\">            ans += chr(ord(<span class=\"string\">'a'</span>) + m <span class=\"number\">-1</span>)</span><br><span class=\"line\">            n -= <span class=\"number\">1</span></span><br><span class=\"line\">            k -= m</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ€è·¯æˆ‘æƒ³åˆ°äº†ï¼Œä½†æ˜¯æ²¡æƒ³å¥½ä»£ç ï¼Œæœ¬è´¨ä¸Šè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯<code>aaxzzz</code>ã€‚æ‰€ä»¥ç”¨æ•°å­¦çš„æ€è·¯å¯ä»¥ç›´æ¥æ±‚å‡ºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSmallestString</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    num2 = (k-n) // <span class=\"number\">25</span>     </span><br><span class=\"line\">    num1 = n - num2 - <span class=\"number\">1</span></span><br><span class=\"line\">    num = k - (num1 + num2 * <span class=\"number\">26</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'a'</span> * num1 + chr(num+ord(<span class=\"string\">'a'</span>)<span class=\"number\">-1</span>) + <span class=\"string\">'z'</span> * num2</span><br></pre></td></tr></table></figure>\n<h3 id=\"1664-Ways-to-Make-a-Fair-Array\"><a href=\"#1664-Ways-to-Make-a-Fair-Array\" class=\"headerlink\" title=\"1664. Ways to Make a Fair Array\"></a><a href=\"https://leetcode.com/problems/ways-to-make-a-fair-array/\" target=\"_blank\" rel=\"noopener\">1664. Ways to Make a Fair Array</a></h3><h4 id=\"åˆ é™¤ä¸€ä¸ªæ•°ä½¿å¾—æ•°ç»„å¥‡æ•°ä½å¶æ•°ä½å’Œç›¸ç­‰ï¼Œä¸€å…±æœ‰å¤šå°‘ç§åˆ é™¤çš„æ–¹æ³•ã€‚\"><a href=\"#åˆ é™¤ä¸€ä¸ªæ•°ä½¿å¾—æ•°ç»„å¥‡æ•°ä½å¶æ•°ä½å’Œç›¸ç­‰ï¼Œä¸€å…±æœ‰å¤šå°‘ç§åˆ é™¤çš„æ–¹æ³•ã€‚\" class=\"headerlink\" title=\"åˆ é™¤ä¸€ä¸ªæ•°ä½¿å¾—æ•°ç»„å¥‡æ•°ä½å¶æ•°ä½å’Œç›¸ç­‰ï¼Œä¸€å…±æœ‰å¤šå°‘ç§åˆ é™¤çš„æ–¹æ³•ã€‚\"></a>åˆ é™¤<em>ä¸€ä¸ª</em>æ•°ä½¿å¾—æ•°ç»„å¥‡æ•°ä½å¶æ•°ä½å’Œç›¸ç­‰ï¼Œä¸€å…±æœ‰å¤šå°‘ç§åˆ é™¤çš„æ–¹æ³•ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [2,1,6,4]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Remove index 0: [1,6,4] -&gt; Even sum: 1 + 4 &#x3D; 5. Odd sum: 6. Not fair.</span><br><span class=\"line\">Remove index 1: [2,6,4] -&gt; Even sum: 2 + 4 &#x3D; 6. Odd sum: 6. Fair.</span><br><span class=\"line\">Remove index 2: [2,1,4] -&gt; Even sum: 2 + 4 &#x3D; 6. Odd sum: 1. Not fair.</span><br><span class=\"line\">Remove index 3: [2,1,6] -&gt; Even sum: 2 + 6 &#x3D; 8. Odd sum: 1. Not fair.</span><br><span class=\"line\">There is 1 index that you can remove to make nums fair.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œï¼Œç«èµ›æ—¶æƒ³åˆ°äº†ï¼Œä½†æ˜¯æ²¡åšå‡ºæ¥ï¼Œå› ä¸ºçœ‹é”™äº†é¢˜ï¼Œå¿½ç•¥äº†åˆ é™¤ä¸€æ¬¡è¿™ä¸ªæ¡ä»¶ã€‚è¿™é‡Œæ˜¯Leeçš„å†™æ³•ï¼Œç»´æŒä¸€ä¸ªå½“å‰çš„å¥‡å¶å’Œä¸å³ä¾§çš„å¥‡å¶å’Œï¼Œå½“åˆ é™¤æŸä¸ªæ•°åï¼Œåé¢çš„å¥‡å¶ä½äº’æ¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">waysToMakeFair</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    acc, total = [<span class=\"number\">0</span>, <span class=\"number\">0</span>], [sum(nums[::<span class=\"number\">2</span>]), sum(nums[<span class=\"number\">1</span>::<span class=\"number\">2</span>])]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        total[i%<span class=\"number\">2</span>] -= num</span><br><span class=\"line\">        res += acc[<span class=\"number\">0</span>]+total[<span class=\"number\">1</span>]==acc[<span class=\"number\">1</span>]+total[<span class=\"number\">0</span>]</span><br><span class=\"line\">        acc[i%<span class=\"number\">2</span>] += num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"767-Reorganize-String\"><a href=\"#767-Reorganize-String\" class=\"headerlink\" title=\"767. Reorganize String\"></a><a href=\"https://leetcode.com/problems/reorganize-string/\" target=\"_blank\" rel=\"noopener\">767. Reorganize String</a></h3><h4 id=\"é‡æ’å­—ç¬¦ä¸²ä½¿å…¶æ²¡æœ‰ç›¸é‚»çš„ä¸¤ä¸ªå­—ç¬¦ä½¿ç›¸åŒçš„ã€‚\"><a href=\"#é‡æ’å­—ç¬¦ä¸²ä½¿å…¶æ²¡æœ‰ç›¸é‚»çš„ä¸¤ä¸ªå­—ç¬¦ä½¿ç›¸åŒçš„ã€‚\" class=\"headerlink\" title=\"é‡æ’å­—ç¬¦ä¸²ä½¿å…¶æ²¡æœ‰ç›¸é‚»çš„ä¸¤ä¸ªå­—ç¬¦ä½¿ç›¸åŒçš„ã€‚\"></a>é‡æ’å­—ç¬¦ä¸²ä½¿å…¶æ²¡æœ‰ç›¸é‚»çš„ä¸¤ä¸ªå­—ç¬¦ä½¿ç›¸åŒçš„ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: S &#x3D; &quot;aab&quot;</span><br><span class=\"line\">Output: &quot;aba&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å †å®ç°çš„ã€‚æ¯æ¬¡ä»å †ä¸­å–ä¸€ä¸ªæˆ–ä¸¤ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorganizeString</span><span class=\"params\">(self, S: str)</span> -&gt; str:</span></span><br><span class=\"line\">    heap = [(-cnt, c) <span class=\"keyword\">for</span> c, cnt <span class=\"keyword\">in</span> Counter(S).items()]</span><br><span class=\"line\">    heapq.heapify(heap)</span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">        cnt_1, c1 = heapq.heappop(heap)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> res <span class=\"keyword\">and</span> res[<span class=\"number\">-1</span>]==c1:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> heap:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">            cnt_2, c2 = heapq.heappop(heap)</span><br><span class=\"line\">            res.append(c2)</span><br><span class=\"line\">            cnt_2 += <span class=\"number\">1</span></span><br><span class=\"line\">            heapq.heappush(heap, (cnt_1, c1))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cnt_2:</span><br><span class=\"line\">                heapq.heappush(heap, (cnt_2, c2))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            res.append(c1)</span><br><span class=\"line\">            cnt_1 += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> cnt_1:</span><br><span class=\"line\">                heapq.heappush(heap, (cnt_1, c1))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(res)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šby @Stefanã€‚ä¸ºä½•å†…å±‚ä¹Ÿè¦sortedä¸€ä¸‹ï¼Œæ˜¯å› ä¸º<code>[a, b, b, a]</code>ä¼šä¿ç•™åŸæ¥çš„ç›¸å¯¹é¡ºåºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorganizeString</span><span class=\"params\">(self, S: str)</span> -&gt; str:</span></span><br><span class=\"line\">    a = sorted(sorted(S), key=S.count)</span><br><span class=\"line\">    h = len(a) // <span class=\"number\">2</span></span><br><span class=\"line\">    a[<span class=\"number\">1</span>::<span class=\"number\">2</span>], a[::<span class=\"number\">2</span>] = a[:h], a[h:]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(a) * (a[<span class=\"number\">-1</span>:] != a[<span class=\"number\">-2</span>:<span class=\"number\">-1</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"659-Split-Array-into-Consecutive-Subsequences\"><a href=\"#659-Split-Array-into-Consecutive-Subsequences\" class=\"headerlink\" title=\"659. Split Array into Consecutive Subsequences\"></a><a href=\"https://leetcode.com/problems/split-array-into-consecutive-subsequences/\" target=\"_blank\" rel=\"noopener\">659. Split Array into Consecutive Subsequences</a></h3><h4 id=\"å°†ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œæ‹†åˆ†é‡è¿ç»­çš„å­æ•°ç»„æ®µï¼Œé•¿åº¦ä¸èƒ½å°äº3\"><a href=\"#å°†ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œæ‹†åˆ†é‡è¿ç»­çš„å­æ•°ç»„æ®µï¼Œé•¿åº¦ä¸èƒ½å°äº3\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œæ‹†åˆ†é‡è¿ç»­çš„å­æ•°ç»„æ®µï¼Œé•¿åº¦ä¸èƒ½å°äº3.\"></a>å°†ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œæ‹†åˆ†é‡è¿ç»­çš„å­æ•°ç»„æ®µï¼Œé•¿åº¦ä¸èƒ½å°äº3.</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,3,4,4,5,5]</span><br><span class=\"line\">Output: True</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">You can split them into two consecutive subsequences : </span><br><span class=\"line\">1, 2, 3, 4, 5</span><br><span class=\"line\">3, 4, 5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBy@lee215ã€‚æŒºéš¾æƒ³çš„æ–¹æ³•ï¼Œleftè¡¨ç¤ºæ¯ä¸ªæ•°å‰©äº†å¤šå°‘ä¸ªã€‚endè¡¨ç¤ºä»¥è¿™ä¸ªæ•°ç»“å°¾çš„æœ‰å‡ ä¸ªã€‚å½“æˆ‘æ²¡æ³•å°†å½“å‰çš„æ•°è¿½åŠ åˆ°å‰ä¸€æ®µçš„ç»“å°¾æ—¶ï¼Œä¹Ÿæ²¡æ³•æ‰¾åˆ°åä¸¤ä¸ªè¿ç»­çš„æ•°æ—¶ï¼Œå°±ä¸èƒ½æ‹†åˆ†æˆåŠŸã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPossible</span><span class=\"params\">(self, A: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    left = collections.Counter(A)</span><br><span class=\"line\">    end = collections.Counter()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> left[i]: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        left[i] -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> end[i - <span class=\"number\">1</span>] &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            end[i - <span class=\"number\">1</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">            end[i] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> left[i + <span class=\"number\">1</span>] <span class=\"keyword\">and</span> left[i + <span class=\"number\">2</span>]:</span><br><span class=\"line\">            left[i + <span class=\"number\">1</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">            left[i + <span class=\"number\">2</span>] -= <span class=\"number\">1</span></span><br><span class=\"line\">            end[i + <span class=\"number\">2</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        print(left, end)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Greedy"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå•è¯æŸ¥æ‰¾æ ‘ç¯‡ï¼‰Trie","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8D%95%E8%AF%8D%E6%9F%A5%E6%89%BE%E6%A0%91%E7%AF%87%EF%BC%89Trie/","content":"<p>æ­¤ç¯‡ä¸ºé¢„ç•™ç¯‡ç« ï¼Œå…¶ä¸­çš„ç®—æ³•æœ‰äº›è¿˜æœªä½¿ç”¨Trieè¿›è¡Œä¼˜åŒ–ã€‚</p>\n<h3 id=\"1023-Camelcase-Matching\"><a href=\"#1023-Camelcase-Matching\" class=\"headerlink\" title=\"1023. Camelcase Matching\"></a>1023. Camelcase Matching</h3><h4 id=\"é©¼å³°åŒ¹é…ã€‚åŸé¢˜\"><a href=\"#é©¼å³°åŒ¹é…ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é©¼å³°åŒ¹é…ã€‚åŸé¢˜\"></a>é©¼å³°åŒ¹é…ã€‚<a href=\"https://leetcode.com/problems/camelcase-matching/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: queries &#x3D; [&quot;FooBar&quot;,&quot;FooBarTest&quot;,&quot;FootBall&quot;,&quot;FrameBuffer&quot;,&quot;ForceFeedBack&quot;], pattern &#x3D; &quot;FB&quot;</span><br><span class=\"line\">Output: [true,false,true,true,false]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">&quot;FooBar&quot; can be generated like this &quot;F&quot; + &quot;oo&quot; + &quot;B&quot; + &quot;ar&quot;.</span><br><span class=\"line\">&quot;FootBall&quot; can be generated like this &quot;F&quot; + &quot;oot&quot; + &quot;B&quot; + &quot;all&quot;.</span><br><span class=\"line\">&quot;FrameBuffer&quot; can be generated like this &quot;F&quot; + &quot;rame&quot; + &quot;B&quot; + &quot;uffer&quot;.</span><br><span class=\"line\"></span><br><span class=\"line\">[&quot;CompetitiveProgramming&quot;,&quot;CounterPick&quot;,&quot;ControlPanel&quot;]</span><br><span class=\"line\">&quot;CooP&quot;</span><br><span class=\"line\">[false,false,true]</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">camelMatch</span><span class=\"params\">(self, queries: List[str], pattern: str)</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> queries:</span><br><span class=\"line\">        p = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(word):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p == len(pattern):</span><br><span class=\"line\">                ans.append(all(char.islower() <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> word[i:]))</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> c == pattern[p]:</span><br><span class=\"line\">                p += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> c.isupper():</span><br><span class=\"line\">                    ans.append(<span class=\"literal\">False</span>)</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans.append(all(char.islower() <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> pattern[p:]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šé¦–å…ˆåˆ¤æ–­å•è¯å’Œ<code>pattern</code>æ˜¯å¦å…·æœ‰ç›¸åŒçš„å¤§å†™å­—æ¯ã€‚<code>iter</code>ä¿è¯äº†æ¯æ¬¡cå¼€å§‹çš„ä½ç½®æ˜¯ä»ä¸Šä¸€ä¸ªåŒ¹é…ç»“æŸçš„åœ°æ–¹å¼€å§‹çš„ã€‚è¿™ä¸ªéå¸¸é‡è¦ï¼Œä¿è¯äº†æ¯”è¾ƒçš„é¡ºåºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">camelMatch</span><span class=\"params\">(self, qs: List[str], p: str)</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">u</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> [c <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s <span class=\"keyword\">if</span> c.isupper()]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">issub</span><span class=\"params\">(s, t)</span>:</span></span><br><span class=\"line\">        it = iter(t)        <span class=\"comment\"># importand, pass the `Coop` testcase</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> all(c <span class=\"keyword\">in</span> it <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> p)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [u(q)==u(p) <span class=\"keyword\">and</span> issub(p, q) <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> qs]</span><br></pre></td></tr></table></figure>\n<h3 id=\"212-Word-Search-II\"><a href=\"#212-Word-Search-II\" class=\"headerlink\" title=\"212. Word Search II\"></a>212. Word Search II</h3><h4 id=\"åœ¨çŸ©é˜µä¸­æœç´¢å¤šä¸ªå•è¯ï¼Œè¿”å›å­˜åœ¨çš„å•è¯ã€‚åŸé¢˜\"><a href=\"#åœ¨çŸ©é˜µä¸­æœç´¢å¤šä¸ªå•è¯ï¼Œè¿”å›å­˜åœ¨çš„å•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨çŸ©é˜µä¸­æœç´¢å¤šä¸ªå•è¯ï¼Œè¿”å›å­˜åœ¨çš„å•è¯ã€‚åŸé¢˜\"></a>åœ¨çŸ©é˜µä¸­æœç´¢å¤šä¸ªå•è¯ï¼Œè¿”å›å­˜åœ¨çš„å•è¯ã€‚<a href=\"https://leetcode.com/problems/word-search-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">board &#x3D; [</span><br><span class=\"line\">  [&#39;o&#39;,&#39;a&#39;,&#39;a&#39;,&#39;n&#39;],</span><br><span class=\"line\">  [&#39;e&#39;,&#39;t&#39;,&#39;a&#39;,&#39;e&#39;],</span><br><span class=\"line\">  [&#39;i&#39;,&#39;h&#39;,&#39;k&#39;,&#39;r&#39;],</span><br><span class=\"line\">  [&#39;i&#39;,&#39;f&#39;,&#39;l&#39;,&#39;v&#39;]</span><br><span class=\"line\">]</span><br><span class=\"line\">words &#x3D; [&quot;oath&quot;,&quot;pea&quot;,&quot;eat&quot;,&quot;rain&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [&quot;eat&quot;,&quot;oath&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå’Œå•è¯æœç´¢ä¸€æ ·ï¼Œå¤§ä½“çš„åŸç†è¿˜æ˜¯å›æº¯æ³•ï¼Œä½†æ˜¯è¦è€ƒè™‘ä¸€äº›ä¼˜åŒ–ï¼Œæ‰€ä»¥ç”¨Trie è¿™é‡Œæœ‰ä¸ªåœ°æ–¹æ³¨æ„è¦åœ¨å¾ªç¯åˆšå¼€å§‹å‰å°†g[i][j]è®¾ä¸ºâ€™#â€™ä¸èƒ½è¿‡æ—©åœ°æ”¾åœ¨return å‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrieNode</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.child = collections.defaultdict(TrieNode)</span><br><span class=\"line\">        self.is_word = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Trie</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.root = TrieNode()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insert</span><span class=\"params\">(self, word: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> word:</span><br><span class=\"line\">            cur = cur.child[letter]</span><br><span class=\"line\">        cur.is_word = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> letter <span class=\"keyword\">in</span> word:</span><br><span class=\"line\">            cur = cur.child.get(letter)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur.is_word</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findWords</span><span class=\"params\">(self, g: List[List[str]], words: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j, node, path)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> node.is_word:</span><br><span class=\"line\">                ans.append(path)</span><br><span class=\"line\">                node.is_word = <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> R&gt;i&gt;=<span class=\"number\">0</span>&lt;=j&lt;C:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> </span><br><span class=\"line\">            tmp = g[i][j]</span><br><span class=\"line\">            node = node.child.get(tmp)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> </span><br><span class=\"line\">            g[i][j] = <span class=\"string\">'#'</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">                dfs(x, y, node, path+tmp)</span><br><span class=\"line\">            g[i][j] = tmp</span><br><span class=\"line\">        </span><br><span class=\"line\">        R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        trie = Trie()</span><br><span class=\"line\">        node = trie.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">            trie.insert(w)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">                dfs(i, j, node, <span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"211-Add-and-Search-Word-Data-structure-design\"><a href=\"#211-Add-and-Search-Word-Data-structure-design\" class=\"headerlink\" title=\"211. Add and Search Word - Data structure design\"></a>211. Add and Search Word - Data structure design</h3><h4 id=\"å’Œå‰ç¼€å•è¯æŸ¥æ‰¾æ ‘é¢˜ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºï¼Œè¿™é‡Œæœç´¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨â€™-â€™æ¥åŒ¹é…æ‰€æœ‰çš„å­—æ¯ã€‚åŸé¢˜\"><a href=\"#å’Œå‰ç¼€å•è¯æŸ¥æ‰¾æ ‘é¢˜ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºï¼Œè¿™é‡Œæœç´¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨â€™-â€™æ¥åŒ¹é…æ‰€æœ‰çš„å­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œå‰ç¼€å•è¯æŸ¥æ‰¾æ ‘é¢˜ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºï¼Œè¿™é‡Œæœç´¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨â€™.â€™æ¥åŒ¹é…æ‰€æœ‰çš„å­—æ¯ã€‚åŸé¢˜\"></a>å’Œå‰ç¼€å•è¯æŸ¥æ‰¾æ ‘é¢˜ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºï¼Œè¿™é‡Œæœç´¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨â€™.â€™æ¥åŒ¹é…æ‰€æœ‰çš„å­—æ¯ã€‚<a href=\"https://leetcode.com/problems/add-and-search-word-data-structure-design/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">addWord(&quot;bad&quot;)</span><br><span class=\"line\">addWord(&quot;dad&quot;)</span><br><span class=\"line\">addWord(&quot;mad&quot;)</span><br><span class=\"line\">search(&quot;pad&quot;) -&gt; false</span><br><span class=\"line\">search(&quot;bad&quot;) -&gt; true</span><br><span class=\"line\">search(&quot;.ad&quot;) -&gt; true</span><br><span class=\"line\">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šTrie + dfs.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrieNode</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.child = collections.defaultdict(TrieNode)</span><br><span class=\"line\">        self.is_word = <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WordDictionary</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.root = TrieNode()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addWord</span><span class=\"params\">(self, word: str)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        cur = self.root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> word:</span><br><span class=\"line\">            cur = cur.child[c]</span><br><span class=\"line\">        cur.is_word = <span class=\"literal\">True</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">search</span><span class=\"params\">(self, word: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(cur, w)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> cur.is_word</span><br><span class=\"line\">            <span class=\"keyword\">if</span> w[<span class=\"number\">0</span>] != <span class=\"string\">'.'</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> dfs(cur.child.get(w[<span class=\"number\">0</span>]), w[<span class=\"number\">1</span>:])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> any(dfs(c, w[<span class=\"number\">1</span>:]) <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> cur.child.values())</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(self.root, word)</span><br></pre></td></tr></table></figure>\n<h3 id=\"820-Short-Encoding-of-Words\"><a href=\"#820-Short-Encoding-of-Words\" class=\"headerlink\" title=\"820. Short Encoding of Words\"></a>820. Short Encoding of Words</h3><h4 id=\"è¿™ä¸ªé¢˜æè¿°çš„æœ‰ç‚¹ä¹±ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†ä¸€ä¸ªå•è¯åˆ—è¡¨è½¬æˆå¦ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œä½¿å‰è€…çš„å•è¯æ¯ä¸€ä¸ªéƒ½æ˜¯åè€…çš„åç¼€ã€‚æ±‚åˆ—è¡¨çš„é•¿åº¦åŠ ä¸Šåˆ†éš”ç¬¦-ã€‚åŸé¢˜\"><a href=\"#è¿™ä¸ªé¢˜æè¿°çš„æœ‰ç‚¹ä¹±ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†ä¸€ä¸ªå•è¯åˆ—è¡¨è½¬æˆå¦ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œä½¿å‰è€…çš„å•è¯æ¯ä¸€ä¸ªéƒ½æ˜¯åè€…çš„åç¼€ã€‚æ±‚åˆ—è¡¨çš„é•¿åº¦åŠ ä¸Šåˆ†éš”ç¬¦-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™ä¸ªé¢˜æè¿°çš„æœ‰ç‚¹ä¹±ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†ä¸€ä¸ªå•è¯åˆ—è¡¨è½¬æˆå¦ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œä½¿å‰è€…çš„å•è¯æ¯ä¸€ä¸ªéƒ½æ˜¯åè€…çš„åç¼€ã€‚æ±‚åˆ—è¡¨çš„é•¿åº¦åŠ ä¸Šåˆ†éš”ç¬¦#ã€‚åŸé¢˜\"></a>è¿™ä¸ªé¢˜æè¿°çš„æœ‰ç‚¹ä¹±ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†ä¸€ä¸ªå•è¯åˆ—è¡¨è½¬æˆå¦ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œä½¿å‰è€…çš„å•è¯æ¯ä¸€ä¸ªéƒ½æ˜¯åè€…çš„åç¼€ã€‚æ±‚åˆ—è¡¨çš„é•¿åº¦åŠ ä¸Šåˆ†éš”ç¬¦#ã€‚<a href=\"https://leetcode.com/problems/short-encoding-of-words/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: words &#x3D; [&quot;time&quot;, &quot;me&quot;, &quot;bell&quot;]</span><br><span class=\"line\">Output: 10</span><br><span class=\"line\">Explanation: S &#x3D; &quot;time#bell#&quot; and indexes &#x3D; [0, 2, 5].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå› ä¸ºæ•°æ®ä¸éƒ½å¤§ï¼Œæ‰€ä»¥ç›´æ¥ç”¨setã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumLengthEncoding</span><span class=\"params\">(self, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    s = set(words)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(w)):</span><br><span class=\"line\">            s.discard(w[i:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(len(w)+<span class=\"number\">1</span> <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> s)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå•è¯æŸ¥æ‰¾æ ‘ã€‚æœ€åä¸ä¸ºç©ºçš„nodeè¡¨ç¤ºåªæ˜¯åç¼€çš„ä¸€éƒ¨åˆ†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumLengthEncoding</span><span class=\"params\">(self, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    root = dict()</span><br><span class=\"line\">    leaves = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> set(words):</span><br><span class=\"line\">        cur = root</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> reversed(word):</span><br><span class=\"line\">            cur[w] = cur = cur.get(w, dict())</span><br><span class=\"line\">        leaves.append((cur, len(word)+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(d <span class=\"keyword\">for</span> node, d <span class=\"keyword\">in</span> leaves <span class=\"keyword\">if</span> len(node)==<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1032-Stream-of-Characters\"><a href=\"#1032-Stream-of-Characters\" class=\"headerlink\" title=\"1032. Stream of Characters\"></a>1032. Stream of Characters</h3><h4 id=\"ç»™å®šä¸€äº›å•è¯ï¼ŒæŸ¥è¯¢å­—æ¯ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å’Œå‰kæ­¥çš„å­—æ¯ç»„æˆæŸä¸ªå•è¯ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€äº›å•è¯ï¼ŒæŸ¥è¯¢å­—æ¯ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å’Œå‰kæ­¥çš„å­—æ¯ç»„æˆæŸä¸ªå•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€äº›å•è¯ï¼ŒæŸ¥è¯¢å­—æ¯ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å’Œå‰kæ­¥çš„å­—æ¯ç»„æˆæŸä¸ªå•è¯ã€‚åŸé¢˜\"></a>ç»™å®šä¸€äº›å•è¯ï¼ŒæŸ¥è¯¢å­—æ¯ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½å’Œå‰kæ­¥çš„å­—æ¯ç»„æˆæŸä¸ªå•è¯ã€‚<a href=\"https://leetcode.com/problems/stream-of-characters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">StreamChecker streamChecker &#x3D; new StreamChecker([&quot;cd&quot;,&quot;f&quot;,&quot;kl&quot;]); &#x2F;&#x2F; init the dictionary.</span><br><span class=\"line\">streamChecker.query(&#39;a&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;b&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;c&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;d&#39;);          &#x2F;&#x2F; return true, because &#39;cd&#39; is in the wordlist</span><br><span class=\"line\">streamChecker.query(&#39;e&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;f&#39;);          &#x2F;&#x2F; return true, because &#39;f&#39; is in the wordlist</span><br><span class=\"line\">streamChecker.query(&#39;g&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;h&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;i&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;j&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;k&#39;);          &#x2F;&#x2F; return false</span><br><span class=\"line\">streamChecker.query(&#39;l&#39;);          &#x2F;&#x2F; return true, because &#39;kl&#39; is in the wordlist</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘å†™çš„æ–¹æ³•å’Œè¿™ä¸ªå·®ä¸å¤šï¼Œä½†æ˜¯è¶…æ—¶äº†ï¼Œè¿™é‡ŒLeeç”¨äº†ä¸€äº›å†…ç½®çš„æ–¹æ³•ï¼Œæ‰ä¸ä¼šè¶…æ—¶ã€‚ä½†æ˜¯è€—æ—¶ä¹Ÿå¾ˆé•¿ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StreamChecker</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, words: List[str])</span>:</span></span><br><span class=\"line\">        T = <span class=\"keyword\">lambda</span>: collections.defaultdict(T)</span><br><span class=\"line\">        self.trie = T()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">            reduce(dict.__getitem__, w, self.trie)[<span class=\"string\">'#'</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        self.waiting = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">query</span><span class=\"params\">(self, letter: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        self.waiting = [node[letter] <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> self.waiting + [self.trie] <span class=\"keyword\">if</span> letter <span class=\"keyword\">in</span> node]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> any(<span class=\"string\">'#'</span> <span class=\"keyword\">in</span> node <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> self.waiting)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å€’ç½®å•è¯å­˜å‚¨ï¼Œè¿™æ ·å¯ä»¥æå‰é€€å‡ºå¾ªç¯ï¼Œè€Œä¸”ç»´æŒä¸€ä¸ªæœ€å¤§çš„å•è¯çš„é•¿åº¦å³å¯ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">StreamChecker</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, words: List[str])</span>:</span></span><br><span class=\"line\">        T = <span class=\"keyword\">lambda</span>: collections.defaultdict(T)</span><br><span class=\"line\">        self.trie = T()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">            reduce(dict.__getitem__, w[::<span class=\"number\">-1</span>], self.trie)[<span class=\"string\">'#'</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        self.S = <span class=\"string\">\"\"</span></span><br><span class=\"line\">        self.W = max(map(len, words))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">query</span><span class=\"params\">(self, letter: str)</span> -&gt; bool:</span></span><br><span class=\"line\">        self.S = (letter + self.S)[:self.W]</span><br><span class=\"line\">        cur = self.trie</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> self.S:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c <span class=\"keyword\">in</span> cur:</span><br><span class=\"line\">                cur = cur[c]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> cur[<span class=\"string\">'#'</span>]:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Trie"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå›¾ç¯‡ï¼‰Graph","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph/","content":"<h3 id=\"990-Satisfiability-of-Equality-Equations\"><a href=\"#990-Satisfiability-of-Equality-Equations\" class=\"headerlink\" title=\"990. Satisfiability of Equality Equations\"></a>990. Satisfiability of Equality Equations</h3><h4 id=\"æ»¡è¶³æ‰€æœ‰æ–¹ç¨‹å¼ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å˜é‡çš„å€¼æ»¡è¶³æ‰€æœ‰çš„ç­‰å¼ä¸ä¸ç­‰å¼ã€‚åŸé¢˜\"><a href=\"#æ»¡è¶³æ‰€æœ‰æ–¹ç¨‹å¼ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å˜é‡çš„å€¼æ»¡è¶³æ‰€æœ‰çš„ç­‰å¼ä¸ä¸ç­‰å¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ»¡è¶³æ‰€æœ‰æ–¹ç¨‹å¼ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å˜é‡çš„å€¼æ»¡è¶³æ‰€æœ‰çš„ç­‰å¼ä¸ä¸ç­‰å¼ã€‚åŸé¢˜\"></a>æ»¡è¶³æ‰€æœ‰æ–¹ç¨‹å¼ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å˜é‡çš„å€¼æ»¡è¶³æ‰€æœ‰çš„ç­‰å¼ä¸ä¸ç­‰å¼ã€‚<a href=\"https://leetcode.com/problems/satisfiability-of-equality-equations/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>è§£æï¼šæ‰€æœ‰çš„ç›¸ç­‰çš„ç‚¹ï¼Œåœ¨å›¾ä¸­æ˜¯è”é€šçš„ã€‚</p>\n<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [&quot;a&#x3D;&#x3D;b&quot;,&quot;b!&#x3D;a&quot;]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: If we assign say, a &#x3D; 1 and b &#x3D; 1, then the first equation is satisfied, but not the second.  There is no way to assign the variables to satisfy both equations.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [&quot;a&#x3D;&#x3D;b&quot;,&quot;b&#x3D;&#x3D;c&quot;,&quot;a&#x3D;&#x3D;c&quot;]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [&quot;a&#x3D;&#x3D;b&quot;,&quot;b!&#x3D;c&quot;,&quot;c&#x3D;&#x3D;a&quot;]</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šset.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">equationsPossible</span><span class=\"params\">(self, equations: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    equals = []</span><br><span class=\"line\">    equations.sort(key=operator.itemgetter(<span class=\"number\">1</span>), reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"comment\"># print(equations)</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, e, _, y  <span class=\"keyword\">in</span> equations:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> e == <span class=\"string\">'='</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i, eq <span class=\"keyword\">in</span> enumerate(equals):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> x <span class=\"keyword\">in</span> eq <span class=\"keyword\">or</span> y <span class=\"keyword\">in</span> eq:</span><br><span class=\"line\">                    equals[i].update(&#123;x, y&#125;)</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                equals.append(&#123;x, y&#125;)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x == y:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> eq <span class=\"keyword\">in</span> equals:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> x <span class=\"keyword\">in</span> eq <span class=\"keyword\">and</span> y <span class=\"keyword\">in</span> eq:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"comment\"># print(equals)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šunion find. å¹¶æŸ¥é›†ã€‚findæ–¹æ³•å¯ä»¥æƒ³è±¡æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›çš„æ˜¯é“¾è¡¨æœ«å°¾key,valç›¸ç­‰çš„å…ƒç´ ã€‚åŒæ—¶å»ºç«‹è¿æ¥å…³ç³»ã€‚å¦‚<code>a==b, b==c</code>æ—¶<code>fc={&#39;a&#39;: &#39;b&#39;, &#39;b&#39;: &#39;c&#39;, &#39;c&#39;: &#39;c&#39;}</code>æ¯”è¾ƒ<code>a!=c</code>æ—¶å°±ä¼šæœ€ç»ˆæ‰¾åˆ°<code>fc[&#39;a&#39;] == &#39;c&#39;</code>ï¼›å¦‚<code>a==b, c==aæ—¶ï¼Œfc={&#39;a&#39;: &#39;b&#39;, &#39;b&#39;: &#39;b&#39;, &#39;c&#39;: &#39;b&#39;}</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">equationsPossible</span><span class=\"params\">(self, equations: <span class=\"string\">'List[str]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    equations.sort(key=<span class=\"keyword\">lambda</span> e: e[<span class=\"number\">1</span>] == <span class=\"string\">'!'</span>)</span><br><span class=\"line\">    uf = &#123;a: a <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> string.ascii_lowercase&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]: </span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, e, _, b <span class=\"keyword\">in</span> equations:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> e == <span class=\"string\">\"=\"</span>:</span><br><span class=\"line\">            uf[find(a)] = find(b)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> find(a) == find(b):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"997-Find-the-Town-Judge\"><a href=\"#997-Find-the-Town-Judge\" class=\"headerlink\" title=\"997. Find the Town Judge\"></a>997. Find the Town Judge</h3><h4 id=\"æ‰¾åˆ°å°é•‡å®¡åˆ¤é•¿ã€‚å®¡åˆ¤é•¿è¢«é™¤è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰äººä¿¡ä»»ï¼Œå¹¶ä¸”ä¸ä¿¡ä»»ä»»ä½•äººã€‚æ ¹æ®ä¿¡ä»»åˆ—è¡¨æ‰¾å‡ºå®¡åˆ¤é•¿ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°å°é•‡å®¡åˆ¤é•¿ã€‚å®¡åˆ¤é•¿è¢«é™¤è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰äººä¿¡ä»»ï¼Œå¹¶ä¸”ä¸ä¿¡ä»»ä»»ä½•äººã€‚æ ¹æ®ä¿¡ä»»åˆ—è¡¨æ‰¾å‡ºå®¡åˆ¤é•¿ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°å°é•‡å®¡åˆ¤é•¿ã€‚å®¡åˆ¤é•¿è¢«é™¤è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰äººä¿¡ä»»ï¼Œå¹¶ä¸”ä¸ä¿¡ä»»ä»»ä½•äººã€‚æ ¹æ®ä¿¡ä»»åˆ—è¡¨æ‰¾å‡ºå®¡åˆ¤é•¿ã€‚åŸé¢˜\"></a>æ‰¾åˆ°å°é•‡å®¡åˆ¤é•¿ã€‚å®¡åˆ¤é•¿è¢«é™¤è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰äººä¿¡ä»»ï¼Œå¹¶ä¸”ä¸ä¿¡ä»»ä»»ä½•äººã€‚æ ¹æ®ä¿¡ä»»åˆ—è¡¨æ‰¾å‡ºå®¡åˆ¤é•¿ã€‚<a href=\"https://leetcode.com/problems/find-the-town-judge/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: N &#x3D; 4, trust &#x3D; [[1,3],[1,4],[2,3],[2,4],[4,3]]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Input: N &#x3D; 3, trust &#x3D; [[1,3],[2,3],[3,1]]</span><br><span class=\"line\">Output: -1</span><br><span class=\"line\">Input: N &#x3D; 3, trust &#x3D; [[1,3],[2,3]]</span><br><span class=\"line\">Output: 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šbrute force.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findJudge</span><span class=\"params\">(self, N: int, trust: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> trust:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> N</span><br><span class=\"line\">    a, b = zip(*trust)           </span><br><span class=\"line\">    candidates = collections.Counter(b)</span><br><span class=\"line\">    villages = set(a)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> c, votes <span class=\"keyword\">in</span> candidates.most_common():</span><br><span class=\"line\">        <span class=\"keyword\">if</span> votes &lt; N - <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> villages:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå®šå‘å›¾ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findJudge</span><span class=\"params\">(self, N: int, trust: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    count = [<span class=\"number\">0</span>] * (N + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> trust:</span><br><span class=\"line\">        count[i] -= <span class=\"number\">1</span></span><br><span class=\"line\">        count[j] += <span class=\"number\">1</span></span><br><span class=\"line\">        print(count)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N + <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> count[i] == N - <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"133-Clone-Graph\"><a href=\"#133-Clone-Graph\" class=\"headerlink\" title=\"133. Clone Graph\"></a>133. Clone Graph</h3><h4 id=\"æ·±æ‹·è´ä¸€ä¸ªç®€å•ç¯ã€‚åŸé¢˜\"><a href=\"#æ·±æ‹·è´ä¸€ä¸ªç®€å•ç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ·±æ‹·è´ä¸€ä¸ªç®€å•ç¯ã€‚åŸé¢˜\"></a>æ·±æ‹·è´ä¸€ä¸ªç®€å•ç¯ã€‚<a href=\"https://leetcode.com/problems/clone-graph/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph/113_sample.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cloneGraph</span><span class=\"params\">(self, node: <span class=\"string\">'Node'</span>)</span> -&gt; 'Node':</span></span><br><span class=\"line\">    cp = collections.defaultdict(<span class=\"keyword\">lambda</span>: Node(<span class=\"number\">0</span>, []))</span><br><span class=\"line\">    nodes = [node]</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> nodes:</span><br><span class=\"line\">        n = nodes.pop()</span><br><span class=\"line\">        cp[n].val = n.val</span><br><span class=\"line\">        cp[n].neighbors = [cp[x] <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> n.neighbors]</span><br><span class=\"line\">        nodes.extend(x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> n.neighbors <span class=\"keyword\">if</span> x <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen)</span><br><span class=\"line\">        seen.add(n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cp[node]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1334-Find-the-City-With-the-Smallest-Number-of-Neighbors-at-a-Threshold-Distance\"><a href=\"#1334-Find-the-City-With-the-Smallest-Number-of-Neighbors-at-a-Threshold-Distance\" class=\"headerlink\" title=\"1334. Find the City With the Smallest Number of Neighbors at a Threshold Distance\"></a>1334. Find the City With the Smallest Number of Neighbors at a Threshold Distance</h3><h4 id=\"æ‰¾åˆ°è·ç¦»èŒƒå›´å†…é‚»å±…æœ€å°‘çš„åŸå¸‚ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°è·ç¦»èŒƒå›´å†…é‚»å±…æœ€å°‘çš„åŸå¸‚ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°è·ç¦»èŒƒå›´å†…é‚»å±…æœ€å°‘çš„åŸå¸‚ã€‚åŸé¢˜\"></a>æ‰¾åˆ°è·ç¦»èŒƒå›´å†…é‚»å±…æœ€å°‘çš„åŸå¸‚ã€‚<a href=\"https://leetcode.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph/1334.png\" class>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, edges &#x3D; [[0,1,3],[1,2,1],[1,3,4],[2,3,1]], distanceThreshold &#x3D; 4</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: The figure above describes the graph. </span><br><span class=\"line\">The neighboring cities at a distanceThreshold &#x3D; 4 for each city are:</span><br><span class=\"line\">City 0 -&gt; [City 1, City 2] </span><br><span class=\"line\">City 1 -&gt; [City 0, City 2, City 3] </span><br><span class=\"line\">City 2 -&gt; [City 0, City 1, City 3] </span><br><span class=\"line\">City 3 -&gt; [City 1, City 2] </span><br><span class=\"line\">Cities 0 and 3 have 2 neighboring cities at a distanceThreshold &#x3D; 4, but we have to return city 3 since it has the greatest number.</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ã€‚è¿™é‡Œæ²¡æƒ³åˆ°ç”¨ä¸€ä¸ªå †æ¥ç»´æŒæœ€å°çš„è·ç¦»ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheCity</span><span class=\"params\">(self, n: int, edges: List[List[int]], distanceThreshold: int)</span> -&gt; int:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v, w <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">        g[v].append((u, w))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_neighbor</span><span class=\"params\">(city)</span>:</span></span><br><span class=\"line\">        heap = [(<span class=\"number\">0</span>, city)]</span><br><span class=\"line\">        dist = &#123;&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">            cur_w, u = heapq.heappop(heap)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> u <span class=\"keyword\">in</span> dist:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> u != city:</span><br><span class=\"line\">                dist[u] = cur_w</span><br><span class=\"line\">            <span class=\"keyword\">for</span> v, w <span class=\"keyword\">in</span> g[u]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> v <span class=\"keyword\">in</span> dist:</span><br><span class=\"line\">                    <span class=\"keyword\">continue</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> cur_w + w &lt;= distanceThreshold:</span><br><span class=\"line\">                    heapq.heappush(heap, (cur_w+w, v))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(dist)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(range(n), key=<span class=\"keyword\">lambda</span> x: (count_neighbor(x), -x))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå¼—æ´›ä¼Šå¾·ç®—æ³•ï¼Œè¿™ä¸ªæ—¶é—´å¤æ‚åº¦ä¸ºO(N^3)ï¼Œspace: O(N^2)ä½†æ˜¯ä»£ç ç®€å•ã€‚æŠŠæ¯ä¸ªèŠ‚ç‚¹å½“æˆä¸­è½¬ç‚¹kï¼Œå¦‚æœ<code>dis[i][j] &gt; dis[i][k] + dis[k][j]</code>è¯´æ˜ä»kèµ°ï¼Œi, jè·ç¦»æ›´çŸ­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTheCity</span><span class=\"params\">(self, n: int, edges: List[List[int]], maxd: int)</span> -&gt; int:</span></span><br><span class=\"line\">    dis = [[float(<span class=\"string\">'inf'</span>)] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, j, w <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        dis[i][j] = dis[j][i] = w</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        dis[i][i] = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                dis[i][j] = min(dis[i][j], dis[i][k]+dis[k][j])</span><br><span class=\"line\">    ans = &#123;sum(d&lt;=maxd <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> dis[i]): i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n)&#125;  <span class=\"comment\"># è¿™é‡Œidå¤§çš„ä¼šå°†å°çš„è¦†ç›–</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[min(ans)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1267-Count-Servers-that-Communicate\"><a href=\"#1267-Count-Servers-that-Communicate\" class=\"headerlink\" title=\"1267. Count Servers that Communicate\"></a>1267. Count Servers that Communicate</h3><h4 id=\"æ‰¾åˆ°2ä¸ªä»¥ä¸Šçš„æœåŠ¡å™¨è¿æ¥ä¸ªæ•°ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ä¸€è¡Œæˆ–æ˜¯ä¸€åˆ—ç®—æ˜¯è¿æ¥ä¸Šã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°2ä¸ªä»¥ä¸Šçš„æœåŠ¡å™¨è¿æ¥ä¸ªæ•°ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ä¸€è¡Œæˆ–æ˜¯ä¸€åˆ—ç®—æ˜¯è¿æ¥ä¸Šã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°2ä¸ªä»¥ä¸Šçš„æœåŠ¡å™¨è¿æ¥ä¸ªæ•°ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ä¸€è¡Œæˆ–æ˜¯ä¸€åˆ—ç®—æ˜¯è¿æ¥ä¸Šã€‚åŸé¢˜\"></a>æ‰¾åˆ°2ä¸ªä»¥ä¸Šçš„æœåŠ¡å™¨è¿æ¥ä¸ªæ•°ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ä¸€è¡Œæˆ–æ˜¯ä¸€åˆ—ç®—æ˜¯è¿æ¥ä¸Šã€‚<a href=\"https://leetcode.com/problems/count-servers-that-communicate/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[1,1,0,0],[0,0,1,0],[0,0,1,0],[0,0,0,1]]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: The two servers in the first row can communicate with each other. The two servers in the third column can communicate with each other. The server at right bottom corner can&#39;t communicate with any other server.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå’Œå°å²›é—®é¢˜ä¸åŒï¼Œè¿™ä¸ªæœåŠ¡å™¨å¯ä»¥éš”ç©ºè¿æ¥ï¼ŒACæ—¶ç”¨çš„dfsæ–¹æ³•ï¼Œæ•ˆç‡éå¸¸æ…¢ã€‚å®é™…ä¸Šåªéœ€è¦è®°å½•æ¨ªçºµå·¦è¾¹å³å¯ï¼Œéå†ä¸¤æ¬¡</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countServers</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    X, Y = [<span class=\"number\">0</span>]*<span class=\"number\">300</span>, [<span class=\"number\">0</span>]*<span class=\"number\">300</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            X[i] += g[i][j]</span><br><span class=\"line\">            Y[j] += g[i][j]</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j]==<span class=\"number\">1</span> <span class=\"keyword\">and</span> (X[i]&gt;<span class=\"number\">1</span> <span class=\"keyword\">or</span> Y[j]&gt;<span class=\"number\">1</span>):</span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¡Œåˆ—ç´¯è®¡æ±‚å’Œï¼Œä½†æ˜¯åªæ˜¯ç”¨æ¥åˆ¤æ–­è€Œä¸æ˜¯ç´¯åŠ ï¼Œç„¶åéå†æ‰€æœ‰çš„å…ƒç´ ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countServers</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    X, Y = tuple(map(sum, g)), tuple(map(sum, zip(*g)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(X[i]+Y[j]&gt;<span class=\"number\">2</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(g)) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(g[<span class=\"number\">0</span>])) <span class=\"keyword\">if</span> g[i][j])</span><br></pre></td></tr></table></figure>\n<h3 id=\"886-Possible-Bipartition\"><a href=\"#886-Possible-Bipartition\" class=\"headerlink\" title=\"886. Possible Bipartition\"></a>886. Possible Bipartition</h3><h4 id=\"å°†ä¸å–œæ¬¢çš„äººæ”¾åœ¨ä¸¤ç»„ä¸­ï¼Œæ ¹æ®å…³ç³»æ˜¯å¦èƒ½å°†å…¶åˆ†ä¸º2ç»„ã€‚åŸé¢˜\"><a href=\"#å°†ä¸å–œæ¬¢çš„äººæ”¾åœ¨ä¸¤ç»„ä¸­ï¼Œæ ¹æ®å…³ç³»æ˜¯å¦èƒ½å°†å…¶åˆ†ä¸º2ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸å–œæ¬¢çš„äººæ”¾åœ¨ä¸¤ç»„ä¸­ï¼Œæ ¹æ®å…³ç³»æ˜¯å¦èƒ½å°†å…¶åˆ†ä¸º2ç»„ã€‚åŸé¢˜\"></a>å°†ä¸å–œæ¬¢çš„äººæ”¾åœ¨ä¸¤ç»„ä¸­ï¼Œæ ¹æ®å…³ç³»æ˜¯å¦èƒ½å°†å…¶åˆ†ä¸º2ç»„ã€‚<a href=\"https://leetcode.com/problems/possible-bipartition/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: N &#x3D; 4, dislikes &#x3D; [[1,2],[1,3],[2,4]]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: group1 [1,4], group2 [2,3]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: N &#x3D; 3, dislikes &#x3D; [[1,2],[1,3],[2,3]]</span><br><span class=\"line\">Output: false</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfsã€‚æ­¤é¢˜æƒ³äº†åŠä¸ªå¤šç‚¹æ‰æƒ³æ˜ç™½ï¼Œç­‰åŒäºåœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œå¯»æ‰¾ä¸€ä¸ªå¥‡æ•°è¾¹çš„ç¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">possibleBipartition</span><span class=\"params\">(self, N: int, dislikes: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> dislikes:</span><br><span class=\"line\">        g[a].append(b)</span><br><span class=\"line\">        g[b].append(a)</span><br><span class=\"line\"></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, p, p_len)</span>:</span></span><br><span class=\"line\">        seen.add(i)</span><br><span class=\"line\">        p[i] = p_len</span><br><span class=\"line\">        <span class=\"keyword\">for</span> nxt <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nxt <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dfs(nxt, p, p_len+<span class=\"number\">1</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> nxt <span class=\"keyword\">in</span> p <span class=\"keyword\">and</span> (p_len-p[nxt])&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        p.pop(i)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    p = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> dfs(i, p, <span class=\"number\">0</span>):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæŸ“è‰²æ€æƒ³ã€‚0ä»£è¡¨çº¢è‰²ï¼Œ1ä»£è¡¨è“è‰²ï¼Œæ¯æ¬¡å°†å…¶ä¸å–œæ¬¢çš„äººæŸ“æˆå¦ä¸€ç§é¢œè‰²ã€‚è¿™ä¸ªä»£ç æ¯”è¾ƒç®€æ´ï¼Œä¸è¿‡ç¨å¾®æ…¢äº†ä¸€ä¸¢ä¸¢ï¼Œ50mså·¦å³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">possibleBipartition</span><span class=\"params\">(self, N: int, dislikes: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> dislikes:</span><br><span class=\"line\">        g[a].append(b)</span><br><span class=\"line\">        g[b].append(a)</span><br><span class=\"line\">    </span><br><span class=\"line\">    color = &#123;&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, c=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">in</span> color:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> color[i]==c</span><br><span class=\"line\">        color[i] = c</span><br><span class=\"line\">        <span class=\"keyword\">return</span> all(dfs(j, c^<span class=\"number\">1</span>) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(dfs(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>) </span><br><span class=\"line\">               <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> color)</span><br></pre></td></tr></table></figure>\n<h3 id=\"207-Course-Schedule\"><a href=\"#207-Course-Schedule\" class=\"headerlink\" title=\"207. Course Schedule\"></a>207. Course Schedule</h3><h4 id=\"è¯¾ç¨‹è°ƒåº¦ï¼Œè¯¾ç¨‹æœ‰ä¾èµ–å…³ç³»ï¼Œé—®æ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰çš„è¯¾ç¨‹ã€‚åŸé¢˜\"><a href=\"#è¯¾ç¨‹è°ƒåº¦ï¼Œè¯¾ç¨‹æœ‰ä¾èµ–å…³ç³»ï¼Œé—®æ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰çš„è¯¾ç¨‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¯¾ç¨‹è°ƒåº¦ï¼Œè¯¾ç¨‹æœ‰ä¾èµ–å…³ç³»ï¼Œé—®æ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰çš„è¯¾ç¨‹ã€‚åŸé¢˜\"></a>è¯¾ç¨‹è°ƒåº¦ï¼Œè¯¾ç¨‹æœ‰ä¾èµ–å…³ç³»ï¼Œé—®æ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰çš„è¯¾ç¨‹ã€‚<a href=\"https://leetcode.com/problems/course-schedule/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: numCourses &#x3D; 2, prerequisites &#x3D; [[1,0]]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: There are a total of 2 courses to take. </span><br><span class=\"line\">             To take course 1 you should have finished course 0. So it is possible.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfsã€‚æ³¨æ„è¿™é‡ŒçŠ¶æ€è¦ç”¨3ä¸­ï¼Œ1è¡¨ç¤ºéå†è¿‡ï¼Œ-1è¡¨ç¤ºæ­£åœ¨éå†ï¼Œ0è¡¨æœªéå†ã€‚è¿™æ ·å¯ä»¥é¿å…é‡å¤çš„éå†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canFinish</span><span class=\"params\">(self, n: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> prerequisites:</span><br><span class=\"line\">        g[a].append(b)</span><br><span class=\"line\">        </span><br><span class=\"line\">    seen = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> seen[i] <span class=\"keyword\">in</span> &#123;<span class=\"number\">1</span>, <span class=\"number\">-1</span>&#125;: <span class=\"keyword\">return</span> seen[i]==<span class=\"number\">1</span></span><br><span class=\"line\">        seen[i] = <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> any(<span class=\"keyword\">not</span> dfs(j) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]): <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        seen[i] = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•ä¼˜é›…ä¸€ç‚¹ï¼Œæ¥è‡ªLee215. BFS Topological Sorting.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canFinish</span><span class=\"params\">(self, n: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    degree = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> prerequisites:</span><br><span class=\"line\">        g[v].append(u)</span><br><span class=\"line\">        degree[u] -= <span class=\"number\">1</span></span><br><span class=\"line\">    bfs = [i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">if</span> degree[i]==<span class=\"number\">0</span>]    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> bfs:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            degree[j] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> degree[j] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                bfs.append(j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(bfs)==n</span><br></pre></td></tr></table></figure>\n<h3 id=\"1462-Course-Schedule-IV\"><a href=\"#1462-Course-Schedule-IV\" class=\"headerlink\" title=\"1462. Course Schedule IV\"></a>1462. Course Schedule IV</h3><h4 id=\"å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œé—®é¢˜ä¸ä¸€æ ·ï¼Œé—®çš„æ˜¯æ ¹æ®ç»™å®šçš„ä¾èµ–å…³ç³»ï¼Œåˆ¤æ–­ä¸¤èŠ‚è¯¾æ˜¯å¦æœ‰ä¾èµ–ã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œé—®é¢˜ä¸ä¸€æ ·ï¼Œé—®çš„æ˜¯æ ¹æ®ç»™å®šçš„ä¾èµ–å…³ç³»ï¼Œåˆ¤æ–­ä¸¤èŠ‚è¯¾æ˜¯å¦æœ‰ä¾èµ–ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œé—®é¢˜ä¸ä¸€æ ·ï¼Œé—®çš„æ˜¯æ ¹æ®ç»™å®šçš„ä¾èµ–å…³ç³»ï¼Œåˆ¤æ–­ä¸¤èŠ‚è¯¾æ˜¯å¦æœ‰ä¾èµ–ã€‚åŸé¢˜\"></a>å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œé—®é¢˜ä¸ä¸€æ ·ï¼Œé—®çš„æ˜¯æ ¹æ®ç»™å®šçš„ä¾èµ–å…³ç³»ï¼Œåˆ¤æ–­ä¸¤èŠ‚è¯¾æ˜¯å¦æœ‰ä¾èµ–ã€‚<a href=\"https://leetcode.com/problems/course-schedule-iv/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šdfs. è¿™ä¸ªæ–¹æ³•æƒ³äº†è¶…å‡ºæ¯”èµ›æ—¶é—´é™åˆ¶äº†ã€‚ä½†æ˜¯ä¹Ÿæ²¡è¿‡å¤šä¹…å°±ä¼˜åŒ– å‡ºæ¥äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkIfPrerequisite</span><span class=\"params\">(self, n: int, prerequisites: List[List[int]], queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    q = [set() <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]         </span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> prerequisites:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> q[i]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> q[i]</span><br><span class=\"line\">        q[i].update(g[i])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            q[i].update(dfs(j))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q[i]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        dfs(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [b <span class=\"keyword\">in</span> q[a] <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå¼—æ´›ä¼Šå¾·ç®—æ³•ï¼Œå’Œæ±‚åŸå¸‚æœ€å°è·ç¦»ä¸€æ ·ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n3)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkIfPrerequisite</span><span class=\"params\">(self, n: int, prerequisites: List[List[int]], queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    g = [[<span class=\"literal\">False</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> prerequisites:</span><br><span class=\"line\">        g[u][v] = <span class=\"literal\">True</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                g[i][j] = g[i][j] <span class=\"keyword\">or</span> (g[i][k] <span class=\"keyword\">and</span> g[k][j])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [g[i][j] <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šbfs. æ‹“æ‰‘æ’åºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkIfPrerequisite</span><span class=\"params\">(self, n: int, prerequisites: List[List[int]], queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    degree = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    pres = [set() <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> prerequisites:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        degree[v] -= <span class=\"number\">1</span></span><br><span class=\"line\">        pres[v].add(u)</span><br><span class=\"line\">    bfs = [i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">if</span> degree[i]==<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> bfs:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            degree[j] += <span class=\"number\">1</span></span><br><span class=\"line\">            pres[j] |= pres[i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> degree[j] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                bfs.append(j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">in</span> pres[b] <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1466-Reorder-Routes-to-Make-All-Paths-Lead-to-the-City-Zero\"><a href=\"#1466-Reorder-Routes-to-Make-All-Paths-Lead-to-the-City-Zero\" class=\"headerlink\" title=\"1466. Reorder Routes to Make All Paths Lead to the City Zero\"></a>1466. Reorder Routes to Make All Paths Lead to the City Zero</h3><h4 id=\"æœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´åªæœ‰ä¸€æ¡è¾¹ï¼Œè¦æ±‚æ‰€æœ‰çš„è¾¹æŒ‡å‘0ï¼Œéœ€è¦æ”¹å¤šå°‘æ¡è¾¹çš„æ–¹å‘ã€‚åŸé¢˜\"><a href=\"#æœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´åªæœ‰ä¸€æ¡è¾¹ï¼Œè¦æ±‚æ‰€æœ‰çš„è¾¹æŒ‡å‘0ï¼Œéœ€è¦æ”¹å¤šå°‘æ¡è¾¹çš„æ–¹å‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´åªæœ‰ä¸€æ¡è¾¹ï¼Œè¦æ±‚æ‰€æœ‰çš„è¾¹æŒ‡å‘0ï¼Œéœ€è¦æ”¹å¤šå°‘æ¡è¾¹çš„æ–¹å‘ã€‚åŸé¢˜\"></a>æœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´åªæœ‰ä¸€æ¡è¾¹ï¼Œè¦æ±‚æ‰€æœ‰çš„è¾¹æŒ‡å‘0ï¼Œéœ€è¦æ”¹å¤šå°‘æ¡è¾¹çš„æ–¹å‘ã€‚<a href=\"https://leetcode.com/problems/reorder-routes-to-make-all-paths-lead-to-the-city-zero/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 6, connections &#x3D; [[0,1],[1,3],[2,3],[4,0],[4,5]]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Change the direction of edges show in red such that each node can reach the node 0 (capital).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç«èµ›æ—¶æœªä½œå‡ºã€‚ä¸€ä¸ªæ•ˆç‡ä¸æ˜¯å¾ˆé«˜çš„æ–¹æ³•ã€‚ç”¨çˆ¶èŠ‚ç‚¹å»é‡ã€‚setè®°å½•åŸå§‹é¡ºåºï¼Œéå†æ— å‘å›¾ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minReorder</span><span class=\"params\">(self, n: int, connections: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    roads = set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> connections:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        g[v].append(u)</span><br><span class=\"line\">        roads.add((u, v))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, parent)</span>:</span></span><br><span class=\"line\">        self.ans += (parent, i) <span class=\"keyword\">in</span> roads</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == parent:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            dfs(j, i)</span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ¯”èµ›æ—¶æƒ³çš„æ€è·¯ï¼Œdfså†…å®¹æœªæƒ³å‡ºæ¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minReorder</span><span class=\"params\">(self, n: int, connections: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    g1 = collections.defaultdict(list)</span><br><span class=\"line\">    g2 = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> connections:</span><br><span class=\"line\">        g1[u].append(v)</span><br><span class=\"line\">        g2[v].append(u)</span><br><span class=\"line\">    </span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        seen.add(i)</span><br><span class=\"line\">        ans = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g1[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                ans += <span class=\"number\">1</span> + dfs(j)</span><br><span class=\"line\">                </span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> g2[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> k <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                ans += dfs(k)</span><br><span class=\"line\">                </span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1210-Minimum-Moves-to-Reach-Target-with-Rotations\"><a href=\"#1210-Minimum-Moves-to-Reach-Target-with-Rotations\" class=\"headerlink\" title=\"1210. Minimum Moves to Reach Target with Rotations\"></a>1210. Minimum Moves to Reach Target with Rotations</h3><h4 id=\"ä¸€ä¸ªå ä½2æ ¼çš„è›‡ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹éœ€è¦æœ€å°‘çš„æ­¥æ•°ï¼Œå¯ä»¥æ—‹è½¬ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªå ä½2æ ¼çš„è›‡ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹éœ€è¦æœ€å°‘çš„æ­¥æ•°ï¼Œå¯ä»¥æ—‹è½¬ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªå ä½2æ ¼çš„è›‡ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹éœ€è¦æœ€å°‘çš„æ­¥æ•°ï¼Œå¯ä»¥æ—‹è½¬ã€‚åŸé¢˜\"></a>ä¸€ä¸ªå ä½2æ ¼çš„è›‡ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹éœ€è¦æœ€å°‘çš„æ­¥æ•°ï¼Œå¯ä»¥æ—‹è½¬ã€‚<a href=\"https://leetcode.com/problems/minimum-moves-to-reach-target-with-rotations/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[0,0,0,0,0,1],</span><br><span class=\"line\">               [1,1,0,0,1,0],</span><br><span class=\"line\">               [0,0,0,0,1,1],</span><br><span class=\"line\">               [0,0,1,0,1,0],</span><br><span class=\"line\">               [0,1,1,0,0,0],</span><br><span class=\"line\">               [0,1,1,0,0,0]]</span><br><span class=\"line\">Output: 11</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">One possible solution is [right, right, rotate clockwise, right, down, down, down, down, rotate counterclockwise, right, down].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æ²¡æƒ³åˆ°åœ¨å†™å®Œè¿˜æœ‰10åˆ†é’Ÿï¼Œå…¶å®æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯æ‹¿ä¸¤ä¸ªç‚¹å½“æˆä¸€ä¸ªç‚¹ã€‚ä¸€ä¸ªç‚¹çš„bfså°±å¾ˆå®¹æ˜“äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumMoves</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(g)</span><br><span class=\"line\">    q = collections.deque([((<span class=\"number\">0</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">1</span>), <span class=\"number\">0</span>)])</span><br><span class=\"line\">    seen = set(((<span class=\"number\">0</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">1</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        tail, head, step = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tail[<span class=\"number\">0</span>] == head[<span class=\"number\">0</span>] == head[<span class=\"number\">1</span>] == n<span class=\"number\">-1</span> <span class=\"keyword\">and</span> tail[<span class=\"number\">1</span>]==n<span class=\"number\">-2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tail[<span class=\"number\">0</span>] == head[<span class=\"number\">0</span>] <span class=\"keyword\">and</span> tail[<span class=\"number\">0</span>]!=n<span class=\"number\">-1</span>: <span class=\"comment\"># horizontal</span></span><br><span class=\"line\">            d_tail, d_head = (tail[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, tail[<span class=\"number\">1</span>]), (head[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, head[<span class=\"number\">1</span>])</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[d_tail[<span class=\"number\">0</span>]][d_tail[<span class=\"number\">1</span>]] == g[d_head[<span class=\"number\">0</span>]][d_head[<span class=\"number\">1</span>]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (tail, d_tail) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((tail, d_tail, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    seen.add((tail, d_tail))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tail[<span class=\"number\">1</span>] == head[<span class=\"number\">1</span>] <span class=\"keyword\">and</span> tail[<span class=\"number\">1</span>]!=n<span class=\"number\">-1</span>: <span class=\"comment\"># vertical</span></span><br><span class=\"line\">            r_tail, r_head = (tail[<span class=\"number\">0</span>], tail[<span class=\"number\">1</span>]+<span class=\"number\">1</span>), (head[<span class=\"number\">0</span>], head[<span class=\"number\">1</span>]+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[r_tail[<span class=\"number\">0</span>]][r_tail[<span class=\"number\">1</span>]] == g[r_head[<span class=\"number\">0</span>]][r_head[<span class=\"number\">1</span>]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (tail, r_tail) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((tail, r_tail, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    seen.add((tail, r_tail))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head[<span class=\"number\">1</span>] != n<span class=\"number\">-1</span>:</span><br><span class=\"line\">            r_head = head[<span class=\"number\">0</span>], head[<span class=\"number\">1</span>]+<span class=\"number\">1</span></span><br><span class=\"line\">            r_tail = tail[<span class=\"number\">0</span>], tail[<span class=\"number\">1</span>]+<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[r_head[<span class=\"number\">0</span>]][r_head[<span class=\"number\">1</span>]] == g[r_tail[<span class=\"number\">0</span>]][r_tail[<span class=\"number\">1</span>]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (r_tail, r_head) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((r_tail, r_head, step+<span class=\"number\">1</span>))                    </span><br><span class=\"line\">                    seen.add((r_tail, r_head))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> head[<span class=\"number\">0</span>] != n<span class=\"number\">-1</span>:</span><br><span class=\"line\">            d_head = head[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, head[<span class=\"number\">1</span>]</span><br><span class=\"line\">            d_tail = tail[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, tail[<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[d_head[<span class=\"number\">0</span>]][d_head[<span class=\"number\">1</span>]] == g[d_tail[<span class=\"number\">0</span>]][d_tail[<span class=\"number\">1</span>]] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (d_tail, d_head) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((d_tail, d_head, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    seen.add((d_tail, d_head))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¦ä¸€ç§æ€è·¯å°†è›‡çš„æ¨ªç«–çŠ¶æ€è®°å½•ï¼Œè¿™æ ·ä¸€ä¸ªç‚¹ä¹Ÿèƒ½è¡¨ç¤ºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumMoves</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(g)</span><br><span class=\"line\">    q, seen, target = [(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>)], set(), (n<span class=\"number\">-1</span>, n<span class=\"number\">-2</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> r, c, dr, step <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (r, c, dr) == target: <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (r, c, dr) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            seen.add((r, c, dr))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> dr:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> c+<span class=\"number\">1</span>&lt;n <span class=\"keyword\">and</span> g[r][c+<span class=\"number\">1</span>]==g[r+<span class=\"number\">1</span>][c+<span class=\"number\">1</span>]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    q += [(r, c+<span class=\"number\">1</span>, <span class=\"number\">1</span>, step+<span class=\"number\">1</span>), (r, c, <span class=\"number\">0</span>, step+<span class=\"number\">1</span>)]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> r+<span class=\"number\">2</span>&lt;n <span class=\"keyword\">and</span> g[r+<span class=\"number\">2</span>][c]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    q += [(r+<span class=\"number\">1</span>, c, <span class=\"number\">1</span>, step+<span class=\"number\">1</span>)]</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> r+<span class=\"number\">1</span>&lt;n <span class=\"keyword\">and</span> g[r+<span class=\"number\">1</span>][c]==g[r+<span class=\"number\">1</span>][c+<span class=\"number\">1</span>]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    q += [(r+<span class=\"number\">1</span>, c, <span class=\"number\">0</span>, step+<span class=\"number\">1</span>), (r, c, <span class=\"number\">1</span>, step+<span class=\"number\">1</span>)]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> c+<span class=\"number\">2</span>&lt;n <span class=\"keyword\">and</span> g[r][c+<span class=\"number\">2</span>]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    q += [(r, c+<span class=\"number\">1</span>, <span class=\"number\">0</span>, step+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1202-Smallest-String-With-Swaps\"><a href=\"#1202-Smallest-String-With-Swaps\" class=\"headerlink\" title=\"1202. Smallest String With Swaps\"></a>1202. Smallest String With Swaps</h3><h4 id=\"ç»™å®šä¸€ç»„pairsè¡¨æ˜ç´¢å¼•å¯¹å¯ä»¥äº’æ¢ï¼Œæ±‚è¿™ä¸ªå­—ç¬¦ä¸²èƒ½æ¢çš„æœ€å°å€¼æ—¶å¤šå°‘ï¼ŒåŒä¸€å¯¹å¯ä»¥è¿›è¡Œå¤šæ¬¡äº’æ¢ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ç»„pairsè¡¨æ˜ç´¢å¼•å¯¹å¯ä»¥äº’æ¢ï¼Œæ±‚è¿™ä¸ªå­—ç¬¦ä¸²èƒ½æ¢çš„æœ€å°å€¼æ—¶å¤šå°‘ï¼ŒåŒä¸€å¯¹å¯ä»¥è¿›è¡Œå¤šæ¬¡äº’æ¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ç»„pairsè¡¨æ˜ç´¢å¼•å¯¹å¯ä»¥äº’æ¢ï¼Œæ±‚è¿™ä¸ªå­—ç¬¦ä¸²èƒ½æ¢çš„æœ€å°å€¼æ—¶å¤šå°‘ï¼ŒåŒä¸€å¯¹å¯ä»¥è¿›è¡Œå¤šæ¬¡äº’æ¢ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ç»„pairsè¡¨æ˜ç´¢å¼•å¯¹å¯ä»¥äº’æ¢ï¼Œæ±‚è¿™ä¸ªå­—ç¬¦ä¸²èƒ½æ¢çš„æœ€å°å€¼æ—¶å¤šå°‘ï¼ŒåŒä¸€å¯¹å¯ä»¥è¿›è¡Œå¤šæ¬¡äº’æ¢ã€‚<a href=\"https://leetcode.com/problems/smallest-string-with-swaps/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;dcab&quot;, pairs &#x3D; [[0,3],[1,2]]</span><br><span class=\"line\">Output: &quot;bacd&quot;</span><br><span class=\"line\">Explaination: </span><br><span class=\"line\">Swap s[0] and s[3], s &#x3D; &quot;bcad&quot;</span><br><span class=\"line\">Swap s[1] and s[2], s &#x3D; &quot;bacd&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†å‡ ä¸ªä¾‹å­æƒ³ä¸€æƒ³å°±æ˜ç™½äº†ï¼Œå®é™…ä¸Šæ˜¯ä¸€é“è¿é€šå™¨çš„é¢˜ï¼Œå°†è¿é€šçš„ç´¢å¼•å•ç‹¬æ’åºå°±æ˜¯æœ€å°çš„å€¼ã€‚</p>\n<p>ç«èµ›æ—¶acçš„æ–¹æ³•ç”¨çš„æ˜¯dfs. å†…å­˜ç”¨çš„æœ‰ç‚¹å¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestStringWithSwaps</span><span class=\"params\">(self, s: str, pairs: List[List[int]])</span> -&gt; str:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(s))]</span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>] * len(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> pairs:</span><br><span class=\"line\">        g[a].append(b)</span><br><span class=\"line\">        g[b].append(a)</span><br><span class=\"line\">    </span><br><span class=\"line\">    seen = [<span class=\"literal\">False</span>] * len(s)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seen[i]:</span><br><span class=\"line\">            seen[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">            p.append(i)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">                dfs(j, p)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p</span><br><span class=\"line\">    </span><br><span class=\"line\">    groups = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        tmp = dfs(i, [])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tmp:</span><br><span class=\"line\">            groups.append(tmp)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> idx <span class=\"keyword\">in</span> groups:</span><br><span class=\"line\">        letters = iter(sorted(s[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> idx))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> sorted(idx):</span><br><span class=\"line\">            ans[i] = next(letters)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(ans)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåšäº†ä¸€ç‚¹ä¼˜åŒ–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestStringWithSwaps</span><span class=\"params\">(self, s: str, pairs: List[List[int]])</span> -&gt; str:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(s))]</span><br><span class=\"line\">    ans = [<span class=\"string\">''</span>] * len(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> pairs:</span><br><span class=\"line\">        g[a].append(b)</span><br><span class=\"line\">        g[b].append(a)</span><br><span class=\"line\">    </span><br><span class=\"line\">    seen = [<span class=\"literal\">False</span>] * len(s)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        seen[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">        p.append(i)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seen[j]:</span><br><span class=\"line\">                dfs(j)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        p = []</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seen[i]:</span><br><span class=\"line\">            dfs(i)</span><br><span class=\"line\">        letters = iter(sorted(s[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> p))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> sorted(p):</span><br><span class=\"line\">            ans[i] = next(letters)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(ans)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šunion-findã€‚è¿™ä¸ªè¯„è®ºåŒºé‡Œçœ‹åˆ°çš„æ–¹æ³•å†™å¾—å¾ˆæ ‡å‡†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestStringWithSwaps</span><span class=\"params\">(self, s: str, pairs: List[List[int]])</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UF</span>:</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">            self.p = list(range(n))</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(self, x, y)</span>:</span></span><br><span class=\"line\">            self.p[self.find(x)] = self.find(y)</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> x!=self.p[x]:</span><br><span class=\"line\">                self.p[x] = self.find(self.p[x])</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.p[x]</span><br><span class=\"line\">    uf, res, m = UF(len(s)), [], defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> pairs:</span><br><span class=\"line\">        uf.union(x, y)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        m[uf.find(i)].append(s[i])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> comp_id <span class=\"keyword\">in</span> m.keys(): </span><br><span class=\"line\">        m[comp_id].sort(reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)): </span><br><span class=\"line\">        res.append(m[uf.find(i)].pop())</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(res)</span><br></pre></td></tr></table></figure>\n<h3 id=\"787-Cheapest-Flights-Within-K-Stops\"><a href=\"#787-Cheapest-Flights-Within-K-Stops\" class=\"headerlink\" title=\"787. Cheapest Flights Within K Stops\"></a>787. Cheapest Flights Within K Stops</h3><h4 id=\"ç»è¿‡Kä¸ªç«™ç‚¹çš„æœ€ä¾¿å®œçš„èˆªç­ã€‚åŸé¢˜\"><a href=\"#ç»è¿‡Kä¸ªç«™ç‚¹çš„æœ€ä¾¿å®œçš„èˆªç­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»è¿‡Kä¸ªç«™ç‚¹çš„æœ€ä¾¿å®œçš„èˆªç­ã€‚åŸé¢˜\"></a>ç»è¿‡Kä¸ªç«™ç‚¹çš„æœ€ä¾¿å®œçš„èˆªç­ã€‚<a href=\"https://leetcode.com/problems/cheapest-flights-within-k-stops/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ï¼Œåªä¸è¿‡å¤šäº†ä¸€ä¸ªæ¡ä»¶ï¼Œç»è¿‡Kä¸ªç«™ç‚¹ã€‚ä¸éœ€è¦ç”¨seenè®°å½•å·²ç»å»è¿‡çš„ç‚¹ï¼Œå› ä¸ºè¯¥ç‚¹å¯èƒ½æœ‰æ›´å°‘æ­¥æ•°çš„åˆ°è¾¾æ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findCheapestPrice</span><span class=\"params\">(self, n: int, flights: List[List[int]], src: int, dst: int, K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v, w <span class=\"keyword\">in</span> flights:</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">    </span><br><span class=\"line\">    q = [(<span class=\"number\">0</span>, src, <span class=\"number\">0</span>)]</span><br><span class=\"line\">    heapq.heapify(q)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        p, city, step = heapq.heappop(q)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> city == dst:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p</span><br><span class=\"line\">        <span class=\"keyword\">for</span> v, w <span class=\"keyword\">in</span> g[city]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> step &lt; K+<span class=\"number\">1</span>:</span><br><span class=\"line\">                heapq.heappush(q, (p+w, v, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"332-Reconstruct-Itinerary\"><a href=\"#332-Reconstruct-Itinerary\" class=\"headerlink\" title=\"332. Reconstruct Itinerary\"></a>332. Reconstruct Itinerary</h3><h4 id=\"é‡å»ºè¡Œç¨‹ï¼Œæ ¹æ®ç«è½¦ç¥¨æ¥å¯»æ‰¾è¡Œç¨‹ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#é‡å»ºè¡Œç¨‹ï¼Œæ ¹æ®ç«è½¦ç¥¨æ¥å¯»æ‰¾è¡Œç¨‹ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é‡å»ºè¡Œç¨‹ï¼Œæ ¹æ®ç«è½¦ç¥¨æ¥å¯»æ‰¾è¡Œç¨‹ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŸé¢˜\"></a>é‡å»ºè¡Œç¨‹ï¼Œæ ¹æ®ç«è½¦ç¥¨æ¥å¯»æ‰¾è¡Œç¨‹ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/reconstruct-itinerary/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[&quot;MUC&quot;, &quot;LHR&quot;], [&quot;JFK&quot;, &quot;MUC&quot;], [&quot;SFO&quot;, &quot;SJC&quot;], [&quot;LHR&quot;, &quot;SFO&quot;]]</span><br><span class=\"line\">Output: [&quot;JFK&quot;, &quot;MUC&quot;, &quot;LHR&quot;, &quot;SFO&quot;, &quot;SJC&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ï¼Œç›´æ¥ä¿®æ”¹gã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findItinerary</span><span class=\"params\">(self, tickets: List[List[str]])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> tickets:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u <span class=\"keyword\">in</span> g.keys():</span><br><span class=\"line\">        g[u].sort()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(city, p)</span>:</span>  </span><br><span class=\"line\">        <span class=\"comment\"># print(city, p, g)</span></span><br><span class=\"line\">        p.append(city)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p</span><br><span class=\"line\">        org = g[city]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, nxt <span class=\"keyword\">in</span> enumerate(g[city]):</span><br><span class=\"line\">            g[city] = g[city][:i] + g[city][i+<span class=\"number\">1</span>:]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g[city]:</span><br><span class=\"line\">                <span class=\"keyword\">del</span> g[city]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> dfs(nxt, p):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> p</span><br><span class=\"line\">            g[city] = org</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> org:</span><br><span class=\"line\">            <span class=\"keyword\">del</span> g[city]</span><br><span class=\"line\">        p.pop()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"string\">'JFK'</span>, [])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç”¨ä¸¤ä¸ªå€’åºå¯ä»¥è§£å†³</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findItinerary</span><span class=\"params\">(self, tickets: List[List[str]])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> sorted(tickets, reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(city)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> g[city]:</span><br><span class=\"line\">            dfs(g[city].pop())</span><br><span class=\"line\">        ans.append(city)</span><br><span class=\"line\">        </span><br><span class=\"line\">    dfs(<span class=\"string\">'JFK'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1519-Number-of-Nodes-in-the-Sub-Tree-With-the-Same-Label\"><a href=\"#1519-Number-of-Nodes-in-the-Sub-Tree-With-the-Same-Label\" class=\"headerlink\" title=\"1519. Number of Nodes in the Sub-Tree With the Same Label\"></a>1519. Number of Nodes in the Sub-Tree With the Same Label</h3><h4 id=\"æœ‰ä¸€ä¸ªæ•°çš„å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªå­—æ¯ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘ä¸­åŒ…å«è¿™ä¸ªå­—æ¯çš„æ€»ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æœ‰ä¸€ä¸ªæ•°çš„å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªå­—æ¯ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘ä¸­åŒ…å«è¿™ä¸ªå­—æ¯çš„æ€»ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰ä¸€ä¸ªæ•°çš„å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªå­—æ¯ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘ä¸­åŒ…å«è¿™ä¸ªå­—æ¯çš„æ€»ä¸ªæ•°ã€‚åŸé¢˜\"></a>æœ‰ä¸€ä¸ªæ•°çš„å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªå­—æ¯ï¼Œè¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘ä¸­åŒ…å«è¿™ä¸ªå­—æ¯çš„æ€»ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-nodes-in-the-sub-tree-with-the-same-label/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªé¢˜ä½œä¸ºç«èµ›çš„ç¬¬äºŒé¢˜æ˜¯åœ¨æ˜¯å¤ªæ¶å¿ƒäº†ï¼Œç»“æŸåæˆ‘æƒ³äº†å¾ˆé•¿æ—¶é—´æ‰æƒ³å‡ºæ¥ã€‚dfs + counter, æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰å®ƒç‹¬ç«‹çš„ä¸€ä¸ªcounterã€‚ å› ä¸ºå­—æ¯ä¸åŒã€</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSubTrees</span><span class=\"params\">(self, n: int, edges: List[List[int]], labels: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        g[v].append(u)</span><br><span class=\"line\"></span><br><span class=\"line\">    seen = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">    c = Counter()</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        cur = Counter()</span><br><span class=\"line\">        seen[node] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> nxt <span class=\"keyword\">in</span> g[node]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seen[nxt]:</span><br><span class=\"line\">                cur += dfs(nxt)</span><br><span class=\"line\">        label = labels[node]</span><br><span class=\"line\">        cur[label] += <span class=\"number\">1</span></span><br><span class=\"line\">        ans[node] = cur[label]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼˜åŒ–æ–¹æ³•ä¸€</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSubTrees</span><span class=\"params\">(self, n: int, edges: List[List[int]], labels: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        g[v].append(u)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, p)</span>:</span></span><br><span class=\"line\">        cur = Counter(labels[node])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> nxt <span class=\"keyword\">in</span> g[node]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nxt != p:</span><br><span class=\"line\">                cur += dfs(nxt, node)</span><br><span class=\"line\">        ans[node] = cur[labels[node]]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cur</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"478-Generate-Random-Point-in-a-Circle\"><a href=\"#478-Generate-Random-Point-in-a-Circle\" class=\"headerlink\" title=\"478. Generate Random Point in a Circle\"></a>478. Generate Random Point in a Circle</h3><h4 id=\"åœ¨ç»™å®šåœ†çš„èŒƒå›´å†…éšæœºç”Ÿæˆç‚¹ã€‚åŸé¢˜\"><a href=\"#åœ¨ç»™å®šåœ†çš„èŒƒå›´å†…éšæœºç”Ÿæˆç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨ç»™å®šåœ†çš„èŒƒå›´å†…éšæœºç”Ÿæˆç‚¹ã€‚åŸé¢˜\"></a>åœ¨ç»™å®šåœ†çš„èŒƒå›´å†…éšæœºç”Ÿæˆç‚¹ã€‚<a href=\"https://leetcode.com/problems/generate-random-point-in-a-circle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¸¥æ ¼æ¥è¯´ è¿™æ˜¯ä¸€é“å‡ ä½•é¢˜ï¼Œä¸ºä»€ä¹ˆè¦å°†å…¶å¼€æ–¹ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å¼€æ–¹ï¼Œå¯¹äºä¸€ä¸ªåœ†æ¥è¯´ï¼ŒåŠå¾„è¶Šå°çš„åœ°æ–¹ç‚¹å°±è¶Šå¯†é›†ï¼Œå› ä¸ºåœ¨è¯¥å‘¨é•¿ä¸Šæ‰€æœ‰çš„ç‚¹åˆ†å¸ƒæ˜¯ä¸€æ ·çš„ã€‚å¼€æ–¹å¯ä»¥è®©åŠå¾„å°çš„ç‚¹é™ä½åˆ†å¸ƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, radius: float, x_center: float, y_center: float)</span>:</span></span><br><span class=\"line\">        self.r = radius</span><br><span class=\"line\">        self.x = x_center</span><br><span class=\"line\">        self.y = y_center</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">randPoint</span><span class=\"params\">(self)</span> -&gt; List[float]:</span></span><br><span class=\"line\">        <span class=\"keyword\">import</span> random</span><br><span class=\"line\">        edge = math.sqrt(random.random()) * self.r</span><br><span class=\"line\">        deg = random.random()*<span class=\"number\">2</span>*math.pi</span><br><span class=\"line\">        x = self.x + edge*math.cos(deg)</span><br><span class=\"line\">        y = self.y + edge*math.sin(deg)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x, y</span><br></pre></td></tr></table></figure>\n<h3 id=\"1559-Detect-Cycles-in-2D-Grid\"><a href=\"#1559-Detect-Cycles-in-2D-Grid\" class=\"headerlink\" title=\"1559. Detect Cycles in 2D Grid\"></a>1559. Detect Cycles in 2D Grid</h3><h4 id=\"2D-çŸ©é˜µä¸­åˆ¤æ–­æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\"><a href=\"#2D-çŸ©é˜µä¸­åˆ¤æ–­æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"2D çŸ©é˜µä¸­åˆ¤æ–­æ˜¯å¦æœ‰ç¯ã€‚åŸé¢˜\"></a>2D çŸ©é˜µä¸­åˆ¤æ–­æ˜¯å¦æœ‰ç¯ã€‚<a href=\"https://leetcode.com/problems/detect-cycles-in-2d-grid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªé¢˜å°±å·®ä¸€ç‚¹æ²¡æƒ³å‡ºæ¥ï¼Œå°±æ˜¯æ€ä¹ˆé¿å…é‡å¤çš„è·¯å¾„ï¼Œé‚£å°±æ˜¯éœ€è¦å’Œå‰ä¸€ä¸ªç‚¹æ¯”å¯¹ã€‚çœ‹äº†è¿™ä¸ªæç¤ºåç¬é—´å°±å®Œæˆäº†ã€‚æ—¶é—´ç©ºé—´å¾…ä¼˜åŒ–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">containsCycle</span><span class=\"params\">(self, g: List[List[str]])</span> -&gt; bool:</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    visited = [[<span class=\"literal\">False</span>] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(x, y, c, a, b)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> visited[x][y]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        visited[x][y] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((x<span class=\"number\">-1</span>, y), (x+<span class=\"number\">1</span>, y), (x, y<span class=\"number\">-1</span>), (x, y+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> c==g[i][j] <span class=\"keyword\">and</span> (i, j)!=(a, b):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> spread(i, j, c, x, y):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> visited[i][j] <span class=\"keyword\">and</span> spread(i, j, g[i][j], i, j):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"310-Minimum-Height-Trees\"><a href=\"#310-Minimum-Height-Trees\" class=\"headerlink\" title=\"310. Minimum Height Trees\"></a>310. Minimum Height Trees</h3><h4 id=\"æœ‰ä¸€ä¸ªæ— å‘å›¾ï¼Œ0-n-1è¿™äº›èŠ‚ç‚¹ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€æ¡è¾¹ï¼Œæ‰¾å‡ºè¿™ç§èŠ‚ç‚¹ï¼Œå½“ä»¥èŠ‚ç‚¹ä¸ºæ ¹æ—¶ï¼Œç»„æˆçš„æ ‘æœ‰æœ€å°çš„é«˜åº¦ã€‚åŸé¢˜\"><a href=\"#æœ‰ä¸€ä¸ªæ— å‘å›¾ï¼Œ0-n-1è¿™äº›èŠ‚ç‚¹ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€æ¡è¾¹ï¼Œæ‰¾å‡ºè¿™ç§èŠ‚ç‚¹ï¼Œå½“ä»¥èŠ‚ç‚¹ä¸ºæ ¹æ—¶ï¼Œç»„æˆçš„æ ‘æœ‰æœ€å°çš„é«˜åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰ä¸€ä¸ªæ— å‘å›¾ï¼Œ0~n-1è¿™äº›èŠ‚ç‚¹ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€æ¡è¾¹ï¼Œæ‰¾å‡ºè¿™ç§èŠ‚ç‚¹ï¼Œå½“ä»¥èŠ‚ç‚¹ä¸ºæ ¹æ—¶ï¼Œç»„æˆçš„æ ‘æœ‰æœ€å°çš„é«˜åº¦ã€‚åŸé¢˜\"></a>æœ‰ä¸€ä¸ªæ— å‘å›¾ï¼Œ0~n-1è¿™äº›èŠ‚ç‚¹ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€æ¡è¾¹ï¼Œæ‰¾å‡ºè¿™ç§èŠ‚ç‚¹ï¼Œå½“ä»¥èŠ‚ç‚¹ä¸ºæ ¹æ—¶ï¼Œç»„æˆçš„æ ‘æœ‰æœ€å°çš„é«˜åº¦ã€‚<a href=\"https://leetcode.com/problems/minimum-height-trees/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 6, edges &#x3D; [[0, 3], [1, 3], [2, 3], [4, 3], [5, 4]]</span><br><span class=\"line\"></span><br><span class=\"line\">     0  1  2</span><br><span class=\"line\">      \\ | &#x2F;</span><br><span class=\"line\">        3</span><br><span class=\"line\">        |</span><br><span class=\"line\">        4</span><br><span class=\"line\">        |</span><br><span class=\"line\">        5 </span><br><span class=\"line\"></span><br><span class=\"line\">Output: [3, 4]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªè§£æ³•å¾ˆæ£’ï¼Œè¯„è®ºåŒºçš„è§£æ³•ï¼Œä»¥å‰çœ‹è¿™ç§é¢˜çš„æ—¶å€™ï¼Œæƒ³åˆ°çš„æ˜¯bfsï¼Œè¿™ä¸ªè§£æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯å‰ªæã€‚æ¯æ¬¡å°†å¶å­èŠ‚ç‚¹å‰ªå»ã€‚æœ€åå‰©ä¸‹çš„ ä¸€ä¸ªæˆ–è€…2ä¸ªèŠ‚ç‚¹ å°±æ˜¯æœ€å°é«˜åº¦çš„æ ¹èŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMinHeightTrees</span><span class=\"params\">(self, n: int, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> [<span class=\"number\">0</span>]</span><br><span class=\"line\">    g = collections.defaultdict(set)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        g[u].add(v)</span><br><span class=\"line\">        g[v].add(u)</span><br><span class=\"line\">        </span><br><span class=\"line\">    leaves = [i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">if</span> len(g[i])==<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">        n -= len(leaves)</span><br><span class=\"line\">        new_leaves = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> leaves:</span><br><span class=\"line\">            j = g[i].pop()</span><br><span class=\"line\">            g[j].remove(i)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(g[j])==<span class=\"number\">1</span>: new_leaves.append(j)</span><br><span class=\"line\">        leaves = new_leaves</span><br><span class=\"line\">    <span class=\"keyword\">return</span> leaves</span><br></pre></td></tr></table></figure>\n<h3 id=\"127-Word-Ladder\"><a href=\"#127-Word-Ladder\" class=\"headerlink\" title=\"127. Word Ladder\"></a>127. Word Ladder</h3><h4 id=\"æ¯æ¬¡å¯ä»¥æ”¹å˜å•è¯ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼Œä½†å¿…é¡»åœ¨wordListä¸­ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘æ¬¡èƒ½è¾¾åˆ°ç›®æ ‡å•è¯ã€‚åŸé¢˜\"><a href=\"#æ¯æ¬¡å¯ä»¥æ”¹å˜å•è¯ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼Œä½†å¿…é¡»åœ¨wordListä¸­ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘æ¬¡èƒ½è¾¾åˆ°ç›®æ ‡å•è¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯æ¬¡å¯ä»¥æ”¹å˜å•è¯ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼Œä½†å¿…é¡»åœ¨wordListä¸­ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘æ¬¡èƒ½è¾¾åˆ°ç›®æ ‡å•è¯ã€‚åŸé¢˜\"></a>æ¯æ¬¡å¯ä»¥æ”¹å˜å•è¯ä¸­çš„ä¸€ä¸ªå­—æ¯ï¼Œä½†å¿…é¡»åœ¨wordListä¸­ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘æ¬¡èƒ½è¾¾åˆ°ç›®æ ‡å•è¯ã€‚<a href=\"https://leetcode.com/problems/word-ladder/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">beginWord &#x3D; &quot;hit&quot;,</span><br><span class=\"line\">endWord &#x3D; &quot;cog&quot;,</span><br><span class=\"line\">wordList &#x3D; [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 5</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: As one shortest transformation is &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;,</span><br><span class=\"line\">return its length 5.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBFSå¾ˆå¥½æƒ³ï¼Œä½†æ˜¯è¦æƒ³å¦‚ä½•å»é‡ï¼ŒwordListå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä¸èƒ½éå†ï¼Œå› ä¸ºåªæœ‰26ä¸ªå­—æ¯å¯ä»¥å˜ï¼Œæ‰€ä»¥å¯ä»¥å˜æ¢å®Œæ¯”è¾ƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">ladderLength</span><span class=\"params\">(self, beginWord: str, endWord: str, wordList: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    q = [(beginWord, <span class=\"number\">1</span>)]</span><br><span class=\"line\">    words_set = set(wordList)</span><br><span class=\"line\">    letters = string.ascii_lowercase</span><br><span class=\"line\">    <span class=\"keyword\">for</span> w, step <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> w == endWord: <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(w)):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> letters:</span><br><span class=\"line\">                nw = w[:i] + c + w[i+<span class=\"number\">1</span>:]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> nw <span class=\"keyword\">in</span> words_set:</span><br><span class=\"line\">                    q.append((nw, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    words_set.remove(nw)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"547-Friend-Circles\"><a href=\"#547-Friend-Circles\" class=\"headerlink\" title=\"547. Friend Circles\"></a>547. Friend Circles</h3><h4 id=\"æœ‹å‹åœˆï¼Œä¸€å †äººæ‹‰å¸®ç»“ä¼™ï¼Œæœ‹å‹å…³ç³»å¯ä»¥ä¼ é€’ã€‚é€šè¿‡äºŒç»´æ•°ç»„è¡¨ç¤ºi-jä¸¤ä¸ªäººæ˜¯å¦æ˜¯æœ‹å‹ã€‚é—®Nä¸ªäººæœ‰å¤šå°‘ä¸ªå¸®æ´¾ã€‚åŸé¢˜\"><a href=\"#æœ‹å‹åœˆï¼Œä¸€å †äººæ‹‰å¸®ç»“ä¼™ï¼Œæœ‹å‹å…³ç³»å¯ä»¥ä¼ é€’ã€‚é€šè¿‡äºŒç»´æ•°ç»„è¡¨ç¤ºi-jä¸¤ä¸ªäººæ˜¯å¦æ˜¯æœ‹å‹ã€‚é—®Nä¸ªäººæœ‰å¤šå°‘ä¸ªå¸®æ´¾ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‹å‹åœˆï¼Œä¸€å †äººæ‹‰å¸®ç»“ä¼™ï¼Œæœ‹å‹å…³ç³»å¯ä»¥ä¼ é€’ã€‚é€šè¿‡äºŒç»´æ•°ç»„è¡¨ç¤ºi, jä¸¤ä¸ªäººæ˜¯å¦æ˜¯æœ‹å‹ã€‚é—®Nä¸ªäººæœ‰å¤šå°‘ä¸ªå¸®æ´¾ã€‚åŸé¢˜\"></a>æœ‹å‹åœˆï¼Œä¸€å †äººæ‹‰å¸®ç»“ä¼™ï¼Œæœ‹å‹å…³ç³»å¯ä»¥ä¼ é€’ã€‚é€šè¿‡äºŒç»´æ•°ç»„è¡¨ç¤ºi, jä¸¤ä¸ªäººæ˜¯å¦æ˜¯æœ‹å‹ã€‚é—®Nä¸ªäººæœ‰å¤šå°‘ä¸ªå¸®æ´¾ã€‚<a href=\"https://leetcode.com/problems/friend-circles/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">[[1,1,0],</span><br><span class=\"line\"> [1,1,0],</span><br><span class=\"line\"> [0,0,1]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation:The 0th and 1st students are direct friends, so they are in a friend circle. </span><br><span class=\"line\">The 2nd student himself is in a friend circle. So return 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…¸å‹çš„Union-Findã€‚æœ€åç»“æœè¿˜è¦éå†ä¸€ä¸‹ï¼Œæ‰æ˜¯æœ€ç»ˆç»“æœã€‚<code>[[1,0,0,1],[0,1,1,0],[0,1,1,1],[1,0,1,1]]</code>è¿™ä¸ªcaseåœ¨unionä¹‹åï¼Œæ˜¯<code>[3,2,3,3]</code>å› ä¸º2çš„æœ‹å‹åœ¨1è®¡ç®—ä¹‹åå˜æˆäº†3ã€‚æœ€ç»ˆç‚¹æ›´æ–°äº†ã€‚æ‰€ä»¥éå†ä¹‹åæ˜¯<code>[3,3,3,3]</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findCircleNum</span><span class=\"params\">(self, M: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x] </span><br><span class=\"line\">    </span><br><span class=\"line\">    N = len(M)</span><br><span class=\"line\">    uf = list(range(N))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> M[i][j]:</span><br><span class=\"line\">                union(i, j)</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(&#123;find(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N)&#125;)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¯„è®ºä¸­æœ‰ä¸ªdfs ä¹Ÿä¸é”™ï¼Œè¡Œåˆ—å¾ªç¯åˆ†å¼€äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findCircleNum</span><span class=\"params\">(self, M: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, N = <span class=\"number\">0</span>, len(M)</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, r <span class=\"keyword\">in</span> enumerate(M[i]):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> r <span class=\"keyword\">and</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                seen.add(j)</span><br><span class=\"line\">                dfs(j)</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            dfs(i)</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šstefançš„ç§‘å­¦åº“å’Œnumpyå†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> scipy.sparse</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findCircleNum</span><span class=\"params\">(self, M)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> scipy.sparse.csgraph.connected_components(M)[<span class=\"number\">0</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findCircleNum</span><span class=\"params\">(self, M)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> len(set(map(tuple, (np.matrix(M, dtype=<span class=\"string\">'bool'</span>)**len(M)).A)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1584-Min-Cost-to-Connect-All-Points\"><a href=\"#1584-Min-Cost-to-Connect-All-Points\" class=\"headerlink\" title=\"1584. Min Cost to Connect All Points\"></a>1584. Min Cost to Connect All Points</h3><h4 id=\"æ‰€æœ‰ç‚¹æœ€å°çš„æ›¼å“ˆé¡¿è·ç¦»-xi-xj-yi-yj-å’Œä¸ºå¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æ‰€æœ‰ç‚¹æœ€å°çš„æ›¼å“ˆé¡¿è·ç¦»-xi-xj-yi-yj-å’Œä¸ºå¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰€æœ‰ç‚¹æœ€å°çš„æ›¼å“ˆé¡¿è·ç¦»|xi - xj| + |yi - yj|å’Œä¸ºå¤šå°‘ã€‚åŸé¢˜\"></a>æ‰€æœ‰ç‚¹æœ€å°çš„æ›¼å“ˆé¡¿è·ç¦»|xi - xj| + |yi - yj|å’Œä¸ºå¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/min-cost-to-connect-all-points/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒæ³•ã€‚è¿™é¢˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œç„¶è€Œæ¯”èµ›æ—¶ä¸€ç§ä¹Ÿæ²¡å†™å‡ºæ¥ã€‚é¦–å…ˆè´ªå¿ƒå¯ä»¥ï¼Œç”±äºæ˜¯n^2çš„å¤æ‚åº¦ï¼Œæ‰€ä»¥æ²¡æœ‰æ•¢å†™ã€‚</p>\n<p>æ¯•ç«Ÿn=1000ã€‚è¯„è®ºåŒºçš„åšæ³•ï¼Œä¸ºä»€ä¹ˆè´ªå¿ƒå¯è¡Œï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œæœ€åæ‰€æœ‰çš„ç‚¹ç›¸è¿ï¼Œæ¯2ç‚¹åªæœ‰ä¸€æ¡è¾¹ï¼Œè€Œä¸”æ˜¯æœ€å°çš„è¾¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCostConnectPoints</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n, ans = len(points), <span class=\"number\">0</span></span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    dis = [float(<span class=\"string\">'inf'</span>)] * n</span><br><span class=\"line\">    cur = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"comment\"># n-1 edges</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        x, y = points[cur]</span><br><span class=\"line\">        seen.add(cur)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, (nx, ny) <span class=\"keyword\">in</span> enumerate(points):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j <span class=\"keyword\">in</span> seen: <span class=\"keyword\">continue</span></span><br><span class=\"line\">            dis[j] = min(dis[j], abs(nx-x)+abs(ny-y))</span><br><span class=\"line\">        s, cur = min((d, j) <span class=\"keyword\">for</span> j, d <span class=\"keyword\">in</span> enumerate(dis))</span><br><span class=\"line\">        dis[cur] = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">        ans += s</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæœ€å°ç”Ÿæˆæ ‘ã€‚è¿™æ˜¯ç»å…¸çš„æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ï¼Œæœ‰ä¸¤ç§å®ç°çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯Primç®—æ³•ã€‚ä¸€ç§æ˜¯Kruskalç®—æ³•ã€‚æ¯”è´ªå¿ƒæ³•æ…¢äº†400msï¼ŒèŠ±è´¹1580msï¼Œè¿˜ä»¥ä¸ºæ˜¯æˆ‘å®ç°çš„é—®é¢˜ï¼Œç»“æœçœ‹è¯„è®ºåŒºä¸­çš„è¦2så¤šã€‚ç©ºé—´åˆ™æ˜¯è´ªå¿ƒçš„5å€å¤šã€‚å› ä¸ºæ­¤é¢˜éœ€è¦æ‰¾åˆ°å„ä¸ªè¾¹çš„æƒé‡ï¼Œæ‰€ä»¥å³ä½¿æ˜¯Primç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n^2)ã€‚Primç®—æ³•æ˜¯æ¯æ¬¡ä»¥æ–°çš„é¡¶ç‚¹æ‰¾åˆ°æœ€å°çš„æƒé‡è¾¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCostConnectPoints</span><span class=\"params\">(self, p: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">manhattan</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> abs(x[<span class=\"number\">0</span>]-y[<span class=\"number\">0</span>]) + abs(x[<span class=\"number\">1</span>]-y[<span class=\"number\">1</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    ans, n = <span class=\"number\">0</span>, len(p)</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    vertices = [(<span class=\"number\">0</span>, (<span class=\"number\">0</span>, <span class=\"number\">0</span>))]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(seen) &lt; n:</span><br><span class=\"line\">        <span class=\"comment\"># print(vertices, seen)</span></span><br><span class=\"line\">        w, (u, v) = heapq.heappop(vertices)            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> v <span class=\"keyword\">in</span> seen: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        ans += w</span><br><span class=\"line\">        seen.add(v)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> j!=v:</span><br><span class=\"line\">                heapq.heappush(vertices, (manhattan(p[j], p[v]), (v, j)))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šKruskalï¼Œå…‹é²æ–¯å¡å°”ç®—æ³•ã€‚åŸç†æ˜¯Union-Findã€‚æŒ‰ç…§æ‰€æœ‰çš„æƒé‡çœ‹ï¼Œæ¯æ¬¡äº§ç”Ÿä¸€æ¡è¾¹ï¼Œä½†ä¸ä¸€å®šå’Œå·²æœ‰çš„è¾¹æ„æˆç¯ã€‚ç†è®ºä¸Šæ¥è¯´æ¯”Primç®—æ³•è¦æ…¢ã€‚å®é™…è¿è¡Œå´æ¯”primå¿«äº†1ã€200msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCostConnectPoints</span><span class=\"params\">(self, p: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    edges, n, cnt, ans = [], len(p), <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">manhattan</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> abs(p[x][<span class=\"number\">0</span>]-p[y][<span class=\"number\">0</span>]) + abs(p[x][<span class=\"number\">1</span>]-p[y][<span class=\"number\">1</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    edges = [(manhattan(i, j), (i, j)) </span><br><span class=\"line\">             <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n)]</span><br><span class=\"line\">    heapq.heapify(edges)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    uf = list(range(n))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> cnt &lt; n:</span><br><span class=\"line\">        d, (u, v) = heapq.heappop(edges)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> find(u) != find(v):</span><br><span class=\"line\">            ans += d</span><br><span class=\"line\">            cnt += <span class=\"number\">1</span></span><br><span class=\"line\">            union(u, v)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"684-Redundant-Connection\"><a href=\"#684-Redundant-Connection\" class=\"headerlink\" title=\"684. Redundant Connection\"></a>684. Redundant Connection</h3><h4 id=\"å¤šä½™çš„è¾¹ï¼Œæœ‰ä¸€ä¸ªæ— å‘å›¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œå’ŒNä¸ªè¾¹ï¼Œå¯¹äºä¸€ä¸ªè¿é€šå™¨æ¥è¯´ï¼Œåˆšå¥½å¤šäº†ä¸€æ¡è¾¹ã€‚æ‰¾åˆ°è¿™æ¡å¤šä½™çš„è¾¹ï¼Œæ‰€æœ‰çš„è¾¹ç»™çš„-u-v-å‡æ»¡è¶³u-lt-vã€‚åŸé¢˜\"><a href=\"#å¤šä½™çš„è¾¹ï¼Œæœ‰ä¸€ä¸ªæ— å‘å›¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œå’ŒNä¸ªè¾¹ï¼Œå¯¹äºä¸€ä¸ªè¿é€šå™¨æ¥è¯´ï¼Œåˆšå¥½å¤šäº†ä¸€æ¡è¾¹ã€‚æ‰¾åˆ°è¿™æ¡å¤šä½™çš„è¾¹ï¼Œæ‰€æœ‰çš„è¾¹ç»™çš„-u-v-å‡æ»¡è¶³u-lt-vã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¤šä½™çš„è¾¹ï¼Œæœ‰ä¸€ä¸ªæ— å‘å›¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œå’ŒNä¸ªè¾¹ï¼Œå¯¹äºä¸€ä¸ªè¿é€šå™¨æ¥è¯´ï¼Œåˆšå¥½å¤šäº†ä¸€æ¡è¾¹ã€‚æ‰¾åˆ°è¿™æ¡å¤šä½™çš„è¾¹ï¼Œæ‰€æœ‰çš„è¾¹ç»™çš„[u, v]å‡æ»¡è¶³u&lt;vã€‚åŸé¢˜\"></a>å¤šä½™çš„è¾¹ï¼Œæœ‰ä¸€ä¸ªæ— å‘å›¾æœ‰Nä¸ªèŠ‚ç‚¹ï¼Œå’ŒNä¸ªè¾¹ï¼Œå¯¹äºä¸€ä¸ªè¿é€šå™¨æ¥è¯´ï¼Œåˆšå¥½å¤šäº†ä¸€æ¡è¾¹ã€‚æ‰¾åˆ°è¿™æ¡å¤šä½™çš„è¾¹ï¼Œæ‰€æœ‰çš„è¾¹ç»™çš„[u, v]å‡æ»¡è¶³u&lt;vã€‚<a href=\"https://leetcode.com/problems/redundant-connection/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,2], [1,3], [2,3]]</span><br><span class=\"line\">Output: [2,3]</span><br><span class=\"line\">Explanation: The given undirected graph will be like this:</span><br><span class=\"line\">  1</span><br><span class=\"line\"> &#x2F; \\</span><br><span class=\"line\">2 - 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¼ ç»Ÿçš„Union-Findã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRedundantConnection</span><span class=\"params\">(self, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\">    </span><br><span class=\"line\">    n = len(edges)</span><br><span class=\"line\">    uf = list(range(n+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> find(u)==find(v):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> u, v</span><br><span class=\"line\">        union(u, v)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstefan. è€ƒè™‘æ²¡ç”¨ä¸Šçš„æ¡ä»¶ <code>u&lt;v</code>ã€‚ å¯ä»¥åˆ©ç”¨å­—ç¬¦ä¸²çš„replaceã€‚å°†æ‰€æœ‰å‡ºç°çš„ç‚¹ï¼Œæ›¿æ¢æˆæœ€å¤§çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRedundantConnection</span><span class=\"params\">(self, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    tree = <span class=\"string\">''</span>.join(map(chr, range(<span class=\"number\">1001</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> tree[u] == tree[v]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> u, v</span><br><span class=\"line\">        tree = tree.replace(tree[u], tree[v])</span><br></pre></td></tr></table></figure>\n<h3 id=\"685-Redundant-Connection-II\"><a href=\"#685-Redundant-Connection-II\" class=\"headerlink\" title=\"685. Redundant Connection II\"></a><a href=\"https://leetcode.com/problems/redundant-connection-ii/\" target=\"_blank\" rel=\"noopener\">685. Redundant Connection II</a></h3><h4 id=\"åŒ684ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºæœ‰å‘å›¾ï¼Œä¹Ÿæ˜¯å¤šå‡ºä¸€æ¡è¾¹ï¼Œä½†è¿™æ¡è¾¹æ˜¯æœ€åä¸€æ¡æ— ç”¨çš„è¾¹ã€‚ä¹Ÿå°±æ˜¯è¯´ã€‚åˆ é™¤è¿™æ¡è¾¹åï¼Œè¿˜æ˜¯ä¸€ä¸ªNä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ã€‚å¹¶ä¸”å›¾ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚\"><a href=\"#åŒ684ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºæœ‰å‘å›¾ï¼Œä¹Ÿæ˜¯å¤šå‡ºä¸€æ¡è¾¹ï¼Œä½†è¿™æ¡è¾¹æ˜¯æœ€åä¸€æ¡æ— ç”¨çš„è¾¹ã€‚ä¹Ÿå°±æ˜¯è¯´ã€‚åˆ é™¤è¿™æ¡è¾¹åï¼Œè¿˜æ˜¯ä¸€ä¸ªNä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ã€‚å¹¶ä¸”å›¾ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚\" class=\"headerlink\" title=\"åŒ684ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºæœ‰å‘å›¾ï¼Œä¹Ÿæ˜¯å¤šå‡ºä¸€æ¡è¾¹ï¼Œä½†è¿™æ¡è¾¹æ˜¯æœ€åä¸€æ¡æ— ç”¨çš„è¾¹ã€‚ä¹Ÿå°±æ˜¯è¯´ã€‚åˆ é™¤è¿™æ¡è¾¹åï¼Œè¿˜æ˜¯ä¸€ä¸ªNä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ã€‚å¹¶ä¸”å›¾ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚\"></a>åŒ684ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºæœ‰å‘å›¾ï¼Œä¹Ÿæ˜¯å¤šå‡ºä¸€æ¡è¾¹ï¼Œä½†è¿™æ¡è¾¹æ˜¯æœ€åä¸€æ¡æ— ç”¨çš„è¾¹ã€‚ä¹Ÿå°±æ˜¯è¯´ã€‚åˆ é™¤è¿™æ¡è¾¹åï¼Œè¿˜æ˜¯ä¸€ä¸ªNä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ã€‚å¹¶ä¸”å›¾ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šèŠ±äº†ä¸åˆ°2å°æ—¶åšå‡ºæ¥ï¼Œæ„Ÿè§‰æ–¹æ³•å¾ˆç¬¨ã€‚å› ä¸ºæœ‰è¿™æ ·çš„ä¾‹å­ï¼Œ<code>[[2,1],[3,1],[4,2],[1,4]]</code>è¿™æ—¶ä¸èƒ½åˆ é™¤<code>[1,4]</code>ï¼Œè€Œæ˜¯è¦åˆ é™¤<code>[2,1]</code>å› ä¸º4å’Œ3ä¼šæˆä¸º2ä¸ªæ ¹èŠ‚ç‚¹ã€‚å¦‚æœæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªç‚¹æœ‰ä¸¤ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåˆ é™¤çš„ä¸€å®šæ˜¯è¿™ä¸¤æ¡è¾¹ä¸­çš„ä¸€æ¡ã€‚æ‰€ä»¥æ­¤æ—¶æˆ‘æ²¡æœ‰å°†å…¶åŠ å…¥åˆ°è”é€šå›¾ä¸­ï¼›å¦ä¸€ç§æƒ…å†µï¼Œæ²¡æœ‰ä¸¤ä¸ªçˆ¶èŠ‚ç‚¹çš„ç‚¹æ—¶ï¼Œå°±åƒ684ä¸€æ ·åˆ¤æ–­æ˜¯å¦è”é€šå°±å¥½äº†ï¼Œæœ€ååˆ¤æ–­ï¼Œå¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½è”é€šäº†ï¼Œæˆ‘åˆ é™¤ç¬¬2æ¬¡é‡è§çš„ç›¸åŒçˆ¶èŠ‚ç‚¹çš„è¾¹å°±è¡Œäº†ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆåº”è¯¥åˆ é™¤ç¬¬ä¸€æ¬¡çš„è¾¹ï¼Œè¿™é‡Œç”¨äº†ä¸€ä¸ªpareæ¥è®°å½•å…³ç³»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findRedundantDirectedConnection</span><span class=\"params\">(self, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\">      </span><br><span class=\"line\">    ans, N, pare = <span class=\"literal\">None</span>, len(edges), &#123;&#125;</span><br><span class=\"line\">    uf = list(range(N+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> v <span class=\"keyword\">in</span> pare:</span><br><span class=\"line\">            ans = (u, v)</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> find(u)==find(v) <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> ans:</span><br><span class=\"line\">            ans = (u, v)</span><br><span class=\"line\">        union(u, v)</span><br><span class=\"line\">        pare[v] = u</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> len(set(map(find, range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>))))==<span class=\"number\">1</span> <span class=\"keyword\">else</span> (pare[ans[<span class=\"number\">1</span>]], ans[<span class=\"number\">1</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"743-Network-Delay-Time\"><a href=\"#743-Network-Delay-Time\" class=\"headerlink\" title=\"743. Network Delay Time\"></a>743. Network Delay Time</h3><h4 id=\"ç½‘ç»œå»¶è¿Ÿï¼Œæœ‰Nä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œç»™å‡ºä¸€ä¸ªåŠ æƒæœ‰å‘å›¾ï¼Œé—®ä»Kç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰ç‚¹éœ€è¦å¤šå°‘æ—¶é—´ï¼Œå¦‚æœä¸å¯èƒ½è¿”å›-1ã€‚åŸé¢˜\"><a href=\"#ç½‘ç»œå»¶è¿Ÿï¼Œæœ‰Nä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œç»™å‡ºä¸€ä¸ªåŠ æƒæœ‰å‘å›¾ï¼Œé—®ä»Kç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰ç‚¹éœ€è¦å¤šå°‘æ—¶é—´ï¼Œå¦‚æœä¸å¯èƒ½è¿”å›-1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç½‘ç»œå»¶è¿Ÿï¼Œæœ‰Nä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œç»™å‡ºä¸€ä¸ªåŠ æƒæœ‰å‘å›¾ï¼Œé—®ä»Kç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰ç‚¹éœ€è¦å¤šå°‘æ—¶é—´ï¼Œå¦‚æœä¸å¯èƒ½è¿”å›-1ã€‚åŸé¢˜\"></a>ç½‘ç»œå»¶è¿Ÿï¼Œæœ‰Nä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œç»™å‡ºä¸€ä¸ªåŠ æƒæœ‰å‘å›¾ï¼Œé—®ä»Kç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰ç‚¹éœ€è¦å¤šå°‘æ—¶é—´ï¼Œå¦‚æœä¸å¯èƒ½è¿”å›-1ã€‚<a href=\"https://leetcode.com/problems/network-delay-time/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: times &#x3D; [[2,1,1],[2,3,1],[3,4,1]], N &#x3D; 4, K &#x3D; 2</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šbfsã€‚é¦–æ¬¡ACï¼Œ960msã€‚æ•ˆç‡ä¸ç®—å¾ˆé«˜å§ï¼Œå› ä¸ºå¯èƒ½éå†åˆ°é‡å¤çš„èŠ‚ç‚¹æ›´æ–°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">networkDelayTime</span><span class=\"params\">(self, times, N, K)</span>:</span></span><br><span class=\"line\">    seen, ans = &#123;&#125;, <span class=\"number\">0</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v , w <span class=\"keyword\">in</span> times:</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">    q = collections.deque([(K, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        u, t = q.popleft()</span><br><span class=\"line\">        seen[u] = min(seen.get(u, float(<span class=\"string\">'inf'</span>)), t)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> v, nt <span class=\"keyword\">in</span> g[u]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> v <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">or</span> seen[v]&gt;nt+t:</span><br><span class=\"line\">                q.append((v, t+nt))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(seen.values()) <span class=\"keyword\">if</span> len(seen)==N <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå †å®ç°äº†ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œ500mså·¦å³ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">networkDelayTime</span><span class=\"params\">(self, times, N, K)</span>:</span></span><br><span class=\"line\">    seen, t = set(), <span class=\"number\">0</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v , w <span class=\"keyword\">in</span> times:</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">    heap = [(<span class=\"number\">0</span>, K)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">        t, u = heapq.heappop(heap)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> u <span class=\"keyword\">in</span> seen: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        seen.add(u)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(seen) == N: <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> v, nt <span class=\"keyword\">in</span> g[u]:</span><br><span class=\"line\">            heapq.heappush(heap, (t+nt, v))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t <span class=\"keyword\">if</span> len(seen)==N <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"721-Accounts-Merge\"><a href=\"#721-Accounts-Merge\" class=\"headerlink\" title=\"721. Accounts Merge\"></a><a href=\"https://leetcode.com/problems/accounts-merge/\" target=\"_blank\" rel=\"noopener\">721. Accounts Merge</a></h3><h4 id=\"è´¦å·åˆå¹¶ï¼Œä¸€ä¸ªäººå¯èƒ½æœ‰å¤šä¸ªè´¦å·ï¼Œå°†å…·æœ‰ç›¸åŒè´¦å·çš„äººåˆå¹¶åˆ°ä¸€èµ·ï¼Œè¿”å›æ‰€æœ‰çš„ç”¨æˆ·çš„æ‰€æœ‰çš„è´¦å·\"><a href=\"#è´¦å·åˆå¹¶ï¼Œä¸€ä¸ªäººå¯èƒ½æœ‰å¤šä¸ªè´¦å·ï¼Œå°†å…·æœ‰ç›¸åŒè´¦å·çš„äººåˆå¹¶åˆ°ä¸€èµ·ï¼Œè¿”å›æ‰€æœ‰çš„ç”¨æˆ·çš„æ‰€æœ‰çš„è´¦å·\" class=\"headerlink\" title=\"è´¦å·åˆå¹¶ï¼Œä¸€ä¸ªäººå¯èƒ½æœ‰å¤šä¸ªè´¦å·ï¼Œå°†å…·æœ‰ç›¸åŒè´¦å·çš„äººåˆå¹¶åˆ°ä¸€èµ·ï¼Œè¿”å›æ‰€æœ‰çš„ç”¨æˆ·çš„æ‰€æœ‰çš„è´¦å·\"></a>è´¦å·åˆå¹¶ï¼Œä¸€ä¸ªäººå¯èƒ½æœ‰å¤šä¸ªè´¦å·ï¼Œå°†å…·æœ‰ç›¸åŒè´¦å·çš„äººåˆå¹¶åˆ°ä¸€èµ·ï¼Œè¿”å›æ‰€æœ‰çš„ç”¨æˆ·çš„æ‰€æœ‰çš„è´¦å·</h4><p>æ–¹æ³•ä¸€ï¼šåšçš„æ—¶å€™æƒ³åˆ°äº†union-findï¼Œä¸è¿‡ä»¥å¼€å§‹çš„æ€è·¯ç”¨é›†åˆæš´åŠ›ä¹Ÿè§£å‡ºæ¥äº†ã€‚åªè¦æœ‰ä¸€ä¸ªè´¦å·ç›¸åŒï¼Œå°±æ˜¯ä¸€ä¸ªäººã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">accountsMerge</span><span class=\"params\">(self, accounts: List[List[str]])</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    users = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> name, *mails <span class=\"keyword\">in</span> accounts:</span><br><span class=\"line\">        old_mails = users[name]</span><br><span class=\"line\">        mails = set(mails)</span><br><span class=\"line\">        to_rm = []</span><br><span class=\"line\">        n = len(old_mails)</span><br><span class=\"line\">        j = n - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> j &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> old_mails[j] &amp; mails:</span><br><span class=\"line\">                mails |= old_mails[j]</span><br><span class=\"line\">                old_mails.pop(j)</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">        old_mails.append(mails)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[name] + sorted(act_lst) </span><br><span class=\"line\">            <span class=\"keyword\">for</span> name, acts <span class=\"keyword\">in</span> users.items() <span class=\"keyword\">for</span> act_lst <span class=\"keyword\">in</span> acts]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šdfsï¼Œéœ€è¦éå†ä¸¤æ¬¡ã€‚å…ˆè®°å½•ä¸€ä¸‹æ¯ä¸ªé‚®ç®±å‡ºç°çš„ç´¢å¼•ï¼Œ</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">accountsMerge</span><span class=\"params\">(self, accounts: List[List[str]])</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    mail_occurs = collections.defaultdict(list)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (_, *mails) <span class=\"keyword\">in</span> enumerate(accounts):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> mail <span class=\"keyword\">in</span> mails:</span><br><span class=\"line\">            mail_occurs[mail].append(i)</span><br><span class=\"line\">    visited = [<span class=\"literal\">False</span>] * len(accounts)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, mails)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> visited[i]: <span class=\"keyword\">return</span>             </span><br><span class=\"line\">        visited[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> other <span class=\"keyword\">in</span> accounts[i][<span class=\"number\">1</span>:]:</span><br><span class=\"line\">            mails.add(other)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> mail_occurs[other]:</span><br><span class=\"line\">                dfs(j, mails)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (name, *mails) <span class=\"keyword\">in</span> enumerate(accounts):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> visited[i]: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        acts = set()</span><br><span class=\"line\">        dfs(i, acts)</span><br><span class=\"line\">        ans.append([name] + sorted(acts))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šUnion-FIndï¼Œè¿™é‡Œè¦é€‰å‡ºä¸€ä¸ªæ ‡å‡†ï¼Œä¸å¦‚æ¯ä¸ªé¦–ä¸ªå‡ºç°çš„è´¦å·ï¼Œå°†å…¶å®ƒè´¦å·è¿åˆ°è¿™ä¸ªè´¦å·ä¸Šã€‚ç¬¬äºŒæ­¥éœ€è¦éå†ä¸€éï¼ŒæŠŠç›¸åŒçš„è´¦å·æ”¾åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œéå†è¿‡ç¨‹ä¸­è®°å½•è´¦å·å¯¹åº”çš„å§“åï¼Œæ–¹ä¾¿æˆ‘ä»¬æ„å»ºæœ€ç»ˆçš„ç­”æ¡ˆã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">accountsMerge</span><span class=\"params\">(self, accounts: List[List[str]])</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    uf = &#123;&#125;</span><br><span class=\"line\">    mail_to_name = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf.setdefault(x, x)</span><br><span class=\"line\">        uf.setdefault(y, y)</span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> name, *mails <span class=\"keyword\">in</span> accounts:</span><br><span class=\"line\">        first = mails[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> mail <span class=\"keyword\">in</span> mails:</span><br><span class=\"line\">            union(mail, first)</span><br><span class=\"line\">            mail_to_name[mail] = name</span><br><span class=\"line\">        </span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> mail <span class=\"keyword\">in</span> uf.keys():</span><br><span class=\"line\">        g[find(mail)].append(mail)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[mail_to_name[first]] + sorted(mails) <span class=\"keyword\">for</span> first, mails <span class=\"keyword\">in</span> g.items()]</span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢è¯•é¢˜-17-07-å©´å„¿åå­—\"><a href=\"#é¢è¯•é¢˜-17-07-å©´å„¿åå­—\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.07. å©´å„¿åå­—\"></a><a href=\"https://leetcode-cn.com/problems/baby-names-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.07. å©´å„¿åå­—</a></h4><h4 id=\"æ‰¾åˆ°ç›¸åŒåå­—çš„æ•°é‡ï¼Œå’Œ721ä¸€æ ·ï¼Œä¹Ÿæ˜¯åˆå¹¶å©´å„¿ã€‚namesä¸­å¯èƒ½åŒ…å«synonymsä¸­æ²¡æœ‰çš„ï¼Œsynonymsä¸­ä¹Ÿå¯èƒ½åŒ…å«namesæ²¡æœ‰çš„ã€‚\"><a href=\"#æ‰¾åˆ°ç›¸åŒåå­—çš„æ•°é‡ï¼Œå’Œ721ä¸€æ ·ï¼Œä¹Ÿæ˜¯åˆå¹¶å©´å„¿ã€‚namesä¸­å¯èƒ½åŒ…å«synonymsä¸­æ²¡æœ‰çš„ï¼Œsynonymsä¸­ä¹Ÿå¯èƒ½åŒ…å«namesæ²¡æœ‰çš„ã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°ç›¸åŒåå­—çš„æ•°é‡ï¼Œå’Œ721ä¸€æ ·ï¼Œä¹Ÿæ˜¯åˆå¹¶å©´å„¿ã€‚namesä¸­å¯èƒ½åŒ…å«synonymsä¸­æ²¡æœ‰çš„ï¼Œsynonymsä¸­ä¹Ÿå¯èƒ½åŒ…å«namesæ²¡æœ‰çš„ã€‚\"></a>æ‰¾åˆ°ç›¸åŒåå­—çš„æ•°é‡ï¼Œå’Œ721ä¸€æ ·ï¼Œä¹Ÿæ˜¯åˆå¹¶å©´å„¿ã€‚namesä¸­å¯èƒ½åŒ…å«synonymsä¸­æ²¡æœ‰çš„ï¼Œsynonymsä¸­ä¹Ÿå¯èƒ½åŒ…å«namesæ²¡æœ‰çš„ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼šnames &#x3D; [&quot;John(15)&quot;,&quot;Jon(12)&quot;,&quot;Chris(13)&quot;,&quot;Kris(4)&quot;,&quot;Christopher(19)&quot;], synonyms &#x3D; [&quot;(Jon,John)&quot;,&quot;(John,Johnny)&quot;,&quot;(Chris,Kris)&quot;,&quot;(Chris,Christopher)&quot;]</span><br><span class=\"line\">è¾“å‡ºï¼š[&quot;John(27)&quot;,&quot;Chris(36)&quot;]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šUnion-Findã€‚æ”¹è¿›ï¼Œè¿™é‡Œä¿®æ”¹äº†unionæ–¹æ³•ï¼Œå°†è¾ƒå°çš„ç›´æ¥ä½œä¸ºç´¢å¼•é”®ã€‚å› ä¸ºåç»­ä¹Ÿä¸éœ€è¦å†ä½¿ç”¨äº†ã€‚360ms, 35M.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trulyMostPopular</span><span class=\"params\">(self, names: List[str], synonyms: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    <span class=\"comment\"># RE_NAME_CNT = re.compile(r'\\w+|\\d+')</span></span><br><span class=\"line\">    <span class=\"comment\"># RE_SAME_NAME = re.compile(r'\\w+')</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf.setdefault(x, x)</span><br><span class=\"line\">        uf.setdefault(y, y)</span><br><span class=\"line\">        ax, ay = find(x), find(y)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ax &lt; ay: ay, ax = ax, ay</span><br><span class=\"line\">        uf[ax] = ay</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    uf, cnt = &#123;&#125;, &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> person <span class=\"keyword\">in</span> names:</span><br><span class=\"line\">        <span class=\"comment\"># name, c = re.findall(RE_NAME_CNT, person)</span></span><br><span class=\"line\">        <span class=\"comment\"># name, c = re.match(r'(\\w+)\\((\\d+)\\)', person).groups()</span></span><br><span class=\"line\">        name, c = person.strip(<span class=\"string\">')'</span>).split(<span class=\"string\">'('</span>)</span><br><span class=\"line\">        uf.setdefault(name, name)</span><br><span class=\"line\">        cnt[name] = int(c)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> con <span class=\"keyword\">in</span> synonyms:</span><br><span class=\"line\">        <span class=\"comment\"># n1, n2 = re.findall(RE_SAME_NAME, con)</span></span><br><span class=\"line\">        <span class=\"comment\"># n1, n2 = re.match(r'\\((\\w+),(\\w+)\\)', con).groups()</span></span><br><span class=\"line\">        n1, n2 = con.strip(<span class=\"string\">'()'</span>).split(<span class=\"string\">','</span>)</span><br><span class=\"line\">        union(n1, n2)</span><br><span class=\"line\"></span><br><span class=\"line\">    total = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> name, c <span class=\"keyword\">in</span> cnt.items():</span><br><span class=\"line\">        total[find(name)] += c</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">f'<span class=\"subst\">&#123;p&#125;</span>(<span class=\"subst\">&#123;t&#125;</span>)'</span> <span class=\"keyword\">for</span> p, t <span class=\"keyword\">in</span> total.items()]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šdfs æ–¹æ³•ã€‚cnt ä¸èƒ½ä½¿ç”¨defaultdictï¼Œå› ä¸ºå¾ªç¯cntçš„æ—¶å€™ä¼šå‘ç”Ÿæ”¹å˜æŠ¥é”™ã€‚å› ä¸ºä¼šå­˜åœ¨cntä¸­æ²¡æœ‰çš„keyï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åœ¨namesä¸­çš„åå­—ã€‚448ms, 40M.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trulyMostPopular</span><span class=\"params\">(self, names: List[str], synonyms: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    cnt, seen, g = &#123;&#125;, defaultdict(int), defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> person <span class=\"keyword\">in</span> names:</span><br><span class=\"line\">        name, c = person.strip(<span class=\"string\">')'</span>).split(<span class=\"string\">'('</span>)</span><br><span class=\"line\">        cnt[name] = int(c)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> con <span class=\"keyword\">in</span> synonyms:</span><br><span class=\"line\">        n1, n2 = con.strip(<span class=\"string\">'()'</span>).split(<span class=\"string\">','</span>)</span><br><span class=\"line\">        g[n1].append(n2)</span><br><span class=\"line\">        g[n2].append(n1)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        seen[n], min_name = <span class=\"number\">1</span>, n</span><br><span class=\"line\">        total = cnt.get(n, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> other <span class=\"keyword\">in</span> g[n]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> seen[other]:</span><br><span class=\"line\">                p, s = dfs(other)</span><br><span class=\"line\">                total += s</span><br><span class=\"line\">                min_name = min(min_name, p)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min_name, total</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> name <span class=\"keyword\">in</span> cnt:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> seen[name]: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        n, s = dfs(name)</span><br><span class=\"line\">        ans.append(<span class=\"string\">'&#123;&#125;(&#123;&#125;)'</span>.format(n, s))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè¯„è®ºåŒºå¤§ç¥çš„å†™æ³•ã€‚292ms, 17Mï¼Œæ¯”æˆ‘çš„å¿«äº†å¥½å¤šã€‚å®ƒè¿™é‡Œçš„pæ¯”æˆ‘çš„gè¦èŠ‚çœç©ºé—´å’Œæ—¶é—´ï¼Œæˆ‘è¯•äº†æ›´æ”¹æ–¹æ³•äºŒçš„è¿™é‡Œå¹³å‡å¿«äº†40mså’Œ10Mçš„å†…å­˜ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trulyMostPopular</span><span class=\"params\">(self, names: List[str], synonyms: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    p, d, q = &#123;&#125;, &#123;&#125;, collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> synonyms:</span><br><span class=\"line\">        a, b = s.strip(<span class=\"string\">'()'</span>).split(<span class=\"string\">','</span>)</span><br><span class=\"line\">        pa, pb = p.setdefault(a, [a]), p.setdefault(b, [b])</span><br><span class=\"line\">        pa.extend(pb)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> pb:</span><br><span class=\"line\">            p[c] = pa</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> name <span class=\"keyword\">in</span> p:</span><br><span class=\"line\">        d.setdefault(id(p[name]), min(p[name]))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> names:</span><br><span class=\"line\">        name, count = s.strip(<span class=\"string\">')'</span>).split(<span class=\"string\">'('</span>)</span><br><span class=\"line\">        q[name <span class=\"keyword\">in</span> p <span class=\"keyword\">and</span> d[id(p[name])] <span class=\"keyword\">or</span> name] += int(count)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">f'<span class=\"subst\">&#123;name&#125;</span>(<span class=\"subst\">&#123;count&#125;</span>)'</span> <span class=\"keyword\">for</span> name, count <span class=\"keyword\">in</span> q.items()]</span><br></pre></td></tr></table></figure>\n<h3 id=\"851-Loud-and-Rich\"><a href=\"#851-Loud-and-Rich\" class=\"headerlink\" title=\"851. Loud and Rich\"></a><a href=\"https://leetcode.com/problems/loud-and-rich/\" target=\"_blank\" rel=\"noopener\">851. Loud and Rich</a></h3><h4 id=\"å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå°±æ˜¯æ‰¾åˆ°æ¯”å½“å‰äººæœ‰é’±çš„æ‰€æœ‰äººä¸­æœ€ä½è°ƒçš„ä¸€ä¸ªï¼Œquietå€¼æœ€å°ï¼Œquietæ²¡æœ‰é‡å¤å€¼ã€‚\"><a href=\"#å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå°±æ˜¯æ‰¾åˆ°æ¯”å½“å‰äººæœ‰é’±çš„æ‰€æœ‰äººä¸­æœ€ä½è°ƒçš„ä¸€ä¸ªï¼Œquietå€¼æœ€å°ï¼Œquietæ²¡æœ‰é‡å¤å€¼ã€‚\" class=\"headerlink\" title=\"å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå°±æ˜¯æ‰¾åˆ°æ¯”å½“å‰äººæœ‰é’±çš„æ‰€æœ‰äººä¸­æœ€ä½è°ƒçš„ä¸€ä¸ªï¼Œquietå€¼æœ€å°ï¼Œquietæ²¡æœ‰é‡å¤å€¼ã€‚\"></a>å•°é‡Œå•°å—¦ä¸€å¤§å †ï¼Œå°±æ˜¯æ‰¾åˆ°æ¯”å½“å‰äººæœ‰é’±çš„æ‰€æœ‰äººä¸­æœ€ä½è°ƒçš„ä¸€ä¸ªï¼Œquietå€¼æœ€å°ï¼Œquietæ²¡æœ‰é‡å¤å€¼ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: richer &#x3D; [[1,0],[2,1],[3,1],[3,7],[4,3],[5,3],[6,3]], quiet &#x3D; [3,2,5,4,6,1,7,0]</span><br><span class=\"line\">Output: [5,5,2,5,4,5,6,7]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">answer[0] &#x3D; 5.</span><br><span class=\"line\">Person 5 has more money than 3, which has more money than 1, which has more money than 0.</span><br><span class=\"line\">The only person who is quieter (has lower quiet[x]) is person 7, but</span><br><span class=\"line\">it isn&#39;t clear if they have more money than person 0.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs. é¦–æ¬¡ACï¼Œç®—æ¯”è¾ƒç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">loudAndRich</span><span class=\"params\">(self, richer: List[List[int]], quiet: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    N = len(quiet)</span><br><span class=\"line\">    rich = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> richer:</span><br><span class=\"line\">        rich[b].append(a)</span><br><span class=\"line\">    q_to_p = &#123;q: i <span class=\"keyword\">for</span> i, q <span class=\"keyword\">in</span> enumerate(quiet)&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        q = quiet[i]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> rich[i]:</span><br><span class=\"line\">            q = min(q, dfs(j))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> q</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [q_to_p[dfs(i)] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N)]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ï¼Œæ¯”æ–¹æ³•ä¸€èŠ‚çœä¸€äº›ç©ºé—´ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">loudAndRich</span><span class=\"params\">(self, richer: List[List[int]], quiet: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    N = len(quiet)</span><br><span class=\"line\">    rich = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> richer:</span><br><span class=\"line\">        rich[b].append(a)</span><br><span class=\"line\">    ans = [<span class=\"number\">-1</span>] * N</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ans[i] &gt;= <span class=\"number\">0</span>: <span class=\"keyword\">return</span> ans[i]</span><br><span class=\"line\">        ans[i] = i</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> rich[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> quiet[dfs(j)] &lt; quiet[ans[i]]:</span><br><span class=\"line\">                ans[i] = dfs(j)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans[i]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        dfs(i) </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"399-Evaluate-Division\"><a href=\"#399-Evaluate-Division\" class=\"headerlink\" title=\"399. Evaluate Division\"></a><a href=\"https://leetcode.com/problems/evaluate-division/\" target=\"_blank\" rel=\"noopener\">399. Evaluate Division</a></h3><h4 id=\"é€šè¿‡å·²çŸ¥çš„é™¤æ³•ï¼Œè®¡ç®—å¸¦æœ‰è¿™äº›å˜é‡çš„é™¤æ³•ã€‚\"><a href=\"#é€šè¿‡å·²çŸ¥çš„é™¤æ³•ï¼Œè®¡ç®—å¸¦æœ‰è¿™äº›å˜é‡çš„é™¤æ³•ã€‚\" class=\"headerlink\" title=\"é€šè¿‡å·²çŸ¥çš„é™¤æ³•ï¼Œè®¡ç®—å¸¦æœ‰è¿™äº›å˜é‡çš„é™¤æ³•ã€‚\"></a>é€šè¿‡å·²çŸ¥çš„é™¤æ³•ï¼Œè®¡ç®—å¸¦æœ‰è¿™äº›å˜é‡çš„é™¤æ³•ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: equations &#x3D; [[&quot;a&quot;,&quot;b&quot;],[&quot;b&quot;,&quot;c&quot;]], values &#x3D; [2.0,3.0], queries &#x3D; [[&quot;a&quot;,&quot;c&quot;],[&quot;b&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;e&quot;],[&quot;a&quot;,&quot;a&quot;],[&quot;x&quot;,&quot;x&quot;]]</span><br><span class=\"line\">Output: [6.00000,0.50000,-1.00000,1.00000,-1.00000]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Given: a &#x2F; b &#x3D; 2.0, b &#x2F; c &#x3D; 3.0</span><br><span class=\"line\">queries are: a &#x2F; c &#x3D; ?, b &#x2F; a &#x3D; ?, a &#x2F; e &#x3D; ?, a &#x2F; a &#x3D; ?, x &#x2F; x &#x3D; ?</span><br><span class=\"line\">return: [6.0, 0.5, -1.0, 1.0, -1.0 ]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šDFSã€‚è¿™é¢˜ä¸€å¼€å§‹æƒ³çš„æ˜¯Union-Findæ–¹æ³•ï¼Œä½†æ˜¯å®ç°èµ·æ¥å‘ç°æœ‰ç‚¹éº»çƒ¦ã€‚éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨éå†åæœªæ‰¾åˆ°ç›®æ ‡å€¼æ—¶ï¼Œéœ€è¦æ·»åŠ -1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calcEquation</span><span class=\"params\">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class=\"line\">    g = defaultdict(list)  </span><br><span class=\"line\">    <span class=\"keyword\">for</span> (u, v), w <span class=\"keyword\">in</span> zip(equations, values):</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">        g[v].append((u, <span class=\"number\">1</span>/w))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, t, p=<span class=\"number\">1</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == t:</span><br><span class=\"line\">            ans.append(p)</span><br><span class=\"line\">        seen.add(i)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, w <span class=\"keyword\">in</span> g[i]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                dfs(j, t, p*w)</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans, seen = [], set()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (a, b) <span class=\"keyword\">in</span> enumerate(queries):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[a] <span class=\"keyword\">and</span> g[b]:</span><br><span class=\"line\">            dfs(a, b)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == len(ans):</span><br><span class=\"line\">                ans.append(<span class=\"number\">-1</span>)</span><br><span class=\"line\">            seen.clear()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans.append(<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šBFSæ–¹æ³•ä¹Ÿå¾ˆä¼˜é›…ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calcEquation</span><span class=\"params\">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class=\"line\">    g = defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (u, v), w <span class=\"keyword\">in</span> zip(equations, values):</span><br><span class=\"line\">        g[u].append((v, w))</span><br><span class=\"line\">        g[v].append((u, <span class=\"number\">1</span>/w))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">(s, e)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g[s] <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> g[e]: <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">        q, seen = [(s, <span class=\"number\">1</span>)], set()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> cur, p <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur == e: <span class=\"keyword\">return</span> p</span><br><span class=\"line\">            seen.add(cur)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> nei, np <span class=\"keyword\">in</span> g[cur]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> nei <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((nei, p*np))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (bfs(s, e) <span class=\"keyword\">for</span> s, e <span class=\"keyword\">in</span> queries)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šUnion-Findï¼Œè‡ªå·±æƒ³äº†ä¸ªä¸ƒå…«ï¼Œä¹Ÿæ˜¯ç”¨tupleè¿”å›ä¸€ä¸ªæ¯”ç‡ï¼Œæœ€åå†™ç€å†™ç€ç»™è‡ªå·±ç»•è’™äº†ï¼Œå®ç°èµ·æ¥è¿˜æ˜¯æ²¡æœ‰å¦ä¸¤ä¸ªæ–¹æ³•ç®€å•ã€‚unionæ–¹æ³•å…¶å®èåˆäº†ä¸¤ä¸ªåŠŸèƒ½ã€‚ç„¶åå°±æ˜¯å°†<code>ratio</code>æ·»åŠ åˆ°æ¨¡æ¿æ–¹æ³•ä¸­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calcEquation</span><span class=\"params\">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class=\"line\">    uf = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        p, xr = uf.setdefault(x, (x, <span class=\"number\">1.0</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != p:</span><br><span class=\"line\">            r, pr = find(p)</span><br><span class=\"line\">            uf[x] = (r, xr * pr)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y, ratio)</span>:</span></span><br><span class=\"line\">        px, xr, py, yr = *find(x), *find(y)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> ratio:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> xr / yr <span class=\"keyword\">if</span> px == py <span class=\"keyword\">else</span> <span class=\"number\">-1.0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> px != py:</span><br><span class=\"line\">            uf[px] = (py, yr/xr*ratio)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (u, v), w <span class=\"keyword\">in</span> zip(equations, values):</span><br><span class=\"line\">        union(u, v, w)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [union(x, y, <span class=\"number\">0</span>) <span class=\"keyword\">if</span> x <span class=\"keyword\">in</span> root <span class=\"keyword\">and</span> y <span class=\"keyword\">in</span> root <span class=\"keyword\">else</span> <span class=\"number\">-1.0</span> <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šStefançš„å¼—æ´›ä¼Šå¾·ç®—æ³•ã€‚è¿™ä¸ªæ²¡æœ‰æƒ³åˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calcEquation</span><span class=\"params\">(self, equations: List[List[str]], values: List[float], queries: List[List[str]])</span> -&gt; List[float]:</span></span><br><span class=\"line\">    quot = collections.defaultdict(dict)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (num, den), val <span class=\"keyword\">in</span> zip(equations, values):</span><br><span class=\"line\">        quot[num][num] = quot[den][den] = <span class=\"number\">1</span></span><br><span class=\"line\">        quot[num][den] = val</span><br><span class=\"line\">        quot[den][num] = <span class=\"number\">1</span> / val</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k, i, j <span class=\"keyword\">in</span> itertools.permutations(quot, <span class=\"number\">3</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k <span class=\"keyword\">in</span> quot[i] <span class=\"keyword\">and</span> j <span class=\"keyword\">in</span> quot[k]:</span><br><span class=\"line\">            quot[i][j] = quot[i][k] * quot[k][j]        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [quot[num].get(den, <span class=\"number\">-1</span>) <span class=\"keyword\">for</span> num, den <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1617-Count-Subtrees-With-Max-Distance-Between-Cities\"><a href=\"#1617-Count-Subtrees-With-Max-Distance-Between-Cities\" class=\"headerlink\" title=\"1617. Count Subtrees With Max Distance Between Cities\"></a><a href=\"https://leetcode.com/problems/count-subtrees-with-max-distance-between-cities/\" target=\"_blank\" rel=\"noopener\">1617. Count Subtrees With Max Distance Between Cities</a></h3><h4 id=\"ç»™ä½ ä¸€é¢—æ ‘ï¼Œæ±‚ä»»æ„å­æ ‘ä¸­èŠ‚ç‚¹æœ€å¤§è·ç¦»1-n-1çš„åˆ†åˆ«æœ‰å¤šå°‘ä¸ªã€‚æœ€å¤šæœ‰15ä¸ªèŠ‚ç‚¹ã€‚\"><a href=\"#ç»™ä½ ä¸€é¢—æ ‘ï¼Œæ±‚ä»»æ„å­æ ‘ä¸­èŠ‚ç‚¹æœ€å¤§è·ç¦»1-n-1çš„åˆ†åˆ«æœ‰å¤šå°‘ä¸ªã€‚æœ€å¤šæœ‰15ä¸ªèŠ‚ç‚¹ã€‚\" class=\"headerlink\" title=\"ç»™ä½ ä¸€é¢—æ ‘ï¼Œæ±‚ä»»æ„å­æ ‘ä¸­èŠ‚ç‚¹æœ€å¤§è·ç¦»1~n-1çš„åˆ†åˆ«æœ‰å¤šå°‘ä¸ªã€‚æœ€å¤šæœ‰15ä¸ªèŠ‚ç‚¹ã€‚\"></a>ç»™ä½ ä¸€é¢—æ ‘ï¼Œæ±‚ä»»æ„å­æ ‘ä¸­èŠ‚ç‚¹æœ€å¤§è·ç¦»1~n-1çš„åˆ†åˆ«æœ‰å¤šå°‘ä¸ªã€‚æœ€å¤šæœ‰15ä¸ªèŠ‚ç‚¹ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼šn &#x3D; 4, edges &#x3D; [[1,2],[2,3],[2,4]]</span><br><span class=\"line\">è¾“å‡ºï¼š[3,4,0]</span><br><span class=\"line\">è§£é‡Šï¼š</span><br><span class=\"line\">å­æ ‘ &#123;1,2&#125;, &#123;2,3&#125; å’Œ &#123;2,4&#125; æœ€å¤§è·ç¦»éƒ½æ˜¯ 1 ã€‚</span><br><span class=\"line\">å­æ ‘ &#123;1,2,3&#125;, &#123;1,2,4&#125;, &#123;2,3,4&#125; å’Œ &#123;1,2,3,4&#125; æœ€å¤§è·ç¦»éƒ½ä¸º 2 ã€‚</span><br><span class=\"line\">ä¸å­˜åœ¨åŸå¸‚é—´æœ€å¤§è·ç¦»ä¸º 3 çš„å­æ ‘</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æ²¡æœ‰æ—¶é—´åšï¼Œè™½ç„¶hardä½†æ˜¯æ¯”è¾ƒç®€å•ï¼Œçœ‹äº†é¢˜è§£åå†™ä¸Šäº†ã€‚å°±æ˜¯æš´åŠ›çš„æšä¸¾æ‰€æœ‰çš„å­æ ‘ï¼Œç„¶åå†bfsæ±‚æœ€å¤§è·ç¦»ï¼ŒåŒæ—¶åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦æ„æˆäº†å­æ ‘ï¼ˆè¿™ä¸ªç»„åˆæ‰€æœ‰èŠ‚ç‚¹éƒ½å‡ºç°äº†ï¼‰ã€‚è¿™é‡Œæ ¹æ®Lee215çš„ç«èµ›å†™æ³•åšäº†ä¸€äº›è°ƒæ•´ã€‚æ—¶é—´å¤æ‚åº¦ä¸º2**15ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSubgraphsForEachDiameter</span><span class=\"params\">(self, n: int, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    g = [[] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        u, v = u<span class=\"number\">-1</span>, v<span class=\"number\">-1</span></span><br><span class=\"line\">        g[u].append(v)</span><br><span class=\"line\">        g[v].append(u)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_d</span><span class=\"params\">(comb)</span>:</span></span><br><span class=\"line\">        ans = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            mask = comb</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"number\">1</span>&lt;&lt;i) &amp; comb:</span><br><span class=\"line\">                bfs = deque([(i, <span class=\"number\">0</span>)])</span><br><span class=\"line\">                d = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> bfs:</span><br><span class=\"line\">                    k, d = bfs.popleft()</span><br><span class=\"line\">                    mask ^= (<span class=\"number\">1</span>&lt;&lt;k)  <span class=\"comment\"># æ ‡è®°kè¢«å–å‡ºæ­¤æ—¶ä¸º0</span></span><br><span class=\"line\">                    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[k]:</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (<span class=\"number\">1</span>&lt;&lt;j) &amp; mask:   <span class=\"comment\"># ä¸º1çš„æ˜¯å‰©ä¸‹çš„</span></span><br><span class=\"line\">                            bfs.append((j, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">                <span class=\"keyword\">if</span> mask: <span class=\"keyword\">return</span> <span class=\"number\">0</span>       <span class=\"comment\"># ä¸æ˜¯0è¯´æ˜æ²¡æœ‰æ„æˆå­æ ‘</span></span><br><span class=\"line\">                ans = max(ans, d)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    res = [<span class=\"number\">0</span>] * (n<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> comb <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>&lt;&lt;n):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> comb &amp; (comb<span class=\"number\">-1</span>) == <span class=\"number\">0</span>: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        d = max_d(comb)</span><br><span class=\"line\">        res[d<span class=\"number\">-1</span>] += d&gt;<span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix\"><a href=\"#1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix\" class=\"headerlink\" title=\"1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix\"></a>1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix</h3><h4 id=\"äºŒç»´çŸ©é˜µä¸­ï¼Œ-æ¯æ¬¡ç¿»æ‹â€œåâ€å­—ï¼Œæœ€å°æ­¥æ•°ç¿»æˆ0-åŸé¢˜\"><a href=\"#äºŒç»´çŸ©é˜µä¸­ï¼Œ-æ¯æ¬¡ç¿»æ‹â€œåâ€å­—ï¼Œæœ€å°æ­¥æ•°ç¿»æˆ0-åŸé¢˜\" class=\"headerlink\" title=\"äºŒç»´çŸ©é˜µä¸­ï¼Œ æ¯æ¬¡ç¿»æ‹â€œåâ€å­—ï¼Œæœ€å°æ­¥æ•°ç¿»æˆ0.åŸé¢˜\"></a>äºŒç»´çŸ©é˜µä¸­ï¼Œ æ¯æ¬¡ç¿»æ‹â€œåâ€å­—ï¼Œæœ€å°æ­¥æ•°ç¿»æˆ0.<a href=\"https://leetcode.com/problems/minimum-number-of-flips-to-convert-binary-matrix-to-zero-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: mat &#x3D; [[0,0],[0,1]]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: One possible solution is to flip (1, 0) then (0, 1) and finally (1, 1) as shown.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†ç­”æ¡ˆæ‰åšå‡ºæ¥ï¼Œçœ‹åˆ°æç¤ºbfsï¼Œä½†æ˜¯æ²¡æœ‰æƒ³åˆ°å¯ä»¥å°†è¿™ä¸ªäºŒç»´çŸ©é˜µè½¬æˆä¸€ä¸ªäºŒè¿›åˆ¶æ˜¯å®ƒçš„æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFlips</span><span class=\"params\">(self, mat: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(mat), len(mat[<span class=\"number\">0</span>])</span><br><span class=\"line\">    start = sum(cell&lt;&lt;(i*n+j) <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(mat) <span class=\"keyword\">for</span> j, cell <span class=\"keyword\">in</span> enumerate(row))</span><br><span class=\"line\">    q = collections.deque([(start, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    seen = &#123;start&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        cur, step = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                nxt = cur</span><br><span class=\"line\">                <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>), (<span class=\"number\">0</span>, <span class=\"number\">0</span>)):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> m &gt; x+i &gt;= <span class=\"number\">0</span> &lt;= y+j &lt; n:</span><br><span class=\"line\">                        nxt ^= <span class=\"number\">1</span> &lt;&lt; ((x+i)*n + y+j) <span class=\"comment\"># 0 ^ 0 = 0, 1 ^ 0 = 1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> nxt <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    q.append((nxt, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    seen.add(nxt)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1293-Shortest-Path-in-a-Grid-with-Obstacles-Elimination\"><a href=\"#1293-Shortest-Path-in-a-Grid-with-Obstacles-Elimination\" class=\"headerlink\" title=\"1293. Shortest Path in a Grid with Obstacles Elimination\"></a>1293. Shortest Path in a Grid with Obstacles Elimination</h3><h4 id=\"æœ€çŸ­è·¯å¾„ï¼Œå¯ä»¥æ‰“é€šéšœç¢kæ¬¡ã€‚åŸé¢˜\"><a href=\"#æœ€çŸ­è·¯å¾„ï¼Œå¯ä»¥æ‰“é€šéšœç¢kæ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€çŸ­è·¯å¾„ï¼Œå¯ä»¥æ‰“é€šéšœç¢kæ¬¡ã€‚åŸé¢˜\"></a>æœ€çŸ­è·¯å¾„ï¼Œå¯ä»¥æ‰“é€šéšœç¢kæ¬¡ã€‚<a href=\"https://leetcode.com/problems/shortest-path-in-a-grid-with-obstacles-elimination/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">grid &#x3D; </span><br><span class=\"line\">[[0,0,0],</span><br><span class=\"line\"> [1,1,0],</span><br><span class=\"line\"> [0,0,0],</span><br><span class=\"line\"> [0,1,1],</span><br><span class=\"line\"> [0,0,0]], </span><br><span class=\"line\">k &#x3D; 1</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The shortest path without eliminating any obstacle is 10. </span><br><span class=\"line\">The shortest path with one obstacle elimination at position (3,2) is 6. Such path is (0,0) -&gt; (0,1) -&gt; (0,2) -&gt; (1,2) -&gt; (2,2) -&gt; (3,2) -&gt; (4,2).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³åˆ°äº†æ­£ç¡®æ€è·¯ï¼Œä½†æ˜¯æƒ³é”™äº†æœ€å°æ­¥éª¤æ€ä¹ˆæ±‚ï¼Œå…¶å®ä¸ç”¨æ±‚ï¼Œç¬¬ä¸€ä¸ªåˆ°è¾¾çš„å°±æ˜¯æœ€å°çš„æ­¥æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestPath</span><span class=\"params\">(self, g: List[List[int]], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    q = collections.deque([(<span class=\"number\">0</span>, <span class=\"number\">0</span>, k, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    seen = &#123;(<span class=\"number\">0</span>, <span class=\"number\">0</span>, k)&#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        x, y, r, s = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x==m<span class=\"number\">-1</span> <span class=\"keyword\">and</span> y==n<span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> s</span><br><span class=\"line\">        <span class=\"comment\"># å¦‚æœå¯ä»¥ç›´æ¥ç›´è§’è¾¹èµ°åˆ°æœ«å°¾ï¼Œé‚£ä¹ˆç›´æ¥è¿‡å»ï¼Œä¼˜åŒ–å¿«äº†700ms+.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> r &gt;= m + n - <span class=\"number\">3</span> - x - y:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> s + m + n - <span class=\"number\">2</span> - x - y</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x+i&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y+j&lt;n:</span><br><span class=\"line\">                nr = r-(g[x+i][y+j]==<span class=\"number\">1</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (x+i, y+j, nr) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> nr&gt;=<span class=\"number\">0</span>:</span><br><span class=\"line\">                    q.append((x+i, y+j, nr, s+<span class=\"number\">1</span>))</span><br><span class=\"line\">                    seen.add((x+i, y+j, nr))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1298-Maximum-Candies-You-Can-Get-from-Boxes\"><a href=\"#1298-Maximum-Candies-You-Can-Get-from-Boxes\" class=\"headerlink\" title=\"1298. Maximum Candies You Can Get from Boxes\"></a>1298. Maximum Candies You Can Get from Boxes</h3><h4 id=\"æœ€å¤šä»ç›’å­ä¸­æ‹¿åˆ°çš„ç³–æœã€‚ä»åˆå§‹çš„ç›’å­ä¸­å¾€å¤–å–ï¼Œç›’å­èƒ½åµŒå¥—ç›’å­ï¼Œç›’å­å¦‚æœä¸Šé”è¿˜éœ€è¦é’¥åŒ™æ‰“å¼€ã€‚åŸé¢˜\"><a href=\"#æœ€å¤šä»ç›’å­ä¸­æ‹¿åˆ°çš„ç³–æœã€‚ä»åˆå§‹çš„ç›’å­ä¸­å¾€å¤–å–ï¼Œç›’å­èƒ½åµŒå¥—ç›’å­ï¼Œç›’å­å¦‚æœä¸Šé”è¿˜éœ€è¦é’¥åŒ™æ‰“å¼€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤šä»ç›’å­ä¸­æ‹¿åˆ°çš„ç³–æœã€‚ä»åˆå§‹çš„ç›’å­ä¸­å¾€å¤–å–ï¼Œç›’å­èƒ½åµŒå¥—ç›’å­ï¼Œç›’å­å¦‚æœä¸Šé”è¿˜éœ€è¦é’¥åŒ™æ‰“å¼€ã€‚åŸé¢˜\"></a>æœ€å¤šä»ç›’å­ä¸­æ‹¿åˆ°çš„ç³–æœã€‚ä»åˆå§‹çš„ç›’å­ä¸­å¾€å¤–å–ï¼Œç›’å­èƒ½åµŒå¥—ç›’å­ï¼Œç›’å­å¦‚æœä¸Šé”è¿˜éœ€è¦é’¥åŒ™æ‰“å¼€ã€‚<a href=\"https://leetcode.com/problems/maximum-candies-you-can-get-from-boxes/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæœ‰ä¸€ç‚¹æ²¡æœ‰æƒ³åˆ°ï¼Œå°±æ˜¯å¦‚æœå‰é¢çš„ç›’å­è¢«æ‹¿å‡ºæ¥ï¼Œä½†æ˜¯æ²¡æœ‰é’¥åŒ™ï¼ŒçŸ¥é“åé¢çš„ç›’å­æ‰è·å–åˆ°é’¥åŒ™ã€‚è¿™ç§æƒ…å†µéœ€è¦å¦‚ä½•å¤„ç†ï¼Ÿè¿™é‡Œå‚è€ƒäº†lee215çš„æ–¹å¼ã€‚qæ¥è¡¨ç¤ºæ‰€æœ‰å·²ç»æ‰“å¼€çš„ç›’å­ï¼Œseenè¡¨ç¤ºæ‰€æœ‰å¯è§çš„ç›’å­ï¼Œè¿™æ ·å½“æ‹¿åˆ°é’¥åŒ™æ—¶ï¼Œå…¶å®éœ€è¦åšä¸¤ä¸ªæ“ä½œï¼Œå¦‚æœè¿™ä¸ªç›’å­å¯è§ï¼Œå°†å…¶æ”¾å…¥qï¼Œå¦‚æœç›’å­æ²¡è§ï¼Œå°†å…¶é”æ‰“å¼€ï¼ˆè™½ä¸ç¬¦å¸¸ç†ï¼‰ï¼Œè¿™æ ·åœ¨é‡è§ç›’å­æ—¶å¯ä»¥ç›´æ¥å°†å…¶æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxCandies</span><span class=\"params\">(self, status: List[int], candies: List[int], keys: List[List[int]], containedBoxes: List[List[int]], initialBoxes: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    q = collections.deque(b <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> initialBoxes <span class=\"keyword\">if</span> status[b])</span><br><span class=\"line\">    seen = set(initialBoxes)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        b = q.popleft()</span><br><span class=\"line\">        ans += candies[b]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> new_box <span class=\"keyword\">in</span> containedBoxes[b]:</span><br><span class=\"line\">            seen.add(new_box)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> status[new_box]:</span><br><span class=\"line\">                q.append(new_box)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> key <span class=\"keyword\">in</span> keys[b]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> status[key] == <span class=\"number\">0</span> <span class=\"keyword\">and</span> key <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                q.append(key)</span><br><span class=\"line\">            status[key] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1345-Jump-Game-IV\"><a href=\"#1345-Jump-Game-IV\" class=\"headerlink\" title=\"1345. Jump Game IV\"></a>1345. Jump Game IV</h3><h4 id=\"è·³åˆ°æœ«å°¾æœ€å°æ­¥æ•°ï¼Œå¯ä»¥å‘å‰å‘åæˆ–è€…è·³åˆ°ä¸€æ ·çš„å€¼ã€‚åŸé¢˜\"><a href=\"#è·³åˆ°æœ«å°¾æœ€å°æ­¥æ•°ï¼Œå¯ä»¥å‘å‰å‘åæˆ–è€…è·³åˆ°ä¸€æ ·çš„å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·³åˆ°æœ«å°¾æœ€å°æ­¥æ•°ï¼Œå¯ä»¥å‘å‰å‘åæˆ–è€…è·³åˆ°ä¸€æ ·çš„å€¼ã€‚åŸé¢˜\"></a>è·³åˆ°æœ«å°¾æœ€å°æ­¥æ•°ï¼Œå¯ä»¥å‘å‰å‘åæˆ–è€…è·³åˆ°ä¸€æ ·çš„å€¼ã€‚<a href=\"https://leetcode.com/problems/jump-game-iv/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [100,-23,-23,404,100,23,23,23,3,404]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: You need three jumps from index 0 --&gt; 4 --&gt; 3 --&gt; 9. Note that index 9 is the last index of the array.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šbfsã€‚éœ€è¦æ³¨æ„num_seenè®°å½•æ‰€æœ‰çš„åŒå€¼ï¼Œå¦åˆ™ä¼šè¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minJumps</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    equal = collections.defaultdict(list)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(arr):</span><br><span class=\"line\">        equal[a].append(i)</span><br><span class=\"line\">        </span><br><span class=\"line\">    q = collections.deque([(<span class=\"number\">0</span>, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    pos_seen, num_seen = set(), set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        p, s = q.popleft()</span><br><span class=\"line\">        pos_seen.add(p)</span><br><span class=\"line\">        num = arr[p]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> p == len(arr)<span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> s</span><br><span class=\"line\">        <span class=\"keyword\">for</span> nxt <span class=\"keyword\">in</span> [p<span class=\"number\">-1</span>, p+<span class=\"number\">1</span>] + equal[num] * (num <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> num_seen):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nxt <span class=\"keyword\">in</span> pos_seen <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> <span class=\"number\">0</span>&lt;=nxt&lt;len(arr): <span class=\"keyword\">continue</span></span><br><span class=\"line\">            q.append((nxt, s+<span class=\"number\">1</span>))</span><br><span class=\"line\">        num_seen.add(num)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1391-Check-if-There-is-a-Valid-Path-in-a-Grid\"><a href=\"#1391-Check-if-There-is-a-Valid-Path-in-a-Grid\" class=\"headerlink\" title=\"1391. Check if There is a Valid Path in a Grid\"></a>1391. Check if There is a Valid Path in a Grid</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦èƒ½åˆ°è¾¾å³ä¸‹ç‚¹ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦èƒ½åˆ°è¾¾å³ä¸‹ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦èƒ½åˆ°è¾¾å³ä¸‹ç‚¹ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦èƒ½åˆ°è¾¾å³ä¸‹ç‚¹ã€‚<a href=\"https://leetcode.com/problems/check-if-there-is-a-valid-path-in-a-grid/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[2,4,3],[6,5,2]]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: As shown you can start at cell (0, 0) and visit all the cells of the grid to reach (m - 1, n - 1).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfsã€‚éœ€è¦æ³¨æ„çš„æ˜¯<code>(-x, -y) in directions[grid[ni][nj]])</code>æ˜¯ç”¨æ¥åˆ¤æ–­è¯¥å—å’Œä¸‹ä¸€å—æ˜¯å¦æ˜¯è”é€šçš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasValidPath</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    directions = &#123;</span><br><span class=\"line\">        <span class=\"number\">1</span>: ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>)),</span><br><span class=\"line\">        <span class=\"number\">2</span>: ((<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>)),</span><br><span class=\"line\">        <span class=\"number\">3</span>: ((<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>)),</span><br><span class=\"line\">        <span class=\"number\">4</span>: ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>)),</span><br><span class=\"line\">        <span class=\"number\">5</span>: ((<span class=\"number\">-1</span>, <span class=\"number\">0</span>), (<span class=\"number\">0</span>, <span class=\"number\">-1</span>)),</span><br><span class=\"line\">        <span class=\"number\">6</span>: ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">0</span>))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    m, n = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        seen.add((i, j))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i, j) == (m<span class=\"number\">-1</span>, n<span class=\"number\">-1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        block = grid[i][j]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> directions[block]:</span><br><span class=\"line\">            ni, nj = i+x, j+y</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=ni&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=nj&lt;n <span class=\"keyword\">and</span> (ni, nj) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> (</span><br><span class=\"line\">                (-x, -y) <span class=\"keyword\">in</span> directions[grid[ni][nj]]):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dfs(ni, nj):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1162-As-Far-from-Land-as-Possible\"><a href=\"#1162-As-Far-from-Land-as-Possible\" class=\"headerlink\" title=\"1162. As Far from Land as Possible\"></a>1162. As Far from Land as Possible</h3><h4 id=\"ç¦»é™†åœ°æœ€è¿œçš„ç‚¹çš„è·ç¦»ã€‚åŸé¢˜\"><a href=\"#ç¦»é™†åœ°æœ€è¿œçš„ç‚¹çš„è·ç¦»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç¦»é™†åœ°æœ€è¿œçš„ç‚¹çš„è·ç¦»ã€‚åŸé¢˜\"></a>ç¦»é™†åœ°æœ€è¿œçš„ç‚¹çš„è·ç¦»ã€‚<a href=\"https://leetcode.com/problems/as-far-from-land-as-possible/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,0,1],[0,0,0],[1,0,1]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The cell (1, 1) is as far as possible from all the land with distance 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šbfs. æ­¤é¢˜ç«èµ›æ—¶æƒ³åˆ°äº†è§£æ³•ï¼Œä½†æ˜¯å‡ºå‘ç‚¹æœ‰ç‚¹é—®é¢˜ï¼Œæ˜¯ä»æ°´æ‰¾é™†åœ°ï¼Œè¿™æ ·çš„è¯æœ‰å¾ˆå¤šé‡å¤çš„å¾ªç¯ï¼Œå¯¼è‡´è¶…æ—¶ã€‚æ­£ç¡®çš„æ€è·¯æ˜¯ä»é™†åœ°éå†æ°´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDistance</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    R, C = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    q = collections.deque([(i, j, <span class=\"number\">0</span>) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C)</span><br><span class=\"line\">                           <span class=\"keyword\">if</span> grid[i][j] == <span class=\"number\">1</span>])</span><br><span class=\"line\">    d = <span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        x, y, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> grid[x][y] == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d</span><br><span class=\"line\">        surrounds = ((x<span class=\"number\">-1</span>, y), (x+<span class=\"number\">1</span>, y), (x, y<span class=\"number\">-1</span>), (x, y+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> surrounds:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;C <span class=\"keyword\">and</span> grid[i][j]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                q.append((i, j, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">                grid[i][j] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> d <span class=\"keyword\">or</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1091-Shortest-Path-in-Binary-Matrix\"><a href=\"#1091-Shortest-Path-in-Binary-Matrix\" class=\"headerlink\" title=\"1091. Shortest Path in Binary Matrix\"></a>1091. Shortest Path in Binary Matrix</h3><h4 id=\"ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œåªèƒ½èµ°0ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œå¯ä»¥æ–œç€èµ°ã€‚åŸé¢˜\"><a href=\"#ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œåªèƒ½èµ°0ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œå¯ä»¥æ–œç€èµ°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œåªèƒ½èµ°0ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œå¯ä»¥æ–œç€èµ°ã€‚åŸé¢˜\"></a>ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œåªèƒ½èµ°0ï¼Œæ±‚æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œå¯ä»¥æ–œç€èµ°ã€‚<a href=\"https://leetcode.com/problems/shortest-path-in-binary-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ ¸å¿ƒæ€æƒ³ä¸ºï¼ŒBFSï¼Œåˆ°ç»ˆç‚¹çš„æ·±åº¦ï¼Œä½¿ç”¨ä¸¤ä¸ªæ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestPathBinaryMatrix</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(grid)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> grid[<span class=\"number\">0</span>][<span class=\"number\">0</span>] == grid[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>] == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        di = (<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">        dj = (<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> di:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> dj:</span><br><span class=\"line\">                x, y = i+k, j+m</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;n <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;n <span class=\"keyword\">and</span> grid[x][y]==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> x, y</span><br><span class=\"line\">    </span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    bfs = [(<span class=\"number\">0</span>, <span class=\"number\">0</span>)]</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> bfs:</span><br><span class=\"line\">        d += <span class=\"number\">1</span></span><br><span class=\"line\">        bfs2 = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (x, y) <span class=\"keyword\">in</span> bfs:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x==n<span class=\"number\">-1</span> <span class=\"keyword\">and</span> y==n<span class=\"number\">-1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> d</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x, y) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                bfs2.extend([(i, j) <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> spread(x, y)])</span><br><span class=\"line\">                seen.add((x, y))</span><br><span class=\"line\">        bfs = bfs2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨åŒç«¯é˜Ÿåˆ—ã€‚ä¸ºäº†é¿å…èµ·ç‚¹ä¸º1ï¼Œæ‰€ä»¥ä»-1å¼€å§‹ï¼Œæ·±åº¦ä¸º0.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shortestPathBinaryMatrix</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(grid)</span><br><span class=\"line\">    q = collections.deque([(<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">0</span>)])</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        x, y, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x==n<span class=\"number\">-1</span> <span class=\"keyword\">and</span> y==n<span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((x<span class=\"number\">-1</span>, y<span class=\"number\">-1</span>), (x<span class=\"number\">-1</span>, y), (x<span class=\"number\">-1</span>, y+<span class=\"number\">1</span>), (x, y<span class=\"number\">-1</span>), (x, y+<span class=\"number\">1</span>), (x+<span class=\"number\">1</span>, y<span class=\"number\">-1</span>), (x+<span class=\"number\">1</span>, y), (x+<span class=\"number\">1</span>, y+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;n <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> grid[i][j]==<span class=\"number\">0</span> <span class=\"keyword\">and</span> (i, j) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                q.append((i, j, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">                seen.add((i, j))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1034-Coloring-A-Border\"><a href=\"#1034-Coloring-A-Border\" class=\"headerlink\" title=\"1034. Coloring A Border\"></a>1034. Coloring A Border</h3><h4 id=\"ç»™è¾¹ç•ŒæŸ“è‰²ï¼Œæ­¤é¢˜å’Œ733-flood-fillå¾ˆåƒï¼ŒåŒºåˆ«åœ¨äºï¼Œé‚£ä¸ªæ˜¯å°†æ‰€æœ‰åŒºåŸŸæŸ“è‰²ï¼Œè¿™ä¸ªæ˜¯åªå°†è¾¹ç•ŒæŸ“è‰²ã€‚åŸé¢˜\"><a href=\"#ç»™è¾¹ç•ŒæŸ“è‰²ï¼Œæ­¤é¢˜å’Œ733-flood-fillå¾ˆåƒï¼ŒåŒºåˆ«åœ¨äºï¼Œé‚£ä¸ªæ˜¯å°†æ‰€æœ‰åŒºåŸŸæŸ“è‰²ï¼Œè¿™ä¸ªæ˜¯åªå°†è¾¹ç•ŒæŸ“è‰²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™è¾¹ç•ŒæŸ“è‰²ï¼Œæ­¤é¢˜å’Œ733.flood fillå¾ˆåƒï¼ŒåŒºåˆ«åœ¨äºï¼Œé‚£ä¸ªæ˜¯å°†æ‰€æœ‰åŒºåŸŸæŸ“è‰²ï¼Œè¿™ä¸ªæ˜¯åªå°†è¾¹ç•ŒæŸ“è‰²ã€‚åŸé¢˜\"></a>ç»™è¾¹ç•ŒæŸ“è‰²ï¼Œæ­¤é¢˜å’Œ733.flood fillå¾ˆåƒï¼ŒåŒºåˆ«åœ¨äºï¼Œé‚£ä¸ªæ˜¯å°†æ‰€æœ‰åŒºåŸŸæŸ“è‰²ï¼Œè¿™ä¸ªæ˜¯åªå°†è¾¹ç•ŒæŸ“è‰²ã€‚<a href=\"https://leetcode.com/problems/coloring-a-border/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå†™æ³•ç¨ä½œä¿®æ”¹ï¼Œå°†åˆ¤æ–­ç§»åˆ°å‰é¢ã€‚å››ä¸ªæ–¹å‘åªè¦æœ‰ä¸€ä¸ªè¿”å›Falseå°±è¯´æ˜æ˜¯è¾¹ç•Œçš„ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">colorBorder</span><span class=\"params\">(self, grid: List[List[int]], r0: int, c0: int, color: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x, y) <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (<span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> grid[x][y]==grid[r0][c0]):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        seen.add((x, y))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> dfs(x+<span class=\"number\">1</span>, y) + dfs(x<span class=\"number\">-1</span>, y) + dfs(x, y<span class=\"number\">-1</span>) + dfs(x, y+<span class=\"number\">1</span>) &lt; <span class=\"number\">4</span>:</span><br><span class=\"line\">            grid[x][y] = color</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    seen, R, C = set(), len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    dfs(r0, c0)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> grid</span><br></pre></td></tr></table></figure>\n<h3 id=\"1031-Number-of-Enclaves\"><a href=\"#1031-Number-of-Enclaves\" class=\"headerlink\" title=\"1031. Number of Enclaves\"></a>1031. Number of Enclaves</h3><h4 id=\"æ±‚è¢«å›°çš„åœ°ç‚¹ä¸ªæ•°ã€‚1è¡¨ç¤ºé™†åœ°ï¼Œä¸èƒ½å¤Ÿèµ°åˆ°è¾¹ç•Œçš„é™†åœ°ç§°ä¸ºè¢«å›°çš„é™†åœ°ã€‚åŸé¢˜\"><a href=\"#æ±‚è¢«å›°çš„åœ°ç‚¹ä¸ªæ•°ã€‚1è¡¨ç¤ºé™†åœ°ï¼Œä¸èƒ½å¤Ÿèµ°åˆ°è¾¹ç•Œçš„é™†åœ°ç§°ä¸ºè¢«å›°çš„é™†åœ°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚è¢«å›°çš„åœ°ç‚¹ä¸ªæ•°ã€‚1è¡¨ç¤ºé™†åœ°ï¼Œä¸èƒ½å¤Ÿèµ°åˆ°è¾¹ç•Œçš„é™†åœ°ç§°ä¸ºè¢«å›°çš„é™†åœ°ã€‚åŸé¢˜\"></a>æ±‚è¢«å›°çš„åœ°ç‚¹ä¸ªæ•°ã€‚1è¡¨ç¤ºé™†åœ°ï¼Œä¸èƒ½å¤Ÿèµ°åˆ°è¾¹ç•Œçš„é™†åœ°ç§°ä¸ºè¢«å›°çš„é™†åœ°ã€‚<a href=\"https://leetcode.com/problems/number-of-enclaves/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç®€å•çš„DFS</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numEnclaves</span><span class=\"params\">(self, A: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> A:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    R, C = len(A), len(A[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        A[i][j] = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> A[x][y] == <span class=\"number\">1</span>:</span><br><span class=\"line\">                spread(x, y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i][<span class=\"number\">0</span>]==<span class=\"number\">1</span>:</span><br><span class=\"line\">            spread(i, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i][C<span class=\"number\">-1</span>] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            spread(i, C<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[<span class=\"number\">0</span>][j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            spread(<span class=\"number\">0</span>, j)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[R<span class=\"number\">-1</span>][j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">            spread(R<span class=\"number\">-1</span>, j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sum(row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> A)</span><br></pre></td></tr></table></figure>\n<h3 id=\"695-Max-Area-of-Island\"><a href=\"#695-Max-Area-of-Island\" class=\"headerlink\" title=\"695. Max Area of Island\"></a>695. Max Area of Island</h3><h4 id=\"æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚åŸé¢˜\"></a>æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚<a href=\"https://leetcode.com/problems/max-area-of-island/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šdfs.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxAreaOfIsland</span><span class=\"params\">(self, grid: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    area, seen = <span class=\"number\">0</span>, set()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (<span class=\"number\">0</span>&lt;=i&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;C <span class=\"keyword\">and</span> (i, j) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span></span><br><span class=\"line\">                grid[i][j]):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        seen.add((i, j))</span><br><span class=\"line\">        surrounds = ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"comment\"># return 1 + sum(map(lambda x: dfs(*x), surrounds))   </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span> + sum(starmap(dfs, surrounds))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(spread(i, j) </span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C))</span><br></pre></td></tr></table></figure>\n<h3 id=\"994-Rotting-Oranges\"><a href=\"#994-Rotting-Oranges\" class=\"headerlink\" title=\"994. Rotting Oranges\"></a>994. Rotting Oranges</h3><h4 id=\"è…çƒ‚çš„æ©˜å­ï¼Œ1è¡¨ç¤ºæ–°é²œï¼Œ2è¡¨ç¤ºè…çƒ‚ï¼Œæ¯åˆ†é’Ÿè…çƒ‚çš„ä¼šä¼ æŸ“ç»™å››å‘¨ä¸Šä¸‹å·¦å³çš„æ©˜å­ï¼Œé—®æ‰€æœ‰çš„æ©˜å­è…çƒ‚æœ€å°‘éœ€è¦å‡ åˆ†é’Ÿã€‚åŸé¢˜\"><a href=\"#è…çƒ‚çš„æ©˜å­ï¼Œ1è¡¨ç¤ºæ–°é²œï¼Œ2è¡¨ç¤ºè…çƒ‚ï¼Œæ¯åˆ†é’Ÿè…çƒ‚çš„ä¼šä¼ æŸ“ç»™å››å‘¨ä¸Šä¸‹å·¦å³çš„æ©˜å­ï¼Œé—®æ‰€æœ‰çš„æ©˜å­è…çƒ‚æœ€å°‘éœ€è¦å‡ åˆ†é’Ÿã€‚åŸé¢˜\" class=\"headerlink\" title=\"è…çƒ‚çš„æ©˜å­ï¼Œ1è¡¨ç¤ºæ–°é²œï¼Œ2è¡¨ç¤ºè…çƒ‚ï¼Œæ¯åˆ†é’Ÿè…çƒ‚çš„ä¼šä¼ æŸ“ç»™å››å‘¨ä¸Šä¸‹å·¦å³çš„æ©˜å­ï¼Œé—®æ‰€æœ‰çš„æ©˜å­è…çƒ‚æœ€å°‘éœ€è¦å‡ åˆ†é’Ÿã€‚åŸé¢˜\"></a>è…çƒ‚çš„æ©˜å­ï¼Œ1è¡¨ç¤ºæ–°é²œï¼Œ2è¡¨ç¤ºè…çƒ‚ï¼Œæ¯åˆ†é’Ÿè…çƒ‚çš„ä¼šä¼ æŸ“ç»™å››å‘¨ä¸Šä¸‹å·¦å³çš„æ©˜å­ï¼Œé—®æ‰€æœ‰çš„æ©˜å­è…çƒ‚æœ€å°‘éœ€è¦å‡ åˆ†é’Ÿã€‚<a href=\"https://leetcode.com/problems/rotting-oranges/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph/oranges.png\" class>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶è™½ç„¶åšå‡ºæ¥äº†ï¼Œä½†æœ‰äº›ç‚¹æ²¡æƒ³å‡ºæ¥ï¼Œå…¶å®æ˜¯BFSï¼Œè¿™æ ·ä¸€æƒ³é€€å‡ºæ¡ä»¶å°±å¾ˆæ¸…æ¥šäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">orangesRotting</span><span class=\"params\">(self, g: <span class=\"string\">'List[List[int]]'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    rotted = ((x, y, <span class=\"number\">0</span>) <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(R) <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(C) <span class=\"keyword\">if</span> g[x][y]==<span class=\"number\">2</span>)</span><br><span class=\"line\">    q = collections.deque(rotted)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">to_rot</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((x<span class=\"number\">-1</span>, y), (x, y<span class=\"number\">-1</span>), (x+<span class=\"number\">1</span>, y), (x, y+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> g[x][y]==<span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> x, y</span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        r, c, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> sr, sc <span class=\"keyword\">in</span> to_rot(r, c):</span><br><span class=\"line\">            g[sr][sc] = <span class=\"number\">2</span></span><br><span class=\"line\">            q.append((sr, sc, d+<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"number\">1</span> <span class=\"keyword\">in</span> sum(g, []):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"733-Flood-Fill\"><a href=\"#733-Flood-Fill\" class=\"headerlink\" title=\"733. Flood Fill\"></a>733. Flood Fill</h3><h4 id=\"â€œæ´ªæ°´å¡«å……â€ï¼Œç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªé¢œè‰²ï¼Œå°†è¿™ä¸ªç‚¹å’Œä¸Šä¸‹å·¦å³å››ä¸ªç‚¹ä½¿ç”¨æ–°çš„é¢œè‰²å¡«å……ï¼Œå’Œè¿™ä¸ªç‚¹åŸæ¥ç›¸åŒçš„é¢œè‰²çš„ç‚¹ä¹Ÿå—åˆ°å½±å“ï¼Œä¾æ¬¡æ‰©æ•£ï¼Œè¿”å›æ–°çš„å›¾ç‰‡æ•°ç»„ã€‚åŸé¢˜\"><a href=\"#â€œæ´ªæ°´å¡«å……â€ï¼Œç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªé¢œè‰²ï¼Œå°†è¿™ä¸ªç‚¹å’Œä¸Šä¸‹å·¦å³å››ä¸ªç‚¹ä½¿ç”¨æ–°çš„é¢œè‰²å¡«å……ï¼Œå’Œè¿™ä¸ªç‚¹åŸæ¥ç›¸åŒçš„é¢œè‰²çš„ç‚¹ä¹Ÿå—åˆ°å½±å“ï¼Œä¾æ¬¡æ‰©æ•£ï¼Œè¿”å›æ–°çš„å›¾ç‰‡æ•°ç»„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"â€œæ´ªæ°´å¡«å……â€ï¼Œç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªé¢œè‰²ï¼Œå°†è¿™ä¸ªç‚¹å’Œä¸Šä¸‹å·¦å³å››ä¸ªç‚¹ä½¿ç”¨æ–°çš„é¢œè‰²å¡«å……ï¼Œå’Œè¿™ä¸ªç‚¹åŸæ¥ç›¸åŒçš„é¢œè‰²çš„ç‚¹ä¹Ÿå—åˆ°å½±å“ï¼Œä¾æ¬¡æ‰©æ•£ï¼Œè¿”å›æ–°çš„å›¾ç‰‡æ•°ç»„ã€‚åŸé¢˜\"></a>â€œæ´ªæ°´å¡«å……â€ï¼Œç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªé¢œè‰²ï¼Œå°†è¿™ä¸ªç‚¹å’Œä¸Šä¸‹å·¦å³å››ä¸ªç‚¹ä½¿ç”¨æ–°çš„é¢œè‰²å¡«å……ï¼Œå’Œè¿™ä¸ªç‚¹åŸæ¥ç›¸åŒçš„é¢œè‰²çš„ç‚¹ä¹Ÿå—åˆ°å½±å“ï¼Œä¾æ¬¡æ‰©æ•£ï¼Œè¿”å›æ–°çš„å›¾ç‰‡æ•°ç»„ã€‚<a href=\"https://leetcode.com/problems/flood-fill/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">image &#x3D; [[1,1,1],[1,1,0],[1,0,1]]</span><br><span class=\"line\">sr &#x3D; 1, sc &#x3D; 1, newColor &#x3D; 2</span><br><span class=\"line\">Output: [[2,2,2],[2,2,0],[2,0,1]]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">From the center of the image (with position (sr, sc) &#x3D; (1, 1)), all pixels connected </span><br><span class=\"line\">by a path of the same color as the starting pixel are colored with the new color.</span><br><span class=\"line\">Note the bottom corner is not colored 2, because it is not 4-directionally connected</span><br><span class=\"line\">to the starting pixel.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç›®æ ‡ç‚¹ä¸é¢œè‰²ç›¸åŒï¼Œåˆ™åŸå›¾ä¸å˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">floodFill</span><span class=\"params\">(self, image, sr, sc, newColor)</span>:</span></span><br><span class=\"line\">    rows, cols = len(image), len(image[<span class=\"number\">0</span>])</span><br><span class=\"line\">    old_val = image[sr][sc]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> old_val == image[x][y]:</span><br><span class=\"line\">            image[x][y] = newColor</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x<span class=\"number\">-1</span> &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                spread(x<span class=\"number\">-1</span>, y)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x+<span class=\"number\">1</span> &lt; rows:</span><br><span class=\"line\">                spread(x+<span class=\"number\">1</span>, y)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> y<span class=\"number\">-1</span> &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                spread(x, y<span class=\"number\">-1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> y+<span class=\"number\">1</span> &lt; cols:</span><br><span class=\"line\">                spread(x, y+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> old_val != newColor:</span><br><span class=\"line\">        spread(sr, sc)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> image</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•çš„å˜å½¢ã€‚çœ‹èµ·æ¥æ›´ä¼˜é›…ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">floodFill</span><span class=\"params\">(self, image, sr, sc, newColor)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        image[x][y] = newColor</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((x<span class=\"number\">-1</span>, y), (x+<span class=\"number\">1</span>, y), (x, y+<span class=\"number\">1</span>), (x, y<span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;rows <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;cols <span class=\"keyword\">and</span> image[x][y]==old_val:</span><br><span class=\"line\">                dfs(x, y)</span><br><span class=\"line\">        </span><br><span class=\"line\">    old_val, rows, cols = image[sr][sc], len(image), len(image[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">if</span> old_val != newColor:</span><br><span class=\"line\">        dfs(sr, sc)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> image</span><br></pre></td></tr></table></figure>\n<h3 id=\"1625-Lexicographically-Smallest-String-After-Applying-Operations\"><a href=\"#1625-Lexicographically-Smallest-String-After-Applying-Operations\" class=\"headerlink\" title=\"1625. Lexicographically Smallest String After Applying Operations\"></a><a href=\"https://leetcode.com/problems/lexicographically-smallest-string-after-applying-operations/\" target=\"_blank\" rel=\"noopener\">1625. Lexicographically Smallest String After Applying Operations</a></h3><h4 id=\"ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²-s-ä»¥åŠä¸¤ä¸ªæ•´æ•°-a-å’Œ-b-ã€‚å…¶ä¸­ï¼Œå­—ç¬¦ä¸²-s-çš„é•¿åº¦ä¸ºå¶æ•°ï¼Œä¸”ä»…ç”±æ•°å­—-0-åˆ°-9-ç»„æˆã€‚\"><a href=\"#ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²-s-ä»¥åŠä¸¤ä¸ªæ•´æ•°-a-å’Œ-b-ã€‚å…¶ä¸­ï¼Œå­—ç¬¦ä¸²-s-çš„é•¿åº¦ä¸ºå¶æ•°ï¼Œä¸”ä»…ç”±æ•°å­—-0-åˆ°-9-ç»„æˆã€‚\" class=\"headerlink\" title=\"ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ä»¥åŠä¸¤ä¸ªæ•´æ•° a å’Œ b ã€‚å…¶ä¸­ï¼Œå­—ç¬¦ä¸² s çš„é•¿åº¦ä¸ºå¶æ•°ï¼Œä¸”ä»…ç”±æ•°å­— 0 åˆ° 9 ç»„æˆã€‚\"></a>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ä»¥åŠä¸¤ä¸ªæ•´æ•° a å’Œ b ã€‚å…¶ä¸­ï¼Œå­—ç¬¦ä¸² s çš„é•¿åº¦ä¸ºå¶æ•°ï¼Œä¸”ä»…ç”±æ•°å­— 0 åˆ° 9 ç»„æˆã€‚</h4><p>ä½ å¯ä»¥åœ¨ s ä¸ŠæŒ‰ä»»æ„é¡ºåºå¤šæ¬¡æ‰§è¡Œä¸‹é¢ä¸¤ä¸ªæ“ä½œä¹‹ä¸€ï¼š</p>\n<p>ç´¯åŠ ï¼šå°†  a åŠ åˆ° s ä¸­æ‰€æœ‰ä¸‹æ ‡ä¸ºå¥‡æ•°çš„å…ƒç´ ä¸Šï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚æ•°å­—ä¸€æ—¦è¶…è¿‡ 9 å°±ä¼šå˜æˆ 0ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ã€‚ä¾‹å¦‚ï¼Œs = â€œ3456â€ ä¸” a = 5ï¼Œåˆ™æ‰§è¡Œæ­¤æ“ä½œå s å˜æˆ â€œ3951â€ã€‚<br>è½®è½¬ï¼šå°† s å‘å³è½®è½¬ b ä½ã€‚ä¾‹å¦‚ï¼Œs = â€œ3456â€ ä¸” b = 1ï¼Œåˆ™æ‰§è¡Œæ­¤æ“ä½œå s å˜æˆ â€œ6345â€ã€‚<br>è¯·ä½ è¿”å›åœ¨ s ä¸Šæ‰§è¡Œä¸Šè¿°æ“ä½œä»»æ„æ¬¡åå¯ä»¥å¾—åˆ°çš„ å­—å…¸åºæœ€å° çš„å­—ç¬¦ä¸²ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼šs &#x3D; &quot;5525&quot;, a &#x3D; 9, b &#x3D; 2</span><br><span class=\"line\">è¾“å‡ºï¼š&quot;2050&quot;</span><br><span class=\"line\">è§£é‡Šï¼šæ‰§è¡Œæ“ä½œå¦‚ä¸‹ï¼š</span><br><span class=\"line\">åˆæ€ï¼š&quot;5525&quot;</span><br><span class=\"line\">è½®è½¬ï¼š&quot;2555&quot;</span><br><span class=\"line\">ç´¯åŠ ï¼š&quot;2454&quot;</span><br><span class=\"line\">ç´¯åŠ ï¼š&quot;2353&quot;</span><br><span class=\"line\">è½®è½¬ï¼š&quot;5323&quot;</span><br><span class=\"line\">ç´¯åŠ ï¼š&quot;5222&quot;</span><br><span class=\"line\">ç´¯åŠ ï¼š&quot;5121&quot;</span><br><span class=\"line\">è½®è½¬ï¼š&quot;2151&quot;</span><br><span class=\"line\">ç´¯åŠ ï¼š&quot;2050&quot;â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹</span><br><span class=\"line\">æ— æ³•è·å¾—å­—å…¸åºå°äº &quot;2050&quot; çš„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æ¯”è¾ƒéš¾æƒ³ï¼Œä½œä¸ºç«èµ›ç¬¬äºŒé¢˜ä¸€ç›´å¡ä½äº†ï¼Œå®é™…æ²¡æœ‰3é¢˜ç®€å•ã€‚BFSï¼Œæš´åŠ›å»åšå°±è¡Œï¼Œä½†æ˜¯æ¯”èµ›æ—¶å†™å¾—æœ‰ä¸€ç‚¹é—®é¢˜TLEäº†ã€‚</p>\n<p>ä½†æ˜¯è¿˜æ˜¯æƒ³åˆ°ä¸€äº›è§„å¾‹ï¼Œå¦‚æœbæ˜¯å¶æ•°æ—¶ï¼Œç´¯åŠ çš„ä½æ•°åªæœ‰å¥‡æ•°ä½ï¼›å¦‚æœbæ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆé€šè¿‡æ—‹è½¬æ¯ä¸€ä½éƒ½å¯èƒ½ç´¯åŠ ï¼Œä½†æ˜¯ç´¯åŠ å’Œæ—‹è½¬çš„é¡ºåºå…¶å®æ˜¯ä¸æƒ³å…³çš„ï¼Œå¯ä»¥å•ç‹¬åœ°æ“ä½œã€‚æ—¶é—´1700msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLexSmallestString</span><span class=\"params\">(self, s: str, a: int, b: int)</span> -&gt; str:</span></span><br><span class=\"line\">    q, seen, ans = deque([s]), &#123;s&#125;, s</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        cur = q.popleft()</span><br><span class=\"line\">        ans = min(ans, cur)</span><br><span class=\"line\">        nxt = <span class=\"string\">''</span>.join(str(n <span class=\"keyword\">if</span> i&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span> <span class=\"keyword\">else</span> (int(n)+a)%<span class=\"number\">10</span>) <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(cur))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nxt <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            seen.add(nxt)</span><br><span class=\"line\">            q.append(nxt)</span><br><span class=\"line\">        rot = nxt[-b:] + nxt[:-b]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> rot <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            seen.add(rot)</span><br><span class=\"line\">            q.append(rot)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šdfsï¼Œä¹Ÿæ˜¯å¯ä»¥ï¼Œå‘BFSé‚£æ ·å»é‡å°±è¡Œäº†ã€‚é€Ÿåº¦æ¯”æ–¹æ³•ä¸€æ…¢äº†ä¸€ç‚¹2400msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findLexSmallestString</span><span class=\"params\">(self, s: str, a: int, b: int)</span> -&gt; str:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">op_1</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(str((int(c)+a)%<span class=\"number\">10</span>) <span class=\"keyword\">if</span> i&amp;<span class=\"number\">1</span> <span class=\"keyword\">else</span> c <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> enumerate(s))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">op_2</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> s[-b:] + s[:-b]</span><br><span class=\"line\">    </span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    stack = [s]</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        s = stack.pop()</span><br><span class=\"line\">        seen.add(s)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ss := op_1(s)) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen: stack.append(ss)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ss := op_2(s)) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen: stack.append(ss)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(seen)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1627-Graph-Connectivity-With-Threshold\"><a href=\"#1627-Graph-Connectivity-With-Threshold\" class=\"headerlink\" title=\"1627. Graph Connectivity With Threshold\"></a><a href=\"https://leetcode-cn.com/problems/graph-connectivity-with-threshold/\" target=\"_blank\" rel=\"noopener\">1627. Graph Connectivity With Threshold</a></h3><h4 id=\"ç»™ä½ 1-nä¸ªç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹æœ‰ä¸€ä¸ªçº¦æ•°å¤§äºThresholdï¼Œé‚£ä¹ˆè¡¨æ˜ä¸¤ç‚¹ä¹‹é—´æœ‰è¾¹ã€‚é—®ç»™ä½ ä¸€äº›ç‚¹å¯¹ï¼Œåˆ¤æ–­è¿™ä¸¤ä¸ªç‚¹æ˜¯å¦ç›¸è¿ã€‚\"><a href=\"#ç»™ä½ 1-nä¸ªç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹æœ‰ä¸€ä¸ªçº¦æ•°å¤§äºThresholdï¼Œé‚£ä¹ˆè¡¨æ˜ä¸¤ç‚¹ä¹‹é—´æœ‰è¾¹ã€‚é—®ç»™ä½ ä¸€äº›ç‚¹å¯¹ï¼Œåˆ¤æ–­è¿™ä¸¤ä¸ªç‚¹æ˜¯å¦ç›¸è¿ã€‚\" class=\"headerlink\" title=\"ç»™ä½ 1~nä¸ªç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹æœ‰ä¸€ä¸ªçº¦æ•°å¤§äºThresholdï¼Œé‚£ä¹ˆè¡¨æ˜ä¸¤ç‚¹ä¹‹é—´æœ‰è¾¹ã€‚é—®ç»™ä½ ä¸€äº›ç‚¹å¯¹ï¼Œåˆ¤æ–­è¿™ä¸¤ä¸ªç‚¹æ˜¯å¦ç›¸è¿ã€‚\"></a>ç»™ä½ 1~nä¸ªç‚¹ï¼Œå¦‚æœä¸¤ä¸ªç‚¹æœ‰ä¸€ä¸ªçº¦æ•°å¤§äºThresholdï¼Œé‚£ä¹ˆè¡¨æ˜ä¸¤ç‚¹ä¹‹é—´æœ‰è¾¹ã€‚é—®ç»™ä½ ä¸€äº›ç‚¹å¯¹ï¼Œåˆ¤æ–­è¿™ä¸¤ä¸ªç‚¹æ˜¯å¦ç›¸è¿ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šç®€å•çš„å¹¶æŸ¥é›†é—®é¢˜ï¼Œæ¯”èµ›å¯æƒœæ²¡æ—¶é—´åšã€‚è¿™é¢˜çš„é—®é¢˜åœ¨äºå¦‚ä½•å»ºå›¾ã€‚æšä¸¾ä¸¤ä¸ªç‚¹ä¸€å®šä¼šè¶…æ—¶ï¼Œæ‰€ä»¥ä»é€†å‘è€ƒè™‘ï¼Œæšä¸¾æ‰€æœ‰çš„çº¦æ•°ï¼Œå°†è¿™äº›ç‚¹ç›¸è¿ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">areConnected</span><span class=\"params\">(self, n: int, threshold: int, queries: List[List[int]])</span> -&gt; List[bool]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    uf = list(range(<span class=\"number\">0</span>, n+<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(threshold+<span class=\"number\">1</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(d, n+<span class=\"number\">1</span>, d):</span><br><span class=\"line\">            union(j, d)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [find(u)==find(v) <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> queries]</span><br></pre></td></tr></table></figure>\n<h3 id=\"947-Most-Stones-Removed-with-Same-Row-or-Column\"><a href=\"#947-Most-Stones-Removed-with-Same-Row-or-Column\" class=\"headerlink\" title=\"947. Most Stones Removed with Same Row or Column\"></a><a href=\"https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/\" target=\"_blank\" rel=\"noopener\">947. Most Stones Removed with Same Row or Column</a></h3><h4 id=\"æœ€å¤šå¯ä»¥ç§»é™¤å¤šå°‘å—çŸ³å¤´ï¼Œæ¯æ¬¡ç§»é™¤æ—¶ï¼Œä¸‹ä¸€å—æ‰¾åˆ°åŒè¡Œæˆ–è€…åŒåˆ—çš„è¿›è¡Œç§»é™¤ã€‚\"><a href=\"#æœ€å¤šå¯ä»¥ç§»é™¤å¤šå°‘å—çŸ³å¤´ï¼Œæ¯æ¬¡ç§»é™¤æ—¶ï¼Œä¸‹ä¸€å—æ‰¾åˆ°åŒè¡Œæˆ–è€…åŒåˆ—çš„è¿›è¡Œç§»é™¤ã€‚\" class=\"headerlink\" title=\"æœ€å¤šå¯ä»¥ç§»é™¤å¤šå°‘å—çŸ³å¤´ï¼Œæ¯æ¬¡ç§»é™¤æ—¶ï¼Œä¸‹ä¸€å—æ‰¾åˆ°åŒè¡Œæˆ–è€…åŒåˆ—çš„è¿›è¡Œç§»é™¤ã€‚\"></a>æœ€å¤šå¯ä»¥ç§»é™¤å¤šå°‘å—çŸ³å¤´ï¼Œæ¯æ¬¡ç§»é™¤æ—¶ï¼Œä¸‹ä¸€å—æ‰¾åˆ°åŒè¡Œæˆ–è€…åŒåˆ—çš„è¿›è¡Œç§»é™¤ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: stones &#x3D; [[0,0],[0,1],[1,0],[1,2],[2,1],[2,2]]</span><br><span class=\"line\">Output: 5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šUnion-Findï¼Œå¹¶æŸ¥é›†æ–¹æ³•ã€‚ä»ä¸€å—çŸ³å¤´å¼€å§‹ï¼Œæ¯æ¬¡æ‰¾åŒè¡Œæˆ–è€…åŒåˆ—çš„ä½œä¸ºä¸‹ä¸€æ¬¡çŸ³å¤´ã€‚è¿™äº›çŸ³å¤´è¿é€šå½¢æˆä¸€ä¸ªé›†åˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">removeStones</span><span class=\"params\">(self, stones: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        uf.setdefault(x, x)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    uf = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> stones:</span><br><span class=\"line\">        union(x, y+<span class=\"number\">10000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(stones) - len(&#123;find(x) <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> stones&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1654-Minimum-Jumps-to-Reach-Home\"><a href=\"#1654-Minimum-Jumps-to-Reach-Home\" class=\"headerlink\" title=\"1654. Minimum Jumps to Reach Home\"></a><a href=\"https://leetcode.com/problems/minimum-jumps-to-reach-home/\" target=\"_blank\" rel=\"noopener\">1654. Minimum Jumps to Reach Home</a></h3><h4 id=\"æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½åˆ°è¾¾xï¼Œä»åæ ‡0ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡å¯ä»¥å‘å³è·³aæ­¥ï¼Œæˆ–è€…å‘å·¦è·³bæ­¥ï¼Œä½†æ˜¯ä¸èƒ½è¿ç€ä¸¤æ¬¡å‘å·¦è·³ã€‚é™¤æ­¤ä¹‹å¤–æœ‰äº›ç‚¹ä¸å¯è¾¾ã€‚\"><a href=\"#æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½åˆ°è¾¾xï¼Œä»åæ ‡0ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡å¯ä»¥å‘å³è·³aæ­¥ï¼Œæˆ–è€…å‘å·¦è·³bæ­¥ï¼Œä½†æ˜¯ä¸èƒ½è¿ç€ä¸¤æ¬¡å‘å·¦è·³ã€‚é™¤æ­¤ä¹‹å¤–æœ‰äº›ç‚¹ä¸å¯è¾¾ã€‚\" class=\"headerlink\" title=\"æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½åˆ°è¾¾xï¼Œä»åæ ‡0ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡å¯ä»¥å‘å³è·³aæ­¥ï¼Œæˆ–è€…å‘å·¦è·³bæ­¥ï¼Œä½†æ˜¯ä¸èƒ½è¿ç€ä¸¤æ¬¡å‘å·¦è·³ã€‚é™¤æ­¤ä¹‹å¤–æœ‰äº›ç‚¹ä¸å¯è¾¾ã€‚\"></a>æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½åˆ°è¾¾xï¼Œä»åæ ‡0ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡å¯ä»¥å‘å³è·³<code>a</code>æ­¥ï¼Œæˆ–è€…å‘å·¦è·³<code>b</code>æ­¥ï¼Œä½†æ˜¯ä¸èƒ½è¿ç€ä¸¤æ¬¡å‘å·¦è·³ã€‚é™¤æ­¤ä¹‹å¤–æœ‰äº›ç‚¹ä¸å¯è¾¾ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: forbidden &#x3D; [14,4,18,1,15], a &#x3D; 3, b &#x3D; 15, x &#x3D; 9</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 jumps forward (0 -&gt; 3 -&gt; 6 -&gt; 9) will get the bug home.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBFSï¼Œè¿˜æ˜¯å¾ˆç›´è§‚å¯ä»¥æƒ³åˆ°çš„ï¼Œæ¯”èµ›æ—¶å¿½ç•¥äº†<code>forbidden</code>é”™äº†ä¸€æ¬¡ã€‚éœ€è¦æ³¨æ„çš„ç‚¹å¦‚æœå½“å‰ç‚¹å¤§äºæœ€å¤§èŒƒå›´åï¼Œå°±è·³ä¸å›æ¥äº†ï¼Œè¿™ä¸ªç»ˆæ­¢æ¡ä»¶ã€‚è¿™é‡Œç”¨ä¸€ä¸ª<code>bool</code>æ§åˆ¶äº†æ˜¯å¦å¯ä»¥å›è·³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumJumps</span><span class=\"params\">(self, forbidden: List[int], a: int, b: int, x: int)</span> -&gt; int:</span></span><br><span class=\"line\">    f = set(forbidden)</span><br><span class=\"line\">    bfs = [(<span class=\"number\">0</span>, <span class=\"literal\">True</span>, <span class=\"number\">0</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> cur, back, step <span class=\"keyword\">in</span> bfs:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur == x:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur+a &lt;= <span class=\"number\">4000</span> <span class=\"keyword\">and</span> cur+a <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> f:</span><br><span class=\"line\">            bfs.append((cur+a, <span class=\"literal\">True</span>, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">            f.add(cur+a)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> back <span class=\"keyword\">and</span> cur-b&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> cur-b <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> f:</span><br><span class=\"line\">            bfs.append((cur-b, <span class=\"literal\">False</span>, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">            f.add(cur-a)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Graph"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆçº¿æ®µæ ‘ç¯‡ï¼‰SegmentTree","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%AF%87%EF%BC%89SegmentTree/","content":"<h3 id=\"1649-Create-Sorted-Array-through-Instructions\"><a href=\"#1649-Create-Sorted-Array-through-Instructions\" class=\"headerlink\" title=\"1649. Create Sorted Array through Instructions\"></a><a href=\"https://leetcode.com/problems/create-sorted-array-through-instructions/\" target=\"_blank\" rel=\"noopener\">1649. Create Sorted Array through Instructions</a></h3><h4 id=\"æ ¹æ®æŒ‡ä»¤æ•°ç»„åˆ›å»ºä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚æ¯æ¬¡æ–°å¢æ•°æ—¶çš„èŠ±è´¹ä¸ºï¼Œmin-å°äºæ­¤æ•°çš„ä¸ªæ•°ï¼Œå¤§äºæ­¤æ•°çš„ä¸ªæ•°-ã€‚\"><a href=\"#æ ¹æ®æŒ‡ä»¤æ•°ç»„åˆ›å»ºä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚æ¯æ¬¡æ–°å¢æ•°æ—¶çš„èŠ±è´¹ä¸ºï¼Œmin-å°äºæ­¤æ•°çš„ä¸ªæ•°ï¼Œå¤§äºæ­¤æ•°çš„ä¸ªæ•°-ã€‚\" class=\"headerlink\" title=\"æ ¹æ®æŒ‡ä»¤æ•°ç»„åˆ›å»ºä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚æ¯æ¬¡æ–°å¢æ•°æ—¶çš„èŠ±è´¹ä¸ºï¼Œmin(å°äºæ­¤æ•°çš„ä¸ªæ•°ï¼Œå¤§äºæ­¤æ•°çš„ä¸ªæ•°)ã€‚\"></a>æ ¹æ®æŒ‡ä»¤æ•°ç»„åˆ›å»ºä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚æ¯æ¬¡æ–°å¢æ•°æ—¶çš„èŠ±è´¹ä¸ºï¼Œmin(å°äºæ­¤æ•°çš„ä¸ªæ•°ï¼Œå¤§äºæ­¤æ•°çš„ä¸ªæ•°)ã€‚</h4><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: instructions &#x3D; [1,5,6,2]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: Begin with nums &#x3D; [].</span><br><span class=\"line\">Insert 1 with cost min(0, 0) &#x3D; 0, now nums &#x3D; [1].</span><br><span class=\"line\">Insert 5 with cost min(1, 0) &#x3D; 0, now nums &#x3D; [1,5].</span><br><span class=\"line\">Insert 6 with cost min(2, 0) &#x3D; 0, now nums &#x3D; [1,5,6].</span><br><span class=\"line\">Insert 2 with cost min(1, 2) &#x3D; 1, now nums &#x3D; [1,2,5,6].</span><br><span class=\"line\">The total cost is 0 + 0 + 0 + 1 &#x3D; 1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå‡­å€Ÿæ­¤é¢˜è¾¾æˆäº†AKï¼Œå¡ç€è¶…æ—¶çº¿è¿‡çš„ï¼Œç”¨äº†8så¤šã€‚ä»¥ä¸ºè¿‡ä¸äº†å‘¢ï¼Œå› ä¸ºåˆ†æå‡ºæ¥æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">createSortedArray</span><span class=\"params\">(self, instructions: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, mod =<span class=\"number\">0</span>, <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    nums = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> instructions:</span><br><span class=\"line\">        left = bisect.bisect_left(nums, d)</span><br><span class=\"line\">        right = bisect.bisect(nums, d)</span><br><span class=\"line\">        ans += min(left, len(nums)-right)</span><br><span class=\"line\">        bisect.insort(nums, d)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans % mod</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½¿ç”¨<code>SortedList</code>ï¼Œè¿™ä¸ªæ·»åŠ ä¸€ä¸ªå€¼çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logn)</code>è€Œä¸åƒ<code>bisect.insort</code>æ˜¯<code>O(n)</code>ã€‚5så¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">createSortedArray</span><span class=\"params\">(self, instructions: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> sortedcontainers <span class=\"keyword\">import</span> SortedList</span><br><span class=\"line\">    ans, mod =<span class=\"number\">0</span>, <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    nums = SortedList()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> instructions:</span><br><span class=\"line\">        cost = min(nums.bisect_left(d), len(nums)-nums.bisect_right(d))</span><br><span class=\"line\">        ans = (ans+cost) % mod</span><br><span class=\"line\">        nums.add(d)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n","categories":["Segment Tree"],"tags":["LeetCode","SegmentTree"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå †ç¯‡ï¼‰Heap","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%A0%86%E7%AF%87%EF%BC%89Heap/","content":"<h3 id=\"1606-Find-Servers-That-Handled-Most-Number-of-Requests\"><a href=\"#1606-Find-Servers-That-Handled-Most-Number-of-Requests\" class=\"headerlink\" title=\"1606. Find Servers That Handled Most Number of Requests\"></a><a href=\"https://leetcode.com/problems/find-servers-that-handled-most-number-of-requests/\" target=\"_blank\" rel=\"noopener\">1606. Find Servers That Handled Most Number of Requests</a></h3><h4 id=\"æœ‰kä¸ªæœåŠ¡å™¨å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œç¬¬iä¸ªè¯·æ±‚éœ€è¦ç¬¬i-kæœåŠ¡å™¨æ¥å¤„ç†ï¼Œå¦‚æœæœåŠ¡å™¨ç¹å¿™ï¼Œåˆ™æŒ‰åºå·å‘ä¸‹æ‰¾ï¼›æ‰¾åˆ°æœ«å°¾åå†ä»å¤´å¼€å§‹ï¼Œå¦‚æœæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¿™ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚è¢«ä¸¢å¼ƒã€‚ç»™å®šä¸€äº›è¯·æ±‚çš„åˆ°è¾¾æ—¶é—´å’Œéœ€è¦å¤„ç†çš„æ—¶é—´ï¼Œé—®å¤„ç†æœ€å¤šä¸ªè¯·æ±‚çš„æœåŠ¡å™¨æœ‰å“ªäº›ã€‚\"><a href=\"#æœ‰kä¸ªæœåŠ¡å™¨å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œç¬¬iä¸ªè¯·æ±‚éœ€è¦ç¬¬i-kæœåŠ¡å™¨æ¥å¤„ç†ï¼Œå¦‚æœæœåŠ¡å™¨ç¹å¿™ï¼Œåˆ™æŒ‰åºå·å‘ä¸‹æ‰¾ï¼›æ‰¾åˆ°æœ«å°¾åå†ä»å¤´å¼€å§‹ï¼Œå¦‚æœæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¿™ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚è¢«ä¸¢å¼ƒã€‚ç»™å®šä¸€äº›è¯·æ±‚çš„åˆ°è¾¾æ—¶é—´å’Œéœ€è¦å¤„ç†çš„æ—¶é—´ï¼Œé—®å¤„ç†æœ€å¤šä¸ªè¯·æ±‚çš„æœåŠ¡å™¨æœ‰å“ªäº›ã€‚\" class=\"headerlink\" title=\"æœ‰kä¸ªæœåŠ¡å™¨å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œç¬¬iä¸ªè¯·æ±‚éœ€è¦ç¬¬i%kæœåŠ¡å™¨æ¥å¤„ç†ï¼Œå¦‚æœæœåŠ¡å™¨ç¹å¿™ï¼Œåˆ™æŒ‰åºå·å‘ä¸‹æ‰¾ï¼›æ‰¾åˆ°æœ«å°¾åå†ä»å¤´å¼€å§‹ï¼Œå¦‚æœæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¿™ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚è¢«ä¸¢å¼ƒã€‚ç»™å®šä¸€äº›è¯·æ±‚çš„åˆ°è¾¾æ—¶é—´å’Œéœ€è¦å¤„ç†çš„æ—¶é—´ï¼Œé—®å¤„ç†æœ€å¤šä¸ªè¯·æ±‚çš„æœåŠ¡å™¨æœ‰å“ªäº›ã€‚\"></a>æœ‰kä¸ªæœåŠ¡å™¨å¤„ç†ä¸€äº›è¯·æ±‚ï¼Œç¬¬iä¸ªè¯·æ±‚éœ€è¦ç¬¬i%kæœåŠ¡å™¨æ¥å¤„ç†ï¼Œå¦‚æœæœåŠ¡å™¨ç¹å¿™ï¼Œåˆ™æŒ‰åºå·å‘ä¸‹æ‰¾ï¼›æ‰¾åˆ°æœ«å°¾åå†ä»å¤´å¼€å§‹ï¼Œå¦‚æœæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¿™ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚è¢«ä¸¢å¼ƒã€‚ç»™å®šä¸€äº›è¯·æ±‚çš„åˆ°è¾¾æ—¶é—´å’Œéœ€è¦å¤„ç†çš„æ—¶é—´ï¼Œé—®å¤„ç†æœ€å¤šä¸ªè¯·æ±‚çš„æœåŠ¡å™¨æœ‰å“ªäº›ã€‚</h4><a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æ²¡æœ‰åšå‡ºï¼Œåæ¥æƒ³æƒ³å‘ç°æŒºç®€å•çš„ï¼Œç”¨ä¸€ä¸ªå †æ¥ç»´æŠ¤ç¹å¿™çš„æœåŠ¡å™¨ï¼Œç”¨ä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨ç»´æŠ¤å¯ç”¨çš„æœåŠ¡å™¨ï¼Œç¯çš„é—®é¢˜æ¯”è¾ƒéš¾æƒ³ï¼Œä½†æ˜¯å…¶å®å¤„ç†èµ·æ¥å¾ˆç®€å•ï¼Œå°±æ˜¯å½“æ‰¾åˆ°æœ«å°¾ä¸å¤Ÿç”¨æ—¶ï¼Œä½¿ç”¨é˜Ÿé¦–çš„æœåŠ¡å™¨å°±å¯ä»¥äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">busiestServers</span><span class=\"params\">(self, k: int, arrival: List[int], load: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    cnt = [<span class=\"number\">0</span>] * k</span><br><span class=\"line\">    available_servers = list(range(k))</span><br><span class=\"line\">    busy_servers = []  <span class=\"comment\"># (endtime, server_id)</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, (at, rt) <span class=\"keyword\">in</span> enumerate(zip(arrival, load)):</span><br><span class=\"line\">        <span class=\"comment\"># release busy servers</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> busy_servers <span class=\"keyword\">and</span> busy_servers[<span class=\"number\">0</span>][<span class=\"number\">0</span>] &lt;= at:</span><br><span class=\"line\">            _, server = heapq.heappop(busy_servers)</span><br><span class=\"line\">            bisect.insort(available_servers, server)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(available_servers) == <span class=\"number\">0</span>: </span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        cur_server = i % k</span><br><span class=\"line\">        index = bisect.bisect_left(available_servers, cur_server) % (len(available_servers))</span><br><span class=\"line\">        server = available_servers.pop(index)</span><br><span class=\"line\">        cnt[server] += <span class=\"number\">1</span></span><br><span class=\"line\">        heapq.heappush(busy_servers, (at+rt, server))</span><br><span class=\"line\">        </span><br><span class=\"line\">    max_cnt = max(cnt)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [i <span class=\"keyword\">for</span> i, s <span class=\"keyword\">in</span> enumerate(cnt) <span class=\"keyword\">if</span> s==max_cnt]</span><br></pre></td></tr></table></figure>\n<h3 id=\"215-Kth-Largest-Element-in-an-Array\"><a href=\"#215-Kth-Largest-Element-in-an-Array\" class=\"headerlink\" title=\"215. Kth Largest Element in an Array\"></a>215. Kth Largest Element in an Array</h3><h4 id=\"æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ç¬¬Kä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ç¬¬Kä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ç¬¬Kä¸ªæ•°ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ç¬¬Kä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/kth-largest-element-in-an-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p><del>å¿«æ’çš„æ€æƒ³ï¼Œæ²¡æœ‰é€šè¿‡LeetCodeæµ‹è¯•ç”¨ä¾‹ï¼Œå› ä¸ºå†…å­˜è¶…å‡ºäº†é™åˆ¶ã€‚</del></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthLargest</span><span class=\"params\">(self, nums, k)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    pivot = nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    left, medium, right = [], [], []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num &lt; pivot:</span><br><span class=\"line\">            left.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> num == pivot:</span><br><span class=\"line\">            medium.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            right.append(num)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &lt;= len(right):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.findKthLargest(right, k)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> k-len(right) &lt;= len(medium):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pivot</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.findKthLargest(left, k-len(right)-len(medium))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">è€ƒè™‘åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ã€‚Time-O(n)</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthLargest</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    random.shuffle(nums)</span><br><span class=\"line\">    l, r = <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(l, r)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, v <span class=\"keyword\">in</span> enumerate(nums[l:r+<span class=\"number\">1</span>], l):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i] &gt;= nums[r]:</span><br><span class=\"line\">                nums[i], nums[l] = nums[l], nums[i]</span><br><span class=\"line\">                l += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> l<span class=\"number\">-1</span>  <span class=\"comment\"># return the index of pivot</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        pos = partition(l, r)   <span class=\"comment\"># posæ˜¯ç´¢å¼•ï¼Œæ‰€ä»¥è¦ä¸k-1æ¯”è¾ƒ</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> pos &lt; k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            l = pos + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> pos &gt; k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            r = pos - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> nums[pos]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">ä½¿ç”¨å †ã€‚Time-O(nlogk)</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findKthLargest</span><span class=\"params\">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\">    heap = nums[:k]</span><br><span class=\"line\">    hq.heapify(heap)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums[k:]:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num &gt; heap[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            hq.heapreplace(heap, num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> heap[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"703-Kth-Largest-Element-in-a-Stream\"><a href=\"#703-Kth-Largest-Element-in-a-Stream\" class=\"headerlink\" title=\"703. Kth Largest Element in a Stream\"></a>703. Kth Largest Element in a Stream</h3><h4 id=\"æµä¸­ç¬¬Kä¸ªå¤§çš„æ•°ã€‚åŸé¢˜\"><a href=\"#æµä¸­ç¬¬Kä¸ªå¤§çš„æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æµä¸­ç¬¬Kä¸ªå¤§çš„æ•°ã€‚åŸé¢˜\"></a>æµä¸­ç¬¬Kä¸ªå¤§çš„æ•°ã€‚<a href=\"https://leetcode.com/problems/kth-largest-element-in-a-stream/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">int k &#x3D; 3;</span><br><span class=\"line\">int[] arr &#x3D; [4,5,8,2];</span><br><span class=\"line\">KthLargest kthLargest &#x3D; new KthLargest(3, arr);</span><br><span class=\"line\">kthLargest.add(3);   &#x2F;&#x2F; returns 4</span><br><span class=\"line\">kthLargest.add(5);   &#x2F;&#x2F; returns 5</span><br><span class=\"line\">kthLargest.add(10);  &#x2F;&#x2F; returns 5</span><br><span class=\"line\">kthLargest.add(9);   &#x2F;&#x2F; returns 8</span><br><span class=\"line\">kthLargest.add(4);   &#x2F;&#x2F; returns 8</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿˜æ˜¯ä½¿ç”¨å †ï¼Œä¸€å¼€å§‹æ²¡æƒ³åˆ°åˆ‡åˆ†ï¼Œæ‰€ä»¥è¶…æ—¶äº†ã€‚æ³¨æ„æ˜¯<code>heapreplace</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KthLargest</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, k, nums)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">import</span> heapq</span><br><span class=\"line\">        self.heap = list(nums)</span><br><span class=\"line\">        self.k = k</span><br><span class=\"line\">        heapq.heapify(self.heap)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(self.heap) &gt; k:</span><br><span class=\"line\">            heapq.heappop(self.heap)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">add</span><span class=\"params\">(self, val)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(self.heap) &lt; self.k:</span><br><span class=\"line\">            heapq.heappush(self.heap, val)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> val &gt; self.heap[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            heapq.heapreplace(self.heap, val)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.heap[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1438-Longest-Continuous-Subarray-With-Absolute-Diff-Less-Than-or-Equal-to-Limit\"><a href=\"#1438-Longest-Continuous-Subarray-With-Absolute-Diff-Less-Than-or-Equal-to-Limit\" class=\"headerlink\" title=\"1438. Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit\"></a>1438. Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit</h3><h4 id=\"æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œç»å¯¹å€¼ä¸å¤§äºlimitã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œç»å¯¹å€¼ä¸å¤§äºlimitã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œç»å¯¹å€¼ä¸å¤§äºlimitã€‚åŸé¢˜\"></a>æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œç»å¯¹å€¼ä¸å¤§äºlimitã€‚<a href=\"https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [8,2,4,7], limit &#x3D; 4</span><br><span class=\"line\">Output: 2 </span><br><span class=\"line\">Explanation: All subarrays are: </span><br><span class=\"line\">[8] with maximum absolute diff |8-8| &#x3D; 0 &lt;&#x3D; 4.</span><br><span class=\"line\">[8,2] with maximum absolute diff |8-2| &#x3D; 6 &gt; 4. </span><br><span class=\"line\">[8,2,4] with maximum absolute diff |8-2| &#x3D; 6 &gt; 4.</span><br><span class=\"line\">[8,2,4,7] with maximum absolute diff |8-2| &#x3D; 6 &gt; 4.</span><br><span class=\"line\">[2] with maximum absolute diff |2-2| &#x3D; 0 &lt;&#x3D; 4.</span><br><span class=\"line\">[2,4] with maximum absolute diff |2-4| &#x3D; 2 &lt;&#x3D; 4.</span><br><span class=\"line\">[2,4,7] with maximum absolute diff |2-7| &#x3D; 5 &gt; 4.</span><br><span class=\"line\">[4] with maximum absolute diff |4-4| &#x3D; 0 &lt;&#x3D; 4.</span><br><span class=\"line\">[4,7] with maximum absolute diff |4-7| &#x3D; 3 &lt;&#x3D; 4.</span><br><span class=\"line\">[7] with maximum absolute diff |7-7| &#x3D; 0 &lt;&#x3D; 4. </span><br><span class=\"line\">Therefore, the size of the longest subarray is 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå †ï¼ŒTime: O(NlogN)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestSubarray</span><span class=\"params\">(self, nums: List[int], limit: int)</span> -&gt; int:</span></span><br><span class=\"line\">    maxd, mind = [], []</span><br><span class=\"line\">    res = i = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j, a <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        heapq.heappush(maxd, (-a, j))</span><br><span class=\"line\">        heapq.heappush(mind, (a, j))</span><br><span class=\"line\">        <span class=\"keyword\">while</span> -maxd[<span class=\"number\">0</span>][<span class=\"number\">0</span>] - mind[<span class=\"number\">0</span>][<span class=\"number\">0</span>] &gt; limit:</span><br><span class=\"line\">            i = min(maxd[<span class=\"number\">0</span>][<span class=\"number\">1</span>], mind[<span class=\"number\">0</span>][<span class=\"number\">1</span>]) + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> maxd[<span class=\"number\">0</span>][<span class=\"number\">1</span>] &lt; i: heapq.heappop(maxd)</span><br><span class=\"line\">            <span class=\"keyword\">while</span> mind[<span class=\"number\">0</span>][<span class=\"number\">1</span>] &lt; i: heapq.heappop(mind)</span><br><span class=\"line\">        print(maxd, <span class=\"string\">'--'</span>, mind)</span><br><span class=\"line\">        res = max(res, j - i + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"1631-Path-With-Minimum-Effort\"><a href=\"#1631-Path-With-Minimum-Effort\" class=\"headerlink\" title=\"1631. Path With Minimum Effort\"></a><a href=\"https://leetcode.com/problems/path-with-minimum-effort/\" target=\"_blank\" rel=\"noopener\">1631. Path With Minimum Effort</a></h3><h4 id=\"æ‰¾å‡ºä¸€æ¡å·¦ä¸Šåˆ°å³ä¸‹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­ä½“åŠ›æ¶ˆè€—ä¸ºæœ€å¤§çš„ä¸¤ä¸ªæ ¼å­çš„å·®ï¼Œæ‰¾åˆ°èƒ½èµ°åˆ°å³ä¸‹çš„æœ€å°æ¶ˆè€—å€¼ï¼Œå¯ä»¥èµ°ä¸Šä¸‹å·¦å³ã€‚\"><a href=\"#æ‰¾å‡ºä¸€æ¡å·¦ä¸Šåˆ°å³ä¸‹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­ä½“åŠ›æ¶ˆè€—ä¸ºæœ€å¤§çš„ä¸¤ä¸ªæ ¼å­çš„å·®ï¼Œæ‰¾åˆ°èƒ½èµ°åˆ°å³ä¸‹çš„æœ€å°æ¶ˆè€—å€¼ï¼Œå¯ä»¥èµ°ä¸Šä¸‹å·¦å³ã€‚\" class=\"headerlink\" title=\"æ‰¾å‡ºä¸€æ¡å·¦ä¸Šåˆ°å³ä¸‹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­ä½“åŠ›æ¶ˆè€—ä¸ºæœ€å¤§çš„ä¸¤ä¸ªæ ¼å­çš„å·®ï¼Œæ‰¾åˆ°èƒ½èµ°åˆ°å³ä¸‹çš„æœ€å°æ¶ˆè€—å€¼ï¼Œå¯ä»¥èµ°ä¸Šä¸‹å·¦å³ã€‚\"></a>æ‰¾å‡ºä¸€æ¡å·¦ä¸Šåˆ°å³ä¸‹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­ä½“åŠ›æ¶ˆè€—ä¸ºæœ€å¤§çš„ä¸¤ä¸ªæ ¼å­çš„å·®ï¼Œæ‰¾åˆ°èƒ½èµ°åˆ°å³ä¸‹çš„æœ€å°æ¶ˆè€—å€¼ï¼Œå¯ä»¥èµ°ä¸Šä¸‹å·¦å³ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: heights &#x3D; [[1,2,2],[3,8,2],[5,3,5]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The route of [1,3,5,3,5] has a maximum absolute difference of 2 in consecutive cells.</span><br><span class=\"line\">This is better than the route of [1,2,2,2,5], where the maximum absolute difference is 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½œä¸ºç«èµ›3é¢˜ï¼Œ1ä¸ªå°æ—¶éƒ½æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œæƒ³æ³•æƒ³åäº†ï¼Œå› ä¸ºå¦‚æœåªèƒ½èµ°å³å’Œä¸‹ï¼Œé‚£ä¹ˆé—®é¢˜å¾ˆç®€å•ï¼Œæ˜¯ä¸€ä¸ªdpé—®é¢˜ã€‚æ‰€ä»¥ä¸€å¼€å§‹ä¹Ÿå¾€dpæ–¹å‘è€ƒè™‘ã€‚å®é™…ä¸Šé€šè¿‡æ•°æ®èŒƒå›´çš„ä¸Šé™å¯ä»¥è€ƒè™‘äºŒåˆ†æ³• + bfsã€‚æ•ˆç‡ä¸é«˜ï¼Œ4000msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumEffortPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, <span class=\"number\">10</span>**<span class=\"number\">6</span></span><br><span class=\"line\">    M, N = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">check</span><span class=\"params\">(d)</span>:</span></span><br><span class=\"line\">        q = [(<span class=\"number\">0</span>, <span class=\"number\">0</span>)]</span><br><span class=\"line\">        seen = [[<span class=\"literal\">False</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">        seen[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i==M<span class=\"number\">-1</span> <span class=\"keyword\">and</span> j==N<span class=\"number\">-1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;N <span class=\"keyword\">and</span> abs(g[x][y]-g[i][j])&lt;=d <span class=\"keyword\">and</span> \\</span><br><span class=\"line\">                    <span class=\"keyword\">not</span> seen[x][y]:</span><br><span class=\"line\">                    q.append((x, y))</span><br><span class=\"line\">                    seen[x][y] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">        mid = (lo + hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> check(mid):</span><br><span class=\"line\">            hi = mid</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lo</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå †ï¼Œå †çš„æ–¹æ³•æ¯”æ–¹æ³•ä¸€å¿«å¾ˆå¤šï¼Œå“Ÿè¿˜é‚£ä¸ªæ˜¯700msã€‚æ ¸å¿ƒæ˜¯ç»´æŠ¤ä¸€ä¸ª<code>dist</code>ç”¨æ¥è®°å½•æ¯ä¸ªç‚¹çš„æœ€å°è·ç¦»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumEffortPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    heap = [(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>)]        </span><br><span class=\"line\">    M, N = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    dist = [[float(<span class=\"string\">'inf'</span>)]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> heap:</span><br><span class=\"line\">        d, i, j = heapq.heappop(heap)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i==M<span class=\"number\">-1</span> <span class=\"keyword\">and</span> j==N<span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d</span><br><span class=\"line\">        cur = g[i][j]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i, j<span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;N:</span><br><span class=\"line\">                new_dist = max(d, abs(g[x][y]-cur))</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dist[x][y] &gt; new_dist:</span><br><span class=\"line\">                    dist[x][y] = new_dist</span><br><span class=\"line\">                    heapq.heappush(heap, (max(d, abs(g[x][y]-cur)), x, y))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1642-Furthest-Building-You-Can-Reach\"><a href=\"#1642-Furthest-Building-You-Can-Reach\" class=\"headerlink\" title=\"1642. Furthest Building You Can Reach\"></a><a href=\"https://leetcode.com/problems/furthest-building-you-can-reach/\" target=\"_blank\" rel=\"noopener\">1642. Furthest Building You Can Reach</a></h3><h4 id=\"ä¸€ä¸ªäººåœ¨çˆ¬ä¸€ç¾¤å»ºç­‘ç‰©ï¼Œå½“å»ºç­‘ç‰©æ¯”å½“å‰é«˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ¢¯å­å’Œé«˜åº¦å·®ä¸ªç –å—ï¼Œç»™ä½ ä¸€äº›æ¢¯å­å’Œç –å—ï¼Œé—®æœ€è¿œèƒ½èµ°åˆ°å“ªé‡Œã€‚\"><a href=\"#ä¸€ä¸ªäººåœ¨çˆ¬ä¸€ç¾¤å»ºç­‘ç‰©ï¼Œå½“å»ºç­‘ç‰©æ¯”å½“å‰é«˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ¢¯å­å’Œé«˜åº¦å·®ä¸ªç –å—ï¼Œç»™ä½ ä¸€äº›æ¢¯å­å’Œç –å—ï¼Œé—®æœ€è¿œèƒ½èµ°åˆ°å“ªé‡Œã€‚\" class=\"headerlink\" title=\"ä¸€ä¸ªäººåœ¨çˆ¬ä¸€ç¾¤å»ºç­‘ç‰©ï¼Œå½“å»ºç­‘ç‰©æ¯”å½“å‰é«˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ¢¯å­å’Œé«˜åº¦å·®ä¸ªç –å—ï¼Œç»™ä½ ä¸€äº›æ¢¯å­å’Œç –å—ï¼Œé—®æœ€è¿œèƒ½èµ°åˆ°å“ªé‡Œã€‚\"></a>ä¸€ä¸ªäººåœ¨çˆ¬ä¸€ç¾¤å»ºç­‘ç‰©ï¼Œå½“å»ºç­‘ç‰©æ¯”å½“å‰é«˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªæ¢¯å­å’Œé«˜åº¦å·®ä¸ªç –å—ï¼Œç»™ä½ ä¸€äº›æ¢¯å­å’Œç –å—ï¼Œé—®æœ€è¿œèƒ½èµ°åˆ°å“ªé‡Œã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: heights &#x3D; [4,2,7,6,9,14,12], bricks &#x3D; 5, ladders &#x3D; 1</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: Starting at building 0, you can follow these steps:</span><br><span class=\"line\">- Go to building 1 without using ladders nor bricks since 4 &gt;&#x3D; 2.</span><br><span class=\"line\">- Go to building 2 using 5 bricks. You must use either bricks or ladders because 2 &lt; 7.</span><br><span class=\"line\">- Go to building 3 without using ladders nor bricks since 7 &gt;&#x3D; 6.</span><br><span class=\"line\">- Go to building 4 using your only ladder. You must use either bricks or ladders because 6 &lt; 9.</span><br><span class=\"line\">It is impossible to go beyond building 4 because you do not have any more bricks or ladders.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æƒ³åäº†ï¼Œè¶…æ—¶äº†ã€‚è¿™é‡Œæœ‰ç‚¹è´ªå¿ƒçš„æ€ç»´ï¼Œéœ€è¦çˆ¬å‡çš„æ¬¡æ•°ä¼˜å…ˆä½¿ç”¨æ¢¯å­ï¼Œå¦‚æœä¸å¤Ÿäº†ï¼Œä½¿ç”¨é«˜åº¦å·®æœ€å°çš„ç”¨ç –å—æ›¿ä»£ï¼Œå¦‚æœä¸å¤Ÿäº†ï¼Œè¯æ˜èµ°å¾—æ˜¯æœ€è¿œäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">furthestBuilding</span><span class=\"params\">(self, heights: List[int], bricks: int, ladders: int)</span> -&gt; int:</span></span><br><span class=\"line\">    upstairs = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(heights)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> heights[i+<span class=\"number\">1</span>] &gt; heights[i]:</span><br><span class=\"line\">            heapq.heappush(upstairs, heights[i+<span class=\"number\">1</span>]-heights[i])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(upstairs) &gt; ladders:</span><br><span class=\"line\">            bricks -= heapq.heappop(upstairs)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> bricks &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(heights) - <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>","categories":["Heap"],"tags":["LeetCode","heap"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå¹¶å‘ç¯‡ï¼‰Threading","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%B9%B6%E5%8F%91%E7%AF%87%EF%BC%89Threading/","content":"<h3 id=\"1114-Print-in-Order\"><a href=\"#1114-Print-in-Order\" class=\"headerlink\" title=\"1114. Print in Order\"></a><a href=\"https://leetcode.com/problems/print-in-order/\" target=\"_blank\" rel=\"noopener\">1114. Print in Order</a></h3><h4 id=\"æŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ‰“å°ï¼Œä¸‰ä¸ªçº¿ç¨‹çš„æ–¹æ³•ã€‚\"><a href=\"#æŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ‰“å°ï¼Œä¸‰ä¸ªçº¿ç¨‹çš„æ–¹æ³•ã€‚\" class=\"headerlink\" title=\"æŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ‰“å°ï¼Œä¸‰ä¸ªçº¿ç¨‹çš„æ–¹æ³•ã€‚\"></a>æŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ‰“å°ï¼Œä¸‰ä¸ªçº¿ç¨‹çš„æ–¹æ³•ã€‚</h4><a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šLock é”å¯¹è±¡æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> threading <span class=\"keyword\">import</span> Lock</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.locks = (Lock(),Lock())</span><br><span class=\"line\">        self.locks[<span class=\"number\">0</span>].acquire()</span><br><span class=\"line\">        self.locks[<span class=\"number\">1</span>].acquire()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst)</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.locks[<span class=\"number\">0</span>].release()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.locks[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            printSecond()</span><br><span class=\"line\">            self.locks[<span class=\"number\">1</span>].release()</span><br><span class=\"line\">            </span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.locks[<span class=\"number\">1</span>]:</span><br><span class=\"line\">            printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¿¡å·é‡ã€‚<code>Semaphore</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> threading <span class=\"keyword\">import</span> Semaphore</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.gates = (Semaphore(<span class=\"number\">0</span>),Semaphore(<span class=\"number\">0</span>))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst)</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.gates[<span class=\"number\">0</span>].release()</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.gates[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            printSecond()</span><br><span class=\"line\">            self.gates[<span class=\"number\">1</span>].release()</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.gates[<span class=\"number\">1</span>]:</span><br><span class=\"line\">            printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šEventäº‹ä»¶å¯¹è±¡æ³•ã€‚åŸç†åŒä¸Šï¼Œç”¨<code>wait</code>æ–¹æ³•ä½œä¸ºé˜»å¡ï¼Œç”¨<code>set</code>æ¥é‡Šæ”¾çº¿ç¨‹ï¼Œé»˜è®¤ç±»èµ‹å€¼å°±æ˜¯é˜»å¡çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> threading</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.e1 = threading.Event()</span><br><span class=\"line\">        self.e2 = threading.Event()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.e1.set()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.e1.wait()</span><br><span class=\"line\">        printSecond()</span><br><span class=\"line\">        self.e2.set()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.e2.wait()</span><br><span class=\"line\">        printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼š<code>Barrier</code>éšœç¢æ³•ã€‚<code>Barrier</code>åˆå§‹åŒ–çš„æ—¶å€™å®šä¹‰äº†<code>parties = 2</code>ä¸ªç­‰å¾…çº¿ç¨‹ï¼Œè°ƒç”¨å®Œäº†<code>parties</code>ä¸ª<code>wait</code>å°±ä¼šé‡Šæ”¾çº¿ç¨‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> threading</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.b1 = threading.Barrier(<span class=\"number\">2</span>)</span><br><span class=\"line\">        self.b2 = threading.Barrier(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.b1.wait()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.b1.wait()</span><br><span class=\"line\">        printSecond()</span><br><span class=\"line\">        self.b2.wait()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.b2.wait()</span><br><span class=\"line\">        printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äº”ï¼šé˜Ÿåˆ—æ³•ã€‚ç›´æ¥ä½¿ç”¨å¤šçº¿ç¨‹ä¸“ç”¨çš„é˜»å¡é˜Ÿåˆ—ï¼Œå¯¹äºé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œ<code>get</code>æ–¹æ³•å°±ä¼šè‡ªåŠ¨é˜»å¡ï¼Œç›´åˆ°<code>put</code>ä½¿ä¹‹éç©ºæ‰ä¼šé‡Šæ”¾è¿›ç¨‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> queue</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q1 = queue.Queue()</span><br><span class=\"line\">        self.q2 = queue.Queue()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.q1.put(<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q1.get()</span><br><span class=\"line\">        printSecond()</span><br><span class=\"line\">        self.q2.put(<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.get()</span><br><span class=\"line\">        printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å…­ï¼šåè¿‡æ¥ï¼Œå¯¹äºå®šå®¹é˜Ÿåˆ—æ¥è¯´ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œ<code>put</code>æ–¹æ³•ä¹Ÿæ˜¯é˜»å¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> queue</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.q1 = queue.Queue(<span class=\"number\">1</span>)</span><br><span class=\"line\">        self.q1.put(<span class=\"number\">0</span>)</span><br><span class=\"line\">        self.q2 = queue.Queue(<span class=\"number\">1</span>)</span><br><span class=\"line\">        self.q2.put(<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        printFirst()</span><br><span class=\"line\">        self.q1.get()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q1.put(<span class=\"number\">0</span>)</span><br><span class=\"line\">        printSecond()</span><br><span class=\"line\">        self.q2.get()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird: <span class=\"string\">'Callable[[], None]'</span>)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        self.q2.put(<span class=\"number\">0</span>)</span><br><span class=\"line\">        printThird()</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸ƒï¼š<code>Condition</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> threading <span class=\"keyword\">import</span> Condition</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Foo</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        self.exec_condition = Condition()</span><br><span class=\"line\">        self.order = <span class=\"number\">0</span></span><br><span class=\"line\">        self.first_finish = <span class=\"keyword\">lambda</span>: self.order == <span class=\"number\">1</span></span><br><span class=\"line\">        self.second_finish = <span class=\"keyword\">lambda</span>: self.order == <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">first</span><span class=\"params\">(self, printFirst)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.exec_condition:</span><br><span class=\"line\">            printFirst()</span><br><span class=\"line\">            self.order = <span class=\"number\">1</span></span><br><span class=\"line\">            self.exec_condition.notify(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">second</span><span class=\"params\">(self, printSecond)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.exec_condition:</span><br><span class=\"line\">            self.exec_condition.wait_for(self.first_finish)</span><br><span class=\"line\">            printSecond()</span><br><span class=\"line\">            self.order = <span class=\"number\">2</span></span><br><span class=\"line\">            self.exec_condition.notify()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">third</span><span class=\"params\">(self, printThird)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">with</span> self.exec_condition:</span><br><span class=\"line\">            self.exec_condition.wait_for(self.second_finish)</span><br><span class=\"line\">            printThird()</span><br></pre></td></tr></table></figure>","categories":["Concurrency"],"tags":["LeetCode","concurrency"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå›æº¯ç¯‡ï¼‰BackTracking","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%9E%E6%BA%AF%E7%AF%87%EF%BC%89BackTracking/","content":"<h3 id=\"93-Restore-IP-Addresses\"><a href=\"#93-Restore-IP-Addresses\" class=\"headerlink\" title=\"93. Restore IP Addresses\"></a>93. Restore IP Addresses</h3><h4 id=\"æ¢å¤IPåœ°å€ã€‚åŸé¢˜\"><a href=\"#æ¢å¤IPåœ°å€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¢å¤IPåœ°å€ã€‚åŸé¢˜\"></a>æ¢å¤IPåœ°å€ã€‚<a href=\"https://leetcode.com/problems/restore-ip-addresses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;25525511135&quot;</span><br><span class=\"line\">Output: [&quot;255.255.11.135&quot;, &quot;255.255.111.35&quot;]</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šéœ€è¦æ³¨æ„0çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">restoreIpAddresses</span><span class=\"params\">(self, s: str)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == N <span class=\"keyword\">and</span> len(p)==<span class=\"number\">4</span>:</span><br><span class=\"line\">            ans.append(<span class=\"string\">'.'</span>.join(p))</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(p) &gt; <span class=\"number\">4</span>: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">4</span>):</span><br><span class=\"line\">            cur = s[i:i+j]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur <span class=\"keyword\">and</span> (<span class=\"keyword\">not</span> cur.startswith(<span class=\"string\">'0'</span>) <span class=\"keyword\">or</span> cur==<span class=\"string\">'0'</span>) <span class=\"keyword\">and</span> int(cur) &lt; <span class=\"number\">256</span>:</span><br><span class=\"line\">                p.append(s[i:i+j])</span><br><span class=\"line\">                backtrack(i+j, p)</span><br><span class=\"line\">                p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    ans, N = [], len(s)</span><br><span class=\"line\">    backtrack(<span class=\"number\">0</span>, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"131-Palindrome-Partitioning\"><a href=\"#131-Palindrome-Partitioning\" class=\"headerlink\" title=\"131. Palindrome Partitioning\"></a>131. Palindrome Partitioning</h3><h4 id=\"å›æ–‡ä¸²åˆ‡åˆ†ã€‚åŸé¢˜\"><a href=\"#å›æ–‡ä¸²åˆ‡åˆ†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å›æ–‡ä¸²åˆ‡åˆ†ã€‚åŸé¢˜\"></a>å›æ–‡ä¸²åˆ‡åˆ†ã€‚<a href=\"https://leetcode.com/problems/palindrome-partitioning/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;aab&quot;</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [&quot;aa&quot;,&quot;b&quot;],</span><br><span class=\"line\">  [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåŸå§‹å›æº¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(self, s: str)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(s, remain)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> remain:</span><br><span class=\"line\">            ans.append(s)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(remain)+<span class=\"number\">1</span>):      <span class=\"comment\"># è¿™é‡Œæ˜¯n+1ï¼Œå› ä¸ºæ•´ä¸ªå­—ç¬¦ä¸²ä¹Ÿæœ‰å¯èƒ½ã€‚</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> remain[:i] == remain[:i][::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    backtrack(s+[remain[:i]], remain[i:])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">if</span> s:</span><br><span class=\"line\">        backtrack([], s)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(self, s: str)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s <span class=\"keyword\">and</span> [[s[:i]] + suffix </span><br><span class=\"line\">                  <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> s[:i]==s[i<span class=\"number\">-1</span>::<span class=\"number\">-1</span>]</span><br><span class=\"line\">                  <span class=\"keyword\">for</span> suffix <span class=\"keyword\">in</span> self.partition(s[i:])] <span class=\"keyword\">or</span> [[]]</span><br></pre></td></tr></table></figure>\n<h3 id=\"77-Combinations\"><a href=\"#77-Combinations\" class=\"headerlink\" title=\"77. Combinations\"></a>77. Combinations</h3><h4 id=\"å®ç°ç»„åˆã€‚åŸé¢˜\"><a href=\"#å®ç°ç»„åˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°ç»„åˆã€‚åŸé¢˜\"></a>å®ç°ç»„åˆã€‚<a href=\"https://leetcode.com/problems/combinations/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, k &#x3D; 2</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [2,4],</span><br><span class=\"line\">  [3,4],</span><br><span class=\"line\">  [2,3],</span><br><span class=\"line\">  [1,2],</span><br><span class=\"line\">  [1,3],</span><br><span class=\"line\">  [1,4],</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯ã€‚700ms, æ¯”Solutionä¸­çš„æ…¢äº†100ms.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(a, k, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">1</span>:</span><br><span class=\"line\">            ans.extend(a+[num] <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> rest)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i, h <span class=\"keyword\">in</span> enumerate(rest):</span><br><span class=\"line\">                backtrack(a+[h], k<span class=\"number\">-1</span>, rest[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack([], k, list(range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šSolutionä¸­çš„é€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(first=<span class=\"number\">1</span>, cur=[])</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(cur) == k:</span><br><span class=\"line\">            ans.append(cur[:])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(first, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">                cur.append(i)</span><br><span class=\"line\">                backtrack(i+<span class=\"number\">1</span>, cur)</span><br><span class=\"line\">                cur.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šåˆ—è¡¨ç”Ÿæˆå¼å†™æ³•ï¼Œé€’å½’ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [[]]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [pre+[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(k, n+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> pre <span class=\"keyword\">in</span> self.combine(i<span class=\"number\">-1</span>, k<span class=\"number\">-1</span>)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"39-Combination-Sum\"><a href=\"#39-Combination-Sum\" class=\"headerlink\" title=\"39. Combination Sum\"></a>39. Combination Sum</h3><h4 id=\"å’Œ77ç±»ä¼¼ï¼Œæ‰¾å‡ºå’Œä¸ºæŒ‡å®šæ•°å€¼çš„ç»„åˆï¼Œå€™é€‰æ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\"><a href=\"#å’Œ77ç±»ä¼¼ï¼Œæ‰¾å‡ºå’Œä¸ºæŒ‡å®šæ•°å€¼çš„ç»„åˆï¼Œå€™é€‰æ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ77ç±»ä¼¼ï¼Œæ‰¾å‡ºå’Œä¸ºæŒ‡å®šæ•°å€¼çš„ç»„åˆï¼Œå€™é€‰æ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\"></a>å’Œ77ç±»ä¼¼ï¼Œæ‰¾å‡ºå’Œä¸ºæŒ‡å®šæ•°å€¼çš„ç»„åˆï¼Œå€™é€‰æ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚<a href=\"https://leetcode.com/problems/combination-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: candidates &#x3D; [2,3,5], target &#x3D; 8,</span><br><span class=\"line\">A solution set is:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [2,2,2,2],</span><br><span class=\"line\">  [2,3,3],</span><br><span class=\"line\">  [3,5]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå°†å€™é€‰ç»„æ’åºï¼Œå¹¶è®°å½•å½“å‰çš„ç´¢å¼•å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combinationSum</span><span class=\"params\">(self, candidates: List[int], target: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, i, target)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> target == <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans.append(g)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> target &lt; candidates[i]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, n):</span><br><span class=\"line\">            backtrack(g+[candidates[j]], j, target-candidates[j])</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    n = len(candidates)</span><br><span class=\"line\">    candidates.sort()</span><br><span class=\"line\">    backtrack([], <span class=\"number\">0</span>, target)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ—¶éš”ä¸€å¹´åˆé‡åšä¸€éï¼Œæ„Ÿè§‰æ–¹æ³•æ›´åŠ ç²¾ç‚¼äº†ã€‚sortæ„Ÿè§‰æ²¡å•¥å¿…è¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combinationSum</span><span class=\"params\">(self, cn: List[int], target: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, t, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> t == <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans.append(p[:])</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> t &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, len(cn)):</span><br><span class=\"line\">            c = cn[j]</span><br><span class=\"line\">            p.append(c)</span><br><span class=\"line\">            backtrack(j, t-c, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(<span class=\"number\">0</span>, target, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"40-Combination-Sum-II\"><a href=\"#40-Combination-Sum-II\" class=\"headerlink\" title=\"40. Combination Sum II\"></a>40. Combination Sum II</h3><h4 id=\"ç»„åˆæ±‚å’Œï¼Œå’Œ39ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå€™é€‰æ•°å­—ä¸­å¯èƒ½æœ‰é‡å¤æ•°å­—ï¼Œä½†æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚åŸé¢˜\"><a href=\"#ç»„åˆæ±‚å’Œï¼Œå’Œ39ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå€™é€‰æ•°å­—ä¸­å¯èƒ½æœ‰é‡å¤æ•°å­—ï¼Œä½†æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»„åˆæ±‚å’Œï¼Œå’Œ39ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå€™é€‰æ•°å­—ä¸­å¯èƒ½æœ‰é‡å¤æ•°å­—ï¼Œä½†æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚åŸé¢˜\"></a>ç»„åˆæ±‚å’Œï¼Œå’Œ39ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå€™é€‰æ•°å­—ä¸­å¯èƒ½æœ‰é‡å¤æ•°å­—ï¼Œä½†æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚<a href=\"https://leetcode.com/problems/combination-sum-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>éº»çƒ¦çš„åœ°æ–¹åœ¨äºå¦‚ä½•ä¿è¯ç»“æœæ˜¯éé‡å¤çš„ã€‚å½“<code>j==i</code>æ—¶ï¼Œ<code>cn[j]==cn[j-1]</code>è¯´æ˜å‰é¢åˆšåˆšç”¨äº†å’Œè¿™ä¸ªä¸€æ ·çš„æ•°å­—ã€‚å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚æ¯”å¦‚<code>[1,1,6]</code>ã€‚å½“<code>j!=i</code>ï¼Œ<code>cn[j]==cn[j-1]</code>æ—¶ï¼Œè¯´æ˜æƒ³ä»¥jå¼€å¤´åŒæ ·æ‰¾æ•°ç»„ï¼Œè¿™æ ·è‚¯å®šä¼šæ‰¾å‡ºä¸€ä¸ªé‡å¤çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combinationSum2</span><span class=\"params\">(self, candidates: List[int], target: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, i, target)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> target == <span class=\"number\">0</span>:</span><br><span class=\"line\">            ans.append(g)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, n):</span><br><span class=\"line\">            <span class=\"comment\"># avoid duplicate result</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> j != i <span class=\"keyword\">and</span> candidates[j]==candidates[j<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> candidates[j] &gt; target:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            backtrack(g+[candidates[j]], j+<span class=\"number\">1</span>, target-candidates[j])</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    n = len(candidates)</span><br><span class=\"line\">    candidates.sort()</span><br><span class=\"line\">    backtrack([], <span class=\"number\">0</span>, target)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"216-Combination-Sum-III\"><a href=\"#216-Combination-Sum-III\" class=\"headerlink\" title=\"216. Combination Sum III\"></a>216. Combination Sum III</h3><h4 id=\"ç»„åˆæ±‚å’Œï¼Œä»1-9é€‰å‡ºkä¸ªä¸é‡å¤çš„æ•°ï¼Œå’Œä¸ºnã€‚åŸé¢˜\"><a href=\"#ç»„åˆæ±‚å’Œï¼Œä»1-9é€‰å‡ºkä¸ªä¸é‡å¤çš„æ•°ï¼Œå’Œä¸ºnã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»„åˆæ±‚å’Œï¼Œä»1~9é€‰å‡ºkä¸ªä¸é‡å¤çš„æ•°ï¼Œå’Œä¸ºnã€‚åŸé¢˜\"></a>ç»„åˆæ±‚å’Œï¼Œä»1~9é€‰å‡ºkä¸ªä¸é‡å¤çš„æ•°ï¼Œå’Œä¸ºnã€‚<a href=\"https://leetcode.com/problems/combination-sum-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: k &#x3D; 3, n &#x3D; 9</span><br><span class=\"line\">Output: [[1,2,6], [1,3,5], [2,3,4]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combinationSum3</span><span class=\"params\">(self, k: int, n: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, i, target, k)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k==<span class=\"number\">0</span> <span class=\"keyword\">and</span> target==<span class=\"number\">0</span>:</span><br><span class=\"line\">            ans.append(g)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k &lt; <span class=\"number\">0</span> <span class=\"keyword\">or</span> target &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, <span class=\"number\">10</span>):</span><br><span class=\"line\">            backtrack(g+[j], j+<span class=\"number\">1</span>, target-j, k<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack([], <span class=\"number\">1</span>, n, k)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé€’å½’ï¼Œä½¿ç”¨<code>last</code>ä½œä¸ºä¸Šé™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combinationSum3</span><span class=\"params\">(self, k: int, n: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combs</span><span class=\"params\">(k, n, cap)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> k:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [[]] * (<span class=\"keyword\">not</span> n)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [comb + [last]</span><br><span class=\"line\">                <span class=\"keyword\">for</span> last <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, cap)</span><br><span class=\"line\">                <span class=\"keyword\">for</span> comb <span class=\"keyword\">in</span> combs(k<span class=\"number\">-1</span>, n-last, last)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> combs(k, n, <span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"78-Subsets\"><a href=\"#78-Subsets\" class=\"headerlink\" title=\"78. Subsets\"></a>78. Subsets</h3><h4 id=\"è¾“å‡ºç»™å®šæ— é‡å¤é›†åˆçš„å­é›†ç»„åˆã€‚åŸé¢˜\"><a href=\"#è¾“å‡ºç»™å®šæ— é‡å¤é›†åˆçš„å­é›†ç»„åˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å‡ºç»™å®šæ— é‡å¤é›†åˆçš„å­é›†ç»„åˆã€‚åŸé¢˜\"></a>è¾“å‡ºç»™å®šæ— é‡å¤é›†åˆçš„å­é›†ç»„åˆã€‚<a href=\"https://leetcode.com/problems/subsets/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [3],</span><br><span class=\"line\">  [1],</span><br><span class=\"line\">  [2],</span><br><span class=\"line\">  [1,2,3],</span><br><span class=\"line\">  [1,3],</span><br><span class=\"line\">  [2,3],</span><br><span class=\"line\">  [1,2],</span><br><span class=\"line\">  []</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subsets</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, i, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            ans.append(g)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, len(nums)):</span><br><span class=\"line\">            backtrack(g+[nums[j]], j+<span class=\"number\">1</span>, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(len(nums)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        backtrack([], <span class=\"number\">0</span>, n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåšä¸€ä¸ªé€’å¢å°±å¥½äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subsets</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    ans = [[]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ans += [pre+[num] <span class=\"keyword\">for</span> pre <span class=\"keyword\">in</span> ans]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ç´¢å¼•æ¥åšã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subsets</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    self.ans = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, n, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            self.ans.append(p[:])</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, len(nums)):</span><br><span class=\"line\">            d = nums[j]</span><br><span class=\"line\">            p.append(d)</span><br><span class=\"line\">            dfs(j+<span class=\"number\">1</span>, n<span class=\"number\">-1</span>, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    [dfs(<span class=\"number\">0</span>, i, []) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, len(nums)+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"90-Subsets-II\"><a href=\"#90-Subsets-II\" class=\"headerlink\" title=\"90. Subsets II\"></a>90. Subsets II</h3><h4 id=\"å’Œ78ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºç»™å®šçš„æ•°ç»„æœ‰é‡å¤å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#å’Œ78ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºç»™å®šçš„æ•°ç»„æœ‰é‡å¤å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ78ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºç»™å®šçš„æ•°ç»„æœ‰é‡å¤å…ƒç´ ã€‚åŸé¢˜\"></a>å’Œ78ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºç»™å®šçš„æ•°ç»„æœ‰é‡å¤å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/subsets-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”¨åˆ°äº†40é¢˜ä¸­è§£æ³•å»é‡çš„ä»£ç ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subsetsWithDup</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, i, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            ans.append(g)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, len(nums)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j!=i <span class=\"keyword\">and</span> nums[j]==nums[j<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            backtrack(g+[nums[j]], j+<span class=\"number\">1</span>, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(len(nums)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        backtrack([], <span class=\"number\">0</span>, n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"79-Word-Search\"><a href=\"#79-Word-Search\" class=\"headerlink\" title=\"79. Word Search\"></a>79. Word Search</h3><h4 id=\"çŸ©é˜µä¸­çš„è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µä¸­çš„è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µä¸­çš„è·¯å¾„ã€‚åŸé¢˜\"></a>çŸ©é˜µä¸­çš„è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/word-search/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">board &#x3D;</span><br><span class=\"line\">[</span><br><span class=\"line\">  [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;E&#39;],</span><br><span class=\"line\">  [&#39;S&#39;,&#39;F&#39;,&#39;C&#39;,&#39;S&#39;],</span><br><span class=\"line\">  [&#39;A&#39;,&#39;D&#39;,&#39;E&#39;,&#39;E&#39;]</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">Given word &#x3D; &quot;ABCCED&quot;, return true.</span><br><span class=\"line\">Given word &#x3D; &quot;SEE&quot;, return true.</span><br><span class=\"line\">Given word &#x3D; &quot;ABCB&quot;, return false.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">exist</span><span class=\"params\">(self, g: List[List[str]], word: str)</span> -&gt; bool:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j, word)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> word:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        original, g[i][j] = g[i][j], <span class=\"string\">'-'</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i, j<span class=\"number\">-1</span>), (i<span class=\"number\">-1</span>, j)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> g[x][y] == word[<span class=\"number\">0</span>]: </span><br><span class=\"line\">                <span class=\"keyword\">if</span> dfs(x, y, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        g[i][j] = original</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == word[<span class=\"number\">0</span>] <span class=\"keyword\">and</span> dfs(i, j, word[<span class=\"number\">1</span>:]):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"200-Number-of-Islands\"><a href=\"#200-Number-of-Islands\" class=\"headerlink\" title=\"200. Number of Islands\"></a>200. Number of Islands</h3><h4 id=\"å°å²›çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å°å²›çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°å²›çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å°å²›çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-islands/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">11110</span><br><span class=\"line\">11010</span><br><span class=\"line\">11000</span><br><span class=\"line\">00000</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numIslands</span><span class=\"params\">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> grid:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    R, C = len(grid), len(grid[<span class=\"number\">0</span>])</span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        seen.add((i, j))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i<span class=\"number\">-1</span>, j), (i+<span class=\"number\">1</span>, j), (i, j<span class=\"number\">-1</span>), (i, j+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> (x, y) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen</span><br><span class=\"line\">                    <span class=\"keyword\">and</span> grid[x][y]==<span class=\"string\">'1'</span>):</span><br><span class=\"line\">                spread(x, y)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i, j) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen <span class=\"keyword\">and</span> grid[i][j]==<span class=\"string\">'1'</span>:</span><br><span class=\"line\">                count += <span class=\"number\">1</span></span><br><span class=\"line\">                spread(i, j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå½“ç™»å½•ä¸€åº§å²›å±¿æ—¶ï¼Œä½¿è¿™åº§å²›å±¿ä¸‹æ²‰ï¼Œå˜ä¸ºâ€™0â€™ã€‚ä¸æ˜ç™½ä¸ºä»€ä¹ˆæ¯”ä¸Šä¸ªæ–¹æ³•æ…¢äº†20msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numIslands</span><span class=\"params\">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sink</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i&lt;len(grid) <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j&lt;len(grid[i]) <span class=\"keyword\">and</span> grid[i][j]==<span class=\"string\">'1'</span>:</span><br><span class=\"line\">            grid[i][j] = <span class=\"string\">'0'</span></span><br><span class=\"line\">            list(map(sink, (i<span class=\"number\">-1</span>, i+<span class=\"number\">1</span>, i, i), (j, j, j<span class=\"number\">-1</span>, j+<span class=\"number\">1</span>)))   <span class=\"comment\"># important, return generator without list</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sink(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(grid)) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(grid[i])))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1254-Number-of-Closed-Islands\"><a href=\"#1254-Number-of-Closed-Islands\" class=\"headerlink\" title=\"1254. Number of Closed Islands\"></a>1254. Number of Closed Islands</h3><h4 id=\"å’Œ200ç±»ä¼¼ï¼Œä½†æ˜¯ä¸è¾¹ç•Œç›¸è¿çš„å²›ä¸èƒ½ç®—äº†ã€‚åŸé¢˜\"><a href=\"#å’Œ200ç±»ä¼¼ï¼Œä½†æ˜¯ä¸è¾¹ç•Œç›¸è¿çš„å²›ä¸èƒ½ç®—äº†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ200ç±»ä¼¼ï¼Œä½†æ˜¯ä¸è¾¹ç•Œç›¸è¿çš„å²›ä¸èƒ½ç®—äº†ã€‚åŸé¢˜\"></a>å’Œ200ç±»ä¼¼ï¼Œä½†æ˜¯ä¸è¾¹ç•Œç›¸è¿çš„å²›ä¸èƒ½ç®—äº†ã€‚<a href=\"https://leetcode.com/problems/number-of-closed-islands/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: grid &#x3D; [[1,1,1,1,1,1,1,0],[1,0,0,0,0,1,1,0],[1,0,1,0,1,1,1,0],[1,0,0,0,0,1,0,1],[1,1,1,1,1,1,1,0]]</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Islands in gray are closed because they are completely surrounded by water (group of 1s).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸‹æ²‰æ³•ã€‚å…ˆæŠŠè¾¹ç•Œçš„å²›å±¿å¤„ç†ï¼Œç„¶åå†ç´¯è®¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">closedIsland</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sink</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> m&gt;i&gt;=<span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> g[i][j]==<span class=\"number\">0</span>:</span><br><span class=\"line\">            g[i][j] = <span class=\"number\">1</span></span><br><span class=\"line\">            list(map(sink, (i<span class=\"number\">-1</span>, i+<span class=\"number\">1</span>, i, i), (j, j, j<span class=\"number\">-1</span>, j+<span class=\"number\">1</span>)))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    list(map(sink, [<span class=\"number\">0</span>]*n, range(n)))</span><br><span class=\"line\">    list(map(sink, [m<span class=\"number\">-1</span>]*n, range(n)))</span><br><span class=\"line\">    list(map(sink, range(m), [<span class=\"number\">0</span>]*m))</span><br><span class=\"line\">    list(map(sink, range(m), [n<span class=\"number\">-1</span>]*m))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sink(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, m<span class=\"number\">-1</span>) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n<span class=\"number\">-1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"130-Surrounded-Regions\"><a href=\"#130-Surrounded-Regions\" class=\"headerlink\" title=\"130. Surrounded Regions\"></a>130. Surrounded Regions</h3><h4 id=\"å°†å››å‘¨è¢«åŒ…å›´çš„Oç¿»è½¬æˆXï¼Œè¾¹ç¼˜ä¸ç®—åŒ…å›´ã€‚åŸé¢˜\"><a href=\"#å°†å››å‘¨è¢«åŒ…å›´çš„Oç¿»è½¬æˆXï¼Œè¾¹ç¼˜ä¸ç®—åŒ…å›´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†å››å‘¨è¢«åŒ…å›´çš„Oç¿»è½¬æˆXï¼Œè¾¹ç¼˜ä¸ç®—åŒ…å›´ã€‚åŸé¢˜\"></a>å°†å››å‘¨è¢«åŒ…å›´çš„<code>O</code>ç¿»è½¬æˆ<code>X</code>ï¼Œè¾¹ç¼˜ä¸ç®—åŒ…å›´ã€‚<a href=\"https://leetcode.com/problems/surrounded-regions/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¼ ç»Ÿçš„æ–¹æ³•åœ¨å»¶ä¼¸çš„æ—¶å€™åˆ¤æ–­ä¸å‡ºæ˜¯å¦åˆ°è¾¾è¾¹ç•Œã€‚æ‰€ä»¥è¿™é‡Œå…ˆå¾—åˆ°è¾¹ç•Œçš„ç‚¹ï¼Œç„¶åä»è¾¹ç•Œå¾€é‡Œå»¶ä¼¸ï¼Œå°†æ‰€æœ‰çš„<code>O</code>å˜ä¸º<code>S</code>ï¼Œç¬¬äºŒæ¬¡éå†æ—¶ï¼Œå°†<code>S</code>æ¢å¤æˆ<code>O</code>ï¼Œå…¶ä»–è®¾ä¸º<code>X</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solve</span><span class=\"params\">(self, board: List[List[str]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> board: <span class=\"keyword\">return</span></span><br><span class=\"line\">    R, C = len(board), len(board[<span class=\"number\">0</span>])</span><br><span class=\"line\">    bounds = [(i, j) <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(R+C) </span><br><span class=\"line\">              <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((<span class=\"number\">0</span>, k), (R<span class=\"number\">-1</span>, k), (k, <span class=\"number\">0</span>), (k, C<span class=\"number\">-1</span>))</span><br><span class=\"line\">              <span class=\"keyword\">if</span> i &lt; R <span class=\"keyword\">and</span> j &lt; C]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> bounds:</span><br><span class=\"line\">        x, y = bounds.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> board[x][y]==<span class=\"string\">'O'</span>:</span><br><span class=\"line\">            board[x][y] = <span class=\"string\">'S'</span></span><br><span class=\"line\">            bounds += (x<span class=\"number\">-1</span>, y), (x+<span class=\"number\">1</span>, y), (x, y<span class=\"number\">-1</span>), (x, y+<span class=\"number\">1</span>)</span><br><span class=\"line\">    board[:] = [[<span class=\"string\">'XO'</span>[c==<span class=\"string\">'S'</span>] <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> row] <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> board]</span><br></pre></td></tr></table></figure>\n<h3 id=\"417-Pacific-Atlantic-Water-Flow\"><a href=\"#417-Pacific-Atlantic-Water-Flow\" class=\"headerlink\" title=\"417. Pacific Atlantic Water Flow\"></a>417. Pacific Atlantic Water Flow</h3><h4 id=\"å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµå‘ï¼Œå‡è®¾é™†åœ°ä¸Šå¯ä»¥æ²¿ç€é«˜åº¦ä¸é«˜äºçš„åœ°æ–¹æµæ·Œï¼Œæ±‚èƒ½åŒæ—¶æµå…¥ä¸¤ä¸ªæµ·æ´‹çš„é™†åœ°åæ ‡ã€‚åŸé¢˜\"><a href=\"#å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµå‘ï¼Œå‡è®¾é™†åœ°ä¸Šå¯ä»¥æ²¿ç€é«˜åº¦ä¸é«˜äºçš„åœ°æ–¹æµæ·Œï¼Œæ±‚èƒ½åŒæ—¶æµå…¥ä¸¤ä¸ªæµ·æ´‹çš„é™†åœ°åæ ‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµå‘ï¼Œå‡è®¾é™†åœ°ä¸Šå¯ä»¥æ²¿ç€é«˜åº¦ä¸é«˜äºçš„åœ°æ–¹æµæ·Œï¼Œæ±‚èƒ½åŒæ—¶æµå…¥ä¸¤ä¸ªæµ·æ´‹çš„é™†åœ°åæ ‡ã€‚åŸé¢˜\"></a>å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµå‘ï¼Œå‡è®¾é™†åœ°ä¸Šå¯ä»¥æ²¿ç€é«˜åº¦ä¸é«˜äºçš„åœ°æ–¹æµæ·Œï¼Œæ±‚èƒ½åŒæ—¶æµå…¥ä¸¤ä¸ªæµ·æ´‹çš„é™†åœ°åæ ‡ã€‚<a href=\"https://leetcode.com/problems/pacific-atlantic-water-flow/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given the following 5x5 matrix:</span><br><span class=\"line\"></span><br><span class=\"line\">  Pacific ~   ~   ~   ~   ~ </span><br><span class=\"line\">       ~  1   2   2   3  (5) *</span><br><span class=\"line\">       ~  3   2   3  (4) (4) *</span><br><span class=\"line\">       ~  2   4  (5)  3   1  *</span><br><span class=\"line\">       ~ (6) (7)  1   4   5  *</span><br><span class=\"line\">       ~ (5)  1   1   2   4  *</span><br><span class=\"line\">          *   *   *   *   * Atlantic</span><br><span class=\"line\">Return:</span><br><span class=\"line\">[[0, 4], [1, 3], [1, 4], [2, 2], [3, 0], [3, 1], [4, 0]] (positions with parentheses in above matrix).</span><br><span class=\"line\"> </span><br><span class=\"line\"> Pacific  ~   ~   ~   </span><br><span class=\"line\">       ~  1   2  (3)  *</span><br><span class=\"line\">       ~ (8) (9) (4)  *</span><br><span class=\"line\">       ~ (7) (6) (5)  *</span><br><span class=\"line\">          *   *   *   * Atlantic</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æˆ‘ä»¥ä¸ºä»å·¦ä¸Šçš„ç‚¹åªèƒ½å¾€å³æˆ–ä¸‹æ–¹å‘æ‰¾é™†åœ°ï¼Œäº‹å®ä¸Šè¿˜æ˜¯è¦å¯»æ‰¾å››ä¸ªæ–¹å‘ã€‚è¿™åº”è¯¥æ˜¯æœ€æš´åŠ›çš„è§£æ³•äº†ã€‚ä½†æ˜¯çœ‹äº†å‡ ä¸ªé«˜ç¥¨ç­”æ¡ˆéƒ½æ²¡æˆ‘è¿™ä¸ªå¿«ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pacificAtlantic</span><span class=\"params\">(self, matrix: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> matrix:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    p_land = set()</span><br><span class=\"line\">    a_land = set()</span><br><span class=\"line\">    R, C = len(matrix), len(matrix[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j, land)</span>:</span></span><br><span class=\"line\">        land.add((i, j))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"number\">0</span>&lt;=x&lt;R <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;C <span class=\"keyword\">and</span> matrix[x][y] &gt;= matrix[i][j]</span><br><span class=\"line\">                    <span class=\"keyword\">and</span> (x, y) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> land):</span><br><span class=\"line\">                spread(x, y, land)</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        spread(i, <span class=\"number\">0</span>, p_land)</span><br><span class=\"line\">        spread(i, C<span class=\"number\">-1</span>, a_land)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">        spread(<span class=\"number\">0</span>, j, p_land)</span><br><span class=\"line\">        spread(R<span class=\"number\">-1</span>, j, a_land)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(p_land &amp; a_land)</span><br></pre></td></tr></table></figure>\n<h3 id=\"526-Beautiful-Arrangement\"><a href=\"#526-Beautiful-Arrangement\" class=\"headerlink\" title=\"526. Beautiful Arrangement\"></a>526. Beautiful Arrangement</h3><h4 id=\"å®Œç¾å®‰æ’ï¼Œç»™å®š1-Nçš„æ•°å­—ï¼Œç”Ÿæˆä¸€ç§æ’åˆ—ï¼Œæ˜¯ç¬¬iä½çš„æ•°å­—èƒ½è¢«iæ•´é™¤ï¼Œæˆ–è€…ièƒ½è¢«ç¬¬iä½çš„æ•°å­—æ•´é™¤ï¼Œç´¢å¼•ä»1å¼€å§‹ã€‚åŸé¢˜\"><a href=\"#å®Œç¾å®‰æ’ï¼Œç»™å®š1-Nçš„æ•°å­—ï¼Œç”Ÿæˆä¸€ç§æ’åˆ—ï¼Œæ˜¯ç¬¬iä½çš„æ•°å­—èƒ½è¢«iæ•´é™¤ï¼Œæˆ–è€…ièƒ½è¢«ç¬¬iä½çš„æ•°å­—æ•´é™¤ï¼Œç´¢å¼•ä»1å¼€å§‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®Œç¾å®‰æ’ï¼Œç»™å®š1~Nçš„æ•°å­—ï¼Œç”Ÿæˆä¸€ç§æ’åˆ—ï¼Œæ˜¯ç¬¬iä½çš„æ•°å­—èƒ½è¢«iæ•´é™¤ï¼Œæˆ–è€…ièƒ½è¢«ç¬¬iä½çš„æ•°å­—æ•´é™¤ï¼Œç´¢å¼•ä»1å¼€å§‹ã€‚åŸé¢˜\"></a>å®Œç¾å®‰æ’ï¼Œç»™å®š1~Nçš„æ•°å­—ï¼Œç”Ÿæˆä¸€ç§æ’åˆ—ï¼Œæ˜¯ç¬¬iä½çš„æ•°å­—èƒ½è¢«iæ•´é™¤ï¼Œæˆ–è€…ièƒ½è¢«ç¬¬iä½çš„æ•°å­—æ•´é™¤ï¼Œç´¢å¼•ä»1å¼€å§‹ã€‚<a href=\"https://leetcode.com/problems/beautiful-arrangement/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 2</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\"></span><br><span class=\"line\">The first beautiful arrangement is [1, 2]:</span><br><span class=\"line\"></span><br><span class=\"line\">Number at the 1st position (i&#x3D;1) is 1, and 1 is divisible by i (i&#x3D;1).</span><br><span class=\"line\"></span><br><span class=\"line\">Number at the 2nd position (i&#x3D;2) is 2, and 2 is divisible by i (i&#x3D;2).</span><br><span class=\"line\"></span><br><span class=\"line\">The second beautiful arrangement is [2, 1]:</span><br><span class=\"line\"></span><br><span class=\"line\">Number at the 1st position (i&#x3D;1) is 2, and 2 is divisible by i (i&#x3D;1).</span><br><span class=\"line\"></span><br><span class=\"line\">Number at the 2nd position (i&#x3D;2) is 1, and i (i&#x3D;2) is divisible by 1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ï¼Œ1300msï¼Œbeats50%.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countArrangement</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">nonlocal</span> count</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest:</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        index = len(g) + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(rest):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num % index == <span class=\"number\">0</span> <span class=\"keyword\">or</span> index % num == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"comment\"># print(g, i, num, index, rest)</span></span><br><span class=\"line\">                g.append(num)</span><br><span class=\"line\">                backtrack(g, rest[:i]+rest[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">                g.pop()</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    backtrack([], list(range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå»æ‰äº†æ–¹æ³•ä¸€ä¸­ä¸€äº›æ— ç”¨çš„ç©ºé—´å’Œæ“ä½œã€‚1000ms, beats 67%.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countArrangement</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(g)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">nonlocal</span> count</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest:</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        index = len(g) + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> rest:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num % index == <span class=\"number\">0</span> <span class=\"keyword\">or</span> index % num == <span class=\"number\">0</span>:</span><br><span class=\"line\">                g.append(num)</span><br><span class=\"line\">                rest.remove(num)</span><br><span class=\"line\">                backtrack(g)</span><br><span class=\"line\">                g.pop()</span><br><span class=\"line\">                rest.add(num)</span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    rest = set(range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>))</span><br><span class=\"line\">    backtrack([])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè¿™é‡Œä»åå¾€å‰æ„å»ºï¼Œæœ€åæ„é€ 1ï¼Œå› ä¸º1çš„ä½ç½®æ”¾ä»»ä½•æ•°å­—éƒ½å¯ä»¥ã€‚152ms</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countArrangement</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(backtrack(i<span class=\"number\">-1</span>, rest-&#123;x&#125;)</span><br><span class=\"line\">                   <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> rest</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> x % i == <span class=\"number\">0</span> <span class=\"keyword\">or</span> i % x == <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> backtrack(N, set(range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>)))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šåœ¨3çš„åŸºç¡€ä¸Šä¼˜åŒ–ï¼Œæ¯æ¬¡è°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥åˆ©ç”¨ä¹‹å‰çš„ç»“æœã€‚52ms</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">cache = &#123;&#125;</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countArrangement</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, rest)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">            key = i, rest</span><br><span class=\"line\">            <span class=\"keyword\">if</span> key <span class=\"keyword\">in</span> cache:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> cache[key]</span><br><span class=\"line\">            ans =  sum(backtrack(i<span class=\"number\">-1</span>, rest[:j]+rest[j+<span class=\"number\">1</span>:])</span><br><span class=\"line\">                       <span class=\"keyword\">for</span> j, x <span class=\"keyword\">in</span> enumerate(rest)</span><br><span class=\"line\">                       <span class=\"keyword\">if</span> x % i == <span class=\"number\">0</span> <span class=\"keyword\">or</span> i % x == <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"comment\"># print(ans, i, rest)</span></span><br><span class=\"line\">            cache[key] = ans</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> backtrack(N, tuple(range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"22-Generate-Parentheses\"><a href=\"#22-Generate-Parentheses\" class=\"headerlink\" title=\"22. Generate Parentheses\"></a>22. Generate Parentheses</h3><h4 id=\"ç”Ÿæˆnå¯¹åˆæ³•çš„æ‹¬å·ã€‚åŸé¢˜\"><a href=\"#ç”Ÿæˆnå¯¹åˆæ³•çš„æ‹¬å·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç”Ÿæˆnå¯¹åˆæ³•çš„æ‹¬å·ã€‚åŸé¢˜\"></a>ç”Ÿæˆnå¯¹åˆæ³•çš„æ‹¬å·ã€‚<a href=\"https://leetcode.com/problems/generate-parentheses/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">  &quot;((()))&quot;,</span><br><span class=\"line\">  &quot;(()())&quot;,</span><br><span class=\"line\">  &quot;(())()&quot;,</span><br><span class=\"line\">  &quot;()(())&quot;,</span><br><span class=\"line\">  &quot;()()()&quot;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateParenthesis</span><span class=\"params\">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, l, r)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(p) == n*<span class=\"number\">2</span>:</span><br><span class=\"line\">            ans.append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l &lt; n:</span><br><span class=\"line\">            backtrack(p+<span class=\"string\">'('</span>, l+<span class=\"number\">1</span>, r) </span><br><span class=\"line\">        <span class=\"keyword\">if</span> r &lt; l:</span><br><span class=\"line\">            backtrack(p+<span class=\"string\">')'</span>, l, r+<span class=\"number\">1</span>)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(<span class=\"string\">''</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨å†™æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateParenthesis</span><span class=\"params\">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gen_parens</span><span class=\"params\">(p, l, r)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> r &gt;= l &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> r:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> p</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> gen_parens(p+<span class=\"string\">'('</span>, l<span class=\"number\">-1</span>, r)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> gen_parens(p+<span class=\"string\">')'</span>, l, r<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(gen_parens(<span class=\"string\">''</span>, n, n))</span><br></pre></td></tr></table></figure>\n<h3 id=\"89-Gray-Code\"><a href=\"#89-Gray-Code\" class=\"headerlink\" title=\"89. Gray Code\"></a>89. Gray Code</h3><h4 id=\"ç°ç é—®é¢˜ã€‚ç»™å®šä¸€ä¸ªnè¡¨ç¤ºnä½ã€‚ä»0å¼€å§‹æ¯æ¬¡æ”¹å˜ä¸€ä¸ªä½çš„æ•°å­—ï¼Œäº§ç”Ÿæ‰€æœ‰çš„ç»„åˆã€‚åŸé¢˜\"><a href=\"#ç°ç é—®é¢˜ã€‚ç»™å®šä¸€ä¸ªnè¡¨ç¤ºnä½ã€‚ä»0å¼€å§‹æ¯æ¬¡æ”¹å˜ä¸€ä¸ªä½çš„æ•°å­—ï¼Œäº§ç”Ÿæ‰€æœ‰çš„ç»„åˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç°ç é—®é¢˜ã€‚ç»™å®šä¸€ä¸ªnè¡¨ç¤ºnä½ã€‚ä»0å¼€å§‹æ¯æ¬¡æ”¹å˜ä¸€ä¸ªä½çš„æ•°å­—ï¼Œäº§ç”Ÿæ‰€æœ‰çš„ç»„åˆã€‚åŸé¢˜\"></a>ç°ç é—®é¢˜ã€‚ç»™å®šä¸€ä¸ªnè¡¨ç¤ºnä½ã€‚ä»0å¼€å§‹æ¯æ¬¡æ”¹å˜ä¸€ä¸ªä½çš„æ•°å­—ï¼Œäº§ç”Ÿæ‰€æœ‰çš„ç»„åˆã€‚<a href=\"https://leetcode.com/problems/gray-code/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 2</span><br><span class=\"line\">Output: [0,1,3,2]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">00 - 0</span><br><span class=\"line\">01 - 1</span><br><span class=\"line\">11 - 3</span><br><span class=\"line\">10 - 2</span><br><span class=\"line\"></span><br><span class=\"line\">For a given n, a gray code sequence may not be uniquely defined.</span><br><span class=\"line\">For example, [0,2,3,1] is also a valid gray code sequence.</span><br><span class=\"line\"></span><br><span class=\"line\">00 - 0</span><br><span class=\"line\">10 - 2</span><br><span class=\"line\">11 - 3</span><br><span class=\"line\">01 - 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ã€‚ä¸€å®šè¦æœ‰é¡ºåºï¼Œä¸€å¼€å§‹æˆ‘è¯¯ä»¥ä¸ºnä½çš„è¿›åˆ¶0æˆ–1çš„ç»„åˆã€‚ä½†æ˜¯ä¸è¡Œï¼Œå› ä¸ºä¸èƒ½ä»<code>01</code>è·¨è¶Šåˆ°<code>10</code>ã€‚è¿™ä¸ªé—®é¢˜æˆ‘æƒ³äº†å¾ˆä¹…æ²¡æœ‰æƒ³å‡ºæ¥å¦‚ä½•è§£å†³ï¼Œçœ‹åˆ°discussä¸­ä¸€ä¸ªjavaç‰ˆæœ¬çš„å—åˆ°äº†å¯å‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">grayCode</span><span class=\"params\">(self, n: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            ans.append(int(<span class=\"string\">''</span>.join(p), <span class=\"number\">2</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>):</span><br><span class=\"line\">            p += binary[i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p[<span class=\"number\">-1</span>] == <span class=\"string\">'0'</span>:</span><br><span class=\"line\">                backtrack(p, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                binary[<span class=\"number\">0</span>], binary[<span class=\"number\">1</span>] = binary[<span class=\"number\">1</span>], binary[<span class=\"number\">0</span>]</span><br><span class=\"line\">                backtrack(p, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">                binary[<span class=\"number\">0</span>], binary[<span class=\"number\">1</span>] = binary[<span class=\"number\">1</span>], binary[<span class=\"number\">0</span>]</span><br><span class=\"line\">            p = p[:<span class=\"number\">-1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [<span class=\"number\">0</span>]</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    binary = list(<span class=\"string\">'01'</span>)</span><br><span class=\"line\">    backtrack(<span class=\"string\">''</span>, n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ­¤é¢˜æœ‰è§„å¾‹ï¼Œè¿™ä¸ªè§„å¾‹è®²ä¸å¤ªå¥½ï¼Œæœ‰ç‚¹åƒä¹‹å­—å½¢é‚£ç§æ„Ÿè§‰ï¼Œå€’åºçš„æ—¶å€™åœ¨æœ€é«˜ä½è¡¥1ã€‚å°±èƒ½æ»¡è¶³æ¯ä¸ªæ•°åªå˜åŒ–ä¸€ä½çš„è¦æ±‚ã€‚</font>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">0   1   11  110</span><br><span class=\"line\">        10  111</span><br><span class=\"line\">            101</span><br><span class=\"line\">            100</span><br><span class=\"line\"></span><br><span class=\"line\">start:      [0]  # [0]</span><br><span class=\"line\">i &#x3D; 0:      [0, 1]  # [0, 1]</span><br><span class=\"line\">i &#x3D; 1:      [0, 1, 3, 2]  # [00, 01, 11, 10]</span><br><span class=\"line\">i &#x3D; 2:      [0, 1, 3, 2, 6, 7, 5, 4]  # [000, 001, 011, 010, 110, 111, 101, 100]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">grayCode</span><span class=\"params\">(self, n: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"comment\"># ans += [x + pow(2, i) for x in reversed(ans)]</span></span><br><span class=\"line\">        ans += (x | <span class=\"number\">1</span>&lt;&lt;i <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> reversed(ans))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"842-Split-Array-into-Fibonacci-Sequence\"><a href=\"#842-Split-Array-into-Fibonacci-Sequence\" class=\"headerlink\" title=\"842. Split Array into Fibonacci Sequence\"></a>842. Split Array into Fibonacci Sequence</h3><h4 id=\"ä¸€ä¸²æ•°ç»„ç»„æˆçš„å­—ç¬¦ä¸²æ‹†æˆæ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸²æ•°ç»„ç»„æˆçš„å­—ç¬¦ä¸²æ‹†æˆæ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸²æ•°ç»„ç»„æˆçš„å­—ç¬¦ä¸²æ‹†æˆæ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\"></a>ä¸€ä¸²æ•°ç»„ç»„æˆçš„å­—ç¬¦ä¸²æ‹†æˆæ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚<a href=\"https://leetcode.com/problems/split-array-into-fibonacci-sequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;123456579&quot;</span><br><span class=\"line\">Output: [123,456,579]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: &quot;112358130&quot;</span><br><span class=\"line\">Output: []</span><br><span class=\"line\">Explanation: The task is impossible.</span><br></pre></td></tr></table></figure>\n<p>ps: æ­¤é¢˜ç¬¬ä¸€å¤©åšçš„æ—¶å€™æƒ³äº†å¾ˆä¹…ï¼Œæäº¤äº†nä¸ªé”™è¯¯ç­”æ¡ˆï¼Œåæ¥ç¬¬äºŒå¤©åšçš„æ—¶å€™ï¼Œ20åˆ†é’Ÿå°±åšå‡ºæ¥äº†ã€‚</p>\n<p>æ–¹æ³•ä¸€ï¼šç¬¬ä¸€æ¬¡ACçš„ç­”æ¡ˆã€‚éœ€è¦æ³¨æ„å‡ ä¸ªç‚¹ã€‚é¦–å…ˆåªæœ‰å½“å…ƒç´ ç»“æœå¤§äº2æ‰ç®—æ•°åˆ—ï¼›ä¸»å¾ªç¯ä¸­<code>range(1, len(rest)+1)</code>å¦åˆ™ä¼šä¸¢å¤±æœ€åå…ƒç´ ï¼›å› ä¸º0çš„å­˜åœ¨ï¼Œæ‰€ä»¥è¦è€ƒè™‘0ä¸èƒ½ä½œä¸ºæ•°å­—çš„å¼€å¤´ï¼›æœ€åé¢˜ä¸­è¦æ±‚æ¯ä¸ªæ•°å­—è¦åœ¨<code>int32</code>èŒƒå›´å†…ã€‚224ms.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitIntoFibonacci</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest <span class=\"keyword\">and</span> len(p) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            ans.append(list(map(int, p)))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(rest)+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(p) &lt; <span class=\"number\">2</span> <span class=\"keyword\">or</span> int(rest[:i])==int(p[<span class=\"number\">-1</span>])+int(p[<span class=\"number\">-2</span>]):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(rest[:i]) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> rest[<span class=\"number\">0</span>]==<span class=\"string\">'0'</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">continue</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> int(rest[:i]) &gt; <span class=\"number\">2</span>**<span class=\"number\">31</span><span class=\"number\">-1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">continue</span></span><br><span class=\"line\">                backtrack(p+[rest[:i]], rest[i:])</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack([], S)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[<span class=\"number\">0</span>] <span class=\"keyword\">if</span> ans <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<p>ä¼˜åŒ–äºŒï¼šæ·»åŠ ä¸€ä¸ªflagï¼Œåœ¨æ‰¾åˆ°ç»“æœåè¿”å›ã€‚188ms, beats 26%.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitIntoFibonacci</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(p, rest)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest <span class=\"keyword\">and</span> len(p) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            ans.append(list(map(int, p)))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(rest)+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(p) &lt; <span class=\"number\">2</span> <span class=\"keyword\">or</span> int(rest[:i])==int(p[<span class=\"number\">-1</span>])+int(p[<span class=\"number\">-2</span>]):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(rest[:i]) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> rest[<span class=\"number\">0</span>]==<span class=\"string\">'0'</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> int(rest[:i]) &gt; <span class=\"number\">2</span>**<span class=\"number\">31</span><span class=\"number\">-1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> backtrack(p+[rest[:i]], rest[i:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack([], S)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[<span class=\"number\">0</span>] <span class=\"keyword\">if</span> ans <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<p>ä¼˜åŒ–ä¸‰ï¼šæ¯ä¸ªå…ƒç´ æ—¢ç„¶å°äº<code>2**31-1</code>é‚£ä¹ˆï¼Œæœ€é•¿é•¿åº¦ä¸º10ã€‚åœ¨ä¸»å¾ªç¯ä¸­åŠ å…¥æ­¤æ¡ä»¶å¯ä»¥æå‡åˆ°52msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitIntoFibonacci</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest <span class=\"keyword\">and</span> len(p) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> list(map(int, p))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(<span class=\"number\">11</span>, len(rest)+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            to_add = rest[:i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(p) &lt; <span class=\"number\">2</span> <span class=\"keyword\">or</span> int(to_add)==int(p[<span class=\"number\">-1</span>])+int(p[<span class=\"number\">-2</span>]):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(to_add) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> rest.startswith(<span class=\"string\">'0'</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> int(to_add) &gt; <span class=\"number\">2</span>**<span class=\"number\">31</span><span class=\"number\">-1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                seq = backtrack(p+[to_add], rest[i:])</span><br><span class=\"line\">                <span class=\"keyword\">if</span> seq:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> seq</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = backtrack([], S)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">ä¼˜åŒ–4ï¼šå½“å‰ä¸¤ä¸ªæ•°å’Œå·²ç»ä¸º3ä½æ•°æ—¶ï¼Œä¸‹ä¸€ä¸ªæ•°æ²¡å¿…è¦ä»1å¼€å§‹äº†ã€‚44msã€‚æ— è®ºæ€ä¹ˆæäº¤éƒ½è¾¾ä¸åˆ°è¿­ä»£çš„40msã€‚çŒœæµ‹å¯èƒ½æ˜¯é€’å½’æ ˆçš„ç“¶é¢ˆäº†å§ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitIntoFibonacci</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(p, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest <span class=\"keyword\">and</span> len(p) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">            p[:] = list(map(int, p))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(p) &gt;= <span class=\"number\">2</span>:</span><br><span class=\"line\">            next_num = int(p[<span class=\"number\">-1</span>]) + int(p[<span class=\"number\">-2</span>])</span><br><span class=\"line\">            start = len(str(next_num))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            start = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(start, min(<span class=\"number\">11</span>, len(rest)+<span class=\"number\">1</span>)):</span><br><span class=\"line\">            to_add = rest[:i]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(p) &lt; <span class=\"number\">2</span> <span class=\"keyword\">or</span> int(to_add)==next_num:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(to_add) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> rest.startswith(<span class=\"string\">'0'</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> int(to_add) &gt; <span class=\"number\">2</span>**<span class=\"number\">31</span><span class=\"number\">-1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                p.append(to_add)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> backtrack(p, rest[i:]):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">                p.pop()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(ans, S)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">splitIntoFibonacci</span><span class=\"params\">(self, S: str)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(min(<span class=\"number\">10</span>, len(S))):</span><br><span class=\"line\">        a = S[:i+<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a != <span class=\"string\">'0'</span> <span class=\"keyword\">and</span> a.startswith(<span class=\"string\">'0'</span>): <span class=\"keyword\">break</span></span><br><span class=\"line\">        a = int(a)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, min(i+<span class=\"number\">10</span>, len(S))):</span><br><span class=\"line\">            b = S[i+<span class=\"number\">1</span>:j+<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> b != <span class=\"string\">'0'</span> <span class=\"keyword\">and</span> b.startswith(<span class=\"string\">'0'</span>): <span class=\"keyword\">break</span></span><br><span class=\"line\">            b = int(b)</span><br><span class=\"line\">            fib = [a, b]</span><br><span class=\"line\">            k = j + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> k &lt; len(S):</span><br><span class=\"line\">                nxt = fib[<span class=\"number\">-2</span>] + fib[<span class=\"number\">-1</span>]</span><br><span class=\"line\">                nxt_str = str(nxt)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> nxt &lt;= <span class=\"number\">2</span>**<span class=\"number\">31</span><span class=\"number\">-1</span> <span class=\"keyword\">and</span> S[k:].startswith(nxt_str):</span><br><span class=\"line\">                    fib.append(nxt)</span><br><span class=\"line\">                    k += len(nxt_str)</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(fib) &gt; <span class=\"number\">2</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> fib</span><br><span class=\"line\">    <span class=\"keyword\">return</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"46-Permutations\"><a href=\"#46-Permutations\" class=\"headerlink\" title=\"46. Permutations\"></a>46. Permutations</h3><h4 id=\"æ•°ç»„å…¨æ’åˆ—ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„å…¨æ’åˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„å…¨æ’åˆ—ã€‚åŸé¢˜\"></a>æ•°ç»„å…¨æ’åˆ—ã€‚<a href=\"https://leetcode.com/problems/permutations/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [1,2,3],</span><br><span class=\"line\">  [1,3,2],</span><br><span class=\"line\">  [2,1,3],</span><br><span class=\"line\">  [2,3,1],</span><br><span class=\"line\">  [3,1,2],</span><br><span class=\"line\">  [3,2,1]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šrecursively. é”å®šå¤´éƒ¨æ³•ã€‚æ€æƒ³ä¸ºæ‹¿å‡ºä¸€ä¸ªæ•°å­—ä½œä¸ºå¤´éƒ¨ï¼Œå‰©ä¸‹çš„é€’å½’ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permute</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[n] + p</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> self.permute(nums[:i]+nums[i+<span class=\"number\">1</span>:])] <span class=\"keyword\">or</span> [[]]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ°å¤„æ’å…¥æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permute</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums <span class=\"keyword\">and</span> [p[:i] + [nums[<span class=\"number\">0</span>]] + p[i:]</span><br><span class=\"line\">                     <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> self.permute(nums[<span class=\"number\">1</span>:])</span><br><span class=\"line\">                     <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums))] <span class=\"keyword\">or</span> [[]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively. æ€æƒ³ä¸ºæ‹¿å‡ºä¸€ä¸ªæ•°å­—æ’å…¥åˆ°ç°æœ‰æ’åºä¸­çš„å„ä¸ªä½ç½®ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permute</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ans = [[]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ans = [l[:i] + [n] + l[i:]</span><br><span class=\"line\">               <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> ans</span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(l)+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"47-Permutations-II\"><a href=\"#47-Permutations-II\" class=\"headerlink\" title=\"47. Permutations II\"></a>47. Permutations II</h3><h4 id=\"å…¨æ’åˆ—å¹¶å»é‡ã€‚åŸé¢˜\"><a href=\"#å…¨æ’åˆ—å¹¶å»é‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å…¨æ’åˆ—å¹¶å»é‡ã€‚åŸé¢˜\"></a>å…¨æ’åˆ—å¹¶å»é‡ã€‚<a href=\"https://leetcode.com/problems/permutations-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,1,2]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [1,1,2],</span><br><span class=\"line\">  [1,2,1],</span><br><span class=\"line\">  [2,1,1]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šå½“ç„¶å¯ä»¥ä½¿ç”¨<code>set</code>æ¥å»é‡ï¼Œæˆ–è€…è€ƒè™‘ä¸€ç§è¿­ä»£çš„æ–¹å¼ã€‚</p>\n<p>å±•å¼€ã€‚æ‹¿ç€æ¯ä¸ªæ•°å­—å‘ä¸Šä¸€ä¸ªç»“æœä¸­æ’å…¥åˆ°æ¯ä¸€ä¸ªä½ç½®ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permuteUnique</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ans = [[]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j, n <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        new_ans = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> ans:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(l)+<span class=\"number\">1</span>):</span><br><span class=\"line\">                new_ans.append(l[:i]+[n]+l[i:])</span><br><span class=\"line\">                print(<span class=\"string\">'\\t j &#123;0&#125; - &#123;3&#125; + [&#123;2&#125;] + &#123;4&#125;'</span>.format(j, i, n, l[:i], l[i:]))</span><br><span class=\"line\">                <span class=\"comment\"># if i&lt;len(l) and l[i]==n: break              #handles duplication</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> i&lt;len(l) <span class=\"keyword\">and</span> l[i]==n: </span><br><span class=\"line\">                    print(<span class=\"string\">'\\t \\t l[&#123;&#125;] == &#123;&#125;'</span>.format(i, n))</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>              <span class=\"comment\">#handles duplication</span></span><br><span class=\"line\">        ans = new_ans</span><br><span class=\"line\">        print(<span class=\"string\">'j &#123;&#125; afer inner ans &#123;&#125;'</span>.format(j, ans))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>è¾“å…¥<code>nums=[1, 2, 3]</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">\t j 0 - [] + [1] + []</span><br><span class=\"line\">j 0 afer inner ans [[1]]</span><br><span class=\"line\">\t j 1 - [] + [2] + [1]</span><br><span class=\"line\">\t j 1 - [1] + [2] + []</span><br><span class=\"line\">j 1 afer inner ans [[2, 1], [1, 2]]</span><br><span class=\"line\">\t j 2 - [] + [3] + [2, 1]</span><br><span class=\"line\">\t j 2 - [2] + [3] + [1]</span><br><span class=\"line\">\t j 2 - [2, 1] + [3] + []</span><br><span class=\"line\">\t j 2 - [] + [3] + [1, 2]</span><br><span class=\"line\">\t j 2 - [1] + [3] + [2]</span><br><span class=\"line\">\t j 2 - [1, 2] + [3] + []</span><br><span class=\"line\">j 2 afer inner ans [[3, 2, 1], [2, 3, 1], [2, 1, 3], [3, 1, 2], [1, 3, 2], [1, 2, 3]]</span><br></pre></td></tr></table></figure>\n<p>ç†è§£ä¸€ä¸‹æ˜¯å¦‚ä½•å»é‡çš„ï¼Œæˆ‘ä»¬è¾“å…¥<code>nums=[1, 2, 1]</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">\t j 0 - [] + [1] + []</span><br><span class=\"line\">j 0 afer inner ans [[1]]</span><br><span class=\"line\">\t j 1 - [] + [2] + [1]</span><br><span class=\"line\">\t j 1 - [1] + [2] + []</span><br><span class=\"line\">j 1 afer inner ans [[2, 1], [1, 2]]</span><br><span class=\"line\">\t j 2 - [] + [1] + [2, 1]</span><br><span class=\"line\">\t j 2 - [2] + [1] + [1]</span><br><span class=\"line\">\t \t l[1] &#x3D;&#x3D; 1</span><br><span class=\"line\">\t j 2 - [] + [1] + [1, 2]</span><br><span class=\"line\">\t \t l[0] &#x3D;&#x3D; 1</span><br><span class=\"line\">j 2 afer inner ans [[1, 2, 1], [2, 1, 1], [1, 1, 2]]</span><br><span class=\"line\">[[1, 2, 1], [2, 1, 1], [1, 1, 2]]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">åˆ—è¡¨ç”Ÿæˆå¼æ•´åˆã€‚Stefanå¤§ç¥çš„å†™æ³•ã€‚ä½¿ç”¨indexæ¥æ‰¾éé‡å¤çš„ä¸´ç•Œå€¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permuteUnique</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ans = [[]]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ans = [l[:i]+[n]+l[i:]</span><br><span class=\"line\">               <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> ans</span><br><span class=\"line\">               <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range((l+[n]).index(n)+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">é€’å½’ä¹Ÿå¯ä»¥</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">permuteUnique</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums <span class=\"keyword\">and</span> [p[:i] + [nums[<span class=\"number\">0</span>]] + p[i:]</span><br><span class=\"line\">                     <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> self.permuteUnique(nums[<span class=\"number\">1</span>:])</span><br><span class=\"line\">                     <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range((p+[nums[<span class=\"number\">0</span>]]).index(nums[<span class=\"number\">0</span>])+<span class=\"number\">1</span>)</span><br><span class=\"line\">                     ] <span class=\"keyword\">or</span> [[]]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1079-Letter-Tile-Possibilities\"><a href=\"#1079-Letter-Tile-Possibilities\" class=\"headerlink\" title=\"1079. Letter Tile Possibilities\"></a>1079. Letter Tile Possibilities</h3><h4 id=\"æœ¬æ¥æ˜¯ä¸€é“å›æº¯çš„é¢˜ï¼Œç»“æœæµ‹è¯•ç”¨ä¾‹è¿‡äºç®€å•ï¼Œæ‰€ä»¥æš´åŠ›æ³•å°±è§£å‡ºæ¥äº†ã€‚åŸé¢˜\"><a href=\"#æœ¬æ¥æ˜¯ä¸€é“å›æº¯çš„é¢˜ï¼Œç»“æœæµ‹è¯•ç”¨ä¾‹è¿‡äºç®€å•ï¼Œæ‰€ä»¥æš´åŠ›æ³•å°±è§£å‡ºæ¥äº†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ¬æ¥æ˜¯ä¸€é“å›æº¯çš„é¢˜ï¼Œç»“æœæµ‹è¯•ç”¨ä¾‹è¿‡äºç®€å•ï¼Œæ‰€ä»¥æš´åŠ›æ³•å°±è§£å‡ºæ¥äº†ã€‚åŸé¢˜\"></a>æœ¬æ¥æ˜¯ä¸€é“å›æº¯çš„é¢˜ï¼Œç»“æœæµ‹è¯•ç”¨ä¾‹è¿‡äºç®€å•ï¼Œæ‰€ä»¥æš´åŠ›æ³•å°±è§£å‡ºæ¥äº†ã€‚<a href=\"https://leetcode.com/problems/letter-tile-possibilities/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;AAB&quot;</span><br><span class=\"line\">Output: 8</span><br><span class=\"line\">Explanation: The possible sequences are &quot;A&quot;, &quot;B&quot;, &quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;AAB&quot;, &quot;ABA&quot;, &quot;BAA&quot;.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTilePossibilities</span><span class=\"params\">(self, tiles: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> permutations</span><br><span class=\"line\">    n = len(tiles)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(len(set(permutations(tiles, i))) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1415-The-k-th-Lexicographical-String-of-All-Happy-Strings-of-Length-n\"><a href=\"#1415-The-k-th-Lexicographical-String-of-All-Happy-Strings-of-Length-n\" class=\"headerlink\" title=\"1415. The k-th Lexicographical String of All Happy Strings of Length n\"></a>1415. The k-th Lexicographical String of All Happy Strings of Length n</h3><h4 id=\"åˆ—å‡ºç¬¬kä¸ªå¿«ä¹å­—ç¬¦ä¸²ï¼ˆa-b-cï¼‰ç»„æˆå¹¶æ²¡æœ‰è¿ç»­ç›¸åŒçš„å­—æ¯ã€‚åŸé¢˜\"><a href=\"#åˆ—å‡ºç¬¬kä¸ªå¿«ä¹å­—ç¬¦ä¸²ï¼ˆa-b-cï¼‰ç»„æˆå¹¶æ²¡æœ‰è¿ç»­ç›¸åŒçš„å­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ—å‡ºç¬¬kä¸ªå¿«ä¹å­—ç¬¦ä¸²ï¼ˆa,b,cï¼‰ç»„æˆå¹¶æ²¡æœ‰è¿ç»­ç›¸åŒçš„å­—æ¯ã€‚åŸé¢˜\"></a>åˆ—å‡ºç¬¬kä¸ªå¿«ä¹å­—ç¬¦ä¸²ï¼ˆa,b,cï¼‰ç»„æˆå¹¶æ²¡æœ‰è¿ç»­ç›¸åŒçš„å­—æ¯ã€‚<a href=\"https://leetcode.com/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ã€‚åˆ—å‡ºæ‰€æœ‰çš„å€¼ï¼Œæ’åºç´¢å¼•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getHappyString</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    combine = []</span><br><span class=\"line\">    s = <span class=\"string\">'abc'</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(cur, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>:</span><br><span class=\"line\">            combine.append(cur)</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (cur <span class=\"keyword\">and</span> cur[<span class=\"number\">-1</span>]==c):</span><br><span class=\"line\">                backtrack(cur+c, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    backtrack(<span class=\"string\">''</span>, n)</span><br><span class=\"line\">    combine.sort()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> combine[k<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> k &lt;= len(combine) <span class=\"keyword\">else</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¼€å§‹æƒ³çš„å°±æ˜¯è¿™ç§æ–¹æ³•ï¼Œåæ¥æƒ³åäº†ï¼Œæƒ³ç”¨æ•°å­¦çš„æ–¹å¼ç›´æ¥æ±‚ç›®æ ‡å­—ç¬¦ä¸²ï¼Œæœ€åæ²¡æœ‰å†™å‡ºæ¥ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getHappyString</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    nxt = &#123;<span class=\"string\">'a'</span>: <span class=\"string\">'bc'</span>, <span class=\"string\">'b'</span>: <span class=\"string\">'ac'</span>, <span class=\"string\">'c'</span>: <span class=\"string\">'ab'</span>&#125; </span><br><span class=\"line\">    q = collections.deque([<span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'c'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(q[<span class=\"number\">0</span>]) != n:</span><br><span class=\"line\">        u = q.popleft()    </span><br><span class=\"line\">        <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> nxt[u[<span class=\"number\">-1</span>]]:</span><br><span class=\"line\">            q.append(u + v)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> q[k - <span class=\"number\">1</span>] <span class=\"keyword\">if</span> len(q) &gt;= k <span class=\"keyword\">else</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1255-Maximum-Score-Words-Formed-by-Letters\"><a href=\"#1255-Maximum-Score-Words-Formed-by-Letters\" class=\"headerlink\" title=\"1255. Maximum Score Words Formed by Letters\"></a>1255. Maximum Score Words Formed by Letters</h3><h4 id=\"ç»™å®šä¸€äº›å•è¯ï¼Œæ¯ä¸ªå­—æ¯æœ‰å¾—åˆ†ï¼Œä¸è¿‡æ¯ä¸ªå­—æ¯ç”¨å¤šå°‘æ˜¯æœ‰é™åˆ¶çš„ã€‚é—®æœ€å¤§å¾—åˆ†æ˜¯å¤šå°‘ï¼Œä¸€ä¸ªå…¸å‹çš„èƒŒåŒ…é—®é¢˜ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€äº›å•è¯ï¼Œæ¯ä¸ªå­—æ¯æœ‰å¾—åˆ†ï¼Œä¸è¿‡æ¯ä¸ªå­—æ¯ç”¨å¤šå°‘æ˜¯æœ‰é™åˆ¶çš„ã€‚é—®æœ€å¤§å¾—åˆ†æ˜¯å¤šå°‘ï¼Œä¸€ä¸ªå…¸å‹çš„èƒŒåŒ…é—®é¢˜ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€äº›å•è¯ï¼Œæ¯ä¸ªå­—æ¯æœ‰å¾—åˆ†ï¼Œä¸è¿‡æ¯ä¸ªå­—æ¯ç”¨å¤šå°‘æ˜¯æœ‰é™åˆ¶çš„ã€‚é—®æœ€å¤§å¾—åˆ†æ˜¯å¤šå°‘ï¼Œä¸€ä¸ªå…¸å‹çš„èƒŒåŒ…é—®é¢˜ã€‚åŸé¢˜\"></a>ç»™å®šä¸€äº›å•è¯ï¼Œæ¯ä¸ªå­—æ¯æœ‰å¾—åˆ†ï¼Œä¸è¿‡æ¯ä¸ªå­—æ¯ç”¨å¤šå°‘æ˜¯æœ‰é™åˆ¶çš„ã€‚é—®æœ€å¤§å¾—åˆ†æ˜¯å¤šå°‘ï¼Œä¸€ä¸ªå…¸å‹çš„èƒŒåŒ…é—®é¢˜ã€‚<a href=\"https://leetcode.com/problems/maximum-score-words-formed-by-letters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: words &#x3D; [&quot;dog&quot;,&quot;cat&quot;,&quot;dad&quot;,&quot;good&quot;], letters &#x3D; [&quot;a&quot;,&quot;a&quot;,&quot;c&quot;,&quot;d&quot;,&quot;d&quot;,&quot;d&quot;,&quot;g&quot;,&quot;o&quot;,&quot;o&quot;], score &#x3D; [1,0,9,5,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0]</span><br><span class=\"line\">Output: 23</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Score  a&#x3D;1, c&#x3D;9, d&#x3D;5, g&#x3D;3, o&#x3D;2</span><br><span class=\"line\">Given letters, we can form the words &quot;dad&quot; (5+1+5) and &quot;good&quot; (3+2+2+5) with a score of 23.</span><br><span class=\"line\">Words &quot;dad&quot; and &quot;dog&quot; only get a score of 21.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯ã€‚ç´¯åŠ å•è¯çš„åˆ†æ•°å¯ä»¥æå‰é€€å‡ºé€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxScoreWords</span><span class=\"params\">(self, words: List[str], letters: List[str], score: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans, n = <span class=\"number\">0</span>, len(words)</span><br><span class=\"line\">    wc = [Counter(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words]</span><br><span class=\"line\">    ws = [sum(v*score[ord(k)-ord(<span class=\"string\">'a'</span>)] <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> wc[i].items()) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, s, left)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> s + sum(ws[i:]) &lt;= self.ans:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        self.ans = max(self.ans, s)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, wcnt <span class=\"keyword\">in</span> enumerate(wc[i:], i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> all(n &lt;= left.get(c, <span class=\"number\">0</span>) <span class=\"keyword\">for</span> c, n <span class=\"keyword\">in</span> wcnt.items()):</span><br><span class=\"line\">                dfs(j+<span class=\"number\">1</span>, s+ws[j], left-wcnt)</span><br><span class=\"line\">                </span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>, <span class=\"number\">0</span>, Counter(letters))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿™ä¸ªå’Œæˆ‘ä¸€å¼€å§‹æƒ³çš„æ–¹æ³•å¾ˆåƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxScoreWords</span><span class=\"params\">(self, words: List[str], letters: List[str], score: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, left)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == len(words):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        wc = Counter(words[i])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> all(n&lt;=left[c] <span class=\"keyword\">for</span> c, n <span class=\"keyword\">in</span> wc.items()):</span><br><span class=\"line\">            cur_score = sum(v*score[ord(k)-ord(<span class=\"string\">'a'</span>)] <span class=\"keyword\">for</span> k, v <span class=\"keyword\">in</span> wc.items())</span><br><span class=\"line\">            ans = max(cur_score + backtrack(i+<span class=\"number\">1</span>, left-wc), backtrack(i+<span class=\"number\">1</span>, left))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = backtrack(i+<span class=\"number\">1</span>, left)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    <span class=\"keyword\">return</span> backtrack(<span class=\"number\">0</span>, Counter(letters))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1239-Maximum-Length-of-a-Concatenated-String-with-Unique-Characters\"><a href=\"#1239-Maximum-Length-of-a-Concatenated-String-with-Unique-Characters\" class=\"headerlink\" title=\"1239. Maximum Length of a Concatenated String with Unique Characters\"></a>1239. Maximum Length of a Concatenated String with Unique Characters</h3><h4 id=\"æœ€é•¿çš„ä¸é‡å¤çš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\"><a href=\"#æœ€é•¿çš„ä¸é‡å¤çš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿çš„ä¸é‡å¤çš„å­—ç¬¦ä¸²ç»„åˆã€‚åŸé¢˜\"></a>æœ€é•¿çš„ä¸é‡å¤çš„å­—ç¬¦ä¸²ç»„åˆã€‚<a href=\"https://leetcode.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [&quot;un&quot;,&quot;iq&quot;,&quot;ue&quot;]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: All possible concatenations are &quot;&quot;,&quot;un&quot;,&quot;iq&quot;,&quot;ue&quot;,&quot;uniq&quot; and &quot;ique&quot;.</span><br><span class=\"line\">Maximum length is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxLength</span><span class=\"params\">(self, arr: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, seen)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == len(arr):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> set(arr[i]) &amp; seen <span class=\"keyword\">or</span> len(set(arr[i]))!=len(arr[i]):</span><br><span class=\"line\">            ans = dfs(i+<span class=\"number\">1</span>, seen)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = max(len(arr[i]) + dfs(i+<span class=\"number\">1</span>, seen|set(arr[i])), dfs(i+<span class=\"number\">1</span>, seen))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"number\">0</span>, set())</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLee215çš„è§£æ³•ã€‚appendçš„æ–¹å¼ï¼Œä¼šå°†æ¯æ­¥ç´¯åŠ çš„è¿½åŠ çš„ansä¸­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxLength</span><span class=\"params\">(self, arr: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = [set()]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> arr:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(set(a)) != len(a):<span class=\"keyword\">continue</span></span><br><span class=\"line\">        a = set(a)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> ans[:]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a &amp; c: <span class=\"keyword\">continue</span></span><br><span class=\"line\">            ans.append(a | c)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(len(a) <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> ans)</span><br></pre></td></tr></table></figure>\n<h3 id=\"51-N-Queens\"><a href=\"#51-N-Queens\" class=\"headerlink\" title=\"51. N-Queens\"></a>51. N-Queens</h3><h4 id=\"è‘—åçš„Nçš‡åé—®é¢˜ï¼Œå°†Nä¸ªçš‡åæ‘†åœ¨N-Nçš„æ£‹ç›˜ä¸­ï¼Œç›´çº¿ï¼Œæ–œçº¿ä¸èƒ½åŒæ—¶å­˜åœ¨2ä¸ªçš‡åã€‚é—®æ‰€æœ‰çš„æ‘†æ”¾ä½ç½®ã€‚åŸé¢˜\"><a href=\"#è‘—åçš„Nçš‡åé—®é¢˜ï¼Œå°†Nä¸ªçš‡åæ‘†åœ¨N-Nçš„æ£‹ç›˜ä¸­ï¼Œç›´çº¿ï¼Œæ–œçº¿ä¸èƒ½åŒæ—¶å­˜åœ¨2ä¸ªçš‡åã€‚é—®æ‰€æœ‰çš„æ‘†æ”¾ä½ç½®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è‘—åçš„Nçš‡åé—®é¢˜ï¼Œå°†Nä¸ªçš‡åæ‘†åœ¨N*Nçš„æ£‹ç›˜ä¸­ï¼Œç›´çº¿ï¼Œæ–œçº¿ä¸èƒ½åŒæ—¶å­˜åœ¨2ä¸ªçš‡åã€‚é—®æ‰€æœ‰çš„æ‘†æ”¾ä½ç½®ã€‚åŸé¢˜\"></a>è‘—åçš„Nçš‡åé—®é¢˜ï¼Œå°†Nä¸ªçš‡åæ‘†åœ¨N*Nçš„æ£‹ç›˜ä¸­ï¼Œç›´çº¿ï¼Œæ–œçº¿ä¸èƒ½åŒæ—¶å­˜åœ¨2ä¸ªçš‡åã€‚é—®æ‰€æœ‰çš„æ‘†æ”¾ä½ç½®ã€‚<a href=\"https://leetcode.com/problems/n-queens/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè°ƒäº†ä¸€æ¬¡å°±ACäº†ã€‚è®°å½•ç¬¬ä¸€æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveNQueens</span><span class=\"params\">(self, n: int)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    l_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    r_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    row = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">    col = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, j, k, g)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(i, j, k, g)</span></span><br><span class=\"line\">        row[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">        col[j] = <span class=\"literal\">True</span></span><br><span class=\"line\">        l_dig[i+j] = <span class=\"literal\">True</span></span><br><span class=\"line\">        r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        g[i][j] = <span class=\"string\">'Q'</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            ans.append([<span class=\"string\">''</span>.join(row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> row[x]:</span><br><span class=\"line\">                <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> col[y]:</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l_dig[x+y] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> r_dig[y-x+n<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                            backtrack(x, y, k<span class=\"number\">-1</span>, g)</span><br><span class=\"line\">        row[i] = <span class=\"literal\">False</span></span><br><span class=\"line\">        col[j] = <span class=\"literal\">False</span></span><br><span class=\"line\">        l_dig[i+j] = <span class=\"literal\">False</span></span><br><span class=\"line\">        r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">False</span></span><br><span class=\"line\">        g[i][j] = <span class=\"string\">'.'</span></span><br><span class=\"line\">                        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        g = [[<span class=\"string\">'.'</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">        backtrack(<span class=\"number\">0</span>, j, n, g)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrowæ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºéå†è¡Œæ˜¯ä¸ä¼šæœ‰é‡å¤çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveNQueens</span><span class=\"params\">(self, n: int)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    l_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    r_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    col = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, j, k, g)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(i, j, k, g)</span></span><br><span class=\"line\">        col[j] = l_dig[i+j] = r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        g[i][j] = <span class=\"string\">'Q'</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> k<span class=\"number\">-1</span>:</span><br><span class=\"line\">            ans.append([<span class=\"string\">''</span>.join(row) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> col[y]:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l_dig[x+y] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> r_dig[y-x+n<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                        backtrack(x, y, k<span class=\"number\">-1</span>, g)</span><br><span class=\"line\">        col[j] = l_dig[i+j] = r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">False</span></span><br><span class=\"line\">        g[i][j] = <span class=\"string\">'.'</span></span><br><span class=\"line\">                        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        g = [[<span class=\"string\">'.'</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">        backtrack(<span class=\"number\">0</span>, j, n, g)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸Šè¿°ä¸¤ç§æ–¹æ³•ï¼Œç”¨æ—¶800msï¼Œæ­¤æ–¹æ³•52msï¼Œç›´æ¥ä»¥è¡Œä¸ºå•ä½è¿›è¡Œå›æº¯ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveNQueens</span><span class=\"params\">(self, n: int)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    l_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    r_dig = [<span class=\"literal\">False</span>] * (n*<span class=\"number\">2</span><span class=\"number\">-1</span>)</span><br><span class=\"line\">    col = [<span class=\"literal\">False</span>] * n</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(i, g)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(i, j, k, g)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == n:</span><br><span class=\"line\">            ans.append(list(g))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> col[j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> l_dig[i+j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> r_dig[j-i+n<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                row = <span class=\"string\">'.'</span>*j + <span class=\"string\">'Q'</span> + <span class=\"string\">'.'</span>*(n-j<span class=\"number\">-1</span>)</span><br><span class=\"line\">                g.append(row)</span><br><span class=\"line\">                col[j] = l_dig[i+j] = r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">                backtrack(i+<span class=\"number\">1</span>, g)</span><br><span class=\"line\">                col[j] = l_dig[i+j] = r_dig[j-i+n<span class=\"number\">-1</span>] = <span class=\"literal\">False</span></span><br><span class=\"line\">                g.pop()</span><br><span class=\"line\">                        </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(<span class=\"number\">0</span>, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"52-N-Queens-II\"><a href=\"#52-N-Queens-II\" class=\"headerlink\" title=\"52. N-Queens II\"></a>52. N-Queens II</h3><h4 id=\"å’Œä¸Šè¾¹ä¸€æ ·çš„Nçš‡åé—®é¢˜ï¼Œè¦æ±‚æœ€åæœ‰å¤šå°‘ç§ã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šè¾¹ä¸€æ ·çš„Nçš‡åé—®é¢˜ï¼Œè¦æ±‚æœ€åæœ‰å¤šå°‘ç§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šè¾¹ä¸€æ ·çš„Nçš‡åé—®é¢˜ï¼Œè¦æ±‚æœ€åæœ‰å¤šå°‘ç§ã€‚åŸé¢˜\"></a>å’Œä¸Šè¾¹ä¸€æ ·çš„Nçš‡åé—®é¢˜ï¼Œè¦æ±‚æœ€åæœ‰å¤šå°‘ç§ã€‚<a href=\"https://leetcode.com/problems/n-queens-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¸å†éœ€è¦ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æ£‹ç›˜äº†ï¼Œåªéœ€è¦è®¡æ•°å°±è¡Œã€‚ç„¶åé€šè¿‡ä¸€ä¸ªæ•°ç»„æ ‡è®°æ¯è¡Œçš„æ£‹å­çš„çºµåæ ‡ã€‚è€Œä¸”æ— éœ€é‡ç½®ï¼Œå› ä¸ºå€¼ä¼šè¦†ç›–ä¹‹å‰çš„ã€‚æœ¬è´¨ä¸Šè¿˜æ˜¯å›æº¯æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">totalNQueens</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    rows = [<span class=\"number\">-1</span>] * n</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">valid</span><span class=\"params\">(k)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> rows[i]==rows[k] <span class=\"keyword\">or</span> abs(rows[k]-rows[i]) == k-i:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == n: </span><br><span class=\"line\">            <span class=\"keyword\">nonlocal</span> ans</span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            rows[i] = j</span><br><span class=\"line\">            <span class=\"keyword\">if</span> valid(i):</span><br><span class=\"line\">                dfs(i+<span class=\"number\">1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä½è¿ç®—ï¼Œç©ºé—´ä¸ŠèŠ‚çœäº†ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œè™½ç„¶æ•°ç»„é•¿åº¦ä¸ä¼šå¾ˆé•¿ã€‚æ—¶é—´ä¸Šå¿«äº†ä¸€å€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">totalNQueens</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, row=<span class=\"number\">0</span>, col=<span class=\"number\">0</span>, ld=<span class=\"number\">0</span>, rd=<span class=\"number\">0</span>, bits=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> row &gt;= n: </span><br><span class=\"line\">            <span class=\"keyword\">nonlocal</span> count</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\"># col, ld, rd ä¸­1è¡¨ç¤ºä¸èƒ½æ”¾ç½®ï¼Œ0è¡¨ç¤ºå¯ä»¥æ”¾ç½®</span></span><br><span class=\"line\">        bits = (~(col | ld | rd)) &amp; ((<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"comment\"># bits è¡¨ç¤ºå‰©ä½™çš„çš‡åçš„åˆ—ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´æŸä½ä¸º1ï¼Œè¡¨ç¤ºè¿™ä¸€åˆ—çš„çš‡åè¿˜æ²¡æœ‰æ”¾</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> bits:   </span><br><span class=\"line\">            p = bits &amp; -bits   <span class=\"comment\"># ä¿ç•™æœ€åä¸€ä½1ï¼Œå…¶ä½™ç½®ä¸º0</span></span><br><span class=\"line\">            bits = bits &amp; (bits - <span class=\"number\">1</span>)  <span class=\"comment\"># å»æ‰æœ€åä¸€ä½1</span></span><br><span class=\"line\">            dfs(n, row+<span class=\"number\">1</span>, col|p, (ld|p) &lt;&lt; <span class=\"number\">1</span>, (rd|p) &gt;&gt; <span class=\"number\">1</span>, bits)</span><br><span class=\"line\"></span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    dfs(n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<h3 id=\"37-Sudoku-Solver\"><a href=\"#37-Sudoku-Solver\" class=\"headerlink\" title=\"37. Sudoku Solver\"></a>37. Sudoku Solver</h3><h4 id=\"è§£9-9çš„æ•°ç‹¬ã€‚åŸé¢˜\"><a href=\"#è§£9-9çš„æ•°ç‹¬ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è§£9*9çš„æ•°ç‹¬ã€‚åŸé¢˜\"></a>è§£9*9çš„æ•°ç‹¬ã€‚<a href=\"https://leetcode.com/problems/sudoku-solver/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ï¼Œå—¨å‘€ï¼Œé€’å½’è°ƒç”¨æ—¶å¿˜è®°å†™return Trueäº†ï¼Œè°ƒäº†åŠå¤©ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveSudoku</span><span class=\"params\">(self, g: List[List[str]])</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">    Do not return anything, modify board in-place instead.</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    row = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]        </span><br><span class=\"line\">    col = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]</span><br><span class=\"line\">    sub = [[<span class=\"literal\">True</span>]*<span class=\"number\">9</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>)]</span><br><span class=\"line\">    to_add = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] != <span class=\"string\">'.'</span>:</span><br><span class=\"line\">                d = int(g[i][j]) - <span class=\"number\">1</span></span><br><span class=\"line\">                row[i][d] = col[j][d] = sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d] = <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                to_add.append((i, j))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> to_add: </span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        i, j = to_add.pop()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> row[i][d] <span class=\"keyword\">and</span> col[j][d] <span class=\"keyword\">and</span> sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d]:</span><br><span class=\"line\">                g[i][j] = str(d+<span class=\"number\">1</span>)</span><br><span class=\"line\">                row[i][d] = col[j][d] = sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d] = <span class=\"literal\">False</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> backtrack():</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">                g[i][j] = <span class=\"string\">'.'</span></span><br><span class=\"line\">                row[i][d] = col[j][d] = sub[i//<span class=\"number\">3</span>*<span class=\"number\">3</span>+j//<span class=\"number\">3</span>][d] = <span class=\"literal\">True</span></span><br><span class=\"line\">        to_add.append((i, j))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    backtrack()</span><br></pre></td></tr></table></figure>\n<h3 id=\"980-Unique-Paths-III\"><a href=\"#980-Unique-Paths-III\" class=\"headerlink\" title=\"980. Unique Paths III\"></a><a href=\"https://leetcode.com/problems/unique-paths-iii/\" target=\"_blank\" rel=\"noopener\">980. Unique Paths III</a></h3><h4 id=\"äºŒç»´æ•°ç»„ä¸­æœ‰0ï¼Œ1ï¼Œ2ï¼Œ-1å››ç§æ ¼å­ï¼Œè¦æ±‚ä»1å¼€å§‹èµ°åˆ°2ï¼Œç»è¿‡æ‰€æœ‰çš„0ï¼Œä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•ã€‚\"><a href=\"#äºŒç»´æ•°ç»„ä¸­æœ‰0ï¼Œ1ï¼Œ2ï¼Œ-1å››ç§æ ¼å­ï¼Œè¦æ±‚ä»1å¼€å§‹èµ°åˆ°2ï¼Œç»è¿‡æ‰€æœ‰çš„0ï¼Œä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•ã€‚\" class=\"headerlink\" title=\"äºŒç»´æ•°ç»„ä¸­æœ‰0ï¼Œ1ï¼Œ2ï¼Œ-1å››ç§æ ¼å­ï¼Œè¦æ±‚ä»1å¼€å§‹èµ°åˆ°2ï¼Œç»è¿‡æ‰€æœ‰çš„0ï¼Œä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•ã€‚\"></a>äºŒç»´æ•°ç»„ä¸­æœ‰0ï¼Œ1ï¼Œ2ï¼Œ-1å››ç§æ ¼å­ï¼Œè¦æ±‚ä»1å¼€å§‹èµ°åˆ°2ï¼Œç»è¿‡æ‰€æœ‰çš„0ï¼Œä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ï¼Œæ€è·¯å¾ˆæ¸…æ™°ï¼Œå¾ˆå¿«å°±å†™å‡ºæ¥äº†ï¼Œæ–¹å‘å˜é‡å†™é”™äº†è°ƒäº†åŠå¤©ã€‚åªéœ€è¦å…³æ³¨0çš„ä¸ªæ•°å°±è¡Œã€‚æœ‰ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå› ä¸º1å’Œ2åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å¯ä»¥å…ˆéå†ä¸€æ¬¡æ‰¾å‡º0ä¸ªä¸ªæ•°å’Œ1çš„ä½ç½®ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniquePathsIII</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    M, N = len(g) , len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    f = sum(g, [])</span><br><span class=\"line\">    zero = f.count(<span class=\"number\">0</span>)</span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bf</span><span class=\"params\">(i, j, n)</span>:</span></span><br><span class=\"line\">        ori = g[i][j]    </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ori == <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n==zero+<span class=\"number\">2</span>:</span><br><span class=\"line\">                self.ans += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        g[i][j] = <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;M <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;N <span class=\"keyword\">and</span> g[x][y] <span class=\"keyword\">in</span> (<span class=\"number\">0</span>, <span class=\"number\">2</span>):</span><br><span class=\"line\">                bf(x, y, n+<span class=\"number\">1</span>)</span><br><span class=\"line\">        g[i][j] = ori</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">                bf(i, j, <span class=\"number\">1</span>)</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"491-Increasing-Subsequences\"><a href=\"#491-Increasing-Subsequences\" class=\"headerlink\" title=\"491. Increasing Subsequences\"></a><a href=\"https://leetcode.com/problems/increasing-subsequences/\" target=\"_blank\" rel=\"noopener\">491. Increasing Subsequences</a></h3><h4 id=\"æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰çš„é•¿åº¦2ä»¥ä¸Šçš„é€’å¢å­åºåˆ—ã€‚\"><a href=\"#æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰çš„é•¿åº¦2ä»¥ä¸Šçš„é€’å¢å­åºåˆ—ã€‚\" class=\"headerlink\" title=\"æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰çš„é•¿åº¦2ä»¥ä¸Šçš„é€’å¢å­åºåˆ—ã€‚\"></a>æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰çš„é•¿åº¦2ä»¥ä¸Šçš„é€’å¢å­åºåˆ—ã€‚</h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šè”ç³»äº†å‡ é“é¢˜ï¼Œæ±‚æœ€å¤§é•¿åº¦çš„æ˜¯ç”¨çš„dpï¼Œä¸é€‚åˆè¿™ä¸ªã€‚è¿™é‡Œå‘ç°å’Œsubsetsçš„ç»„åˆæœ‰ç‚¹åƒã€‚äºæ˜¯ç”¨äº†78é¢˜ä¸­çš„æ–¹æ³•äºŒã€‚å› ä¸ºæ•°ç»„æœ¬èº«æœ€å¤§ä¹Ÿå°±15é•¿åº¦ï¼Œæ‰€ä»¥æ–¹æ³•å¹¶ä¸å¾ˆè€—æ—¶ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findSubsequences</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    ans = [[]]        </span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ans += [pre+[num] <span class=\"keyword\">for</span> pre <span class=\"keyword\">in</span> ans <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pre <span class=\"keyword\">or</span> pre[<span class=\"number\">-1</span>]&lt;=num]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(&#123;tuple(a) <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> ans <span class=\"keyword\">if</span> len(a)&gt;=<span class=\"number\">2</span>&#125;)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæˆ‘æƒ³ç”¨90çš„æ–¹æ³•ç›´æ¥å»é‡ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°90é¢˜ä¾èµ–æ•°ç»„æœ‰åºæ‰èƒ½å»é‡ï¼Œæ‰€ä»¥è¿™é‡Œå¹¶ä¸é€‚ç”¨ã€‚åªèƒ½æœ€åé€šè¿‡è½¬åŒ–tupleï¼Œsetå†å»é‡ã€‚æ•ˆç‡åªæœ‰æ–¹æ³•ä¸€çš„ä¸€åŠã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findSubsequences</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, m, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> m:</span><br><span class=\"line\">            ans.append(p[:])</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, n):</span><br><span class=\"line\">            d = nums[j]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p <span class=\"keyword\">or</span> d &gt;= p[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                p.append(d)</span><br><span class=\"line\">                dfs(j+<span class=\"number\">1</span>, m<span class=\"number\">-1</span>, p)</span><br><span class=\"line\">                p.pop()</span><br><span class=\"line\">    </span><br><span class=\"line\">    n, ans = len(nums), []</span><br><span class=\"line\">    [dfs(<span class=\"number\">0</span>, i, []) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(&#123;tuple(a) <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> ans&#125;)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šStefançš„æ–¹æ³•ï¼Œæˆ‘æƒ³çš„å°±å·®äº†ä¸€æ­¥ï¼Œanså¯ä»¥ç›´æ¥ç”¨setã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findSubsequences</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    ans = &#123;()&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        ans |= &#123;pre+(num, ) <span class=\"keyword\">for</span> pre <span class=\"keyword\">in</span> ans <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pre <span class=\"keyword\">or</span> pre[<span class=\"number\">-1</span>]&lt;=num&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [a <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> ans <span class=\"keyword\">if</span> len(a)&gt;=<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-08-09-æ‹¬å·\"><a href=\"#é¢è¯•é¢˜-08-09-æ‹¬å·\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 08.09. æ‹¬å·\"></a><a href=\"https://leetcode-cn.com/problems/bracket-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 08.09. æ‹¬å·</a></h3><h4 id=\"æ±‚nå¯¹æ‹¬å·çš„åˆæ³•ç»„åˆã€‚\"><a href=\"#æ±‚nå¯¹æ‹¬å·çš„åˆæ³•ç»„åˆã€‚\" class=\"headerlink\" title=\"æ±‚nå¯¹æ‹¬å·çš„åˆæ³•ç»„åˆã€‚\"></a>æ±‚nå¯¹æ‹¬å·çš„åˆæ³•ç»„åˆã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå›æº¯ï¼Œæˆ‘çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateParenthesis</span><span class=\"params\">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(l, r, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> l <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> r: </span><br><span class=\"line\">            ans.append(<span class=\"string\">''</span>.join(p))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> l:</span><br><span class=\"line\">            p.append(<span class=\"string\">'('</span>)</span><br><span class=\"line\">            backtrack(l<span class=\"number\">-1</span>, r, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> r <span class=\"keyword\">and</span> r&gt;l:</span><br><span class=\"line\">            p.append(<span class=\"string\">')'</span>)</span><br><span class=\"line\">            backtrack(l, r<span class=\"number\">-1</span>, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(n, n, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå¤§ç¥çš„æ–¹æ³•ï¼Œå­¦ä¹ äº†ï¼Œä½¿ç”¨andä»£æ›¿ifã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateParenthesis</span><span class=\"params\">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(l, r, s)</span>:</span></span><br><span class=\"line\">        l == r == n <span class=\"keyword\">and</span> ans.append(s)</span><br><span class=\"line\">        l &lt; n <span class=\"keyword\">and</span> f(l + <span class=\"number\">1</span>, r, s + <span class=\"string\">'('</span>)</span><br><span class=\"line\">        r &lt; l <span class=\"keyword\">and</span> f(l, r + <span class=\"number\">1</span>, s + <span class=\"string\">')'</span>)</span><br><span class=\"line\">    f(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">''</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1655-Distribute-Repeating-Integers\"><a href=\"#1655-Distribute-Repeating-Integers\" class=\"headerlink\" title=\"1655. Distribute Repeating Integers\"></a><a href=\"https://leetcode.com/problems/distribute-repeating-integers/\" target=\"_blank\" rel=\"noopener\">1655. Distribute Repeating Integers</a></h3><h4 id=\"åˆ†é…é‡å¤çš„æ•°å­—ï¼Œæ ¹æ®quantityä¸­æ¯ä¸ªé¡¾å®¢çš„éœ€æ±‚ï¼Œç»™æ¯ä¸ªäººåˆ†é…quantity-i-ä¸ªç›¸åŒçš„å…ƒç´ ã€‚\"><a href=\"#åˆ†é…é‡å¤çš„æ•°å­—ï¼Œæ ¹æ®quantityä¸­æ¯ä¸ªé¡¾å®¢çš„éœ€æ±‚ï¼Œç»™æ¯ä¸ªäººåˆ†é…quantity-i-ä¸ªç›¸åŒçš„å…ƒç´ ã€‚\" class=\"headerlink\" title=\"åˆ†é…é‡å¤çš„æ•°å­—ï¼Œæ ¹æ®quantityä¸­æ¯ä¸ªé¡¾å®¢çš„éœ€æ±‚ï¼Œç»™æ¯ä¸ªäººåˆ†é…quantity[i]ä¸ªç›¸åŒçš„å…ƒç´ ã€‚\"></a>åˆ†é…é‡å¤çš„æ•°å­—ï¼Œæ ¹æ®<code>quantity</code>ä¸­æ¯ä¸ªé¡¾å®¢çš„éœ€æ±‚ï¼Œç»™æ¯ä¸ªäººåˆ†é…<code>quantity[i]</code>ä¸ªç›¸åŒçš„å…ƒç´ ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,2,3,4], quantity &#x3D; [2]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: The 0th customer cannot be given two different integers.</span><br><span class=\"line\">Input: nums &#x3D; [1,1,1,1,1], quantity &#x3D; [2,3]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: The 0th customer is given [1,1], and the 1st customer is given [1,1,1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›å›æº¯æ³•ã€‚ä½œä¸ºç«èµ›çš„4é¢˜æ²¡æœ‰åšä¸Šæ¥ã€‚æ¯”èµ›çš„æ—¶å€™æƒ³ç”¨ä¸€ç§è´ªå¿ƒçš„æ–¹å¼æ¥åšï¼Œè¿™æ ·åšæ˜¯ä¸å¯¹çš„ã€‚è¿™æ˜¯Lee215ç«èµ›æ—¶çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canDistribute</span><span class=\"params\">(self, nums: List[int], quantity: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    cnts = sorted(Counter(nums).values())</span><br><span class=\"line\">    fail = &#123;&#125;</span><br><span class=\"line\">    N = len(quantity)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(state, i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == N:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        t = tuple(state)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> t <span class=\"keyword\">in</span> fail:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        x = quantity[i]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, v <span class=\"keyword\">in</span> enumerate(state):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j&gt;<span class=\"number\">0</span> <span class=\"keyword\">and</span> state[j<span class=\"number\">-1</span>]==v:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> v &lt; x:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            state[j] -= x</span><br><span class=\"line\">            <span class=\"keyword\">if</span> backtrack(sorted(state), i+<span class=\"number\">1</span>):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            state[j] += x</span><br><span class=\"line\">        fail[t] = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> backtrack(cnts, <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","BackTracking"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ­£åˆ™ç¯‡ï¼‰regex","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%AD%A3%E5%88%99%E7%AF%87%EF%BC%89regex/","content":"<h3 id=\"193-Valid-Phone-Numbers\"><a href=\"#193-Valid-Phone-Numbers\" class=\"headerlink\" title=\"193. Valid Phone Numbers\"></a>193. Valid Phone Numbers</h3><h4 id=\"ä½¿ç”¨bashå‘½ä»¤åœ¨ä¸€è¡Œä¸­æå–ä¸€ä¸ªæ–‡æœ¬ä¸­çš„æ‰‹æœºå·ã€‚åŸé¢˜\"><a href=\"#ä½¿ç”¨bashå‘½ä»¤åœ¨ä¸€è¡Œä¸­æå–ä¸€ä¸ªæ–‡æœ¬ä¸­çš„æ‰‹æœºå·ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨bashå‘½ä»¤åœ¨ä¸€è¡Œä¸­æå–ä¸€ä¸ªæ–‡æœ¬ä¸­çš„æ‰‹æœºå·ã€‚åŸé¢˜\"></a>ä½¿ç”¨<code>bash</code>å‘½ä»¤åœ¨ä¸€è¡Œä¸­æå–ä¸€ä¸ªæ–‡æœ¬ä¸­çš„æ‰‹æœºå·ã€‚<a href=\"https://leetcode.com/problems/valid-phone-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">(xxx) xxx-xxxx or xxx-xxx-xxxx. (x means a digit).</span><br><span class=\"line\">Assume that file.txt has the following content:</span><br><span class=\"line\"></span><br><span class=\"line\">987-123-4567</span><br><span class=\"line\">123 456 7890</span><br><span class=\"line\">(123) 456-7890</span><br><span class=\"line\">Your script should output the following valid phone numbers:</span><br><span class=\"line\"></span><br><span class=\"line\">987-123-4567</span><br><span class=\"line\">(123) 456-7890</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">'/^([0-9]&#123;3&#125;-|\\([0-9]&#123;3&#125;\\) )[0-9]&#123;3&#125;-[0-9]&#123;4&#125;$/'</span> telephone.txt</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Regex"]},{"title":"Python å¹¶è¡Œèµ‹å€¼","url":"/Python-%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F%E5%90%8C%E6%97%B6%E8%B5%8B%E5%80%BC/","content":"<h3 id=\"ç»å¸¸å¯ä»¥åœ¨Pythonçœ‹åˆ°è¿™æ ·çš„èµ‹å€¼è¯­å¥\"><a href=\"#ç»å¸¸å¯ä»¥åœ¨Pythonçœ‹åˆ°è¿™æ ·çš„èµ‹å€¼è¯­å¥\" class=\"headerlink\" title=\"ç»å¸¸å¯ä»¥åœ¨Pythonçœ‹åˆ°è¿™æ ·çš„èµ‹å€¼è¯­å¥\"></a>ç»å¸¸å¯ä»¥åœ¨Pythonçœ‹åˆ°è¿™æ ·çš„èµ‹å€¼è¯­å¥</h3><a id=\"more\"></a>\n<p><code>a, b, c = 1, 2, 3</code>ï¼Œå…¶æ‰§è¡Œé¡ºåºå…ˆæ‰§è¡Œ=å³è¾¹çš„è¡¨è¾¾å¼ï¼Œå†ä¾æ¬¡å°†å€¼èµ‹ç»™å·¦è¾¹ï¼ŒPythonè§£é‡Šå™¨ä¼šå°†å…¶ç»„æˆä¸ºä¸€ä¸ªtupleï¼Œèµ‹å€¼çš„æ—¶å€™å†unpackã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a, b = <span class=\"number\">2</span>, <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a, b, a = <span class=\"number\">1</span>, a, <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>a, b</span><br><span class=\"line\">(<span class=\"number\">4</span>, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æ˜¯å…ˆæŠŠç®—å‡ºå³è¾¹çš„å€¼<code>(1, 2, 4)</code>å†å°†å…¶èµ‹å€¼ç»™å·¦è¾¹ï¼Œæœ€åaçš„å€¼è¢«ä¿®æ”¹æˆäº†4ã€‚</p>\n<p>å¦‚æœæ˜¯å¯å˜çš„å¯¹è±¡æ€ä¹ˆåŠï¼ŒLeetCodeæœ‰ä¸€é“ç»å…¸çš„é¢˜ï¼Œå«åè½¬ä¸€ä¸ªé“¾è¡¨ã€‚è¦æ±‚å°†<code>1-&gt;2-3-&gt;None</code>çš„é“¾è¡¨åè½¬æˆ<code>3-&gt;2-&gt;1-&gt;None</code>ã€‚<br>æœ‰ä¸€ä¸ªè¿­ä»£çš„å†™æ³•æ˜¯è¿™æ ·çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(head)</span>:</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        cur = head</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">        cur.next = prev</span><br><span class=\"line\">        prev = cur</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev</span><br></pre></td></tr></table></figure>\n<p>å®ƒçš„ç®€åŒ–å†™æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverseList</span><span class=\"params\">(self, head)</span>:</span></span><br><span class=\"line\">    prev = <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        head.next, prev, head = prev, head, head.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev</span><br></pre></td></tr></table></figure>\n<p>å…·ä½“çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚å…ˆæ‰§è¡Œ=å³è¾¹è¡¨è¾¾å¼<code>(None, head, head.next)</code>ï¼Œç„¶åç¬¬ä¸€æ­¥æŠŠ<code>head.next=None</code>ï¼Œæ­¤æ—¶<code>head</code>å˜æˆäº†<code>1-&gt;None</code>ï¼›ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œ<code>prev=head</code>ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆ<code>head</code>çš„å€¼æ—¶<code>1-&gt;None</code>è€Œä¸æ˜¯<code>1-&gt;2-3-&gt;None</code>å‘¢ï¼Œå› ä¸ºè™½ç„¶ç­‰å¼å…ˆæ‰§è¡Œçš„å³è¾¹ï¼Œæ‹¿åˆ°äº†<code>head</code>ï¼Œä½†æ˜¯ä¸Šä¸€æ­¥çš„æ“ä½œæ˜¯å°†<code>head</code>ä¿®æ”¹äº†ï¼Œç”±äºheadæ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œprevçš„å€¼æ˜¯<code>1-&gt;None</code>ï¼Œæœ€åå†æŠŠ<code>head=head.next</code>ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆ<code>head.next</code>çš„å€¼åˆæ˜¯<code>2-&gt;3-&gt;None</code>äº†å‘¢ï¼Œå› ä¸ºï¼Œæ‰§è¡Œå³ä¾§çš„è¡¨è¾¾å¼ä¹‹åï¼Œ<code>head.next</code>è¿™ä¸ªå¯¹è±¡å†å‰ä¸¤æ­¥ä¸­æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¸€ç›´éƒ½æ˜¯<code>2-&gt;3-&gt;None</code>ï¼Œè¿™æ­£æ˜¯å’Œç¬¬äºŒæ­¥ä¸åŒçš„åœ°æ–¹ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå†™æ³•æ˜¯ç­‰åŒçš„ã€‚</p>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8725673/multiple-assignment-and-evaluation-order-in-python\" target=\"_blank\" rel=\"noopener\">Multiple assignment and evaluation order in Python\n</a> </li>\n</ul>\n","categories":["Python"]},{"title":"371. Sum of Two Integers - Python","url":"/371-Sum-of-Two-Integers-Python/","content":"<h3 id=\"ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\"><a href=\"#ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\" class=\"headerlink\" title=\"ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•\"></a>ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</h3><p>å‰‘æŒ‡Offerä¸­ä¹Ÿå‡ºç°è¿‡æ­¤é¢˜ï¼Œæ­¤ç¯‡æ–‡ç« ç€é‡åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆPythonéœ€è¦åšä¸€äº›å¤šä½™çš„æ“ä½œã€‚<br><a id=\"more\"></a></p>\n<p>æ ¹æ®ä¹¦ä¸­çš„åˆ†æï¼Œå¤§è‡´åˆ†ä¸ºä¸‰æ­¥ï¼š</p>\n<ul>\n<li>ç›¸åŠ ä½†ä¸è¿›ä½ï¼Œä½¿ç”¨<code>^</code></li>\n<li>è¿›ä½ä½¿ç”¨<code>&amp;</code>å’Œ<code>&lt;&lt;</code></li>\n<li>å‰ä¸¤æ­¥ç»“æœç›¸åŠ </li>\n</ul>\n<p>è¿™é‡Œä¸å†èµ˜è¿°è¯¦ç»†è¿‡ç¨‹ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸éš¾å†™å‡ºä»£ç ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_sum</span><span class=\"params\">(a, b)</span>:</span></span><br><span class=\"line\">    res, carry = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        res = a ^ b</span><br><span class=\"line\">        carry = (a &amp; b) &lt;&lt; <span class=\"number\">1</span></span><br><span class=\"line\">        a, b = res, carry</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>ä½†æ˜¯å½“è¾“å…¥<code>a=-1, b=1</code>æ—¶ï¼Œä¼šå‘ç°ç¨‹åºè¶…æ—¶ã€‚<br>å…ˆæ¥çœ‹çœ‹æ­£å¸¸çš„32ä½intç±»å‹è¿ç®—æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå› ä¸ºè¿›è¡Œä½è¿ç®—æ—¶è¦ä½¿ç”¨è¡¥ç è¿›è¡Œè¿ç®—ï¼Œè€Œæ­£æ•°çš„åç å’Œè¡¥ç éƒ½æ˜¯æœ¬èº«ï¼Œè´Ÿæ•°çš„åç ä¸ºé™¤ç¬¦å·ä½ï¼Œå…¶å®ƒæŒ‰ä½å–åï¼Œè´Ÿæ•°çš„è¡¥ç ä¸ºåç +1ã€‚ä¸‹é¢åˆ—å‡ºäº†32ä¸ºæ•´æ•°ä¼ å…¥<code>a=-1,b=1</code>æ—¶ï¼Œæ¯æ¬¡å¾ªç¯ä¸­<code>a</code>å’Œ<code>b</code>çš„è¡¥ç ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>açš„åŸç </th>\n<th>açš„è¡¥ç </th>\n<th>bçš„è¡¥ç </th>\n<th>a ^ b</th>\n<th>a &amp; b </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10â€¦0001</td>\n<td>11â€¦1111</td>\n<td>00â€¦0001</td>\n<td>11â€¦1110</td>\n<td>00â€¦0001</td>\n</tr>\n<tr>\n<td>10â€¦0010</td>\n<td>11â€¦1110</td>\n<td>00â€¦0010</td>\n<td>11â€¦1100</td>\n<td>00â€¦0010</td>\n</tr>\n<tr>\n<td>10â€¦0100</td>\n<td>11â€¦1100</td>\n<td>00â€¦0100</td>\n<td>11â€¦1000</td>\n<td>00â€¦0100</td>\n</tr>\n<tr>\n<td>â‹®</td>\n<td>â‹®</td>\n<td>â‹®</td>\n<td>â‹®</td>\n<td>â‹®</td>\n</tr>\n<tr>\n<td>110â€¦000</td>\n<td>110â€¦000</td>\n<td>010â€¦000</td>\n<td>100â€¦000</td>\n<td>010â€¦000</td>\n</tr>\n<tr>\n<td>100â€¦000</td>\n<td>100â€¦000</td>\n<td>100â€¦000</td>\n<td>000â€¦000</td>\n<td>100â€¦000</td>\n</tr>\n<tr>\n<td>000â€¦000</td>\n<td>000â€¦000</td>\n<td>000â€¦000</td>\n<td>â€˜breakâ€™</td>\n<td>â€˜breakâ€™</td>\n</tr>\n</tbody>\n</table>\n<p>å¯ä»¥çœ‹å‡ºç”±äºä½æ•°çš„é™åˆ¶ï¼Œbå’Œaæœ€åéƒ½å˜æˆäº†0ã€‚å› ä¸ºPythonä¸­çš„intæ²¡æœ‰èŒƒå›´é™åˆ¶ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæ­»å¾ªç¯çš„åŸå› ã€‚</p>\n<p>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦åœ¨bçš„è¡¥ç å˜æˆ<code>1000â€¦000</code>(32ä¸ª0)æ—¶ç»ˆæ­¢å¾ªç¯ï¼Œå¦‚ä½•å°†ä¸€ä¸ªä¸€ä¸ªæ— é™ä½çš„æ•´å‹è½¬æˆ32ä½å‘¢ï¼Œæƒ³åˆ°äº†<code>&amp;</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ª<code>mask=2**32-1</code>ä¹Ÿå°±æ˜¯32ä¸ª1ï¼Œç”¨ä¸€ä¸ªæ— é™ä½çš„å€¼å’Œmaskè¿›è¡Œä¸è¿ç®—ï¼Œå°±å˜æˆäº†ä¸Šè¿°è¡¨æ ¼ä¸­çš„ä¾‹å­ï¼Œäºæ˜¯æˆ‘ä»¬å°†ä»£ç æ”¹ä¸ºï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    res, carry = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    mask = <span class=\"number\">0xFFFFFFFF</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        res = (a ^ b) &amp; mask</span><br><span class=\"line\">        carry = ((a &amp; b) &lt;&lt; <span class=\"number\">1</span>) &amp; mask</span><br><span class=\"line\">        a, b = res, carry</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æäº¤ä¹‹åè¿˜æ˜¯ä¸èƒ½é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼Œå½“<code>a=-12, b=-8</code>æ—¶è¾“å‡ºäº†<code>4294967276</code>è€Œä¸æ˜¯<code>-20</code>ã€‚å¥½ï¼ŒæŠŠmaskå…ˆå»æ‰ï¼Œä¼ å…¥è¿™ä¸¤ä¸ªå€¼ï¼Œå‘ç°å¯ä»¥æ­£å¸¸è¾“å‡º<code>-20</code>ï¼Œé‚£ä¹ˆè¿™é‡Œçš„maskæ˜¯æ€ä¹ˆé€ æˆäº†ä¸€äº›å‰¯ä½œç”¨çš„ã€‚<br>å†æ¥åˆ†æä¸€ä¸‹è¿™ä¸¤ä¸ªå‚æ•°ä¸‹ï¼Œå…·ä½“çš„è¿‡ç¨‹æ˜¯æ€æ ·çš„ã€‚</p>\n<!--\naçš„åŸç |açš„è¡¥ç |bçš„åŸç |bçš„è¡¥ç |a ^ b| a & b | (a & b) << 1\n--------|--------|--------|--------|--------|-------|---------\n100â€¦1100|111â€¦0100|100â€¦1000|111â€¦1000|000â€¦1100|111â€¦10000|1â€¦100000\n000â€¦1100|000â€¦1100|100â€¦100000|11â€¦1100000|11â€¦1101100|000â€¦000|000â€¦000\n100â€¦10100|11â€¦1101100|000â€¦000|000â€¦000|'break'|'break'\n\næœ€åaçš„åŸç ä¸º`-20`ï¼Œå†æ¥çœ‹åŠ ä¸Šmaskçš„æƒ…å†µã€‚\n\naçš„åŸç |açš„è¡¥ç |bçš„åŸç |bçš„è¡¥ç |(a^b) & mask| a & b | ((a&b)<<1) & mask\n--------|--------|--------|--------|--------|-------|-------\n100â€¦1100|111â€¦0100|100â€¦1000|111â€¦1000|000â€¦1100|111â€¦10000|\n000â€¦1100|000â€¦1100|100â€¦100000|11â€¦1100000|11â€¦1101100|000â€¦000\n100â€¦10100|11â€¦1101100|000â€¦000|000â€¦000|'break'|'break'\n-->\n<p>ä¸ºäº†æ–¹ä¾¿DEBUGï¼Œæˆ‘ä»¬æ·»åŠ ä¸€äº›è¾“å‡ºï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_sum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    mask = <span class=\"number\">0xFFFFFFFF</span></span><br><span class=\"line\">    res, carry = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        print(<span class=\"string\">'bin(&#123;&#125;) = &#123;&#125;, bin(&#123;&#125;) = &#123;&#125;'</span>.format(a, bin(a), b, bin(b)))</span><br><span class=\"line\">        res = (a ^ b) &amp; mask</span><br><span class=\"line\">        <span class=\"comment\"># res = (a ^ b) </span></span><br><span class=\"line\">        print(<span class=\"string\">'\\t res = &#123;&#125;, bin(res) = &#123;&#125;'</span>.format(res, bin(res)))</span><br><span class=\"line\">        carry = ((a &amp; b) &lt;&lt; <span class=\"number\">1</span>) &amp; mask</span><br><span class=\"line\">        <span class=\"comment\"># carry = ((a &amp; b) &lt;&lt; 1)</span></span><br><span class=\"line\">        print(<span class=\"string\">'\\t \\t a&amp;b = &#123;&#125;, (a&amp;b)&lt;&lt;1 = &#123;&#125;, carry = &#123;&#125;'</span>.format((a&amp;b), ((a&amp;b)+<span class=\"number\">1</span>), carry))</span><br><span class=\"line\">        a, b = res, carry</span><br><span class=\"line\">    <span class=\"comment\"># return res if res &lt;= MAX else ~(res ^ mask)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">Finished <span class=\"keyword\">in</span> <span class=\"number\">20</span> ms</span><br><span class=\"line\">bin(<span class=\"number\">-12</span>) = <span class=\"number\">-0</span>b1100, bin(<span class=\"number\">-8</span>) = <span class=\"number\">-0</span>b1000</span><br><span class=\"line\">\t res = <span class=\"number\">12</span>, bin(res) = <span class=\"number\">0b1100</span></span><br><span class=\"line\">\t \t a&amp;b = <span class=\"number\">-16</span>, (a&amp;b)&lt;&lt;<span class=\"number\">1</span> = <span class=\"number\">-15</span>, carry = <span class=\"number\">-32</span></span><br><span class=\"line\">bin(<span class=\"number\">12</span>) = <span class=\"number\">0b1100</span>, bin(<span class=\"number\">-32</span>) = <span class=\"number\">-0</span>b100000</span><br><span class=\"line\">\t res = <span class=\"number\">-20</span>, bin(res) = <span class=\"number\">-0</span>b10100</span><br><span class=\"line\">\t \t a&amp;b = <span class=\"number\">0</span>, (a&amp;b)&lt;&lt;<span class=\"number\">1</span> = <span class=\"number\">1</span>, carry = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">-20</span></span><br><span class=\"line\">Finished <span class=\"keyword\">in</span> <span class=\"number\">24</span> ms</span><br><span class=\"line\">bin(<span class=\"number\">-12</span>) = <span class=\"number\">-0</span>b1100, bin(<span class=\"number\">-8</span>) = <span class=\"number\">-0</span>b1000</span><br><span class=\"line\">\t res = <span class=\"number\">12</span>, bin(res) = <span class=\"number\">0b1100</span></span><br><span class=\"line\">\t \t a&amp;b = <span class=\"number\">-16</span>, (a&amp;b)&lt;&lt;<span class=\"number\">1</span> = <span class=\"number\">-15</span>, carry = <span class=\"number\">4294967264</span></span><br><span class=\"line\">bin(<span class=\"number\">12</span>) = <span class=\"number\">0b1100</span>, bin(<span class=\"number\">4294967264</span>) = <span class=\"number\">0b11111111111111111111111111100000</span></span><br><span class=\"line\">\t res = <span class=\"number\">4294967276</span>, bin(res) = <span class=\"number\">0b11111111111111111111111111101100</span></span><br><span class=\"line\">\t \t a&amp;b = <span class=\"number\">0</span>, (a&amp;b)&lt;&lt;<span class=\"number\">1</span> = <span class=\"number\">1</span>, carry = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"number\">4294967276</span></span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥çœ‹åˆ°åœ¨è¿›è¡Œ<code>-15&amp;mask</code>æ—¶ï¼Œcarryå˜æˆäº†ä¸€ä¸ªå¾ˆå¤§çš„æ­£æ•°ï¼Œå¹¶ä¸¢å¤±äº†ç¬¦å·ã€‚æ­¤å¤„ä¸ºä¸ªäººçŒœæƒ³ï¼Œå½“è´Ÿæ•°ä¸<code>mask</code>è¿›è¡Œä¸è¿ç®—æ—¶ï¼Œæ¯”å¦‚-2ï¼Œæ­¤æ—¶-2çš„è¡¥ç å˜ä¸º<code>11â€¦10</code>ï¼Œä¸€ä¸ª33-bitçš„æ•°å­—ï¼Œç„¶åå’Œ32ä½çš„<code>mask</code>ä¸æ“ä½œåï¼Œå˜ä¸ºäº†ä¸€ä¸ª<code>33ä½</code>çš„æ­£æ•°ã€‚</p>\n<p>æœ‰ä¸€ä¸ªå…¬å¼å¯ä»¥å¸®æˆ‘ä»¬è¿˜åŸ<code>a</code>ï¼Œå¦‚æœä¸€ä¸ªè´Ÿæ•°<code>n</code>ï¼Œå®ƒçš„æ— ç¬¦å·çš„32ä½è¡¥ç æ˜¯<code>m</code>ï¼Œé‚£ä¹ˆ<code>m=~(n ^ mask)</code> æˆ–è€…<code>n=~(m ^ mask)</code></p>\n<p>äºæ˜¯ä»£ç ä¿®æ”¹ä¸ºï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    MASK = <span class=\"number\">0xffffffff</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># in Python, every integer is associated with its two's complement and its sign.</span></span><br><span class=\"line\">    <span class=\"comment\"># However, doing bit operation \"&amp; mask\" loses the track of sign. </span></span><br><span class=\"line\">    <span class=\"comment\"># Therefore, after the while loop, a is the two's complement of the final result as a 32-bit unsigned integer. </span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">        a, b = (a ^ b) &amp; MASK, ((a &amp; b) &lt;&lt; <span class=\"number\">1</span>) &amp; MASK</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># a is negative if the first bit is 1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a &gt;&gt; <span class=\"number\">31</span>) &amp; <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ~(a ^ MASK)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a</span><br></pre></td></tr></table></figure>\n<p>è™½ç„¶pythonè¿›è¡Œå¤§æ•°å­—è¿ç®—å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æ— é™åˆ¶ä½æ•°å¾€å¾€ä¼šå¯¹ä½è¿ç®—çš„æ“ä½œä¸­äº§ç”Ÿä¸€äº›é™·é˜±ã€‚å¦‚æœå¯ä»¥ç›´æ¥è½¬æˆJavaä¸­é‚£ç§32çš„intï¼Œå²‚ä¸æ˜¯æ²¡æœ‰è¿™ä¹ˆå¤šéº»çƒ¦äº†ï¼Œå¥½åœ¨<code>numpy</code>ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSum</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> b != <span class=\"number\">0</span>:</span><br><span class=\"line\">            a, b = np.int32(a ^ b), np.int32((a &amp; b) &lt;&lt; <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> int(a)</span><br></pre></td></tr></table></figure>\n<p>æœ€åè¦å†è½¬å›<code>int</code>ï¼Œå¦åˆ™æ˜¯æ²¡æ³•é€šè¿‡æµ‹è¯•ç”¨ä¾‹çš„ã€‚</p>\n<p>å‚è€ƒï¼š</p>\n<ul>\n<li><a href=\"https://leetcode.com/problems/sum-of-two-integers/discuss/140525/Python-3/173361\" target=\"_blank\" rel=\"noopener\">numpyå®ç°æ–¹å¼</a></li>\n<li><a href=\"https://leetcode.com/problems/sum-of-two-integers/discuss/84350/Most-Straightforward-Python-Solution!/173184\" target=\"_blank\" rel=\"noopener\">maskå®ç°æ–¹å¼</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46573219/the-meaning-of-bit-wise-not-in-python\" target=\"_blank\" rel=\"noopener\">the-meaning-of-bit-wise-not-in-python stackoverflow</a></li>\n</ul>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Bit Manipulation"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆsqlç¯‡ï¼‰sql","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88sql%E7%AF%87%EF%BC%89sql/","content":"<h3 id=\"595-Big-Countries\"><a href=\"#595-Big-Countries\" class=\"headerlink\" title=\"595. Big Countries\"></a>595. Big Countries</h3><h4 id=\"æŸ¥è¯¢â€™å¤§åŸå¸‚â€™ã€‚åŸé¢˜\"><a href=\"#æŸ¥è¯¢â€™å¤§åŸå¸‚â€™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŸ¥è¯¢â€™å¤§åŸå¸‚â€™ã€‚åŸé¢˜\"></a>æŸ¥è¯¢â€™å¤§åŸå¸‚â€™ã€‚<a href=\"https://leetcode.com/problems/big-countries/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><a id=\"more\"></a>\n<ul>\n<li><p>ä½¿ç”¨<code>where OR</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">name</span>, population, area </span><br><span class=\"line\"><span class=\"keyword\">from</span> World </span><br><span class=\"line\"><span class=\"keyword\">where</span> area &gt; <span class=\"number\">3000000</span> <span class=\"keyword\">or</span> population &gt; <span class=\"number\">25000000</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨<code>UNION</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">name</span>, population, area </span><br><span class=\"line\"><span class=\"keyword\">from</span> World </span><br><span class=\"line\"><span class=\"keyword\">where</span> area &gt; <span class=\"number\">3000000</span></span><br><span class=\"line\"><span class=\"keyword\">union</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">name</span>, population, area</span><br><span class=\"line\"><span class=\"keyword\">from</span> World</span><br><span class=\"line\"><span class=\"keyword\">where</span> population &gt; <span class=\"number\">25000000</span></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>è¡¥å……è¯´æ˜ï¼šSolutionä¸­è§£é‡Šé“ï¼Œä½¿ç”¨<code>UNION</code>ä¼šæ¯”<code>OR</code>å¿«ä¸Šä¸€ä¸¢ä¸¢ã€‚</p>\n<blockquote>\n<p>Suppose we are searching population and area, Given that MySQL usually uses one one index per table in a given query, so when it uses the 1st index rather than 2nd index, it would still have to do a table-scan to find rows that fit the 2nd index.</p>\n</blockquote>\n<p>å› ä¸ºå‰è€…æŸ¥è¯¢çš„æ—¶å€™åªç”¨åˆ°ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¯¹ç¬¬äºŒä¸ªæ¡ä»¶æŸ¥è¯¢æ—¶ï¼Œä¹Ÿå°±æ˜¯<code>population</code>ï¼Œä½¿ç”¨çš„æ˜¯å…¨è¡¨æ‰«æï¼Œäºæ˜¯æµªè´¹äº†ä¸€äº›æ—¶é—´ã€‚ä½†æ˜¯æƒ³æƒ³èƒŒåçš„ä»£ä»·ï¼Œæƒ³å¿…æ˜¯ä»¥ç©ºé—´æ¥æ¢æ—¶é—´ã€‚</p>\n<h3 id=\"627-Swap-Salary\"><a href=\"#627-Swap-Salary\" class=\"headerlink\" title=\"627. Swap Salary\"></a>627. Swap Salary</h3><h4 id=\"è½¬æ¢æ€§åˆ«ã€‚åŸé¢˜\"><a href=\"#è½¬æ¢æ€§åˆ«ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è½¬æ¢æ€§åˆ«ã€‚åŸé¢˜\"></a>è½¬æ¢æ€§åˆ«ã€‚<a href=\"https://leetcode.com/problems/swap-salary/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><ul>\n<li><p>ä½¿ç”¨<code>if</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> salary</span><br><span class=\"line\"><span class=\"keyword\">SET</span> sex=<span class=\"keyword\">IF</span>(sex=<span class=\"string\">'m'</span>, <span class=\"string\">'f'</span>, <span class=\"string\">'m'</span>)</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨<code>CASE</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">update</span> salary</span><br><span class=\"line\"><span class=\"keyword\">set</span> </span><br><span class=\"line\">    sex = <span class=\"keyword\">CASE</span> sex</span><br><span class=\"line\">    <span class=\"keyword\">when</span> <span class=\"string\">'m'</span> <span class=\"keyword\">Then</span> <span class=\"string\">'f'</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"string\">'m'</span></span><br><span class=\"line\">    <span class=\"keyword\">END</span></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure></li>\n<li><p>ä½¿ç”¨<code>XOR</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">update</span> salary</span><br><span class=\"line\"><span class=\"keyword\">set</span> sex = <span class=\"built_in\">CHAR</span>(<span class=\"keyword\">ASCII</span>(<span class=\"string\">'f'</span>) ^ <span class=\"keyword\">ASCII</span>(<span class=\"string\">'m'</span>) ^ <span class=\"keyword\">ASCII</span>(sex))</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"620-Not-Boring-Movies\"><a href=\"#620-Not-Boring-Movies\" class=\"headerlink\" title=\"620. Not Boring Movies\"></a>620. Not Boring Movies</h3><h4 id=\"ä½¿ç”¨MODæ›¿ä»£-ã€‚åŸé¢˜\"><a href=\"#ä½¿ç”¨MODæ›¿ä»£-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨MODæ›¿ä»£%ã€‚åŸé¢˜\"></a>ä½¿ç”¨<code>MOD</code>æ›¿ä»£<code>%</code>ã€‚<a href=\"https://leetcode.com/problems/not-boring-movies/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> cinema</span><br><span class=\"line\"><span class=\"keyword\">where</span> <span class=\"keyword\">mod</span>(<span class=\"keyword\">id</span>, <span class=\"number\">2</span>) = <span class=\"number\">1</span> <span class=\"keyword\">and</span> description != <span class=\"string\">'boring'</span></span><br><span class=\"line\"><span class=\"keyword\">order</span> <span class=\"keyword\">by</span> rating <span class=\"keyword\">DESC</span></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"182-Duplicate-Emails\"><a href=\"#182-Duplicate-Emails\" class=\"headerlink\" title=\"182. Duplicate Emails\"></a>182. Duplicate Emails</h3><h4 id=\"æŸ¥è¯¢å¤šä½™çš„é‡å¤å€¼ã€‚åŸé¢˜\"><a href=\"#æŸ¥è¯¢å¤šä½™çš„é‡å¤å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŸ¥è¯¢å¤šä½™çš„é‡å¤å€¼ã€‚åŸé¢˜\"></a>æŸ¥è¯¢å¤šä½™çš„é‡å¤å€¼ã€‚<a href=\"https://leetcode.com/problems/duplicate-emails/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è€ƒï¼šå¼€å§‹é™·å…¥äº†è¯¯åŒºï¼Œä»¥ä¸ºè¦å°†é‡å¤çš„idä¹ŸæŸ¥å‡ºæ¥ã€‚</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> email</span><br><span class=\"line\"><span class=\"keyword\">FROM</span>   Person</span><br><span class=\"line\"><span class=\"keyword\">GROUP</span>  <span class=\"keyword\">BY</span> email</span><br><span class=\"line\"><span class=\"keyword\">HAVING</span> <span class=\"keyword\">Count</span>(*) &gt; <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"175-Combine-Two-Tables\"><a href=\"#175-Combine-Two-Tables\" class=\"headerlink\" title=\"175. Combine Two Tables\"></a>175. Combine Two Tables</h3><h4 id=\"å·¦é“¾æ¥ã€‚è¿‡äºç®€å•ã€‚åŸé¢˜\"><a href=\"#å·¦é“¾æ¥ã€‚è¿‡äºç®€å•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å·¦é“¾æ¥ã€‚è¿‡äºç®€å•ã€‚åŸé¢˜\"></a>å·¦é“¾æ¥ã€‚è¿‡äºç®€å•ã€‚<a href=\"https://leetcode.com/problems/combine-two-tables/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> p.FirstName, p.LastName,</span><br><span class=\"line\">    ad.City, ad.State</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> Person p</span><br><span class=\"line\">    <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> Address ad</span><br><span class=\"line\">        <span class=\"keyword\">ON</span> p.PersonId = ad.PersonId</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"181-Employees-Earning-More-Than-Their-Managers\"><a href=\"#181-Employees-Earning-More-Than-Their-Managers\" class=\"headerlink\" title=\"181. Employees Earning More Than Their Managers\"></a>181. Employees Earning More Than Their Managers</h3><h4 id=\"è‡ªé“¾æ¥ã€‚åŸé¢˜\"><a href=\"#è‡ªé“¾æ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è‡ªé“¾æ¥ã€‚åŸé¢˜\"></a>è‡ªé“¾æ¥ã€‚<a href=\"https://leetcode.com/problems/employees-earning-more-than-their-managers/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> e.name Employee</span><br><span class=\"line\"><span class=\"keyword\">from</span> Employee e</span><br><span class=\"line\">    <span class=\"keyword\">inner</span> <span class=\"keyword\">join</span> Employee m</span><br><span class=\"line\">        <span class=\"keyword\">on</span> e.ManagerId = m.Id</span><br><span class=\"line\"><span class=\"keyword\">where</span> e.Salary &gt; m.Salary</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"183-Customers-Who-Never-Order\"><a href=\"#183-Customers-Who-Never-Order\" class=\"headerlink\" title=\"183. Customers Who Never Order\"></a>183. Customers Who Never Order</h3><h4 id=\"æ²¡æœ‰è®¢å•çš„é¡¾å®¢ã€‚åŸé¢˜\"><a href=\"#æ²¡æœ‰è®¢å•çš„é¡¾å®¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ²¡æœ‰è®¢å•çš„é¡¾å®¢ã€‚åŸé¢˜\"></a>æ²¡æœ‰è®¢å•çš„é¡¾å®¢ã€‚<a href=\"https://leetcode.com/problems/customers-who-never-order/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> c.name Customers</span><br><span class=\"line\"><span class=\"keyword\">from</span> Customers c</span><br><span class=\"line\">    <span class=\"keyword\">left</span> <span class=\"keyword\">join</span> Orders o</span><br><span class=\"line\">        <span class=\"keyword\">on</span> c.id = o.CustomerId</span><br><span class=\"line\"><span class=\"keyword\">where</span> o.CustomerId <span class=\"keyword\">is</span> <span class=\"literal\">Null</span></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> customers.name <span class=\"keyword\">as</span> <span class=\"string\">'Customers'</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> customers</span><br><span class=\"line\"><span class=\"keyword\">where</span> customers.id <span class=\"keyword\">not</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">(</span><br><span class=\"line\">    <span class=\"keyword\">select</span> customerid <span class=\"keyword\">from</span> orders</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h3 id=\"596-Classes-More-Than-5-Students\"><a href=\"#596-Classes-More-Than-5-Students\" class=\"headerlink\" title=\"596. Classes More Than 5 Students\"></a>596. Classes More Than 5 Students</h3><h4 id=\"è¶…è¿‡5ä¸ªå­¦ç”Ÿçš„ç­çº§ã€‚åŸé¢˜\"><a href=\"#è¶…è¿‡5ä¸ªå­¦ç”Ÿçš„ç­çº§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¶…è¿‡5ä¸ªå­¦ç”Ÿçš„ç­çº§ã€‚åŸé¢˜\"></a>è¶…è¿‡5ä¸ªå­¦ç”Ÿçš„ç­çº§ã€‚<a href=\"https://leetcode.com/problems/classes-more-than-5-students/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">class</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> courses</span><br><span class=\"line\"><span class=\"keyword\">group</span> <span class=\"keyword\">by</span> <span class=\"keyword\">class</span></span><br><span class=\"line\"><span class=\"keyword\">having</span> <span class=\"keyword\">count</span>(<span class=\"keyword\">distinct</span> student) &gt;= <span class=\"number\">5</span></span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"197-Rising-Temperature\"><a href=\"#197-Rising-Temperature\" class=\"headerlink\" title=\"197. Rising Temperature\"></a>197. Rising Temperature</h3><h4 id=\"è¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œå¼€å§‹å¤©çœŸåœ°æƒ³ç”¨idä½œä¸ºæ¡ä»¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ•™åšäººã€‚åŸé¢˜\"><a href=\"#è¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œå¼€å§‹å¤©çœŸåœ°æƒ³ç”¨idä½œä¸ºæ¡ä»¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ•™åšäººã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œå¼€å§‹å¤©çœŸåœ°æƒ³ç”¨idä½œä¸ºæ¡ä»¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ•™åšäººã€‚åŸé¢˜\"></a>è¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œå¼€å§‹å¤©çœŸåœ°æƒ³ç”¨idä½œä¸ºæ¡ä»¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ•™åšäººã€‚<a href=\"https://leetcode.com/problems/rising-temperature/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><ul>\n<li><p>æˆ‘çš„ç­”æ¡ˆ</p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> today.Id</span><br><span class=\"line\"><span class=\"keyword\">FROM</span>   Weather yest</span><br><span class=\"line\">       <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> Weather today</span><br><span class=\"line\">              <span class=\"keyword\">ON</span> today.RecordDate = <span class=\"keyword\">DATE_ADD</span>(yest.RecordDate, <span class=\"built_in\">INTERVAL</span> <span class=\"number\">1</span> <span class=\"keyword\">day</span>)</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span>  today.Temperature &gt; yest.Temperature</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure></li>\n<li><p>æ ‡å‡†ç­”æ¡ˆ</p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">    weather.id <span class=\"keyword\">AS</span> <span class=\"string\">'Id'</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">    weather</span><br><span class=\"line\">        <span class=\"keyword\">JOIN</span></span><br><span class=\"line\">    weather w <span class=\"keyword\">ON</span> <span class=\"keyword\">DATEDIFF</span>(weather.date, w.date) = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">AND</span> weather.Temperature &gt; w.Temperature</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<p>æŸ¥çœ‹Mysqlæ–‡æ¡£ï¼š</p>\n<blockquote>\n<p>DATEDIFF(expr1,expr2)</p>\n<p>DATEDIFF() returns expr1 âˆ’ expr2 expressed as a value in days from one date to the other. expr1 and expr2 are date or date-and-time expressions. Only the date parts of the values are used in the calculation.</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">mysql&gt;</span><span class=\"bash\"> SELECT DATEDIFF(<span class=\"string\">'2007-12-31 23:59:59'</span>,<span class=\"string\">'2007-12-30'</span>);</span></span><br><span class=\"line\">        -&gt; 1</span><br><span class=\"line\"><span class=\"meta\">mysql&gt;</span><span class=\"bash\"> SELECT DATEDIFF(<span class=\"string\">'2010-11-30 23:59:59'</span>,<span class=\"string\">'2010-12-31'</span>);</span></span><br><span class=\"line\">        -&gt; -31</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"196-Delete-Duplicate-Emails\"><a href=\"#196-Delete-Duplicate-Emails\" class=\"headerlink\" title=\"196. Delete Duplicate Emails\"></a>196. Delete Duplicate Emails</h3><h4 id=\"åˆ é™¤é‡å¤çš„é‚®ä»¶ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤é‡å¤çš„é‚®ä»¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤é‡å¤çš„é‚®ä»¶ã€‚åŸé¢˜\"></a>åˆ é™¤é‡å¤çš„é‚®ä»¶ã€‚<a href=\"https://leetcode.com/problems/delete-duplicate-emails/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">delete</span> p1 </span><br><span class=\"line\"><span class=\"keyword\">from</span> Person p1, Person p2</span><br><span class=\"line\"><span class=\"keyword\">where</span> p1.email=p2.email <span class=\"keyword\">and</span> p1.Id &gt; p2.Id</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"176-Second-Highest-Salary\"><a href=\"#176-Second-Highest-Salary\" class=\"headerlink\" title=\"176. Second Highest Salary\"></a>176. Second Highest Salary</h3><h4 id=\"è¿”å›ç¬¬äºŒé«˜çš„salaryã€‚åŸé¢˜\"><a href=\"#è¿”å›ç¬¬äºŒé«˜çš„salaryã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›ç¬¬äºŒé«˜çš„salaryã€‚åŸé¢˜\"></a>è¿”å›ç¬¬äºŒé«˜çš„salaryã€‚<a href=\"https://leetcode.com/problems/second-highest-salary/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>PSï¼šå¥‡æ€ªçš„é¢˜ï¼Œæ²¡æœ‰è®°å½•éè¦äººè¿”å›Nullï¼Œåªèƒ½å†å¥—ä¸€å±‚æŸ¥è¯¢æˆ–è€…ä½¿ç”¨<code>IFNULL</code>ä¹Ÿå¯ä»¥ã€‚</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">    (<span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span></span><br><span class=\"line\">            Salary</span><br><span class=\"line\">        <span class=\"keyword\">FROM</span></span><br><span class=\"line\">            Employee</span><br><span class=\"line\">        <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Salary <span class=\"keyword\">DESC</span></span><br><span class=\"line\">        <span class=\"keyword\">LIMIT</span> <span class=\"number\">1</span> <span class=\"keyword\">OFFSET</span> <span class=\"number\">1</span>) <span class=\"keyword\">AS</span> SecondHighestSalary</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n<h3 id=\"626-Exchange-Seats\"><a href=\"#626-Exchange-Seats\" class=\"headerlink\" title=\"626. Exchange Seats\"></a>626. Exchange Seats</h3><h4 id=\"äº¤æ¢ç›¸é‚»ä¸¤è¡Œçš„å€¼ã€‚åŸé¢˜\"><a href=\"#äº¤æ¢ç›¸é‚»ä¸¤è¡Œçš„å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äº¤æ¢ç›¸é‚»ä¸¤è¡Œçš„å€¼ã€‚åŸé¢˜\"></a>äº¤æ¢ç›¸é‚»ä¸¤è¡Œçš„å€¼ã€‚<a href=\"https://leetcode.com/problems/exchange-seats/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>å¼€å§‹ç†è§£é”™äº†ï¼Œä»¥ä¸ºè¦updateã€‚</p>\n<ul>\n<li><p><code>CASE</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> ( <span class=\"keyword\">CASE</span></span><br><span class=\"line\">           <span class=\"keyword\">WHEN</span> <span class=\"keyword\">MOD</span>(<span class=\"keyword\">id</span>, <span class=\"number\">2</span>) != <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">AND</span> counts != <span class=\"keyword\">id</span> <span class=\"keyword\">THEN</span> <span class=\"keyword\">id</span> + <span class=\"number\">1</span></span><br><span class=\"line\">           <span class=\"keyword\">WHEN</span> <span class=\"keyword\">MOD</span>(<span class=\"keyword\">id</span>, <span class=\"number\">2</span>) != <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">AND</span> counts = <span class=\"keyword\">id</span> <span class=\"keyword\">THEN</span> <span class=\"keyword\">id</span></span><br><span class=\"line\">           <span class=\"keyword\">ELSE</span> <span class=\"keyword\">id</span> - <span class=\"number\">1</span></span><br><span class=\"line\">         <span class=\"keyword\">end</span> ) <span class=\"keyword\">AS</span> <span class=\"keyword\">id</span>,</span><br><span class=\"line\">       student</span><br><span class=\"line\"><span class=\"keyword\">FROM</span>   seat,</span><br><span class=\"line\">       (<span class=\"keyword\">SELECT</span> <span class=\"keyword\">Count</span>(*) <span class=\"keyword\">AS</span> counts</span><br><span class=\"line\">        <span class=\"keyword\">FROM</span>   seat) <span class=\"keyword\">AS</span> seat_counts</span><br><span class=\"line\"><span class=\"keyword\">ORDER</span>  <span class=\"keyword\">BY</span> <span class=\"keyword\">id</span> <span class=\"keyword\">ASC</span>;;</span><br></pre></td></tr></table></figure></li>\n<li><p><code>COALESCE()</code></p>\n<ul>\n<li><p>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨<code>XOR</code>ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨æ’åºå› ä¸ºidä¸º5çš„è¢«æ¢æˆäº†6ã€‚</p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">id</span>, (<span class=\"keyword\">id</span>+<span class=\"number\">1</span>)^<span class=\"number\">1</span><span class=\"number\">-1</span>, student <span class=\"keyword\">FROM</span> seat;</span><br></pre></td></tr></table></figure>\n  <figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">+------+------+----------+------------+---------+</span><br><span class=\"line\">| id   | id+1 | (id+1)^1 | (id+1)^1-1 | student |</span><br><span class=\"line\">+------+------+----------+------------+---------+</span><br><span class=\"line\">|    1 |    2 |        3 |          2 | Abbot   |</span><br><span class=\"line\">|    2 |    3 |        2 |          1 | Doris   |</span><br><span class=\"line\">|    3 |    4 |        5 |          4 | Emerson |</span><br><span class=\"line\">|    4 |    5 |        4 |          3 | Green   |</span><br><span class=\"line\">|    5 |    6 |        7 |          6 | Jeame   |</span><br><span class=\"line\">+------+------+----------+------------+---------+</span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨<code>LEFT JOIN</code>é“¾æ¥ã€‚</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> *</span><br><span class=\"line\"><span class=\"keyword\">FROM</span>   seat s1</span><br><span class=\"line\">       <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> seat s2</span><br><span class=\"line\">              <span class=\"keyword\">ON</span> ( s1.id + <span class=\"number\">1</span> )^<span class=\"number\">1</span> - <span class=\"number\">1</span> = s2.id</span><br><span class=\"line\"><span class=\"keyword\">ORDER</span>  <span class=\"keyword\">BY</span> s1.id;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">+------+---------+------+---------+</span><br><span class=\"line\">| id   | student | id   | student |</span><br><span class=\"line\">+------+---------+------+---------+</span><br><span class=\"line\">|    1 | Abbot   |    2 | Doris   |</span><br><span class=\"line\">|    2 | Doris   |    1 | Abbot   |</span><br><span class=\"line\">|    3 | Emerson |    4 | Green   |</span><br><span class=\"line\">|    4 | Green   |    3 | Emerson |</span><br><span class=\"line\">|    5 | Jeame   | NULL | NULL    |</span><br><span class=\"line\">+------+---------+------+---------+</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨<code>COALESCE()</code></p>\n  <figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> s1.id,</span><br><span class=\"line\">       <span class=\"keyword\">Coalesce</span>(s2.student, s1.student) <span class=\"keyword\">as</span> student</span><br><span class=\"line\"><span class=\"keyword\">FROM</span>   seat s1</span><br><span class=\"line\">       <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> seat s2</span><br><span class=\"line\">              <span class=\"keyword\">ON</span> ( s1.id + <span class=\"number\">1</span> )^<span class=\"number\">1</span> - <span class=\"number\">1</span> = s2.id</span><br><span class=\"line\"><span class=\"keyword\">ORDER</span>  <span class=\"keyword\">BY</span> s1.id</span><br><span class=\"line\">;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p>å‚è€ƒï¼šMysqlæ–‡æ¡£</p>\n<blockquote>\n<p>Returns the first non-NULL value in the list, or NULL if there are no non-NULL values.<br>The return type of COALESCE() is the aggregated type of the argument types.</p>\n</blockquote>\n<h3 id=\"178-Rank-Scores\"><a href=\"#178-Rank-Scores\" class=\"headerlink\" title=\"178. Rank Scores\"></a>178. Rank Scores</h3>","categories":["sql"],"tags":["LeetCode","Mysql"]},{"title":"Pythonæ’åºç®—æ³•","url":"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/","content":"<h3 id=\"å¿«é€Ÿæ’åº\"><a href=\"#å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"å¿«é€Ÿæ’åº\"></a>å¿«é€Ÿæ’åº</h3><img src=\"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/quick_sort.gif\" class>\n<a id=\"more\"></a>\n<blockquote>\n<p>å¿«æ’ç®—æ˜¯åº”ç”¨ä¸­å¹¿æ³›çš„æ’åºç®—æ³•äº†ã€‚ç”±äºå®ç°ç®€å•ï¼Œé€‚ç”¨äºä¸åŒçš„è¾“å…¥æ•°æ®ä¸”åœ¨ä¸€èˆ¬åº”ç”¨ä¸­æ¯”å…¶ä»–æ’åºç®—æ³•è¦å¿«ã€‚å¿«æ’çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯<em>åŸåœ°æ’åº</em>ï¼Œå†…å¾ªç¯æ¯”å¤§å¤šæ•°æ’åºç®—æ³•è¦çŸ­å°ã€‚å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯éå¸¸è„†å¼±ï¼Œåœ¨å®ç°ä¸­è¦éå¸¸å°å¿ƒæ‰èƒ½é¿å…ä½åŠ£çš„æ€§èƒ½ã€‚                                              </p>\n</blockquote>\n<blockquote>\n<p>å¿«æ’æ˜¯ä¸€ç§åˆ†æ²»çš„æ’åºç®—æ³•ã€‚å®ƒå°†ä¸€ä¸ªæ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œå°†ä¸¤éƒ¨åˆ†ç‹¬ç«‹åœ°æ’åºã€‚å¿«æ’å’Œå½’å¹¶æ’åºæ˜¯äº’è¡¥çš„ï¼š<strong>å½’å¹¶æ’åºå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æ’åºï¼Œå¹¶å°†æœ‰åºçš„å­æ•°ç»„å½’å¹¶ä»¥å°†æ•´ä¸ªæ•°ç»„æ’åºï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹å‰ï¼›è€Œå¿«æ’å°†æ•°ç»„æ’åºçš„æ–¹å¼åˆ™æ˜¯å½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„è‡ªç„¶ä¹Ÿå°±æœ‰åºäº†ï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹åã€‚</strong> </p>\n</blockquote>\n<p>æŒ‰ç…§ã€Šç®—æ³•ç¬¬4ç‰ˆã€‹ä¸­çš„ä¾‹å­ï¼Œå®ç°ä¸€ä¸ªæ ‡å‡†çš„pythonè§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">quick_sort</span><span class=\"params\">(a)</span>:</span></span><br><span class=\"line\">    random.shuffle(a)  <span class=\"comment\"># æ¶ˆé™¤è¾“å…¥ä¾èµ–ï¼Œä¿æŒéšæœºæ€§ï¼Œä¹Ÿå¯ä½¿ç”¨éšæœºé€‰å–åˆ‡åˆ†å…ƒç´ </span></span><br><span class=\"line\">    quick_sort_divide(a, <span class=\"number\">0</span>, len(a)<span class=\"number\">-1</span>)  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">quick_sort_divide</span><span class=\"params\">(a, lo, hi)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> hi &lt;= lo:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    j = partition(a, lo, hi)</span><br><span class=\"line\">    quick_sort_divide(a, lo, j<span class=\"number\">-1</span>)</span><br><span class=\"line\">    quick_sort_divide(a, j+<span class=\"number\">1</span>, hi)</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(a, lo, hi)</span>:</span></span><br><span class=\"line\">    i, j = lo+<span class=\"number\">1</span>, hi</span><br><span class=\"line\">    pivot = a[lo]  <span class=\"comment\"># é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆ‡åˆ†å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> a[i]&lt;pivot <span class=\"keyword\">and</span> i&lt;hi:  <span class=\"comment\"># é‡åˆ°å¤§äºç­‰äºpivotæ—¶åœæ­¢ï¼ŒæŸäº›æƒ…å†µå¯ä»¥é¿å…ç®—æ³•è¿è¡Œæ—¶é—´å˜ä¸ºå¹³æ–¹çº§åˆ«</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> a[j]&gt;pivot <span class=\"keyword\">and</span> j&gt;lo:</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt;= j:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        a[i], a[j] = a[j], a[i]</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">        j -= <span class=\"number\">1</span></span><br><span class=\"line\">    a[lo], a[j] = a[j], a[lo]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> j</span><br></pre></td></tr></table></figure>\n<p>å†™æ³•äºŒï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArray</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">q_sort</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &gt;= hi: <span class=\"keyword\">return</span> </span><br><span class=\"line\">        m = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        l, r = lo, hi</span><br><span class=\"line\">        pivot = nums[m]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> l &lt;= r:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> l&lt;=r <span class=\"keyword\">and</span> nums[l]&lt;pivot:</span><br><span class=\"line\">                l += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> l&lt;=r <span class=\"keyword\">and</span> nums[r]&gt;pivot:</span><br><span class=\"line\">                r -= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> l&lt;=r:</span><br><span class=\"line\">                nums[l], nums[r] = nums[r], nums[l]</span><br><span class=\"line\">                l += <span class=\"number\">1</span></span><br><span class=\"line\">                r -= <span class=\"number\">1</span></span><br><span class=\"line\">        q_sort(lo, r)</span><br><span class=\"line\">        q_sort(l, hi)</span><br><span class=\"line\"></span><br><span class=\"line\">    random.shuffle(nums)</span><br><span class=\"line\">    q_sort(<span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<p>æ€§èƒ½åˆ†æï¼š</p>\n<ul>\n<li>å†…å¾ªç¯ä½¿ç”¨ä¸€ä¸ªé€’å¢çš„ç´¢å¼•å°†æ•°ç»„å…ƒç´ å’Œä¸€ä¸ªå®šå€¼æ¯”è¾ƒï¼Œç›¸å¯¹äºå½’å¹¶å’Œå¸Œå°”çš„åœ¨å†…å¾ªç¯ä¸­ç§»åŠ¨æ•°æ®çš„æ–¹æ³•æ›´å¿«ï¼Œæ›´ç®€æ´ã€‚</li>\n<li>æ¯”è¾ƒçš„æ¬¡æ•°å¾ˆå°‘ã€‚æ’åºæ•ˆç‡ä¾èµ–åˆ‡åˆ†æ•°ç»„çš„æ•ˆæœã€‚</li>\n</ul>\n<p>åŸºäºDijkstra-ä¸‰è·¯å¿«æ’å®ç°ï¼šå½“æ•°ç»„ä¸­åŒ…å«å¤§é‡é‡å¤çš„å…ƒç´ æ—¶ï¼Œä¸Šè¿°å¿«æ’åšå‡ºäº†ä¸€äº›æ— æ„ä¹‰çš„åˆ‡åˆ†ã€‚ä»å·¦åˆ°å³éå†æ•°ç»„ï¼Œç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ<code>lt</code>ä½¿<code>a[lo..lt-1]</code>ä¸­çš„å…ƒç´ éƒ½å°äºpï¼Œä¸€ä¸ªæŒ‡é’ˆ<code>gt</code>ä½¿å¾—<code>a[gt+1..hi]</code>ä¸­çš„å…ƒç´ éƒ½å¤§äºpï¼Œä¸€ä¸ªæŒ‡é’ˆ<code>i</code>ä½¿å¾—<code>a[lt..i-1]</code>ä¸­çš„å…ƒç´ éƒ½ç­‰äºpï¼Œç”±äºPythonå¯ä»¥è¿”å›å…ƒç»„ï¼Œæ‰€ä»¥æ”¹å†™æˆä¸‰è·¯éå¸¸ç®€å•ã€‚</p>\n<img src=\"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/q_sort_3ways.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">q3_sort</span><span class=\"params\">(a)</span>:</span></span><br><span class=\"line\">    random.shuffle(a)</span><br><span class=\"line\">    q_divide(a, <span class=\"number\">0</span>, len(a)<span class=\"number\">-1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">q_divide</span><span class=\"params\">(a, lo, hi)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> lo &gt;= hi:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    i, j = partition(a, lo, hi)</span><br><span class=\"line\">    q_divide(a, lo, i)</span><br><span class=\"line\">    q_divide(a, j, hi)</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">partition</span><span class=\"params\">(a, lo, hi)</span>:</span></span><br><span class=\"line\">    lt, i, gt = lo, lo+<span class=\"number\">1</span>, hi</span><br><span class=\"line\">    p = a[lo]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= gt:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a[i] &lt; p:</span><br><span class=\"line\">            a[i], a[lt] = a[lt], a[i]</span><br><span class=\"line\">            lt += <span class=\"number\">1</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> a[i] &gt; p:</span><br><span class=\"line\">            a[i], a[gt] = a[gt], a[i]</span><br><span class=\"line\">            gt -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> lt<span class=\"number\">-1</span>, gt+<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"å†’æ³¡æ’åº\"><a href=\"#å†’æ³¡æ’åº\" class=\"headerlink\" title=\"å†’æ³¡æ’åº\"></a>å†’æ³¡æ’åº</h3><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortArray</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        flag = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n-i<span class=\"number\">-1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &gt; nums[j+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                nums[j], nums[j+<span class=\"number\">1</span>] = nums[j+<span class=\"number\">1</span>], nums[j]</span><br><span class=\"line\">                flag = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> flag: <span class=\"keyword\">break</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"é€‰æ‹©æ’åº\"><a href=\"#é€‰æ‹©æ’åº\" class=\"headerlink\" title=\"é€‰æ‹©æ’åº\"></a>é€‰æ‹©æ’åº</h3><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">select_sort</span><span class=\"params\">(nums: list)</span> -&gt; list:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        min_i = i</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[min_i] &gt; nums[j]:</span><br><span class=\"line\">                min_i = j</span><br><span class=\"line\">        nums[min_i], nums[i] = nums[i], nums[min_i]</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ’å…¥æ’åº\"><a href=\"#æ’å…¥æ’åº\" class=\"headerlink\" title=\"æ’å…¥æ’åº\"></a>æ’å…¥æ’åº</h3><img src=\"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/insert_sort.gif\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">insertion</span><span class=\"params\">(ary: list)</span> -&gt; list:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(ary)):</span><br><span class=\"line\">        val, index = ary[i], i</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ary[j] &gt; val:</span><br><span class=\"line\">                ary[j+<span class=\"number\">1</span>] = ary[j]</span><br><span class=\"line\">                index = j</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        ary[index] = val</span><br></pre></td></tr></table></figure>\n<h3 id=\"å¸Œå°”æ’åº\"><a href=\"#å¸Œå°”æ’åº\" class=\"headerlink\" title=\"å¸Œå°”æ’åº\"></a>å¸Œå°”æ’åº</h3><p>ä½¿ç”¨åˆ‡ç‰‡çš„æ–¹å¼å®ç°äº†ä¸€ä¸ªç®€å•çš„å¸Œå°”æ’åºï¼Œä½†æ˜¯å¸Œå°”æ’åºåº”è¯¥æ˜¯ä¸äº§ç”Ÿç©ºé—´çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shell_sorted</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    res = list(nums)</span><br><span class=\"line\">    n = len(res)</span><br><span class=\"line\">    step = round(n/<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> step &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(step):</span><br><span class=\"line\">            res[i:n:step] = insert_sorted(res[i:n:step])</span><br><span class=\"line\">        step = round(step/<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"å½’å¹¶æ’åº\"><a href=\"#å½’å¹¶æ’åº\" class=\"headerlink\" title=\"å½’å¹¶æ’åº\"></a>å½’å¹¶æ’åº</h3><img src=\"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/merge_sort.gif\" class>\n<p>åŸåœ°å½’å¹¶</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_sort</span><span class=\"params\">(nums: list)</span>:</span></span><br><span class=\"line\">    _merge_divide(nums, <span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">_merge_divide</span><span class=\"params\">(a, l, r)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> l &gt;= r:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    mid = (l + r) // <span class=\"number\">2</span></span><br><span class=\"line\">    _merge_divide(a, l, mid)</span><br><span class=\"line\">    _merge_divide(a, mid+<span class=\"number\">1</span>, r)</span><br><span class=\"line\">    _merge(a, l, mid, r)</span><br><span class=\"line\">\t</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">_merge</span><span class=\"params\">(a, l, mid, r)</span>:</span></span><br><span class=\"line\">    aux = []</span><br><span class=\"line\">    i, j = l, mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> a[mid] &lt;= a[mid+<span class=\"number\">1</span>]:\t<span class=\"comment\"># æœ‰åºåˆ™è·³å‡º</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;=mid <span class=\"keyword\">and</span> j&lt;=r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a[i] &lt;= a[j]:</span><br><span class=\"line\">            aux.append(a[i])</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            aux.append(a[j])</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">    aux += a[i:mid+<span class=\"number\">1</span>] <span class=\"keyword\">or</span> a[j:r+<span class=\"number\">1</span>]</span><br><span class=\"line\">    a[l:r+<span class=\"number\">1</span>] = aux</span><br></pre></td></tr></table></figure>\n<p>è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºã€‚<code>_merge</code>æ–¹æ³•éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">merge_sort_bu</span><span class=\"params\">(nums: list)</span>:</span></span><br><span class=\"line\">    sz, n = <span class=\"number\">1</span>, len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> sz &lt;= n:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, n-sz, sz*<span class=\"number\">2</span>):\t<span class=\"comment\"># sz è¡¨ç¤ºå­æ•°ç»„å¤§å°</span></span><br><span class=\"line\">            <span class=\"comment\"># æŠŠä¸¤ä¸ªå¤§å°ä¸ºszçš„æ•°ç»„å½’å¹¶æˆä¸€ä¸ª</span></span><br><span class=\"line\">            _merge(nums, i, i+sz<span class=\"number\">-1</span>, min(i+sz*<span class=\"number\">2</span><span class=\"number\">-1</span>, n<span class=\"number\">-1</span>))</span><br><span class=\"line\">        sz *= <span class=\"number\">2</span></span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">_merge</span><span class=\"params\">(a, l, mid, r)</span>:</span></span><br><span class=\"line\">    aux = []</span><br><span class=\"line\">    i, j = l, mid + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> a[mid] &lt;= a[mid+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;=mid <span class=\"keyword\">and</span> j&lt;=r:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a[i] &lt;= a[j]:</span><br><span class=\"line\">            aux.append(a[i])</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            aux.append(a[j])</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">    aux += a[i:mid+<span class=\"number\">1</span>] <span class=\"keyword\">or</span> a[j:r+<span class=\"number\">1</span>]</span><br><span class=\"line\">    a[l:r+<span class=\"number\">1</span>] = aux</span><br></pre></td></tr></table></figure>\n<h3 id=\"å †æ’åº\"><a href=\"#å †æ’åº\" class=\"headerlink\" title=\"å †æ’åº\"></a>å †æ’åº</h3><p>å°†æ•°ç»„æ„å»ºæˆå †ï¼Œä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹<code>n//2-1</code>å¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œsinkæ“ä½œï¼Œå®Œæˆheapifyã€‚</p>\n<p>ä»å †é¡¶æœ€å¤§çš„å…ƒç´ ï¼Œå’Œæœ«å°¾äº’æ¢ï¼Œç„¶åå°†å †é¡¶å…ƒç´ ä¸‹æ²‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">heap_sort</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">    n = len(ary)</span><br><span class=\"line\">    <span class=\"comment\"># heapify array</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n//<span class=\"number\">2</span><span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        __sink(ary, n, i)</span><br><span class=\"line\">       </span><br><span class=\"line\">    <span class=\"comment\"># move maximum to the end, then sink first</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        ary[j], ary[<span class=\"number\">0</span>] = ary[<span class=\"number\">0</span>], ary[j]</span><br><span class=\"line\">        __sink(ary, j, <span class=\"number\">0</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__sink</span><span class=\"params\">(ary, n, p)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> p * <span class=\"number\">2</span> + <span class=\"number\">1</span> &lt; n:</span><br><span class=\"line\">        j = p * <span class=\"number\">2</span> + <span class=\"number\">1</span>        <span class=\"comment\"># sink swap with j</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> j + <span class=\"number\">1</span> &lt; n <span class=\"keyword\">and</span> ary[j+<span class=\"number\">1</span>] &gt; ary[j]:\t<span class=\"comment\"># æ‰¾åˆ°å¶å­èŠ‚ç‚¹ä¸­è¾ƒå¤§çš„è¿›è¡Œæ›¿æ¢ã€‚</span></span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ary[p] &gt;= ary[j]:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        ary[p], ary[j] = ary[j], ary[p]</span><br><span class=\"line\">        p = j</span><br></pre></td></tr></table></figure>\n<img src=\"/Python%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/summary.jpg\" class>","categories":["ç®—æ³•"],"tags":["Python","Algorithm","Sort"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆäºŒå‰æ ‘ç¯‡ï¼‰Tree","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree/","content":"<h3 id=\"æ ‘çš„å®šä¹‰\"><a href=\"#æ ‘çš„å®šä¹‰\" class=\"headerlink\" title=\"æ ‘çš„å®šä¹‰\"></a>æ ‘çš„å®šä¹‰</h3><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TreeNode</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">        self.val = x</span><br><span class=\"line\">        self.left = <span class=\"literal\">None</span>    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeSumBST</span><span class=\"params\">(self, root: TreeNode, low: int, high: int)</span> -&gt; int:</span></span><br><span class=\"line\">        ans = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> low &lt;= root.val &lt;= high:</span><br><span class=\"line\">                ans += root.val</span><br><span class=\"line\">                ans += self.rangeSumBST(root.left, low, high)</span><br><span class=\"line\">                ans += self.rangeSumBST(root.right, low, high)</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> root.val &lt; low:</span><br><span class=\"line\">                ans += self.rangeSumBST(root.right, low, high)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                ans += self.rangeSumBST(root.left, low, high)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        self.right = <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"144-Binary-Tree-Preorder-Traversal\"><a href=\"#144-Binary-Tree-Preorder-Traversal\" class=\"headerlink\" title=\"144. Binary Tree Preorder Traversal\"></a>144. Binary Tree Preorder Traversal</h3><h4 id=\"äºŒå‰æ ‘å‰åºéå†\"><a href=\"#äºŒå‰æ ‘å‰åºéå†\" class=\"headerlink\" title=\"äºŒå‰æ ‘å‰åºéå†\"></a><a href=\"https://leetcode.com/problems/binary-tree-preorder-traversal/description/\" target=\"_blank\" rel=\"noopener\">äºŒå‰æ ‘å‰åºéå†</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,null,2,3]</span><br><span class=\"line\">   1</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     2</span><br><span class=\"line\">    &#x2F;</span><br><span class=\"line\">   3</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [1,2,3]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šiteratively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorderTraversal</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    ans, stack = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            ans.append(node.val)</span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorder_traversal</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [root.val] + self.preorderTraversal(root.left) + \\</span><br><span class=\"line\">        self.preorderTraversal(root.right)</span><br></pre></td></tr></table></figure>\n<h3 id=\"589-N-ary-Tree-Preorder-Traversal\"><a href=\"#589-N-ary-Tree-Preorder-Traversal\" class=\"headerlink\" title=\"589. N-ary Tree Preorder Traversal\"></a>589. N-ary Tree Preorder Traversal</h3><h4 id=\"N-å‰æ ‘çš„å‰åºéå†ã€‚Nå‰æ ‘å’ŒäºŒå‰æ ‘æœ‰ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯Nå‰æ ‘ä¸éœ€è¦è€ƒè™‘å­èŠ‚ç‚¹çŸ¥å¦ä¸ºç©ºï¼Œåšå•ç‹¬çš„åˆ¤æ–­ã€‚åŸé¢˜\"><a href=\"#N-å‰æ ‘çš„å‰åºéå†ã€‚Nå‰æ ‘å’ŒäºŒå‰æ ‘æœ‰ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯Nå‰æ ‘ä¸éœ€è¦è€ƒè™‘å­èŠ‚ç‚¹çŸ¥å¦ä¸ºç©ºï¼Œåšå•ç‹¬çš„åˆ¤æ–­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"N-å‰æ ‘çš„å‰åºéå†ã€‚Nå‰æ ‘å’ŒäºŒå‰æ ‘æœ‰ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯Nå‰æ ‘ä¸éœ€è¦è€ƒè™‘å­èŠ‚ç‚¹çŸ¥å¦ä¸ºç©ºï¼Œåšå•ç‹¬çš„åˆ¤æ–­ã€‚åŸé¢˜\"></a>N-å‰æ ‘çš„å‰åºéå†ã€‚Nå‰æ ‘å’ŒäºŒå‰æ ‘æœ‰ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯Nå‰æ ‘ä¸éœ€è¦è€ƒè™‘å­èŠ‚ç‚¹çŸ¥å¦ä¸ºç©ºï¼Œåšå•ç‹¬çš„åˆ¤æ–­ã€‚<a href=\"https://leetcode.com/problems/n-ary-tree-preorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorder</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    res = [root.val]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> root.children:</span><br><span class=\"line\">        res += self.preorder(child)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">preorder</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, stack = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        res.append(node.val)</span><br><span class=\"line\">        stack.extend(reversed(node.children))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"94-Binary-Tree-Inorder-Traversal\"><a href=\"#94-Binary-Tree-Inorder-Traversal\" class=\"headerlink\" title=\"94. Binary Tree Inorder Traversal\"></a>94. Binary Tree Inorder Traversal</h3><h4 id=\"ä¸­åºéå†äºŒå‰æ ‘\"><a href=\"#ä¸­åºéå†äºŒå‰æ ‘\" class=\"headerlink\" title=\"ä¸­åºéå†äºŒå‰æ ‘\"></a><a href=\"https://leetcode.com/problems/binary-tree-inorder-traversal/description/\" target=\"_blank\" rel=\"noopener\">ä¸­åºéå†äºŒå‰æ ‘</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,null,2,3]</span><br><span class=\"line\">   1</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     2</span><br><span class=\"line\">    &#x2F;</span><br><span class=\"line\">   3</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [1,3,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ˆè¿­ä»£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorderTraversal</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    stack, ans = [], []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.left</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        ans.append(root.val)</span><br><span class=\"line\">        root = root.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šMorris Traversal.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorderTraversal</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    cur, ans = root, []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> cur:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> cur.left:</span><br><span class=\"line\">            ans.append(cur.val)</span><br><span class=\"line\">            cur = cur.right</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            pre = cur.left</span><br><span class=\"line\">            <span class=\"comment\"># æ‰¾åˆ°å½“å‰èŠ‚ç‚¹å·¦å­æ ‘ä¸­æœ€å³çš„å³èŠ‚ç‚¹</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> pre.right <span class=\"keyword\">and</span> pre.right != cur:</span><br><span class=\"line\">                pre = pre.right</span><br><span class=\"line\">                </span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pre.right:</span><br><span class=\"line\">                <span class=\"comment\"># æ‰¾åˆ°æœ€å³çš„èŠ‚ç‚¹ï¼Œè¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class=\"line\">                pre.right = cur</span><br><span class=\"line\">                cur = cur.left</span><br><span class=\"line\">            <span class=\"comment\"># æ¢å¤èŠ‚ç‚¹</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                pre.right = <span class=\"literal\">None</span></span><br><span class=\"line\">                ans.append(cur.val)</span><br><span class=\"line\">                cur = cur.right</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"145-Binary-Tree-Postorder-Traversal\"><a href=\"#145-Binary-Tree-Postorder-Traversal\" class=\"headerlink\" title=\"145. Binary Tree Postorder Traversal\"></a>145. Binary Tree Postorder Traversal</h3><h4 id=\"ååºéå†äºŒå‰æ ‘\"><a href=\"#ååºéå†äºŒå‰æ ‘\" class=\"headerlink\" title=\"ååºéå†äºŒå‰æ ‘\"></a><a href=\"https://leetcode.com/problems/binary-tree-postorder-traversal/description/\" target=\"_blank\" rel=\"noopener\">ååºéå†äºŒå‰æ ‘</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,null,2,3]</span><br><span class=\"line\">   1</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     2</span><br><span class=\"line\">    &#x2F;</span><br><span class=\"line\">   3</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [3,2,1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ¹å³å·¦ï¼Œå†å€’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder_traversal</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    res, stack = [], [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            res.append(node.val)</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ€æƒ³: ä½¿ç”¨<code>last</code>ä½œä¸ºåˆ¤æ–­æ˜¯å¦è¯¥èŠ‚ç‚¹çš„å³å­æ ‘å®Œæˆéå†ï¼Œå¦‚æœä¸€ä¸ª<code>node.right</code>å·²ç»åˆšåˆšéå†å®Œæ¯•ï¼Œé‚£ä¹ˆå°†<code>last==node.right</code>ï¼Œå¦åˆ™å°†ä¼šå¯»æ‰¾<code>node.right</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorderTraversal</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, stack, node, last = [], [], root, <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> node:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            stack.append(node)</span><br><span class=\"line\">            node = node.left</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            node = stack[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">or</span> last == node.right:</span><br><span class=\"line\">                node = stack.pop()</span><br><span class=\"line\">                res.append(node.val)</span><br><span class=\"line\">                last, node = node, <span class=\"literal\">None</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                node = node.right    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨booleanåˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦è¢«éå†è¿‡</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorderTraversal</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, stack = [], [(root, <span class=\"literal\">False</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node, visited = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> visited:</span><br><span class=\"line\">                res.append(node.val)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                stack.append((node, <span class=\"literal\">True</span>))</span><br><span class=\"line\">                stack.append((node.right, <span class=\"literal\">False</span>))</span><br><span class=\"line\">                stack.append((node.left, <span class=\"literal\">False</span>))                </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šdfs.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorderTraversal</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[int]':</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        dfs(node.left)</span><br><span class=\"line\">        dfs(node.right)</span><br><span class=\"line\">        ans.append(node.val)</span><br><span class=\"line\">        </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"590-N-ary-Tree-Postorder-Traversal\"><a href=\"#590-N-ary-Tree-Postorder-Traversal\" class=\"headerlink\" title=\"590. N-ary Tree Postorder Traversal\"></a>590. N-ary Tree Postorder Traversal</h3><h4 id=\"N-å‰æ ‘çš„ååºéå†ã€‚åŸé¢˜\"><a href=\"#N-å‰æ ‘çš„ååºéå†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"N-å‰æ ‘çš„ååºéå†ã€‚åŸé¢˜\"></a>N-å‰æ ‘çš„ååºéå†ã€‚<a href=\"https://leetcode.com/problems/n-ary-tree-postorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum([self.postorder(child) <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> root.children], []) + [root.val]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively and reversed.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, stack = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        res.append(node.val)</span><br><span class=\"line\">        stack.extend(node.children)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šiteratively and flag.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">postorder</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, stack = [], root <span class=\"keyword\">and</span> [(root, <span class=\"literal\">False</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node, visited = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> visited:</span><br><span class=\"line\">            res.append(node.val)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            stack.append((node, <span class=\"literal\">True</span>))</span><br><span class=\"line\">            stack.extend((n, <span class=\"literal\">False</span>) <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> reversed(node.children))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"100-Same-Tree\"><a href=\"#100-Same-Tree\" class=\"headerlink\" title=\"100. Same Tree\"></a>100. Same Tree</h3><h4 id=\"åˆ¤æ–­ç›¸åŒçš„äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ç›¸åŒçš„äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ç›¸åŒçš„äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>åˆ¤æ–­ç›¸åŒçš„äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/same-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:     1         1</span><br><span class=\"line\">          &#x2F; \\       &#x2F; \\</span><br><span class=\"line\">         2   3     2   3</span><br><span class=\"line\"></span><br><span class=\"line\">        [1,2,3],   [1,2,3]</span><br><span class=\"line\"></span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSameTree</span><span class=\"params\">(self, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> p <span class=\"keyword\">and</span> q:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (p.val==q.val <span class=\"keyword\">and</span> self.isSameTree(p.left, q.left) <span class=\"keyword\">and</span> </span><br><span class=\"line\">                self.isSameTree(p.right, q.right))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> p <span class=\"keyword\">is</span> q</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrecursively, tuple</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_same_tree</span><span class=\"params\">(p, q)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">t</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> n <span class=\"keyword\">and</span> (n.val, t(n.left), t(n.right))  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> t(p) == t(q)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSameTree</span><span class=\"params\">(self, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = [(p, q)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        p1, p2 = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> p2:</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> p2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1.val != p2.val:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        stack.append((p1.left, p2.left))</span><br><span class=\"line\">        stack.append((p1.right, p2.right))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"101-Symmetric-Tree\"><a href=\"#101-Symmetric-Tree\" class=\"headerlink\" title=\"101. Symmetric Tree\"></a>101. Symmetric Tree</h3><h4 id=\"åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ã€‚åŸé¢˜\"></a>åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ã€‚<a href=\"https://leetcode.com/problems/symmetric-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    1</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  2   2</span><br><span class=\"line\"> &#x2F; \\ &#x2F; \\</span><br><span class=\"line\">3  4 4  3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">symmetric</span><span class=\"params\">(p1, p2)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1 <span class=\"keyword\">and</span> p2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (p1.val == p2.val <span class=\"keyword\">and</span> symmetric(p1.left, p2.right) <span class=\"keyword\">and</span> </span><br><span class=\"line\">                    symmetric(p1.right, p2.left))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> p1 <span class=\"keyword\">is</span> p2</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> symmetric(root.left, root.right)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSymmetric</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root.left, root.right)]        </span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        p1, p2 = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> p2: <span class=\"keyword\">continue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> p2: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1.val != p2.val: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        stack.append((p1.left, p2.right))</span><br><span class=\"line\">        stack.append((p1.right, p2.left))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"104-Maximum-Depth-of-Binary-Tree\"><a href=\"#104-Maximum-Depth-of-Binary-Tree\" class=\"headerlink\" title=\"104. Maximum Depth of Binary Tree\"></a>104. Maximum Depth of Binary Tree</h3><h4 id=\"äºŒå‰æ ‘æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\"></a>äºŒå‰æ ‘æœ€å¤§æ·±åº¦ã€‚<a href=\"https://leetcode.com/problems/maximum-depth-of-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    3</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  9  20</span><br><span class=\"line\">    &#x2F;  \\</span><br><span class=\"line\">   15   7</span><br><span class=\"line\">return 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_depth</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(max_depth(root.left), max_depth(root.right)) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively. BFS with deque</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDepth</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    q = root <span class=\"keyword\">and</span> collections.deque([(root, <span class=\"number\">1</span>)])</span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        node, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            q.append((node.right, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            q.append((node.left, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥å‚è€ƒ102åˆ†å±‚éå†å†™æ³•ï¼Œæœ€åæ±‚é•¿åº¦ã€‚</p>\n<h3 id=\"559-Maximum-Depth-of-N-ary-Tree\"><a href=\"#559-Maximum-Depth-of-N-ary-Tree\" class=\"headerlink\" title=\"559. Maximum Depth of N-ary Tree\"></a>559. Maximum Depth of N-ary Tree</h3><h4 id=\"N-å‰æ ‘çš„æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\"><a href=\"#N-å‰æ ‘çš„æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"N-å‰æ ‘çš„æœ€å¤§æ·±åº¦ã€‚åŸé¢˜\"></a>N-å‰æ ‘çš„æœ€å¤§æ·±åº¦ã€‚<a href=\"https://leetcode.com/problems/maximum-depth-of-n-ary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šBFS with deque.åŒä¸Šé¢˜ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDepth</span><span class=\"params\">(self, root: <span class=\"string\">'Node'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    q = root <span class=\"keyword\">and</span> collections.deque([(root, <span class=\"number\">1</span>)])</span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        node, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> node.children:</span><br><span class=\"line\">            q.append((child, d + <span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šBFS.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDepth</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    q, level = root <span class=\"keyword\">and</span> [root], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        q, level = [child <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> q <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> node.children], level+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> level</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šrecursively. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxDepth</span><span class=\"params\">(self, root: <span class=\"string\">'Node'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(list(map(self.maxDepth, root.children)) <span class=\"keyword\">or</span> [<span class=\"number\">0</span>]) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"111-Minimum-Depth-of-Binary-Tree\"><a href=\"#111-Minimum-Depth-of-Binary-Tree\" class=\"headerlink\" title=\"111. Minimum Depth of Binary Tree\"></a>111. Minimum Depth of Binary Tree</h3><h4 id=\"æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€å°æ·±åº¦ã€‚åŸé¢˜\"><a href=\"#æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€å°æ·±åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€å°æ·±åº¦ã€‚åŸé¢˜\"></a>æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€å°æ·±åº¦ã€‚<a href=\"https://leetcode.com/problems/minimum-depth-of-binary-tree\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDepth</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root.left <span class=\"keyword\">and</span> root.right:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min(self.minDepth(root.left), self.minDepth(root.right)) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.minDepth(root.left) + self.minDepth(root.right) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¯¹ä¸Šè¿°æ–¹æ³•ä¿®æ”¹ï¼Œæ›´åŠ Pythonic. æ³¨æ„ä¸€ç‚¹ï¼ŒPython3ä¸­è¦åŠ list,å¦åˆ™maxå› ä¸ºç©ºå€¼æŠ¥é”™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDepth</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    d = list(map(self.minDepth, (root.left, root.right)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span> + (min(d) <span class=\"keyword\">or</span> max(d))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šè¿­ä»£æ³•ï¼ŒBFS</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDepth</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    q = root <span class=\"keyword\">and</span> collections.deque([(root, <span class=\"number\">1</span>)])</span><br><span class=\"line\">    d = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        node, d = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            q.append((node.left, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            q.append((node.right, d+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> d</span><br></pre></td></tr></table></figure>\n<h3 id=\"105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal\"><a href=\"#105-Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal\" class=\"headerlink\" title=\"105. Construct Binary Tree from Preorder and Inorder Traversal\"></a>105. Construct Binary Tree from Preorder and Inorder Traversal</h3><h4 id=\"æ ¹æ®å‰åºéå†å’Œä¸­åºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®å‰åºéå†å’Œä¸­åºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®å‰åºéå†å’Œä¸­åºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®å‰åºéå†å’Œä¸­åºéå†é‡å»ºäºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">preorder &#x3D; [3,9,20,15,7]</span><br><span class=\"line\">inorder &#x3D; [9,3,15,20,7]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆ‡ç‰‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(preorder, inorder)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> preorder == []:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root_val = preorder[<span class=\"number\">0</span>]</span><br><span class=\"line\">    root = TreeNode(root_val)</span><br><span class=\"line\">    cut = inorder.index(root_val)</span><br><span class=\"line\">    root.left = buildTree(preorder[<span class=\"number\">1</span>:cut+<span class=\"number\">1</span>], inorder[:cut])</span><br><span class=\"line\">    root.right = buildTree(preorder[cut+<span class=\"number\">1</span>:], inorder[cut+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•åœ¨æç«¯æƒ…å†µä¸‹ï¼Œå¦‚åªæœ‰å·¦å­æ ‘çš„æƒ…å†µï¼Œç”±äºindexä¼šå°†æ—¶é—´å¤æ‚åº¦ä¸Šå‡åˆ°O(nÂ²)ï¼Œè€Œä¸”åˆ‡ç‰‡äº§ç”Ÿäº†ä¸€äº›ä¸å¿…è¦çš„å†…å­˜ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯setefanå¤§ç¥çš„æ–¹æ³•ï¼Œpopå’Œ<code>reverse</code>æ˜¯ä¸ºäº†å¢åŠ æ•ˆç‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(self, preorder: <span class=\"string\">'List[int]'</span>, inorder: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(stop)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> inorder <span class=\"keyword\">and</span> inorder[<span class=\"number\">-1</span>] != stop:</span><br><span class=\"line\">            root = TreeNode(preorder.pop())</span><br><span class=\"line\">            root.left = build(root.val)</span><br><span class=\"line\">            inorder.pop()</span><br><span class=\"line\">            root.right = build(stop)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    preorder.reverse()</span><br><span class=\"line\">    inorder.reverse()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"literal\">None</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"106-Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal\"><a href=\"#106-Construct-Binary-Tree-from-Inorder-and-Postorder-Traversal\" class=\"headerlink\" title=\"106. Construct Binary Tree from Inorder and Postorder Traversal\"></a>106. Construct Binary Tree from Inorder and Postorder Traversal</h3><h4 id=\"æ ¹æ®ä¸­åºéå†å’Œååºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®ä¸­åºéå†å’Œååºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®ä¸­åºéå†å’Œååºéå†é‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®ä¸­åºéå†å’Œååºéå†é‡å»ºäºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šåˆ‡ç‰‡ã€</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(self, inorder: List[int], postorder: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> postorder:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root_val = postorder[<span class=\"number\">-1</span>]</span><br><span class=\"line\">    root = TreeNode(root_val)</span><br><span class=\"line\">    cut = inorder.index(root_val)</span><br><span class=\"line\">    root.left = self.buildTree(inorder[:cut], postorder[:cut])</span><br><span class=\"line\">    root.right = self.buildTree(inorder[cut+<span class=\"number\">1</span>:], postorder[cut: <span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstop popçš„æ–¹å¼ã€‚ç”šè‡³éƒ½ä¸ç”¨reverse</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(self, inorder: List[int], postorder: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(stop)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> inorder <span class=\"keyword\">and</span> inorder[<span class=\"number\">-1</span>]!=stop:</span><br><span class=\"line\">            root = TreeNode(postorder.pop()) </span><br><span class=\"line\">            root.right = build(root.val)</span><br><span class=\"line\">            inorder.pop()</span><br><span class=\"line\">            root.left  = build(stop)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">         </span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"literal\">None</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buildTree</span><span class=\"params\">(self, inorder: List[int], postorder: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(stop, info=<span class=\"string\">''</span>, lv=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> inorder <span class=\"keyword\">and</span> inorder[<span class=\"number\">-1</span>]==stop:</span><br><span class=\"line\">            print(<span class=\"string\">'stop at'</span>, inorder, stop, info)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        print(lv*<span class=\"string\">'-&gt;'</span> , inorder, stop, postorder, info)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> inorder <span class=\"keyword\">and</span> inorder[<span class=\"number\">-1</span>]!=stop:</span><br><span class=\"line\">            root = TreeNode(postorder.pop())</span><br><span class=\"line\">            root.right = build(root.val, <span class=\"string\">\"build &#123;&#125;'s right\"</span>.format(root.val), lv+<span class=\"number\">1</span>)</span><br><span class=\"line\">            inorder.pop()</span><br><span class=\"line\">            root.left = build(stop, <span class=\"string\">\"build &#123;&#125;'s left\"</span>.format(root.val), lv+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"literal\">None</span>)</span><br><span class=\"line\">  </span><br><span class=\"line\">[<span class=\"number\">9</span>, <span class=\"number\">3</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>, <span class=\"number\">7</span>] <span class=\"literal\">None</span> [<span class=\"number\">9</span>, <span class=\"number\">15</span>, <span class=\"number\">7</span>, <span class=\"number\">20</span>, <span class=\"number\">3</span>] </span><br><span class=\"line\">-&gt; [9, 3, 15, 20, 7] 3 [9, 15, 7, 20] build 3's right</span><br><span class=\"line\">-&gt;-&gt; [9, 3, 15, 20, 7] 20 [9, 15, 7] build 20's right</span><br><span class=\"line\">stop at [<span class=\"number\">9</span>, <span class=\"number\">3</span>, <span class=\"number\">15</span>, <span class=\"number\">20</span>, <span class=\"number\">7</span>] <span class=\"number\">7</span> build <span class=\"number\">7</span><span class=\"string\">'s right</span></span><br><span class=\"line\"><span class=\"string\">stop at [9, 3, 15, 20] 20 build 7'</span>s left</span><br><span class=\"line\">-&gt;-&gt; [9, 3, 15] 3 [9, 15] build 20's left</span><br><span class=\"line\">stop at [<span class=\"number\">9</span>, <span class=\"number\">3</span>, <span class=\"number\">15</span>] <span class=\"number\">15</span> build <span class=\"number\">15</span><span class=\"string\">'s right</span></span><br><span class=\"line\"><span class=\"string\">stop at [9, 3] 3 build 15'</span>s left</span><br><span class=\"line\">-&gt; [9] None [9] build 3's left</span><br><span class=\"line\">stop at [<span class=\"number\">9</span>] <span class=\"number\">9</span> build <span class=\"number\">9</span><span class=\"string\">'s right</span></span><br><span class=\"line\"><span class=\"string\">-&gt;-&gt; [] None [] build 9'</span>s left</span><br></pre></td></tr></table></figure>\n<h3 id=\"889-Construct-Binary-Tree-from-Preorder-and-Postorder-Traversal\"><a href=\"#889-Construct-Binary-Tree-from-Preorder-and-Postorder-Traversal\" class=\"headerlink\" title=\"889. Construct Binary Tree from Preorder and Postorder Traversal\"></a>889. Construct Binary Tree from Preorder and Postorder Traversal</h3><h4 id=\"æ ¹æ®å‰åºå’Œååºé‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®å‰åºå’Œååºé‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®å‰åºå’Œååºé‡å»ºäºŒå‰æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®å‰åºå’Œååºé‡å»ºäºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/construct-binary-tree-from-preorder-and-postorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: pre &#x3D; [1,2,4,5,3,6,7], post &#x3D; [4,5,2,6,7,3,1]</span><br><span class=\"line\">Output: [1,2,3,4,5,6,7]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šindexçš„æ–¹å¼ã€ã€</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructFromPrePost</span><span class=\"params\">(self, pre: List[int], post: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> post:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root = TreeNode(post.pop())</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(pre) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        cut = post.index(pre[<span class=\"number\">1</span>])</span><br><span class=\"line\">        </span><br><span class=\"line\">        root.left = self.constructFromPrePost(pre[<span class=\"number\">1</span>:cut+<span class=\"number\">2</span>], post[:cut+<span class=\"number\">1</span>])</span><br><span class=\"line\">        root.right = self.constructFromPrePost(pre[cut+<span class=\"number\">2</span>:], post[cut+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨indexé€’å½’ . by@lee215</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    preIndex, posIndex = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructFromPrePost</span><span class=\"params\">(self, pre, post)</span>:</span></span><br><span class=\"line\">        root = TreeNode(pre[self.preIndex])</span><br><span class=\"line\">        self.preIndex += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root.val != post[self.posIndex]):</span><br><span class=\"line\">            root.left = self.constructFromPrePost(pre, post)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root.val != post[self.posIndex]):</span><br><span class=\"line\">            root.right = self.constructFromPrePost(pre, post)</span><br><span class=\"line\">        self.posIndex += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"572-Subtree-of-Another-Tree\"><a href=\"#572-Subtree-of-Another-Tree\" class=\"headerlink\" title=\"572. Subtree of Another Tree\"></a>572. Subtree of Another Tree</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦æ˜¯æ ‘çš„å­ç»“æ„ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦æ˜¯æ ‘çš„å­ç»“æ„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦æ˜¯æ ‘çš„å­ç»“æ„ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦æ˜¯æ ‘çš„å­ç»“æ„ã€‚<a href=\"https://leetcode.com/problems/subtree-of-another-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šè¿™é“é¢˜æ˜¯éå†åŠ åˆ¤æ–­ç›¸åŒæ ‘çš„ç»“åˆã€‚è¿™é‡Œé‡‡ç”¨å‰åºéå†å’Œé€’å½’åˆ¤æ–­ç›¸åŒæ ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubtree</span><span class=\"params\">(self, s: <span class=\"string\">'TreeNode'</span>, t: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_same</span><span class=\"params\">(s, t)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> s <span class=\"keyword\">and</span> t:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (s.val==t.val <span class=\"keyword\">and</span> is_same(s.left, t.left) <span class=\"keyword\">and</span> </span><br><span class=\"line\">                    is_same(s.right, t.right))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> s <span class=\"keyword\">is</span> t</span><br><span class=\"line\"></span><br><span class=\"line\">    stack = s <span class=\"keyword\">and</span> [s]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_same(node, t):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"102-Binary-Tree-Level-Order-Traversal\"><a href=\"#102-Binary-Tree-Level-Order-Traversal\" class=\"headerlink\" title=\"102. Binary Tree Level Order Traversal\"></a>102. Binary Tree Level Order Traversal</h3><h4 id=\"åˆ†å±‚éå†äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#åˆ†å±‚éå†äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ†å±‚éå†äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>åˆ†å±‚éå†äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/binary-tree-level-order-traversal/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ³¨æ„ï¼šå¾ªç¯æ¡ä»¶è¦åŠ ä¸Šrootï¼Œä»¥é˜²æ­¢root is None</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrder</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans, level = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        level = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"103-Binary-Tree-Zigzag-Level-Order-Traversal\"><a href=\"#103-Binary-Tree-Zigzag-Level-Order-Traversal\" class=\"headerlink\" title=\"103. Binary Tree Zigzag Level Order Traversal\"></a>103. Binary Tree Zigzag Level Order Traversal</h3><h4 id=\"ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/binary-tree-zigzag-level-order-traversal/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">zigzagLevelOrder</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans, level, order = [], root <span class=\"keyword\">and</span> [root], <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level][::order])</span><br><span class=\"line\">        order *= <span class=\"number\">-1</span></span><br><span class=\"line\">        level = [kid <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> kid]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"107-Binary-Tree-Level-Order-Traversal-II\"><a href=\"#107-Binary-Tree-Level-Order-Traversal-II\" class=\"headerlink\" title=\"107. Binary Tree Level Order Traversal II\"></a>107. Binary Tree Level Order Traversal II</h3><h4 id=\"å’Œ102é¢˜ä¸åŒçš„æ˜¯ï¼Œä»ä¸‹åˆ°ä¸Šåˆ†å±‚æ‰“å°ã€‚åŸé¢˜\"><a href=\"#å’Œ102é¢˜ä¸åŒçš„æ˜¯ï¼Œä»ä¸‹åˆ°ä¸Šåˆ†å±‚æ‰“å°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ102é¢˜ä¸åŒçš„æ˜¯ï¼Œä»ä¸‹åˆ°ä¸Šåˆ†å±‚æ‰“å°ã€‚åŸé¢˜\"></a>å’Œ102é¢˜ä¸åŒçš„æ˜¯ï¼Œä»ä¸‹åˆ°ä¸Šåˆ†å±‚æ‰“å°ã€‚<a href=\"https://leetcode.com/problems/binary-tree-level-order-traversal-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šå°†ç»“æœå€’åºè¾“å‡ºã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrderBottom</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, level = [], [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> root <span class=\"keyword\">and</span> level:</span><br><span class=\"line\">        res.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        level = [kid <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> kid]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¹Ÿå¯ä»¥ä»å‰é¢æ’å…¥å…ƒç´ ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrderBottom</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    res, level = [], [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> root <span class=\"keyword\">and</span> level:</span><br><span class=\"line\">        res.insert(<span class=\"number\">0</span>, [n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        level = [kid <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> kid]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"429-N-ary-Tree-Level-Order-Traversal\"><a href=\"#429-N-ary-Tree-Level-Order-Traversal\" class=\"headerlink\" title=\"429. N-ary Tree Level Order Traversal\"></a>429. N-ary Tree Level Order Traversal</h3><h4 id=\"åˆ†å±‚æ‰“å°Nå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#åˆ†å±‚æ‰“å°Nå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ†å±‚æ‰“å°Nå‰æ ‘ã€‚åŸé¢˜\"></a>åˆ†å±‚æ‰“å°Nå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/n-ary-tree-level-order-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">levelOrder</span><span class=\"params\">(self, root: <span class=\"string\">'Node'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    ans, level = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append([n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        level = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> n.children <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"637-Average-of-Levels-in-Binary-Tree\"><a href=\"#637-Average-of-Levels-in-Binary-Tree\" class=\"headerlink\" title=\"637. Average of Levels in Binary Tree\"></a>637. Average of Levels in Binary Tree</h3><h4 id=\"éå†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ±‚æ¯å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼ŒæŒ‰ç…§èŠ‚ç‚¹ä¸ä¸ºç©ºçš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#éå†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ±‚æ¯å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼ŒæŒ‰ç…§èŠ‚ç‚¹ä¸ä¸ºç©ºçš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éå†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ±‚æ¯å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼ŒæŒ‰ç…§èŠ‚ç‚¹ä¸ä¸ºç©ºçš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>éå†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ±‚æ¯å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼ŒæŒ‰ç…§èŠ‚ç‚¹ä¸ä¸ºç©ºçš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/average-of-levels-in-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">    3</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  9  20</span><br><span class=\"line\">    &#x2F;  \\</span><br><span class=\"line\">   15   7</span><br><span class=\"line\">Output: [3, 14.5, 11]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The average value of nodes on level 0 is 3,  on level 1 is 14.5, and on level 2 is 11. Hence return [3, 14.5, 11].</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">averageOfLevels</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[float]':</span></span><br><span class=\"line\">    ans, level = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        ans.append(sum(n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level) / len(level))</span><br><span class=\"line\">        level = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"515-Find-Largest-Value-in-Each-Tree-Row\"><a href=\"#515-Find-Largest-Value-in-Each-Tree-Row\" class=\"headerlink\" title=\"515. Find Largest Value in Each Tree Row\"></a>515. Find Largest Value in Each Tree Row</h3><h4 id=\"æ‰¾åˆ°æ ‘æ¯å±‚çš„æœ€å¤§å€¼ã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ ‘æ¯å±‚çš„æœ€å¤§å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ ‘æ¯å±‚çš„æœ€å¤§å€¼ã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ ‘æ¯å±‚çš„æœ€å¤§å€¼ã€‚<a href=\"https://leetcode.com/problems/find-largest-value-in-each-tree-row/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šBFS. æ­¤è§£æ³•ç§’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestValues</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, levels = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> levels:</span><br><span class=\"line\">        ans.append(max(x.val <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> levels))</span><br><span class=\"line\">        levels = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> levels <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"987-Vertical-Order-Traversal-of-a-Binary-Tree\"><a href=\"#987-Vertical-Order-Traversal-of-a-Binary-Tree\" class=\"headerlink\" title=\"987. Vertical Order Traversal of a Binary Tree\"></a>987. Vertical Order Traversal of a Binary Tree</h3><h4 id=\"å‚ç›´éå†äºŒå‰æ ‘ï¼Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œå¦‚æœèŠ‚ç‚¹å…·æœ‰ç›¸åŒä½ç½®ï¼ŒæŒ‰ç…§å€¼ä»å°åˆ°å¤§ã€‚åŸé¢˜\"><a href=\"#å‚ç›´éå†äºŒå‰æ ‘ï¼Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œå¦‚æœèŠ‚ç‚¹å…·æœ‰ç›¸åŒä½ç½®ï¼ŒæŒ‰ç…§å€¼ä»å°åˆ°å¤§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‚ç›´éå†äºŒå‰æ ‘ï¼Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œå¦‚æœèŠ‚ç‚¹å…·æœ‰ç›¸åŒä½ç½®ï¼ŒæŒ‰ç…§å€¼ä»å°åˆ°å¤§ã€‚åŸé¢˜\"></a>å‚ç›´éå†äºŒå‰æ ‘ï¼Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œå¦‚æœèŠ‚ç‚¹å…·æœ‰ç›¸åŒä½ç½®ï¼ŒæŒ‰ç…§å€¼ä»å°åˆ°å¤§ã€‚<a href=\"https://leetcode.com/problems/vertical-order-traversal-of-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree/tree2.png\" class>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5,6,7]</span><br><span class=\"line\">Output: [[4],[2],[1,5,6],[3],[7]]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The node with value 5 and the node with value 6 have the same position according to the given scheme.</span><br><span class=\"line\">However, in the report &quot;[1,5,6]&quot;, the node value of 5 comes first since 5 is smaller than 6.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs. é€šè¿‡å»ºç«‹ä¸€ä¸ª<strong>å­—å…¸æ•°ç»„</strong>ï¼Œå°†å¯¹åº”çš„èŠ‚ç‚¹ä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†åˆå§‹åŒ–æ•°ç»„ã€‚ç„¶åæŒ‰ç…§x, y, valä¸‰ä¸ªä¼˜å…ˆçº§è¿›è¡Œæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">verticalTraversal</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    seen = collections.defaultdict(</span><br><span class=\"line\">        <span class=\"keyword\">lambda</span>: collections.defaultdict(list)</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, x=<span class=\"number\">0</span>, y=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            seen[x][y].append(node.val)</span><br><span class=\"line\">            dfs(node.left, x<span class=\"number\">-1</span>, y+<span class=\"number\">1</span>)</span><br><span class=\"line\">            dfs(node.right, x+<span class=\"number\">1</span>, y+<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> sorted(seen):</span><br><span class=\"line\">        inner = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> sorted(seen[x]):</span><br><span class=\"line\">            inner.extend(sorted(n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> seen[x][y]))</span><br><span class=\"line\">        ans.append(inner)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"257-Binary-Tree-Paths\"><a href=\"#257-Binary-Tree-Paths\" class=\"headerlink\" title=\"257. Binary Tree Paths\"></a>257. Binary Tree Paths</h3><h4 id=\"æ‰“å°äºŒå‰æ ‘ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å…¨éƒ¨è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#æ‰“å°äºŒå‰æ ‘ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å…¨éƒ¨è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰“å°äºŒå‰æ ‘ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å…¨éƒ¨è·¯å¾„ã€‚åŸé¢˜\"></a>æ‰“å°äºŒå‰æ ‘ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å…¨éƒ¨è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/binary-tree-paths/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\"></span><br><span class=\"line\">   1</span><br><span class=\"line\"> &#x2F;   \\</span><br><span class=\"line\">2     3</span><br><span class=\"line\"> \\</span><br><span class=\"line\">  5</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [&quot;1-&gt;2-&gt;5&quot;, &quot;1-&gt;3&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: All root-to-leaf paths are: 1-&gt;2-&gt;5, 1-&gt;3</span><br></pre></td></tr></table></figure>\n<p>iterativelyã€‚æ€è·¯ï¼šé‡‡ç”¨å‰åºéå†äºŒå‰æ ‘ï¼Œä½¿ç”¨tupleä¿å­˜èŠ‚ç‚¹å½“å‰è·¯å¾„ï¼Œå¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™æ·»åŠ åˆ°ç»“æœä¸­ã€‚å¼€å§‹è€æ˜¯æƒ³ç€ç”¨<code>&#39;-&gt;&#39;.join()</code>ï¼Œè¿™æ ·åè€Œéº»çƒ¦ï¼Œç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ä¿å­˜å°±å¥½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binaryTreePaths</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    ans, stack = [], root <span class=\"keyword\">and</span> [(root, str(root.val))]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, p = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right:</span><br><span class=\"line\">            ans.append(p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.right:</span><br><span class=\"line\">            stack.append((n.right, p+<span class=\"string\">'-&gt;'</span>+str(n.right.val)))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.left:</span><br><span class=\"line\">            stack.append((n.left, p+<span class=\"string\">'-&gt;'</span>+str(n.left.val)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"> æ–¹æ³•äºŒï¼šdfs. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binaryTreePaths</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'List[str]':</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, path)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            path.append(str(n.val))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right:</span><br><span class=\"line\">                ans.append(<span class=\"string\">'-&gt;'</span>.join(path))</span><br><span class=\"line\">            dfs(n.left, path)</span><br><span class=\"line\">            dfs(n.right, path)</span><br><span class=\"line\">            path.pop()</span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">recursivelyã€‚å‚è€ƒäº†<code>StefanPochmann</code>å¤§ç¥çš„æ–¹æ³•ã€‚æœ€å¼€å§‹æƒ³åˆ°ä¸€åŠï¼Œä¸­é—´é‚£å±‚å¾ªç¯æƒ³åˆ°äº†ï¼Œä½†æ²¡æƒ³åˆ°ç”¨é€’å½’ã€‚ </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">binaryTreePaths</span><span class=\"params\">(self, root)</span>:</span> </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [str(root.val) + <span class=\"string\">'-&gt;'</span> + path</span><br><span class=\"line\">            <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (root.left, root.right) <span class=\"keyword\">if</span> kid</span><br><span class=\"line\">            <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> self.binaryTreePaths(kid)] <span class=\"keyword\">or</span> [str(root.val)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"988-Smallest-String-Starting-From-Leaf\"><a href=\"#988-Smallest-String-Starting-From-Leaf\" class=\"headerlink\" title=\"988. Smallest String Starting From Leaf\"></a>988. Smallest String Starting From Leaf</h3><h4 id=\"æ±‚å­—å…¸é¡ºåºæœ€å°çš„è·¯å¾„ï¼Œè·¯å¾„æŒ‡å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚0å¯¹åº”aï¼Œ1å¯¹åº”bã€‚åŸé¢˜\"><a href=\"#æ±‚å­—å…¸é¡ºåºæœ€å°çš„è·¯å¾„ï¼Œè·¯å¾„æŒ‡å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚0å¯¹åº”aï¼Œ1å¯¹åº”bã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚å­—å…¸é¡ºåºæœ€å°çš„è·¯å¾„ï¼Œè·¯å¾„æŒ‡å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚0å¯¹åº”aï¼Œ1å¯¹åº”bã€‚åŸé¢˜\"></a>æ±‚å­—å…¸é¡ºåºæœ€å°çš„è·¯å¾„ï¼Œè·¯å¾„æŒ‡å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚0å¯¹åº”aï¼Œ1å¯¹åº”bã€‚<a href=\"https://leetcode.com/problems/smallest-string-starting-from-leaf/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [0,1,2,3,4,3,4]</span><br><span class=\"line\">Output: &quot;dba&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆåˆ—å‡ºæ‰€æœ‰æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼Œå†reverseæ±‚æœ€å°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestFromLeaf</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    OFFSET = ord(<span class=\"string\">'a'</span>)</span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root, chr(root.val+OFFSET))]</span><br><span class=\"line\">    ans = <span class=\"string\">'~'</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, p = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right:</span><br><span class=\"line\">            ans = min(ans, p[::<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.right:</span><br><span class=\"line\">            stack.append((n.right, p+chr(n.right.val+OFFSET)))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.left:</span><br><span class=\"line\">            stack.append((n.left, p+chr(n.left.val+OFFSET)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šdfs.  é€’å½’è®¡ç®—å®Œå·¦å³èŠ‚ç‚¹ï¼Œç„¶åå†å°†æ ¹èŠ‚ç‚¹popæ‰ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestFromLeaf</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    self.ans = <span class=\"string\">'~'</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, A)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            A.append(chr(node.val + ord(<span class=\"string\">'a'</span>)))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">                self.ans = min(self.ans, <span class=\"string\">''</span>.join(reversed(A)))</span><br><span class=\"line\">            dfs(node.left, A)</span><br><span class=\"line\">            dfs(node.right, A)</span><br><span class=\"line\">            A.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"112-Path-Sum\"><a href=\"#112-Path-Sum\" class=\"headerlink\" title=\"112. Path Sum\"></a>112. Path Sum</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦å…·æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼å’Œä¸ºsumã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦å…·æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼å’Œä¸ºsumã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦å…·æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼å’Œä¸ºsumã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦å…·æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼å’Œä¸ºsumã€‚<a href=\"https://leetcode.com/problems/path-sum/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šrecursively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, total: <span class=\"string\">'int'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> (<span class=\"keyword\">not</span> root.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> root.right <span class=\"keyword\">and</span> </span><br><span class=\"line\">        root.val==total):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (self.hasPathSum(root.left, total-root.val) <span class=\"keyword\">or</span> </span><br><span class=\"line\">                self.hasPathSum(root.right, total-root.val))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasPathSum</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, total: <span class=\"string\">'int'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root, total)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, t = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right <span class=\"keyword\">and</span> n.val==t:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.right:</span><br><span class=\"line\">            stack.append((n.right, t-n.val))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.left:</span><br><span class=\"line\">            stack.append((n.left, t-n.val))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"113-Path-Sum-II\"><a href=\"#113-Path-Sum-II\" class=\"headerlink\" title=\"113. Path Sum II\"></a>113. Path Sum II</h3><h4 id=\"ä¸Šé¢˜çš„å‡çº§ç‰ˆï¼Œè¦æ±‚äºŒç»´æ•°ç»„è¿”å›æ‰€æœ‰è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#ä¸Šé¢˜çš„å‡çº§ç‰ˆï¼Œè¦æ±‚äºŒç»´æ•°ç»„è¿”å›æ‰€æœ‰è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸Šé¢˜çš„å‡çº§ç‰ˆï¼Œè¦æ±‚äºŒç»´æ•°ç»„è¿”å›æ‰€æœ‰è·¯å¾„ã€‚åŸé¢˜\"></a>ä¸Šé¢˜çš„å‡çº§ç‰ˆï¼Œè¦æ±‚äºŒç»´æ•°ç»„è¿”å›æ‰€æœ‰è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/path-sum-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">sum &#x3D; 22</span><br><span class=\"line\"></span><br><span class=\"line\">      5</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">    4   8</span><br><span class=\"line\">   &#x2F;   &#x2F; \\</span><br><span class=\"line\">  11  13  4</span><br><span class=\"line\"> &#x2F;  \\    &#x2F; \\</span><br><span class=\"line\">7    2  5   1</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">   [5,4,11,2],</span><br><span class=\"line\">   [5,8,4,5]</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šiteratively. ä¸¾ä¸€åä¸‰ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, total: <span class=\"string\">'int'</span>)</span> -&gt; 'List[List[int]]':</span></span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [(root, [root.val], total)]</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, v, t = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right <span class=\"keyword\">and</span> n.val==t:</span><br><span class=\"line\">            ans.append(v)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.right:</span><br><span class=\"line\">            stack.append((n.right, v+[n.right.val], t-n.val))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n.left:</span><br><span class=\"line\">            stack.append((n.left, v+[n.left.val], t-n.val))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>recursively. å…ˆæ‰¾å‡ºæ‰€æœ‰è·¯å¾„ï¼Œå†è¿‡æ»¤ï¼Œå®é™…ä¸Šå’Œ257é¢˜ä¸€æ ·ã€‚ä¸è¿‡è¿™å¹¶æ²¡æœ‰æŠŠè¿™é“é¢˜çš„ç‰¹æ€§æ¶µç›–è¿›å»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root, sum_val)</span>:</span></span><br><span class=\"line\">    paths = self.all_paths(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [path <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> paths <span class=\"keyword\">if</span> sum(path)==sum_val]</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">all_paths</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[root.val]+path</span><br><span class=\"line\">            <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (root.left, root.right) <span class=\"keyword\">if</span> kid</span><br><span class=\"line\">            <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> self.all_paths(kid)] <span class=\"keyword\">or</span> [[root.val]]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šrecursively. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root, sum)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    val, *kids = root.val, root.left, root.right</span><br><span class=\"line\">    <span class=\"keyword\">if</span> any(kids):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [[val] + path</span><br><span class=\"line\">                <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> kids <span class=\"keyword\">if</span> kid</span><br><span class=\"line\">                <span class=\"keyword\">for</span> path <span class=\"keyword\">in</span> self.pathSum(kid, sum-val)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [[val]] <span class=\"keyword\">if</span> val==sum <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››: dfs. æ³¨æ„æ‰¾åˆ°å¶å­èŠ‚ç‚¹åä¹Ÿè¦pop()ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathSum</span><span class=\"params\">(self, root: TreeNode, sum: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    self.ans = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, s, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span></span><br><span class=\"line\">        p.append(node.val)</span><br><span class=\"line\">        s += node.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">and</span> s==sum:</span><br><span class=\"line\">            self.ans.append(p[:])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            dfs(node.left, s, p)</span><br><span class=\"line\">            dfs(node.right, s, p)</span><br><span class=\"line\">        p.pop()</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root, <span class=\"number\">0</span>, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"297-Serialize-and-Deserialize-Binary-Tree\"><a href=\"#297-Serialize-and-Deserialize-Binary-Tree\" class=\"headerlink\" title=\"297. Serialize and Deserialize Binary Tree\"></a>297. Serialize and Deserialize Binary Tree</h3><h4 id=\"åºåˆ—åŒ–ååºåˆ—åŒ–äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#åºåˆ—åŒ–ååºåˆ—åŒ–äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åºåˆ—åŒ–ååºåˆ—åŒ–äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>åºåˆ—åŒ–ååºåˆ—åŒ–äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/serialize-and-deserialize-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Codec</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">serialize</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'$'</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (str(root.val) + <span class=\"string\">','</span> + self.serialize(root.left) + </span><br><span class=\"line\">                <span class=\"string\">','</span> + self.serialize(root.right))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deserialize</span><span class=\"params\">(self, data)</span>:</span></span><br><span class=\"line\">        nodes = data.split(<span class=\"string\">','</span>)[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.deserialize_tree(nodes)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deserialize_tree</span><span class=\"params\">(self, nodes)</span>:</span></span><br><span class=\"line\">        val = nodes.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> val == <span class=\"string\">'$'</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        root = TreeNode(val)</span><br><span class=\"line\">        root.left = self.deserialize_tree(nodes)</span><br><span class=\"line\">        root.right = self.deserialize_tree(nodes)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"110-Balanced-Binary-Tree\"><a href=\"#110-Balanced-Binary-Tree\" class=\"headerlink\" title=\"110. Balanced Binary Tree\"></a>110. Balanced Binary Tree</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/balanced-binary-tree/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’+é€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.isBalanced(root.left) <span class=\"keyword\">and</span> self.isBalanced(root.right) <span class=\"keyword\">and</span> \\</span><br><span class=\"line\">           abs(self.max_depth(root.left)-self.max_depth(root.right)) &lt;= <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_depth</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(self.max_depth(root.left), self.max_depth(root.right)) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸Šè¯‰ä¸¤ç§æ–¹æ³•ä¸­éƒ½åŒ…å«äº†ä¸€äº›æ— æ„ä¹‰çš„é‡å¤éå†ã€‚è¿™é‡Œé‡‡ç”¨ååºéå†ï¼Œè¾¹éå†è¾¹åˆ¤æ–­ï¼Œä¸ä¼šé‡å¤èŠ‚ç‚¹ã€‚å—æ­¤æ€æƒ³å¯å‘ï¼Œæ·»åŠ ä¸€ç§ååºéå†äºŒå‰æ ‘çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    stack, node = [], root</span><br><span class=\"line\">    last, depths = <span class=\"literal\">None</span>, collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> node:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            stack.append(node)</span><br><span class=\"line\">            node = node.left</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            node = stack[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">or</span> last == node.right:</span><br><span class=\"line\">                node = stack.pop()</span><br><span class=\"line\">                left, right  = depths[node.left], depths[node.right]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> abs(left - right) &gt; <span class=\"number\">1</span>: </span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                depths[node] = <span class=\"number\">1</span> + max(left, right)</span><br><span class=\"line\">                last, node = node, <span class=\"literal\">None</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                node = node.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šdfs. ç®—æ·±åº¦çš„æ—¶å€™åˆ¤æ–­å·¦å³æ˜¯å¦æ·±åº¦è¶…è¿‡1. è¿™é‡Œå˜é‡ä¸èƒ½æŠŠselfå»æ‰ï¼Œå¦åˆ™<code>[1,2,2,3,3,null,null,4,4]</code>ä¼šé”™è¯¯çš„è¿”å›<code>True</code>è€Œä¸æ˜¯<code>False</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBalanced</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\">    self.balanced = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> self.balanced:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> abs(left-right) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            self.balanced = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(left, right) + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.balanced</span><br></pre></td></tr></table></figure>\n<h3 id=\"108-Convert-Sorted-Array-to-Binary-Search-Tree\"><a href=\"#108-Convert-Sorted-Array-to-Binary-Search-Tree\" class=\"headerlink\" title=\"108. Convert Sorted Array to Binary Search Tree\"></a>108. Convert Sorted Array to Binary Search Tree</h3><h4 id=\"å°†æœ‰åºæ•°ç»„è½¬æ¢æˆäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"><a href=\"#å°†æœ‰åºæ•°ç»„è½¬æ¢æˆäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æœ‰åºæ•°ç»„è½¬æ¢æˆäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"></a>å°†æœ‰åºæ•°ç»„è½¬æ¢æˆäºŒå‰æœç´¢æ ‘ã€‚<a href=\"https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given the sorted array: [-10,-3,0,5,9],</span><br><span class=\"line\"></span><br><span class=\"line\">One possible answer is: [0,-3,9,-10,null,5],</span><br><span class=\"line\">      0</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">   -3   9</span><br><span class=\"line\">   &#x2F;   &#x2F;</span><br><span class=\"line\"> -10  5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç­”æ¡ˆä¸å”¯ä¸€ï¼Œå±…ç„¶ä¸€æ¬¡å°±é€šè¿‡äº†ã€‚é€’å½’çš„æ€æƒ³è¿˜æ˜¯ç®€å•ä¸€äº›çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortedArrayToBST</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    mid = len(nums) // <span class=\"number\">2</span></span><br><span class=\"line\">    root = TreeNode(nums[mid])</span><br><span class=\"line\">    root.left = self.sortedArrayToBST(nums[:mid])</span><br><span class=\"line\">    root.right = self.sortedArrayToBST(nums[mid+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨åˆ‡ç‰‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortedArrayToBST</span><span class=\"params\">(self, nums: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convert</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &gt; hi:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        root = TreeNode(nums[mid])</span><br><span class=\"line\">        root.left = convert(lo, mid<span class=\"number\">-1</span>)</span><br><span class=\"line\">        root.right = convert(mid+<span class=\"number\">1</span>, hi)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> convert(<span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"235-Lowest-Common-Ancestor-of-a-Binary-Search-Tree\"><a href=\"#235-Lowest-Common-Ancestor-of-a-Binary-Search-Tree\" class=\"headerlink\" title=\"235. Lowest Common Ancestor of a Binary Search Tree\"></a>235. Lowest Common Ancestor of a Binary Search Tree</h3><h4 id=\"å¯»æ‰¾äºŒå‰æœç´¢æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"><a href=\"#å¯»æ‰¾äºŒå‰æœç´¢æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯»æ‰¾äºŒå‰æœç´¢æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"></a>å¯»æ‰¾äºŒå‰æœç´¢æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚<a href=\"https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-search-tree\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šiteratively. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lowestCommonAncestor</span><span class=\"params\">(self, root, p, q)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root.val-p.val) * (root.val-q.val) &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        root = (root.left, root.right)[root.val &lt; p.val]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lowestCommonAncestor</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root.val-p.val) * (root.val-q.val) &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.lowestCommonAncestor(</span><br><span class=\"line\">        (root.left, root.right)[root.val &lt; p.val], p, q)</span><br></pre></td></tr></table></figure>\n<h3 id=\"404-Sum-of-Left-Leaves\"><a href=\"#404-Sum-of-Left-Leaves\" class=\"headerlink\" title=\"404. Sum of Left Leaves\"></a>404. Sum of Left Leaves</h3><h4 id=\"æ±‚ä¸€ä¸ªäºŒå‰æ ‘æ‰€æœ‰å·¦å¶å­èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸€ä¸ªäºŒå‰æ ‘æ‰€æœ‰å·¦å¶å­èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸€ä¸ªäºŒå‰æ ‘æ‰€æœ‰å·¦å¶å­èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"></a>æ±‚ä¸€ä¸ªäºŒå‰æ ‘æ‰€æœ‰å·¦å¶å­èŠ‚ç‚¹çš„å’Œã€‚<a href=\"https://leetcode.com/problems/sum-of-left-leaves/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šiteratively.è¿™é‡Œä½¿ç”¨äº†tupleè®°å½•æ˜¯å¦ä¸ºå·¦å¶å­èŠ‚ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans, stack = <span class=\"number\">0</span>, root <span class=\"keyword\">and</span> [(root, <span class=\"literal\">False</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, isleft = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right <span class=\"keyword\">and</span> isleft:</span><br><span class=\"line\">                ans += n.val</span><br><span class=\"line\">            stack.append((n.right, <span class=\"literal\">False</span>))</span><br><span class=\"line\">            stack.append((n.left, <span class=\"literal\">True</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumOfLeftLeaves</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (root.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> root.left.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> root.left.right):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root.left.val + self.sumOfLeftLeaves(root.right)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (self.sumOfLeftLeaves(root.left) + </span><br><span class=\"line\">                self.sumOfLeftLeaves(root.right))</span><br></pre></td></tr></table></figure>\n<h3 id=\"938-Range-Sum-of-BST\"><a href=\"#938-Range-Sum-of-BST\" class=\"headerlink\" title=\"938. Range Sum of BST\"></a>938. Range Sum of BST</h3><h4 id=\"ç»™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ±‚äºŒå‰æœç´¢æ ‘åœ¨è¿™ä¸¤ä¸ªå€¼ä¹‹é—´çš„èŠ‚ç‚¹å’Œã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#ç»™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ±‚äºŒå‰æœç´¢æ ‘åœ¨è¿™ä¸¤ä¸ªå€¼ä¹‹é—´çš„èŠ‚ç‚¹å’Œã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ±‚äºŒå‰æœç´¢æ ‘åœ¨è¿™ä¸¤ä¸ªå€¼ä¹‹é—´çš„èŠ‚ç‚¹å’Œã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å”¯ä¸€ã€‚åŸé¢˜\"></a>ç»™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ±‚äºŒå‰æœç´¢æ ‘åœ¨è¿™ä¸¤ä¸ªå€¼ä¹‹é—´çš„èŠ‚ç‚¹å’Œã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å”¯ä¸€ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-110/problems/range-sum-of-bst/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [10,5,15,3,7,null,18], L &#x3D; 7, R &#x3D; 15</span><br><span class=\"line\">Output: 32</span><br><span class=\"line\">Input: root &#x3D; [10,5,15,3,7,13,18,1,null,6], L &#x3D; 6, R &#x3D; 10</span><br><span class=\"line\">Output: 23</span><br></pre></td></tr></table></figure>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree/range_sum.png\" class>\n<p>æ–¹æ³•ä¸€ï¼šå› ä¸ºæ˜¯ç«èµ›é¢˜ï¼Œæ‰€ä»¥æ²¡è¿½æ±‚æ•ˆç‡ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆå‰åºéå†äº†ä¸€ä¸‹ï¼Œå†æ ¹æ®æ¡ä»¶æ±‚å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeSumBST</span><span class=\"params\">(self, root, L, R)</span>:</span></span><br><span class=\"line\">    traverse, stack = [], [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            traverse.append(node.val)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">                stack.append(node.right)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">                stack.append(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum([x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> traverse <span class=\"keyword\">if</span> L &lt;= x &lt;= R])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeSumBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, L: <span class=\"string\">'int'</span>, R: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans, stack = <span class=\"number\">0</span>, root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.val &gt; L <span class=\"keyword\">and</span> node.left:</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.val &lt; R <span class=\"keyword\">and</span> node.right:</span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> L &lt;= node.val &lt;= R:</span><br><span class=\"line\">            ans += node.val</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šé€’å½’ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rangeSumBST</span><span class=\"params\">(self, root: TreeNode, low: int, high: int)</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> low &lt;= root.val &lt;= high:</span><br><span class=\"line\">            ans += root.val</span><br><span class=\"line\">            ans += self.rangeSumBST(root.left, low, high)</span><br><span class=\"line\">            ans += self.rangeSumBST(root.right, low, high)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> root.val &lt; low:</span><br><span class=\"line\">            ans += self.rangeSumBST(root.right, low, high)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += self.rangeSumBST(root.left, low, high)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"530-Minimum-Absolute-Difference-in-BST\"><a href=\"#530-Minimum-Absolute-Difference-in-BST\" class=\"headerlink\" title=\"530. Minimum Absolute Difference in BST\"></a>530. Minimum Absolute Difference in BST</h3><h4 id=\"æ±‚äºŒå‰æœç´¢æ ‘ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å·®ã€‚åŸé¢˜\"><a href=\"#æ±‚äºŒå‰æœç´¢æ ‘ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å·®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚äºŒå‰æœç´¢æ ‘ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å·®ã€‚åŸé¢˜\"></a>æ±‚äºŒå‰æœç´¢æ ‘ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å·®ã€‚<a href=\"https://leetcode.com/problems/minimum-absolute-difference-in-bst/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\"></span><br><span class=\"line\">   1</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     3</span><br><span class=\"line\">    &#x2F;</span><br><span class=\"line\">   2</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">1</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The minimum absolute difference is 1, which is the difference between 2 and 1 (or between 2 and 3).</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMinimumDifference</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> []</span><br><span class=\"line\">        <span class=\"keyword\">return</span> inorder(n.left) + [n.val] + inorder(n.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    nums = inorder(root)</span><br><span class=\"line\">    <span class=\"comment\"># return min(nums[i+1]-nums[i] for i in range(len(nums)-1))</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(b-a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(nums, nums[<span class=\"number\">1</span>:]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"783-Minimum-Distance-Between-BST-Nodes\"><a href=\"#783-Minimum-Distance-Between-BST-Nodes\" class=\"headerlink\" title=\"783. Minimum Distance Between BST Nodes\"></a>783. Minimum Distance Between BST Nodes</h3><h4 id=\"äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å€¼ã€‚å’Œ530æ˜¯ä¸€é“é¢˜ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å€¼ã€‚å’Œ530æ˜¯ä¸€é“é¢˜ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å€¼ã€‚å’Œ530æ˜¯ä¸€é“é¢˜ã€‚åŸé¢˜\"></a>äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å€¼ã€‚å’Œ530æ˜¯ä¸€é“é¢˜ã€‚<a href=\"https://leetcode.com/problems/minimum-distance-between-bst-nodes/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [4,2,6,1,3,null,null]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Note that root is a TreeNode object, not an array.</span><br><span class=\"line\"></span><br><span class=\"line\">The given tree [4,2,6,1,3,null,null] is represented by the following diagram:</span><br><span class=\"line\"></span><br><span class=\"line\">          4</span><br><span class=\"line\">        &#x2F;   \\</span><br><span class=\"line\">      2      6</span><br><span class=\"line\">     &#x2F; \\    </span><br><span class=\"line\">    1   3  </span><br><span class=\"line\"></span><br><span class=\"line\">while the minimum difference in this tree is 1, it occurs between node 1 and node 2, also between node 3 and node 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’ + ç”Ÿæˆå™¨ï¼Œ éå†äº†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDiffInBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> []</span><br><span class=\"line\">        <span class=\"keyword\">return</span> inorder(node.left) + [node.val] + inorder(node.right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    t = inorder(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(t[x]-t[x<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(t)))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†ï¼Œæ²¡æœ‰ä¿å­˜æ•´ä¸ªéå†æ•°ç»„ï¼Œæ•ˆç‡é«˜ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDiffInBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, last, stack = float(<span class=\"string\">'inf'</span>), float(<span class=\"string\">'-inf'</span>), []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.left</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        ans, last = min(ans, root.val-last), root.val</span><br><span class=\"line\">        root = root.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡é€’å½’ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    pre = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDiffInBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.left:</span><br><span class=\"line\">            self.minDiffInBST(root.left)</span><br><span class=\"line\">        self.ans = min(self.ans, root.val-self.pre)</span><br><span class=\"line\">        self.pre = root.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.right:</span><br><span class=\"line\">            self.minDiffInBST(root.right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"538-Convert-BST-to-Greater-Tree\"><a href=\"#538-Convert-BST-to-Greater-Tree\" class=\"headerlink\" title=\"538. Convert BST to Greater Tree\"></a>538. Convert BST to Greater Tree</h3><h4 id=\"äºŒå‰æœç´¢æ ‘è½¬æ¢ã€‚ä½¿å¾—èŠ‚ç‚¹çš„å€¼ç­‰äºæ‰€æœ‰æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"><a href=\"#äºŒå‰æœç´¢æ ‘è½¬æ¢ã€‚ä½¿å¾—èŠ‚ç‚¹çš„å€¼ç­‰äºæ‰€æœ‰æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æœç´¢æ ‘è½¬æ¢ã€‚ä½¿å¾—èŠ‚ç‚¹çš„å€¼ç­‰äºæ‰€æœ‰æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"></a>äºŒå‰æœç´¢æ ‘è½¬æ¢ã€‚ä½¿å¾—èŠ‚ç‚¹çš„å€¼ç­‰äºæ‰€æœ‰æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å’Œã€‚<a href=\"https://leetcode.com/problems/convert-bst-to-greater-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: The root of a Binary Search Tree like this:</span><br><span class=\"line\">              5</span><br><span class=\"line\">            &#x2F;   \\</span><br><span class=\"line\">           2     13</span><br><span class=\"line\"></span><br><span class=\"line\">Output: The root of a Greater Tree like this:</span><br><span class=\"line\">             18</span><br><span class=\"line\">            &#x2F;   \\</span><br><span class=\"line\">          20     13</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šrecursivelyã€‚è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªå˜é‡æ¥ä¿å­˜å½“å‰çš„ç´¯åŠ å’Œï¼Œç„¶åé€’å½’ä¸­é‡‡ç”¨å…ˆå³åå·¦çš„æ–¹å¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convertBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span>   </span><br><span class=\"line\">    self.val = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            dfs(node.right)</span><br><span class=\"line\">            self.val += node.val</span><br><span class=\"line\">            node.val = self.val</span><br><span class=\"line\">            dfs(node.left)</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šiterativelyã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convertBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span>   </span><br><span class=\"line\">    head = root</span><br><span class=\"line\">    stack, val = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.right</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        val += root.val</span><br><span class=\"line\">        root.val = val</span><br><span class=\"line\">        root = root.left</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šç”Ÿæˆå™¨å†™æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convertBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span>   </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.right)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.left)</span><br><span class=\"line\">    val = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> dfs(root):</span><br><span class=\"line\">        val += node.val</span><br><span class=\"line\">        node.val = val</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"958-Check-Completeness-of-a-Binary-Tree\"><a href=\"#958-Check-Completeness-of-a-Binary-Tree\" class=\"headerlink\" title=\"958. Check Completeness of a Binary Tree\"></a>958. Check Completeness of a Binary Tree</h3><h4 id=\"åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œæ•´äºŒå‰æ ‘ã€‚å®Œæ•´äºŒå‰æ ‘ä¸ºï¼šé™¤äº†æœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½ä¸ºç©ºï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨å»é å·¦ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œæ•´äºŒå‰æ ‘ã€‚å®Œæ•´äºŒå‰æ ‘ä¸ºï¼šé™¤äº†æœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½ä¸ºç©ºï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨å»é å·¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œæ•´äºŒå‰æ ‘ã€‚å®Œæ•´äºŒå‰æ ‘ä¸ºï¼šé™¤äº†æœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½ä¸ºç©ºï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨å»é å·¦ã€‚åŸé¢˜\"></a>åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œæ•´äºŒå‰æ ‘ã€‚å®Œæ•´äºŒå‰æ ‘ä¸ºï¼šé™¤äº†æœ€åä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½ä¸ºç©ºï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨å»é å·¦ã€‚<a href=\"https://leetcode.com/problems/check-completeness-of-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p><strong>Example 1:</strong></p>\n<p><strong><img src=\"https://assets.leetcode.com/uploads/2018/12/15/complete-binary-tree-1.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5,6]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: Every level before the last is full (ie. levels with node-values &#123;1&#125; and &#123;2, 3&#125;), and all nodes in the last level (&#123;4, 5, 6&#125;) are as far left as possible.</span><br></pre></td></tr></table></figure>\n<p><strong>Example 2:</strong></p>\n<p><strong><img src=\"https://assets.leetcode.com/uploads/2018/12/15/complete-binary-tree-2.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4,5,null,7]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: The node with value 7 isn&#39;t as far left as possible.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé‡‡ç”¨åˆ†å±‚éå†çš„æ–¹å¼ï¼Œåˆ¤æ–­æ¯å±‚çš„èŠ‚ç‚¹æ˜¯å¦æ˜¯2**levelã€‚æœ€åä¸€å±‚é‡‡ç”¨åˆ‡ç‰‡çš„æ–¹å¼åˆ¤æ–­æœ€å·¦åŸåˆ™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isCompleteTree</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        levels = [root]</span><br><span class=\"line\">        last_full = <span class=\"literal\">True</span></span><br><span class=\"line\">        level = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> levels:</span><br><span class=\"line\">            value_nodes = [n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> levels <span class=\"keyword\">if</span> n]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> value_nodes != levels[:len(value_nodes)]:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                print(len(levels), <span class=\"number\">2</span>**level)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(levels) != <span class=\"number\">2</span>**level:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> last_full:</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                    last_full = <span class=\"literal\">False</span></span><br><span class=\"line\">                </span><br><span class=\"line\">            levels = [kid <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> levels <span class=\"keyword\">if</span> n <span class=\"keyword\">for</span> kid <span class=\"keyword\">in</span> (n.left, n.right)]</span><br><span class=\"line\">            level += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeç¥çš„å†™æ³•ï¼Œæƒ³æ˜ç™½ä¸€ä»¶äº‹å°±æ˜¯ï¼Œé‡è§ç¬¬ä¸€ä¸ªNoneæ—¶ï¼Œåé¢å¦‚æœå†æœ‰éNoneçš„å€¼å°±ä¸æ˜¯ç©æ•´æ ‘äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isCompleteTree</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    i, bfs = <span class=\"number\">0</span>, [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> bfs[i]:</span><br><span class=\"line\">        bfs.append(bfs[i].left)</span><br><span class=\"line\">        bfs.append(bfs[i].right)</span><br><span class=\"line\">        i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> any(bfs[i:])</span><br></pre></td></tr></table></figure>\n<h3 id=\"543-Diameter-of-Binary-Tree\"><a href=\"#543-Diameter-of-Binary-Tree\" class=\"headerlink\" title=\"543. Diameter of Binary Tree\"></a>543. Diameter of Binary Tree</h3><h4 id=\"æ±‚äºŒå‰æ ‘çš„æœ€å¤§ç›´å¾„ï¼Œå³ä»»æ„ä¸¤èŠ‚ç‚¹çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æ±‚äºŒå‰æ ‘çš„æœ€å¤§ç›´å¾„ï¼Œå³ä»»æ„ä¸¤èŠ‚ç‚¹çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚äºŒå‰æ ‘çš„æœ€å¤§ç›´å¾„ï¼Œå³ä»»æ„ä¸¤èŠ‚ç‚¹çš„é•¿åº¦ã€‚åŸé¢˜\"></a>æ±‚äºŒå‰æ ‘çš„æœ€å¤§ç›´å¾„ï¼Œå³ä»»æ„ä¸¤èŠ‚ç‚¹çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/diameter-of-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">          1</span><br><span class=\"line\">         &#x2F; \\</span><br><span class=\"line\">        2   3</span><br><span class=\"line\">       &#x2F; \\     </span><br><span class=\"line\">      4   5    </span><br><span class=\"line\">Return **3**, which is the length of the path [4,2,1,3] or [5,2,1,3].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼š recursively, ä½¿ç”¨ä¸€ä¸ªå®ä¾‹å˜é‡è®¡ç®—äº†æœ€å¤§å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">diameterOfBinaryTree</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    self.diameter = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        self.diameter = max(self.diameter, left+right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(left, right) + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.diameter</span><br></pre></td></tr></table></figure>\n<h3 id=\"965-Univalued-Binary-Tree\"><a href=\"#965-Univalued-Binary-Tree\" class=\"headerlink\" title=\"965. Univalued Binary Tree\"></a>965. Univalued Binary Tree</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ã€‚<a href=\"https://leetcode.com/problems/univalued-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šrecursivelyã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isUnivalTree</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"keyword\">not</span> node <span class=\"keyword\">or</span> root.val==node.val <span class=\"keyword\">and</span> </span><br><span class=\"line\">                dfs(node.left) <span class=\"keyword\">and</span> dfs(node.right))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(root)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.å¸¸è§„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isUnivalTree</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    r_val, stack = root.val, [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n.val != r_val:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            stack.append(n.right)</span><br><span class=\"line\">            stack.append(n.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå‰åºéå†ï¼Œç”Ÿæˆå™¨æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isUnivalTree</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> bfs(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> bfs(node.right)</span><br><span class=\"line\">            </span><br><span class=\"line\">    it = bfs(root)</span><br><span class=\"line\">    root_val = next(it)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> val <span class=\"keyword\">in</span> it:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> val != root_val:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"563-Binary-Tree-Tilt\"><a href=\"#563-Binary-Tree-Tilt\" class=\"headerlink\" title=\"563. Binary Tree Tilt\"></a>563. Binary Tree Tilt</h3><h4 id=\"è¿”å›ä¸€ä¸ªäºŒå‰æ ‘æ•´ä¸ªæ ‘çš„å€¾æ–œåº¦ã€‚æ‰€æœ‰èŠ‚ç‚¹å€¾æ–œåº¦çš„æ€»å’Œã€‚èŠ‚ç‚¹çš„å€¾æ–œåº¦ç­‰äºå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰å’Œå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\"><a href=\"#è¿”å›ä¸€ä¸ªäºŒå‰æ ‘æ•´ä¸ªæ ‘çš„å€¾æ–œåº¦ã€‚æ‰€æœ‰èŠ‚ç‚¹å€¾æ–œåº¦çš„æ€»å’Œã€‚èŠ‚ç‚¹çš„å€¾æ–œåº¦ç­‰äºå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰å’Œå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›ä¸€ä¸ªäºŒå‰æ ‘æ•´ä¸ªæ ‘çš„å€¾æ–œåº¦ã€‚æ‰€æœ‰èŠ‚ç‚¹å€¾æ–œåº¦çš„æ€»å’Œã€‚èŠ‚ç‚¹çš„å€¾æ–œåº¦ç­‰äºå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰å’Œå·®çš„ç»å¯¹å€¼ã€‚åŸé¢˜\"></a>è¿”å›ä¸€ä¸ªäºŒå‰æ ‘æ•´ä¸ªæ ‘çš„å€¾æ–œåº¦ã€‚æ‰€æœ‰èŠ‚ç‚¹å€¾æ–œåº¦çš„æ€»å’Œã€‚èŠ‚ç‚¹çš„å€¾æ–œåº¦ç­‰äºå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰å’Œå·®çš„ç»å¯¹å€¼ã€‚<a href=\"https://leetcode.com/problems/binary-tree-tilt/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">         1</span><br><span class=\"line\">       &#x2F;   \\</span><br><span class=\"line\">      2     3</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Tilt of node 2 : 0</span><br><span class=\"line\">Tilt of node 3 : 0</span><br><span class=\"line\">Tilt of node 1 : |2-3| &#x3D; 1</span><br><span class=\"line\">Tilt of binary tree : 0 + 0 + 1 &#x3D; 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively. è¿™é‡Œç”¨tupleè®°å½•äº†èŠ‚ç‚¹æ€»å’Œå’Œå€¾æ–œåº¦æ€»å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTilt</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    self.res = <span class=\"number\">0</span></span><br><span class=\"line\">    _, top_res = self.sum_and_diff(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.res + top_res</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sum_and_diff</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    l_sum, l_diff = self.sum_and_diff(node.left)</span><br><span class=\"line\">    r_sum, r_diff = self.sum_and_diff(node.right)</span><br><span class=\"line\">    self.res += l_diff + r_diff</span><br><span class=\"line\">    <span class=\"comment\"># print(node.val, node.val+l_sum+r_sum, abs(l_sum-r_sum))</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> node.val+l_sum+r_sum, abs(l_sum-r_sum)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒ: æƒ³äº†ä¸€ä¼šååºéå†çš„è¿­ä»£æ³•ï¼Œæ²¡æƒ³å‡ºæ¥ï¼Œè²Œä¼¼éœ€è¦ç»´æŠ¤å¾ˆå¤šçš„å˜é‡ã€‚è¿™é‡Œè¿˜æ˜¯ä¼˜åŒ–ä¸€ä¸‹æ–¹æ³•ä¸€ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTilt</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        l_sum, l_diff = dfs(node.left)</span><br><span class=\"line\">        r_sum, r_diff = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (node.val + l_sum + r_sum, </span><br><span class=\"line\">                abs(l_sum-r_sum) + l_diff + r_diff)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(root)[<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"606-Construct-String-from-Binary-Tree\"><a href=\"#606-Construct-String-from-Binary-Tree\" class=\"headerlink\" title=\"606. Construct String from Binary Tree\"></a>606. Construct String from Binary Tree</h3><h4 id=\"æ ¹æ®äºŒå‰æ ‘é‡å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨-è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®äºŒå‰æ ‘é‡å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨-è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®äºŒå‰æ ‘é‡å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨()è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚åŸé¢˜\"></a>æ ¹æ®äºŒå‰æ ‘é‡å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨<code>()</code>è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚<a href=\"https://leetcode.com/problems/construct-string-from-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: Binary tree: [1,2,3,4]</span><br><span class=\"line\">       1</span><br><span class=\"line\">     &#x2F;   \\</span><br><span class=\"line\">    2     3</span><br><span class=\"line\">   &#x2F;    </span><br><span class=\"line\">  4     </span><br><span class=\"line\">Output: &quot;1(2(4))(3)&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">Input: Binary tree: [1,2,3,null,4]</span><br><span class=\"line\">       1</span><br><span class=\"line\">     &#x2F;   \\</span><br><span class=\"line\">    2     3</span><br><span class=\"line\">     \\  </span><br><span class=\"line\">      4 </span><br><span class=\"line\">Output: &quot;1(2()(4))(3)&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively. å·¦å³èŠ‚ç‚¹æœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œåœ¨äºå¦‚æœå·¦èŠ‚ç‚¹ä¸ºç©ºï¼Œå³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¦ä¿ç•™å·¦èŠ‚ç‚¹çš„æ‹¬å·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">tree2str</span><span class=\"params\">(self, t)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t: <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">    left = <span class=\"string\">'(&#123;&#125;)'</span>.format(self.tree2str(t.left)) <span class=\"keyword\">if</span> (t.left <span class=\"keyword\">or</span> t.right) <span class=\"keyword\">else</span> <span class=\"string\">''</span></span><br><span class=\"line\">    right = <span class=\"string\">'(&#123;&#125;)'</span>.format(self.tree2str(t.right)) <span class=\"keyword\">if</span> t.right <span class=\"keyword\">else</span> <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;&#123;&#125;&#123;&#125;'</span>.format(t.val, left, right)</span><br></pre></td></tr></table></figure>\n<h3 id=\"617-Merge-Two-Binary-Trees\"><a href=\"#617-Merge-Two-Binary-Trees\" class=\"headerlink\" title=\"617. Merge Two Binary Trees\"></a>617. Merge Two Binary Trees</h3><h4 id=\"åˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç›¸åŒä½ç½®çš„èŠ‚ç‚¹å€¼ç›¸åŠ ï¼Œç©ºèŠ‚ç‚¹ç®—0-åŸé¢˜\"><a href=\"#åˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç›¸åŒä½ç½®çš„èŠ‚ç‚¹å€¼ç›¸åŠ ï¼Œç©ºèŠ‚ç‚¹ç®—0-åŸé¢˜\" class=\"headerlink\" title=\"åˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç›¸åŒä½ç½®çš„èŠ‚ç‚¹å€¼ç›¸åŠ ï¼Œç©ºèŠ‚ç‚¹ç®—0.åŸé¢˜\"></a>åˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç›¸åŒä½ç½®çš„èŠ‚ç‚¹å€¼ç›¸åŠ ï¼Œç©ºèŠ‚ç‚¹ç®—0.<a href=\"https://leetcode.com/problems/merge-two-binary-trees/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šrecursively.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTrees</span><span class=\"params\">(self, t1: TreeNode, t2: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> t2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    v1, v2 = t1.val <span class=\"keyword\">if</span> t1 <span class=\"keyword\">else</span> <span class=\"number\">0</span>, t2.val <span class=\"keyword\">if</span> t2 <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    root = TreeNode(v1+v2)</span><br><span class=\"line\">    root.left = self.mergeTrees(t1.left <span class=\"keyword\">if</span> t1 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, t2.left <span class=\"keyword\">if</span> t2 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>)</span><br><span class=\"line\">    root.right = self.mergeTrees(t1.right <span class=\"keyword\">if</span> t1 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, t2.right <span class=\"keyword\">if</span> t2 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mergeTrees</span><span class=\"params\">(self, t1, t2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> t2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    t = TreeNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    stack = [(t, t1, t2)]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        n, n1, n2 = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n1 <span class=\"keyword\">or</span> n2:</span><br><span class=\"line\">            n.val = (n1.val <span class=\"keyword\">if</span> n1 <span class=\"keyword\">else</span> <span class=\"number\">0</span>) + (n2.val <span class=\"keyword\">if</span> n2 <span class=\"keyword\">else</span> <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n1 <span class=\"keyword\">and</span> n1.right) <span class=\"keyword\">or</span> (n2 <span class=\"keyword\">and</span> n2.right):</span><br><span class=\"line\">                n.right = TreeNode(<span class=\"literal\">None</span>)</span><br><span class=\"line\">                stack.append((n.right, n1.right <span class=\"keyword\">if</span> n1 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, n2.right <span class=\"keyword\">if</span> n2 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n1 <span class=\"keyword\">and</span> n1.left) <span class=\"keyword\">or</span> (n2 <span class=\"keyword\">and</span> n2.left):</span><br><span class=\"line\">                n.left = TreeNode(<span class=\"literal\">None</span>)</span><br><span class=\"line\">                stack.append((n.left, n1.left <span class=\"keyword\">if</span> n1 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>, n2.left <span class=\"keyword\">if</span> n2 <span class=\"keyword\">else</span> <span class=\"literal\">None</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t</span><br></pre></td></tr></table></figure>\n<h3 id=\"653-Two-Sum-IV-Input-is-a-BST\"><a href=\"#653-Two-Sum-IV-Input-is-a-BST\" class=\"headerlink\" title=\"653. Two Sum IV - Input is a BST\"></a>653. Two Sum IV - Input is a BST</h3><h4 id=\"åˆ¤æ–­äºŒå‰æ ‘ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŠ ä¸ºkã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­äºŒå‰æ ‘ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŠ ä¸ºkã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­äºŒå‰æ ‘ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŠ ä¸ºkã€‚åŸé¢˜\"></a>åˆ¤æ–­äºŒå‰æ ‘ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŠ ä¸ºkã€‚<a href=\"https://leetcode.com/problems/two-sum-iv-input-is-a-bst/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">    5</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  3   6</span><br><span class=\"line\"> &#x2F; \\   \\</span><br><span class=\"line\">2   4   7</span><br><span class=\"line\"></span><br><span class=\"line\">Target &#x3D; 9</span><br><span class=\"line\"></span><br><span class=\"line\">Output: True</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼špreorder + set.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTarget</span><span class=\"params\">(self, root, k)</span>:</span></span><br><span class=\"line\">    seen, stack = set(), root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> k-node.val <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            seen.add(node.val)</span><br><span class=\"line\">            stack.append(node.right)</span><br><span class=\"line\">            stack.append(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"669-Trim-a-Binary-Search-Tree\"><a href=\"#669-Trim-a-Binary-Search-Tree\" class=\"headerlink\" title=\"669. Trim a Binary Search Tree\"></a>669. Trim a Binary Search Tree</h3><h4 id=\"æ ¹æ®èŒƒå›´ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œæ³¨æ„æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¸æ˜¯æ™®é€šçš„äºŒå‰æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®èŒƒå›´ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œæ³¨æ„æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¸æ˜¯æ™®é€šçš„äºŒå‰æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®èŒƒå›´ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œæ³¨æ„æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¸æ˜¯æ™®é€šçš„äºŒå‰æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®èŒƒå›´ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œæ³¨æ„æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¸æ˜¯æ™®é€šçš„äºŒå‰æ ‘ã€‚<a href=\"https://leetcode.com/problems/trim-a-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">    1</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  0   2</span><br><span class=\"line\"></span><br><span class=\"line\">  L &#x3D; 1</span><br><span class=\"line\">  R &#x3D; 2</span><br><span class=\"line\"></span><br><span class=\"line\">Output: </span><br><span class=\"line\">    1</span><br><span class=\"line\">      \\</span><br><span class=\"line\">       2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively. </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trimBST</span><span class=\"params\">(self, root, L, R)</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trim_node</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.val &gt; R:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> trim_node(node.left)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.val &lt; L:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> trim_node(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            node.left = trim_node(node.left)</span><br><span class=\"line\">            node.right = trim_node(node.right)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> node</span><br><span class=\"line\">    <span class=\"keyword\">return</span> trim_node(root)</span><br></pre></td></tr></table></figure>\n<h3 id=\"671-Second-Minimum-Node-In-a-Binary-Tree\"><a href=\"#671-Second-Minimum-Node-In-a-Binary-Tree\" class=\"headerlink\" title=\"671. Second Minimum Node In a Binary Tree\"></a>671. Second Minimum Node In a Binary Tree</h3><h4 id=\"æ‰¾å‡ºäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼ã€‚å·¦å³å­èŠ‚ç‚¹åŒæ—¶å­˜åœ¨æˆ–åŒæ—¶ä¸å­˜åœ¨ï¼Œæ ¹èŠ‚ç‚¹å°äºç­‰äºä»»æ„å­èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼ã€‚å·¦å³å­èŠ‚ç‚¹åŒæ—¶å­˜åœ¨æˆ–åŒæ—¶ä¸å­˜åœ¨ï¼Œæ ¹èŠ‚ç‚¹å°äºç­‰äºä»»æ„å­èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼ã€‚å·¦å³å­èŠ‚ç‚¹åŒæ—¶å­˜åœ¨æˆ–åŒæ—¶ä¸å­˜åœ¨ï¼Œæ ¹èŠ‚ç‚¹å°äºç­‰äºä»»æ„å­èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>æ‰¾å‡ºäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼ã€‚å·¦å³å­èŠ‚ç‚¹åŒæ—¶å­˜åœ¨æˆ–åŒæ—¶ä¸å­˜åœ¨ï¼Œæ ¹èŠ‚ç‚¹å°äºç­‰äºä»»æ„å­èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/second-minimum-node-in-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">    2</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  2   5</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">    5   7</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: The smallest value is 2, the second smallest value is 5.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆæ”¾åˆ°seté‡Œ. </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findSecondMinimumValue</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    self.uniques = set()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            self.uniques.add(node.val)</span><br><span class=\"line\">            dfs(node.left)</span><br><span class=\"line\">            dfs(node.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    min1, ans = root.val, float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> self.uniques:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> min1 &lt; v &lt; ans:</span><br><span class=\"line\">            ans = v</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> ans &lt; float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼š iteratively.  </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findSecondMinimumValue</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    min1 = root.val <span class=\"keyword\">if</span> root <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    res = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    stack = root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">        node = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> min1 &lt; node.val &lt; res:</span><br><span class=\"line\">                res = node.val</span><br><span class=\"line\">            stack.extend([node.right, node.left])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res <span class=\"keyword\">if</span> res &lt; float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šè¿˜æ²¡æƒ³å‡ºæ¥ï¼Œä»¥ä¸Šä¸¤ç§éƒ½æ²¡æœ‰åˆ©ç”¨åˆ°ä¸€äº›é¢˜ä¸­å·²çŸ¥æ¡ä»¶ï¼Œæˆ‘çœ‹Solutionä¸­ç»™å‡ºçš„åŠä¸€äº›Discussä¸­çš„ç­”æ¡ˆä¹Ÿå¿½ç•¥äº†è¿™ä¸ªæ¡ä»¶ã€‚æƒ³äº†æƒ³æ— è®ºæ˜¯å“ªä¸ªé¡ºåºéå†ï¼Œæˆ–è€…æ·±åº¦å¹¿åº¦ä¼˜å…ˆï¼Œéƒ½æ²¡èƒ½å¾ˆå¥½çš„åˆ©ç”¨è¿™ä¸ªæ¡ä»¶ã€‚</p>\n<h3 id=\"687-Longest-Univalue-Path\"><a href=\"#687-Longest-Univalue-Path\" class=\"headerlink\" title=\"687. Longest Univalue Path\"></a>687. Longest Univalue Path</h3><h4 id=\"ç›¸åŒèŠ‚ç‚¹æœ€é•¿è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦æŒ‰ç…§ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¾¹è·ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹æ•°-1ã€‚åŸé¢˜\"><a href=\"#ç›¸åŒèŠ‚ç‚¹æœ€é•¿è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦æŒ‰ç…§ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¾¹è·ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹æ•°-1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç›¸åŒèŠ‚ç‚¹æœ€é•¿è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦æŒ‰ç…§ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¾¹è·ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹æ•°-1ã€‚åŸé¢˜\"></a>ç›¸åŒèŠ‚ç‚¹æœ€é•¿è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦æŒ‰ç…§ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¾¹è·ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹æ•°-1ã€‚<a href=\"https://leetcode.com/problems/longest-univalue-path/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">              5</span><br><span class=\"line\">             &#x2F; \\</span><br><span class=\"line\">            4   5</span><br><span class=\"line\">           &#x2F; \\   \\</span><br><span class=\"line\">          1   1   5</span><br><span class=\"line\">output: 2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestUnivaluePath</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    self.res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">traverse</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left_len, right_len = traverse(node.left), traverse(node.right)</span><br><span class=\"line\">        left = (left_len+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> node.left <span class=\"keyword\">and</span> node.left.val==node.val <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        right = (right_len+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> node.right <span class=\"keyword\">and</span> node.right.val==node.val <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        self.res = max(self.res, left + right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(left, right)</span><br><span class=\"line\">    traverse(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.res</span><br></pre></td></tr></table></figure>\n<h3 id=\"700-Search-in-a-Binary-Search-Tree\"><a href=\"#700-Search-in-a-Binary-Search-Tree\" class=\"headerlink\" title=\"700. Search in a Binary Search Tree\"></a>700. Search in a Binary Search Tree</h3><h4 id=\"åœ¨äºŒå‰æœç´¢æ ‘ä¸­æœç´¢èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#åœ¨äºŒå‰æœç´¢æ ‘ä¸­æœç´¢èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨äºŒå‰æœç´¢æ ‘ä¸­æœç´¢èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>åœ¨äºŒå‰æœç´¢æ ‘ä¸­æœç´¢èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/search-in-a-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given the tree:</span><br><span class=\"line\">        4</span><br><span class=\"line\">       &#x2F; \\</span><br><span class=\"line\">      2   7</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">    1   3</span><br><span class=\"line\"></span><br><span class=\"line\">And the value to search: 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, val: <span class=\"string\">'int'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> val == root.val:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.searchBST(</span><br><span class=\"line\">            (root.left, root.right)[root.val &lt; val], val)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">searchBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, val: <span class=\"string\">'int'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    node = root</span><br><span class=\"line\">    <span class=\"keyword\">while</span> node <span class=\"keyword\">and</span> node.val != val:</span><br><span class=\"line\">        node = (node.left, node.right)[node.val &lt; val]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node</span><br></pre></td></tr></table></figure>\n<h3 id=\"872-Leaf-Similar-Trees\"><a href=\"#872-Leaf-Similar-Trees\" class=\"headerlink\" title=\"872. Leaf-Similar Trees\"></a>872. Leaf-Similar Trees</h3><h4 id=\"å¶å­ç›¸è¿‘çš„æ ‘ï¼Œåªä»å·¦åˆ°å³éå†å¶å­èŠ‚ç‚¹çš„é¡ºåºç›¸åŒçš„ä¸¤æ£µæ ‘ã€‚åŸé¢˜\"><a href=\"#å¶å­ç›¸è¿‘çš„æ ‘ï¼Œåªä»å·¦åˆ°å³éå†å¶å­èŠ‚ç‚¹çš„é¡ºåºç›¸åŒçš„ä¸¤æ£µæ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¶å­ç›¸è¿‘çš„æ ‘ï¼Œåªä»å·¦åˆ°å³éå†å¶å­èŠ‚ç‚¹çš„é¡ºåºç›¸åŒçš„ä¸¤æ£µæ ‘ã€‚åŸé¢˜\"></a>å¶å­ç›¸è¿‘çš„æ ‘ï¼Œåªä»å·¦åˆ°å³éå†å¶å­èŠ‚ç‚¹çš„é¡ºåºç›¸åŒçš„ä¸¤æ£µæ ‘ã€‚<a href=\"https://leetcode.com/problems/leaf-similar-trees/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå‰åºéå†+ç”Ÿæˆå™¨ã€‚ç©ºé—´å¤æ‚åº¦è¿‡é«˜ï¼Œbeats 1%ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">leafSimilar</span><span class=\"params\">(self, root1: <span class=\"string\">'TreeNode'</span>, root2: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">leaves</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">        stack = root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">        <span class=\"keyword\">while</span> stack:</span><br><span class=\"line\">            node = stack.pop()</span><br><span class=\"line\">            <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.right <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.left:</span><br><span class=\"line\">                    <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">                stack.append(node.right)</span><br><span class=\"line\">                stack.append(node.left)</span><br><span class=\"line\"></span><br><span class=\"line\">    leaves1 = leaves(root1)</span><br><span class=\"line\">    leaves2 = leaves(root2)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(</span><br><span class=\"line\">        a==b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> itertools.zip_longest(leaves1, leaves2))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šdfs. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">leafSimilar</span><span class=\"params\">(self, root1: <span class=\"string\">'TreeNode'</span>, root2: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(</span><br><span class=\"line\">        a==b <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> itertools.zip_longest(dfs(root1), dfs(root2)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"897-Increasing-Order-Search-Tree\"><a href=\"#897-Increasing-Order-Search-Tree\" class=\"headerlink\" title=\"897. Increasing Order Search Tree\"></a>897. Increasing Order Search Tree</h3><h4 id=\"æ ¹æ®ä¸­åºéå†å»ºç«‹ä¸€ä¸ªåªæœ‰å³å­æ ‘çš„äºŒå‰æ ‘ã€‚è¦æ±‚åœ¨åŸæ ‘ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®ä¸­åºéå†å»ºç«‹ä¸€ä¸ªåªæœ‰å³å­æ ‘çš„äºŒå‰æ ‘ã€‚è¦æ±‚åœ¨åŸæ ‘ä¸Šä¿®æ”¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®ä¸­åºéå†å»ºç«‹ä¸€ä¸ªåªæœ‰å³å­æ ‘çš„äºŒå‰æ ‘ã€‚è¦æ±‚åœ¨åŸæ ‘ä¸Šä¿®æ”¹ã€‚åŸé¢˜\"></a>æ ¹æ®ä¸­åºéå†å»ºç«‹ä¸€ä¸ªåªæœ‰å³å­æ ‘çš„äºŒå‰æ ‘ã€‚è¦æ±‚åœ¨åŸæ ‘ä¸Šä¿®æ”¹ã€‚<a href=\"https://leetcode.com/problems/increasing-order-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example 1:</span><br><span class=\"line\">Input: [5,3,6,2,4,null,8,1,null,null,null,7,9]</span><br><span class=\"line\"></span><br><span class=\"line\">       5</span><br><span class=\"line\">      &#x2F; \\</span><br><span class=\"line\">    3    6</span><br><span class=\"line\">   &#x2F; \\    \\</span><br><span class=\"line\">  2   4    8</span><br><span class=\"line\"> &#x2F;        &#x2F; \\ </span><br><span class=\"line\">1        7   9</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [1,null,2,null,3,null,4,null,5,null,6,null,7,null,8,null,9]</span><br><span class=\"line\"></span><br><span class=\"line\"> 1</span><br><span class=\"line\">  \\</span><br><span class=\"line\">   2</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     3</span><br><span class=\"line\">      \\</span><br><span class=\"line\">       4</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increasingBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    ans = head = TreeNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.left</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        head.right = TreeNode(root.val)</span><br><span class=\"line\">        root, head = root.right, head.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.right</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increasingBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.right)</span><br><span class=\"line\">            </span><br><span class=\"line\">    ans = head = TreeNode(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> inorder(root):</span><br><span class=\"line\">        head.right = TreeNode(v)</span><br><span class=\"line\">        head = head.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans.right</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šé¢˜ä¸­æœ‰ä¸ªè¦æ±‚åœ¨åŸæ ‘ä¸Šä¿®æ”¹ï¼Œæ‰€ä»¥ä»¥ä¸Šä¸¤ç§æ–¹æ³•å…¶å®ä¸ç¬¦åˆè¦æ±‚ï¼Œè¿™é‡Œä½¿ç”¨é€’å½’å®ç°ã€‚ æ­¤ç­”æ¡ˆç”±leeå¤§ç¥æä¾›ï¼Œéå¸¸å·§å¦™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">increasingBST</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, tail=None)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span> tail</span><br><span class=\"line\">    res = self.increasingBST(root.left, root)</span><br><span class=\"line\">    root.left = <span class=\"literal\">None</span></span><br><span class=\"line\">    root.right = self.increasingBST(root.right, tail)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"993-Cousins-in-Binary-Tree\"><a href=\"#993-Cousins-in-Binary-Tree\" class=\"headerlink\" title=\"993. Cousins in Binary Tree\"></a>993. Cousins in Binary Tree</h3><h4 id=\"è¡¨å¼ŸèŠ‚ç‚¹æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ·±åº¦ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¸åŒã€‚åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯è¡¨å¼ŸèŠ‚ç‚¹ã€‚æ ‘ä¸­èŠ‚ç‚¹å€¼å”¯ä¸€ã€‚åŸé¢˜\"><a href=\"#è¡¨å¼ŸèŠ‚ç‚¹æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ·±åº¦ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¸åŒã€‚åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯è¡¨å¼ŸèŠ‚ç‚¹ã€‚æ ‘ä¸­èŠ‚ç‚¹å€¼å”¯ä¸€ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¡¨å¼ŸèŠ‚ç‚¹æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ·±åº¦ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¸åŒã€‚åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯è¡¨å¼ŸèŠ‚ç‚¹ã€‚æ ‘ä¸­èŠ‚ç‚¹å€¼å”¯ä¸€ã€‚åŸé¢˜\"></a>è¡¨å¼ŸèŠ‚ç‚¹æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ·±åº¦ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¸åŒã€‚åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯è¡¨å¼ŸèŠ‚ç‚¹ã€‚æ ‘ä¸­èŠ‚ç‚¹å€¼å”¯ä¸€ã€‚<a href=\"https://leetcode.com/problems/cousins-in-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”¨dictè®°å½•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isCousins</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, x: <span class=\"string\">'int'</span>, y: <span class=\"string\">'int'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    parent, depth = &#123;&#125;, &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, par=None)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            parent[node.val] = par</span><br><span class=\"line\">            depth[node.val] = depth[par] + <span class=\"number\">1</span> <span class=\"keyword\">if</span> par <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">            dfs(node.left, node.val)</span><br><span class=\"line\">            dfs(node.right, node.val)</span><br><span class=\"line\">            </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> depth[x] == depth[y] <span class=\"keyword\">and</span> parent[x] != parent[y]</span><br></pre></td></tr></table></figure>\n<h3 id=\"230-Kth-Smallest-Element-in-a-BST\"><a href=\"#230-Kth-Smallest-Element-in-a-BST\" class=\"headerlink\" title=\"230. Kth Smallest Element in a BST\"></a>230. Kth Smallest Element in a BST</h3><h4 id=\"äºŒå‰æœç´¢æ ‘çš„ç¬¬Kå°èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æœç´¢æ ‘çš„ç¬¬Kå°èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æœç´¢æ ‘çš„ç¬¬Kå°èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"></a>äºŒå‰æœç´¢æ ‘çš„ç¬¬Kå°èŠ‚ç‚¹å€¼ã€‚<a href=\"https://leetcode.com/problems/kth-smallest-element-in-a-bst/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [3,1,4,null,2], k &#x3D; 1</span><br><span class=\"line\">   3</span><br><span class=\"line\">  &#x2F; \\</span><br><span class=\"line\"> 1   4</span><br><span class=\"line\">  \\</span><br><span class=\"line\">   2</span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç”Ÿæˆå™¨å‰åºéå†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallest</span><span class=\"params\">(self, root: TreeNode, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.right)</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> inorder(root):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallest</span><span class=\"params\">(self, root: TreeNode, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> root <span class=\"keyword\">or</span> stack:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.left</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        k -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root.val</span><br><span class=\"line\">        root = root.right</span><br></pre></td></tr></table></figure>\n<h3 id=\"98-Validate-Binary-Search-Tree\"><a href=\"#98-Validate-Binary-Search-Tree\" class=\"headerlink\" title=\"98. Validate Binary Search Tree\"></a>98. Validate Binary Search Tree</h3><h4 id=\"éªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"><a href=\"#éªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"></a>éªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ã€‚<a href=\"https://leetcode.com/problems/validate-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    5</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  1   4</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">    3   6</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: The input is: [5,1,4,null,null,3,6]. The root node&#39;s value</span><br><span class=\"line\">             is 5 but its right child&#39;s value is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸­åºéå†å³å¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValidBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\">    stack, last = [], float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.left</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.val &lt;= last:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        last = root.val</span><br><span class=\"line\">        root = root.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ•´ä¸ªæ´»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isValidBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.right)</span><br><span class=\"line\"></span><br><span class=\"line\">    a, b = itertools.tee(inorder(root))</span><br><span class=\"line\">    next(b, <span class=\"literal\">None</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> all(c &lt; d <span class=\"keyword\">for</span> c, d <span class=\"keyword\">in</span> zip(a, b))</span><br></pre></td></tr></table></figure>\n<h3 id=\"109-Convert-Sorted-List-to-Binary-Search-Tree\"><a href=\"#109-Convert-Sorted-List-to-Binary-Search-Tree\" class=\"headerlink\" title=\"109. Convert Sorted List to Binary Search Tree\"></a>109. Convert Sorted List to Binary Search Tree</h3><h4 id=\"å°†æœ‰åºé“¾è¡¨è½¬æˆå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"><a href=\"#å°†æœ‰åºé“¾è¡¨è½¬æˆå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æœ‰åºé“¾è¡¨è½¬æˆå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"></a>å°†æœ‰åºé“¾è¡¨è½¬æˆå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚<a href=\"https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given the sorted linked list: [-10,-3,0,5,9],</span><br><span class=\"line\"></span><br><span class=\"line\">One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST:</span><br><span class=\"line\"></span><br><span class=\"line\">      0</span><br><span class=\"line\">     &#x2F; \\</span><br><span class=\"line\">   -3   9</span><br><span class=\"line\">   &#x2F;   &#x2F;</span><br><span class=\"line\"> -10  5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆéå†é“¾è¡¨ï¼Œå†äºŒåˆ†é€’å½’åˆ›å»ºæ ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortedListToBST</span><span class=\"params\">(self, head: ListNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    inorder = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:</span><br><span class=\"line\">        inorder.append(head.val)</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, len(inorder)<span class=\"number\">-1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build_tree</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &gt; hi:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        root = TreeNode(inorder[mid])</span><br><span class=\"line\">        root.left = build_tree(lo, mid<span class=\"number\">-1</span>)</span><br><span class=\"line\">        root.right = build_tree(mid+<span class=\"number\">1</span>, hi)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> build_tree(lo, hi)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å¾ˆæ£’ã€‚å…ˆéå†ä¸€éæ‰¾åˆ°é“¾è¡¨çš„é•¿åº¦ï¼›ç„¶åé€’å½’å»æ„å»ºæ ‘ï¼Œå…±äº«ä¸€ä¸ª<code>head</code>å¯å˜å¯¹è±¡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sortedListToBST</span><span class=\"params\">(self, head: ListNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find_size</span><span class=\"params\">(head)</span>:</span></span><br><span class=\"line\">        h, count = head, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> h:</span><br><span class=\"line\">            h = h.next</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, find_size(head)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">form_bst</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">nonlocal</span> head</span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &gt; hi:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        left = form_bst(lo, mid<span class=\"number\">-1</span>)</span><br><span class=\"line\">        root = TreeNode(head.val)</span><br><span class=\"line\">        head = head.next</span><br><span class=\"line\">        root.left = left</span><br><span class=\"line\">        right = form_bst(mid+<span class=\"number\">1</span>, hi)</span><br><span class=\"line\">        root.right = right</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> form_bst(lo, hi<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1008-Construct-Binary-Search-Tree-from-Preorder-Traversal\"><a href=\"#1008-Construct-Binary-Search-Tree-from-Preorder-Traversal\" class=\"headerlink\" title=\"1008. Construct Binary Search Tree from Preorder Traversal\"></a>1008. Construct Binary Search Tree from Preorder Traversal</h3><h4 id=\"æ ¹æ®å‰åºéå†é‡å»ºäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®å‰åºéå†é‡å»ºäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®å‰åºéå†é‡å»ºäºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®å‰åºéå†é‡å»ºäºŒå‰æœç´¢æ ‘ã€‚<a href=\"https://leetcode.com/problems/construct-binary-search-tree-from-preorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [8,5,1,7,10,12]</span><br><span class=\"line\">Output: [8,5,10,1,7,null,12]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šrecursively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bstFromPreorder</span><span class=\"params\">(self, preorder: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> preorder: <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root = TreeNode(preorder[<span class=\"number\">0</span>])</span><br><span class=\"line\">    i = bisect.bisect(preorder, root.val)</span><br><span class=\"line\">    root.left = self.bstFromPreorder(preorder[<span class=\"number\">1</span>:i])</span><br><span class=\"line\">    root.right = self.bstFromPreorder(preorder[i:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"236-Lowest-Common-Ancestor-of-a-Binary-Tree\"><a href=\"#236-Lowest-Common-Ancestor-of-a-Binary-Tree\" class=\"headerlink\" title=\"236. Lowest Common Ancestor of a Binary Tree\"></a>236. Lowest Common Ancestor of a Binary Tree</h3><h4 id=\"äºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"></a>äºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚<a href=\"https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€: é€’å½’ï¼Œæ˜¯ç”¨midè¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯å…¶ä¸­çš„ä¸€ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lowestCommonAncestor</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    self.ans = <span class=\"literal\">None</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        mid = node <span class=\"keyword\">in</span> (p, q)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mid + left + right &gt;= <span class=\"number\">2</span>:</span><br><span class=\"line\">            self.ans = node</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mid <span class=\"keyword\">or</span> left <span class=\"keyword\">or</span> right</span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šé€’å½’ï¼Œæ€æƒ³å¦‚æœæ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªï¼Œå°±è¿”å›è¿™ä¸ªèŠ‚ç‚¹ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lowestCommonAncestor</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root <span class=\"keyword\">in</span> (<span class=\"literal\">None</span>, p, q):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\">    left = self.lowestCommonAncestor(root.left, p, q)</span><br><span class=\"line\">    right = self.lowestCommonAncestor(root.right, p, q)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root <span class=\"keyword\">if</span> left <span class=\"keyword\">and</span> right <span class=\"keyword\">else</span> left <span class=\"keyword\">or</span> right</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå‚è€ƒäº†257çš„dfsè§£æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸€å®šè¦åŠ <code>list(path)</code>ï¼Œå¦åˆ™ç”±äºå¯å˜å¯¹è±¡çš„é—®é¢˜ï¼Œä¼šå¯¼è‡´æœ€åç»“æœä¸º<code>[]</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lowestCommonAncestor</span><span class=\"params\">(self, root: <span class=\"string\">'TreeNode'</span>, p: <span class=\"string\">'TreeNode'</span>, q: <span class=\"string\">'TreeNode'</span>)</span> -&gt; 'TreeNode':</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, path)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            path.append(n)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n <span class=\"keyword\">in</span> (p, q):</span><br><span class=\"line\">                ans.append(list(path))   <span class=\"comment\"># must use list, or you will get []</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(ans) == <span class=\"number\">2</span>:\t\t <span class=\"comment\"># optimized</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> </span><br><span class=\"line\">            dfs(n.left, path)</span><br><span class=\"line\">            dfs(n.right, path)</span><br><span class=\"line\">            path.pop()</span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> list(zip(*ans))[::<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> a==b)</span><br></pre></td></tr></table></figure>\n<h3 id=\"654-Maximum-Binary-Tree\"><a href=\"#654-Maximum-Binary-Tree\" class=\"headerlink\" title=\"654. Maximum Binary Tree\"></a>654. Maximum Binary Tree</h3><h4 id=\"æ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªæ ‘ï¼Œè¦æ±‚æ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„æœ€å¤§çš„æ ‘ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªæ ‘ï¼Œè¦æ±‚æ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„æœ€å¤§çš„æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªæ ‘ï¼Œè¦æ±‚æ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„æœ€å¤§çš„æ ‘ã€‚åŸé¢˜\"></a>æ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªæ ‘ï¼Œè¦æ±‚æ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„æœ€å¤§çš„æ ‘ã€‚<a href=\"https://leetcode.com/problems/maximum-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç§’ï¼Œä¸è¿‡æ„Ÿè§‰è¿˜æœ‰æ›´ä¼˜è§£ï¼ŒæŸ¥äº†ä¸€åœˆæ²¡æ‰¾åˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructMaximumBinaryTree</span><span class=\"params\">(self, nums: List[int])</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    v = max(nums)</span><br><span class=\"line\">    root = TreeNode(v)</span><br><span class=\"line\">    i = nums.index(v)</span><br><span class=\"line\">    root.left = self.constructMaximumBinaryTree(nums[:i])</span><br><span class=\"line\">    root.right = self.constructMaximumBinaryTree(nums[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"513-Find-Bottom-Left-Tree-Value\"><a href=\"#513-Find-Bottom-Left-Tree-Value\" class=\"headerlink\" title=\"513. Find Bottom Left Tree Value\"></a>513. Find Bottom Left Tree Value</h3><h4 id=\"å¯»æ‰¾äºŒå‰æ ‘æœ€åº•å±‚çš„æœ€å·¦èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#å¯»æ‰¾äºŒå‰æ ‘æœ€åº•å±‚çš„æœ€å·¦èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¯»æ‰¾äºŒå‰æ ‘æœ€åº•å±‚çš„æœ€å·¦èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>å¯»æ‰¾äºŒå‰æ ‘æœ€åº•å±‚çš„æœ€å·¦èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/find-bottom-left-tree-value/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ ¹æ®åˆ†å±‚éå†æ”¹ç¼–ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findBottomLeftValue</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    ans, levels = <span class=\"literal\">None</span>, root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> levels:</span><br><span class=\"line\">        ans = levels[<span class=\"number\">0</span>].val</span><br><span class=\"line\">        levels = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> levels <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåŒç«¯é˜Ÿåˆ—ï¼ŒBFS.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findBottomLeftValue</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    q = collections.deque([root])</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        node = q.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            q.appendleft(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            q.appendleft(node.left)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node.val</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šå¾ªç¯æ—¶æ”¹å˜è¿­ä»£å¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸ªäººè§‰å¾—ä¸å¥½ã€‚ä¸è¿‡å¥½åœ¨æ˜¯åœ¨éå†ä¹‹å‰æ·»åŠ åˆ°æœ«ç«¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findBottomLeftValue</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    queue = [root]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> queue:</span><br><span class=\"line\">        queue += (x <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> (node.right, node.left) <span class=\"keyword\">if</span> x)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> node.val</span><br></pre></td></tr></table></figure>\n<h3 id=\"814-Binary-Tree-Pruning\"><a href=\"#814-Binary-Tree-Pruning\" class=\"headerlink\" title=\"814. Binary Tree Pruning\"></a>814. Binary Tree Pruning</h3><h4 id=\"å‰ªæ‰æ ‘ä¸­ä¸åŒ…å«1çš„å­æ ‘ã€‚åŸé¢˜\"><a href=\"#å‰ªæ‰æ ‘ä¸­ä¸åŒ…å«1çš„å­æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‰ªæ‰æ ‘ä¸­ä¸åŒ…å«1çš„å­æ ‘ã€‚åŸé¢˜\"></a>å‰ªæ‰æ ‘ä¸­ä¸åŒ…å«1çš„å­æ ‘ã€‚<a href=\"https://leetcode.com/problems/binary-tree-pruning/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pruneTree</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left:</span><br><span class=\"line\">            node.left = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> right:</span><br><span class=\"line\">            node.right = <span class=\"literal\">None</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> node.val==<span class=\"number\">0</span> <span class=\"keyword\">and</span> left <span class=\"keyword\">and</span> right</span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"199-Binary-Tree-Right-Side-View\"><a href=\"#199-Binary-Tree-Right-Side-View\" class=\"headerlink\" title=\"199. Binary Tree Right Side View\"></a>199. Binary Tree Right Side View</h3><h4 id=\"äºŒå‰æ ‘ä»å³å‘å·¦çœ‹æ—¶ï¼Œä»ä¸Šåˆ°ä¸‹çš„èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘ä»å³å‘å·¦çœ‹æ—¶ï¼Œä»ä¸Šåˆ°ä¸‹çš„èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘ä»å³å‘å·¦çœ‹æ—¶ï¼Œä»ä¸Šåˆ°ä¸‹çš„èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>äºŒå‰æ ‘ä»å³å‘å·¦çœ‹æ—¶ï¼Œä»ä¸Šåˆ°ä¸‹çš„èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/binary-tree-right-side-view/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå’Œåˆ†å±‚éå†æ€æƒ³ç›¸åŒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rightSideView</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans, levels = [], root <span class=\"keyword\">and</span> [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> levels:</span><br><span class=\"line\">        ans.append(levels[<span class=\"number\">-1</span>].val)</span><br><span class=\"line\">        levels = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> levels <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šdfs.  ä»å³åˆ°å·¦æ·±åº¦éå†ï¼Œç”¨ä¸€ä¸ªæ·±åº¦å˜é‡æ§åˆ¶æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªæœ€å³èŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rightSideView</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, depth)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> depth == len(ans):</span><br><span class=\"line\">                ans.append(n.val)</span><br><span class=\"line\">            dfs(n.right, depth+<span class=\"number\">1</span>)</span><br><span class=\"line\">            dfs(n.left, depth+<span class=\"number\">1</span>)</span><br><span class=\"line\">    dfs(root, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"662-Maximum-Width-of-Binary-Tree\"><a href=\"#662-Maximum-Width-of-Binary-Tree\" class=\"headerlink\" title=\"662. Maximum Width of Binary Tree\"></a>662. Maximum Width of Binary Tree</h3><h4 id=\"äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦ã€‚åŸé¢˜\"></a>äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦ã€‚<a href=\"https://leetcode.com/problems/maximum-width-of-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå¸¸è§„é˜Ÿåˆ—å†™æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å±‚éå†è¦ç”¨æœ€å³è¾¹çš„å‡å»æœ€å·¦è¾¹çš„æ‰æ˜¯å®½åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">widthOfBinaryTree</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    queue = [(root, <span class=\"number\">0</span>, <span class=\"number\">0</span>)]</span><br><span class=\"line\">    ans = cur_depth = left = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node, depth, pos <span class=\"keyword\">in</span> queue:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            queue.append((node.left, depth+<span class=\"number\">1</span>, pos*<span class=\"number\">2</span>))</span><br><span class=\"line\">            queue.append((node.right, depth+<span class=\"number\">1</span>, pos*<span class=\"number\">2</span>+<span class=\"number\">1</span>))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur_depth != depth:</span><br><span class=\"line\">                cur_depth = depth</span><br><span class=\"line\">                left = pos</span><br><span class=\"line\">            ans = max(pos-left+<span class=\"number\">1</span>, ans)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæŒ‰ç…§åˆ†å±‚é¡ºåºå°†æ‰€æœ‰èŠ‚ç‚¹ç¼–å·ï¼Œä»1å¼€å§‹ï¼Œ<code>enumerateå…¶å®å°±æ˜¯è®¡ç®—2*pos, 2*pos+1</code>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">widthOfBinaryTree</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    levels = [(<span class=\"number\">1</span>, root)]</span><br><span class=\"line\">    width = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> levels:</span><br><span class=\"line\">        width = max(levels[<span class=\"number\">-1</span>][<span class=\"number\">0</span>] - levels[<span class=\"number\">0</span>][<span class=\"number\">0</span>] + <span class=\"number\">1</span>, width)</span><br><span class=\"line\">        levels = [k</span><br><span class=\"line\">                  <span class=\"keyword\">for</span> pos, n <span class=\"keyword\">in</span> levels</span><br><span class=\"line\">                  <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> enumerate((n.left, n.right), <span class=\"number\">2</span> * pos)</span><br><span class=\"line\">                  <span class=\"keyword\">if</span> k[<span class=\"number\">1</span>]]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> width</span><br></pre></td></tr></table></figure>\n<h3 id=\"222-Count-Complete-Tree-Nodes\"><a href=\"#222-Count-Complete-Tree-Nodes\" class=\"headerlink\" title=\"222. Count Complete Tree Nodes\"></a>222. Count Complete Tree Nodes</h3><h4 id=\"ç»Ÿè®¡å®Œæ•´æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#ç»Ÿè®¡å®Œæ•´æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»Ÿè®¡å®Œæ•´æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åŸé¢˜\"></a>ç»Ÿè®¡å®Œæ•´æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/count-complete-tree-nodes/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ã€‚æ¯”è¾ƒå·¦å­æ ‘çš„æ·±åº¦å’Œå³å­æ ‘çš„æ·±åº¦ï¼Œå¦‚æœç›¸åŒåˆ™è¡¨æ˜å·¦å­æ ‘ä¸ºæ»¡æ ‘ï¼Œå³å­æ ‘ä¸ºå®Œæ•´æ ‘ã€‚å¦‚æœä¸åŒåˆ™è¡¨æ˜å·¦å­æ ‘ä¸ºå®Œæ•´æ ‘ï¼Œå³å­æ ‘ä¸ºæ»¡æ ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countNodes</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    left, right = self.depth(root.left), self.depth(root.right)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> left == right:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> ** left + self.countNodes(root.right)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2</span> ** right + self.countNodes(root.left)</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">depth</span><span class=\"params\">(self, node)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span> + self.depth(node.left)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1022-Sum-of-Root-To-Leaf-Binary-Numbers\"><a href=\"#1022-Sum-of-Root-To-Leaf-Binary-Numbers\" class=\"headerlink\" title=\"1022. Sum of Root To Leaf Binary Numbers\"></a>1022. Sum of Root To Leaf Binary Numbers</h3><h4 id=\"è®¡ç®—æ‰€æœ‰æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„çš„å’Œã€‚åŸé¢˜\"><a href=\"#è®¡ç®—æ‰€æœ‰æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—æ‰€æœ‰æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„çš„å’Œã€‚åŸé¢˜\"></a>è®¡ç®—æ‰€æœ‰æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„çš„å’Œã€‚<a href=\"https://leetcode.com/problems/sum-of-root-to-leaf-binary-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,0,1,0,1,0,1]</span><br><span class=\"line\">Output: 22</span><br><span class=\"line\">Explanation: (100) + (101) + (110) + (111) &#x3D; 4 + 5 + 6 + 7 &#x3D; 22</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯å’Œ 257.Binary Tree Pathsä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumRootToLeaf</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, path)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            path.append(str(n.val))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right:</span><br><span class=\"line\">                self.ans += int(<span class=\"string\">''</span>.join(path), <span class=\"number\">2</span>)</span><br><span class=\"line\">            dfs(n.left, path)</span><br><span class=\"line\">            dfs(n.right, path)</span><br><span class=\"line\">            path.pop()</span><br><span class=\"line\">            </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans % (<span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1026-Maximum-Difference-Between-Node-and-Ancestor\"><a href=\"#1026-Maximum-Difference-Between-Node-and-Ancestor\" class=\"headerlink\" title=\"1026. Maximum Difference Between Node and Ancestor\"></a>1026. Maximum Difference Between Node and Ancestor</h3><h4 id=\"ç¥–å…ˆå’Œå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å·®ç»å¯¹å€¼ã€‚åŸé¢˜\"><a href=\"#ç¥–å…ˆå’Œå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å·®ç»å¯¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç¥–å…ˆå’Œå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å·®ç»å¯¹å€¼ã€‚åŸé¢˜\"></a>ç¥–å…ˆå’Œå…¶å­èŠ‚ç‚¹çš„æœ€å¤§å·®ç»å¯¹å€¼ã€‚<a href=\"https://leetcode.com/problems/maximum-difference-between-node-and-ancestor/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå‘¨èµ›æ—¶å†™çš„dfs.  380ms. ç“¶é¢ˆåœ¨äºæ¯æ¬¡éƒ½æ±‚ä¸€æ¬¡æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxAncestorDiff</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p:</span><br><span class=\"line\">                max_diff = max(abs(max(p)-n.val), abs(min(p)-n.val))</span><br><span class=\"line\">                self.ans = max(self.ans, max_diff)</span><br><span class=\"line\">            p.append(n.val)</span><br><span class=\"line\">            dfs(n.left, p)</span><br><span class=\"line\">            dfs(n.right, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ”¹è‰¯äº†ä¸€ä¸‹ï¼Œä½¿ç”¨pè®°å½•ä¸€ä¸ªå½“å‰çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚52ms.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxAncestorDiff</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p:</span><br><span class=\"line\">                mx, mn = p[<span class=\"number\">-1</span>]</span><br><span class=\"line\">                self.ans = max(self.ans, max(mx-n.val, n.val-mn))</span><br><span class=\"line\">                p.append((max(mx, n.val), min(mn, n.val)))</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                p.append((n.val, n.val))</span><br><span class=\"line\">            dfs(n.left, p)</span><br><span class=\"line\">            dfs(n.right, p)</span><br><span class=\"line\">            p.pop() </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1038-Binary-Search-Tree-to-Greater-Sum-Tree\"><a href=\"#1038-Binary-Search-Tree-to-Greater-Sum-Tree\" class=\"headerlink\" title=\"1038. Binary Search Tree to Greater Sum Tree\"></a>1038. Binary Search Tree to Greater Sum Tree</h3><h4 id=\"äºŒå‰æœç´¢æ ‘è½¬æˆä¸€é¢—è§„åˆ™çš„æ ‘ï¼Œä»å³æ ¹å·¦çš„é¡ºåºç´¯åŠ èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æœç´¢æ ‘è½¬æˆä¸€é¢—è§„åˆ™çš„æ ‘ï¼Œä»å³æ ¹å·¦çš„é¡ºåºç´¯åŠ èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æœç´¢æ ‘è½¬æˆä¸€é¢—è§„åˆ™çš„æ ‘ï¼Œä»å³æ ¹å·¦çš„é¡ºåºç´¯åŠ èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"></a>äºŒå‰æœç´¢æ ‘è½¬æˆä¸€é¢—è§„åˆ™çš„æ ‘ï¼Œä»å³æ ¹å·¦çš„é¡ºåºç´¯åŠ èŠ‚ç‚¹å€¼ã€‚<a href=\"https://leetcode.com/problems/binary-search-tree-to-greater-sum-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bstToGst</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    head = root</span><br><span class=\"line\">    stack, total = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> stack <span class=\"keyword\">or</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            stack.append(root)</span><br><span class=\"line\">            root = root.right</span><br><span class=\"line\">        root = stack.pop()</span><br><span class=\"line\">        total += root.val</span><br><span class=\"line\">        root.val = total</span><br><span class=\"line\">        root = root.left</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeç¥çš„é€’å½’æ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    val = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bstToGst</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.right: self.bstToGst(root.right)</span><br><span class=\"line\">        root.val = self.val = self.val + root.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.left: self.bstToGst(root.left)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"1080-Insufficient-Nodes-in-Root-to-Leaf-Paths\"><a href=\"#1080-Insufficient-Nodes-in-Root-to-Leaf-Paths\" class=\"headerlink\" title=\"1080. Insufficient Nodes in Root to Leaf Paths\"></a>1080. Insufficient Nodes in Root to Leaf Paths</h3><h4 id=\"è®¡ç®—æ‰€æœ‰çš„æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå¦‚æœè·¯å¾„å’Œå°äºç»™å®šå€¼ï¼Œåˆ™å‰ªæ‰è¿™ä¸ªæ ‘æã€‚åŸé¢˜\"><a href=\"#è®¡ç®—æ‰€æœ‰çš„æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå¦‚æœè·¯å¾„å’Œå°äºç»™å®šå€¼ï¼Œåˆ™å‰ªæ‰è¿™ä¸ªæ ‘æã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—æ‰€æœ‰çš„æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå¦‚æœè·¯å¾„å’Œå°äºç»™å®šå€¼ï¼Œåˆ™å‰ªæ‰è¿™ä¸ªæ ‘æã€‚åŸé¢˜\"></a>è®¡ç®—æ‰€æœ‰çš„æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œå¦‚æœè·¯å¾„å’Œå°äºç»™å®šå€¼ï¼Œåˆ™å‰ªæ‰è¿™ä¸ªæ ‘æã€‚<a href=\"https://leetcode.com/problems/insufficient-nodes-in-root-to-leaf-paths/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sufficientSubset</span><span class=\"params\">(self, root: TreeNode, limit: int)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> root.right:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root <span class=\"keyword\">if</span> root.val &gt;= limit <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    root.left = self.sufficientSubset(root.left, limit-root.val)</span><br><span class=\"line\">    root.right = self.sufficientSubset(root.right, limit-root.val)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root <span class=\"keyword\">if</span> root.left <span class=\"keyword\">or</span> root.right <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1161-Maximum-Level-Sum-of-a-Binary-Tree\"><a href=\"#1161-Maximum-Level-Sum-of-a-Binary-Tree\" class=\"headerlink\" title=\"1161. Maximum Level Sum of a Binary Tree\"></a>1161. Maximum Level Sum of a Binary Tree</h3><h4 id=\"æ±‚æœ€èŠ‚ç‚¹å’Œæœ€å¤§å±‚çš„å±‚æ•°ã€‚åŸé¢˜\"><a href=\"#æ±‚æœ€èŠ‚ç‚¹å’Œæœ€å¤§å±‚çš„å±‚æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚æœ€èŠ‚ç‚¹å’Œæœ€å¤§å±‚çš„å±‚æ•°ã€‚åŸé¢˜\"></a>æ±‚æœ€èŠ‚ç‚¹å’Œæœ€å¤§å±‚çš„å±‚æ•°ã€‚<a href=\"https://leetcode.com/problems/maximum-level-sum-of-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šåˆ†å±‚éå†</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxLevelSum</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    lvsum = []</span><br><span class=\"line\">    level = [root]</span><br><span class=\"line\">    <span class=\"keyword\">while</span> level:</span><br><span class=\"line\">        lvsum.append(sum(n.val <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level))</span><br><span class=\"line\">        level = [k <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> (n.left, n.right) <span class=\"keyword\">if</span> k]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lvsum.index(max(lvsum)) + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1104-Path-In-Zigzag-Labelled-Binary-Tree\"><a href=\"#1104-Path-In-Zigzag-Labelled-Binary-Tree\" class=\"headerlink\" title=\"1104. Path In Zigzag Labelled Binary Tree\"></a>1104. Path In Zigzag Labelled Binary Tree</h3><h4 id=\"ä¹‹å­—å½¢æ ‘çš„ç›®æ ‡èŠ‚ç‚¹è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#ä¹‹å­—å½¢æ ‘çš„ç›®æ ‡èŠ‚ç‚¹è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¹‹å­—å½¢æ ‘çš„ç›®æ ‡èŠ‚ç‚¹è·¯å¾„ã€‚åŸé¢˜\"></a>ä¹‹å­—å½¢æ ‘çš„ç›®æ ‡èŠ‚ç‚¹è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/path-in-zigzag-labelled-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿­ä»£ï¼Œæ­¤é¢˜çº¯ç²¹æ˜¯æ•°å­¦é¢˜ï¼Œè¿™é‡Œå…ˆå‡è®¾éä¹‹å­—å½¢çš„æ ‘ï¼Œæ‰¾åˆ°è§„å¾‹ï¼Œç„¶åçŸ¥é“æ¯å±‚çš„èŠ‚ç‚¹æ•°å†ç›¸å‡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathInZigZagTree</span><span class=\"params\">(self, label: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    n = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"number\">2</span> ** n &lt;= label:</span><br><span class=\"line\">        n += <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">while</span> n &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> label &gt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">        ans.append(label)</span><br><span class=\"line\">        org_lable = label // <span class=\"number\">2</span></span><br><span class=\"line\">        label = <span class=\"number\">2</span>**(n<span class=\"number\">-1</span>)<span class=\"number\">-1</span>-org_lable+<span class=\"number\">2</span>**(n<span class=\"number\">-2</span>)</span><br><span class=\"line\">        n -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeç¥çš„é€’å½’ã€‚åŸç†ä¸€æ ·ï¼Œå±‚æ•°næ˜¯é€šè¿‡æŸ¥2çš„å¹‚æ±‚çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathInZigZagTree</span><span class=\"params\">(self, x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.pathInZigZagTree(<span class=\"number\">3</span> * <span class=\"number\">2</span> ** (len(bin(x)) - <span class=\"number\">4</span>) - <span class=\"number\">1</span> - x / <span class=\"number\">2</span>) + [x] <span class=\"keyword\">if</span> x &gt; <span class=\"number\">1</span> <span class=\"keyword\">else</span> [<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1110-Delete-Nodes-And-Return-Forest\"><a href=\"#1110-Delete-Nodes-And-Return-Forest\" class=\"headerlink\" title=\"1110. Delete Nodes And Return Forest\"></a>1110. Delete Nodes And Return Forest</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ ‘ï¼Œåˆ é™¤æŒ‡å®šçš„ä¸€äº›èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤çš„èŠ‚ç‚¹çš„å·¦å³å­æ ‘æˆä¸ºå•ç‹¬çš„æ ¹èŠ‚ç‚¹ã€‚è¿”å›æ‰€æœ‰çš„æ ‘ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ ‘ï¼Œåˆ é™¤æŒ‡å®šçš„ä¸€äº›èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤çš„èŠ‚ç‚¹çš„å·¦å³å­æ ‘æˆä¸ºå•ç‹¬çš„æ ¹èŠ‚ç‚¹ã€‚è¿”å›æ‰€æœ‰çš„æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ ‘ï¼Œåˆ é™¤æŒ‡å®šçš„ä¸€äº›èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤çš„èŠ‚ç‚¹çš„å·¦å³å­æ ‘æˆä¸ºå•ç‹¬çš„æ ¹èŠ‚ç‚¹ã€‚è¿”å›æ‰€æœ‰çš„æ ‘ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ ‘ï¼Œåˆ é™¤æŒ‡å®šçš„ä¸€äº›èŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤çš„èŠ‚ç‚¹çš„å·¦å³å­æ ‘æˆä¸ºå•ç‹¬çš„æ ¹èŠ‚ç‚¹ã€‚è¿”å›æ‰€æœ‰çš„æ ‘ã€‚<a href=\"https://leetcode.com/problems/delete-nodes-and-return-forest/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [1,2,3,4,5,6,7], to_delete &#x3D; [3,5]</span><br><span class=\"line\">Output: [[1,2,null,4],[6],[7]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚åšç€é¢˜çš„æ—¶å€™æœ‰ä¸ªè¯¯åŒºï¼šåœ¨å½“å‰èŠ‚ç‚¹è¢«åˆ é™¤åï¼Œæ‰¾åˆ°å…¶åœ¨çˆ¶èŠ‚ç‚¹å¯¹åº”çš„ä½ç½®ï¼Œç„¶åç½®ä¸ºç©ºã€‚å®é™…ä¸Šåº”è¯¥è®²æ ¹èŠ‚ç‚¹åˆ é™¤çš„çŠ¶æ€ä¿ç•™ï¼Œåœ¨ä¸‹ä¸€å±‚å¤„ç†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">delNodes</span><span class=\"params\">(self, root: TreeNode, to_delete: List[int])</span> -&gt; List[TreeNode]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    to_del = set(to_delete)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(root, is_root)</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        is_del = root.val <span class=\"keyword\">in</span> to_del</span><br><span class=\"line\">        root.left = helper(root.left, is_del)</span><br><span class=\"line\">        root.right = helper(root.right, is_del)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> is_del <span class=\"keyword\">and</span> is_root:</span><br><span class=\"line\">            ans.append(root)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">None</span> <span class=\"keyword\">if</span> is_del <span class=\"keyword\">else</span> root</span><br><span class=\"line\">    </span><br><span class=\"line\">    helper(root, <span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1123-Lowest-Common-Ancestor-of-Deepest-Leaves\"><a href=\"#1123-Lowest-Common-Ancestor-of-Deepest-Leaves\" class=\"headerlink\" title=\"1123. Lowest Common Ancestor of Deepest Leaves\"></a>1123. Lowest Common Ancestor of Deepest Leaves</h3><h4 id=\"æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"><a href=\"#æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"></a>æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚<a href=\"https://leetcode.com/problems/lowest-common-ancestor-of-deepest-leaves/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [1,2,3]</span><br><span class=\"line\">Output: [1,2,3]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The deepest leaves are the nodes with values 2 and 3.</span><br><span class=\"line\">The lowest common ancestor of these leaves is the node with value 1.</span><br><span class=\"line\">The answer returned is a TreeNode object (not an array) with serialization &quot;[1,2,3]&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šLeeç¥çš„æ–¹æ³•æ¯”æˆ‘çš„å¥½å¤ªå¤šï¼Œæˆ‘å€Ÿé‰´äº†ä¹‹å‰çš„dfsçš„æ–¹å¼éå†æ‰€æœ‰çš„pathï¼Œç„¶åå†æ¸…æ´—æ¯”è¾ƒã€‚å…¶å®ç›´æ¥é€’å½’å³å¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lcaDeepestLeaves</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"literal\">None</span></span><br><span class=\"line\">        d1, n1 = helper(root.left)</span><br><span class=\"line\">        d2, n2 = helper(root.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d1 &lt; d2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d2 + <span class=\"number\">1</span>, n2</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> d1 &gt; d2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d1 + <span class=\"number\">1</span>, n1</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> d1 + <span class=\"number\">1</span>, root</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> helper(root)[<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1382-Balance-a-Binary-Search-Tree\"><a href=\"#1382-Balance-a-Binary-Search-Tree\" class=\"headerlink\" title=\"1382. Balance a Binary Search Tree\"></a>1382. Balance a Binary Search Tree</h3><h4 id=\"å°†ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è½¬ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è½¬ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è½¬ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è½¬ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚<a href=\"https://leetcode.com/problems/balance-a-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæƒ³åˆ°äºŒå‰æœç´¢æ ‘é¦–å…ˆæƒ³åˆ°ä¸­åºéå†ï¼Œæ‰€ä»¥ä¸€å…±åˆ†ä¸º2æ­¥ï¼Œä¸€æ­¥æ˜¯éå†å‡ºæ‰€æœ‰èŠ‚ç‚¹ï¼Œå†æ ¹æ®èŠ‚ç‚¹é‡å»ºä¸€ä¸ªå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">balanceBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.left)</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">                <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> dfs(node.right)</span><br><span class=\"line\">        </span><br><span class=\"line\">        inorder = list(dfs(root))</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(inorder)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> inorder:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">            n = len(inorder)</span><br><span class=\"line\">            index = n // <span class=\"number\">2</span></span><br><span class=\"line\">            root = TreeNode(inorder[index])</span><br><span class=\"line\">            root.left = build(inorder[:index])</span><br><span class=\"line\">            root.right = build(inorder[index+<span class=\"number\">1</span>:])</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> build(inorder)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1372-Longest-ZigZag-Path-in-a-Binary-Tree\"><a href=\"#1372-Longest-ZigZag-Path-in-a-Binary-Tree\" class=\"headerlink\" title=\"1372. Longest ZigZag Path in a Binary Tree\"></a>1372. Longest ZigZag Path in a Binary Tree</h3><h4 id=\"äºŒå‰æ ‘ä¸­æœ€é•¿çš„zå­—å½¢è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘ä¸­æœ€é•¿çš„zå­—å½¢è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘ä¸­æœ€é•¿çš„zå­—å½¢è·¯å¾„ã€‚åŸé¢˜\"></a>äºŒå‰æ ‘ä¸­æœ€é•¿çš„zå­—å½¢è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/longest-zigzag-path-in-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”¨äº†ä¸å°‘å˜é‡æ¥æ§åˆ¶èµ°ä½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestZigZag</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, left, right, last_left=True)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            self.ans = max(self.ans, left, right)</span><br><span class=\"line\">            <span class=\"comment\"># if last_left:</span></span><br><span class=\"line\">            <span class=\"comment\">#     dfs(node.right, 0, left+1, False)</span></span><br><span class=\"line\">            <span class=\"comment\">#     dfs(node.left, 1, 0, True)</span></span><br><span class=\"line\">            <span class=\"comment\"># else:</span></span><br><span class=\"line\">            <span class=\"comment\">#     dfs(node.right, 0, 1, False)</span></span><br><span class=\"line\">            <span class=\"comment\">#     dfs(node.left, right+1, 0, True)</span></span><br><span class=\"line\">            dfs(node.right, <span class=\"number\">0</span>, last_left*left+<span class=\"number\">1</span>, <span class=\"literal\">False</span>)</span><br><span class=\"line\">            dfs(node.left, (<span class=\"number\">1</span>-last_left)*right+<span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"literal\">True</span>)</span><br><span class=\"line\">            </span><br><span class=\"line\">    dfs(root, <span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š-1çš„å¦™ç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestZigZag</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span> (<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">        left, right = dfs(node.left), dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (left[<span class=\"number\">1</span>]+<span class=\"number\">1</span>, right[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, max(left[<span class=\"number\">1</span>]+<span class=\"number\">1</span>, right[<span class=\"number\">0</span>]+<span class=\"number\">1</span>, left[<span class=\"number\">-1</span>], right[<span class=\"number\">-1</span>]))</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(root)[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1367-Linked-List-in-Binary-Tree\"><a href=\"#1367-Linked-List-in-Binary-Tree\" class=\"headerlink\" title=\"1367. Linked List in Binary Tree\"></a>1367. Linked List in Binary Tree</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦åœ¨äºŒå‰æ ‘çš„è·¯å¾„ä¸­ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦åœ¨äºŒå‰æ ‘çš„è·¯å¾„ä¸­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦åœ¨äºŒå‰æ ‘çš„è·¯å¾„ä¸­ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦åœ¨äºŒå‰æ ‘çš„è·¯å¾„ä¸­ã€‚<a href=\"https://leetcode.com/problems/linked-list-in-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isSubPath</span><span class=\"params\">(self, head: ListNode, root: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(head, root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> head.val==root.val <span class=\"keyword\">and</span> (dfs(head.next, root.left) <span class=\"keyword\">or</span> dfs(head.next, root.right))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> head: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(head, root) <span class=\"keyword\">or</span> self.isSubPath(head, root.left) <span class=\"keyword\">or</span> self.isSubPath(head, root.right)</span><br></pre></td></tr></table></figure>\n<h3 id=\"124-Binary-Tree-Maximum-Path-Sum\"><a href=\"#124-Binary-Tree-Maximum-Path-Sum\" class=\"headerlink\" title=\"124. Binary Tree Maximum Path Sum\"></a>124. Binary Tree Maximum Path Sum</h3><h4 id=\"äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚åŸé¢˜\"></a>äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/binary-tree-maximum-path-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [-10,9,20,null,null,15,7]</span><br><span class=\"line\"></span><br><span class=\"line\">   -10</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  9  20</span><br><span class=\"line\">    &#x2F;  \\</span><br><span class=\"line\">   15   7</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 42</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚å¼€å§‹æœ‰ä¸€ç‚¹æ²¡æƒ³æ˜ç™½ï¼Œå¯¹äºä»»æ„èŠ‚ç‚¹æ¥è¯´ï¼Œéƒ½æœ‰å·¦å³ä¸¤æ¡path, åŒ…æ‹¬æ ¹èŠ‚ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxPathSum</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    self.ans = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxend</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left = maxend(node.left)</span><br><span class=\"line\">        right = maxend(node.right)</span><br><span class=\"line\">        self.ans = max(self.ans, left+right+node.val)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(node.val + max(left, right), <span class=\"number\">0</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    maxend(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1443-Minimum-Time-to-Collect-All-Apples-in-a-Tree\"><a href=\"#1443-Minimum-Time-to-Collect-All-Apples-in-a-Tree\" class=\"headerlink\" title=\"1443. Minimum Time to Collect All Apples in a Tree\"></a>1443. Minimum Time to Collect All Apples in a Tree</h3><h4 id=\"æ”¶é›†è‹¹æœçš„æœ€å°è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#æ”¶é›†è‹¹æœçš„æœ€å°è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ”¶é›†è‹¹æœçš„æœ€å°è·¯å¾„ã€‚åŸé¢˜\"></a>æ”¶é›†è‹¹æœçš„æœ€å°è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/minimum-time-to-collect-all-apples-in-a-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 7, edges &#x3D; [[0,1],[0,2],[1,4],[1,5],[2,3],[2,6]], hasApple &#x3D; [false,false,true,false,true,true,false]</span><br><span class=\"line\">Output: 8 </span><br><span class=\"line\">Explanation: The figure above represents the given tree where red vertices have an apple. One optimal path to collect all apples is shown by the green arrows.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯ä¸ªè‹¹æœçš„è·¯å¾„éƒ½æ˜¯èŠ‚ç‚¹åˆ°æ ¹çš„ä¸¤å€è·ç¦»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minTime</span><span class=\"params\">(self, n: int, edges: List[List[int]], hasApple: List[bool])</span> -&gt; int:</span></span><br><span class=\"line\">    t = collections.defaultdict(int)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        t[b] = a</span><br><span class=\"line\">        </span><br><span class=\"line\">    used = set()</span><br><span class=\"line\"><span class=\"meta\">    @functools.lru_cache</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        used.add((node, t[node]))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(t[node]) + <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    list(map(dfs, (i <span class=\"keyword\">for</span> i, f <span class=\"keyword\">in</span> enumerate(hasApple) <span class=\"keyword\">if</span> f)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(used) * <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1339-Maximum-Product-of-Splitted-Binary-Tree\"><a href=\"#1339-Maximum-Product-of-Splitted-Binary-Tree\" class=\"headerlink\" title=\"1339. Maximum Product of Splitted Binary Tree\"></a>1339. Maximum Product of Splitted Binary Tree</h3><h4 id=\"å°†ä¸€ä¸ªæ ‘ç æˆä¸¤é¢—æ ‘ï¼Œä½¿ä¸¤ä¸ªèŠ‚ç‚¹å’Œä¹˜ç§¯æœ€å¤§ã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªæ ‘ç æˆä¸¤é¢—æ ‘ï¼Œä½¿ä¸¤ä¸ªèŠ‚ç‚¹å’Œä¹˜ç§¯æœ€å¤§ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªæ ‘ç æˆä¸¤é¢—æ ‘ï¼Œä½¿ä¸¤ä¸ªèŠ‚ç‚¹å’Œä¹˜ç§¯æœ€å¤§ã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªæ ‘ç æˆä¸¤é¢—æ ‘ï¼Œä½¿ä¸¤ä¸ªèŠ‚ç‚¹å’Œä¹˜ç§¯æœ€å¤§ã€‚<a href=\"https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šéœ€è¦éå†2æ¬¡ï¼Œä¸€æ¬¡æ±‚å‡ºæ‰€æœ‰èŠ‚ç‚¹å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = total = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">s</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        left, right = s(node.left), s(node.right)</span><br><span class=\"line\">        self.ans = max(self.ans, (total-left)*left, right*(total-right))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> left+right+node.val</span><br><span class=\"line\">    </span><br><span class=\"line\">    total = s(root)</span><br><span class=\"line\">    s(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1315-Sum-of-Nodes-with-Even-Valued-Grandparent\"><a href=\"#1315-Sum-of-Nodes-with-Even-Valued-Grandparent\" class=\"headerlink\" title=\"1315. Sum of Nodes with Even-Valued Grandparent\"></a>1315. Sum of Nodes with Even-Valued Grandparent</h3><h4 id=\"ç¥–çˆ¶èŠ‚ç‚¹ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œã€‚åŸé¢˜\"><a href=\"#ç¥–çˆ¶èŠ‚ç‚¹ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç¥–çˆ¶èŠ‚ç‚¹ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œã€‚åŸé¢˜\"></a>ç¥–çˆ¶èŠ‚ç‚¹ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œã€‚<a href=\"https://leetcode.com/problems/sum-of-nodes-with-even-valued-grandparent/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumEvenGrandparent</span><span class=\"params\">(self, root: TreeNode, p=<span class=\"number\">1</span>, gp=<span class=\"number\">1</span>)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.sumEvenGrandparent(root.left, root.val, p) + \\</span><br><span class=\"line\">        self.sumEvenGrandparent(root.right, root.val, p) + \\</span><br><span class=\"line\">        root.val * (gp&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span>) <span class=\"keyword\">if</span> root <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1457-Pseudo-Palindromic-Paths-in-a-Binary-Tree\"><a href=\"#1457-Pseudo-Palindromic-Paths-in-a-Binary-Tree\" class=\"headerlink\" title=\"1457. Pseudo-Palindromic Paths in a Binary Tree\"></a>1457. Pseudo-Palindromic Paths in a Binary Tree</h3><h4 id=\"ä¼ªå›æ–‡è·¯å¾„çš„ä¸ªæ•°ã€‚æŒ‡æ’åˆ—èƒ½å¤Ÿæˆä¸ºå›æ–‡çš„è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#ä¼ªå›æ–‡è·¯å¾„çš„ä¸ªæ•°ã€‚æŒ‡æ’åˆ—èƒ½å¤Ÿæˆä¸ºå›æ–‡çš„è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¼ªå›æ–‡è·¯å¾„çš„ä¸ªæ•°ã€‚æŒ‡æ’åˆ—èƒ½å¤Ÿæˆä¸ºå›æ–‡çš„è·¯å¾„ã€‚åŸé¢˜\"></a>ä¼ªå›æ–‡è·¯å¾„çš„ä¸ªæ•°ã€‚æŒ‡æ’åˆ—èƒ½å¤Ÿæˆä¸ºå›æ–‡çš„è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/pseudo-palindromic-paths-in-a-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [2,3,1,3,1,null,1]</span><br><span class=\"line\">Output: 2 </span><br><span class=\"line\">Explanation: The figure above represents the given binary tree. There are three paths going from the root node to leaf nodes: the red path [2,3,3], the green path [2,1,1], and the path [2,3,1]. Among these paths only red path and green path are pseudo-palindromic paths since the red path [2,3,3] can be rearranged in [3,2,3] (palindrome) and the green path [2,1,1] can be rearranged in [1,2,1] (palindrome).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶çš„ç­”æ¡ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pseudoPalindromicPaths</span> <span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    c = collections.defaultdict(int)</span><br><span class=\"line\">    self.count = <span class=\"number\">0</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, odd=True)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            c[node.val] ^= <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">                single = sum(v <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> c.values() <span class=\"keyword\">if</span> v==<span class=\"number\">1</span>) </span><br><span class=\"line\">                self.count += (single==int(odd))</span><br><span class=\"line\">            dfs(node.left, <span class=\"keyword\">not</span> odd)</span><br><span class=\"line\">            dfs(node.right, <span class=\"keyword\">not</span> odd)</span><br><span class=\"line\">            c[node.val] ^= <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.count</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå› ä¸ºnodeçš„å€¼æ—¶1~9ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ä¸€ä¸ªè®¡ä½å™¨count</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pseudoPalindromicPaths</span> <span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, count=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        count ^= <span class=\"number\">1</span> &lt;&lt; (node.val<span class=\"number\">-1</span>)</span><br><span class=\"line\">        ans = dfs(node.left, count) + dfs(node.right, count)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left == node.right:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> count &amp; (count<span class=\"number\">-1</span>) == <span class=\"number\">0</span>:</span><br><span class=\"line\">                ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(root)</span><br></pre></td></tr></table></figure>\n<h3 id=\"129-Sum-Root-to-Leaf-Numbers\"><a href=\"#129-Sum-Root-to-Leaf-Numbers\" class=\"headerlink\" title=\"129. Sum Root to Leaf Numbers\"></a>129. Sum Root to Leaf Numbers</h3><h4 id=\"æ ¹åˆ°å¶å­èŠ‚ç‚¹ç»„æˆçš„æ•°å­—å’Œã€‚åŸé¢˜\"><a href=\"#æ ¹åˆ°å¶å­èŠ‚ç‚¹ç»„æˆçš„æ•°å­—å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹åˆ°å¶å­èŠ‚ç‚¹ç»„æˆçš„æ•°å­—å’Œã€‚åŸé¢˜\"></a>æ ¹åˆ°å¶å­èŠ‚ç‚¹ç»„æˆçš„æ•°å­—å’Œã€‚<a href=\"https://leetcode.com/problems/sum-root-to-leaf-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3]</span><br><span class=\"line\">    1</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  2   3</span><br><span class=\"line\">Output: 25</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The root-to-leaf path 1-&gt;2 represents the number 12.</span><br><span class=\"line\">The root-to-leaf path 1-&gt;3 represents the number 13.</span><br><span class=\"line\">Therefore, sum &#x3D; 12 + 13 &#x3D; 25.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs å†™æ³•ä¸Šè¿Ÿç–‘äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯è¦åˆ¤æ–­æ˜¯å¦ä¸ºæ ¹èŠ‚ç‚¹çš„ï¼Œé¿å…å’Œç´¯åŠ äº†2æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumNumbers</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, cur)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\">        cur += node.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">            self.ans += cur</span><br><span class=\"line\">        dfs(node.left, cur*<span class=\"number\">10</span>)</span><br><span class=\"line\">        dfs(node.right, cur*<span class=\"number\">10</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">    dfs(root, <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"114-Flatten-Binary-Tree-to-Linked-List\"><a href=\"#114-Flatten-Binary-Tree-to-Linked-List\" class=\"headerlink\" title=\"114. Flatten Binary Tree to Linked List\"></a>114. Flatten Binary Tree to Linked List</h3><h4 id=\"å°†ä¸€ä¸ªäºŒå‰æ ‘å˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åœ¨åŸèŠ‚ç‚¹ä¸Šæ“ä½œã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªäºŒå‰æ ‘å˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åœ¨åŸèŠ‚ç‚¹ä¸Šæ“ä½œã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªäºŒå‰æ ‘å˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åœ¨åŸèŠ‚ç‚¹ä¸Šæ“ä½œã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªäºŒå‰æ ‘å˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚åœ¨åŸèŠ‚ç‚¹ä¸Šæ“ä½œã€‚<a href=\"https://leetcode.com/problems/flatten-binary-tree-to-linked-list/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">    1</span><br><span class=\"line\">   &#x2F; \\</span><br><span class=\"line\">  2   5</span><br><span class=\"line\"> &#x2F; \\   \\</span><br><span class=\"line\">3   4   6</span><br><span class=\"line\"></span><br><span class=\"line\">1</span><br><span class=\"line\"> \\</span><br><span class=\"line\">  2</span><br><span class=\"line\">   \\</span><br><span class=\"line\">    3</span><br><span class=\"line\">     \\</span><br><span class=\"line\">      4</span><br><span class=\"line\">       \\</span><br><span class=\"line\">        5</span><br><span class=\"line\">         \\</span><br><span class=\"line\">          6</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå˜æˆå·¦å­æ ‘æ“ä½œç›´è§‚ä¸€ç‚¹ï¼Œæ‰€ä»¥å…ˆå°†å®ƒå˜æˆå·¦å­æ ‘ï¼Œç„¶åå†é•œåƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flatten</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, p=[], par=None)</span>:</span></span><br><span class=\"line\">        p.append(node)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(p) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            p[<span class=\"number\">-2</span>].left = p[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> par:</span><br><span class=\"line\">                par.right = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            dfs(node.left, p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            dfs(node.right, p, node)</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sym</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            node.left, node.right = node.right, node.left</span><br><span class=\"line\">            sym(node.left)</span><br><span class=\"line\">            sym(node.right)</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    sym(root)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå…ˆæŠŠä¿©èŠ‚ç‚¹å·¦å³äº’æ¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flatten</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, p=[], par=None)</span>:</span></span><br><span class=\"line\">        node.left, node.right = node.right, node.left</span><br><span class=\"line\">        p.append(node)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(p) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">            p[<span class=\"number\">-2</span>].right = p[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> par:</span><br><span class=\"line\">                par.left = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            dfs(node.right, p)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            dfs(node.left, p, node</span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> </span><br><span class=\"line\">    dfs(root)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPairs</span><span class=\"params\">(self, root: TreeNode, distance: int)</span> -&gt; int:</span></span><br><span class=\"line\">    paths = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            p.append(node)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">                paths.append(list(p))</span><br><span class=\"line\">            dfs(node.left, p)</span><br><span class=\"line\">            dfs(node.right, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\">            </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    n = len(paths)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n):</span><br><span class=\"line\">            p1 = list(paths[i])</span><br><span class=\"line\">            p2 = list(paths[j])</span><br><span class=\"line\">            k = distance + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> k:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> p1[<span class=\"number\">-1</span>] == p2[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    ans += <span class=\"number\">1</span></span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> len(p1) &gt;= len(p2):</span><br><span class=\"line\">                    p1.pop()</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    p2.pop()</span><br><span class=\"line\">                k -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šååºéå†</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPairs</span><span class=\"params\">(self, root: TreeNode, distance: int)</span> -&gt; int:</span></span><br><span class=\"line\">    count = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">nonlocal</span> count</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> []</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [<span class=\"number\">1</span>]</span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        count += sum(l+r&lt;=distance <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> left <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> right)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [k+<span class=\"number\">1</span> <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> left+right <span class=\"keyword\">if</span> k+<span class=\"number\">1</span>&lt;distance]</span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<h3 id=\"450-Delete-Node-in-a-BST\"><a href=\"#450-Delete-Node-in-a-BST\" class=\"headerlink\" title=\"450. Delete Node in a BST\"></a>450. Delete Node in a BST</h3><h4 id=\"åˆ é™¤äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚åŸé¢˜\"></a>åˆ é™¤äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/delete-node-in-a-bst/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šé€’å½’ï¼Œå¥½ä¹…æ²¡åšäºŒå‰æ ‘æœ‰ç‚¹ç”Ÿç–ï¼Œæƒ³äº†åŠå¤©ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteNode</span><span class=\"params\">(self, root: TreeNode, key: int)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> root.val &gt; key:</span><br><span class=\"line\">        root.left = self.deleteNode(root.left, key)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> root.val &lt; key:</span><br><span class=\"line\">        root.right = self.deleteNode(root.right, key)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root.right:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root.left</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> <span class=\"keyword\">not</span> root.left:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root.right</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur = root.right</span><br><span class=\"line\">            <span class=\"keyword\">while</span> cur.left:</span><br><span class=\"line\">                cur = cur.left</span><br><span class=\"line\">            cur.left = root.left</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root.right</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"971-Flip-Binary-Tree-To-Match-Preorder-Traversal\"><a href=\"#971-Flip-Binary-Tree-To-Match-Preorder-Traversal\" class=\"headerlink\" title=\"971. Flip Binary Tree To Match Preorder Traversal\"></a>971. Flip Binary Tree To Match Preorder Traversal</h3><h4 id=\"ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªå‰åºéå†ï¼Œåˆ¤æ–­äºŒå‰æ ‘å¦é€šè¿‡äº’æ¢å·¦å³å­æ ‘æ¥è¾¾åˆ°å‰åºéå†çš„é¡ºåºï¼Œè¿”å›è¿™æ ·çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ã€‚åŸé¢˜\"><a href=\"#ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªå‰åºéå†ï¼Œåˆ¤æ–­äºŒå‰æ ‘å¦é€šè¿‡äº’æ¢å·¦å³å­æ ‘æ¥è¾¾åˆ°å‰åºéå†çš„é¡ºåºï¼Œè¿”å›è¿™æ ·çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªå‰åºéå†ï¼Œåˆ¤æ–­äºŒå‰æ ‘å¦é€šè¿‡äº’æ¢å·¦å³å­æ ‘æ¥è¾¾åˆ°å‰åºéå†çš„é¡ºåºï¼Œè¿”å›è¿™æ ·çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ã€‚åŸé¢˜\"></a>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªå‰åºéå†ï¼Œåˆ¤æ–­äºŒå‰æ ‘å¦é€šè¿‡äº’æ¢å·¦å³å­æ ‘æ¥è¾¾åˆ°å‰åºéå†çš„é¡ºåºï¼Œè¿”å›è¿™æ ·çš„èŠ‚ç‚¹ç¼–å·ï¼Œæ²¡æœ‰åˆ™è¿”å›-1ã€‚<a href=\"https://leetcode.com/problems/flip-binary-tree-to-match-preorder-traversal/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [1,2], voyage &#x3D; [2,1]</span><br><span class=\"line\">Output: [-1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚ç¬¬ä¸€æ¬¡acçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flipMatchVoyage</span><span class=\"params\">(self, root: TreeNode, v: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    v = v[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flip</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        val = node.val <span class=\"keyword\">if</span> node <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> val != v[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">nonlocal</span> ans</span><br><span class=\"line\">            ans = [<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        v.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> v: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left <span class=\"keyword\">and</span> node.left.val != v[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            node.left, node.right = node.right, node.left</span><br><span class=\"line\">            ans.append(node.val)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            flip(node.left)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            flip(node.right)</span><br><span class=\"line\">        </span><br><span class=\"line\">    flip(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šleeçš„å†™æ³•ã€‚æ€è·¯æ˜¯ä¸€æ ·çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flipMatchVoyage</span><span class=\"params\">(self, root: TreeNode, v: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    v = v[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.val != v[<span class=\"number\">-1</span>]: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        v.pop()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left <span class=\"keyword\">and</span> node.left.val != v[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            node.left, node.right = node.right, node.left</span><br><span class=\"line\">            ans.append(node.val)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(node.left) <span class=\"keyword\">and</span> dfs(node.right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> dfs(root) <span class=\"keyword\">else</span> [<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"951-Flip-Equivalent-Binary-Trees\"><a href=\"#951-Flip-Equivalent-Binary-Trees\" class=\"headerlink\" title=\"951. Flip Equivalent Binary Trees\"></a>951. Flip Equivalent Binary Trees</h3><h4 id=\"å’Œ971å·®ä¸å¤šï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤æ£µæ ‘ã€‚åŸé¢˜\"><a href=\"#å’Œ971å·®ä¸å¤šï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤æ£µæ ‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ971å·®ä¸å¤šï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤æ£µæ ‘ã€‚åŸé¢˜\"></a>å’Œ971å·®ä¸å¤šï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤æ£µæ ‘ã€‚<a href=\"https://leetcode.com/problems/flip-equivalent-binary-trees/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç¬¬ä¸€æ¬¡æäº¤æ—¶å°‘è€ƒè™‘äº†ä¸€ä¸ªcaseå°±æ˜¯å·¦å³èŠ‚ç‚¹éƒ½ç›¸åŒã€‚è¿™ç§æƒ…å†µä¸‹å¯ç¿»è½¬ä¹Ÿå¯ä¸ç¿»è½¬ã€‚ç„¶åæƒ³orçš„å…³ç³»ï¼Œæ‹…å¿ƒä¼šè¶…æ—¶ã€‚å¥½åœ¨æ ‘çš„èŠ‚ç‚¹å¹¶æ²¡æœ‰å¾ˆå¤šã€‚è€Œä¸”ç”¨æ—¶ä¹Ÿä¸é«˜beatsäº†90%ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flipEquiv</span><span class=\"params\">(self, root1: TreeNode, root2: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> root2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root1 <span class=\"keyword\">is</span> root2</span><br><span class=\"line\">    <span class=\"keyword\">if</span> root1.val != root2.val:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    left_1 = root1.left.val <span class=\"keyword\">if</span> root1.left <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    left_2 = root2.left.val <span class=\"keyword\">if</span> root2.left <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">    ans = <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> left_1 != left_2:</span><br><span class=\"line\">        root1.left, root1.right = root1.right, root1.left</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        right_1 = root1.right.val <span class=\"keyword\">if</span> root1.right <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        right_2 = root2.right.val <span class=\"keyword\">if</span> root2.right <span class=\"keyword\">else</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> left_1 == right_1 == right_2:</span><br><span class=\"line\">            ans |= (self.flipEquiv(root1.left, root2.right) <span class=\"keyword\">and</span></span><br><span class=\"line\">                    self.flipEquiv(root1.right, root2.left))</span><br><span class=\"line\">    ans |= (self.flipEquiv(root1.left, root2.left) <span class=\"keyword\">and</span></span><br><span class=\"line\">            self.flipEquiv(root1.right, root2.right))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šç†è®ºä¸Šæ¥è¯´æ˜¯æ–¹æ³•ä¸€å¿«ï¼Œä½†æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">flipEquiv</span><span class=\"params\">(self, root1: TreeNode, root2: TreeNode)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root1 <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> root2:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root1 <span class=\"keyword\">is</span> root2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (root1.val == root2.val <span class=\"keyword\">and</span></span><br><span class=\"line\">           (self.flipEquiv(root1.left, root2.right) <span class=\"keyword\">and</span></span><br><span class=\"line\">            self.flipEquiv(root1.right, root2.left)) |</span><br><span class=\"line\">           (self.flipEquiv(root1.left, root2.left) <span class=\"keyword\">and</span></span><br><span class=\"line\">            self.flipEquiv(root1.right, root2.right)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"863-All-Nodes-Distance-K-in-Binary-Tree\"><a href=\"#863-All-Nodes-Distance-K-in-Binary-Tree\" class=\"headerlink\" title=\"863. All Nodes Distance K in Binary Tree\"></a>863. All Nodes Distance K in Binary Tree</h3><h4 id=\"æ‰¾å‡ºæ ‘ä¸­è·ç¦»ç›®æ ‡èŠ‚ç‚¹ä¸ºKçš„èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ ‘ä¸­è·ç¦»ç›®æ ‡èŠ‚ç‚¹ä¸ºKçš„èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ ‘ä¸­è·ç¦»ç›®æ ‡èŠ‚ç‚¹ä¸ºKçš„èŠ‚ç‚¹å€¼ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ ‘ä¸­è·ç¦»ç›®æ ‡èŠ‚ç‚¹ä¸ºKçš„èŠ‚ç‚¹å€¼ã€‚<a href=\"https://leetcode.com/problems/all-nodes-distance-k-in-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: root &#x3D; [3,5,1,6,2,0,8,null,null,7,4], target &#x3D; 5, K &#x3D; 2</span><br><span class=\"line\"></span><br><span class=\"line\">Output: [7,4,1]</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The nodes that are a distance 2 from the target node (with value 5)</span><br><span class=\"line\">have values 7, 4, and 1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªæ–¹æ³•æƒ³äº†ä¸€ä¸‹ï¼Œæ²¡æ•¢å¾€ä¸‹ç»†æƒ³ã€‚å…ˆæŠŠä»–å˜æˆé‚£ç§æ— å‘å›¾ã€‚ç„¶åbfsã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">distanceK</span><span class=\"params\">(self, root: TreeNode, target: TreeNode, K: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    g = collections.defaultdict(list)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">connect</span><span class=\"params\">(parent, child)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> parent <span class=\"keyword\">and</span> child:</span><br><span class=\"line\">            g[parent.val].append(child.val)</span><br><span class=\"line\">            g[child.val].append(parent.val)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> child.left: connect(child, child.left)  </span><br><span class=\"line\">        <span class=\"keyword\">if</span> child.right: connect(child, child.right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    connect(<span class=\"literal\">None</span>, root)</span><br><span class=\"line\">    bfs = [target.val]</span><br><span class=\"line\">    seen = set(bfs)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        new_level = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> q_val <span class=\"keyword\">in</span> bfs:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> g[q_val]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> j <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    new_level.append(j)</span><br><span class=\"line\">        bfs = new_level</span><br><span class=\"line\">        seen |= set(bfs)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bfs</span><br></pre></td></tr></table></figure>\n<h3 id=\"865-Smallest-Subtree-with-all-the-Deepest-Nodes\"><a href=\"#865-Smallest-Subtree-with-all-the-Deepest-Nodes\" class=\"headerlink\" title=\"865. Smallest Subtree with all the Deepest Nodes\"></a>865. Smallest Subtree with all the Deepest Nodes</h3><h4 id=\"å¸¦æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘ã€‚ä¹Ÿå°±æ˜¯æ±‚æœ€åº•å±‚å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"><a href=\"#å¸¦æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘ã€‚ä¹Ÿå°±æ˜¯æ±‚æœ€åº•å±‚å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"å¸¦æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘ã€‚ä¹Ÿå°±æ˜¯æ±‚æœ€åº•å±‚å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŸé¢˜\"></a>å¸¦æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘ã€‚ä¹Ÿå°±æ˜¯æ±‚æœ€åº•å±‚å¶å­èŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚<a href=\"https://leetcode.com/problems/smallest-subtree-with-all-the-deepest-nodes/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”¨æœ€å°å…¬å…±ç¥–å…ˆçš„æ±‚æ³•å¯ä»¥å¾—åˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subtreeWithAllDeepest</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    paths = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(n, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n:</span><br><span class=\"line\">            p.append(n)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> n.right:</span><br><span class=\"line\">                paths.append(list(p))</span><br><span class=\"line\">            dfs(n.left, p)</span><br><span class=\"line\">            dfs(n.right, p)</span><br><span class=\"line\">            p.pop()</span><br><span class=\"line\">    </span><br><span class=\"line\">    dfs(root, [])</span><br><span class=\"line\">    max_len = max(len(p) <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> paths)</span><br><span class=\"line\">    paths = [p <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> paths <span class=\"keyword\">if</span> len(p)==max_len]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(nodes[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> nodes <span class=\"keyword\">in</span> list(zip(*paths))[::<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> len(set(nodes))==<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLee215çš„æ–¹æ³•ã€‚å¦‚æœå¯¹äºä¸€ä¸ªå­æ ‘èŠ‚ç‚¹æ¥è¯´ï¼Œå·¦è¾¹æ·±åº¦&gt;å³è¾¹åˆ™è¯´æ˜æˆ‘ä»¬è¦æ‰¾çš„ç‚¹åœ¨å·¦ä¾§ã€‚åä¹‹äº¦ç„¶ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„èŠ‚ç‚¹ã€‚è¿”å›ä¸€ä¸ªtupleä¸€å±‚å±‚å°†è¦æ‰¾çš„ç‚¹é€’å½’ä¸Šå»ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">subtreeWithAllDeepest</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; TreeNode:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deep</span><span class=\"params\">(root)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> root: <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"literal\">None</span></span><br><span class=\"line\">        l, r = deep(root.left), deep(root.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> l[<span class=\"number\">0</span>] &gt; r[<span class=\"number\">0</span>]: <span class=\"keyword\">return</span> l[<span class=\"number\">0</span>] + <span class=\"number\">1</span>, l[<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> l[<span class=\"number\">0</span>] &lt; r[<span class=\"number\">0</span>]: <span class=\"keyword\">return</span> r[<span class=\"number\">0</span>] + <span class=\"number\">1</span>, r[<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>: <span class=\"keyword\">return</span> l[<span class=\"number\">0</span>] + <span class=\"number\">1</span>, root</span><br><span class=\"line\">    <span class=\"keyword\">return</span> deep(root)[<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1373-Maximum-Sum-BST-in-Binary-Tree\"><a href=\"#1373-Maximum-Sum-BST-in-Binary-Tree\" class=\"headerlink\" title=\"1373. Maximum Sum BST in Binary Tree\"></a>1373. Maximum Sum BST in Binary Tree</h3><h4 id=\"æ‰¾åˆ°äºŒå‰æ ‘ä¸­ï¼Œæœ€å¤§çš„ä¸€ä¸ªäºŒå‰æœç´¢å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°äºŒå‰æ ‘ä¸­ï¼Œæœ€å¤§çš„ä¸€ä¸ªäºŒå‰æœç´¢å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°äºŒå‰æ ‘ä¸­ï¼Œæœ€å¤§çš„ä¸€ä¸ªäºŒå‰æœç´¢å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å’Œã€‚åŸé¢˜\"></a>æ‰¾åˆ°äºŒå‰æ ‘ä¸­ï¼Œæœ€å¤§çš„ä¸€ä¸ªäºŒå‰æœç´¢å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å’Œã€‚<a href=\"https://leetcode.com/problems/maximum-sum-bst-in-binary-tree/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè™½ç„¶æ˜¯ä¸ªhardé¢˜ï¼Œä½†æ˜¯æ€è·¯å¾ˆæ¸…æ™°ã€‚ä¸€ä¸ªdfsè¿”å›æ—¶è®°å½•è¿™ä¸ªå­æ ‘ä¸­çš„æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œæ€»å’Œã€‚é¦–æ¬¡acçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node.left <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> node.right:</span><br><span class=\"line\">            self.ans = max(self.ans, node.val)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> node.val, node.val, node.val</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.left:</span><br><span class=\"line\">            small_left, big_left, total_left = helper(node.left)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            small_left, big_left, total_left = float(<span class=\"string\">'inf'</span>), float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.right:</span><br><span class=\"line\">            small_right, big_right, total_right = helper(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            small_right, big_right, total_right = float(<span class=\"string\">'inf'</span>), float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.val &gt; big_left <span class=\"keyword\">and</span> node.val &lt; small_right:</span><br><span class=\"line\">            total = total_left + total_right + node.val</span><br><span class=\"line\">            small = min(small_left, small_right, node.val)</span><br><span class=\"line\">            big = max(big_left, big_right, node.val)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            small, big, total = float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        self.ans = max(self.ans, total)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> small, big, total</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€å¤šäº†å¾ˆå¤šå¤šä½™çš„æ¯”è¾ƒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumBST</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(<span class=\"string\">'inf'</span>), float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">        small_left, big_left, total_left = helper(node.left)</span><br><span class=\"line\">        small_right, big_right, total_right = helper(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> big_left &lt; node.val &lt; small_right:</span><br><span class=\"line\">            self.ans = max(self.ans, total_left+total_right+node.val)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> min(small_left, node.val), max(big_right, node.val), total_left+total_right+node.val</span><br><span class=\"line\">        <span class=\"keyword\">return</span> float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'inf'</span>), <span class=\"number\">0</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    helper(root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"501-Find-Mode-in-Binary-Search-Tree\"><a href=\"#501-Find-Mode-in-Binary-Search-Tree\" class=\"headerlink\" title=\"501. Find Mode in Binary Search Tree\"></a><a href=\"https://leetcode.com/problems/find-mode-in-binary-search-tree/\" target=\"_blank\" rel=\"noopener\">501. Find Mode in Binary Search Tree</a></h3><h4 id=\"æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ï¼Œå¯èƒ½æœ‰å¤šä¸ªå€¼ã€‚è¿™ä¸ªæ ‘å·¦å­æ ‘èŠ‚ç‚¹æ˜¯ã€Š-å½“å‰èŠ‚ç‚¹ã€‚\"><a href=\"#æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ï¼Œå¯èƒ½æœ‰å¤šä¸ªå€¼ã€‚è¿™ä¸ªæ ‘å·¦å­æ ‘èŠ‚ç‚¹æ˜¯ã€Š-å½“å‰èŠ‚ç‚¹ã€‚\" class=\"headerlink\" title=\"æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ï¼Œå¯èƒ½æœ‰å¤šä¸ªå€¼ã€‚è¿™ä¸ªæ ‘å·¦å­æ ‘èŠ‚ç‚¹æ˜¯ã€Š=å½“å‰èŠ‚ç‚¹ã€‚\"></a>æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ï¼Œå¯èƒ½æœ‰å¤šä¸ªå€¼ã€‚è¿™ä¸ªæ ‘å·¦å­æ ‘èŠ‚ç‚¹æ˜¯ã€Š=å½“å‰èŠ‚ç‚¹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šä¸­åºéå†æ”¹çš„ã€‚å°†æ‰€æœ‰èŠ‚ç‚¹å€¼æŒ‰åºè¾“å‡ºå°±å¥½æ‰¾äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findMode</span><span class=\"params\">(self, root)</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">inorder</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.left)</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> node.val</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">from</span> inorder(node.right)</span><br><span class=\"line\">            </span><br><span class=\"line\">    prev, ans = <span class=\"literal\">None</span>, []</span><br><span class=\"line\">    cnt = max_cnt = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> inorder(root):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> prev == d:</span><br><span class=\"line\">            cnt += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cnt = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cnt &gt; max_cnt:</span><br><span class=\"line\">            ans = [d]</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> cnt == max_cnt:</span><br><span class=\"line\">            ans.append(d)</span><br><span class=\"line\">        max_cnt = max(max_cnt, cnt)</span><br><span class=\"line\">        prev = d</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"968-Binary-Tree-Cameras\"><a href=\"#968-Binary-Tree-Cameras\" class=\"headerlink\" title=\"968. Binary Tree Cameras\"></a><a href=\"https://leetcode.com/problems/binary-tree-cameras/\" target=\"_blank\" rel=\"noopener\">968. Binary Tree Cameras</a></h3><h4 id=\"è¦å¯¹ä¸€é¢—äºŒå‰æ ‘è¿›è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‘„åƒå¤´å¯ä»¥ç›‘æ§çˆ¶èŠ‚ç‚¹ï¼Œè‡ªèº«ä»¥åŠå­èŠ‚ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ‘„åƒå¤´èƒ½ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚\"><a href=\"#è¦å¯¹ä¸€é¢—äºŒå‰æ ‘è¿›è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‘„åƒå¤´å¯ä»¥ç›‘æ§çˆ¶èŠ‚ç‚¹ï¼Œè‡ªèº«ä»¥åŠå­èŠ‚ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ‘„åƒå¤´èƒ½ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚\" class=\"headerlink\" title=\"è¦å¯¹ä¸€é¢—äºŒå‰æ ‘è¿›è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‘„åƒå¤´å¯ä»¥ç›‘æ§çˆ¶èŠ‚ç‚¹ï¼Œè‡ªèº«ä»¥åŠå­èŠ‚ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ‘„åƒå¤´èƒ½ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚\"></a>è¦å¯¹ä¸€é¢—äºŒå‰æ ‘è¿›è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‘„åƒå¤´å¯ä»¥ç›‘æ§çˆ¶èŠ‚ç‚¹ï¼Œè‡ªèº«ä»¥åŠå­èŠ‚ç‚¹ã€‚é—®æœ€å°‘éœ€è¦å¤šå°‘ä¸ªæ‘„åƒå¤´èƒ½ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜çœ‹äº†é¢˜è§£ï¼Œå®é™…ä¸Šæœ‰ä¸ªè´ªå¿ƒçš„è§£æ³•ï¼Œé€šè¿‡çŠ¶æ€æ¥è¡¨ç¤ºèŠ‚ç‚¹æ˜¯å¦éœ€è¦ç›‘æ§ã€‚é€šè¿‡ååºéå†ï¼Œå­èŠ‚ç‚¹çš„è£…å¡«åˆ¤æ–­é™„è¿‘ç‚¹çŠ¶æ€ã€‚æœ‰æ—¶å€™çœ‹åˆ°æ ‡ç­¾ä¸Šæ˜¯dpï¼Œå°±è¢«æ ‡ç­¾ä¸Šçš„è§£æ³•é™åˆ¶ä½äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCameraCover</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># 0ï¼šæœªè¢«ç›‘æ§ï¼›1ï¼šå·²ç›‘æ§ï¼Œ2ï¼šæ‘„åƒå¤´</span></span><br><span class=\"line\">    self.ans = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        left = dfs(node.left)</span><br><span class=\"line\">        right = dfs(node.right)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> left==<span class=\"number\">0</span> <span class=\"keyword\">or</span> right==<span class=\"number\">0</span>:</span><br><span class=\"line\">            self.ans += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> left==<span class=\"number\">1</span> <span class=\"keyword\">and</span> right==<span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> dfs(root) == <span class=\"number\">0</span>:</span><br><span class=\"line\">        self.ans += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> self.ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"116-Populating-Next-Right-Pointers-in-Each-Node\"><a href=\"#116-Populating-Next-Right-Pointers-in-Each-Node\" class=\"headerlink\" title=\"116. Populating Next Right Pointers in Each Node\"></a><a href=\"https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/\" target=\"_blank\" rel=\"noopener\">116. Populating Next Right Pointers in Each Node</a></h3><h4 id=\"å°†ä¸€ä¸ªå®Œç¾äºŒå‰æ ‘æ¯å±‚çš„èŠ‚ç‚¹ç›¸è¿ã€‚å®Œç¾äºŒå‰æ ‘æ˜¯æŒ‡æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚\"><a href=\"#å°†ä¸€ä¸ªå®Œç¾äºŒå‰æ ‘æ¯å±‚çš„èŠ‚ç‚¹ç›¸è¿ã€‚å®Œç¾äºŒå‰æ ‘æ˜¯æŒ‡æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªå®Œç¾äºŒå‰æ ‘æ¯å±‚çš„èŠ‚ç‚¹ç›¸è¿ã€‚å®Œç¾äºŒå‰æ ‘æ˜¯æŒ‡æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚\"></a>å°†ä¸€ä¸ªå®Œç¾äºŒå‰æ ‘æ¯å±‚çš„èŠ‚ç‚¹ç›¸è¿ã€‚å®Œç¾äºŒå‰æ ‘æ˜¯æŒ‡æ‰€æœ‰å¶å­èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šstefan.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">connect</span><span class=\"params\">(self, root: <span class=\"string\">'Node'</span>)</span> -&gt; 'Node':</span></span><br><span class=\"line\">    head = root</span><br><span class=\"line\">    <span class=\"keyword\">while</span> root <span class=\"keyword\">and</span> root.left:</span><br><span class=\"line\">        nxt = root.left</span><br><span class=\"line\">        <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">            root.left.next = root.right</span><br><span class=\"line\">            root.right.next = root.next <span class=\"keyword\">and</span> root.next.left</span><br><span class=\"line\">            root = root.next</span><br><span class=\"line\">        root = nxt</span><br><span class=\"line\">    <span class=\"keyword\">return</span> head</span><br></pre></td></tr></table></figure>\n<h3 id=\"117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II\"><a href=\"#117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II\" class=\"headerlink\" title=\"117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II\"></a><a href=\"https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node-ii/\" target=\"_blank\" rel=\"noopener\">117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</a></h3><h4 id=\"è¿™é¢˜ç”±äºè¦æ±‚å¸¸æ•°ç©ºé—´å¤æ‚åº¦å®ç°ï¼Œæé«˜äº†éš¾åº¦ã€‚ä¸èƒ½ä½¿ç”¨å±‚åºç›´æ¥åšäº†ã€‚å¯¹æ¯”116é¢˜ï¼Œæ ‘ä¸æ˜¯å®Œç¾äºŒå‰æ ‘äº†ã€‚\"><a href=\"#è¿™é¢˜ç”±äºè¦æ±‚å¸¸æ•°ç©ºé—´å¤æ‚åº¦å®ç°ï¼Œæé«˜äº†éš¾åº¦ã€‚ä¸èƒ½ä½¿ç”¨å±‚åºç›´æ¥åšäº†ã€‚å¯¹æ¯”116é¢˜ï¼Œæ ‘ä¸æ˜¯å®Œç¾äºŒå‰æ ‘äº†ã€‚\" class=\"headerlink\" title=\"è¿™é¢˜ç”±äºè¦æ±‚å¸¸æ•°ç©ºé—´å¤æ‚åº¦å®ç°ï¼Œæé«˜äº†éš¾åº¦ã€‚ä¸èƒ½ä½¿ç”¨å±‚åºç›´æ¥åšäº†ã€‚å¯¹æ¯”116é¢˜ï¼Œæ ‘ä¸æ˜¯å®Œç¾äºŒå‰æ ‘äº†ã€‚\"></a>è¿™é¢˜ç”±äºè¦æ±‚å¸¸æ•°ç©ºé—´å¤æ‚åº¦å®ç°ï¼Œæé«˜äº†éš¾åº¦ã€‚ä¸èƒ½ä½¿ç”¨å±‚åºç›´æ¥åšäº†ã€‚å¯¹æ¯”116é¢˜ï¼Œæ ‘ä¸æ˜¯å®Œç¾äºŒå‰æ ‘äº†ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæŒ‡é’ˆï¼Œcurè¡¨ç¤ºå½“å‰å±‚æ¸¸æ ‡ï¼Œheadè¡¨ç¤ºä¸‹ä¸€å±‚å¤´èŠ‚ç‚¹ï¼Œpreåˆ™æ˜¯ä¸‹ä¸€å±‚çš„æ¸¸æ ‡ã€‚é€ä¸ªå°†preçš„nextå’Œcurçš„å·¦å³å­èŠ‚ç‚¹ç›¸è¿ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">connect</span><span class=\"params\">(self, root: <span class=\"string\">'Node'</span>)</span> -&gt; 'Node':</span></span><br><span class=\"line\">    head = root</span><br><span class=\"line\">    <span class=\"keyword\">while</span> head:<span class=\"comment\">#å½“å‰å±‚çš„å¤´èŠ‚ç‚¹</span></span><br><span class=\"line\">        cur = head <span class=\"comment\">#å½“å‰å±‚å¤„ç†èŠ‚ç‚¹</span></span><br><span class=\"line\">        pre = head = <span class=\"literal\">None</span><span class=\"comment\">#åˆå§‹åŒ–ä¸‹ä¸€å±‚å¤´èŠ‚ç‚¹å’Œå‰ç½®èŠ‚ç‚¹</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> cur:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur.left:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pre:<span class=\"comment\">#è‹¥å°šæœªæ‰¾åˆ°ä¸‹ä¸€å±‚å‰ç½®èŠ‚ç‚¹ï¼Œåˆ™åŒæ­¥æ›´æ–°ä¸‹ä¸€å±‚å¤´èŠ‚ç‚¹å’Œå‰ç½®èŠ‚ç‚¹</span></span><br><span class=\"line\">                    pre = head =cur.left</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:<span class=\"comment\">#å·²æ‰¾åˆ°ä¸‹ä¸€å±‚å‰ç½®èŠ‚ç‚¹ï¼Œåˆ™å°†å‰ç½®èŠ‚ç‚¹æŒ‡å‘å½“å‰å­èŠ‚ç‚¹ï¼Œå¹¶å‰ç§»pre</span></span><br><span class=\"line\">                    pre.next = cur.left</span><br><span class=\"line\">                    pre = pre.next</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur.right:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pre:</span><br><span class=\"line\">                    pre = head = cur.right</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    pre.next = cur.right</span><br><span class=\"line\">                    pre = pre.next</span><br><span class=\"line\">            cur = cur.next</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br></pre></td></tr></table></figure>\n<h3 id=\"834-Sum-of-Distances-in-Tree-https-leetcode-com-problems-sum-of-distances-in-tree\"><a href=\"#834-Sum-of-Distances-in-Tree-https-leetcode-com-problems-sum-of-distances-in-tree\" class=\"headerlink\" title=\"834. Sum of Distances in Tree](https://leetcode.com/problems/sum-of-distances-in-tree/)\"></a>834. Sum of Distances in Tree](<a href=\"https://leetcode.com/problems/sum-of-distances-in-tree/\" target=\"_blank\" rel=\"noopener\">https://leetcode.com/problems/sum-of-distances-in-tree/</a>)</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ— å‘ã€è¿é€šçš„æ ‘ã€‚æ ‘ä¸­æœ‰-N-ä¸ªæ ‡è®°ä¸º-0â€¦N-1-çš„èŠ‚ç‚¹ä»¥åŠ-N-1-æ¡è¾¹-ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºèŠ‚ç‚¹-i-ä¸å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹è·ç¦»ä¹‹å’Œçš„åˆ—è¡¨-ansã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªæ— å‘ã€è¿é€šçš„æ ‘ã€‚æ ‘ä¸­æœ‰-N-ä¸ªæ ‡è®°ä¸º-0â€¦N-1-çš„èŠ‚ç‚¹ä»¥åŠ-N-1-æ¡è¾¹-ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºèŠ‚ç‚¹-i-ä¸å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹è·ç¦»ä¹‹å’Œçš„åˆ—è¡¨-ansã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ— å‘ã€è¿é€šçš„æ ‘ã€‚æ ‘ä¸­æœ‰ N ä¸ªæ ‡è®°ä¸º 0â€¦N-1 çš„èŠ‚ç‚¹ä»¥åŠ N-1 æ¡è¾¹ ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºèŠ‚ç‚¹ i ä¸å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹è·ç¦»ä¹‹å’Œçš„åˆ—è¡¨ ansã€‚\"></a>ç»™å®šä¸€ä¸ªæ— å‘ã€è¿é€šçš„æ ‘ã€‚æ ‘ä¸­æœ‰ N ä¸ªæ ‡è®°ä¸º 0â€¦N-1 çš„èŠ‚ç‚¹ä»¥åŠ N-1 æ¡è¾¹ ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºèŠ‚ç‚¹ i ä¸å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹è·ç¦»ä¹‹å’Œçš„åˆ—è¡¨ ansã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥: N &#x3D; 6, edges &#x3D; [[0,1],[0,2],[2,3],[2,4],[2,5]]</span><br><span class=\"line\">è¾“å‡º: [8,12,6,10,10,10]</span><br><span class=\"line\">è§£é‡Š: </span><br><span class=\"line\">å¦‚ä¸‹ä¸ºç»™å®šçš„æ ‘çš„ç¤ºæ„å›¾ï¼š</span><br><span class=\"line\">  0</span><br><span class=\"line\"> &#x2F; \\</span><br><span class=\"line\">1   2</span><br><span class=\"line\">   &#x2F;|\\</span><br><span class=\"line\">  3 4 5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs. @lee215çš„æ–¹æ³•ã€‚ å±å®æ˜¯ä¸€é“hardé¢˜ï¼Œçœ‹äº†é¢˜è§£æ‰æ˜ç™½ã€‚å¯¹äºä»»æ„èŠ‚ç‚¹ï¼Œå¯ä»¥ä»O(n)è·å–æ‰€æœ‰çš„è·ç¦»ä¹‹å’Œã€‚ä½†æ˜¯å¦‚æœæ¯ä¸ªèŠ‚ç‚¹éƒ½åšä¸€édfsï¼ŒO(n^2)æ˜æ˜¾ä¼šè¶…æ—¶ã€‚è¿™æ ·æ€è€ƒï¼Œå½“æ ¹èŠ‚ç‚¹åœ¨æ— å‘å›¾ä¸­ç§»åŠ¨æ—¶ï¼Œæ¯”å¦‚ä»0åˆ°2ï¼Œé‚£ä¹ˆä¸ç§»åŠ¨æ–¹å‘ç›¸åŒçš„èŠ‚ç‚¹ï¼Œæ‰€æœ‰èŠ‚ç‚¹è·ç¦»éƒ½å°‘äº†1ï¼›ä¸ä¹‹åå‘çš„èŠ‚ç‚¹è·ç¦»éƒ½+1ã€‚é‚£ä¹ˆå¦‚æœçŸ¥é“äº†2èŠ‚ç‚¹çš„å­æ ‘ï¼ˆåŒ…å«2èŠ‚ç‚¹ï¼‰ä¸€å…±æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œå°±çŸ¥é“äº†è·ç¦»æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚è¿˜éœ€è¦æ˜ç™½ä¸€ä»¶äº‹ï¼Œres[root] = res[child] + count[child]<code>ã€‚æ¯”å¦‚ä»¥0ä½çˆ¶èŠ‚ç‚¹ï¼Œåœ¨0çš„å³å­æ ‘éƒ¨åˆ†è·ç¦»å’Œä¸º</code>res[2] + count[2]<code>ï¼Œcountè¡¨ç¤º2å­æ ‘æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚å› ä¸ºå¯¹äº2ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹åˆ°2çš„è·ç¦»éƒ½åŒ…å«åœ¨äº†</code>res[2]`ä¸­ï¼Œé‚£ä¹ˆéœ€è¦è®¡ç®—åˆ°0çš„è·ç¦»ï¼Œå°±æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹å†+1ã€‚æˆ‘ä»¬ä»¥0ä½æ ¹èŠ‚ç‚¹ï¼Œåœ¨é€šè¿‡0ç®—å…¶ä»–çš„è·ç¦»å’Œã€‚çŸ¥é“äº†è¿™äº›è§„å¾‹ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡ååºéå†æ›´æ–°æ›´æ–°res[0]å’Œcountã€‚ç„¶åè¿›è¡Œå…ˆåºéå†æ›´æ–°0çš„å„ä¸ªå­èŠ‚ç‚¹çš„è·ç¦»å’Œã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumOfDistancesInTree</span><span class=\"params\">(self, N: int, edges: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    tree = defaultdict(set)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> edges:</span><br><span class=\"line\">        tree[u].add(v)</span><br><span class=\"line\">        tree[v].add(u)</span><br><span class=\"line\">    res = [<span class=\"number\">0</span>] * N</span><br><span class=\"line\">    count = [<span class=\"number\">1</span>] * N</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(root, pre)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> tree[root]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i != pre:</span><br><span class=\"line\">                dfs(i, root)</span><br><span class=\"line\">                count[root] += count[i]</span><br><span class=\"line\">                res[root] += res[i] + count[i]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs2</span><span class=\"params\">(root, pre)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> tree[root]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i != pre:</span><br><span class=\"line\">                res[i] = res[root] - count[i] + N - count[i]</span><br><span class=\"line\">                dfs2(i, root)</span><br><span class=\"line\"></span><br><span class=\"line\">    dfs(<span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">    dfs2(<span class=\"number\">0</span>, <span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"655-Print-Binary-Tree\"><a href=\"#655-Print-Binary-Tree\" class=\"headerlink\" title=\"655. Print Binary Tree\"></a><a href=\"https://leetcode.com/problems/print-binary-tree/\" target=\"_blank\" rel=\"noopener\">655. Print Binary Tree</a></h3><h4 id=\"æ‰“å°äºŒå‰æ ‘ã€‚\"><a href=\"#æ‰“å°äºŒå‰æ ‘ã€‚\" class=\"headerlink\" title=\"æ‰“å°äºŒå‰æ ‘ã€‚\"></a>æ‰“å°äºŒå‰æ ‘ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">     1</span><br><span class=\"line\">    &#x2F; \\</span><br><span class=\"line\">   2   3</span><br><span class=\"line\">    \\</span><br><span class=\"line\">     4</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[[&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;1&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;],</span><br><span class=\"line\"> [&quot;&quot;, &quot;2&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;3&quot;, &quot;&quot;],</span><br><span class=\"line\"> [&quot;&quot;, &quot;&quot;, &quot;4&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šiterative. </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printTree</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    level, ans, d = [root], [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> any(level):</span><br><span class=\"line\">        ans.append([str(n.val) <span class=\"keyword\">if</span> n <span class=\"keyword\">else</span> <span class=\"string\">''</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level])</span><br><span class=\"line\">        tmp = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> level:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n: tmp.extend([<span class=\"literal\">None</span>, <span class=\"literal\">None</span>])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>: tmp.extend([n.left, n.right])</span><br><span class=\"line\">        level = tmp</span><br><span class=\"line\">        d += <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    m = n = <span class=\"number\">2</span> ** d - <span class=\"number\">1</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> layer <span class=\"keyword\">in</span> ans:</span><br><span class=\"line\">        tmp = [<span class=\"string\">''</span>] * n</span><br><span class=\"line\">        it = iter(layer)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(m//<span class=\"number\">2</span>, n, m+<span class=\"number\">1</span>):</span><br><span class=\"line\">            tmp[j] = next(it)</span><br><span class=\"line\">        res.append(tmp)</span><br><span class=\"line\">        m //= <span class=\"number\">2</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé€’å½’æ³•ä¹Ÿå¾ˆæ¸…æ™°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">printTree</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; List[List[str]]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_height</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span> <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node <span class=\"keyword\">else</span> <span class=\"number\">1</span> + max(get_height(node.left), get_height(node.right))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">update_output</span><span class=\"params\">(i, lo, hi, node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node: <span class=\"keyword\">return</span></span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        ans[i][mid] = str(node.val)</span><br><span class=\"line\">        update_output(i+<span class=\"number\">1</span>, lo, mid<span class=\"number\">-1</span>, node.left)</span><br><span class=\"line\">        update_output(i+<span class=\"number\">1</span>, mid+<span class=\"number\">1</span>, hi, node.right)</span><br><span class=\"line\">    </span><br><span class=\"line\">    h = get_height(root)</span><br><span class=\"line\">    w = <span class=\"number\">2</span> ** h - <span class=\"number\">1</span></span><br><span class=\"line\">    ans = [[<span class=\"string\">''</span>] * w <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(h)]</span><br><span class=\"line\">    lo, hi = <span class=\"number\">0</span>, w - <span class=\"number\">1</span></span><br><span class=\"line\">    update_output(<span class=\"number\">0</span>, lo, hi, root)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"307-Range-Sum-Query-Mutable\"><a href=\"#307-Range-Sum-Query-Mutable\" class=\"headerlink\" title=\"307. Range Sum Query - Mutable\"></a><a href=\"https://leetcode.com/problems/range-sum-query-mutable/\" target=\"_blank\" rel=\"noopener\">307. Range Sum Query - Mutable</a></h3><h4 id=\"å¯å˜åŒºé—´æŸ¥è¯¢ã€‚\"><a href=\"#å¯å˜åŒºé—´æŸ¥è¯¢ã€‚\" class=\"headerlink\" title=\"å¯å˜åŒºé—´æŸ¥è¯¢ã€‚\"></a>å¯å˜åŒºé—´æŸ¥è¯¢ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given nums &#x3D; [1, 3, 5]</span><br><span class=\"line\"></span><br><span class=\"line\">sumRange(0, 2) -&gt; 9</span><br><span class=\"line\">update(1, 2)</span><br><span class=\"line\">sumRange(0, 2) -&gt; 8</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ ‡å‡†çš„çº¿æ®µæ ‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, start, end, val=<span class=\"number\">0</span>)</span>:</span></span><br><span class=\"line\">        self.start = start</span><br><span class=\"line\">        self.end = end</span><br><span class=\"line\">        self.val = val</span><br><span class=\"line\">        self.left = <span class=\"literal\">None</span></span><br><span class=\"line\">        self.right = <span class=\"literal\">None</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NumArray</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nums: List[int])</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build_tree</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> lo &gt; hi:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> </span><br><span class=\"line\">            <span class=\"keyword\">if</span> lo == hi:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Node(lo, hi, nums[lo])</span><br><span class=\"line\">            mid = (lo + hi) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">            root = Node(lo, hi)</span><br><span class=\"line\">            root.left = build_tree(lo, mid)</span><br><span class=\"line\">            root.right = build_tree(mid+<span class=\"number\">1</span>, hi)</span><br><span class=\"line\">            root.val = root.left.val + root.right.val</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root</span><br><span class=\"line\">        self.root = build_tree(<span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">update</span><span class=\"params\">(self, i: int, val: int)</span> -&gt; <span class=\"keyword\">None</span>:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">update_val</span><span class=\"params\">(root, i, val)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> root.start == root.end:</span><br><span class=\"line\">                root.val = val</span><br><span class=\"line\">                <span class=\"keyword\">return</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            mid = (root.start + root.end) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i &lt;= mid:</span><br><span class=\"line\">                update_val(root.left, i, val)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                update_val(root.right, i, val)</span><br><span class=\"line\">            root.val = root.left.val + root.right.val</span><br><span class=\"line\">        </span><br><span class=\"line\">        update_val(self.root, i, val)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumRange</span><span class=\"params\">(self, i: int, j: int)</span> -&gt; int:</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sum_range</span><span class=\"params\">(root, i, j)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> root.start==i <span class=\"keyword\">and</span> root.end==j:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> root.val</span><br><span class=\"line\">            </span><br><span class=\"line\">            mid = (root.start + root.end) &gt;&gt; <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> j &lt;= mid:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> sum_range(root.left, i, j)</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> i &gt;= mid+<span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> sum_range(root.right, i, j)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> sum_range(root.left, i, mid) + sum_range(root.right, mid+<span class=\"number\">1</span>, j)</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum_range(self.root, i, j)</span><br></pre></td></tr></table></figure>\n","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Math"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆåŠ¨æ€è§„åˆ’ç¯‡ï¼‰Danymic Programming","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/","content":"<h3 id=\"70-Climbing-Stairs\"><a href=\"#70-Climbing-Stairs\" class=\"headerlink\" title=\"70. Climbing Stairs\"></a>70. Climbing Stairs</h3><h4 id=\"çˆ¬æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥çˆ¬ä¸€é˜¶æˆ–ä¸¤é˜¶æ¥¼æ¢¯ï¼Œçˆ¬ä¸Šné˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•ï¼ŸåŸé¢˜\"><a href=\"#çˆ¬æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥çˆ¬ä¸€é˜¶æˆ–ä¸¤é˜¶æ¥¼æ¢¯ï¼Œçˆ¬ä¸Šné˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•ï¼ŸåŸé¢˜\" class=\"headerlink\" title=\"çˆ¬æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥çˆ¬ä¸€é˜¶æˆ–ä¸¤é˜¶æ¥¼æ¢¯ï¼Œçˆ¬ä¸Šné˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•ï¼ŸåŸé¢˜\"></a>çˆ¬æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥çˆ¬ä¸€é˜¶æˆ–ä¸¤é˜¶æ¥¼æ¢¯ï¼Œçˆ¬ä¸Šné˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿ<a href=\"https://leetcode.com/problems/climbing-stairs/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><a id=\"more\"></a>\n<p>æ–æ³¢é‚£å¥‘é—®é¢˜</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fibonacci</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    a = b = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        a, b = b, a+b</span><br><span class=\"line\">    <span class=\"keyword\">return</span> b</span><br></pre></td></tr></table></figure>\n<h3 id=\"746-Min-Cost-Climbing-Stairs\"><a href=\"#746-Min-Cost-Climbing-Stairs\" class=\"headerlink\" title=\"746. Min Cost Climbing Stairs\"></a>746. Min Cost Climbing Stairs</h3><h4 id=\"æ¥¼æ¢¯ä¸Šæ¯å±‚å†™äº†åˆ°è¾¾è¯¥å±‚çš„å¡è·¯é‡Œï¼Œæ±‚ä¸Šåˆ°é¡¶å±‚æ¶ˆè€—çš„æœ€å°å¡è·¯é‡Œã€‚åŸé¢˜\"><a href=\"#æ¥¼æ¢¯ä¸Šæ¯å±‚å†™äº†åˆ°è¾¾è¯¥å±‚çš„å¡è·¯é‡Œï¼Œæ±‚ä¸Šåˆ°é¡¶å±‚æ¶ˆè€—çš„æœ€å°å¡è·¯é‡Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¥¼æ¢¯ä¸Šæ¯å±‚å†™äº†åˆ°è¾¾è¯¥å±‚çš„å¡è·¯é‡Œï¼Œæ±‚ä¸Šåˆ°é¡¶å±‚æ¶ˆè€—çš„æœ€å°å¡è·¯é‡Œã€‚åŸé¢˜\"></a>æ¥¼æ¢¯ä¸Šæ¯å±‚å†™äº†åˆ°è¾¾è¯¥å±‚çš„å¡è·¯é‡Œï¼Œæ±‚ä¸Šåˆ°é¡¶å±‚æ¶ˆè€—çš„æœ€å°å¡è·¯é‡Œã€‚<a href=\"https://leetcode.com/problems/min-cost-climbing-stairs/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: cost &#x3D; [10, 15, 20]</span><br><span class=\"line\">Output: 15</span><br><span class=\"line\">Explanation: Cheapest is start on cost[1], pay that cost and go to the top.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: cost &#x3D; [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: Cheapest is start on cost[0], and only step on 1s, skipping cost[3].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šthe final cost <code>f[i]</code> to climb the staircase from some step <code>i</code>is <code>f[i] = cost[i] + min(f[i+1], f[i+2])</code>ã€‚åˆ°è¾¾ä¸€å±‚æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§æ˜¯ä¸Šä¸€å±‚ï¼Œä¸€ç§æ˜¯ä¸Šä¸¤å±‚ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCostClimbingStairs</span><span class=\"params\">(self, cost: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    f1 = f2 = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> reversed(cost):</span><br><span class=\"line\">        f1, f2 = min(f1, f2) + x, f1</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(f1, f2)</span><br></pre></td></tr></table></figure>\n<h3 id=\"121-Best-Time-to-Buy-and-Sell-Stock\"><a href=\"#121-Best-Time-to-Buy-and-Sell-Stock\" class=\"headerlink\" title=\"121. Best Time to Buy and Sell Stock\"></a>121. Best Time to Buy and Sell Stock</h3><h4 id=\"ä¹°å…¥å–å‡ºæœ€å¤§æ”¶ç›Šã€‚åŸé¢˜\"><a href=\"#ä¹°å…¥å–å‡ºæœ€å¤§æ”¶ç›Šã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¹°å…¥å–å‡ºæœ€å¤§æ”¶ç›Šã€‚åŸé¢˜\"></a>ä¹°å…¥å–å‡ºæœ€å¤§æ”¶ç›Šã€‚<a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [7,1,5,3,6,4]</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: Buy on day 2 (price &#x3D; 1) and sell on day 5 (price &#x3D; 6), profit &#x3D; 6-1 &#x3D; 5.</span><br><span class=\"line\">             Not 7-1 &#x3D; 6, as selling price needs to be larger than buying price.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force.å…¶å®å°±æ˜¯æ±‚æœ€é«˜å³°ç‚¹å’Œå‰é¢æœ€ä½è°·ç‚¹çš„å·®ã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/121_profit_graph.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, min_buy = <span class=\"number\">0</span>, float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> price <span class=\"keyword\">in</span> prices:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> price &lt; min_buy:</span><br><span class=\"line\">            min_buy = price</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> price-min_buy &gt; ans:</span><br><span class=\"line\">            ans = price - min_buy</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ ‡å‡†çš„å¡ç™»ç®—æ³•ã€‚æ­¤é¢˜ä¸º53.è¿ç»­æ•°ç»„æœ€å¤§å’Œçš„å˜å½¢ï¼Œå¦‚æœä»·æ ¼æ¯”ä¹‹å‰å°ï¼Œåˆ™èˆå¼ƒï¼Œå¦åˆ™ä¸€èµ·è®¡ç®—è¿ç»­å­æ•°ç»„çš„å’Œã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    cur = sofar = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">        cur += prices[i] - prices[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">        cur = max(<span class=\"number\">0</span>, cur)</span><br><span class=\"line\">        sofar = max(cur, sofar)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sofar</span><br></pre></td></tr></table></figure>\n<h3 id=\"122-Best-Time-to-Buy-and-Sell-Stock-II\"><a href=\"#122-Best-Time-to-Buy-and-Sell-Stock-II\" class=\"headerlink\" title=\"122. Best Time to Buy and Sell Stock II\"></a>122. Best Time to Buy and Sell Stock II</h3><h4 id=\"ä¹°å…¥å–å‡ºï¼Œå…è®¸å¤šæ¬¡äº¤æ˜“ã€‚åŸé¢˜\"><a href=\"#ä¹°å…¥å–å‡ºï¼Œå…è®¸å¤šæ¬¡äº¤æ˜“ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¹°å…¥å–å‡ºï¼Œå…è®¸å¤šæ¬¡äº¤æ˜“ã€‚åŸé¢˜\"></a>ä¹°å…¥å–å‡ºï¼Œå…è®¸å¤šæ¬¡äº¤æ˜“ã€‚<a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [7,1,5,3,6,4]</span><br><span class=\"line\">Output: 7</span><br><span class=\"line\">Explanation: Buy on day 2 (price &#x3D; 1) and sell on day 3 (price &#x3D; 5), profit &#x3D; 5-1 &#x3D; 4.</span><br><span class=\"line\">             Then buy on day 4 (price &#x3D; 3) and sell on day 5 (price &#x3D; 6), profit &#x3D; 6-3 &#x3D; 3.</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šæ¯”è¾ƒæ¯ä¸¤å¤©çš„ä»·æ ¼ï¼Œå¦‚æœæ˜¯æ¶¨ä»·äº†ï¼Œé‚£å°±æŠŠæ”¶ç›Šè®¡ç®—è¿›å»ï¼Œå¦åˆ™ä¸å‡ºæ‰‹äº¤æ˜“ã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/122_maxprofit.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_profit</span><span class=\"params\">(prices)</span>:</span></span><br><span class=\"line\">    profit = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> prices[i] &gt; prices[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            profit += prices[i] - prices[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> profit</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼špairwise.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    t, y = itertools.tee(prices)</span><br><span class=\"line\">    next(t, <span class=\"literal\">None</span>)</span><br><span class=\"line\">    profit = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> p1, p2 <span class=\"keyword\">in</span> zip(t, y):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1 &gt; p2:</span><br><span class=\"line\">            profit += p1-p2</span><br><span class=\"line\">    <span class=\"keyword\">return</span> profit</span><br></pre></td></tr></table></figure>\n<h3 id=\"714-Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee\"><a href=\"#714-Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee\" class=\"headerlink\" title=\"714. Best Time to Buy and Sell Stock with Transaction Fee\"></a><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\" target=\"_blank\" rel=\"noopener\">714. Best Time to Buy and Sell Stock with Transaction Fee</a></h3><h4 id=\"å’Œ122æ¯”è¾ƒåƒï¼ŒåŒºåˆ«åœ¨äºæ¯æ¬¡äº¤æ˜“æ—¶æœ‰ä¸€å®šçš„æ‰‹ç»­è´¹ã€‚\"><a href=\"#å’Œ122æ¯”è¾ƒåƒï¼ŒåŒºåˆ«åœ¨äºæ¯æ¬¡äº¤æ˜“æ—¶æœ‰ä¸€å®šçš„æ‰‹ç»­è´¹ã€‚\" class=\"headerlink\" title=\"å’Œ122æ¯”è¾ƒåƒï¼ŒåŒºåˆ«åœ¨äºæ¯æ¬¡äº¤æ˜“æ—¶æœ‰ä¸€å®šçš„æ‰‹ç»­è´¹ã€‚\"></a>å’Œ122æ¯”è¾ƒåƒï¼ŒåŒºåˆ«åœ¨äºæ¯æ¬¡äº¤æ˜“æ—¶æœ‰ä¸€å®šçš„æ‰‹ç»­è´¹ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: prices &#x3D; [1, 3, 2, 8, 4, 9], fee &#x3D; 2</span><br><span class=\"line\">Output: 8</span><br><span class=\"line\">Explanation: The maximum profit can be achieved by:</span><br><span class=\"line\">Buying at prices[0] &#x3D; 1Selling at prices[3] &#x3D; 8</span><br><span class=\"line\">Buying at prices[4] &#x3D; 4Selling at prices[5] &#x3D; 9</span><br><span class=\"line\">The total profit is ((8 - 1) - 2) + ((9 - 4) - 2) &#x3D; 8.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdpã€‚å’ŒæŠ¢æˆ¿å­æœ‰ç‚¹åƒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int], fee: int)</span> -&gt; int:</span></span><br><span class=\"line\">    hold, unhold = -inf, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, price <span class=\"keyword\">in</span> enumerate(prices):</span><br><span class=\"line\">        unhold, hold = max(unhold, hold+price-fee), max(hold, unhold-price)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> unhold</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæƒ³åˆ°äº†è´ªå¿ƒæ–¹æ³•ï¼Œä½†æ²¡å†™å‡ºå…·ä½“ä»£ç ï¼Œæ€è·¯æ˜¯è¿™æ ·çš„ï¼ŒæŠŠäº¤æ˜“è´¹å’Œä¹°å…¥ä»·ç®—åˆ°ä¸€èµ·ã€‚ä¹°äº†ä¹‹åè‚¯å®šå›å»å–ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int], fee: int)</span> -&gt; int:</span></span><br><span class=\"line\">    profit = <span class=\"number\">0</span></span><br><span class=\"line\">    buy = prices[<span class=\"number\">0</span>] + fee</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(prices)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> prices[i] + fee &lt; buy:</span><br><span class=\"line\">            buy = prices[i] + fee</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> prices[i] &gt; buy:</span><br><span class=\"line\">            profit += prices[i] - buy</span><br><span class=\"line\">            buy = prices[i]  <span class=\"comment\"># è¿™é‡Œä¸èƒ½+buyï¼Œå› ä¸ºè¿ç»­å‡é«˜çš„è‚¡ä»·ï¼Œåªéœ€è¦å–ä¸€æ¬¡å³å¯</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> profit</span><br></pre></td></tr></table></figure>\n<h3 id=\"Best-Time-to-Buy-and-Sell-Stock-III\"><a href=\"#Best-Time-to-Buy-and-Sell-Stock-III\" class=\"headerlink\" title=\"Best Time to Buy and Sell Stock III\"></a>Best Time to Buy and Sell Stock III</h3><h4 id=\"æœ€å¤šå…è®¸äº¤æ˜“ä¸¤æ¬¡ã€‚åŸé¢˜\"><a href=\"#æœ€å¤šå…è®¸äº¤æ˜“ä¸¤æ¬¡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤šå…è®¸äº¤æ˜“ä¸¤æ¬¡ã€‚åŸé¢˜\"></a>æœ€å¤šå…è®¸äº¤æ˜“ä¸¤æ¬¡ã€‚<a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>å…ˆä»å·¦åˆ°å³æŒ‰ç…§ä¸€æ¬¡äº¤æ˜“è®¡ç®—æ¯å¤©çš„åˆ©æ¶¦ã€‚ç„¶åæŒ‰ç…§ä»å³åˆ°å·¦ï¼Œåˆ¤æ–­å¦‚æœè¿›è¡Œç¬¬äºŒæ¬¡äº¤æ˜“ï¼Œæœ€å¤§çš„åˆ©æ¶¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    min_buy = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    profits = []</span><br><span class=\"line\">    max_profit = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> prices:</span><br><span class=\"line\">        min_buy = min(min_buy, p)</span><br><span class=\"line\">        max_profit = max(max_profit, p-min_buy)</span><br><span class=\"line\">        profits.append(max_profit)</span><br><span class=\"line\">    </span><br><span class=\"line\">    max_profit = <span class=\"number\">0</span></span><br><span class=\"line\">    total_profit = <span class=\"number\">0</span></span><br><span class=\"line\">    max_sell = float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(prices)<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        max_sell = max(max_sell, prices[i])</span><br><span class=\"line\">        max_profit = max(max_profit, max_sell-prices[i])</span><br><span class=\"line\">        total_profit = max(total_profit, max_profit+profits[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> total_profit</span><br></pre></td></tr></table></figure>\n<h3 id=\"188-Best-Time-to-Buy-and-Sell-Stock-IV\"><a href=\"#188-Best-Time-to-Buy-and-Sell-Stock-IV\" class=\"headerlink\" title=\"188. Best Time to Buy and Sell Stock IV\"></a><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/\" target=\"_blank\" rel=\"noopener\">188. Best Time to Buy and Sell Stock IV</a></h3><h4 id=\"æœ€å¤šå…è®¸äº¤æ˜“Kæ¬¡ã€‚\"><a href=\"#æœ€å¤šå…è®¸äº¤æ˜“Kæ¬¡ã€‚\" class=\"headerlink\" title=\"æœ€å¤šå…è®¸äº¤æ˜“Kæ¬¡ã€‚\"></a>æœ€å¤šå…è®¸äº¤æ˜“Kæ¬¡ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šä¸‰ç»´dpæ•°ç»„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, k: int, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    N = len(prices)</span><br><span class=\"line\">    <span class=\"comment\"># dp[i][j][0]è¡¨ç¤ºprices[:i]è¿›è¡Œjæ¬¡äº¤æ˜“åæœ€åæ˜¯å–å‡ºçš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class=\"line\">    <span class=\"comment\"># dp[i][j][1]è¡¨ç¤ºprices[:i]è¿›è¡Œjæ¬¡äº¤æ˜“åæœ€åæ˜¯ä¹°å…¥çš„æœ€å¤§åˆ©æ¶¦</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> k &gt;= N//<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(b-a <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> zip(prices, prices[<span class=\"number\">1</span>:]) <span class=\"keyword\">if</span> b&gt;a)</span><br><span class=\"line\">    dp = [[[<span class=\"number\">0</span>, <span class=\"number\">0</span>] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(k+<span class=\"number\">1</span>)] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, k+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][j][<span class=\"number\">0</span>] = <span class=\"number\">0</span></span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][j][<span class=\"number\">1</span>] = -prices[<span class=\"number\">0</span>]  <span class=\"comment\"># ä»¥ç¬¬ä¸€å¤©çš„è‚¡ç¥¨ä»·æ ¼ä¹°å…¥æ–¹ä¾¿åç»­å¤„ç†æ•°æ®</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> enumerate(prices[<span class=\"number\">1</span>:], <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, k+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"comment\"># å‡è®¾ä¹°å…¥æ—¶å¢åŠ ä¸€æ¬¡äº¤æ˜“</span></span><br><span class=\"line\">            dp[i][j][<span class=\"number\">0</span>] = max(dp[i<span class=\"number\">-1</span>][j][<span class=\"number\">1</span>]+p, dp[i<span class=\"number\">-1</span>][j][<span class=\"number\">0</span>])</span><br><span class=\"line\">            dp[i][j][<span class=\"number\">1</span>] = max(dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>][<span class=\"number\">0</span>]-p, dp[i<span class=\"number\">-1</span>][j][<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown\"><a href=\"#309-Best-Time-to-Buy-and-Sell-Stock-with-Cooldown\" class=\"headerlink\" title=\"309. Best Time to Buy and Sell Stock with Cooldown\"></a>309. Best Time to Buy and Sell Stock with Cooldown</h3><h4 id=\"æ¯æ¬¡ä¹°å–è‚¡ç¥¨åæœ‰ä¸€å¤©çš„å†·å´æœŸä»€ä¹ˆä¹Ÿä¸èƒ½å¹²ã€‚åŸé¢˜\"><a href=\"#æ¯æ¬¡ä¹°å–è‚¡ç¥¨åæœ‰ä¸€å¤©çš„å†·å´æœŸä»€ä¹ˆä¹Ÿä¸èƒ½å¹²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯æ¬¡ä¹°å–è‚¡ç¥¨åæœ‰ä¸€å¤©çš„å†·å´æœŸä»€ä¹ˆä¹Ÿä¸èƒ½å¹²ã€‚åŸé¢˜\"></a>æ¯æ¬¡ä¹°å–è‚¡ç¥¨åæœ‰ä¸€å¤©çš„å†·å´æœŸä»€ä¹ˆä¹Ÿä¸èƒ½å¹²ã€‚<a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼š3ä¸ªçŠ¶æ€ï¼Œ5ä¸­çŠ¶æ€è½¬æ¢ã€‚ </p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProfit</span><span class=\"params\">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># hold -&gt; do_nothing -&gt; hold</span></span><br><span class=\"line\">    <span class=\"comment\"># hold -&gt; sell -&gt; not_hold_cd</span></span><br><span class=\"line\">    <span class=\"comment\"># not_hold -&gt; do_nothing -&gt; not_hold</span></span><br><span class=\"line\">    <span class=\"comment\"># not_hold -&gt; buy -&gt; hold</span></span><br><span class=\"line\">    <span class=\"comment\"># not_hold_cd -&gt; do_nothing -&gt; not_hold</span></span><br><span class=\"line\">    not_hold, hold, not_hold_cd = <span class=\"number\">0</span>, float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> price <span class=\"keyword\">in</span> prices:</span><br><span class=\"line\">        hold, not_hold, not_hold_cd = max(hold, not_hold-price), max(not_hold, not_hold_cd), hold+price</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(not_hold, not_hold_cd)</span><br></pre></td></tr></table></figure>\n<h4 id=\"LCP-19-ç§‹å¶æ”¶è—é›†\"><a href=\"#LCP-19-ç§‹å¶æ”¶è—é›†\" class=\"headerlink\" title=\"LCP 19. ç§‹å¶æ”¶è—é›†\"></a><a href=\"https://leetcode-cn.com/problems/UlBDOe/\" target=\"_blank\" rel=\"noopener\">LCP 19. ç§‹å¶æ”¶è—é›†</a></h4><h4 id=\"æ¯èµ›é‡Œçš„é¢˜ï¼Œè¯´å°†å­—ç¬¦ä¸²æ›¿æ¢æˆr-y-r-çš„å½¢å¼ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥ã€‚åŸé¢˜\"><a href=\"#æ¯èµ›é‡Œçš„é¢˜ï¼Œè¯´å°†å­—ç¬¦ä¸²æ›¿æ¢æˆr-y-r-çš„å½¢å¼ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯èµ›é‡Œçš„é¢˜ï¼Œè¯´å°†å­—ç¬¦ä¸²æ›¿æ¢æˆr*y*r*çš„å½¢å¼ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥ã€‚åŸé¢˜\"></a>æ¯èµ›é‡Œçš„é¢˜ï¼Œè¯´å°†å­—ç¬¦ä¸²æ›¿æ¢æˆ<code>r*y*r*</code>çš„å½¢å¼ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ­¥ã€‚<a href=\"https://leetcode-cn.com/problems/UlBDOe/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå’Œ309éå¸¸ç›¸ä¼¼ï¼Œè®°å½•3ç§çŠ¶æ€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumOperations</span><span class=\"params\">(self, leaves: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># r ä»£è¡¨å½“å‰ä½ç½®æ˜¯ r* å‹çš„æ›¿æ¢æ¬¡æ•°</span></span><br><span class=\"line\">    <span class=\"comment\"># ry ä»£è¡¨å½“å‰ä½ç½®æ˜¯ r*y* å‹çš„æ›¿æ¢æ¬¡æ•°</span></span><br><span class=\"line\">    <span class=\"comment\"># ryr åˆ†åˆ«ä»£è¡¨å½“å‰ä½ç½®æ˜¯ r*y*r* å‹çš„æ›¿æ¢æ¬¡æ•°</span></span><br><span class=\"line\">    r, ry, ryr = int(leaves[<span class=\"number\">0</span>] == <span class=\"string\">'y'</span>), float(<span class=\"string\">'inf'</span>), float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(leaves)):</span><br><span class=\"line\">        x = int(leaves[i] == <span class=\"string\">'y'</span>)</span><br><span class=\"line\">        r, ry, ryr = r+x, min(r, ry)+(<span class=\"number\">1</span>-x), min(ry, ryr)+x</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ryr</span><br></pre></td></tr></table></figure>\n<h3 id=\"198-House-Robber\"><a href=\"#198-House-Robber\" class=\"headerlink\" title=\"198. House Robber\"></a>198. House Robber</h3><h4 id=\"æŠ¢åŠ«æˆ¿å­é—®é¢˜ã€‚ä¸èƒ½è¿ç»­æŠ¢åŠ«ä¸¤ä¸ªæŒ¨ç€çš„æˆ¿é—´ã€‚åŸé¢˜\"><a href=\"#æŠ¢åŠ«æˆ¿å­é—®é¢˜ã€‚ä¸èƒ½è¿ç»­æŠ¢åŠ«ä¸¤ä¸ªæŒ¨ç€çš„æˆ¿é—´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŠ¢åŠ«æˆ¿å­é—®é¢˜ã€‚ä¸èƒ½è¿ç»­æŠ¢åŠ«ä¸¤ä¸ªæŒ¨ç€çš„æˆ¿é—´ã€‚åŸé¢˜\"></a>æŠ¢åŠ«æˆ¿å­é—®é¢˜ã€‚ä¸èƒ½è¿ç»­æŠ¢åŠ«ä¸¤ä¸ªæŒ¨ç€çš„æˆ¿é—´ã€‚<a href=\"https://leetcode.com/problems/house-robber\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,7,9,3,1]</span><br><span class=\"line\">Output: 12</span><br><span class=\"line\">Explanation: Rob house 1 (money &#x3D; 2), rob house 3 (money &#x3D; 9) and rob house 5 (money &#x3D; 1).</span><br><span class=\"line\">             Total amount you can rob &#x3D; 2 + 9 + 1 &#x3D; 12.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">f(0) &#x3D; nums[0]</span><br><span class=\"line\">f(1) &#x3D; max(num[0], num[1])</span><br><span class=\"line\">f(k) &#x3D; max( f(k-2) + nums[k], f(k-1) )</span><br></pre></td></tr></table></figure>\n<p><del>æ–¹æ³•ä¸€ï¼šé€’å½’ï¼Œè¶…æ—¶ã€‚</del></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rob</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(nums) &lt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(nums[<span class=\"number\">0</span>]+self.rob(nums[<span class=\"number\">2</span>:]), </span><br><span class=\"line\">               self.rob(nums[<span class=\"number\">1</span>:]))</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rob</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    last, now = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        last, now = now, max(last+num, now)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> now</span><br></pre></td></tr></table></figure>\n<h3 id=\"213-House-Robber-II\"><a href=\"#213-House-Robber-II\" class=\"headerlink\" title=\"213. House Robber II\"></a>213. House Robber II</h3><h4 id=\"ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„æˆ¿å­è¿æˆä¸€ä¸ªç¯ã€‚åŸé¢˜\"><a href=\"#ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„æˆ¿å­è¿æˆä¸€ä¸ªç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„æˆ¿å­è¿æˆä¸€ä¸ªç¯ã€‚åŸé¢˜\"></a>ä¸ä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„æˆ¿å­è¿æˆä¸€ä¸ªç¯ã€‚<a href=\"https://leetcode.com/problems/house-robber-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">nput: [2,3,2]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: You cannot rob house 1 (money &#x3D; 2) and then rob house 3 (money &#x3D; 2),</span><br><span class=\"line\">             because they are adjacent houses.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ³¨æ„numsé•¿åº¦ä¸º1çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rob</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">robber</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">        last = now = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">            last, now = now, max(last+num, now)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> now</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(robber(nums[:<span class=\"number\">-1</span>]), robber(nums[len(nums)!=<span class=\"number\">1</span>:]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"303-Range-Sum-Query-Immutable\"><a href=\"#303-Range-Sum-Query-Immutable\" class=\"headerlink\" title=\"303. Range Sum Query - Immutable\"></a>303. Range Sum Query - Immutable</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè®¡ç®—ç´¢å¼•i-jä¹‹é—´çš„å’Œã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè®¡ç®—ç´¢å¼•i-jä¹‹é—´çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè®¡ç®—ç´¢å¼•i, jä¹‹é—´çš„å’Œã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè®¡ç®—ç´¢å¼•<code>i, j</code>ä¹‹é—´çš„å’Œã€‚<a href=\"https://leetcode.com/problems/range-sum-query-immutable/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Given nums &#x3D; [-2, 0, 3, -5, 2, -1]</span><br><span class=\"line\"></span><br><span class=\"line\">sumRange(0, 2) -&gt; 1</span><br><span class=\"line\">sumRange(2, 5) -&gt; -1</span><br><span class=\"line\">sumRange(0, 5) -&gt; -3</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šå¦‚æœå•çº¯é‡‡ç”¨åˆ‡ç‰‡è®¡ç®—ï¼Œæ•ˆç‡è¿‡ä½ï¼Œé¢˜ä¸­è¦æ±‚sumRangeè°ƒç”¨å¤šæ¬¡ã€‚æ‰€ä»¥è¿™é‡Œé‡‡ç”¨åŠ¨æ€è§„åˆ’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NumArray</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># self.sum_item = [0]</span></span><br><span class=\"line\">        <span class=\"comment\"># for num in nums:</span></span><br><span class=\"line\">        <span class=\"comment\">#     self.sum_item.append(self.sum_item[-1] + num)</span></span><br><span class=\"line\">        <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> accumulate</span><br><span class=\"line\">        <span class=\"keyword\">from</span> operator <span class=\"keyword\">import</span> add</span><br><span class=\"line\">        self.sum_item = list(accumulate(nums, add))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sumRange</span><span class=\"params\">(self, i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># return self.sum_item[j+1] - self.sum_item[i] </span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.sum_item[j] - self.sum_item[i<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> i &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> self.sum_item[j]</span><br></pre></td></tr></table></figure>\n<h3 id=\"91-Decode-Ways\"><a href=\"#91-Decode-Ways\" class=\"headerlink\" title=\"91. Decode Ways\"></a>91. Decode Ways</h3><h4 id=\"å°†æ•°å­—ç¿»è¯‘æˆå­—æ¯æœ‰å¤šå°‘ç§æ–¹å¼ã€‚åŸé¢˜\"><a href=\"#å°†æ•°å­—ç¿»è¯‘æˆå­—æ¯æœ‰å¤šå°‘ç§æ–¹å¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†æ•°å­—ç¿»è¯‘æˆå­—æ¯æœ‰å¤šå°‘ç§æ–¹å¼ã€‚åŸé¢˜\"></a>å°†æ•°å­—ç¿»è¯‘æˆå­—æ¯æœ‰å¤šå°‘ç§æ–¹å¼ã€‚<a href=\"https://leetcode.com/problems/decode-ways/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;226&quot;</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: It could be decoded as &quot;BZ&quot; (2 26), &quot;VF&quot; (22 6), or &quot;BBF&quot; (2 2 6).</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numDecodings</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># w tells the number of ways</span></span><br><span class=\"line\">    <span class=\"comment\"># v tells the previous number of ways</span></span><br><span class=\"line\">    <span class=\"comment\"># d is the current digit</span></span><br><span class=\"line\">    <span class=\"comment\"># p is the previous digit</span></span><br><span class=\"line\">    v, w, p = <span class=\"number\">0</span>, int(s&gt;<span class=\"string\">''</span>), <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> s:</span><br><span class=\"line\">        v, w, p = w, int(d&gt;<span class=\"string\">'0'</span>)*w + (<span class=\"number\">9</span>&lt;int(p+d)&lt;<span class=\"number\">27</span>)*v, d</span><br><span class=\"line\">    <span class=\"keyword\">return</span> w</span><br></pre></td></tr></table></figure>\n<h3 id=\"62-Unique-Paths\"><a href=\"#62-Unique-Paths\" class=\"headerlink\" title=\"62. Unique Paths\"></a>62. Unique Paths</h3><h4 id=\"ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹æœ‰å¤šå°‘ç§ä¸åŒèµ°æ³•ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹æœ‰å¤šå°‘ç§ä¸åŒèµ°æ³•ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹æœ‰å¤šå°‘ç§ä¸åŒèµ°æ³•ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ã€‚åŸé¢˜\"></a>ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹æœ‰å¤šå°‘ç§ä¸åŒèµ°æ³•ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ã€‚<a href=\"https://leetcode.com/problems/unique-paths/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/robot_maze.png\" class>\n<p>æ–¹æ³•ä¸€ï¼šæ„å»ºäºŒç»´çŸ©é˜µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(self, m: int, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    g = [[<span class=\"number\">0</span>] * m <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i==<span class=\"number\">0</span> <span class=\"keyword\">or</span> j==<span class=\"number\">0</span>:</span><br><span class=\"line\">                g[i][j] = <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                g[i][j] = g[i<span class=\"number\">-1</span>][j] + g[i][j<span class=\"number\">-1</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> g[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šäºŒç»´æ•°ç»„æ—¶æ²¡æœ‰å¿…è¦çš„ï¼Œä»”ç»†è§‚å¯Ÿå‘ç°æ¯å±‚éƒ½æ˜¯ç´¯è®¡çš„å…³ç³»ï¼Œ<code>accumulate</code>ä¸ºæ­¤è€Œç”Ÿã€‚</font>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[1,  1,  1,   1,   1,   1,   1]</span><br><span class=\"line\">[1,  2,  3,   4,   5,   6,   7]</span><br><span class=\"line\">[1,  3,  6,  10,  15,  21,  28]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniquePaths</span><span class=\"params\">(self, m: int, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    row = [<span class=\"number\">1</span>] * m</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        row = itertools.accumulate(row)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(row)[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"63-Unique-Paths-II\"><a href=\"#63-Unique-Paths-II\" class=\"headerlink\" title=\"63. Unique Paths II\"></a>63. Unique Paths II</h3><h4 id=\"å’Œ62ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸­é—´åŠ äº†éšœç¢1ã€‚åŸé¢˜\"><a href=\"#å’Œ62ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸­é—´åŠ äº†éšœç¢1ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ62ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸­é—´åŠ äº†éšœç¢1ã€‚åŸé¢˜\"></a>å’Œ62ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸­é—´åŠ äº†éšœç¢<code>1</code>ã€‚<a href=\"https://leetcode.com/problems/unique-paths-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[</span><br><span class=\"line\">  [0,0,0],</span><br><span class=\"line\">  [0,1,0],</span><br><span class=\"line\">  [0,0,0]</span><br><span class=\"line\">]</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ï¼Œè¿™é‡Œé‡‡ç”¨å…ˆéå†ä¸€æ¬¡è®°å½•éšœç¢ï¼Œç„¶ååˆå§‹åŒ–é¦–è¡Œå’Œé¦–åˆ—ï¼Œæœ€åå†æ±‚è§£çš„è¿‡ç¨‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniquePathsWithObstacles</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">                g[i][j] = <span class=\"number\">-1</span></span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[i][<span class=\"number\">0</span>] != <span class=\"number\">-1</span>:</span><br><span class=\"line\">            g[i][<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[<span class=\"number\">0</span>][j] != <span class=\"number\">-1</span>:</span><br><span class=\"line\">            g[<span class=\"number\">0</span>][j] = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == <span class=\"number\">-1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                up = g[i<span class=\"number\">-1</span>][j] <span class=\"keyword\">if</span> g[i<span class=\"number\">-1</span>][j]!=<span class=\"number\">-1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">                left = g[i][j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> g[i][j<span class=\"number\">-1</span>]!=<span class=\"number\">-1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">                g[i][j] = up + left</span><br><span class=\"line\">                </span><br><span class=\"line\">    <span class=\"comment\"># print(g)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> g[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> g[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>] != <span class=\"number\">-1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæƒ³é”™äº†ä¸€ä»¶äº‹æƒ…ï¼Œæˆ‘æ ¹æœ¬ä¸éœ€è¦å»å•ç‹¬çš„è®¾ç½®éšœç¢å€¼ï¼Œåœ¨éå†çš„æ—¶å€™å°±å¯ä»¥æ ¹æ®0æ¥åˆ¤æ–­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">uniquePathsWithObstacles</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">if</span> g[<span class=\"number\">0</span>][<span class=\"number\">0</span>] == <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    g[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, C):</span><br><span class=\"line\">        g[<span class=\"number\">0</span>][i] = int(g[<span class=\"number\">0</span>][i<span class=\"number\">-1</span>]==<span class=\"number\">1</span> <span class=\"keyword\">and</span> g[<span class=\"number\">0</span>][i]==<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, R):</span><br><span class=\"line\">        g[j][<span class=\"number\">0</span>] = int(g[j<span class=\"number\">-1</span>][<span class=\"number\">0</span>]==<span class=\"number\">1</span> <span class=\"keyword\">and</span> g[j][<span class=\"number\">0</span>]==<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, R):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, C):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i][j] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                g[i][j] = g[i<span class=\"number\">-1</span>][j] + g[i][j<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                g[i][j] = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> g[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"120-Triangle\"><a href=\"#120-Triangle\" class=\"headerlink\" title=\"120. Triangle\"></a>120. Triangle</h3><h4 id=\"ä¸‰è§’å½¢ä»ä¸Šåˆ°ä¸‹æœ€å°è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#ä¸‰è§’å½¢ä»ä¸Šåˆ°ä¸‹æœ€å°è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸‰è§’å½¢ä»ä¸Šåˆ°ä¸‹æœ€å°è·¯å¾„ã€‚åŸé¢˜\"></a>ä¸‰è§’å½¢ä»ä¸Šåˆ°ä¸‹æœ€å°è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/triangle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">     [2],</span><br><span class=\"line\">    [3,4],</span><br><span class=\"line\">   [6,5,7],</span><br><span class=\"line\">  [4,1,8,3]</span><br><span class=\"line\">]</span><br><span class=\"line\">i.e., 2 + 3 + 5 + 1 &#x3D; 11</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªåµŒå¥—çš„å­—å…¸ä¿å­˜æ¯ä¸€è¡Œçš„ç´¯è®¡æœ€å°å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumTotal</span><span class=\"params\">(self, t: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> t:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> defaultdict</span><br><span class=\"line\">    dp = defaultdict(<span class=\"keyword\">lambda</span>: defaultdict(<span class=\"keyword\">lambda</span>: float(<span class=\"string\">'inf'</span>)))</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = t[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, row <span class=\"keyword\">in</span> enumerate(t[<span class=\"number\">1</span>:], <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, num <span class=\"keyword\">in</span> enumerate(row):</span><br><span class=\"line\">            dp[i][j] = min(dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>], dp[i<span class=\"number\">-1</span>][j]) + t[i][j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(dp[len(t)<span class=\"number\">-1</span>].values())</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šåœ¨åŸæ•°ç»„ä¸Šä¿®æ”¹ï¼Œç©ºé—´å¤æ‚åº¦O(1). </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumTotal</span><span class=\"params\">(self, t: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(t)<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>):</span><br><span class=\"line\">            t[i][j] += min(t[i+<span class=\"number\">1</span>][j], t[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šé”™ä½ç›¸åŠ å¤§æ³•ã€‚ç©ºé—´å¤æ‚åº¦O(n)</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumTotal</span><span class=\"params\">(self, t: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine_rows</span><span class=\"params\">(lower_row, upper_row)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> [upper + min(lower_left, lower_right)</span><br><span class=\"line\">                <span class=\"keyword\">for</span> upper, lower_left, lower_right <span class=\"keyword\">in</span> </span><br><span class=\"line\">                zip(upper_row, lower_row, islice(lower_row, <span class=\"number\">1</span>, <span class=\"literal\">None</span>))]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(combine_rows, reversed(t))[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šæˆ‘æŒ‰ç…§æ–¹æ³•ä¸‰å®ç°äº†ä¸€ä¸ªçº¯çš„ç”Ÿæˆå™¨ç‰ˆæœ¬ã€‚<code>iter</code>æ˜¯é˜²æ­¢tä¸­åªæœ‰ä¸€è¡Œçš„æƒ…å†µã€‚è¿™é‡Œæˆ‘ä¸ç¡®å®šæ˜¯å¦å°†ç©ºé—´å¤æ‚åº¦é™ä½åˆ°äº†O(1)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumTotal</span><span class=\"params\">(self, t: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine_rows</span><span class=\"params\">(lower_row, upper_row)</span>:</span></span><br><span class=\"line\">        lower_row, lower_row_nxt = tee(lower_row)</span><br><span class=\"line\">        next(lower_row_nxt, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (upper + min(lower_left, lower_right)</span><br><span class=\"line\">                <span class=\"keyword\">for</span> upper, lower_left, lower_right <span class=\"keyword\">in</span> </span><br><span class=\"line\">                zip(upper_row, lower_row, lower_row_nxt))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> next(iter(reduce(combine_rows, reversed(t))))</span><br></pre></td></tr></table></figure>\n<h3 id=\"931-Minimum-Falling-Path-Sum\"><a href=\"#931-Minimum-Falling-Path-Sum\" class=\"headerlink\" title=\"931. Minimum Falling Path Sum\"></a>931. Minimum Falling Path Sum</h3><h4 id=\"å’Œ120ç›¸ä¼¼ï¼Œä¸è¿‡å½¢çŠ¶å˜æˆäº†çŸ©å½¢ã€‚åŸé¢˜\"><a href=\"#å’Œ120ç›¸ä¼¼ï¼Œä¸è¿‡å½¢çŠ¶å˜æˆäº†çŸ©å½¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ120ç›¸ä¼¼ï¼Œä¸è¿‡å½¢çŠ¶å˜æˆäº†çŸ©å½¢ã€‚åŸé¢˜\"></a>å’Œ120ç›¸ä¼¼ï¼Œä¸è¿‡å½¢çŠ¶å˜æˆäº†çŸ©å½¢ã€‚<a href=\"https://leetcode.com/problems/minimum-falling-path-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class=\"line\">Output: 12</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The possible falling paths are:</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFallingPathSum</span><span class=\"params\">(self, A: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(A), len(A[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R<span class=\"number\">-2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            path = slice(max(<span class=\"number\">0</span>, j<span class=\"number\">-1</span>), min(C, j+<span class=\"number\">2</span>))</span><br><span class=\"line\">            A[i][j] += min(A[i+<span class=\"number\">1</span>][path])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(A[<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé”™ä½è®¡ç®—çš„æ–¹å¼ï¼Œè¿™ä¸ªæ¯”120ä¸‰è§’å½¢çš„è¦å¤æ‚ä¸€ç‚¹ã€‚éœ€è¦å¡«å……æ— ç©·å¤§æ¥ä½¿ç”Ÿæ•ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFallingPathSum</span><span class=\"params\">(self, A: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    padding = [float(<span class=\"string\">'inf'</span>)]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">combine_rows</span><span class=\"params\">(lower_row, upper_row)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> [upper + min(lower_left, lower_mid, lower_right)</span><br><span class=\"line\">                <span class=\"keyword\">for</span> upper, lower_left, lower_mid, lower_right <span class=\"keyword\">in</span></span><br><span class=\"line\">                zip(upper_row, lower_row[<span class=\"number\">1</span>:]+padding, lower_row, padding+lower_row[:<span class=\"number\">-1</span>])]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(reduce(combine_rows, A[::<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1289-Minimum-Falling-Path-Sum-II\"><a href=\"#1289-Minimum-Falling-Path-Sum-II\" class=\"headerlink\" title=\"1289. Minimum Falling Path Sum II\"></a>1289. Minimum Falling Path Sum II</h3><h4 id=\"ä¸Šé¢˜å˜å½¢ï¼Œæ¯è¡Œæ‰¾åˆ°éè‡ªå·±é‚£åˆ—çš„å…ƒç´ ã€‚åŸé¢˜\"><a href=\"#ä¸Šé¢˜å˜å½¢ï¼Œæ¯è¡Œæ‰¾åˆ°éè‡ªå·±é‚£åˆ—çš„å…ƒç´ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸Šé¢˜å˜å½¢ï¼Œæ¯è¡Œæ‰¾åˆ°éè‡ªå·±é‚£åˆ—çš„å…ƒç´ ã€‚åŸé¢˜\"></a>ä¸Šé¢˜å˜å½¢ï¼Œæ¯è¡Œæ‰¾åˆ°éè‡ªå·±é‚£åˆ—çš„å…ƒç´ ã€‚<a href=\"https://leetcode.com/problems/minimum-falling-path-sum-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç”¨å †è®°å½•2ä¸ªæœ€å°çš„å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minFallingPathSum</span><span class=\"params\">(self, arr: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(arr), len(arr[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, m):</span><br><span class=\"line\">        r = heapq.nsmallest(<span class=\"number\">2</span>, arr[i<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            arr[i][j] += r[<span class=\"number\">1</span>] <span class=\"keyword\">if</span> arr[i<span class=\"number\">-1</span>][j]==r[<span class=\"number\">0</span>] <span class=\"keyword\">else</span> r[<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(arr[<span class=\"number\">-1</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"279-Perfect-Squares\"><a href=\"#279-Perfect-Squares\" class=\"headerlink\" title=\"279. Perfect Squares\"></a>279. Perfect Squares</h3><h4 id=\"å®Œç¾å¹³æ–¹ï¼Œæ‰¾å‡ºnçš„æœ€å°‘çš„èƒ½è¢«å‡ ä¸ªå¹³æ–¹æ•°ç›¸åŠ ã€‚åŸé¢˜\"><a href=\"#å®Œç¾å¹³æ–¹ï¼Œæ‰¾å‡ºnçš„æœ€å°‘çš„èƒ½è¢«å‡ ä¸ªå¹³æ–¹æ•°ç›¸åŠ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®Œç¾å¹³æ–¹ï¼Œæ‰¾å‡ºnçš„æœ€å°‘çš„èƒ½è¢«å‡ ä¸ªå¹³æ–¹æ•°ç›¸åŠ ã€‚åŸé¢˜\"></a>å®Œç¾å¹³æ–¹ï¼Œæ‰¾å‡ºnçš„æœ€å°‘çš„èƒ½è¢«å‡ ä¸ªå¹³æ–¹æ•°ç›¸åŠ ã€‚<a href=\"https://leetcode.com/problems/perfect-squares/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 13</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: 13 &#x3D; 4 + 9.</span><br></pre></td></tr></table></figure>\n<p><code>f(n)è¡¨ç¤ºnæœ€å°‘çš„ä¸ªæ•°ã€‚f(n)=min(f(n-1Â²), f(n-2Â²)...f(0)) + 1</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    _dp = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSquares</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">        dp = self._dp</span><br><span class=\"line\">        <span class=\"keyword\">while</span> len(dp) &lt;= n:</span><br><span class=\"line\">            <span class=\"comment\"># dp.append(min(dp[len(dp)-i*i] for i in range(1, int(len(dp)**0.5+1))) + 1)</span></span><br><span class=\"line\">            dp.append(min(dp[-i*i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, int(len(dp)**<span class=\"number\">0.5</span>+<span class=\"number\">1</span>))) + <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-Longest-Palindromic-Substring\"><a href=\"#5-Longest-Palindromic-Substring\" class=\"headerlink\" title=\"5. Longest Palindromic Substring\"></a>5. Longest Palindromic Substring</h3><h4 id=\"æœ€é•¿å›æ–‡å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿å›æ–‡å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿å›æ–‡å­å­—ç¬¦ä¸²ã€‚åŸé¢˜\"></a>æœ€é•¿å›æ–‡å­å­—ç¬¦ä¸²ã€‚<a href=\"https://leetcode.com/problems/longest-palindromic-substring/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;babad&quot;</span><br><span class=\"line\">Output: &quot;bab&quot;</span><br><span class=\"line\">Note: &quot;aba&quot; is also a valid answer.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šO(nÂ²)çš„æ–¹æ³•ã€‚éå¸¸ä½æ•ˆçš„ä¸€ä¸ªåšæ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i &gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> j &lt; len(s) <span class=\"keyword\">and</span> s[i]==s[j]:</span><br><span class=\"line\">            i -= <span class=\"number\">1</span></span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> s[i+<span class=\"number\">1</span>:j]  <span class=\"comment\"># å› ä¸ºi, jæ˜¯ä¸ç›¸ç­‰çš„ã€‚</span></span><br><span class=\"line\">    <span class=\"comment\"># ans = ''</span></span><br><span class=\"line\">    <span class=\"comment\"># for i, c in enumerate(s):</span></span><br><span class=\"line\">    <span class=\"comment\">#     tmp = helper(i, i)</span></span><br><span class=\"line\">    <span class=\"comment\">#     if len(tmp) &gt; len(ans):</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans = tmp</span></span><br><span class=\"line\">    <span class=\"comment\">#     tmp = helper(i, i+1)</span></span><br><span class=\"line\">    <span class=\"comment\">#     if len(tmp) &gt; len(ans):</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans = tmp</span></span><br><span class=\"line\">    <span class=\"comment\"># return ans</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s <span class=\"keyword\">and</span> max((a <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)) </span><br><span class=\"line\">                      <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> (helper(i, i), helper(i, i+<span class=\"number\">1</span>))), key=len) <span class=\"keyword\">or</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å¾ˆå¥½ã€‚ä»å‰åˆ°åéå†å­—ç¬¦ï¼Œä¸€ç§æ˜¯å¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼Œæ˜¯å¢åŠ ä¸¤ä¸ªé•¿åº¦ï¼Œå¦ä¸€ç§æ˜¯å¶æ•°é•¿åº¦çš„å›æ–‡ä¸²ï¼Œæ˜¯å¢åŠ ä¸€ä¸ªé•¿åº¦ã€‚æ¯æ¬¡ä»å½“å‰å­—ç¬¦å‘å‰åšåˆ‡ç‰‡ï¼Œå¹¶æ ¹æ®å½“å‰çš„æœ€å¤§é•¿åº¦æ§åˆ¶åˆ‡ç‰‡é•¿åº¦ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">    maxLen = <span class=\"number\">1</span></span><br><span class=\"line\">    start = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i-maxLen&gt;=<span class=\"number\">1</span> <span class=\"keyword\">and</span> s[i-maxLen<span class=\"number\">-1</span>:i+<span class=\"number\">1</span>]==s[i-maxLen<span class=\"number\">-1</span>:i+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            start = i - maxLen - <span class=\"number\">1</span></span><br><span class=\"line\">            maxLen += <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i-maxLen&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> s[i-maxLen:i+<span class=\"number\">1</span>]==s[i-maxLen:i+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"comment\"># print(s[i-maxLen:i+1], s[i-maxLen:i+1][::-1])</span></span><br><span class=\"line\">            start = i - maxLen</span><br><span class=\"line\">            maxLen += <span class=\"number\">1</span> </span><br><span class=\"line\">    <span class=\"keyword\">return</span> s[start:start+maxLen]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šé©¬æ‹‰è½¦ç®—æ³•ã€‚Time: O(n). </font>\n\n<p><a href=\"https://segmentfault.com/a/1190000003914228\" target=\"_blank\" rel=\"noopener\">ç®—æ³•è¯¦è§£ã€‚</a>è¿™é‡Œæ˜¯æŠŠä¸€äº›æƒ…å†µåšäº†æ•´åˆã€‚æ•´ä¸ªä»£ç éå¸¸ä¼˜é›…ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestPalindrome</span><span class=\"params\">(self, s: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"comment\"># Transform S into T.</span></span><br><span class=\"line\">    <span class=\"comment\"># For example, S = \"abba\", T = \"^#a#b#b#a#$\".</span></span><br><span class=\"line\">    <span class=\"comment\"># ^ and $ signs are sentinels appended to each end to avoid bounds checking</span></span><br><span class=\"line\">    T = <span class=\"string\">'#'</span>.join(<span class=\"string\">'^&#123;&#125;$'</span>.format(s))</span><br><span class=\"line\">    n = len(T)</span><br><span class=\"line\">    P = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    C = R = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range (<span class=\"number\">1</span>, n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        P[i] = (R &gt; i) <span class=\"keyword\">and</span> min(R - i, P[<span class=\"number\">2</span>*C - i]) <span class=\"comment\"># equals to i' = C - (i-C)</span></span><br><span class=\"line\">        <span class=\"comment\"># Attempt to expand palindrome centered at i</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> T[i + <span class=\"number\">1</span> + P[i]] == T[i - <span class=\"number\">1</span> - P[i]]:</span><br><span class=\"line\">            P[i] += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># If palindrome centered at i expand past R,</span></span><br><span class=\"line\">        <span class=\"comment\"># adjust center based on expanded palindrome.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i + P[i] &gt; R:</span><br><span class=\"line\">            C, R = i, i + P[i]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Find the maximum element in P.</span></span><br><span class=\"line\">    maxLen, centerIndex = max((n, i) <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(P))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s[(centerIndex  - maxLen)//<span class=\"number\">2</span>: (centerIndex  + maxLen)//<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1024-Video-Stitching\"><a href=\"#1024-Video-Stitching\" class=\"headerlink\" title=\"1024. Video Stitching\"></a>1024. Video Stitching</h3><h4 id=\"å½±ç‰‡å‰ªè¾‘ï¼Œç»™å®šnç»„å½±ç‰‡æ®µï¼Œæ±‚èƒ½å¤Ÿæ‹¼å‡º0-Tå®Œæ•´å½±ç‰‡æ‰€ä½¿ç”¨çš„æœ€å°æ®µæ•°ã€‚åŸé¢˜\"><a href=\"#å½±ç‰‡å‰ªè¾‘ï¼Œç»™å®šnç»„å½±ç‰‡æ®µï¼Œæ±‚èƒ½å¤Ÿæ‹¼å‡º0-Tå®Œæ•´å½±ç‰‡æ‰€ä½¿ç”¨çš„æœ€å°æ®µæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å½±ç‰‡å‰ªè¾‘ï¼Œç»™å®šnç»„å½±ç‰‡æ®µï¼Œæ±‚èƒ½å¤Ÿæ‹¼å‡º0~Tå®Œæ•´å½±ç‰‡æ‰€ä½¿ç”¨çš„æœ€å°æ®µæ•°ã€‚åŸé¢˜\"></a>å½±ç‰‡å‰ªè¾‘ï¼Œç»™å®šnç»„å½±ç‰‡æ®µï¼Œæ±‚èƒ½å¤Ÿæ‹¼å‡º0~Tå®Œæ•´å½±ç‰‡æ‰€ä½¿ç”¨çš„æœ€å°æ®µæ•°ã€‚<a href=\"https://leetcode.com/problems/video-stitching/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: clips &#x3D; [[0,2],[4,6],[8,10],[1,9],[1,5],[5,9]], T &#x3D; 10</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">We take the clips [0,2], [8,10], [1,9]; a total of 3 clips.</span><br><span class=\"line\">Then, we can reconstruct the sporting event as follows:</span><br><span class=\"line\">We cut [1,9] into segments [1,2] + [2,8] + [8,9].</span><br><span class=\"line\">Now we have segments [0,2] + [2,8] + [8,10] which cover the sporting event [0, 10].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç«èµ›æ—¶æ²¡æœ‰å®Œæˆï¼Œæƒ³äº†å­—å…¸çš„æ–¹æ³•ï¼Œè€æ˜¯çº ç»“äºæ€ä¹ˆæ¶ˆé™¤é¢˜ä¸­çš„<code>[1, 5]</code>æ®µï¼Œå…¶å®æ ¹æœ¬æ²¡å¿…è¦ï¼Œè¿­ä»£çš„æ—¶å€™ç»´æŠ¤ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯å·²ç»èƒ½ç»„æˆçš„æœ€å¤§æ—¶é•¿ï¼Œå¦ä¸€ä¸ªæ˜¯å½“å‰å¯ä»¥å»¶é•¿åˆ°çš„æœ€å¤§æ—¶é•¿ã€‚çœ‹äº†Leeç¥çš„ç­”æ¡ˆã€‚æœ‰ä¸ªåœ°æ–¹æ¯”è¾ƒéš¾ç†è§£ï¼Œå‡è®¾è¾“å…¥æ˜¯<code>[[0,2], [1,9],[4,6]],  T=9</code>ã€‚æŒ‰ç…§é€»è¾‘å¦‚æœå…¨æ‰§è¡Œå®Œï¼Œcntåº”è¯¥=3ã€‚ä½†æ˜¯ä¸€æ—¦<code>end2</code>è¦†ç›–äº†ç­”æ¡ˆå°±åŠæ—¶breakæ‰äº†ï¼Œæ‰€ä»¥ä¸ä¼šå†ç´¯åŠ ã€‚å¦‚æœT10ï¼Œé‚£ä¹ˆå³ä½¿cntä¸º3ä¹Ÿä¼šè¿”å›-1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">videoStitching</span><span class=\"params\">(self, clips: List[List[int]], T: int)</span> -&gt; int:</span></span><br><span class=\"line\">    end, end2, cnt = <span class=\"number\">-1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>   <span class=\"comment\"># end è¡¨ç¤ºä¸Šä¸€æ®µæœ€åæˆªæ­¢ç‚¹ï¼Œend2è¡¨ç¤ºå½“å‰å¯ä»¥æœ€å¤§å»¶ä¼¸çš„æœ€è¿œåœ°ç‚¹ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> s, e <span class=\"keyword\">in</span> sorted(clips):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> end2 &gt;= T <span class=\"keyword\">or</span> s &gt; end2:   <span class=\"comment\"># å®Œæˆæˆ–è€…æ¥ä¸ä¸Šäº†</span></span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> end &lt; s &lt;= end2:       <span class=\"comment\"># ç»­1s</span></span><br><span class=\"line\">            cnt += <span class=\"number\">1</span></span><br><span class=\"line\">            end = end2</span><br><span class=\"line\">        end2 = max(end2, e)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cnt <span class=\"keyword\">if</span> end2 &gt;= T <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1048-Longest-String-Chain\"><a href=\"#1048-Longest-String-Chain\" class=\"headerlink\" title=\"1048. Longest String Chain\"></a>1048. Longest String Chain</h3><h4 id=\"æ¯ä¸ªå­—ç¬¦æ·»åŠ ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²é“¾ã€‚åŸé¢˜\"><a href=\"#æ¯ä¸ªå­—ç¬¦æ·»åŠ ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²é“¾ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ¯ä¸ªå­—ç¬¦æ·»åŠ ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²é“¾ã€‚åŸé¢˜\"></a>æ¯ä¸ªå­—ç¬¦æ·»åŠ ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²é“¾ã€‚<a href=\"https://leetcode.com/problems/longest-string-chain/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestStrChain</span><span class=\"params\">(self, words: List[str])</span> -&gt; int:</span></span><br><span class=\"line\">    words2 = &#123;i:set() <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">17</span>)&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">        words2[len(word)].add(word)</span><br><span class=\"line\">    dp = collections.defaultdict(<span class=\"keyword\">lambda</span> : <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, <span class=\"number\">17</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words2[k]:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(k):</span><br><span class=\"line\">                prev = w[:i] + w[i+<span class=\"number\">1</span>:]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> prev <span class=\"keyword\">in</span> words2[k<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    <span class=\"comment\"># dp[w] = max(dp[w], dp[prev]+1)</span></span><br><span class=\"line\">                    dp[w] = dp[prev] + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(dp.values() <span class=\"keyword\">or</span> [<span class=\"number\">1</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"1143-Longest-Common-Subsequence\"><a href=\"#1143-Longest-Common-Subsequence\" class=\"headerlink\" title=\"1143. Longest Common Subsequence\"></a>1143. Longest Common Subsequence</h3><h4 id=\"æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ã€‚åŸé¢˜\"></a>æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/longest-common-subsequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: text1 &#x3D; &quot;abcde&quot;, text2 &#x3D; &quot;ace&quot; </span><br><span class=\"line\">Output: 3  </span><br><span class=\"line\">Explanation: The longest common subsequence is &quot;ace&quot; and its length is 3.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> functools</span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestCommonSubsequence</span><span class=\"params\">(self, text1: str, text2: str)</span> -&gt; int:</span></span><br><span class=\"line\"><span class=\"meta\">        @functools.lru_cache(None)</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">helper</span><span class=\"params\">(i,j)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i&lt;<span class=\"number\">0</span> <span class=\"keyword\">or</span> j&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> text1[i]==text2[j]:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> helper(i<span class=\"number\">-1</span>,j<span class=\"number\">-1</span>)+<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> max(helper(i<span class=\"number\">-1</span>,j),helper(i,j<span class=\"number\">-1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> helper(len(text1)<span class=\"number\">-1</span>,len(text2)<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚dp(i,j) means the longest common subsequence of text1[:i] and text2[:j].</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestCommonSubsequence</span><span class=\"params\">(self, text1: str, text2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    n1, n2 = len(text1), len(text2)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*(n2+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n1+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n1):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n2):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> text1[i] == text2[j]:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = dp[i][j] + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = max(dp[i][j+<span class=\"number\">1</span>], dp[i+<span class=\"number\">1</span>][j])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"583-Delete-Operation-for-Two-Strings\"><a href=\"#583-Delete-Operation-for-Two-Strings\" class=\"headerlink\" title=\"583. Delete Operation for Two Strings\"></a>583. Delete Operation for Two Strings</h3><h4 id=\"æœ€å°‘åˆ é™¤å¤šå°‘æ¬¡å¯ä»¥è®©ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚åŸé¢˜\"><a href=\"#æœ€å°‘åˆ é™¤å¤šå°‘æ¬¡å¯ä»¥è®©ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°‘åˆ é™¤å¤šå°‘æ¬¡å¯ä»¥è®©ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚åŸé¢˜\"></a>æœ€å°‘åˆ é™¤å¤šå°‘æ¬¡å¯ä»¥è®©ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚<a href=\"https://leetcode.com/problems/delete-operation-for-two-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;sea&quot;, &quot;eat&quot;</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: You need one step to make &quot;sea&quot; to &quot;ea&quot; and another step to make &quot;eat&quot; to &quot;ea&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdpã€‚è¿™é¢˜ä¸€ä¸Šæ¥å°±å‘ç°å’Œ1143. Longest Common Subsequenceä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDistance</span><span class=\"params\">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    n1, n2 = len(word1), len(word2)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*(n2+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n1+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n1):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n2):</span><br><span class=\"line\">            dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = max(dp[i][j+<span class=\"number\">1</span>], dp[i+<span class=\"number\">1</span>][j], dp[i][j]+(word1[i]==word2[j]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n1+n2-dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]*<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"712-Minimum-ASCII-Delete-Sum-for-Two-Strings\"><a href=\"#712-Minimum-ASCII-Delete-Sum-for-Two-Strings\" class=\"headerlink\" title=\"712. Minimum ASCII Delete Sum for Two Strings\"></a><a href=\"https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/\" target=\"_blank\" rel=\"noopener\">712. Minimum ASCII Delete Sum for Two Strings</a></h3><h4 id=\"åˆ é™¤æœ€å°çš„asciiç çš„å­—ç¬¦ï¼Œä½¿å‰©ä¸‹çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚\"><a href=\"#åˆ é™¤æœ€å°çš„asciiç çš„å­—ç¬¦ï¼Œä½¿å‰©ä¸‹çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚\" class=\"headerlink\" title=\"åˆ é™¤æœ€å°çš„asciiç çš„å­—ç¬¦ï¼Œä½¿å‰©ä¸‹çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚\"></a>åˆ é™¤æœ€å°çš„asciiç çš„å­—ç¬¦ï¼Œä½¿å‰©ä¸‹çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šåŒ583.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumDeleteSum</span><span class=\"params\">(self, s1: str, s2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    n1, n2 = len(s1), len(s2)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (n2+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n1+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n1):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n2):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s1[i]==s2[j]:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = dp[i][j] + ord(s1[i])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = max(dp[i+<span class=\"number\">1</span>][j], dp[i][j+<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(map(ord, s1+s2)) - dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]*<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1312-Minimum-Insertion-Steps-to-Make-a-String-Palindrome\"><a href=\"#1312-Minimum-Insertion-Steps-to-Make-a-String-Palindrome\" class=\"headerlink\" title=\"1312. Minimum Insertion Steps to Make a String Palindrome\"></a>1312. Minimum Insertion Steps to Make a String Palindrome</h3><h4 id=\"å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜ä¸ºå›æ–‡ä¸²ï¼Œæœ€å°æ’å…¥å­—æ¯æ­¥æ•°ã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜ä¸ºå›æ–‡ä¸²ï¼Œæœ€å°æ’å…¥å­—æ¯æ­¥æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜ä¸ºå›æ–‡ä¸²ï¼Œæœ€å°æ’å…¥å­—æ¯æ­¥æ•°ã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜ä¸ºå›æ–‡ä¸²ï¼Œæœ€å°æ’å…¥å­—æ¯æ­¥æ•°ã€‚<a href=\"https://leetcode.com/problems/minimum-insertion-steps-to-make-a-string-palindrome/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;zzazz&quot;</span><br><span class=\"line\">Output: 0</span><br><span class=\"line\">Explanation: The string &quot;zzazz&quot; is already palindrome we don&#39;t need any insertions.</span><br><span class=\"line\">Input: s &#x3D; &quot;leetcode&quot;</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: Inserting 5 characters the string becomes &quot;leetcodocteel&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå’Œ1134ï¼ŒLongest Common Subsequenceä¸€æ ·ï¼Œå½“è¿™ä¸ªå­—ç¬¦ä¸²å’Œä»–å€’åºçš„å…¬å…±å­ä¸²è¶Šå¤šï¼Œéœ€è¦æ·»åŠ çš„å­—æ¯å°±è¶Šå°‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minInsertions</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(s)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = dp[i][j] + <span class=\"number\">1</span> <span class=\"keyword\">if</span> s[i] == s[~j] <span class=\"keyword\">else</span> max(dp[i+<span class=\"number\">1</span>][j], dp[i][j+<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n - dp[n][n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"221-Maximal-Square\"><a href=\"#221-Maximal-Square\" class=\"headerlink\" title=\"221. Maximal Square\"></a>221. Maximal Square</h3><h4 id=\"æœ€å¤§çš„æ­£æ–¹å½¢å²›å±¿é¢ç§¯ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„æ­£æ–¹å½¢å²›å±¿é¢ç§¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„æ­£æ–¹å½¢å²›å±¿é¢ç§¯ã€‚åŸé¢˜\"></a>æœ€å¤§çš„æ­£æ–¹å½¢å²›å±¿é¢ç§¯ã€‚<a href=\"https://leetcode.com/problems/maximal-square/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\"></span><br><span class=\"line\">1 0 1 0 0</span><br><span class=\"line\">1 0 1 1 1</span><br><span class=\"line\">1 1 1 1 1</span><br><span class=\"line\">1 0 0 1 0</span><br><span class=\"line\"></span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸€ï¼šæ­¤é¢˜çœ‹ä¼¼å’Œæœ€å¤§å²›å±¿é¢ç§¯ç›¸ä¼¼ï¼Œä½†è§£æ³•å®Œå…¨ä¸åŒã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maximalSquare</span><span class=\"params\">(self, g: List[List[str]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    M, N = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (N+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    max_side = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, M+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> g[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>] == <span class=\"string\">'1'</span>:</span><br><span class=\"line\">                dp[i][j] = min(dp[i<span class=\"number\">-1</span>][j], dp[i][j<span class=\"number\">-1</span>], dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]) + <span class=\"number\">1</span></span><br><span class=\"line\">                max_side = max(max_side, dp[i][j])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max_side ** <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šé‡‡ç”¨ä½è¿ç®—ã€‚ä»è¯„è®ºåŒºå­¦åˆ°çš„å†™æ³•ï¼Œéå¸¸å±Œã€‚å‡è®¾ä»æœ‰hè¡Œæ•°ç»„ï¼Œå°†è¿™äº›æ•°ç»„è¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°æŒ‰ä½ä¸ï¼Œæœ€å¤§çš„è¿ç»­çš„1çš„é•¿åº¦å°±æ˜¯èƒ½ç»„æˆæœ€å¤§æ­£æ–¹å½¢çš„å®½åº¦ã€‚ç”±äºæŸ¥1çš„è¿ç®—å˜æˆäº†ä½è¿ç®—ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å’Œä¸Šè¿°æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maximalSquare</span><span class=\"params\">(self, g: List[List[str]])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_serial_one</span><span class=\"params\">(d)</span>:</span></span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> d:</span><br><span class=\"line\">            d = d &amp; (d&lt;&lt;<span class=\"number\">1</span>)</span><br><span class=\"line\">            count += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> count</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    nums = [int(<span class=\"string\">''</span>.join(row), <span class=\"number\">2</span>) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> g]</span><br><span class=\"line\">    M = len(g)</span><br><span class=\"line\">    size = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M):</span><br><span class=\"line\">        cur_num = nums[i]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, M):</span><br><span class=\"line\">            cur_num = cur_num &amp; nums[j]</span><br><span class=\"line\">            w = count_serial_one(cur_num)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> w &lt; j-i+<span class=\"number\">1</span>: <span class=\"keyword\">break</span>  <span class=\"comment\"># ä¼˜åŒ–ã€‚å› ä¸ºwä¼šè¶Šæ¥è¶Šå°ï¼Œé«˜ä¼šè¶Šæ¥è¶Šå¤§ã€‚</span></span><br><span class=\"line\">            size = max(size, min(w, j-i+<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> size ** <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1340-Jump-Game-V\"><a href=\"#1340-Jump-Game-V\" class=\"headerlink\" title=\"1340. Jump Game V\"></a>1340. Jump Game V</h3><h4 id=\"è·³è·ƒæ¸¸æˆï¼Œå¯ä»¥å‘å·¦å³dèŒƒå›´å†…çŸ®çš„åœ°æ–¹è·³ä¸‹ã€‚åŸé¢˜\"><a href=\"#è·³è·ƒæ¸¸æˆï¼Œå¯ä»¥å‘å·¦å³dèŒƒå›´å†…çŸ®çš„åœ°æ–¹è·³ä¸‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è·³è·ƒæ¸¸æˆï¼Œå¯ä»¥å‘å·¦å³dèŒƒå›´å†…çŸ®çš„åœ°æ–¹è·³ä¸‹ã€‚åŸé¢˜\"></a>è·³è·ƒæ¸¸æˆï¼Œå¯ä»¥å‘å·¦å³dèŒƒå›´å†…çŸ®çš„åœ°æ–¹è·³ä¸‹ã€‚<a href=\"https://leetcode.com/problems/jump-game-v/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [6,4,14,6,8,13,9,7,10,6,12], d &#x3D; 2</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: You can start at index 10. You can jump 10 --&gt; 8 --&gt; 6 --&gt; 7 as shown.</span><br><span class=\"line\">Note that if you start at index 6 you can only jump to index 7. You cannot jump to index 5 because 13 &gt; 9. You cannot jump to index 4 because index 5 is between index 4 and 6 and 13 &gt; 9.</span><br><span class=\"line\">Similarly You cannot jump from index 3 to index 2 or index 1.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxJumps</span><span class=\"params\">(self, arr: List[int], d: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(arr)</span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">jump</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ans[i]: <span class=\"keyword\">return</span> ans[i]</span><br><span class=\"line\">        ans[i] = <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> di <span class=\"keyword\">in</span> (<span class=\"number\">-1</span>, <span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+di, i+d*di+di, di):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> (<span class=\"number\">0</span>&lt;=j&lt;n <span class=\"keyword\">and</span> arr[j]&lt;arr[i]): <span class=\"keyword\">break</span></span><br><span class=\"line\">                ans[i] = max(ans[i], jump(j)+<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans[i]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1301-Number-of-Paths-with-Max-Score\"><a href=\"#1301-Number-of-Paths-with-Max-Score\" class=\"headerlink\" title=\"1301. Number of Paths with Max Score\"></a>1301. Number of Paths with Max Score</h3><h4 id=\"å·¦ä¸Šåˆ°å³ä¸‹ï¼Œæœ€å¤§å€¼ï¼Œè·¯å¾„ä¸­å­˜åœ¨éšœç¢ï¼Œå¹¶ä¸”éœ€è¦è¿”å›è·¯å¾„çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å·¦ä¸Šåˆ°å³ä¸‹ï¼Œæœ€å¤§å€¼ï¼Œè·¯å¾„ä¸­å­˜åœ¨éšœç¢ï¼Œå¹¶ä¸”éœ€è¦è¿”å›è·¯å¾„çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å·¦ä¸Šåˆ°å³ä¸‹ï¼Œæœ€å¤§å€¼ï¼Œè·¯å¾„ä¸­å­˜åœ¨éšœç¢ï¼Œå¹¶ä¸”éœ€è¦è¿”å›è·¯å¾„çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å·¦ä¸Šåˆ°å³ä¸‹ï¼Œæœ€å¤§å€¼ï¼Œè·¯å¾„ä¸­å­˜åœ¨éšœç¢ï¼Œå¹¶ä¸”éœ€è¦è¿”å›è·¯å¾„çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-paths-with-max-score/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: board &#x3D; [&quot;E23&quot;,&quot;2X2&quot;,&quot;12S&quot;]</span><br><span class=\"line\">Output: [7,1]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåˆæ¬¡ACçš„æ–¹æ³•ã€‚æ­¤é¢˜ä¸å‰‘æŒ‡offerä¸­ç¤¼ç‰©çš„æœ€å¤§å€¼æœ‰ç‚¹åƒï¼Œå¤šäº†ä¸€ä¸ªéšœç¢ï¼Œå¤šäº†ä¸€ç§èµ°æ³•ï¼Œå¤šè¿”å›ä¸€ä¸ªæ•°é‡ã€‚è¿™ç§è§£æ³•å¯¹äºå¸¦æœ‰éšœç¢çš„é—®é¢˜æ¥è¯´ ä¸å¤ªé€‚åˆã€‚ä½†æ˜¯é€Ÿåº¦ä¸Šæ¯”æ–¹æ³•äºŒå¿«äº†ä¸€ç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathsWithMaxScore</span><span class=\"params\">(self, board: List[str])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    R, C = len(board), len(board[<span class=\"number\">0</span>])</span><br><span class=\"line\">    board[<span class=\"number\">0</span>] = <span class=\"string\">'0'</span> + board[<span class=\"number\">0</span>][<span class=\"number\">1</span>:]</span><br><span class=\"line\">    board[<span class=\"number\">-1</span>] = board[<span class=\"number\">-1</span>][:<span class=\"number\">-1</span>] + <span class=\"string\">'0'</span></span><br><span class=\"line\">    b = [[float(<span class=\"string\">'-inf'</span>) <span class=\"keyword\">if</span> d==<span class=\"string\">'X'</span> <span class=\"keyword\">else</span> int(d) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> row] <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> board]</span><br><span class=\"line\">    ways = [[<span class=\"number\">0</span>] * C <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(R)]</span><br><span class=\"line\">    first_row = list(itertools.takewhile(<span class=\"keyword\">lambda</span> x: x&gt;=<span class=\"number\">0</span>, ways[<span class=\"number\">0</span>]))</span><br><span class=\"line\">    ways[<span class=\"number\">0</span>] = len(first_row) * [<span class=\"number\">1</span>] + (C-len(first_row)) * [<span class=\"number\">0</span>]</span><br><span class=\"line\">    cur = list(itertools.accumulate(b[<span class=\"number\">0</span>]))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, R):</span><br><span class=\"line\">        tmp = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">            left = tmp[<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">            dia = cur[j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> float(<span class=\"string\">'-inf'</span>)</span><br><span class=\"line\">            max_pre = max(cur[j], dia, left)</span><br><span class=\"line\">            tmp.append(max_pre + b[i][j])</span><br><span class=\"line\">            left_way = ways[i][j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">            up_way = ways[i<span class=\"number\">-1</span>][j]</span><br><span class=\"line\">            dia_way = ways[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> i&gt;<span class=\"number\">0</span> <span class=\"keyword\">and</span> j&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> max_pre != float(<span class=\"string\">'-inf'</span>) <span class=\"keyword\">and</span> b[i][j]!=float(<span class=\"string\">'-inf'</span>):</span><br><span class=\"line\">                ways[i][j] += up_way * (cur[j]==max_pre)</span><br><span class=\"line\">                ways[i][j] += left_way * (left==max_pre)</span><br><span class=\"line\">                ways[i][j] += dia_way * (dia==max_pre)</span><br><span class=\"line\">        cur = tmp</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (cur[<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> cur[<span class=\"number\">-1</span>]!=float(<span class=\"string\">'-inf'</span>) <span class=\"keyword\">else</span> <span class=\"number\">0</span>, </span><br><span class=\"line\">            ways[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>] % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼˜åŒ–ã€‚æ„é€ ä¸€ä¸ª<code>+1</code>çš„dpã€‚lee215çš„è§£æ³•ã€‚3ä¸ªæ–¹å‘çš„å»¶ä¼¸æ”¾åˆ°äº†å¾ªç¯ä¸­ï¼ŒåŒæ—¶è®°å½•æœ€å¤§çš„è·¯å¾„ä¸ªæ•°ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pathsWithMaxScore</span><span class=\"params\">(self, board: List[str])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    n, mod = len(board), <span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span></span><br><span class=\"line\">    dp = [[[float(<span class=\"string\">'-inf'</span>), <span class=\"number\">0</span>] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n+<span class=\"number\">1</span>)] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    dp[n<span class=\"number\">-1</span>][n<span class=\"number\">-1</span>] = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(n)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(n)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> board[x][y] <span class=\"keyword\">in</span> <span class=\"string\">'XS'</span>: <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> i, j <span class=\"keyword\">in</span> ((<span class=\"number\">0</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">0</span>), (<span class=\"number\">1</span>, <span class=\"number\">1</span>)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dp[x][y][<span class=\"number\">0</span>] &lt; dp[x+i][y+j][<span class=\"number\">0</span>]:</span><br><span class=\"line\">                    dp[x][y] = [dp[x+i][y+j][<span class=\"number\">0</span>], <span class=\"number\">0</span>]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dp[x][y][<span class=\"number\">0</span>] == dp[x+i][y+j][<span class=\"number\">0</span>]:</span><br><span class=\"line\">                    dp[x][y][<span class=\"number\">1</span>] += dp[x+i][y+j][<span class=\"number\">1</span>]</span><br><span class=\"line\">            dp[x][y][<span class=\"number\">0</span>] += int(board[x][y]) <span class=\"keyword\">if</span> x <span class=\"keyword\">or</span> y <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>][<span class=\"number\">0</span>] <span class=\"keyword\">if</span> dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>][<span class=\"number\">1</span>] <span class=\"keyword\">else</span> <span class=\"number\">0</span>, dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>][<span class=\"number\">1</span>] % mod]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1277-Count-Square-Submatrices-with-All-Ones\"><a href=\"#1277-Count-Square-Submatrices-with-All-Ones\" class=\"headerlink\" title=\"1277. Count Square Submatrices with All Ones\"></a>1277. Count Square Submatrices with All Ones</h3><h4 id=\"çŸ©é˜µä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ª1æ„æˆçš„æ­£æ–¹å½¢ã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ª1æ„æˆçš„æ­£æ–¹å½¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ª1æ„æˆçš„æ­£æ–¹å½¢ã€‚åŸé¢˜\"></a>çŸ©é˜µä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ª1æ„æˆçš„æ­£æ–¹å½¢ã€‚<a href=\"https://leetcode.com/problems/count-square-submatrices-with-all-ones/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: matrix &#x3D;</span><br><span class=\"line\">[</span><br><span class=\"line\">  [0,1,1,1],</span><br><span class=\"line\">  [1,1,1,1],</span><br><span class=\"line\">  [0,1,1,1]</span><br><span class=\"line\">]</span><br><span class=\"line\">Output: 15</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">There are 10 squares of side 1.</span><br><span class=\"line\">There are 4 squares of side 2.</span><br><span class=\"line\">There is  1 square of side 3.</span><br><span class=\"line\">Total number of squares &#x3D; 10 + 4 + 1 &#x3D; 15.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countSquares</span><span class=\"params\">(self, mat: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(mat), len(mat[<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"comment\"># dp[i][j] è¡¨ç¤ºä»¥i, jä¸ºå³ä¸‹ç‚¹æ—¶ï¼Œæ­£æ–¹å½¢çš„ä¸ªæ•°ã€‚</span></span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (n) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> mat[i][j] == <span class=\"number\">1</span>:</span><br><span class=\"line\">                dp[i][j] = min(dp[i<span class=\"number\">-1</span>][j], dp[i][j<span class=\"number\">-1</span>], dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(map(sum, dp))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1269-Number-of-Ways-to-Stay-in-the-Same-Place-After-Some-Steps\"><a href=\"#1269-Number-of-Ways-to-Stay-in-the-Same-Place-After-Some-Steps\" class=\"headerlink\" title=\"1269. Number of Ways to Stay in the Same Place After Some Steps\"></a>1269. Number of Ways to Stay in the Same Place After Some Steps</h3><h4 id=\"å›åˆ°åŸç‚¹çš„èµ°æ³•ä¸€å…±æœ‰å¤šå°‘ç§ï¼Œä¸€æ¬¡åªèƒ½å‘å³ï¼Œå‘å·¦æˆ–è€…åœç•™ï¼Œè¦æ±‚å§‹ç»ˆä¿æŒåœ¨æ•°ç»„èŒƒå›´ã€‚åŸé¢˜\"><a href=\"#å›åˆ°åŸç‚¹çš„èµ°æ³•ä¸€å…±æœ‰å¤šå°‘ç§ï¼Œä¸€æ¬¡åªèƒ½å‘å³ï¼Œå‘å·¦æˆ–è€…åœç•™ï¼Œè¦æ±‚å§‹ç»ˆä¿æŒåœ¨æ•°ç»„èŒƒå›´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å›åˆ°åŸç‚¹çš„èµ°æ³•ä¸€å…±æœ‰å¤šå°‘ç§ï¼Œä¸€æ¬¡åªèƒ½å‘å³ï¼Œå‘å·¦æˆ–è€…åœç•™ï¼Œè¦æ±‚å§‹ç»ˆä¿æŒåœ¨æ•°ç»„èŒƒå›´ã€‚åŸé¢˜\"></a>å›åˆ°åŸç‚¹çš„èµ°æ³•ä¸€å…±æœ‰å¤šå°‘ç§ï¼Œä¸€æ¬¡åªèƒ½å‘å³ï¼Œå‘å·¦æˆ–è€…åœç•™ï¼Œè¦æ±‚å§‹ç»ˆä¿æŒåœ¨æ•°ç»„èŒƒå›´ã€‚<a href=\"https://leetcode.com/problems/number-of-ways-to-stay-in-the-same-place-after-some-steps/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: steps &#x3D; 3, arrLen &#x3D; 2</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: There are 4 differents ways to stay at index 0 after 3 steps.</span><br><span class=\"line\">Right, Left, Stay</span><br><span class=\"line\">Stay, Right, Left</span><br><span class=\"line\">Right, Stay, Left</span><br><span class=\"line\">Stay, Stay, Stay</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œ<code>dp[p][s] = dp[p-1][s-1] + dp[p][s-1] + dp[p+1, s-1]</code>pä»£è¡¨ä½ç½®ï¼Œsä»£è¡¨æ­¥æ•°ã€‚é¦–éƒ¨æ·»åŠ 0æ–¹ä¾¿æ±‚å’Œã€‚æ³¨æ„<code>t+3</code>è¿™ä¸ªèŒƒå›´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numWays</span><span class=\"params\">(self, steps: int, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    A = [<span class=\"number\">0</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> t <span class=\"keyword\">in</span> range(steps):</span><br><span class=\"line\">        A[<span class=\"number\">1</span>:] = [sum(A[i - <span class=\"number\">1</span>:i + <span class=\"number\">2</span>]) % mod <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(n + <span class=\"number\">1</span>, t + <span class=\"number\">3</span>))]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> A[<span class=\"number\">1</span>] % mod</span><br></pre></td></tr></table></figure>\n<h3 id=\"338-Counting-Bits\"><a href=\"#338-Counting-Bits\" class=\"headerlink\" title=\"338. Counting Bits\"></a>338. Counting Bits</h3><h4 id=\"è¿”å›ä»0åˆ°numçš„æ•°ä¸­ï¼Œæ¯ä¸ªæ•°äºŒè¿›åˆ¶ä¸­å«æœ‰1çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#è¿”å›ä»0åˆ°numçš„æ•°ä¸­ï¼Œæ¯ä¸ªæ•°äºŒè¿›åˆ¶ä¸­å«æœ‰1çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿”å›ä»0åˆ°numçš„æ•°ä¸­ï¼Œæ¯ä¸ªæ•°äºŒè¿›åˆ¶ä¸­å«æœ‰1çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>è¿”å›ä»0åˆ°numçš„æ•°ä¸­ï¼Œæ¯ä¸ªæ•°äºŒè¿›åˆ¶ä¸­å«æœ‰1çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/counting-bits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 5</span><br><span class=\"line\">Output: [0,1,1,2,1,2]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤è§£æ³•ç”¨äº†191çš„æš´åŠ›è§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countBits</span><span class=\"params\">(self, num: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(a)</span>:</span></span><br><span class=\"line\">        c = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> a != <span class=\"number\">0</span>:</span><br><span class=\"line\">            a &amp;= a<span class=\"number\">-1</span></span><br><span class=\"line\">            c += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> map(count, range(<span class=\"number\">0</span>, num+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šdp ã€‚<code>dp[i]=dp[i//2]+i&amp;1</code></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countBits</span><span class=\"params\">(self, num: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, num+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp.append(dp[i&gt;&gt;<span class=\"number\">1</span>] + (i&amp;<span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp</span><br></pre></td></tr></table></figure>\n<h3 id=\"1262-Greatest-Sum-Divisible-by-Three\"><a href=\"#1262-Greatest-Sum-Divisible-by-Three\" class=\"headerlink\" title=\"1262. Greatest Sum Divisible by Three\"></a>1262. Greatest Sum Divisible by Three</h3><h4 id=\"æœ€å¤šçš„å…ƒç´ å’Œèƒ½è¢«3æ•´é™¤ã€‚åŸé¢˜\"><a href=\"#æœ€å¤šçš„å…ƒç´ å’Œèƒ½è¢«3æ•´é™¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤šçš„å…ƒç´ å’Œèƒ½è¢«3æ•´é™¤ã€‚åŸé¢˜\"></a>æœ€å¤šçš„å…ƒç´ å’Œèƒ½è¢«3æ•´é™¤ã€‚<a href=\"https://leetcode.com/problems/greatest-sum-divisible-by-three/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [3,6,5,1,8]</span><br><span class=\"line\">Output: 18</span><br><span class=\"line\">Explanation: Pick numbers 3, 6, 1 and 8 their sum is 18 (maximum sum divisible by 3).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ•°å­¦æ–¹æ³•ï¼Œç´¯åŠ æ‰€æœ‰çš„æ•°ï¼Œå’Œå¯èƒ½æœ‰ä¸‰ç§æƒ…å†µï¼š</p>\n<ul>\n<li>ä½™ 0 ï¼Œåˆšå¥½æ•´é™¤ã€‚</li>\n<li>ä½™1ï¼Œ éœ€è¦å‡å»ä¸€ä¸ªä½™1çš„æ•°ï¼Œæˆ–è€…ä¸¤ä¸ªä½™2çš„æ•°ã€‚</li>\n<li>ä½™2ï¼Œå‡å»ä¸€ä¸ªä½™2çš„æ•°ï¼Œæˆ–è€…ä¸¤ä¸ªä½™1çš„æ•°ã€‚</li>\n</ul>\n<p>éœ€è¦æ³¨æ„æ•°å­—æ˜¯å¦å¤Ÿç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumDivThree</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    total = sum(nums)</span><br><span class=\"line\">    mod_1 = [n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> n%<span class=\"number\">3</span>==<span class=\"number\">1</span>]</span><br><span class=\"line\">    mod_2 = [n <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> nums <span class=\"keyword\">if</span> n%<span class=\"number\">3</span>==<span class=\"number\">2</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total - min(min(mod_1), sum(heapq.nsmallest(<span class=\"number\">2</span>, mod_2) <span class=\"keyword\">if</span> len(mod_2)&gt;=<span class=\"number\">2</span> <span class=\"keyword\">else</span> [float(<span class=\"string\">'inf'</span>)]))</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> total % <span class=\"number\">3</span> == <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total - min(min(mod_2), sum(heapq.nsmallest(<span class=\"number\">2</span>, mod_1) <span class=\"keyword\">if</span> len(mod_1)&gt;=<span class=\"number\">2</span> <span class=\"keyword\">else</span> [float(<span class=\"string\">'inf'</span>)]))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šdp. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumDivThree</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># dp[pos][mod]</span></span><br><span class=\"line\">    <span class=\"comment\"># # 0  1  2</span></span><br><span class=\"line\">    <span class=\"comment\"># 0 3  0  0</span></span><br><span class=\"line\">    <span class=\"comment\"># 1 9  0  0 </span></span><br><span class=\"line\">    <span class=\"comment\"># 2 9  0  14</span></span><br><span class=\"line\">    <span class=\"comment\"># 3 15 10 14</span></span><br><span class=\"line\">    <span class=\"comment\"># 4 18 22 23</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * <span class=\"number\">3</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> dp[:]:</span><br><span class=\"line\">            dp[(j+a) % <span class=\"number\">3</span>] = max(dp[(j+a) % <span class=\"number\">3</span>], j+a)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"72-Edit-Distance\"><a href=\"#72-Edit-Distance\" class=\"headerlink\" title=\"72. Edit Distance\"></a>72. Edit Distance</h3><h4 id=\"ä¸¤ä¸ªå•è¯ï¼Œå°†aå˜æˆbçš„æœ€å°æ­¥æ•°ï¼Œå¯ä»¥æ·»åŠ ã€åˆ é™¤ï¼Œæ›¿æ¢ä¸€ä¸ªå­—æ¯ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªå•è¯ï¼Œå°†aå˜æˆbçš„æœ€å°æ­¥æ•°ï¼Œå¯ä»¥æ·»åŠ ã€åˆ é™¤ï¼Œæ›¿æ¢ä¸€ä¸ªå­—æ¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªå•è¯ï¼Œå°†aå˜æˆbçš„æœ€å°æ­¥æ•°ï¼Œå¯ä»¥æ·»åŠ ã€åˆ é™¤ï¼Œæ›¿æ¢ä¸€ä¸ªå­—æ¯ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªå•è¯ï¼Œå°†aå˜æˆbçš„æœ€å°æ­¥æ•°ï¼Œå¯ä»¥æ·»åŠ ã€åˆ é™¤ï¼Œæ›¿æ¢ä¸€ä¸ªå­—æ¯ã€‚<a href=\"https://leetcode.com/problems/edit-distance/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: word1 &#x3D; &quot;horse&quot;, word2 &#x3D; &quot;ros&quot;</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">horse -&gt; rorse (replace &#39;h&#39; with &#39;r&#39;)</span><br><span class=\"line\">rorse -&gt; rose (remove &#39;r&#39;)</span><br><span class=\"line\">rose -&gt; ros (remove &#39;e&#39;)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœŸæ˜¯åæ‚”æ²¡æ—©ç‚¹åšè¿™ä¸ªé¢˜ï¼Œè¿™é¢˜è§£æ³•ä¸‹æœ‰ä¸€ä¸ªæ–¹æ³•å°†dpçš„é—®é¢˜ä»è®°å¿†åŒ–æœç´¢çš„é€’å½’åˆ°å®ç°çš„è¿‡ç¨‹è®²è§£çš„éå¸¸è¯¦ç»†ã€‚<a href=\"https://leetcode.com/problems/edit-distance/discuss/159295/Python-solutions-and-intuition\" target=\"_blank\" rel=\"noopener\">è¿™é‡Œ</a>ä»è¿™æ ·çš„ä¸€ä¸ªé€’å½’å¼€å§‹æ¼”å˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDistance</span><span class=\"params\">(self, word1, word2)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"Naive recursive solution\"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> word1 <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> word2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> word1:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> len(word2)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> word2:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> len(word1)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> word1[<span class=\"number\">0</span>] == word2[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.minDistance(word1[<span class=\"number\">1</span>:], word2[<span class=\"number\">1</span>:])</span><br><span class=\"line\">        insert = <span class=\"number\">1</span> + self.minDistance(word1, word2[<span class=\"number\">1</span>:])</span><br><span class=\"line\">        delete = <span class=\"number\">1</span> + self.minDistance(word1[<span class=\"number\">1</span>:], word2)</span><br><span class=\"line\">        replace = <span class=\"number\">1</span> + self.minDistance(word1[<span class=\"number\">1</span>:], word2[<span class=\"number\">1</span>:])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min(insert, replace, delete)</span><br></pre></td></tr></table></figure>\n<p>åˆ°æœ€ç»ˆçš„å½¢æ€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDistance</span><span class=\"params\">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    m, n = len(word1), len(word2)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m+<span class=\"number\">1</span>)]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[i][<span class=\"number\">0</span>] = i</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>][j] = j</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> word1[i] == word2[j]:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = dp[i][j]</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>][j+<span class=\"number\">1</span>] = min(dp[i+<span class=\"number\">1</span>][j], dp[i][j+<span class=\"number\">1</span>], dp[i][j]) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"322-Coin-Change\"><a href=\"#322-Coin-Change\" class=\"headerlink\" title=\"322. Coin Change\"></a>322. Coin Change</h3><h4 id=\"æ‰¾é›¶é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ€å°‘éœ€è¦å‡ ä¸ªç¡¬å¸ã€‚åŸé¢˜\"><a href=\"#æ‰¾é›¶é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ€å°‘éœ€è¦å‡ ä¸ªç¡¬å¸ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾é›¶é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ€å°‘éœ€è¦å‡ ä¸ªç¡¬å¸ã€‚åŸé¢˜\"></a>æ‰¾é›¶é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ€å°‘éœ€è¦å‡ ä¸ªç¡¬å¸ã€‚<a href=\"https://leetcode.com/problems/coin-change/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: coins &#x3D; [1, 2, 5], amount &#x3D; 11</span><br><span class=\"line\">Output: 3 </span><br><span class=\"line\">Explanation: 11 &#x3D; 5 + 5 + 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè‡ªå·±æƒ³çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">coinChange</span><span class=\"params\">(self, coins: List[int], amount: int)</span> -&gt; int:</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] + [float(<span class=\"string\">'inf'</span>)] * amount</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, amount+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[i] = min(dp[i-coin]+<span class=\"number\">1</span> <span class=\"keyword\">if</span> i&gt;=coin <span class=\"keyword\">else</span> float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">for</span> coin <span class=\"keyword\">in</span> coins)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> dp[<span class=\"number\">-1</span>]!=float(<span class=\"string\">'inf'</span>) <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"518-Coin-Change-2\"><a href=\"#518-Coin-Change-2\" class=\"headerlink\" title=\"518. Coin Change 2\"></a>518. Coin Change 2</h3><h4 id=\"æ‰¾é’±é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ‰å¤šå°‘ç§æ–¹æ³•ã€‚åŸé¢˜\"><a href=\"#æ‰¾é’±é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ‰å¤šå°‘ç§æ–¹æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾é’±é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ‰å¤šå°‘ç§æ–¹æ³•ã€‚åŸé¢˜\"></a>æ‰¾é’±é—®é¢˜ï¼Œç»™ä½ å‡ ç§é¢å€¼çš„ç¡¬å¸ï¼Œä¸é™åˆ¶æ¯ç§ç¡¬å¸çš„ä¸ªæ•°ï¼Œé—®ç»„æˆå¤šå°‘é’±æœ‰å¤šå°‘ç§æ–¹æ³•ã€‚<a href=\"https://leetcode.com/problems/coin-change-2/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: amount &#x3D; 5, coins &#x3D; [1, 2, 5]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: there are four ways to make up the amount:</span><br><span class=\"line\">5&#x3D;5</span><br><span class=\"line\">5&#x3D;2+2+1</span><br><span class=\"line\">5&#x3D;2+1+1+1</span><br><span class=\"line\">5&#x3D;1+1+1+1+1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šèƒŒåŒ…é—®é¢˜ï¼Œçœ‹äº†ç­”æ¡ˆã€‚</p>\n<p><code>dp[i - 1][j]</code>: å®Œå…¨ä¸ç”¨å½“å‰ç¡¬å¸ç»„æˆjæœ‰å¤šå°‘ç§ç»„åˆ<br><code>dp[i][j - coins[i - 1]]</code> :ä½¿ç”¨<strong>è‡³å°‘ä¸€ä¸ª</strong>å½“å‰ç¡¬å¸ï¼ˆä¸ä¸Šé¢ä¸€æ¡æ˜¯äº’æ–¥äº‹ä»¶ï¼‰ç»„æˆç»„æˆjæœ‰å¤šå°‘ç»„åˆã€‚forå¾ªç¯ä¸èƒ½å†™åäº†ï¼Œæ¯”å¦‚1+5å’Œ5+1åŒæ ·èƒ½ç»„æˆ6ï¼Œè¢«ç®—äº†ä¸¤æ¬¡ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">change</span><span class=\"params\">(self, amount: int, coins: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (amount + <span class=\"number\">1</span>)</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> coins:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, amount + <span class=\"number\">1</span>):</span><br><span class=\"line\">           <span class=\"keyword\">if</span> j &gt;= i:</span><br><span class=\"line\">               dp[j] += dp[j - i]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[amount]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1220-Count-Vowels-Permutation\"><a href=\"#1220-Count-Vowels-Permutation\" class=\"headerlink\" title=\"1220. Count Vowels Permutation\"></a>1220. Count Vowels Permutation</h3><h4 id=\"å…ƒéŸ³å­—æ¯çš„å…¨æ’åˆ—ï¼Œæ ¹æ®æŒ‡å®šè§„åˆ™çš„ï¼Œæ±‚å…¨æ’åˆ—çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#å…ƒéŸ³å­—æ¯çš„å…¨æ’åˆ—ï¼Œæ ¹æ®æŒ‡å®šè§„åˆ™çš„ï¼Œæ±‚å…¨æ’åˆ—çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å…ƒéŸ³å­—æ¯çš„å…¨æ’åˆ—ï¼Œæ ¹æ®æŒ‡å®šè§„åˆ™çš„ï¼Œæ±‚å…¨æ’åˆ—çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>å…ƒéŸ³å­—æ¯çš„å…¨æ’åˆ—ï¼Œæ ¹æ®æŒ‡å®šè§„åˆ™çš„ï¼Œæ±‚å…¨æ’åˆ—çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/count-vowels-permutation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2</span><br><span class=\"line\">Output: 10</span><br><span class=\"line\">Explanation: All possible strings are: &quot;ae&quot;, &quot;ea&quot;, &quot;ei&quot;, &quot;ia&quot;, &quot;ie&quot;, &quot;io&quot;, &quot;iu&quot;, &quot;oi&quot;, &quot;ou&quot; and &quot;ua&quot;.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ²¡æƒ³åˆ°å±…ç„¶åšå‡ºæ¥äº†ã€‚dpåˆ†åˆ«ä»£è¡¨äº†ä»¥è¿™äº›å­—æ¯å¼€å¤´çš„ä¸ªæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countVowelPermutation</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    dp = [<span class=\"number\">1</span>] * <span class=\"number\">5</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        tmp = [[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(<span class=\"number\">5</span>)]</span><br><span class=\"line\">        tmp[<span class=\"number\">0</span>] = dp[<span class=\"number\">1</span>]</span><br><span class=\"line\">        tmp[<span class=\"number\">1</span>] = dp[<span class=\"number\">0</span>] + dp[<span class=\"number\">2</span>]</span><br><span class=\"line\">        tmp[<span class=\"number\">2</span>] = dp[<span class=\"number\">0</span>] + dp[<span class=\"number\">1</span>] + dp[<span class=\"number\">3</span>] + dp[<span class=\"number\">4</span>]</span><br><span class=\"line\">        tmp[<span class=\"number\">3</span>] = dp[<span class=\"number\">2</span>] + dp[<span class=\"number\">4</span>]</span><br><span class=\"line\">        tmp[<span class=\"number\">4</span>] = dp[<span class=\"number\">0</span>]</span><br><span class=\"line\">        dp = tmp</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸€æ•´å¾—æœ‰ç‚¹å¤æ‚äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countVowelPermutation</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    a = e = i = o = u = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        a, e, i, o, u = e, a+i, a+e+o+u, i+u, a</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (a+e+i+o+u) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"368-Largest-Divisible-Subset\"><a href=\"#368-Largest-Divisible-Subset\" class=\"headerlink\" title=\"368. Largest Divisible Subset\"></a>368. Largest Divisible Subset</h3><h4 id=\"æœ€å¤§çš„æ•´é™¤å­é›†ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„æ•´é™¤å­é›†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„æ•´é™¤å­é›†ã€‚åŸé¢˜\"></a>æœ€å¤§çš„æ•´é™¤å­é›†ã€‚<a href=\"https://leetcode.com/problems/largest-divisible-subset/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3]</span><br><span class=\"line\">Output: [1,2] (of course, [1,3] will also be ok)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šstefançš„è§£æ³•ã€‚è‡ªå·±æ²¡æƒ³å‡ºæ¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestDivisibleSubset</span><span class=\"params\">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    S = &#123;<span class=\"number\">-1</span>: set()&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> sorted(nums):</span><br><span class=\"line\">        S[x] = max((S[d] <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> S <span class=\"keyword\">if</span> x % d == <span class=\"number\">0</span>), key=len) | &#123;x&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(max(S.values(), key=len))</span><br></pre></td></tr></table></figure>\n<h3 id=\"5456-Kth-Ancestor-of-a-Tree-Node\"><a href=\"#5456-Kth-Ancestor-of-a-Tree-Node\" class=\"headerlink\" title=\"5456. Kth Ancestor of a Tree Node\"></a>5456. Kth Ancestor of a Tree Node</h3><h4 id=\"æ‰¾å‡ºä¸€ä¸ªæ ‘èŠ‚ç‚¹çš„kä¸ªç¥–å…ˆã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºä¸€ä¸ªæ ‘èŠ‚ç‚¹çš„kä¸ªç¥–å…ˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºä¸€ä¸ªæ ‘èŠ‚ç‚¹çš„kä¸ªç¥–å…ˆã€‚åŸé¢˜\"></a>æ‰¾å‡ºä¸€ä¸ªæ ‘èŠ‚ç‚¹çš„kä¸ªç¥–å…ˆã€‚<a href=\"https://leetcode.com/problems/kth-ancestor-of-a-tree-node/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">[&quot;TreeAncestor&quot;,&quot;getKthAncestor&quot;,&quot;getKthAncestor&quot;,&quot;getKthAncestor&quot;]</span><br><span class=\"line\">[[7,[-1,0,0,1,1,2,2]],[3,1],[5,2],[6,3]]</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">[null,1,0,-1]</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">TreeAncestor treeAncestor &#x3D; new TreeAncestor(7, [-1, 0, 0, 1, 1, 2, 2]);</span><br><span class=\"line\"></span><br><span class=\"line\">treeAncestor.getKthAncestor(3, 1);  &#x2F;&#x2F; returns 1 which is the parent of 3</span><br><span class=\"line\">treeAncestor.getKthAncestor(5, 2);  &#x2F;&#x2F; returns 0 which is the grandparent of 5</span><br><span class=\"line\">treeAncestor.getKthAncestor(6, 3);  &#x2F;&#x2F; returns -1 because there is no such ancestor</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æ²¡æœ‰åšå‡ºæ¥ï¼ŒLeeçš„ç­”æ¡ˆã€‚ç”¨çš„å€å¢æ³•ï¼Œbinary lifting.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TreeAncestor</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    step = <span class=\"number\">15</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, n, A)</span>:</span></span><br><span class=\"line\">        A = dict(enumerate(A))</span><br><span class=\"line\">        jump = [A]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> range(self.step):</span><br><span class=\"line\">            B = &#123;&#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> A[i] <span class=\"keyword\">in</span> A:</span><br><span class=\"line\">                    B[i] = A[A[i]]</span><br><span class=\"line\">            jump.append(B)</span><br><span class=\"line\">            A = B</span><br><span class=\"line\">        self.jump = jump</span><br><span class=\"line\">        print(jump)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getKthAncestor</span><span class=\"params\">(self, x: int, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">        step = self.step</span><br><span class=\"line\">        <span class=\"keyword\">while</span> k &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> x &gt; <span class=\"number\">-1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> k &gt;= <span class=\"number\">1</span> &lt;&lt; step:</span><br><span class=\"line\">                x = self.jump[step].get(x, <span class=\"number\">-1</span>)</span><br><span class=\"line\">                k -= <span class=\"number\">1</span> &lt;&lt; step</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                step -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> x</span><br></pre></td></tr></table></figure>\n<h3 id=\"1477-Find-Two-Non-overlapping-Sub-arrays-Each-With-Target-Sum\"><a href=\"#1477-Find-Two-Non-overlapping-Sub-arrays-Each-With-Target-Sum\" class=\"headerlink\" title=\"1477. Find Two Non-overlapping Sub-arrays Each With Target Sum\"></a>1477. Find Two Non-overlapping Sub-arrays Each With Target Sum</h3><h4 id=\"æ‰¾åˆ°æ•°ç»„ä¸­ç­‰äºç›®æ ‡å€¼çš„ä¸¤ä¸ªä¸é‡å å­æ•°ç»„çš„æœ€å°é•¿åº¦å’Œã€‚åŸé¢˜\"><a href=\"#æ‰¾åˆ°æ•°ç»„ä¸­ç­‰äºç›®æ ‡å€¼çš„ä¸¤ä¸ªä¸é‡å å­æ•°ç»„çš„æœ€å°é•¿åº¦å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾åˆ°æ•°ç»„ä¸­ç­‰äºç›®æ ‡å€¼çš„ä¸¤ä¸ªä¸é‡å å­æ•°ç»„çš„æœ€å°é•¿åº¦å’Œã€‚åŸé¢˜\"></a>æ‰¾åˆ°æ•°ç»„ä¸­ç­‰äºç›®æ ‡å€¼çš„ä¸¤ä¸ªä¸é‡å å­æ•°ç»„çš„æœ€å°é•¿åº¦å’Œã€‚<a href=\"https://leetcode.com/problems/find-two-non-overlapping-sub-arrays-each-with-target-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [3,2,2,4,3], target &#x3D; 3</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: Only two sub-arrays have sum &#x3D; 3 ([3] and [3]). The sum of their lengths is 2.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šçœ‹äº†æç¤ºåä½¿ç”¨äº†å‰åéå†æ³•åšå‡ºæ¥çš„ã€‚å…¶å®æœ‰ä¸€æ¬¡éå†çš„æ–¹å¼ã€‚è¿™ä¸ªæ–¹æ³•çœ‹äº†æŒºé•¿æ—¶é—´ï¼Œæ‰æ˜ç™½ï¼Œå®é™…ä¸Šè®°å½•äº†ä¸€ä¸ªä»¥endä¸ºç»“å°¾çš„å‰é¢çš„æ‰€æœ‰å…ƒç´ æœ€å¥½çš„é•¿åº¦æ˜¯å¤šå°‘ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSumOfLengths</span><span class=\"params\">(self, arr: List[int], target: int)</span> -&gt; int:</span></span><br><span class=\"line\">    prefix = &#123;<span class=\"number\">0</span>: <span class=\"number\">-1</span>&#125;</span><br><span class=\"line\">    best_till = [math.inf] * len(arr)</span><br><span class=\"line\">    ans = best = math.inf</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, curr <span class=\"keyword\">in</span> enumerate(itertools.accumulate(arr)):</span><br><span class=\"line\">        <span class=\"comment\"># print(i, curr)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> curr - target <span class=\"keyword\">in</span> prefix:</span><br><span class=\"line\">            end = prefix[curr - target]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> end &gt; <span class=\"number\">-1</span>:</span><br><span class=\"line\">                ans = min(ans, i - end + best_till[end])</span><br><span class=\"line\">            best = min(best, i - end)</span><br><span class=\"line\">            <span class=\"comment\"># print('\\t', best, i-end, best_till, ans)</span></span><br><span class=\"line\">        best_till[i] = best</span><br><span class=\"line\">        prefix[curr] = i</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span> <span class=\"keyword\">if</span> ans == math.inf <span class=\"keyword\">else</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"494-Target-Sum\"><a href=\"#494-Target-Sum\" class=\"headerlink\" title=\"494. Target Sum\"></a>494. Target Sum</h3><h4 id=\"ç»™ä½ ä¸€ç»„æ•°ï¼Œç”¨-æˆ–-è¿æ¥èµ·æ¥æœ€åç­‰äºtargetï¼Œé—®æœ‰å¤šå°‘ç§å¡«æ³•ã€‚åŸé¢˜\"><a href=\"#ç»™ä½ ä¸€ç»„æ•°ï¼Œç”¨-æˆ–-è¿æ¥èµ·æ¥æœ€åç­‰äºtargetï¼Œé—®æœ‰å¤šå°‘ç§å¡«æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™ä½ ä¸€ç»„æ•°ï¼Œç”¨+æˆ–-è¿æ¥èµ·æ¥æœ€åç­‰äºtargetï¼Œé—®æœ‰å¤šå°‘ç§å¡«æ³•ã€‚åŸé¢˜\"></a>ç»™ä½ ä¸€ç»„æ•°ï¼Œç”¨+æˆ–-è¿æ¥èµ·æ¥æœ€åç­‰äºtargetï¼Œé—®æœ‰å¤šå°‘ç§å¡«æ³•ã€‚<a href=\"https://leetcode.com/problems/target-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums is [1, 1, 1, 1, 1], S is 3. </span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\"></span><br><span class=\"line\">-1+1+1+1+1 &#x3D; 3</span><br><span class=\"line\">+1-1+1+1+1 &#x3D; 3</span><br><span class=\"line\">+1+1-1+1+1 &#x3D; 3</span><br><span class=\"line\">+1+1+1-1+1 &#x3D; 3</span><br><span class=\"line\">+1+1+1+1-1 &#x3D; 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findTargetSumWays</span><span class=\"params\">(self, nums: List[int], S: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, total)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == n:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> total==S</span><br><span class=\"line\">        ans = dfs(i+<span class=\"number\">1</span>, total+nums[i]) + dfs(i+<span class=\"number\">1</span>, total-nums[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"174-Dungeon-Game\"><a href=\"#174-Dungeon-Game\" class=\"headerlink\" title=\"174. Dungeon Game\"></a>174. Dungeon Game</h3><h4 id=\"åœ°ç‰¢æ¸¸æˆï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹ï¼Œæ¯æ¬¡åªèƒ½åƒå³æˆ–è€…å‘ä¸‹ï¼Œæ ¼å­é‡Œä¼šæ‰£è¡€å’ŒåŠ è¡€ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘è¡€ï¼Œå…¨ç¨‹ä¿æŒè¡€é‡ä¸º1ä»¥ä¸Šã€‚åŸé¢˜\"><a href=\"#åœ°ç‰¢æ¸¸æˆï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹ï¼Œæ¯æ¬¡åªèƒ½åƒå³æˆ–è€…å‘ä¸‹ï¼Œæ ¼å­é‡Œä¼šæ‰£è¡€å’ŒåŠ è¡€ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘è¡€ï¼Œå…¨ç¨‹ä¿æŒè¡€é‡ä¸º1ä»¥ä¸Šã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ°ç‰¢æ¸¸æˆï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹ï¼Œæ¯æ¬¡åªèƒ½åƒå³æˆ–è€…å‘ä¸‹ï¼Œæ ¼å­é‡Œä¼šæ‰£è¡€å’ŒåŠ è¡€ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘è¡€ï¼Œå…¨ç¨‹ä¿æŒè¡€é‡ä¸º1ä»¥ä¸Šã€‚åŸé¢˜\"></a>åœ°ç‰¢æ¸¸æˆï¼Œä»å·¦ä¸Šèµ°åˆ°å³ä¸‹ï¼Œæ¯æ¬¡åªèƒ½åƒå³æˆ–è€…å‘ä¸‹ï¼Œæ ¼å­é‡Œä¼šæ‰£è¡€å’ŒåŠ è¡€ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘è¡€ï¼Œå…¨ç¨‹ä¿æŒè¡€é‡ä¸º1ä»¥ä¸Šã€‚<a href=\"https://leetcode.com/problems/dungeon-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æ›¾ç»é¢è¯•æŸå…¬å¸çš„æ—¶å€™åšè¿‡ï¼Œåªæ˜¯é‚£é“é¢˜è¿˜è¦æ±‚è¿”å›è·¯å¾„ï¼Œå½“æ—¶åšçš„æ—¶å€™ä»¥ä¸ºåšå¯¹äº†ã€‚å†æ¬¡é‡è§æ­¤é¢˜æ—¶æƒ³äº†ä¸€æ™šä¸Šå‘ç°æƒ³ç®€å•äº†ã€‚ä¸€å¼€å§‹æƒ³ä¿ç•™ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯æœ€å°‘è¡€é‡ï¼Œä¸€ä¸ªæ˜¯ç´¯åŠ å’Œã€‚ç„¶åæ ¹æ®æœ€å°‘è¡€é‡åˆ¤æ–­é€‰æ‹©èµ°å“ªæ¡è·¯ï¼Œç»“æœä¸€ä¸ªcaseè¯æ˜äº†æƒ³æ³•æ˜¯é”™çš„ã€‚è¿˜æ˜¯è¯„è®ºåŒºæ‰¾çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calculateMinimumHP</span><span class=\"params\">(self, dungeon: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(dungeon), len(dungeon[<span class=\"number\">0</span>])</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * C <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(R)] </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(C<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == R<span class=\"number\">-1</span> <span class=\"keyword\">and</span> j == C<span class=\"number\">-1</span>:</span><br><span class=\"line\">                dp[i][j] = max(<span class=\"number\">1</span>, <span class=\"number\">1</span> - dungeon[i][j])</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> i == R<span class=\"number\">-1</span>:</span><br><span class=\"line\">                dp[i][j] = max(<span class=\"number\">1</span>, dp[i][j+<span class=\"number\">1</span>] - dungeon[i][j])</span><br><span class=\"line\">            <span class=\"keyword\">elif</span> j == C<span class=\"number\">-1</span>:</span><br><span class=\"line\">                dp[i][j] = max(<span class=\"number\">1</span>, dp[i+<span class=\"number\">1</span>][j] - dungeon[i][j])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                dp[i][j] = max(<span class=\"number\">1</span>, min(dp[i+<span class=\"number\">1</span>][j], dp[i][j+<span class=\"number\">1</span>]) - dungeon[i][j])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"96-Unique-Binary-Search-Trees\"><a href=\"#96-Unique-Binary-Search-Trees\" class=\"headerlink\" title=\"96. Unique Binary Search Trees\"></a>96. Unique Binary Search Trees</h3><h4 id=\"ä¸é‡å¤çš„äºŒå‰æœç´¢æ ‘ï¼Œ1-nèŠ‚ç‚¹ã€‚åŸé¢˜\"><a href=\"#ä¸é‡å¤çš„äºŒå‰æœç´¢æ ‘ï¼Œ1-nèŠ‚ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸é‡å¤çš„äºŒå‰æœç´¢æ ‘ï¼Œ1~nèŠ‚ç‚¹ã€‚åŸé¢˜\"></a>ä¸é‡å¤çš„äºŒå‰æœç´¢æ ‘ï¼Œ1~nèŠ‚ç‚¹ã€‚<a href=\"https://leetcode.com/problems/unique-binary-search-trees/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 3</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Given n &#x3D; 3, there are a total of 5 unique BST&#39;s:</span><br><span class=\"line\"></span><br><span class=\"line\">   1         3     3      2      1</span><br><span class=\"line\">    \\       &#x2F;     &#x2F;      &#x2F; \\      \\</span><br><span class=\"line\">     3     2     1      1   3      2</span><br><span class=\"line\">    &#x2F;     &#x2F;       \\                 \\</span><br><span class=\"line\">   2     1         2                 3</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜çœ‹äº†ç­”æ¡ˆï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¼è¿™æ ·çš„G(n)è¡¨ç¤ºnä¸ªèŠ‚ç‚¹èƒ½ç»„æˆçš„äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹ä¸ªæ•°ã€‚F(i, n)è¡¨ç¤ºæœ‰nä¸ªèŠ‚ç‚¹æ—¶ï¼Œä»¥iä¸ºrootçš„ä¸ªæ•°ã€‚<code>G(n) = F(1, n) + F(2, n) + ... + F(n, n).</code> <code>F(3, 7)=G(2)*G(4)</code>å³<code>F(i, n) = G(i-1) * G(n-i)</code>, æ‰€ä»¥æœ€å<code>G(n) = G(0) * G(n-1) + G(1) * G(n-2) + â€¦ + G(n-1) * G(0)</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTrees</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    G = [<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    G[<span class=\"number\">0</span>] = G[<span class=\"number\">1</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, i+<span class=\"number\">1</span>):</span><br><span class=\"line\">            G[i] += G[j<span class=\"number\">-1</span>]*G[i-j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> G[n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"95-Unique-Binary-Search-Trees-II\"><a href=\"#95-Unique-Binary-Search-Trees-II\" class=\"headerlink\" title=\"95. Unique Binary Search Trees II\"></a>95. Unique Binary Search Trees II</h3><h4 id=\"è¿™é¢˜å’Œ96ä¸€æ ·ï¼Œè¦æ±‚å°†æ‰€æœ‰çš„æ ‘æ‰¾å‡ºæ¥ã€‚åŸé¢˜\"><a href=\"#è¿™é¢˜å’Œ96ä¸€æ ·ï¼Œè¦æ±‚å°†æ‰€æœ‰çš„æ ‘æ‰¾å‡ºæ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é¢˜å’Œ96ä¸€æ ·ï¼Œè¦æ±‚å°†æ‰€æœ‰çš„æ ‘æ‰¾å‡ºæ¥ã€‚åŸé¢˜\"></a>è¿™é¢˜å’Œ96ä¸€æ ·ï¼Œè¦æ±‚å°†æ‰€æœ‰çš„æ ‘æ‰¾å‡ºæ¥ã€‚<a href=\"https://leetcode.com/problems/unique-binary-search-trees-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç¬¬ä¸€æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateTrees</span><span class=\"params\">(self, n: int)</span> -&gt; List[TreeNode]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (lo, hi) <span class=\"keyword\">in</span> memo: <span class=\"keyword\">return</span> memo[(lo, hi)]</span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        <span class=\"keyword\">if</span> lo &gt; hi:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [<span class=\"literal\">None</span>]</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> lo == hi:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [TreeNode(lo)]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(lo, hi+<span class=\"number\">1</span>):</span><br><span class=\"line\">            root = TreeNode(i)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> left <span class=\"keyword\">in</span> build(lo, i<span class=\"number\">-1</span>):</span><br><span class=\"line\">                root.left = left</span><br><span class=\"line\">                <span class=\"keyword\">for</span> right <span class=\"keyword\">in</span> build(i+<span class=\"number\">1</span>, hi):</span><br><span class=\"line\">                    root.right = right</span><br><span class=\"line\">                    ans.append(copy.deepcopy(root))</span><br><span class=\"line\">        memo[(lo, hi)] = ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"number\">1</span>, n) <span class=\"keyword\">if</span> n&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ–¹æ³•äºŒï¼šçœ‹äº†stefançš„ç­”æ¡ˆï¼Œæ›´æ­£ä¸€ä¸‹è‡ªå·±çš„æ–¹æ³•ï¼Œlo-hiæ˜¯æ²¡å¿…è¦çš„ï¼Œä¹‹å‰å› ä¸ºå…ˆè€ƒè™‘è¿™ä¸ªå› ç´ ï¼Œæ²¡æœ‰åˆ æ‰ã€‚deepcopyå¯ä»¥å†™æˆåˆ«çš„å½¢å¼ï¼Œåœ¨å†…å¾ªç¯ç”ŸæˆrootèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯åœ¨å¤–å±‚ç”Ÿæˆä¸€ä¸ªå†å»æ‹·è´ã€‚è®°å¿†åŒ–æœç´¢ä¹Ÿæ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ç”¨æ—¶æ¯”åŸæ¥å¿«äº†3å€ã€‚\"><a href=\"#æ–¹æ³•äºŒï¼šçœ‹äº†stefançš„ç­”æ¡ˆï¼Œæ›´æ­£ä¸€ä¸‹è‡ªå·±çš„æ–¹æ³•ï¼Œlo-hiæ˜¯æ²¡å¿…è¦çš„ï¼Œä¹‹å‰å› ä¸ºå…ˆè€ƒè™‘è¿™ä¸ªå› ç´ ï¼Œæ²¡æœ‰åˆ æ‰ã€‚deepcopyå¯ä»¥å†™æˆåˆ«çš„å½¢å¼ï¼Œåœ¨å†…å¾ªç¯ç”ŸæˆrootèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯åœ¨å¤–å±‚ç”Ÿæˆä¸€ä¸ªå†å»æ‹·è´ã€‚è®°å¿†åŒ–æœç´¢ä¹Ÿæ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ç”¨æ—¶æ¯”åŸæ¥å¿«äº†3å€ã€‚\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šçœ‹äº†stefançš„ç­”æ¡ˆï¼Œæ›´æ­£ä¸€ä¸‹è‡ªå·±çš„æ–¹æ³•ï¼Œlo==hiæ˜¯æ²¡å¿…è¦çš„ï¼Œä¹‹å‰å› ä¸ºå…ˆè€ƒè™‘è¿™ä¸ªå› ç´ ï¼Œæ²¡æœ‰åˆ æ‰ã€‚deepcopyå¯ä»¥å†™æˆåˆ«çš„å½¢å¼ï¼Œåœ¨å†…å¾ªç¯ç”ŸæˆrootèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯åœ¨å¤–å±‚ç”Ÿæˆä¸€ä¸ªå†å»æ‹·è´ã€‚è®°å¿†åŒ–æœç´¢ä¹Ÿæ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ç”¨æ—¶æ¯”åŸæ¥å¿«äº†3å€ã€‚\"></a><font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šçœ‹äº†stefançš„ç­”æ¡ˆï¼Œæ›´æ­£ä¸€ä¸‹è‡ªå·±çš„æ–¹æ³•ï¼Œ<code>lo==hi</code>æ˜¯æ²¡å¿…è¦çš„ï¼Œä¹‹å‰å› ä¸ºå…ˆè€ƒè™‘è¿™ä¸ªå› ç´ ï¼Œæ²¡æœ‰åˆ æ‰ã€‚deepcopyå¯ä»¥å†™æˆåˆ«çš„å½¢å¼ï¼Œåœ¨å†…å¾ªç¯ç”ŸæˆrootèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯åœ¨å¤–å±‚ç”Ÿæˆä¸€ä¸ªå†å»æ‹·è´ã€‚è®°å¿†åŒ–æœç´¢ä¹Ÿæ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ç”¨æ—¶æ¯”åŸæ¥å¿«äº†3å€ã€‚</font></h3><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generateTrees</span><span class=\"params\">(self, n: int)</span> -&gt; List[TreeNode]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">build</span><span class=\"params\">(lo, hi)</span>:</span></span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(lo, hi+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> left <span class=\"keyword\">in</span> build(lo, i<span class=\"number\">-1</span>):</span><br><span class=\"line\">                <span class=\"keyword\">for</span> right <span class=\"keyword\">in</span> build(i+<span class=\"number\">1</span>, hi):</span><br><span class=\"line\">                    root = TreeNode(i)</span><br><span class=\"line\">                    root.left = left</span><br><span class=\"line\">                    root.right = right</span><br><span class=\"line\">                    ans.append(root)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans <span class=\"keyword\">or</span> [<span class=\"literal\">None</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> build(<span class=\"number\">1</span>, n) <span class=\"keyword\">if</span> n&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> []</span><br></pre></td></tr></table></figure>\n<h3 id=\"337-House-Robber-III\"><a href=\"#337-House-Robber-III\" class=\"headerlink\" title=\"337. House Robber III\"></a>337. House Robber III</h3><h4 id=\"æŠ¢åŠ«æˆ¿å­ï¼Œæˆ¿å­æ˜¯äºŒå‰æ ‘ç»“æ„ï¼Œä¸èƒ½æŠ¢ä¸¤ä¸ªæŒ¨ç€çš„èŠ‚ç‚¹ï¼Œé—®æœ€å¤šå¯ä»¥æŠ¢å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æŠ¢åŠ«æˆ¿å­ï¼Œæˆ¿å­æ˜¯äºŒå‰æ ‘ç»“æ„ï¼Œä¸èƒ½æŠ¢ä¸¤ä¸ªæŒ¨ç€çš„èŠ‚ç‚¹ï¼Œé—®æœ€å¤šå¯ä»¥æŠ¢å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŠ¢åŠ«æˆ¿å­ï¼Œæˆ¿å­æ˜¯äºŒå‰æ ‘ç»“æ„ï¼Œä¸èƒ½æŠ¢ä¸¤ä¸ªæŒ¨ç€çš„èŠ‚ç‚¹ï¼Œé—®æœ€å¤šå¯ä»¥æŠ¢å¤šå°‘ã€‚åŸé¢˜\"></a>æŠ¢åŠ«æˆ¿å­ï¼Œæˆ¿å­æ˜¯äºŒå‰æ ‘ç»“æ„ï¼Œä¸èƒ½æŠ¢ä¸¤ä¸ªæŒ¨ç€çš„èŠ‚ç‚¹ï¼Œé—®æœ€å¤šå¯ä»¥æŠ¢å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/house-robber-iii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šçœ‹äº†è®¨è®ºåŒºæ‰è§£å‡ºæ¥ã€‚å¯¹äºä¸€ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œåªæœ‰ä¸¤ç§caseï¼šæŠ¢ä¸ä¸æŠ¢ã€‚å°†è¿™ä¸ªæ¡ä»¶åˆ©ç”¨èµ·æ¥ä»£å…¥åˆ°é€’å½’åˆ¤æ–­ä¸­</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rob</span><span class=\"params\">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(node)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> node:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        left, right = dfs(node.left), dfs(node.right)</span><br><span class=\"line\">        not_rob = max(left) + max(right)</span><br><span class=\"line\">        robbed = node.val + left[<span class=\"number\">0</span>] + right[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> not_rob, robbed</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(dfs(root))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1504-Count-Submatrices-With-All-Ones\"><a href=\"#1504-Count-Submatrices-With-All-Ones\" class=\"headerlink\" title=\"1504. Count Submatrices With All Ones\"></a>1504. Count Submatrices With All Ones</h3><h4 id=\"æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªç”±1ç»„æˆçš„å­çŸ©é˜µã€‚åŸé¢˜\"><a href=\"#æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªç”±1ç»„æˆçš„å­çŸ©é˜µã€‚åŸé¢˜\" class=\"headerlink\" title=\"æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªç”±1ç»„æˆçš„å­çŸ©é˜µã€‚åŸé¢˜\"></a>æŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªç”±1ç»„æˆçš„å­çŸ©é˜µã€‚<a href=\"https://leetcode.com/problems/count-submatrices-with-all-ones/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: mat &#x3D; [[1,0,1],</span><br><span class=\"line\">              [1,1,0],</span><br><span class=\"line\">              [1,1,0]]</span><br><span class=\"line\">Output: 13</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">There are 6 rectangles of side 1x1.</span><br><span class=\"line\">There are 2 rectangles of side 1x2.</span><br><span class=\"line\">There are 3 rectangles of side 2x1.</span><br><span class=\"line\">There is 1 rectangle of side 2x2. </span><br><span class=\"line\">There is 1 rectangle of side 3x1.</span><br><span class=\"line\">Total number of rectangles &#x3D; 6 + 2 + 3 + 1 + 1 &#x3D; 13.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æœªåšå‡ºæ¥ï¼Œæœ‰é“ç±»ä¼¼çš„é¢˜æ˜¯æ±‚æ­£æ–¹å½¢çš„ï¼Œæ‰€ä»¥æ€è·¯è¢«é™åˆ¶äº†ï¼Œæ‰¾åˆ°ä¸€ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä½†æ˜¯case1è·‘ä¸è¿‡ï¼Œæœªæ³¨æ„å˜é‡çš„èŒƒå›´ï¼Œå…¶å®O(MMN)çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯å…è®¸çš„ã€‚ä»1Dæ‰©å±•çš„2Dï¼Œç„¶åhè¡¨ç¤ºå½“å‰åˆ—kçš„topåˆ°downæ˜¯å¦éƒ½æ˜¯1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numSubmat</span><span class=\"params\">(self, mat: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    R, C = len(mat), len(mat[<span class=\"number\">0</span>])</span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">   </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count_row</span><span class=\"params\">(a)</span>:</span></span><br><span class=\"line\">        ans = l = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> a:</span><br><span class=\"line\">            l = <span class=\"number\">0</span> <span class=\"keyword\">if</span> num==<span class=\"number\">0</span> <span class=\"keyword\">else</span> l+<span class=\"number\">1</span></span><br><span class=\"line\">            ans += l</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> top <span class=\"keyword\">in</span> range(R):</span><br><span class=\"line\">        h = [<span class=\"number\">1</span>] * C</span><br><span class=\"line\">        <span class=\"keyword\">for</span> bottom <span class=\"keyword\">in</span> range(top, R):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(C):</span><br><span class=\"line\">                h[k] &amp;= mat[bottom][k]</span><br><span class=\"line\">            ans += count_row(h)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1140-Stone-Game-II\"><a href=\"#1140-Stone-Game-II\" class=\"headerlink\" title=\"1140. Stone Game II\"></a>1140. Stone Game II</h3><h4 id=\"å’Œ1ä¸ä¸€æ ·ï¼Œè¿™å›çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡æ‹¿å‰m-lt-x-lt-2mä¸ªå †ï¼Œé—®æœ€åAlexå¯ä»¥æ‹¿å¤šå°‘æœ€å¤šã€‚åŸé¢˜\"><a href=\"#å’Œ1ä¸ä¸€æ ·ï¼Œè¿™å›çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡æ‹¿å‰m-lt-x-lt-2mä¸ªå †ï¼Œé—®æœ€åAlexå¯ä»¥æ‹¿å¤šå°‘æœ€å¤šã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œ1ä¸ä¸€æ ·ï¼Œè¿™å›çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡æ‹¿å‰m &lt;= x &lt;= 2mä¸ªå †ï¼Œé—®æœ€åAlexå¯ä»¥æ‹¿å¤šå°‘æœ€å¤šã€‚åŸé¢˜\"></a>å’Œ1ä¸ä¸€æ ·ï¼Œè¿™å›çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡æ‹¿å‰m &lt;= x &lt;= 2mä¸ªå †ï¼Œé—®æœ€åAlexå¯ä»¥æ‹¿å¤šå°‘æœ€å¤šã€‚<a href=\"https://leetcode.com/problems/stone-game-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [2,7,9,4,4]</span><br><span class=\"line\">Output: 10</span><br><span class=\"line\">Explanation:  If Alex takes one pile at the beginning, Lee takes two piles, then Alex takes 2 piles again. Alex can get 2 + 4 + 4 &#x3D; 10 piles in total. If Alex takes two piles at the beginning, then Lee can take all three piles left. In this case, Alex get 2 + 7 &#x3D; 9 piles in total. So we return 10 since it&#39;s larger.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ²¡åšå‡ºæ¥ï¼ŒLeeçš„ç­”æ¡ˆçœ‹äº†åŠå¤©ï¼Œé€€å‡ºæ¡ä»¶å¼€å§‹å¾ˆéš¾æƒ³å‡ºæ¥ã€‚å°±æ˜¯å¦‚æœèƒ½å¤Ÿå…¨æ‹¿ï¼Œå°±é€€å‡ºã€‚è½¬ç§»æ–¹ç¨‹å¼è¿™æ ·çš„ï¼ŒAå˜æˆäº†ä¸€ä¸ªä»åç´¯åŠ çš„æ•°ç»„ï¼Œå½“å‰çš„äººæ‹¿<code>i</code>~<code>i+x</code>å¦å¤–çš„äººå°±æ˜¯<code>dp[i+x, max(m, x)]</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGameII</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    N = len(A)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N - <span class=\"number\">2</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        A[i] += A[i + <span class=\"number\">1</span>]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> lru_cache</span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i, m)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i + <span class=\"number\">2</span> * m &gt;= N: <span class=\"keyword\">return</span> A[i]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> A[i] - min(dp(i + x, max(m, x)) <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, <span class=\"number\">2</span> * m + <span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(<span class=\"number\">0</span>, <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1510-Stone-Game-IV\"><a href=\"#1510-Stone-Game-IV\" class=\"headerlink\" title=\"1510. Stone Game IV\"></a><a href=\"https://leetcode.com/problems/stone-game-iv/\" target=\"_blank\" rel=\"noopener\">1510. Stone Game IV</a></h3><h4 id=\"è¿™æ¬¡æ˜¯æœ‰nå †çŸ³å¤´ï¼Œæ¯æ¬¡å¯ä»¥æ‹¿å¹³æ–¹æ•°å †ï¼Œå¦‚æœè°æ‹¿ä¸äº†äº†ï¼Œè°å°±è¾“äº†ã€‚\"><a href=\"#è¿™æ¬¡æ˜¯æœ‰nå †çŸ³å¤´ï¼Œæ¯æ¬¡å¯ä»¥æ‹¿å¹³æ–¹æ•°å †ï¼Œå¦‚æœè°æ‹¿ä¸äº†äº†ï¼Œè°å°±è¾“äº†ã€‚\" class=\"headerlink\" title=\"è¿™æ¬¡æ˜¯æœ‰nå †çŸ³å¤´ï¼Œæ¯æ¬¡å¯ä»¥æ‹¿å¹³æ–¹æ•°å †ï¼Œå¦‚æœè°æ‹¿ä¸äº†äº†ï¼Œè°å°±è¾“äº†ã€‚\"></a>è¿™æ¬¡æ˜¯æœ‰nå †çŸ³å¤´ï¼Œæ¯æ¬¡å¯ä»¥æ‹¿å¹³æ–¹æ•°å †ï¼Œå¦‚æœè°æ‹¿ä¸äº†äº†ï¼Œè°å°±è¾“äº†ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 7</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: Alice can&#39;t win the game if Bob plays optimally.</span><br><span class=\"line\">If Alice starts removing 4 stones, Bob will remove 1 stone then Alice should remove only 1 stone and finally Bob removes the last one (7 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; 0). </span><br><span class=\"line\">If Alice starts removing 1 stone, Bob will remove 4 stones then Alice only can remove 1 stone and finally Bob removes the last one (7 -&gt; 6 -&gt; 2 -&gt; 1 -&gt; 0).</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’+è®°å¿†åŒ–ï¼Œè¿™é‡Œæ³¨æ„è¦ä»å¤§åˆ°å°éå†ï¼Œå¼€å§‹å†™åäº†è¶…æ—¶äº†ä¸€æ¬¡ã€‚è¿™é‡Œå‘ç°<code>j*j</code>æ¯”<code>j**2</code>å¿«130msï¼Œä¸æ˜åŸå› ã€‚240msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">winnerSquareGame</span><span class=\"params\">(self, n: int)</span> -&gt; bool:</span></span><br><span class=\"line\"><span class=\"meta\">\t\t@lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> all(dp(i-j*j) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(int(sqrt(i)), <span class=\"number\">0</span>, <span class=\"number\">-1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(n)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚Leeçš„è¿­ä»£ç”¨äº†1000msï¼Œè¿™æ¬¡æ²¡æˆ‘å†™å¾—å¥½ã€‚æˆ‘ç¨å¾®æ”¹äº†ä¸€ä¸‹ï¼Œä½¿å®ƒé™åˆ°äº†700msï¼Œä¸è¿‡è¿˜æ˜¯å¾ˆæ…¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">winnerSquareGame</span><span class=\"params\">(self, n: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    dp = [<span class=\"literal\">False</span>] * (n + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n + <span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[i] = <span class=\"keyword\">not</span> all(dp[i - k * k] <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(int(sqrt(i)), <span class=\"number\">0</span>, <span class=\"number\">-1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1686-Stone-Game-VI\"><a href=\"#1686-Stone-Game-VI\" class=\"headerlink\" title=\"1686. Stone Game VI\"></a><a href=\"https://leetcode.com/problems/stone-game-vi/\" target=\"_blank\" rel=\"noopener\">1686. Stone Game VI</a></h3><h4 id=\"ä¸¤äººä»ä»»æ„ä½ç½®æ‹¿çŸ³å¤´ï¼Œæ¯ä¸ªçŸ³å¤´å¯¹äºä¸¤ä¸ªäººçš„ä»·å€¼ä¸ä¸€æ ·ã€‚ä¸¤äººéƒ½æŒ‰æœ€ä¼˜æ–¹å¼æ‹¿ï¼Œæœ€å1è¡¨ç¤ºAliceèµ¢ï¼Œ0è¡¨ç¤ºå¹³å±€ã€‚\"><a href=\"#ä¸¤äººä»ä»»æ„ä½ç½®æ‹¿çŸ³å¤´ï¼Œæ¯ä¸ªçŸ³å¤´å¯¹äºä¸¤ä¸ªäººçš„ä»·å€¼ä¸ä¸€æ ·ã€‚ä¸¤äººéƒ½æŒ‰æœ€ä¼˜æ–¹å¼æ‹¿ï¼Œæœ€å1è¡¨ç¤ºAliceèµ¢ï¼Œ0è¡¨ç¤ºå¹³å±€ã€‚\" class=\"headerlink\" title=\"ä¸¤äººä»ä»»æ„ä½ç½®æ‹¿çŸ³å¤´ï¼Œæ¯ä¸ªçŸ³å¤´å¯¹äºä¸¤ä¸ªäººçš„ä»·å€¼ä¸ä¸€æ ·ã€‚ä¸¤äººéƒ½æŒ‰æœ€ä¼˜æ–¹å¼æ‹¿ï¼Œæœ€å1è¡¨ç¤ºAliceèµ¢ï¼Œ0è¡¨ç¤ºå¹³å±€ã€‚\"></a>ä¸¤äººä»ä»»æ„ä½ç½®æ‹¿çŸ³å¤´ï¼Œæ¯ä¸ªçŸ³å¤´å¯¹äºä¸¤ä¸ªäººçš„ä»·å€¼ä¸ä¸€æ ·ã€‚ä¸¤äººéƒ½æŒ‰æœ€ä¼˜æ–¹å¼æ‹¿ï¼Œæœ€å1è¡¨ç¤ºAliceèµ¢ï¼Œ0è¡¨ç¤ºå¹³å±€ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: aliceValues &#x3D; [2,4,3], bobValues &#x3D; [1,6,7]</span><br><span class=\"line\">Output: -1</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Regardless of how Alice plays, Bob will be able to have more points than Alice.</span><br><span class=\"line\">For example, if Alice takes stone 1, Bob can take stone 2, and Alice takes stone 0, Alice will have 6 points to Bob&#39;s 7.</span><br><span class=\"line\">Bob wins.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æƒ³å‡ºæ¥äº†ï¼Œé‡Œé¢æœ‰ä¸ªè´ªå¿ƒçš„æ€æƒ³ï¼Œå¯¹äºä¸€ä¸ªçŸ³å¤´æ¥è¯´ï¼Œæ¯ä¸ªäººéƒ½ä¼˜å…ˆæ‹¿å¯¹äºä¸¤ä¸ªäººä»·å€¼éƒ½é«˜çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä»¥ç´¯åŠ ä¸ºæ¡ä»¶ä½œä¸ºæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGameVI</span><span class=\"params\">(self, aliceValues: List[int], bobValues: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    values = sorted(zip(aliceValues, bobValues), key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">0</span>]+x[<span class=\"number\">1</span>], reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    a = sum(v[<span class=\"number\">0</span>] <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> values[::<span class=\"number\">2</span>])</span><br><span class=\"line\">    b = sum(v[<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> values[<span class=\"number\">1</span>::<span class=\"number\">2</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">-1</span>)[(a&gt;b)-(a&lt;b)]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1524-Number-of-Sub-arrays-With-Odd-Sum\"><a href=\"#1524-Number-of-Sub-arrays-With-Odd-Sum\" class=\"headerlink\" title=\"1524. Number of Sub-arrays With Odd Sum\"></a>1524. Number of Sub-arrays With Odd Sum</h3><h4 id=\"æ±‚ä¸€ä¸ªæ•°ç»„çš„å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#æ±‚ä¸€ä¸ªæ•°ç»„çš„å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ä¸€ä¸ªæ•°ç»„çš„å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>æ±‚ä¸€ä¸ªæ•°ç»„çš„å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-sub-arrays-with-odd-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,3,5]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: All sub-arrays are [[1],[1,3],[1,3,5],[3],[3,5],[5]]</span><br><span class=\"line\">All sub-arrays sum are [1,4,9,3,8,5].</span><br><span class=\"line\">Odd sums are [1,9,3,5] so the answer is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ä½œä¸ºç«èµ›2é¢˜æ²¡åšä¸Šï¼Œå¯¼è‡´å‘¨èµ›æ’åé™äº†ä¸å°‘ã€‚oddè¡¨ç¤ºå‰iä¸ªæ•°åŒ…å«içš„å­æ•°ç»„å¥‡æ•°çš„ä¸ªæ•°ã€‚evenåˆ™æ˜¯å¶æ•°ä¸ªæ•°ã€‚é‚£ä¹ˆå½“i+1ä¸ºå¶æ•°æ—¶ï¼Œeven+1ï¼Œå¥‡æ•°ä¸å˜ï¼›å½“i+1ä¸ºå¥‡æ•°æ—¶ï¼Œeven=oddï¼Œeven=odd+1</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numOfSubarrays</span><span class=\"params\">(self, arr: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = odd = even = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> arr:</span><br><span class=\"line\">        even += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x % <span class=\"number\">2</span>:</span><br><span class=\"line\">            odd, even = even, odd</span><br><span class=\"line\">        ans = (ans + odd) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"139-Word-Break\"><a href=\"#139-Word-Break\" class=\"headerlink\" title=\"139. Word Break\"></a>139. Word Break</h3><h4 id=\"é—®sæ˜¯å¦èƒ½æ‹†æˆwordsé‡Œçš„å•è¯ï¼Œå•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\"><a href=\"#é—®sæ˜¯å¦èƒ½æ‹†æˆwordsé‡Œçš„å•è¯ï¼Œå•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é—®sæ˜¯å¦èƒ½æ‹†æˆwordsé‡Œçš„å•è¯ï¼Œå•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŸé¢˜\"></a>é—®sæ˜¯å¦èƒ½æ‹†æˆwordsé‡Œçš„å•è¯ï¼Œå•è¯å¯ä»¥é‡å¤ä½¿ç”¨ã€‚<a href=\"https://leetcode.com/problems/word-break/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;applepenapple&quot;, wordDict &#x3D; [&quot;apple&quot;, &quot;pen&quot;]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: Return true because &quot;applepenapple&quot; can be segmented as &quot;apple pen apple&quot;.</span><br><span class=\"line\">             Note that you are allowed to reuse a dictionary word.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿˜æ˜¯æƒ³ä¸åˆ°dpçš„è§£æ³•ã€‚æ­¤é¢˜éœ€è¦é€†å‘æ€ç»´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordBreak</span><span class=\"params\">(self, s: str, words: List[str])</span> -&gt; bool:</span></span><br><span class=\"line\">    dp = [<span class=\"literal\">True</span>] + [<span class=\"literal\">False</span>] * len(s)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[:i].endswith(w):</span><br><span class=\"line\">                dp[i] |= dp[i-len(w)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé€’å½’å€’æ˜¯æƒ³åˆ°äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordBreak</span><span class=\"params\">(self, s: str, wordDict: List[str])</span> -&gt; bool:</span></span><br><span class=\"line\">    word_set = set(wordDict)</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(w)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> w:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> word <span class=\"keyword\">in</span> word_set:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> w.startswith(word) <span class=\"keyword\">and</span> dfs(w[len(word):]):</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(s)</span><br></pre></td></tr></table></figure>\n<h3 id=\"140-Word-Break-II\"><a href=\"#140-Word-Break-II\" class=\"headerlink\" title=\"140. Word Break II\"></a>140. Word Break II</h3><h4 id=\"å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä¸è¿‡è¦æ±‚è¿”å›æ‰€æœ‰æ‹†åˆ†çš„ç»“æœã€‚åŸé¢˜\"><a href=\"#å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä¸è¿‡è¦æ±‚è¿”å›æ‰€æœ‰æ‹†åˆ†çš„ç»“æœã€‚åŸé¢˜\" class=\"headerlink\" title=\"å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä¸è¿‡è¦æ±‚è¿”å›æ‰€æœ‰æ‹†åˆ†çš„ç»“æœã€‚åŸé¢˜\"></a>å’Œä¸Šé¢˜ä¸€æ ·ï¼Œä¸è¿‡è¦æ±‚è¿”å›æ‰€æœ‰æ‹†åˆ†çš„ç»“æœã€‚<a href=\"https://leetcode.com/problems/word-break-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">s &#x3D; &quot;catsanddog&quot;</span><br><span class=\"line\">wordDict &#x3D; [&quot;cat&quot;, &quot;cats&quot;, &quot;and&quot;, &quot;sand&quot;, &quot;dog&quot;]</span><br><span class=\"line\">Output:</span><br><span class=\"line\">[</span><br><span class=\"line\">  &quot;cats and dog&quot;,</span><br><span class=\"line\">  &quot;cat sand dog&quot;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯æ³•ï¼Œè¿™é‡Œæœ‰ä¸ªcaseä¼šè¶…æ—¶ï¼Œæ‰€ä»¥åˆ¤æ–­äº†ä¸€ä¸‹sæ˜¯å¦æœ‰å•ç‹¬çš„å­—ç¬¦å‡ºç°ã€‚è¿™ä¸ªæ–¹æ³•ä¸å¤ªå¥½ï¼ŒLCçš„ä¾‹å­æœ‰ç‚¹å¼±ï¼Œæˆ‘å°†ç”¨ä¾‹ä¿®æ”¹ä¸º<code>&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;\n[&quot;a&quot;,&quot;aa&quot;,&quot;aaa&quot;,&quot;aaaa&quot;,&quot;aaaaa&quot;,&quot;aaaaaa&quot;,&quot;aaaaaaa&quot;,&quot;aaaaaaaa&quot;,&quot;aaaaaaaaa&quot;,&quot;aaaaaaaaaa&quot;]</code>è¶…å‡ºå†…å­˜é™åˆ¶äº†ã€‚å¥½å­ï¼Œæ–¹æ³•äºŒä¹Ÿæ²¡è¿‡äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordBreak</span><span class=\"params\">(self, s: str, words: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    words = set(words)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> set(s)-set(c <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> words <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> w):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> []</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span><span class=\"params\">(s, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s:</span><br><span class=\"line\">            ans.append(<span class=\"string\">' '</span>.join(p))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[:i] <span class=\"keyword\">in</span> words:</span><br><span class=\"line\">                backtrack(s[i:], p+[s[:i]])</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    backtrack(s, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè®°å¿†åŒ–æœç´¢ã€‚éœ€è¦ç”¨ç´¢å¼•ä½œkeyæ¥å®Œæˆã€‚ä¸èƒ½ç”¨sæ˜¯å› ä¸ºï¼Œså¯èƒ½æ˜¯å‰åæœ‰é‡å¤å€¼ã€‚ </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wordBreak</span><span class=\"params\">(self, s: str, words: List[str])</span> -&gt; List[str]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    words = set(words)</span><br><span class=\"line\">    memo = &#123;len(s): [<span class=\"string\">''</span>]&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sentences</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> memo:</span><br><span class=\"line\">            memo[i] = [s[i:j] + (tail <span class=\"keyword\">and</span> <span class=\"string\">' '</span> + tail)</span><br><span class=\"line\">                       <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>)</span><br><span class=\"line\">                       <span class=\"keyword\">if</span> s[i:j] <span class=\"keyword\">in</span> words</span><br><span class=\"line\">                       <span class=\"keyword\">for</span> tail <span class=\"keyword\">in</span> sentences(j)]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> memo[i]</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> sentences(<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1416-Restore-The-Array\"><a href=\"#1416-Restore-The-Array\" class=\"headerlink\" title=\"1416. Restore The Array\"></a>1416. Restore The Array</h3><h4 id=\"å­—ç¬¦ä¸²sæ˜¯æœ‰1-kä¸ªæ•°é0å¼€å¤´ç»„æˆçš„ï¼Œé—®æœ‰å¤šå°‘ç§ç»„æˆçš„æ–¹å¼ã€‚åŸé¢˜\"><a href=\"#å­—ç¬¦ä¸²sæ˜¯æœ‰1-kä¸ªæ•°é0å¼€å¤´ç»„æˆçš„ï¼Œé—®æœ‰å¤šå°‘ç§ç»„æˆçš„æ–¹å¼ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²sæ˜¯æœ‰1~kä¸ªæ•°é0å¼€å¤´ç»„æˆçš„ï¼Œé—®æœ‰å¤šå°‘ç§ç»„æˆçš„æ–¹å¼ã€‚åŸé¢˜\"></a>å­—ç¬¦ä¸²sæ˜¯æœ‰1~kä¸ªæ•°é0å¼€å¤´ç»„æˆçš„ï¼Œé—®æœ‰å¤šå°‘ç§ç»„æˆçš„æ–¹å¼ã€‚<a href=\"https://leetcode.com/problems/restore-the-array/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;1000&quot;, k &#x3D; 10000</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: The only possible array is [1000]</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s &#x3D; &quot;1000&quot;, k &#x3D; 10</span><br><span class=\"line\">Output: 0</span><br><span class=\"line\">Explanation: There cannot be an array that was printed this way and has all integer &gt;&#x3D; 1 and &lt;&#x3D; 10.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: s &#x3D; &quot;1317&quot;, k &#x3D; 2000</span><br><span class=\"line\">Output: 8</span><br><span class=\"line\">Explanation: Possible arrays are [1317],[131,7],[13,17],[1,317],[13,1,7],[1,31,7],[1,3,17],[1,3,1,7]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡acçš„æ–¹æ³•ã€‚ç¬¬10è¡Œå¦‚æœä¸å–ä½™ï¼Œæ—¶é—´æ…¢äº†ä¸€å€ï¼Œç©ºé—´å¤šäº†å¥½å‡ å€ã€‚è¿™ä¸ªæ€è·¯å’ŒWord Breakæœ‰ç‚¹åƒï¼Œdp[i]è¡¨ç¤ºs[:i]æ€»å…±çš„ç»„æˆæ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfArrays</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span> ** <span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (len(s) + <span class=\"number\">1</span>)</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        j = i<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> j&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> len(s[j:i])&lt;=len(str(k)) <span class=\"keyword\">and</span> int(s[j:i]) &lt;= k:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[j] != <span class=\"string\">'0'</span>:</span><br><span class=\"line\">                dp[i] += dp[j] % mod</span><br><span class=\"line\">            j -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>] % mod</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé’ˆå¯¹æ–¹æ³•ä¸€ä¼˜åŒ–ï¼Œwhileå¾ªç¯çœ‹ç€æœ‰ç‚¹ä¹±ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfArrays</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span> ** <span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    k_len = len(str(k))</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (len(s) + <span class=\"number\">1</span>)</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(s)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(max(<span class=\"number\">0</span>, i-k_len), i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[j] != <span class=\"string\">'0'</span> <span class=\"keyword\">and</span> int(s[j:i]) &lt;=k:</span><br><span class=\"line\">                dp[i] += dp[j] % mod</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>] % mod</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šç”¨dp[i]è¡¨ç¤º[i:]æ€»å…±çš„ç»„æˆæ•°é‡ï¼Œä»åå‘å‰è®¡ç®—ï¼Œè¿™æ ·æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå¯ä»¥ç”¨æ•°å€¼æ¥åˆ¤æ–­è€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚æ­¤æ–¹æ³•åœ¨æ—¶é—´ä¸Šæ¯”ä¸Šè¿°å¿«äº†ä¸€å€ã€‚ä¸ºæ­¤ä½œäº†å¾ˆå¤šå®éªŒï¼Œæ—¶é—´çš„æ¶ˆè€—æ­£æ˜¯åœ¨sçš„åå¤åˆ‡ç‰‡ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfArrays</span><span class=\"params\">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span> ** <span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    n = len(s)</span><br><span class=\"line\">    s = [*map(int, s)] + [math.inf]      </span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * n + [<span class=\"number\">1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        num = s[i]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, n+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">1</span> &lt;= num &lt;= k:</span><br><span class=\"line\">                dp[i] = (dp[i] + dp[j]) % mod</span><br><span class=\"line\">                num = <span class=\"number\">10</span> * num + s[j]</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1537-Get-the-Maximum-Score\"><a href=\"#1537-Get-the-Maximum-Score\" class=\"headerlink\" title=\"1537. Get the Maximum Score\"></a>1537. Get the Maximum Score</h3><h4 id=\"ä¸¤ä¸ªä¸é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œä»æŸä¸ªæ•°ç»„ä»å·¦å‘å³æ‰¾ä¸€æ¡è·¯å¾„ï¼Œä½¿å€¼æœ€å¤§ï¼Œå¦‚æœå’Œå¦ä¸€ä¸ªæ•°ç»„æœ‰é‡å¤çš„æ•°å­—åˆ™å¯ä»¥è·³åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸Šã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªä¸é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œä»æŸä¸ªæ•°ç»„ä»å·¦å‘å³æ‰¾ä¸€æ¡è·¯å¾„ï¼Œä½¿å€¼æœ€å¤§ï¼Œå¦‚æœå’Œå¦ä¸€ä¸ªæ•°ç»„æœ‰é‡å¤çš„æ•°å­—åˆ™å¯ä»¥è·³åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸Šã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªä¸é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œä»æŸä¸ªæ•°ç»„ä»å·¦å‘å³æ‰¾ä¸€æ¡è·¯å¾„ï¼Œä½¿å€¼æœ€å¤§ï¼Œå¦‚æœå’Œå¦ä¸€ä¸ªæ•°ç»„æœ‰é‡å¤çš„æ•°å­—åˆ™å¯ä»¥è·³åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸Šã€‚åŸé¢˜\"></a>ä¸¤ä¸ªä¸é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œä»æŸä¸ªæ•°ç»„ä»å·¦å‘å³æ‰¾ä¸€æ¡è·¯å¾„ï¼Œä½¿å€¼æœ€å¤§ï¼Œå¦‚æœå’Œå¦ä¸€ä¸ªæ•°ç»„æœ‰é‡å¤çš„æ•°å­—åˆ™å¯ä»¥è·³åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸Šã€‚<a href=\"https://leetcode.com/problems/get-the-maximum-score/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æ²¡æœ‰æ—¶é—´æƒ³ï¼Œä¸è¿‡åšèµ·æ¥æ¯”ç¬¬3é¢˜ç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSum</span><span class=\"params\">(self, nums1: List[int], nums2: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_cross</span><span class=\"params\">(arr1, arr2)</span>:</span></span><br><span class=\"line\">        a = [<span class=\"number\">0</span>]</span><br><span class=\"line\">        p = <span class=\"literal\">False</span></span><br><span class=\"line\">        s2 = set(arr2)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> arr1:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> p:</span><br><span class=\"line\">                a.append(a.pop()+n)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                a.append(n)</span><br><span class=\"line\">            p = n <span class=\"keyword\">in</span> s2</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a</span><br><span class=\"line\"></span><br><span class=\"line\">    a1, a2 = get_cross(nums1, nums2), get_cross(nums2, nums1)</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> itertools.zip_longest(a1, a2, fillvalue=<span class=\"number\">0</span>):</span><br><span class=\"line\">        ans = (ans + max(a, b)) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šå¿½ç•¥äº†ä¸€ä¸ªæ¡ä»¶ï¼Œä¸¤ä¸ªæ•°ç»„æ—¶æœ‰åºçš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆï¼ŒO(1)çš„ç©ºé—´æ¥å®ç°ã€‚by@lee215. </font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSum</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    i, j, n, m = <span class=\"number\">0</span>, <span class=\"number\">0</span>, len(A), len(B)</span><br><span class=\"line\">    a, b, mod = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&lt;n <span class=\"keyword\">or</span> j&lt;m:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i&lt;n <span class=\"keyword\">and</span> (j==m <span class=\"keyword\">or</span> A[i]&lt;B[j]):</span><br><span class=\"line\">            a += A[i]</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> j&lt;m <span class=\"keyword\">and</span> (i==n <span class=\"keyword\">or</span> A[i]&gt;B[j]):</span><br><span class=\"line\">            b += B[j]</span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            a = b = max(a, b) + A[i]</span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">            j += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(a, b) % mod</span><br></pre></td></tr></table></figure>\n<h3 id=\"1553-Minimum-Number-of-Days-to-Eat-N-Oranges\"><a href=\"#1553-Minimum-Number-of-Days-to-Eat-N-Oranges\" class=\"headerlink\" title=\"1553. Minimum Number of Days to Eat N Oranges\"></a>1553. Minimum Number of Days to Eat N Oranges</h3><h4 id=\"æ¯å¤©å¯ä»¥åƒä¸€ä¸ªæ©™å­ï¼›æˆ–è€…è¢«2æ•´é™¤æ—¶åƒä¸€åŠï¼›æˆ–è€…è¢«3æ•´é™¤æ—¶åƒ3åˆ†ä¹‹2ã€‚é—®æœ€å°‘å‡ å¤©å¯ä»¥åƒå®ŒåŸé¢˜\"><a href=\"#æ¯å¤©å¯ä»¥åƒä¸€ä¸ªæ©™å­ï¼›æˆ–è€…è¢«2æ•´é™¤æ—¶åƒä¸€åŠï¼›æˆ–è€…è¢«3æ•´é™¤æ—¶åƒ3åˆ†ä¹‹2ã€‚é—®æœ€å°‘å‡ å¤©å¯ä»¥åƒå®ŒåŸé¢˜\" class=\"headerlink\" title=\"æ¯å¤©å¯ä»¥åƒä¸€ä¸ªæ©™å­ï¼›æˆ–è€…è¢«2æ•´é™¤æ—¶åƒä¸€åŠï¼›æˆ–è€…è¢«3æ•´é™¤æ—¶åƒ3åˆ†ä¹‹2ã€‚é—®æœ€å°‘å‡ å¤©å¯ä»¥åƒå®ŒåŸé¢˜\"></a>æ¯å¤©å¯ä»¥åƒä¸€ä¸ªæ©™å­ï¼›æˆ–è€…è¢«2æ•´é™¤æ—¶åƒä¸€åŠï¼›æˆ–è€…è¢«3æ•´é™¤æ—¶åƒ3åˆ†ä¹‹2ã€‚é—®æœ€å°‘å‡ å¤©å¯ä»¥åƒå®Œ<a href=\"https://leetcode.com/problems/minimum-number-of-days-to-eat-n-oranges/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 10</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: You have 10 oranges.</span><br><span class=\"line\">Day 1: Eat 1 orange,  10 - 1 &#x3D; 9.  </span><br><span class=\"line\">Day 2: Eat 6 oranges, 9 - 2*(9&#x2F;3) &#x3D; 9 - 6 &#x3D; 3. (Since 9 is divisible by 3)</span><br><span class=\"line\">Day 3: Eat 2 oranges, 3 - 2*(3&#x2F;3) &#x3D; 3 - 2 &#x3D; 1. </span><br><span class=\"line\">Day 4: Eat the last orange  1 - 1  &#x3D; 0.</span><br><span class=\"line\">You need at least 4 days to eat the 10 oranges.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æœªåšå‡ºæ¥ï¼Œæƒ³åˆå§‹åŒ–ä¸€ä¸ª2*10**9çš„æ•°ç»„ï¼Œç»“æœå†…å­˜æº¢å‡ºã€‚è€Œä¸”å–ä½™ä¹Ÿæ²¡æƒ³å‡ºæ¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\"><span class=\"meta\">    @functools.lru_cache()</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDays</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &lt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span> + min(self.minDays(n//<span class=\"number\">2</span>)+n%<span class=\"number\">2</span>, self.minDays(n//<span class=\"number\">3</span>)+n%<span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šbfsï¼Œè¿™ä¸ªæ–¹æ³•å®Œå…¨æ²¡æœ‰æƒ³åˆ°ï¼Œå°±æ˜¯å°†3ç§åƒæ³•æ”¾åˆ°é˜Ÿåˆ—ä¸­å»ã€‚è¿™ç§æ—¶é—´æ•ˆç‡æ¯”æ–¹æ³•ä¸€ä½å¾ˆå¤šã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minDays</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    q = collections.deque([(n, <span class=\"number\">0</span>)]) </span><br><span class=\"line\">    seen = set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">        cur, step = q.popleft()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> step</span><br><span class=\"line\">        seen.add(cur)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur<span class=\"number\">-1</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen: q.append((cur<span class=\"number\">-1</span>, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur&amp;<span class=\"number\">1</span>==<span class=\"number\">0</span> <span class=\"keyword\">and</span> cur//<span class=\"number\">2</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:     </span><br><span class=\"line\">            q.append((cur//<span class=\"number\">2</span>, step+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur%<span class=\"number\">3</span>==<span class=\"number\">0</span> <span class=\"keyword\">and</span> cur//<span class=\"number\">3</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">            q.append((cur//<span class=\"number\">3</span>, step+<span class=\"number\">1</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"801-Minimum-Swaps-To-Make-Sequences-Increasing\"><a href=\"#801-Minimum-Swaps-To-Make-Sequences-Increasing\" class=\"headerlink\" title=\"801. Minimum Swaps To Make Sequences Increasing\"></a>801. Minimum Swaps To Make Sequences Increasing</h3><h4 id=\"æœ€å°‘å¤šå°‘æ¬¡å¯¹åº”ä½ç½®çš„äº¤æ¢å¯ä»¥ä½¿ä¸¤ä¸ªæ•°ç»„éƒ½ä¸¥æ ¼åœ°å•è°ƒé€’å¢ã€‚åŸé¢˜\"><a href=\"#æœ€å°‘å¤šå°‘æ¬¡å¯¹åº”ä½ç½®çš„äº¤æ¢å¯ä»¥ä½¿ä¸¤ä¸ªæ•°ç»„éƒ½ä¸¥æ ¼åœ°å•è°ƒé€’å¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°‘å¤šå°‘æ¬¡å¯¹åº”ä½ç½®çš„äº¤æ¢å¯ä»¥ä½¿ä¸¤ä¸ªæ•°ç»„éƒ½ä¸¥æ ¼åœ°å•è°ƒé€’å¢ã€‚åŸé¢˜\"></a>æœ€å°‘å¤šå°‘æ¬¡å¯¹åº”ä½ç½®çš„äº¤æ¢å¯ä»¥ä½¿ä¸¤ä¸ªæ•°ç»„éƒ½ä¸¥æ ¼åœ°å•è°ƒé€’å¢ã€‚<a href=\"https://leetcode.com/problems/minimum-swaps-to-make-sequences-increasing/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: A &#x3D; [1,3,5,4], B &#x3D; [1,2,3,7]</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Swap A[3] and B[3].  Then the sequences are:</span><br><span class=\"line\">A &#x3D; [1, 3, 5, 7] and B &#x3D; [1, 2, 3, 4]</span><br><span class=\"line\">which are both strictly increasing.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåœ¨æäº¤é”™ä¸€æ¬¡getæ–°caseååšäº†å‡ºæ¥ã€‚é¦–æ¬¡ACçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSwap</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    last_swap = last_not_swap = <span class=\"number\">0</span></span><br><span class=\"line\">    A = [float(<span class=\"string\">'-inf'</span>)] + A</span><br><span class=\"line\">    B = [float(<span class=\"string\">'-inf'</span>)] + B</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(A)):</span><br><span class=\"line\">        cur_swap = cur_not_swap = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; A[i<span class=\"number\">-1</span>] <span class=\"keyword\">and</span> B[i] &gt; B[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            cur_swap = last_swap + <span class=\"number\">1</span></span><br><span class=\"line\">            cur_not_swap = last_not_swap</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; B[i<span class=\"number\">-1</span>] <span class=\"keyword\">and</span> B[i] &gt; A[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            cur_swap = min(cur_swap, last_not_swap+<span class=\"number\">1</span>)</span><br><span class=\"line\">            cur_not_swap = min(cur_not_swap, last_swap)</span><br><span class=\"line\">        last_swap, last_not_swap = cur_swap, cur_not_swap</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(last_swap, last_not_swap)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šçœ‹äº†leeçš„ç­”æ¡ˆï¼Œæ”¹äº†ä¸€ä¸‹åˆå§‹åŒ–çš„å€¼ï¼Œè¡¥è´Ÿæ— ç©·æ˜¯æ²¡å¿…è¦çš„</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minSwap</span><span class=\"params\">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    last_swap, last_not_swap = <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(A)):</span><br><span class=\"line\">        cur_swap = cur_not_swap = len(A)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; A[i<span class=\"number\">-1</span>] <span class=\"keyword\">and</span> B[i] &gt; B[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            cur_swap = last_swap + <span class=\"number\">1</span></span><br><span class=\"line\">            cur_not_swap = last_not_swap</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i] &gt; B[i<span class=\"number\">-1</span>] <span class=\"keyword\">and</span> B[i] &gt; A[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            cur_swap = min(cur_swap, last_not_swap+<span class=\"number\">1</span>)</span><br><span class=\"line\">            cur_not_swap = min(cur_not_swap, last_swap)</span><br><span class=\"line\">        last_swap, last_not_swap = cur_swap, cur_not_swap</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(last_swap, last_not_swap)</span><br></pre></td></tr></table></figure>\n<h3 id=\"837-New-21-Game\"><a href=\"#837-New-21-Game\" class=\"headerlink\" title=\"837. New 21 Game\"></a>837. New 21 Game</h3><h4 id=\"æ–°çš„21ç‚¹æ¸¸æˆï¼Œæœ‰ä¸ªWé¢çš„éª°å­ï¼Œå°‘äºKçš„æ—¶å€™è¦ä¸€ç›´æ·éª°å­ï¼Œç›´åˆ°å’Œè¶…è¿‡Kï¼Œé—®æœ€åç»“æœå°äºç­‰äºNçš„æ¦‚ç‡ã€‚åŸé¢˜\"><a href=\"#æ–°çš„21ç‚¹æ¸¸æˆï¼Œæœ‰ä¸ªWé¢çš„éª°å­ï¼Œå°‘äºKçš„æ—¶å€™è¦ä¸€ç›´æ·éª°å­ï¼Œç›´åˆ°å’Œè¶…è¿‡Kï¼Œé—®æœ€åç»“æœå°äºç­‰äºNçš„æ¦‚ç‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ–°çš„21ç‚¹æ¸¸æˆï¼Œæœ‰ä¸ªWé¢çš„éª°å­ï¼Œå°‘äºKçš„æ—¶å€™è¦ä¸€ç›´æ·éª°å­ï¼Œç›´åˆ°å’Œè¶…è¿‡Kï¼Œé—®æœ€åç»“æœå°äºç­‰äºNçš„æ¦‚ç‡ã€‚åŸé¢˜\"></a>æ–°çš„21ç‚¹æ¸¸æˆï¼Œæœ‰ä¸ªWé¢çš„éª°å­ï¼Œå°‘äºKçš„æ—¶å€™è¦ä¸€ç›´æ·éª°å­ï¼Œç›´åˆ°å’Œè¶…è¿‡Kï¼Œé—®æœ€åç»“æœå°äºç­‰äºNçš„æ¦‚ç‡ã€‚<a href=\"https://leetcode.com/problems/new-21-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: N &#x3D; 6, K &#x3D; 1, W &#x3D; 10</span><br><span class=\"line\">Output: 0.60000</span><br><span class=\"line\">Explanation:  Alice gets a single card, then stops.</span><br><span class=\"line\">In 6 out of W &#x3D; 10 possibilities, she is at or below N &#x3D; 6 points.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: N &#x3D; 21, K &#x3D; 17, W &#x3D; 10</span><br><span class=\"line\">Output: 0.73278</span><br></pre></td></tr></table></figure>\n<font color=\"#FF0000\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šè¶…æ—¶ï¼Œè¿™é“é¢˜è®©æˆ‘è”æƒ³åˆ°å‰‘æŒ‡offerä¸­çš„éª°å­é¢˜ï¼Œä½†æ˜¯ä¸å¤ªä¸€æ ·ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å’Œé‚£ä¸ªæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯è¶…æ—¶äº†ã€‚æ­¤é¢˜çš„æ—¶é—´è¦æ±‚å¾ˆé«˜</strong>ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">new21Game</span><span class=\"params\">(self, N: int, K: int, W: int)</span> -&gt; float:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> K == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    last_p = collections.defaultdict(int)</span><br><span class=\"line\">    last_p[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        new_p = collections.defaultdict(int)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i+<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j &gt;= K:</span><br><span class=\"line\">                ans += sum(last_p[j-m] <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, W+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> j-m&lt;K) / W</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                new_p[j] = sum(last_p[j-m] <span class=\"keyword\">for</span> m <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, W+<span class=\"number\">1</span>) <span class=\"keyword\">if</span> j-m&lt;K) / W</span><br><span class=\"line\"></span><br><span class=\"line\">        last_p = new_p</span><br><span class=\"line\">        <span class=\"comment\"># print(i, last_p)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™æ˜¯Leeçš„ç­”æ¡ˆï¼Œè¿™é¢˜ä¹Ÿæ˜¯Leeè´¡çŒ®çš„ï¼Œæƒ³äº†åŠå¤©æ‰æƒ³æ˜ç™½ã€‚æƒ³é€šäº†åŸç†å°±ä¸éš¾ç†è§£ï¼Œæ–¹æ³•ä¸€å°±æ˜¯æ²¡è½¬è¿‡æ¥å¼¯ã€‚<code>p(K) = p(K-1) / W + p(K-2) / W + p(K-3) / W + ... p(K-W) / W</code> ï¼Œç„¶å<code>Wsum</code>å…¶å®å°±æ˜¯<code>p(K-1)+p(K-2)+...p(K-W)</code>ï¼Œæƒ³è±¡æˆä¸€ä¸ªWé•¿åº¦çš„æ»‘åŠ¨çª—å£ï¼Œç„¶å<code>i&lt;K</code>æ˜¯å› ä¸ºå¦‚æœiè¾¾åˆ°äº†Kï¼Œå°±å·²ç»æˆªæ­¢äº†ï¼Œæ‰€ä»¥æ¦‚ç‡ä¸å†ç´¯åŠ äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">new21Game</span><span class=\"params\">(self, N: int, K: int, W: int)</span> -&gt; float:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> fractions <span class=\"keyword\">import</span> Fraction</span><br><span class=\"line\">    <span class=\"keyword\">if</span> K == <span class=\"number\">0</span> <span class=\"keyword\">or</span> N &gt;= K + W: <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    dp = [<span class=\"number\">1.0</span>] + [<span class=\"number\">0.0</span>] * N</span><br><span class=\"line\">    Wsum = <span class=\"number\">1.0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N + <span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[i] = Wsum / W</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &lt; K: Wsum += dp[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i - W &gt;= <span class=\"number\">0</span>: Wsum -= dp[i - W]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp[K:])</span><br></pre></td></tr></table></figure>\n<h3 id=\"808-Soup-Servings\"><a href=\"#808-Soup-Servings\" class=\"headerlink\" title=\"808. Soup Servings\"></a>808. Soup Servings</h3><h4 id=\"æœ‰ä¸¤ç§æ±¤ï¼Œæœ‰å››ç§ä¸Šæ³•ï¼Œå¦‚æœä¸€ç§æ±¤ä¸å¤Ÿï¼Œé‚£éƒ½å…¨éƒ½ä¸Šäº†ã€‚é—®Aæ±¤å…ˆå–å®Œçš„æ¦‚ç‡åŠ ä¸Šä¸€èµ·å–å®Œçš„æ¦‚ç‡çš„ä¸€åŠï¼Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\"><a href=\"#æœ‰ä¸¤ç§æ±¤ï¼Œæœ‰å››ç§ä¸Šæ³•ï¼Œå¦‚æœä¸€ç§æ±¤ä¸å¤Ÿï¼Œé‚£éƒ½å…¨éƒ½ä¸Šäº†ã€‚é—®Aæ±¤å…ˆå–å®Œçš„æ¦‚ç‡åŠ ä¸Šä¸€èµ·å–å®Œçš„æ¦‚ç‡çš„ä¸€åŠï¼Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰ä¸¤ç§æ±¤ï¼Œæœ‰å››ç§ä¸Šæ³•ï¼Œå¦‚æœä¸€ç§æ±¤ä¸å¤Ÿï¼Œé‚£éƒ½å…¨éƒ½ä¸Šäº†ã€‚é—®Aæ±¤å…ˆå–å®Œçš„æ¦‚ç‡åŠ ä¸Šä¸€èµ·å–å®Œçš„æ¦‚ç‡çš„ä¸€åŠï¼Œå’Œæ˜¯å¤šå°‘ã€‚åŸé¢˜\"></a>æœ‰ä¸¤ç§æ±¤ï¼Œæœ‰å››ç§ä¸Šæ³•ï¼Œå¦‚æœä¸€ç§æ±¤ä¸å¤Ÿï¼Œé‚£éƒ½å…¨éƒ½ä¸Šäº†ã€‚é—®Aæ±¤å…ˆå–å®Œçš„æ¦‚ç‡åŠ ä¸Šä¸€èµ·å–å®Œçš„æ¦‚ç‡çš„ä¸€åŠï¼Œå’Œæ˜¯å¤šå°‘ã€‚<a href=\"https://leetcode.com/problems/soup-servings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: N &#x3D; 50</span><br><span class=\"line\">Output: 0.625</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">If we choose the first two operations, A will become empty first. For the third operation, A and B will become empty at the same time. For the fourth operation, B will become empty first. So the total probability of A becoming empty first plus half the probability that A and B become empty at the same time, is 0.25 * (1 + 1 + 0.5 + 0) &#x3D; 0.625.</span><br></pre></td></tr></table></figure>\n<font color=\"#FF0000\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šé€’å½’ï¼Œçˆ†æ ˆäº†ï¼Œå› ä¸ºNæœ€å¤§ä¸º10^9ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">soupServings</span><span class=\"params\">(self, N: int)</span> -&gt; float:</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">    @functools.lru_cache()</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_p</span><span class=\"params\">(a, b)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> a &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> b &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> b &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        a_0 = two_0 = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, <span class=\"number\">100</span>, <span class=\"number\">25</span>):</span><br><span class=\"line\">            p1, p2 = get_p(a<span class=\"number\">-100</span>+i, b-i)</span><br><span class=\"line\">            a_0 += p1 / <span class=\"number\">4</span></span><br><span class=\"line\">            two_0 += p2 / <span class=\"number\">4</span></span><br><span class=\"line\">        <span class=\"comment\"># print(a, b, a_0, ' - ', two_0)</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> a_0, two_0</span><br><span class=\"line\">    </span><br><span class=\"line\">    p1, p2 = get_p(N, N)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p1 + <span class=\"number\">0.5</span>*p2</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•ã€‚åŒæ—¶ä¸º0çš„æƒ…å†µï¼Œå¯ä»¥ç›´æ¥å°†æ¦‚ç‡å‡åŠï¼Œå› ä¸ºååºä¸ä¼šå†æ­¤æ¦‚ç‡ä¸Šå†åšè®¡ç®—ã€‚ä½†å°±è¿™æ ·çš„è¯è¿˜æ˜¯æ— æ³•è§£å†³çˆ†æ ˆçš„é—®é¢˜ã€‚ç„¶åå¯»æ‰¾è§„å¾‹ï¼ŒAæ±¤4ç§æƒ…å†µå¹³å‡ä¸‹æ¥ï¼Œæ¶ˆè€—åœ°æ¯”Bå¤šï¼Œé‚£ä¹ˆNè¶Šå¤§ï¼ŒBå…ˆå–å®Œçš„æ¦‚ç‡å°±è¶Šå°ï¼Œç»“æœå°±è¶Šå¤§ã€‚ç­”æ¡ˆåœ¨5ä½å°æ•°ç²¾åº¦å†…éƒ½ç®—æ­£ç¡®ï¼Œæ‰€ä»¥æ‰¾åˆ°ä¸€ä¸ªé˜ˆå€¼ï¼Œæ¦‚ç‡å˜ä¸º1ã€‚ç„¶åå¯¹äº25mlè¿™ä¸ªæ¡ä»¶ï¼Œå¯ä»¥å°†å…¶çœ‹ä½œä¸€å‹ºå•ä½ï¼Œè¿™æ ·è®¡ç®—èµ·æ¥æ¯”è¾ƒç®€å•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">soupServings</span><span class=\"params\">(self, N)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> N &gt; <span class=\"number\">4800</span>: <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(a, b)</span>:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (a, b) <span class=\"keyword\">in</span> self.memo: <span class=\"keyword\">return</span> self.memo[a, b]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> a &lt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> b &lt;= <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0.5</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> a &lt;= <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> b &lt;= <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            self.memo[(a, b)] = <span class=\"number\">0.25</span> * (f(a - <span class=\"number\">4</span>, b) + f(a - <span class=\"number\">3</span>, b - <span class=\"number\">1</span>) + f(a - <span class=\"number\">2</span>, b - <span class=\"number\">2</span>) + f(a - <span class=\"number\">1</span>, b - <span class=\"number\">3</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.memo[(a, b)]</span><br><span class=\"line\">        N = math.ceil(N / <span class=\"number\">25.0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f(N, N)</span><br></pre></td></tr></table></figure>\n<h3 id=\"983-Minimum-Cost-For-Tickets\"><a href=\"#983-Minimum-Cost-For-Tickets\" class=\"headerlink\" title=\"983. Minimum Cost For Tickets\"></a>983. Minimum Cost For Tickets</h3><h4 id=\"æœ€å°èŠ±è´¹çš„ç¥¨é’±ï¼Œæœ‰ä¸‰ç§é€šç¥¨ï¼Œåˆ†åˆ«èƒ½æ—…è¡Œ1ï¼Œ7ï¼Œ30å¤©ï¼Œå¯¹åº”ä¸‰ç§ä»·æ ¼ï¼Œè¦åœ¨ä¸€å¹´ä¸­çš„æ—…è¡Œæ—¥èŠ±è´¹æœ€å°‘ï¼Œéœ€è¦å¤šå°‘é’±ã€‚åŸé¢˜\"><a href=\"#æœ€å°èŠ±è´¹çš„ç¥¨é’±ï¼Œæœ‰ä¸‰ç§é€šç¥¨ï¼Œåˆ†åˆ«èƒ½æ—…è¡Œ1ï¼Œ7ï¼Œ30å¤©ï¼Œå¯¹åº”ä¸‰ç§ä»·æ ¼ï¼Œè¦åœ¨ä¸€å¹´ä¸­çš„æ—…è¡Œæ—¥èŠ±è´¹æœ€å°‘ï¼Œéœ€è¦å¤šå°‘é’±ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°èŠ±è´¹çš„ç¥¨é’±ï¼Œæœ‰ä¸‰ç§é€šç¥¨ï¼Œåˆ†åˆ«èƒ½æ—…è¡Œ1ï¼Œ7ï¼Œ30å¤©ï¼Œå¯¹åº”ä¸‰ç§ä»·æ ¼ï¼Œè¦åœ¨ä¸€å¹´ä¸­çš„æ—…è¡Œæ—¥èŠ±è´¹æœ€å°‘ï¼Œéœ€è¦å¤šå°‘é’±ã€‚åŸé¢˜\"></a>æœ€å°èŠ±è´¹çš„ç¥¨é’±ï¼Œæœ‰ä¸‰ç§é€šç¥¨ï¼Œåˆ†åˆ«èƒ½æ—…è¡Œ1ï¼Œ7ï¼Œ30å¤©ï¼Œå¯¹åº”ä¸‰ç§ä»·æ ¼ï¼Œè¦åœ¨ä¸€å¹´ä¸­çš„æ—…è¡Œæ—¥èŠ±è´¹æœ€å°‘ï¼Œéœ€è¦å¤šå°‘é’±ã€‚<a href=\"https://leetcode.com/problems/minimum-cost-for-tickets/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: days &#x3D; [1,4,6,7,8,20], costs &#x3D; [2,7,15]</span><br><span class=\"line\">Output: 11</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">For example, here is one way to buy passes that lets you travel your travel plan:</span><br><span class=\"line\">On day 1, you bought a 1-day pass for costs[0] &#x3D; $2, which covered day 1.</span><br><span class=\"line\">On day 3, you bought a 7-day pass for costs[1] &#x3D; $7, which covered days 3, 4, ..., 9.</span><br><span class=\"line\">On day 20, you bought a 1-day pass for costs[0] &#x3D; $2, which covered day 20.</span><br><span class=\"line\">In total you spent $11 and covered all the days of your travel.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæƒ³äº†ä¸€ä¼šå„¿å°±åšå‡ºæ¥äº†ï¼Œéœ€è¦æ³¨æ„å¦‚æœä¸æ˜¯æ—…è¡Œæ—¥ï¼Œè¦ç­‰äºå‰ä¸€å¤©çš„èŠ±è´¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mincostTickets</span><span class=\"params\">(self, days: List[int], costs: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] + [float(<span class=\"string\">'inf'</span>)] * days[<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, days[<span class=\"number\">-1</span>]+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> set(days):</span><br><span class=\"line\">            dp[i] = dp[i<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        dp[i] = min((dp[i-d] <span class=\"keyword\">if</span> i-d&gt;=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span>) + cost <span class=\"keyword\">for</span> d, cost <span class=\"keyword\">in</span> zip([<span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">30</span>], costs))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"473-Matchsticks-to-Square\"><a href=\"#473-Matchsticks-to-Square\" class=\"headerlink\" title=\"473. Matchsticks to Square\"></a>473. Matchsticks to Square</h3><h4 id=\"å°†é•¿åº¦åˆ—è¡¨çš„ç«æŸ´æ£æ‹¼æˆæ­£æ–¹å½¢ã€‚ä¸èƒ½æŠ˜æ–­æŸä¸ªç«æŸ´ï¼Œä½†å¯ä»¥è¿æ¥ã€‚åŸé¢˜\"><a href=\"#å°†é•¿åº¦åˆ—è¡¨çš„ç«æŸ´æ£æ‹¼æˆæ­£æ–¹å½¢ã€‚ä¸èƒ½æŠ˜æ–­æŸä¸ªç«æŸ´ï¼Œä½†å¯ä»¥è¿æ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†é•¿åº¦åˆ—è¡¨çš„ç«æŸ´æ£æ‹¼æˆæ­£æ–¹å½¢ã€‚ä¸èƒ½æŠ˜æ–­æŸä¸ªç«æŸ´ï¼Œä½†å¯ä»¥è¿æ¥ã€‚åŸé¢˜\"></a>å°†é•¿åº¦åˆ—è¡¨çš„ç«æŸ´æ£æ‹¼æˆæ­£æ–¹å½¢ã€‚ä¸èƒ½æŠ˜æ–­æŸä¸ªç«æŸ´ï¼Œä½†å¯ä»¥è¿æ¥ã€‚<a href=\"https://leetcode.com/problems/matchsticks-to-square/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,1,2,2,2]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: You can form a square with length 2, one side of the square came two sticks with length 1.</span><br><span class=\"line\"></span><br><span class=\"line\">Input: [3,3,3,3,4]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation: You cannot find a way to form a square with all the matchsticks.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdfs ï¼Œæ•ˆç‡ä¸æ˜¯å¾ˆé«˜ã€‚sortå¾ˆé‡è¦ï¼Œå¦‚æœä¼˜å…ˆæ‹¿çš„ä¸æ˜¯æœ€å¤§çš„ï¼Œé‚£ä¹ˆå°†ä¼šè¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">makesquare</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(nums)&lt;<span class=\"number\">4</span> <span class=\"keyword\">or</span> sum(nums) % <span class=\"number\">4</span>: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    target = sum(nums) // <span class=\"number\">4</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> max(nums) &gt; target: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(edges)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># if all(d==target for d in edges): return True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> nums: <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        cur = nums.pop()</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">4</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> edges[i] + cur &lt;= target:</span><br><span class=\"line\">                edges[i] += cur</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dfs(edges): <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">                edges[i] -= cur</span><br><span class=\"line\">        nums.append(cur)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs([<span class=\"number\">0</span>]*<span class=\"number\">4</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šbitmask+ dpã€‚è¿™ä¸ªæ–¹æ³•ç ”ç©¶äº†å¾ˆé•¿æ—¶é—´ï¼Œå¿½ç•¥äº†<code>A[bit]&gt;cur</code>ä¸‹çš„breakï¼Œè®©æˆ‘å¯¹è¾“å‡ºç–‘æƒ‘äº†å¾ˆä¹…ï¼Œmaskæ˜¯ä¸€ä¸ªNé•¿åº¦çš„éƒ½æ˜¯1çš„äºŒè¿›åˆ¶æ•°ï¼Œæ¯æ¬¡ä»å³åˆ°å·¦æ•°ç¬¬[i]ä½è®¾ä¸º0 è¡¨ç¤ºA[i]å·²ç»ä½¿ç”¨äº†ï¼Œcurè¡¨ç¤ºå½“å‰è¾¹å‰©ä¸‹çš„é•¿åº¦ï¼Œå¦‚æœä¸º0ï¼Œè¡¨ç¤ºä¸€ä¸ªè¾¹å·²ç»å‡†å¤‡å¥½ï¼Œé‡æ–°å†è®¾ä¸ºTã€‚åŸç­”æ¡ˆç”¨çš„Aæ’åºæ˜¯æ­£åºï¼Œæˆ‘æ”¹æˆäº†å€’åºï¼Œåˆå¿«äº†ä¸€å€ï¼Œä½†æ˜¯æ„Ÿè§‰è¿™ä¸ªè·Ÿcasesæ˜¯å¯†åˆ‡ç›¸å…³çš„ï¼Œè¿™ä¸ªæ–¹æ³•éå¸¸å¿«ï¼Œæœ€å¿«ä»…ç”¨40msã€‚æ¯”æ–¹æ³•ä¸€å¿«å¾—å¤šã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">makesquare</span><span class=\"params\">(self, A: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(A) &lt; <span class=\"number\">4</span> <span class=\"keyword\">or</span> sum(A) % <span class=\"number\">4</span> <span class=\"keyword\">or</span> max(A) &gt; sum(A) / <span class=\"number\">4</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    T = sum(A) // <span class=\"number\">4</span></span><br><span class=\"line\">    N = len(A)</span><br><span class=\"line\">    A.sort(reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(mask, cur = T)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(format(mask, 'b').rjust(N, '0'), cur)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mask, cur) <span class=\"keyword\">in</span> memo:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> memo[mask, cur]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> mask == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> cur == <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> cur == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> dp(mask, T)</span><br><span class=\"line\"></span><br><span class=\"line\">        ans = <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> bit <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> mask &amp; (<span class=\"number\">1</span> &lt;&lt; bit):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> A[bit] &gt; cur:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                <span class=\"comment\"># print('\\t', format(mask, 'b').rjust(N, '0'), cur, bit)</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> dp(mask ^ (<span class=\"number\">1</span> &lt;&lt; bit), cur - A[bit]):</span><br><span class=\"line\">                    ans = <span class=\"literal\">True</span></span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">        memo[mask, cur] = ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = dp(<span class=\"number\">2</span>**N - <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"799-Champagne-Tower\"><a href=\"#799-Champagne-Tower\" class=\"headerlink\" title=\"799. Champagne Tower\"></a>799. Champagne Tower</h3><h4 id=\"è¿™é¢˜è›®æœ‰æ„æ€ï¼Œè¯´ä¸€ä¸ªé¦™æ§Ÿå¡”ï¼Œä»å¡”å°–å€’é…’ï¼Œå€’æŒ‡å®šæ¯æ•°çš„é…’ï¼Œç„¶åé—®ç¬¬å‡ è¡Œç¬¬å‡ ä¸ªæ¯å­æ˜¯æœ‰å¤šå°‘é…’ã€‚åŸé¢˜\"><a href=\"#è¿™é¢˜è›®æœ‰æ„æ€ï¼Œè¯´ä¸€ä¸ªé¦™æ§Ÿå¡”ï¼Œä»å¡”å°–å€’é…’ï¼Œå€’æŒ‡å®šæ¯æ•°çš„é…’ï¼Œç„¶åé—®ç¬¬å‡ è¡Œç¬¬å‡ ä¸ªæ¯å­æ˜¯æœ‰å¤šå°‘é…’ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é¢˜è›®æœ‰æ„æ€ï¼Œè¯´ä¸€ä¸ªé¦™æ§Ÿå¡”ï¼Œä»å¡”å°–å€’é…’ï¼Œå€’æŒ‡å®šæ¯æ•°çš„é…’ï¼Œç„¶åé—®ç¬¬å‡ è¡Œç¬¬å‡ ä¸ªæ¯å­æ˜¯æœ‰å¤šå°‘é…’ã€‚åŸé¢˜ \"></a>è¿™é¢˜è›®æœ‰æ„æ€ï¼Œè¯´ä¸€ä¸ªé¦™æ§Ÿå¡”ï¼Œä»å¡”å°–å€’é…’ï¼Œå€’æŒ‡å®šæ¯æ•°çš„é…’ï¼Œç„¶åé—®ç¬¬å‡ è¡Œç¬¬å‡ ä¸ªæ¯å­æ˜¯æœ‰å¤šå°‘é…’ã€‚<a href=\"https://leetcode.com/problems/champagne-tower/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜ </a></h4><p>æ–¹æ³•ä¸€ï¼šæƒ³è±¡æ¯è¡Œå‰åå¤šä¸¤ä¸ªç©ºæ¯ï¼Œæ–¹ä¾¿è®¡ç®—ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">champagneTower</span><span class=\"params\">(self, poured: int, query_row: int, query_glass: int)</span> -&gt; float:</span></span><br><span class=\"line\">    row = [poured]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, query_row+<span class=\"number\">1</span>):</span><br><span class=\"line\">        tmp_row = [<span class=\"number\">0</span>] + row + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        a, b = itertools.tee(iter(tmp_row))</span><br><span class=\"line\">        next(b, <span class=\"literal\">None</span>)</span><br><span class=\"line\">        row = [max((l<span class=\"number\">-1</span>)*<span class=\"number\">0.5</span>, <span class=\"number\">0</span>) + max((r<span class=\"number\">-1</span>)*<span class=\"number\">0.5</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">               <span class=\"keyword\">for</span> l, r <span class=\"keyword\">in</span> zip(a, b)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(row[query_glass], <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLeeçš„æ–¹æ³•å’Œæˆ‘çš„å·®ä¸å¤šï¼Œä½†æ˜¯ç©ºé—´ä¸Šæ¯”è¾ƒå°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">champagneTower</span><span class=\"params\">(self, poured: int, query_row: int, query_glass: int)</span> -&gt; float:</span></span><br><span class=\"line\">    res = [poured] + [<span class=\"number\">0</span>] * query_row</span><br><span class=\"line\">    <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, query_row + <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(row, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">            res[i] = max(res[i] - <span class=\"number\">1</span>, <span class=\"number\">0</span>) / <span class=\"number\">2.0</span> + max(res[i - <span class=\"number\">1</span>] - <span class=\"number\">1</span>, <span class=\"number\">0</span>) / <span class=\"number\">2.0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> min(res[query_glass], <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"486-Predict-the-Winner\"><a href=\"#486-Predict-the-Winner\" class=\"headerlink\" title=\"486. Predict the Winner\"></a>486. Predict the Winner</h3><h4 id=\"ä¸¤ä¸ªé€‰æ‰‹æ¯æ¬¡ä»ä¸€å †çƒçš„ä¸¤è¾¹æ‹¿ï¼Œæ¯äººéƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®æœ€åAæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªé€‰æ‰‹æ¯æ¬¡ä»ä¸€å †çƒçš„ä¸¤è¾¹æ‹¿ï¼Œæ¯äººéƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®æœ€åAæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªé€‰æ‰‹æ¯æ¬¡ä»ä¸€å †çƒçš„ä¸¤è¾¹æ‹¿ï¼Œæ¯äººéƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®æœ€åAæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªé€‰æ‰‹æ¯æ¬¡ä»ä¸€å †çƒçš„ä¸¤è¾¹æ‹¿ï¼Œæ¯äººéƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®æœ€åAæ˜¯å¦èƒ½èµ¢ã€‚<a href=\"https://leetcode.com/problems/predict-the-winner/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1, 5, 2]</span><br><span class=\"line\">Output: False</span><br><span class=\"line\">Explanation: Initially, player 1 can choose between 1 and 2. </span><br><span class=\"line\">If he chooses 2 (or 1), then player 2 can choose from 1 (or 2) and 5. If player 2 chooses 5, then player 1 will be left with 1 (or 2). </span><br><span class=\"line\">So, final score of player 1 is 1 + 2 &#x3D; 3, and player 2 is 5. </span><br><span class=\"line\">Hence, player 1 will never be the winner and you need to return False.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸»è¦æ‰¾åˆ°å…¬å¼ã€‚é€’å½’ã€‚<code>dp[i][j]</code>è¡¨ç¤ºä»i~jæœ€å¤§èƒ½èµ¢å¤šå°‘åˆ†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">PredictTheWinner</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pick</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i, j) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> memo:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == j:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> nums[i]</span><br><span class=\"line\">            memo[(i, j)] = max(nums[i]-pick(i+<span class=\"number\">1</span>, j), nums[j]-pick(i, j<span class=\"number\">-1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> memo[(i, j)]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> pick(<span class=\"number\">0</span>, len(nums)<span class=\"number\">-1</span>) &gt;= <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£çš„æ–¹æ³•æ›´æ–°é¡ºåºä¸å¤ªå¥½æƒ³ï¼Œsè¡¨ç¤ºé•¿åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">PredictTheWinner</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">     dp = [[<span class=\"number\">0</span>] * len(nums) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(len(nums))]</span><br><span class=\"line\">     <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">         <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)-s):</span><br><span class=\"line\">             j = i + s</span><br><span class=\"line\">             <span class=\"keyword\">if</span> i == j:</span><br><span class=\"line\">                 dp[i][i] = nums[i]</span><br><span class=\"line\">             <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                 dp[i][j] = max(nums[j] - dp[i][j<span class=\"number\">-1</span>], nums[i] - dp[i+<span class=\"number\">1</span>][j])</span><br><span class=\"line\">     <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][<span class=\"number\">-1</span>] &gt;= <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"576-Out-of-Boundary-Paths\"><a href=\"#576-Out-of-Boundary-Paths\" class=\"headerlink\" title=\"576. Out of Boundary Paths\"></a>576. Out of Boundary Paths</h3><h4 id=\"å°†çƒè¸¢å‡ºè¾¹ç•Œçš„è·¯å¾„æ•°é‡ï¼Œæ­¥æ•°åœ¨Næ­¥ä¹‹å†…ã€‚åŸé¢˜\"><a href=\"#å°†çƒè¸¢å‡ºè¾¹ç•Œçš„è·¯å¾„æ•°é‡ï¼Œæ­¥æ•°åœ¨Næ­¥ä¹‹å†…ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†çƒè¸¢å‡ºè¾¹ç•Œçš„è·¯å¾„æ•°é‡ï¼Œæ­¥æ•°åœ¨Næ­¥ä¹‹å†…ã€‚åŸé¢˜\"></a>å°†çƒè¸¢å‡ºè¾¹ç•Œçš„è·¯å¾„æ•°é‡ï¼Œæ­¥æ•°åœ¨Næ­¥ä¹‹å†…ã€‚<a href=\"https://leetcode.com/problems/out-of-boundary-paths/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç›´è§‚çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findPaths</span><span class=\"params\">(self, m: int, n: int, N: int, i: int, j: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    g = [[<span class=\"number\">0</span>] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    g[i][j] = <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">        total = <span class=\"number\">0</span></span><br><span class=\"line\">        total += sum(g[<span class=\"number\">0</span>][j] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n))</span><br><span class=\"line\">        total += sum(g[m<span class=\"number\">-1</span>][j] <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n))</span><br><span class=\"line\">        total += sum(g[i][<span class=\"number\">0</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m))</span><br><span class=\"line\">        total += sum(g[i][n<span class=\"number\">-1</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total</span><br><span class=\"line\">    </span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">        ans = (ans + count()) % mod</span><br><span class=\"line\">        new_g = [[<span class=\"number\">0</span>] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                new_g[i][j] += g[i<span class=\"number\">-1</span>][j] <span class=\"keyword\">if</span> i <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">                new_g[i][j] += g[i+<span class=\"number\">1</span>][j] <span class=\"keyword\">if</span> i&lt;m<span class=\"number\">-1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">                new_g[i][j] += g[i][j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">                new_g[i][j] += g[i][j+<span class=\"number\">1</span>] <span class=\"keyword\">if</span> j&lt;n<span class=\"number\">-1</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        g = new_g</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä»è¾¹ç•Œåˆ°ç›®æ ‡ç‚¹ã€‚è¿™ä¸ªè¦è¿™æ ·æƒ³æ¯”å¦‚ä¾‹å­2ï¼Œä¸€æ­¥çš„æ—¶å€™æ˜¯<code>[3,2,3]</code>ï¼Œç¬¬äºŒæ­¥æ˜¯<code>[5,8,5]</code>ï¼Œç¬¬3æ­¥æ˜¯<code>[11,12,11]</code>ï¼Œå½“ä»2åŠ åˆ°3æ­¥æ—¶ï¼Œä¸¤è¾¹çš„ç‚¹1~2æ­¥çš„ç»“æœï¼ŒåŠ äº†ä¸€æ­¥ï¼Œå¯ä»¥ä»å››å‘¨åˆ°è¾¾è¿™ä¸ªèŠ‚ç‚¹ï¼Œä¸¤è¾¹+äº†ä¸€æ­¥å˜æˆ2~3æ­¥çš„ä¸ªæ•°ã€‚ç„¶åå†åŠ ä¸Šå’Œä¸‹è¾¹ç•Œ1æ­¥çš„ä¸ªæ•°</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findPaths</span><span class=\"params\">(self, m: int, n: int, N: int, i: int, j: int)</span> -&gt; int:</span></span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">    <span class=\"comment\"># deep copy of dp</span></span><br><span class=\"line\">        t = [s[:] <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> dp]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> y <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">                a = t[x<span class=\"number\">-1</span>][y] <span class=\"keyword\">if</span> x &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">1</span></span><br><span class=\"line\">                b = t[x+<span class=\"number\">1</span>][y] <span class=\"keyword\">if</span> x + <span class=\"number\">1</span> &lt; m <span class=\"keyword\">else</span> <span class=\"number\">1</span></span><br><span class=\"line\">                c = t[x][y<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> y &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">1</span></span><br><span class=\"line\">                d = t[x][y+<span class=\"number\">1</span>] <span class=\"keyword\">if</span> y + <span class=\"number\">1</span> &lt; n <span class=\"keyword\">else</span> <span class=\"number\">1</span></span><br><span class=\"line\">                dp[x][y] = a + b + c + d</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[i][j] % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"688-Knight-Probability-in-Chessboard\"><a href=\"#688-Knight-Probability-in-Chessboard\" class=\"headerlink\" title=\"688. Knight Probability in Chessboard\"></a>688. Knight Probability in Chessboard</h3><h4 id=\"ä¸­å›½è±¡æ£‹çš„é©¬ï¼Œåœ¨æ£‹ç›˜ä¸Šèµ°Kæ­¥ï¼Œé—®è¿˜åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚åŸé¢˜\"><a href=\"#ä¸­å›½è±¡æ£‹çš„é©¬ï¼Œåœ¨æ£‹ç›˜ä¸Šèµ°Kæ­¥ï¼Œé—®è¿˜åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸­å›½è±¡æ£‹çš„é©¬ï¼Œåœ¨æ£‹ç›˜ä¸Šèµ°Kæ­¥ï¼Œé—®è¿˜åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚åŸé¢˜\"></a>ä¸­å›½è±¡æ£‹çš„é©¬ï¼Œåœ¨æ£‹ç›˜ä¸Šèµ°Kæ­¥ï¼Œé—®è¿˜åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚<a href=\"https://leetcode.com/problems/knight-probability-in-chessboard/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå’Œ576ä¸€æ ·ã€‚åŒºåˆ«åœ¨äºåˆšå¥½Kæ­¥ï¼Œèµ°æ³•ä¸åŒã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">knightProbability</span><span class=\"params\">(self, N: int, K: int, r: int, c: int)</span> -&gt; float:</span></span><br><span class=\"line\">    directions = ((<span class=\"number\">-1</span>, <span class=\"number\">-2</span>), (<span class=\"number\">-2</span>, <span class=\"number\">-1</span>), (<span class=\"number\">-2</span>, <span class=\"number\">1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">2</span>),</span><br><span class=\"line\">                  (<span class=\"number\">1</span>, <span class=\"number\">-2</span>), (<span class=\"number\">2</span>, <span class=\"number\">-1</span>), (<span class=\"number\">2</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">2</span>))</span><br><span class=\"line\">    </span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">    dp[r][c] = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        new_dp = [[<span class=\"number\">0</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">                new_dp[i][j] = sum(dp[i+di][j+dj] <span class=\"keyword\">for</span> di, dj <span class=\"keyword\">in</span> directions</span><br><span class=\"line\">                                   <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i+di&lt;N <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j+dj&lt;N)</span><br><span class=\"line\">        dp = new_dp</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(sum(dp, [])) / (<span class=\"number\">8</span>**K)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šå°‘äº†æœ€åä¸€æ­¥æ±‚å’Œçš„è¿‡ç¨‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">knightProbability</span><span class=\"params\">(self, N: int, K: int, r: int, c: int)</span> -&gt; float:</span></span><br><span class=\"line\">    directions = ((<span class=\"number\">-1</span>, <span class=\"number\">-2</span>), (<span class=\"number\">-2</span>, <span class=\"number\">-1</span>), (<span class=\"number\">-2</span>, <span class=\"number\">1</span>), (<span class=\"number\">-1</span>, <span class=\"number\">2</span>),</span><br><span class=\"line\">                  (<span class=\"number\">1</span>, <span class=\"number\">-2</span>), (<span class=\"number\">2</span>, <span class=\"number\">-1</span>), (<span class=\"number\">2</span>, <span class=\"number\">1</span>), (<span class=\"number\">1</span>, <span class=\"number\">2</span>))</span><br><span class=\"line\">    </span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">    dp[r][c], out = <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(K):</span><br><span class=\"line\">        new_dp = [[<span class=\"number\">0</span>]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">                <span class=\"keyword\">for</span> di, dj <span class=\"keyword\">in</span> directions:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=i+di&lt;N <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=j+dj&lt;N:</span><br><span class=\"line\">                        new_dp[i+di][j+dj] += dp[i][j] / <span class=\"number\">8</span></span><br><span class=\"line\">                    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                        out += dp[i][j] / <span class=\"number\">8</span></span><br><span class=\"line\">        dp = new_dp</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span> - out</span><br></pre></td></tr></table></figure>\n<h3 id=\"132-Palindrome-Partitioning-II\"><a href=\"#132-Palindrome-Partitioning-II\" class=\"headerlink\" title=\"132. Palindrome Partitioning II\"></a>132. Palindrome Partitioning II</h3><h4 id=\"æœ€å°‘éœ€è¦å¤šå°‘æ¬¡åˆ†å‰²ï¼Œå¯ä»¥å°†såˆ‡æˆçš„æ¯æ®µéƒ½æ˜¯å›æ–‡ä¸²ã€‚åŸé¢˜\"><a href=\"#æœ€å°‘éœ€è¦å¤šå°‘æ¬¡åˆ†å‰²ï¼Œå¯ä»¥å°†såˆ‡æˆçš„æ¯æ®µéƒ½æ˜¯å›æ–‡ä¸²ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°‘éœ€è¦å¤šå°‘æ¬¡åˆ†å‰²ï¼Œå¯ä»¥å°†såˆ‡æˆçš„æ¯æ®µéƒ½æ˜¯å›æ–‡ä¸²ã€‚åŸé¢˜\"></a>æœ€å°‘éœ€è¦å¤šå°‘æ¬¡åˆ†å‰²ï¼Œå¯ä»¥å°†såˆ‡æˆçš„æ¯æ®µéƒ½æ˜¯å›æ–‡ä¸²ã€‚<a href=\"https://leetcode.com/problems/palindrome-partitioning-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;aab&quot;</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: The palindrome partitioning [&quot;aa&quot;,&quot;b&quot;] could be produced using 1 cut.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒæš´åŠ›çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minCut</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(s)</span><br><span class=\"line\">    cut = list(range(n))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> s[:i+<span class=\"number\">1</span>] == s[:i+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            cut[i] = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        cut[i] = min(cut[j]+<span class=\"number\">1</span> <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i) <span class=\"keyword\">if</span> s[j+<span class=\"number\">1</span>:i+<span class=\"number\">1</span>]==s[j+<span class=\"number\">1</span>:i+<span class=\"number\">1</span>][::<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> cut[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1043-Partition-Array-for-Maximum-Sum\"><a href=\"#1043-Partition-Array-for-Maximum-Sum\" class=\"headerlink\" title=\"1043. Partition Array for Maximum Sum\"></a>1043. Partition Array for Maximum Sum</h3><h4 id=\"å°†ä¸€ä¸ªæ•°ç»„åˆ‡åˆ†ï¼Œ-æ¯æ®µå¯ä»¥æŠŠæ‰€æœ‰çš„å€¼å˜æˆå½“å‰æ®µæœ€å¤§å€¼ã€‚æ¯æ®µæœ€é•¿ä¸èƒ½è¶…è¿‡kã€‚æ±‚åˆ‡åˆ†åæ‰€æœ‰æ•°çš„æœ€å¤§çš„å’Œã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªæ•°ç»„åˆ‡åˆ†ï¼Œ-æ¯æ®µå¯ä»¥æŠŠæ‰€æœ‰çš„å€¼å˜æˆå½“å‰æ®µæœ€å¤§å€¼ã€‚æ¯æ®µæœ€é•¿ä¸èƒ½è¶…è¿‡kã€‚æ±‚åˆ‡åˆ†åæ‰€æœ‰æ•°çš„æœ€å¤§çš„å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªæ•°ç»„åˆ‡åˆ†ï¼Œ æ¯æ®µå¯ä»¥æŠŠæ‰€æœ‰çš„å€¼å˜æˆå½“å‰æ®µæœ€å¤§å€¼ã€‚æ¯æ®µæœ€é•¿ä¸èƒ½è¶…è¿‡kã€‚æ±‚åˆ‡åˆ†åæ‰€æœ‰æ•°çš„æœ€å¤§çš„å’Œã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªæ•°ç»„åˆ‡åˆ†ï¼Œ æ¯æ®µå¯ä»¥æŠŠæ‰€æœ‰çš„å€¼å˜æˆå½“å‰æ®µæœ€å¤§å€¼ã€‚æ¯æ®µæœ€é•¿ä¸èƒ½è¶…è¿‡kã€‚æ±‚åˆ‡åˆ†åæ‰€æœ‰æ•°çš„æœ€å¤§çš„å’Œã€‚<a href=\"https://leetcode.com/problems/partition-array-for-maximum-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,15,7,9,2,5,10], k &#x3D; 3</span><br><span class=\"line\">Output: 84</span><br><span class=\"line\">Explanation: arr becomes [15,15,15,9,10,10,10]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç¨å¾®æƒ³ä¸€æƒ³å°±æƒ³åˆ°äº†dpã€‚è¿™ä¸ªACçš„æ–¹æ³•å°†è¿‘3säº†ã€‚ä¸è¿‡ä¹Ÿbeatsäº†20%ã€‚ç´¢å¼•é‚£é‡Œéœ€è¦æ³¨æ„æ˜¯ä»1å¼€å§‹çš„ï¼Œåˆ‡ç‰‡çš„æ—¶å€™å¾—å‡å»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumAfterPartitioning</span><span class=\"params\">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(A)</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A, <span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, K+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i-j &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                dp[i] = max(dp[i], dp[i-j] + max(A[i-j:i])*j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼˜åŒ–ä¸€ä¸‹ï¼Œ768ms, beats 50%äº†ã€‚æœ€å¤§å€¼å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½ç®—ï¼Œç´¢å¼•æ”¹ä»0å¼€å§‹äº†ï¼Œä»1å¼€å§‹æŸäº›åœ°æ–¹å¤ªè®©äººå›°æƒ‘ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumAfterPartitioning</span><span class=\"params\">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(A)</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        r = a</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, K+<span class=\"number\">1</span>):</span><br><span class=\"line\">            r = max(r, A[i-j+<span class=\"number\">1</span>] <span class=\"keyword\">if</span> i-j+<span class=\"number\">1</span>&gt;=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i-j+<span class=\"number\">1</span> &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                dp[i+<span class=\"number\">1</span>] = max(dp[i+<span class=\"number\">1</span>], dp[i-j+<span class=\"number\">1</span>] + r*j)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šLeeçš„æ–¹æ³•å’Œæˆ‘ä¸€æ ·ï¼Œåœ¨å¾ªç¯è¾¹ç•Œä¸Šæ›´åŠ æ•´æ´ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxSumAfterPartitioning</span><span class=\"params\">(self, A: List[int], K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(A)</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        r = a</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(i+<span class=\"number\">1</span>, K)+<span class=\"number\">1</span>):</span><br><span class=\"line\">            r = max(r, A[i-j+<span class=\"number\">1</span>])</span><br><span class=\"line\">            dp[i+<span class=\"number\">1</span>] = max(dp[i+<span class=\"number\">1</span>], dp[i-j+<span class=\"number\">1</span>] + r*j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"790-Domino-and-Tromino-Tiling\"><a href=\"#790-Domino-and-Tromino-Tiling\" class=\"headerlink\" title=\"790. Domino and Tromino Tiling\"></a>790. Domino and Tromino Tiling</h3><h4 id=\"åœ¨2-Nçš„å¹³å°ä¸Šæ‘†æ”¾ä¸¤ç§å¤šç±³è¯ºéª¨ç‰Œï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ‘†æ³•ã€‚åŸé¢˜\"><a href=\"#åœ¨2-Nçš„å¹³å°ä¸Šæ‘†æ”¾ä¸¤ç§å¤šç±³è¯ºéª¨ç‰Œï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ‘†æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨2*Nçš„å¹³å°ä¸Šæ‘†æ”¾ä¸¤ç§å¤šç±³è¯ºéª¨ç‰Œï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ‘†æ³•ã€‚åŸé¢˜\"></a>åœ¨2*Nçš„å¹³å°ä¸Šæ‘†æ”¾ä¸¤ç§å¤šç±³è¯ºéª¨ç‰Œï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ‘†æ³•ã€‚<a href=\"https://leetcode.com/problems/domino-and-tromino-tiling/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Example:</span><br><span class=\"line\">Input: 3</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The five different ways are listed below, different letters indicates different tiles:</span><br><span class=\"line\">XYZ XXZ XYY XXY XYY</span><br><span class=\"line\">XYZ YYZ XZZ XYY XXY</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜çœ‹äº†ç­”æ¡ˆï¼Œè‡ªå·±æ¨çš„çŠ¶æ€æ–¹ç¨‹ä¸å¤ªå¯¹ã€‚æ²¡è€ƒè™‘ç¬¬2ç§éª¨ç‰Œçš„å¤šç§æ‘†æ³•ã€‚å¼•ç”¨ä¸€å¼ é«˜ç¥¨çš„æ‰‹å†™æ¨å¯¼å›¾ã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/domino.png\" class>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">dp[n]&#x3D;dp[n-1]+dp[n-2]+ 2*(dp[n-3]+...+d[0])</span><br><span class=\"line\">&#x3D;dp[n-1]+dp[n-2]+dp[n-3]+dp[n-3]+2*(dp[n-4]+...+d[0])</span><br><span class=\"line\">&#x3D;dp[n-1]+dp[n-3]+(dp[n-2]+dp[n-3]+2*(dp[n-4]+...+d[0]))</span><br><span class=\"line\">&#x3D;dp[n-1]+dp[n-3]+dp[n-1]</span><br><span class=\"line\">&#x3D;2*dp[n-1]+dp[n-3]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numTilings</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">4</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp.append(<span class=\"number\">2</span>*dp[i<span class=\"number\">-1</span>] + dp[i<span class=\"number\">-3</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]%mod <span class=\"keyword\">if</span> N&gt;<span class=\"number\">3</span> <span class=\"keyword\">else</span> dp[N]</span><br></pre></td></tr></table></figure>\n<h3 id=\"329-Longest-Increasing-Path-in-a-Matrix\"><a href=\"#329-Longest-Increasing-Path-in-a-Matrix\" class=\"headerlink\" title=\"329. Longest Increasing Path in a Matrix\"></a>329. Longest Increasing Path in a Matrix</h3><h4 id=\"çŸ©é˜µä¸­æœ€é•¿çš„é€’å¢è·¯å¾„ã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µä¸­æœ€é•¿çš„é€’å¢è·¯å¾„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µä¸­æœ€é•¿çš„é€’å¢è·¯å¾„ã€‚åŸé¢˜\"></a>çŸ©é˜µä¸­æœ€é•¿çš„é€’å¢è·¯å¾„ã€‚<a href=\"https://leetcode.com/problems/longest-increasing-path-in-a-matrix/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; </span><br><span class=\"line\">[</span><br><span class=\"line\">  [9,9,4],</span><br><span class=\"line\">  [6,6,8],</span><br><span class=\"line\">  [2,1,1]</span><br><span class=\"line\">] </span><br><span class=\"line\">Output: 4 </span><br><span class=\"line\">Explanation: The longest increasing path is [1, 2, 6, 9].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå›æº¯+è®°å¿†åŒ–æœç´¢ã€‚è¿™é¢˜åšçš„æ—¶å€™çŠ¶æ€ä¸å¤ªå¥½ï¼Œå¯¼è‡´å¥½å‡ æ¬¡WAå’Œè¶…æ—¶ã€‚é¦–å…ˆè¦æ˜ç™½å‡ ç‚¹ã€‚å› ä¸ºæ˜¯é€’å¢ï¼Œä¸åŒ…å«é‡å¤çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦å¯¹å·²éå†çš„èŠ‚ç‚¹è¿›è¡Œé‡å¤åˆ¤æ–­ã€‚å¯¹äºæ¯ä¸ªç‚¹æ¥è¯´ï¼Œå®ƒæ‰€èƒ½å»¶é•¿åˆ°æœ€é•¿çš„è·¯å¾„æ˜¯ä¸€å®šçš„ã€‚æ‰€ä»¥å½“å¾—åˆ°è¿™ä¸ªå€¼ä¹‹åï¼Œåç»­å†åˆ°è¿™ä¸ªèŠ‚ç‚¹å°±æ— éœ€å†è®¡ç®—äº†ã€‚ä½¿ç”¨ä¸€ä¸ªå­—å…¸æ¥è®°å½•å®ƒçš„å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestIncreasingPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    seen = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">spread</span><span class=\"params\">(i, j, p)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i, j) <span class=\"keyword\">in</span> seen: <span class=\"keyword\">return</span> seen[(i, j)]</span><br><span class=\"line\">        p.append(g[i][j])</span><br><span class=\"line\">        </span><br><span class=\"line\">        nxt = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;n:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> g[x][y] &gt; p[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                    nxt = max(nxt, spread(x, y, p))</span><br><span class=\"line\">        ans = <span class=\"number\">1</span> + nxt</span><br><span class=\"line\">        seen[(i, j)] = ans</span><br><span class=\"line\">        p.pop()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">                    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            spread(i, j, [])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(seen.values())</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿™é¢˜å…ˆå…¥ä¸ºä¸»äº†ï¼ŒçŸ©é˜µä¸­çš„è·¯å¾„è€æƒ³ç€å›æº¯ã€‚å…¶å®dfså°±è¡Œäº†ï¼Œå‚æ•°pé™¤äº†æ¯”è¾ƒæ ¹æœ¬æ²¡ç”¨ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestIncreasingPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> g: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">    m, n = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> dp[i][j]:</span><br><span class=\"line\">            val, ans = g[i][j], <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> x, y <span class=\"keyword\">in</span> ((i+<span class=\"number\">1</span>, j), (i, j+<span class=\"number\">1</span>), (i<span class=\"number\">-1</span>, j), (i, j<span class=\"number\">-1</span>)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"number\">0</span>&lt;=x&lt;m <span class=\"keyword\">and</span> <span class=\"number\">0</span>&lt;=y&lt;n <span class=\"keyword\">and</span> val &lt; g[x][y]:</span><br><span class=\"line\">                    ans = max(ans, dfs(x, y))</span><br><span class=\"line\">            dp[i][j] = <span class=\"number\">1</span> + ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[i][j]</span><br><span class=\"line\">    </span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>] * n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(m)]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(dfs(i, j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n))</span><br></pre></td></tr></table></figure>\n<h3 id=\"638-Shopping-Offers\"><a href=\"#638-Shopping-Offers\" class=\"headerlink\" title=\"638. Shopping Offers\"></a>638. Shopping Offers</h3><h4 id=\"è¿™é¢˜å’Œ329å·®ä¸å¤šçš„æ–¹æ³•ã€‚è¯´å•†åº—æœ‰ä¸œè¥¿æ‰“æŠ˜ã€‚ä¸€äº›å•†å“æ‰“åŒ…æ‰“æŠ˜å–ã€‚ç»™å®šæ¯ç§ä¸œè¥¿çš„æ•°é‡ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘é’±ã€‚æœ€å¤šåªæœ‰6ä¸ªå•†å“ï¼Œæ¯æ ·ä¸è¶…è¿‡6ä¸ªã€‚ä½ ä¸èƒ½å¤šä¹°ï¼Œå³ä¾¿éœ€è¦çš„é’±æ›´å°‘ã€‚åŸé¢˜\"><a href=\"#è¿™é¢˜å’Œ329å·®ä¸å¤šçš„æ–¹æ³•ã€‚è¯´å•†åº—æœ‰ä¸œè¥¿æ‰“æŠ˜ã€‚ä¸€äº›å•†å“æ‰“åŒ…æ‰“æŠ˜å–ã€‚ç»™å®šæ¯ç§ä¸œè¥¿çš„æ•°é‡ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘é’±ã€‚æœ€å¤šåªæœ‰6ä¸ªå•†å“ï¼Œæ¯æ ·ä¸è¶…è¿‡6ä¸ªã€‚ä½ ä¸èƒ½å¤šä¹°ï¼Œå³ä¾¿éœ€è¦çš„é’±æ›´å°‘ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¿™é¢˜å’Œ329å·®ä¸å¤šçš„æ–¹æ³•ã€‚è¯´å•†åº—æœ‰ä¸œè¥¿æ‰“æŠ˜ã€‚ä¸€äº›å•†å“æ‰“åŒ…æ‰“æŠ˜å–ã€‚ç»™å®šæ¯ç§ä¸œè¥¿çš„æ•°é‡ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘é’±ã€‚æœ€å¤šåªæœ‰6ä¸ªå•†å“ï¼Œæ¯æ ·ä¸è¶…è¿‡6ä¸ªã€‚ä½ ä¸èƒ½å¤šä¹°ï¼Œå³ä¾¿éœ€è¦çš„é’±æ›´å°‘ã€‚åŸé¢˜\"></a>è¿™é¢˜å’Œ329å·®ä¸å¤šçš„æ–¹æ³•ã€‚è¯´å•†åº—æœ‰ä¸œè¥¿æ‰“æŠ˜ã€‚ä¸€äº›å•†å“æ‰“åŒ…æ‰“æŠ˜å–ã€‚ç»™å®šæ¯ç§ä¸œè¥¿çš„æ•°é‡ï¼Œé—®æœ€å°‘éœ€è¦å¤šå°‘é’±ã€‚æœ€å¤šåªæœ‰6ä¸ªå•†å“ï¼Œæ¯æ ·ä¸è¶…è¿‡6ä¸ªã€‚ä½ ä¸èƒ½å¤šä¹°ï¼Œå³ä¾¿éœ€è¦çš„é’±æ›´å°‘ã€‚<a href=\"https://leetcode.com/problems/shopping-offers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,5], [[3,0,5],[1,2,10]], [3,2]</span><br><span class=\"line\">Output: 14</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">There are two kinds of items, A and B. Their prices are $2 and $5 respectively. </span><br><span class=\"line\">In special offer 1, you can pay $5 for 3A and 0B</span><br><span class=\"line\">In special offer 2, you can pay $10 for 1A and 2B. </span><br><span class=\"line\">You need to buy 3A and 2B, so you may pay $10 for 1A and 2B (special offer #2), and $4 for 2A.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ€è·¯è¿˜ç®—æ¸…æ™°ï¼Œä½†æ˜¯è¿™é‡Œå› ä¸ºè‡ªä½œèªæ˜åŠ äº†ä¸¤è¡Œä»£ç ï¼Œå¯¼è‡´æœ€åä¸¥é‡è¶…æ—¶ã€‚æ–¹æ³•è¿˜æ˜¯dfs + è®°å¿†åŒ–ã€‚å› ä¸ºåŠ äº†æ³¨é‡Šä¸­çš„ä»£ç ï¼Œè¿™é‡ŒåŸæœ¬æƒ³çš„æ˜¯ï¼Œç´¢æ€§å°†åŸä»·å•†å“é¡µå½“åšæ‰“åŒ…å–ï¼Œåªä¸è¿‡ä»·æ ¼ä¸ä¸€æ ·è€Œå·²ã€‚ä½†æ˜¯è¿™æ ·ä¼šå¢åŠ dfsä¸­çš„mã€‚æœ€åå¯¼è‡´äº†è¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shoppingOffers</span><span class=\"params\">(self, price: List[int], special: List[List[int]], needs: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(price)</span><br><span class=\"line\">    <span class=\"comment\"># for i in range(n):</span></span><br><span class=\"line\">    <span class=\"comment\">#     special.append([int(i==j) for j in range(n)] + [price[i]])</span></span><br><span class=\"line\">    m = len(special)</span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(*needs)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> needs <span class=\"keyword\">in</span> memo: <span class=\"keyword\">return</span> memo[needs]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> all(need==<span class=\"number\">0</span> <span class=\"keyword\">for</span> need <span class=\"keyword\">in</span> needs):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        ans = sum(need*p <span class=\"keyword\">for</span> need, p <span class=\"keyword\">in</span> zip(needs, price))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">            left = [cn-a <span class=\"keyword\">for</span> cn, a <span class=\"keyword\">in</span> zip(needs, special[j][:<span class=\"number\">-1</span>])]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> all(l&gt;=<span class=\"number\">0</span> <span class=\"keyword\">for</span> l <span class=\"keyword\">in</span> left) <span class=\"keyword\">and</span> ans &gt; special[j][<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                ans = min(ans, special[j][<span class=\"number\">-1</span>] + dfs(*left))</span><br><span class=\"line\">        memo[needs] = ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(*needs)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¼˜åŒ–æ–¹æ³•ä¸€ï¼Œåˆ é™¤ä¸€äº›æ²¡ç”¨çš„å˜é‡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">shoppingOffers</span><span class=\"params\">(self, price: List[int], special: List[List[int]], needs: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    memo = &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(*needs)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> needs <span class=\"keyword\">in</span> memo: <span class=\"keyword\">return</span> memo[needs]</span><br><span class=\"line\">        ans = sum(need*p <span class=\"keyword\">for</span> need, p <span class=\"keyword\">in</span> zip(needs, price))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> spec <span class=\"keyword\">in</span> special:</span><br><span class=\"line\">            left = [cn-a <span class=\"keyword\">for</span> cn, a <span class=\"keyword\">in</span> zip(needs, spec[:<span class=\"number\">-1</span>])]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> min(left)&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> ans &gt; spec[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">                ans = min(ans, spec[<span class=\"number\">-1</span>] + dfs(*left))</span><br><span class=\"line\">        memo[needs] = ans</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(*needs)</span><br></pre></td></tr></table></figure>\n<h3 id=\"152-Maximum-Product-Subarray\"><a href=\"#152-Maximum-Product-Subarray\" class=\"headerlink\" title=\"152. Maximum Product Subarray\"></a>152. Maximum Product Subarray</h3><h4 id=\"æœ€å¤§çš„å­æ•°ç»„ä¹˜ç§¯ã€‚å’Œ1567é¢˜ç›®ç±»ä¼¼ï¼Œé‚£é¢˜æ˜¯æ±‚é•¿åº¦ï¼Œå¯ä»¥è´ªå¿ƒï¼Œè¿™é¢˜æ²¡æœ‰ã€‚åŸé¢˜\"><a href=\"#æœ€å¤§çš„å­æ•°ç»„ä¹˜ç§¯ã€‚å’Œ1567é¢˜ç›®ç±»ä¼¼ï¼Œé‚£é¢˜æ˜¯æ±‚é•¿åº¦ï¼Œå¯ä»¥è´ªå¿ƒï¼Œè¿™é¢˜æ²¡æœ‰ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å¤§çš„å­æ•°ç»„ä¹˜ç§¯ã€‚å’Œ1567é¢˜ç›®ç±»ä¼¼ï¼Œé‚£é¢˜æ˜¯æ±‚é•¿åº¦ï¼Œå¯ä»¥è´ªå¿ƒï¼Œè¿™é¢˜æ²¡æœ‰ã€‚åŸé¢˜\"></a>æœ€å¤§çš„å­æ•°ç»„ä¹˜ç§¯ã€‚å’Œ1567é¢˜ç›®ç±»ä¼¼ï¼Œé‚£é¢˜æ˜¯æ±‚é•¿åº¦ï¼Œå¯ä»¥è´ªå¿ƒï¼Œè¿™é¢˜æ²¡æœ‰ã€‚<a href=\"https://leetcode.com/problems/maximum-product-subarray/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [2,3,-2,4]</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: [2,3] has the largest product 6.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdpå†™æ³•å’Œ1567dpè§£æ³•ç›¸ä¼¼ã€‚<code>[-2]</code>çš„ä¾‹å­åªéœ€è¦åœ¨å‰é¢åˆ¤æ–­ä¸€ä¸‹é•¿åº¦æ˜¯å¦ä¸º1å³å¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans, n = float(<span class=\"string\">'-inf'</span>), len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> nums[<span class=\"number\">0</span>]</span><br><span class=\"line\">    pos, neg = [<span class=\"number\">0</span>]*n, [<span class=\"number\">0</span>]*n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> num &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            pos[i] = num * (pos[i<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> pos[i<span class=\"number\">-1</span>]!=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">1</span>)</span><br><span class=\"line\">            neg[i] = num * (neg[i<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> num &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            pos[i] = num * (neg[i<span class=\"number\">-1</span>])</span><br><span class=\"line\">            neg[i] = num * (pos[i<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> pos[i<span class=\"number\">-1</span>]!=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">1</span>)</span><br><span class=\"line\">        ans = max(ans, pos[i], neg[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæœ¬æ¥æ–¹æ³•ä¸€ä¹Ÿæ˜¯å’Œleeçš„1567è§£æ³•å†™çš„ã€‚å¯»æ€è¿™å›ä¸èƒ½å·®å¤ªå¤šå§ã€‚å•Šè¿™ã€‚ã€‚ä¸çŸ¥é“æ€ä¹ˆè¯æ˜ï¼Œä½†æ˜¯çœ‹ç€ç­”æ¡ˆå°±èƒ½æƒ³æ˜ç™½ï¼Œæœ€å¤§å€¼ä¸€å®šå­˜åœ¨äºè¿™ä¸¤ä¸ªæ•°ç»„ä¸­ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    B = A[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(A)):</span><br><span class=\"line\">        A[i] *= A[i - <span class=\"number\">1</span>] <span class=\"keyword\">or</span> <span class=\"number\">1</span></span><br><span class=\"line\">        B[i] *= B[i - <span class=\"number\">1</span>] <span class=\"keyword\">or</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(A + B)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ”¹äº†ä¸€ä¸ªç”Ÿæˆå™¨å†™æ³•ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProduct</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">count</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (x <span class=\"keyword\">or</span> <span class=\"number\">1</span>) * y</span><br><span class=\"line\">    A, B = itertools.accumulate(A, count), itertools.accumulate(A[::<span class=\"number\">-1</span>], count)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(itertools.chain(A, B))</span><br></pre></td></tr></table></figure>\n<h3 id=\"LCP-20-å¿«é€Ÿå…¬äº¤\"><a href=\"#LCP-20-å¿«é€Ÿå…¬äº¤\" class=\"headerlink\" title=\"LCP 20. å¿«é€Ÿå…¬äº¤\"></a><a href=\"https://leetcode-cn.com/problems/meChtZ/\" target=\"_blank\" rel=\"noopener\">LCP 20. å¿«é€Ÿå…¬äº¤</a></h3><h4 id=\"æœ‰è¿™ä¹ˆä¸ªç«™ç‚¹ï¼Œæ¯æ¬¡ä»ç«™ç‚¹ç½‘ä¸‹èµ°éœ€è¦incæ—¶é—´ï¼Œå¾€å›èµ°éœ€è¦decæ—¶é—´ï¼Œå¯ä»¥é€šè¿‡ä¹˜åiå…¬äº¤è½¦ä»ç§»åŠ¨åˆ°jum-i-xç«™ç‚¹ï¼Œè€—æ—¶ä¸ºcost-i-ï¼Œé—®åˆ°è¾¾targetç«™ç‚¹æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ã€‚\"><a href=\"#æœ‰è¿™ä¹ˆä¸ªç«™ç‚¹ï¼Œæ¯æ¬¡ä»ç«™ç‚¹ç½‘ä¸‹èµ°éœ€è¦incæ—¶é—´ï¼Œå¾€å›èµ°éœ€è¦decæ—¶é—´ï¼Œå¯ä»¥é€šè¿‡ä¹˜åiå…¬äº¤è½¦ä»ç§»åŠ¨åˆ°jum-i-xç«™ç‚¹ï¼Œè€—æ—¶ä¸ºcost-i-ï¼Œé—®åˆ°è¾¾targetç«™ç‚¹æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ã€‚\" class=\"headerlink\" title=\"æœ‰è¿™ä¹ˆä¸ªç«™ç‚¹ï¼Œæ¯æ¬¡ä»ç«™ç‚¹ç½‘ä¸‹èµ°éœ€è¦incæ—¶é—´ï¼Œå¾€å›èµ°éœ€è¦decæ—¶é—´ï¼Œå¯ä»¥é€šè¿‡ä¹˜åiå…¬äº¤è½¦ä»ç§»åŠ¨åˆ°jum[i]*xç«™ç‚¹ï¼Œè€—æ—¶ä¸ºcost[i]ï¼Œé—®åˆ°è¾¾targetç«™ç‚¹æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ã€‚\"></a>æœ‰è¿™ä¹ˆä¸ªç«™ç‚¹ï¼Œæ¯æ¬¡ä»ç«™ç‚¹ç½‘ä¸‹èµ°éœ€è¦incæ—¶é—´ï¼Œå¾€å›èµ°éœ€è¦decæ—¶é—´ï¼Œå¯ä»¥é€šè¿‡ä¹˜åiå…¬äº¤è½¦ä»ç§»åŠ¨åˆ°jum[i]*xç«™ç‚¹ï¼Œè€—æ—¶ä¸ºcost[i]ï¼Œé—®åˆ°è¾¾targetç«™ç‚¹æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼štarget &#x3D; 612, inc &#x3D; 4, dec &#x3D; 5, jump &#x3D; [3,6,8,11,5,10,4], cost &#x3D; [4,7,6,3,7,6,4]</span><br><span class=\"line\"></span><br><span class=\"line\">è¾“å‡ºï¼š26</span><br><span class=\"line\"></span><br><span class=\"line\">è§£é‡Šï¼š</span><br><span class=\"line\">å°æ‰£æ­¥è¡Œè‡³ 1 å·ç«™ç‚¹ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 4ï¼›</span><br><span class=\"line\">å°æ‰£ä» 1 å·ç«™å°æ­ä¹˜ 0 å·å…¬äº¤è‡³ 3 * 1 &#x3D; 3 ç«™å°ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 4ï¼›</span><br><span class=\"line\">å°æ‰£ä» 3 å·ç«™å°æ­ä¹˜ 3 å·å…¬äº¤è‡³ 11 * 3 &#x3D; 33 ç«™å°ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 3ï¼›</span><br><span class=\"line\">å°æ‰£ä» 33 å·ç«™å°æ­¥è¡Œè‡³ 34 ç«™å°ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 4ï¼›</span><br><span class=\"line\">å°æ‰£ä» 34 å·ç«™å°æ­ä¹˜ 0 å·å…¬äº¤è‡³ 3 * 34 &#x3D; 102 ç«™å°ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 4ï¼›</span><br><span class=\"line\">å°æ‰£ä» 102 å·ç«™å°æ­ä¹˜ 1 å·å…¬äº¤è‡³ 6 * 102 &#x3D; 612 ç«™å°ï¼ŒèŠ±è´¹æ—¶é—´ä¸º 7ï¼›</span><br><span class=\"line\">æœ€ç»ˆå°æ‰£èŠ±è´¹æ€»æ—¶é—´ä¸º 26ã€‚</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢äº†ã€‚æ¯èµ›æ—¶æ²¡åšå‡ºæ¥ã€‚ä¸å¥½æƒ³çš„åœ°æ–¹åœ¨12è¡Œï¼Œå¾€å›é€€çš„æ—¶å€™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">busRapidTransit</span><span class=\"params\">(self, target: int, inc: int, dec: int, jump: List[int], cost: List[int])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> inc</span><br><span class=\"line\">        ans = i * inc</span><br><span class=\"line\">        <span class=\"keyword\">for</span> bus, times <span class=\"keyword\">in</span> enumerate(jump):</span><br><span class=\"line\">            j, mod = divmod(i, times)</span><br><span class=\"line\">            ans = min(ans, mod*inc + cost[bus] + dp(j))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> mod:</span><br><span class=\"line\">                ans = min(ans, (times-mod)*dec + cost[bus] + dp(j+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(target) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"877-Stone-Game\"><a href=\"#877-Stone-Game\" class=\"headerlink\" title=\"877. Stone Game\"></a>877. Stone Game</h3><h4 id=\"çŸ³å¤´æ¸¸æˆï¼Œä¸€å…±æœ‰å¶æ•°å †ï¼Œå¹¶ä¸”æ€»æ•°ä¸ºå¥‡æ•°ã€‚æ¯æ¬¡æ‹¿å·¦æˆ–è€…å³çš„ä¸€å †ï¼Œæ¯æ¬¡æ‹¿éƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®Alexå…ˆæ‹¿èƒ½å¦èµ¢ã€‚åŸé¢˜\"><a href=\"#çŸ³å¤´æ¸¸æˆï¼Œä¸€å…±æœ‰å¶æ•°å †ï¼Œå¹¶ä¸”æ€»æ•°ä¸ºå¥‡æ•°ã€‚æ¯æ¬¡æ‹¿å·¦æˆ–è€…å³çš„ä¸€å †ï¼Œæ¯æ¬¡æ‹¿éƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®Alexå…ˆæ‹¿èƒ½å¦èµ¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ³å¤´æ¸¸æˆï¼Œä¸€å…±æœ‰å¶æ•°å †ï¼Œå¹¶ä¸”æ€»æ•°ä¸ºå¥‡æ•°ã€‚æ¯æ¬¡æ‹¿å·¦æˆ–è€…å³çš„ä¸€å †ï¼Œæ¯æ¬¡æ‹¿éƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®Alexå…ˆæ‹¿èƒ½å¦èµ¢ã€‚åŸé¢˜\"></a>çŸ³å¤´æ¸¸æˆï¼Œä¸€å…±æœ‰å¶æ•°å †ï¼Œå¹¶ä¸”æ€»æ•°ä¸ºå¥‡æ•°ã€‚æ¯æ¬¡æ‹¿å·¦æˆ–è€…å³çš„ä¸€å †ï¼Œæ¯æ¬¡æ‹¿éƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé—®Alexå…ˆæ‹¿èƒ½å¦èµ¢ã€‚<a href=\"https://leetcode.com/problems/stone-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight d\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: piles = [<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\">Output: <span class=\"literal\">true</span></span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Alex starts first, and can only take the first <span class=\"number\">5</span> or the last <span class=\"number\">5.</span></span><br><span class=\"line\">Say he takes the first <span class=\"number\">5</span>, so that the row becomes [<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>].</span><br><span class=\"line\">If Lee takes <span class=\"number\">3</span>, then the board <span class=\"keyword\">is</span> [<span class=\"number\">4</span>, <span class=\"number\">5</span>], and Alex takes <span class=\"number\">5</span> to win <span class=\"keyword\">with</span> <span class=\"number\">10</span> points.</span><br><span class=\"line\">If Lee takes the last <span class=\"number\">5</span>, then the board <span class=\"keyword\">is</span> [<span class=\"number\">3</span>, <span class=\"number\">4</span>], and Alex takes <span class=\"number\">4</span> to win <span class=\"keyword\">with</span> <span class=\"number\">9</span> points.</span><br><span class=\"line\">This demonstrated that taking the first <span class=\"number\">5</span> was a winning move <span class=\"keyword\">for</span> Alex, so we <span class=\"keyword\">return</span> <span class=\"literal\">true</span>.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿˜ç®—ç®€å•çš„ä¸€ä¸ªdpï¼Œ488ms, beats40%ã€‚å†…å­˜æœ‰ç‚¹å¤š120å¤šMã€‚æ€è·¯æ˜¯ä»ä¸¤è¾¹åˆ°ä¸­é—´ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGame</span><span class=\"params\">(self, piles: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == j:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(piles[i] + dp(i+<span class=\"number\">1</span>, j), piles[j] + dp(i, j<span class=\"number\">-1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(<span class=\"number\">0</span>, len(piles)<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šè¿­ä»£ï¼Œä¸ä¼šç”¨é‚£ä¹ˆå¤šçš„ç©ºé—´20Mã€‚ä¸è¿‡è¿‡ç¨‹ä¸å¥½æƒ³ï¼Œä»å“ªé‡Œå¼€å§‹ï¼Œdè¡¨ç¤ºæ®µçš„é•¿åº¦ï¼Œä»æœ€å°çš„æ®µå¼€å§‹ã€‚è¿™é‡Œç”¨äº†å‡æ³•è¡¨ç¤ºdp[i][j] åœ¨piles[i]~piles[j]ä¹‹é—´èƒ½é¢†å…ˆå¤šå°‘ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGame</span><span class=\"params\">(self, p: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    n = len(p)</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        dp[i][i] = p[i]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n - d):</span><br><span class=\"line\">            dp[i][i+d] = max(p[i]-dp[i+<span class=\"number\">1</span>][i+d], p[i+d]-dp[i][i+d<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][<span class=\"number\">-1</span>] &gt; <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šä¸€ç»´ç©ºé—´å®ç°ã€‚è¿™ä¸ªæ–¹æ³•å¥½éš¾æƒ³ï¼Œdp[i] è¡¨ç¤ºä»¥iä¸ºèµ·ç‚¹dä¸ºé•¿åº¦å † ä¹Ÿå°±æ˜¯piles[i:i+d]æœ€å¤šèƒ½èµ¢å¯¹æ‰‹å¤šå°‘ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGame</span><span class=\"params\">(self, p: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    n = len(p)</span><br><span class=\"line\">    dp = p[:]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n - d):</span><br><span class=\"line\">            <span class=\"comment\"># print(i, d, dp, p[i]-dp[i+1], p[i+d]-dp[i])</span></span><br><span class=\"line\">            dp[i] = max(p[i] - dp[i + <span class=\"number\">1</span>], p[i + d] - dp[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>] &gt; <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>ä»¥<code>[5,3,4,5]</code>è¾“å‡ºi, d ï¼Œdpæ˜¯è¿™æ ·çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">0</span> <span class=\"number\">1</span> [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>] <span class=\"number\">2</span> <span class=\"number\">-2</span></span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">1</span> [<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>] <span class=\"number\">-1</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"number\">1</span> [<span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>] <span class=\"number\">-1</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"number\">2</span> [<span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>] <span class=\"number\">4</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"number\">2</span> [<span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>] <span class=\"number\">2</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"number\">3</span> [<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>] <span class=\"number\">1</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šå¯¹äºæ­¤é¢˜æ¥è¯´ï¼Œå †ä¸ºå¶æ•°ä¸ªï¼Œå’Œä¸ºå¥‡æ•°ã€‚é‚£ä¹ˆå°†å…¶åˆ†ä¸ºä¸¤ç»„ï¼Œå¥‡æ•°ç´¢å¼•ç»„åˆå¶æ•°ç´¢å¼•ç»„ï¼Œå‡è®¾è¿™ä¸¤ä¸ªäººéƒ½æŒ‰ç…§è¿™ä¸ªæ‹¿ï¼ŒAlexå…ˆæ‰‹æ€»èƒ½æ‹¿åˆ°å¤šçš„é‚£ä¸ªã€‚å› ä¸ºAlexå¯ä»¥ä¿è¯æ‹¿åˆ°å¤šçš„é‚£ç»„ï¼Œæ¯”å¦‚<code>[5,3,4,5]</code>å¥‡æ•°ç»„çš„5+4&gt;5+3ï¼Œé‚£ä¹ˆåœ¨æ‹¿èµ°ç¬¬ä¸€ä¸ª5ï¼Œå¯¹æ‰‹åªèƒ½ä»ä¸¤ä¸ªå¶æ•°ç»„é€‰ï¼Œè€Œæ— è®ºå¯¹æ‰‹é€‰å“ªä¸ªå¶æ•°ï¼ŒAlexæ€»æœ‰ä¸‹ä¸€ä¸ªå¥‡æ•°ç»„çš„æ•°å¯é€‰ã€‚è¿™é¢˜æ›¾ç»åœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°è¿‡uwiåœ¨æ¯”èµ›ä¸­æ€è€ƒäº†1åˆ†å¤šé’Ÿå°±å†™å‡ºäº†è¿™æ ·çš„ç­”æ¡ˆï¼Œä¸æ„§ä¸ºå¸¸å¹´éœ¸æ¦œçš„é€‰æ‰‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGame</span><span class=\"params\">(self, p: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1690-Stone-Game-VII\"><a href=\"#1690-Stone-Game-VII\" class=\"headerlink\" title=\"1690. Stone Game VII\"></a><a href=\"https://leetcode.com/problems/stone-game-vii/\" target=\"_blank\" rel=\"noopener\">1690. Stone Game VII</a></h3><h4 id=\"æ­¤é¢˜å’Œ877é¢˜ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ‹¿å–ä¸€ä¸ªçŸ³å¤´å¾—åˆ†ä¸ºå‰©ä½™çŸ³å¤´çš„æ€»å’Œã€‚\"><a href=\"#æ­¤é¢˜å’Œ877é¢˜ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ‹¿å–ä¸€ä¸ªçŸ³å¤´å¾—åˆ†ä¸ºå‰©ä½™çŸ³å¤´çš„æ€»å’Œã€‚\" class=\"headerlink\" title=\"æ­¤é¢˜å’Œ877é¢˜ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ‹¿å–ä¸€ä¸ªçŸ³å¤´å¾—åˆ†ä¸ºå‰©ä½™çŸ³å¤´çš„æ€»å’Œã€‚\"></a>æ­¤é¢˜å’Œ877é¢˜ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ‹¿å–ä¸€ä¸ªçŸ³å¤´å¾—åˆ†ä¸ºå‰©ä½™çŸ³å¤´çš„æ€»å’Œã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: stones &#x3D; [5,3,1,4,2]</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">- Alice removes 2 and gets 5 + 3 + 1 + 4 &#x3D; 13 points. Alice &#x3D; 13, Bob &#x3D; 0, stones &#x3D; [5,3,1,4].</span><br><span class=\"line\">- Bob removes 5 and gets 3 + 1 + 4 &#x3D; 8 points. Alice &#x3D; 13, Bob &#x3D; 8, stones &#x3D; [3,1,4].</span><br><span class=\"line\">- Alice removes 3 and gets 1 + 4 &#x3D; 5 points. Alice &#x3D; 18, Bob &#x3D; 8, stones &#x3D; [1,4].</span><br><span class=\"line\">- Bob removes 1 and gets 4 points. Alice &#x3D; 18, Bob &#x3D; 12, stones &#x3D; [4].</span><br><span class=\"line\">- Alice removes 4 and gets 0 points. Alice &#x3D; 18, Bob &#x3D; 12, stones &#x3D; [].</span><br><span class=\"line\">The score difference is 18 - 12 &#x3D; 6.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç«èµ›æ²¡è¿‡ï¼Œå†™äº†é€’å½’çš„è¶…æ—¶äº†ï¼Œè¿­ä»£çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ²¡æœ‰æ‰¾åˆ°ã€‚ä½†æ˜¯å°†<code>lru_cache</code>æœ€å¤§é•¿åº¦æ”¹ä¸º<code>1000</code>å°±èƒ½è¿‡ï¼Œè€—æ—¶6000msã€‚å°±å¾ˆè¿·</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGameVII</span><span class=\"params\">(self, stones: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    total = sum(stones)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(1000)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i, j, remain)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># print(i, j, remain)</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == j:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(remain-stones[i]-dp(i+<span class=\"number\">1</span>, j, remain-stones[i]),</span><br><span class=\"line\">                   remain-stones[j]-dp(i, j<span class=\"number\">-1</span>, remain-stones[j]))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(<span class=\"number\">0</span>, len(stones)<span class=\"number\">-1</span>, total)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼š<code>remain</code>æ˜¯å†—ä½™çš„ï¼Œè¿™ä¸ªæ¯”èµ›æ—¶æ²¡æœ‰æƒ³å¥½ã€‚è¿™ä¸ªæ–¹æ³•<code>lru_cache(None)</code>åŒæ ·è¿‡ä¸äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGameVII</span><span class=\"params\">(self, stones: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    total = sum(stones)</span><br><span class=\"line\">    p = list(accumulate([<span class=\"number\">0</span>]+stones))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(1000)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == j:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(p[j+<span class=\"number\">1</span>]-p[i+<span class=\"number\">1</span>]-dp(i+<span class=\"number\">1</span>, j),</span><br><span class=\"line\">                   p[j]-p[i]-dp(i, j<span class=\"number\">-1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(<span class=\"number\">0</span>, len(stones)<span class=\"number\">-1</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šè¿­ä»£ã€‚è¿™é‡Œæƒ³é”™äº†ä¸€ä»¶äº‹æƒ…ï¼Œ<code>dp[i][j]</code>è¡¨ç¤º<code>stones[i]~stones[j]</code>æœ€å¤šçš„å¾—åˆ†æ˜¯å¤šå°‘ã€‚è€Œä¸æ˜¯<code>stones[i]</code>å¼€å§‹jé•¿åº¦æœ€å¤šçš„å¾—åˆ†ï¼Œè¿™é‡Œå°†jå’Œdææ··äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">stoneGameVII</span><span class=\"params\">(self, stones: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(stones)</span><br><span class=\"line\">    p = list(accumulate([<span class=\"number\">0</span>]+stones))</span><br><span class=\"line\">    dp = [[<span class=\"number\">0</span>]*n <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n-d):</span><br><span class=\"line\">            j = i + d</span><br><span class=\"line\">            dp[i][j] = max(p[j+<span class=\"number\">1</span>]-p[i+<span class=\"number\">1</span>]-dp[i+<span class=\"number\">1</span>][j],</span><br><span class=\"line\">                           p[j]-p[i]-dp[i][j<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">0</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"300-Longest-Increasing-Subsequence\"><a href=\"#300-Longest-Increasing-Subsequence\" class=\"headerlink\" title=\"300. Longest Increasing Subsequence\"></a><a href=\"https://leetcode.com/problems/longest-increasing-subsequence/\" target=\"_blank\" rel=\"noopener\">300. Longest Increasing Subsequence</a></h3><h4 id=\"æœ€é•¿çš„é€’å¢å­åºåˆ—é•¿åº¦ã€‚\"><a href=\"#æœ€é•¿çš„é€’å¢å­åºåˆ—é•¿åº¦ã€‚\" class=\"headerlink\" title=\"æœ€é•¿çš„é€’å¢å­åºåˆ—é•¿åº¦ã€‚\"></a>æœ€é•¿çš„é€’å¢å­åºåˆ—é•¿åº¦ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [10,9,2,5,3,7,101,18]</span><br><span class=\"line\">Output: 4 </span><br><span class=\"line\">Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ï¼Œæ—¶é—´O(n^2)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"comment\"># dp[i] means the ans of nums[:i]</span></span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    dp = [<span class=\"number\">1</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &lt; nums[i]:</span><br><span class=\"line\">                dp[i] = max(dp[i], dp[j] + <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums <span class=\"keyword\">and</span> max(dp) <span class=\"keyword\">or</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šçœ‹äº†follow up: æœ‰N*(logN)çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå°±å¾€äºŒåˆ†æ³•å’Œå †ä¸Šæƒ³ã€‚è¿™ä¸ªäºŒåˆ†æ³•å¤ªéš¾æƒ³äº†ï¼Œåˆ›äº†ä¸€ä¸ªç¼“å†²æ•°ç»„ç”¨æ¥è®°å½•å½“å‰çš„å­åºåˆ—ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    tails = [<span class=\"number\">0</span>] * len(nums)</span><br><span class=\"line\">    size = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        print(tails)</span><br><span class=\"line\">        lo, hi = <span class=\"number\">0</span>, size</span><br><span class=\"line\">        <span class=\"keyword\">while</span> lo &lt; hi:</span><br><span class=\"line\">            mid = (lo+hi) // <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> tails[mid] &lt; num:</span><br><span class=\"line\">                lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                hi = mid</span><br><span class=\"line\">        tails[lo] = num</span><br><span class=\"line\">        size = max(lo+<span class=\"number\">1</span>, size)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> size</span><br></pre></td></tr></table></figure>\n<p>å‡è®¾è¾“å…¥æ˜¯<code>[10,9,2,5,3,7,101,18,-1,0,1]</code>ï¼Œtailsè¿™æ ·å˜åŒ–ï¼Œå½“å‡ºç°ä¸€ä¸ªè¾ƒå°çš„æ•°ï¼Œæ‰¾åˆ°ä½ç½®å¹¶æ›¿æ¢ï¼Œè¿™æ ·tailsæœ‰æ•ˆçš„éƒ¨åˆ†è¿˜æ˜¯æœ‰åºçš„ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 3, 7, 0, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 3, 7, 101, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[2, 3, 7, 18, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[-1, 3, 7, 18, 0, 0, 0, 0, 0, 0, 0]</span><br><span class=\"line\">[-1, 0, 7, 18, 0, 0, 0, 0, 0, 0, 0]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ–¹æ³•äºŒçš„ç®€å†™ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">lengthOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        i = bisect.bisect_left(dp, num)</span><br><span class=\"line\">        dp[i:i+<span class=\"number\">1</span>] = [num]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(dp)</span><br></pre></td></tr></table></figure>\n<h3 id=\"673-Number-of-Longest-Increasing-Subsequence\"><a href=\"#673-Number-of-Longest-Increasing-Subsequence\" class=\"headerlink\" title=\"673. Number of Longest Increasing Subsequence\"></a><a href=\"https://leetcode.com/problems/number-of-longest-increasing-subsequence/\" target=\"_blank\" rel=\"noopener\">673. Number of Longest Increasing Subsequence</a></h3><h4 id=\"æ±‚æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚å’Œ300å¾ˆåƒï¼ŒåŸºäº300ä¸Šè¿›è¡Œä¿®æ”¹ã€‚\"><a href=\"#æ±‚æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚å’Œ300å¾ˆåƒï¼ŒåŸºäº300ä¸Šè¿›è¡Œä¿®æ”¹ã€‚\" class=\"headerlink\" title=\"æ±‚æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚å’Œ300å¾ˆåƒï¼ŒåŸºäº300ä¸Šè¿›è¡Œä¿®æ”¹ã€‚\"></a>æ±‚æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°ã€‚å’Œ300å¾ˆåƒï¼ŒåŸºäº300ä¸Šè¿›è¡Œä¿®æ”¹ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šåŸºäº300æ–¹æ³•ä¸€è¿›è¡Œä¿®æ”¹ï¼Œdpå…ƒç´ ä¿å­˜ä¸¤ä¸ªä¿¡æ¯ï¼Œä¸€ä¸ªæ˜¯æœ€å¤§é•¿åº¦ï¼Œä¸€ä¸ªæ˜¯æ•°é‡ã€‚æ€è€ƒçš„æ—¶å€™è¦æƒ³å¦‚æœ<code>dp[-1][-1]</code>ä¸èƒ½ç›´æ¥æ±‚å¾—å€¼çš„è¯ï¼Œè¦è€ƒè™‘é‡æ–°éå†ä¸€éã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findNumberOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n, longest = len(nums), <span class=\"number\">1</span></span><br><span class=\"line\">    dp = [[<span class=\"number\">1</span>, <span class=\"number\">1</span>] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n):</span><br><span class=\"line\">        cur_long = <span class=\"number\">1</span></span><br><span class=\"line\">        c = collections.defaultdict(int)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i] &gt; nums[j]:</span><br><span class=\"line\">                c[dp[j][<span class=\"number\">0</span>]] += dp[j][<span class=\"number\">1</span>]</span><br><span class=\"line\">                cur_long = max(cur_long, dp[j][<span class=\"number\">0</span>] + <span class=\"number\">1</span>)</span><br><span class=\"line\">        dp[i] = [cur_long, max(c[cur_long<span class=\"number\">-1</span>], <span class=\"number\">1</span>)]</span><br><span class=\"line\">        longest = max(longest, cur_long)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(cnt <span class=\"keyword\">for</span> l, cnt <span class=\"keyword\">in</span> dp <span class=\"keyword\">if</span> l==longest)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–ã€‚æ¯”æ–¹æ³•ä¸€å¿«äº†300msï¼Œå†™å®Œä¹‹åå’Œè¯„è®ºåŒºæ–¹æ³•æ¯”è¾ƒï¼Œæ˜æ˜æ˜¯ä¸€æ ·çš„ï¼Œä¸çŸ¥é“ä¸ºå•¥æ…¢äº†100msï¼Œåæ¥ä¸€è¡Œä¸€è¡Œä»£ç è¿›è¡Œæ›¿æ¢ï¼Œè°ƒäº†åŠå¤©ï¼Œå‘ç°æ³¨é‡Šéƒ¨åˆ†çš„ä»£ç è¦æ…¢100msï¼Œåˆ·æ–°äº†æˆ‘çš„è®¤çŸ¥ï¼Œä¸ºä»€ä¹ˆæ•°ç»„ä¸‹æ ‡å–å€¼ä¼šæ…¢è¿™ä¹ˆå¤šï¼Ÿè¿™ä¹Ÿå¤ªç„å­¦äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findNumberOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    n, max_for_all = len(nums), <span class=\"number\">1</span></span><br><span class=\"line\">    dp = [[<span class=\"number\">1</span>, <span class=\"number\">1</span>] <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n)]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        max_len, count = <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"comment\"># if nums[j] &lt; nums[i]:</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &lt; num:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> dp[j][<span class=\"number\">0</span>] + <span class=\"number\">1</span> &gt; max_len:</span><br><span class=\"line\">                    max_len = dp[j][<span class=\"number\">0</span>] + <span class=\"number\">1</span> </span><br><span class=\"line\">                    count = <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> dp[j][<span class=\"number\">0</span>] == max_len - <span class=\"number\">1</span>:</span><br><span class=\"line\">                    count += dp[j][<span class=\"number\">1</span>]</span><br><span class=\"line\">        dp[i] = [max_len, max(count, dp[i][<span class=\"number\">1</span>])]</span><br><span class=\"line\">        max_for_all = max(max_len, max_for_all)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum([item[<span class=\"number\">1</span>] <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> dp <span class=\"keyword\">if</span> item[<span class=\"number\">0</span>] == max_for_all])</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè¿™é¢˜æœ€å¥½çš„æ–¹æ³•è¿˜æ˜¯äºŒåˆ†æ³•ã€‚<code>dp[i][x]</code>è¡¨ç¤ºé•¿åº¦ä¸ºiçš„å­åºåˆ—ä»¥xç»“å°¾çš„æœ‰å¤šå°‘ä¸ªã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findNumberOfLIS</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = collections.defaultdict(collections.Counter)</span><br><span class=\"line\">    dp[<span class=\"number\">-1</span>][float(<span class=\"string\">'-inf'</span>)] = <span class=\"number\">1</span></span><br><span class=\"line\">    seq = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        i = bisect.bisect_left(seq, num)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == len(seq):</span><br><span class=\"line\">            seq.append(num)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            seq[i] = num</span><br><span class=\"line\">        dp[i][num] += sum(dp[i<span class=\"number\">-1</span>][end] <span class=\"keyword\">for</span> end <span class=\"keyword\">in</span> dp[i<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> end &lt; num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp[max(<span class=\"number\">0</span>, len(seq)<span class=\"number\">-1</span>)].values())</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-17-08-é©¬æˆå›¢äººå¡”\"><a href=\"#é¢è¯•é¢˜-17-08-é©¬æˆå›¢äººå¡”\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.08. é©¬æˆå›¢äººå¡”\"></a><a href=\"https://leetcode-cn.com/problems/circus-tower-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.08. é©¬æˆå›¢äººå¡”</a></h3><h4 id=\"300çš„å˜ç§ï¼Œæ¯”è¾ƒä¸¤ä¸ªç»´åº¦ã€‚è¯´äººå¯ä»¥å ç½—æ±‰ï¼Œä½†æ˜¯åªèƒ½å°†é«˜åº¦å’Œä½“é‡éƒ½å¤§çš„äººæ”¾åœ¨ä¸‹é¢ã€‚\"><a href=\"#300çš„å˜ç§ï¼Œæ¯”è¾ƒä¸¤ä¸ªç»´åº¦ã€‚è¯´äººå¯ä»¥å ç½—æ±‰ï¼Œä½†æ˜¯åªèƒ½å°†é«˜åº¦å’Œä½“é‡éƒ½å¤§çš„äººæ”¾åœ¨ä¸‹é¢ã€‚\" class=\"headerlink\" title=\"300çš„å˜ç§ï¼Œæ¯”è¾ƒä¸¤ä¸ªç»´åº¦ã€‚è¯´äººå¯ä»¥å ç½—æ±‰ï¼Œä½†æ˜¯åªèƒ½å°†é«˜åº¦å’Œä½“é‡éƒ½å¤§çš„äººæ”¾åœ¨ä¸‹é¢ã€‚\"></a>300çš„å˜ç§ï¼Œæ¯”è¾ƒä¸¤ä¸ªç»´åº¦ã€‚è¯´äººå¯ä»¥å ç½—æ±‰ï¼Œä½†æ˜¯åªèƒ½å°†é«˜åº¦å’Œä½“é‡éƒ½å¤§çš„äººæ”¾åœ¨ä¸‹é¢ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æµ‹è¯•ç”¨ä¾‹n^2çš„å†™æ³•è¿‡ä¸äº†ã€‚è¿™é¢˜æ¯”å †ç®±å­ç®€å•ä¸€ç‚¹ã€‚å°†é«˜åº¦å‡åºæ’åˆ—ï¼Œä½“é‡é™åºæ’åˆ—ã€‚å°±å¯ä»¥æŒ‰ç…§ä½“é‡æ¥æ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—äº†ã€‚ä½“é‡é™åºå¯ä»¥é¿å…äº†é«˜åº¦ç›¸åŒçš„äººå¯¼è‡´ç»“æœé”™è¯¯ã€‚è¯„è®ºåŒºå­¦äº†ä¸€ä¸ªæ–¹æ³•ã€‚</p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥æ ·ä¾‹:[[<span class=\"number\">4</span>,<span class=\"number\">5</span>],[<span class=\"number\">4</span>,<span class=\"number\">6</span>],[<span class=\"number\">6</span>,<span class=\"number\">7</span>],[<span class=\"number\">2</span>,<span class=\"number\">3</span>],[<span class=\"number\">1</span>,<span class=\"number\">1</span>]]</span><br><span class=\"line\">å…ˆæŒ‰å‡é«˜å‡åºæ’åˆ—,å†æŒ‰ä½“é‡å‡åºæ’åˆ—</span><br><span class=\"line\">&gt;&gt;&gt;:[<span class=\"number\">1</span>, <span class=\"number\">1</span>],[<span class=\"number\">2</span>, <span class=\"number\">3</span>],[<span class=\"number\">4</span>, <span class=\"number\">5</span>],[<span class=\"number\">4</span>, <span class=\"number\">6</span>],[<span class=\"number\">6</span>, <span class=\"number\">7</span>]</span><br><span class=\"line\">&gt;&gt;&gt;answer = <span class=\"number\">5</span></span><br><span class=\"line\">å…ˆæŒ‰å‡é«˜å‡åºæ’åˆ—,å†æŒ‰ä½“é‡é™åºæ’åˆ—</span><br><span class=\"line\">&gt;&gt;&gt;:[<span class=\"number\">1</span>, <span class=\"number\">1</span>],[<span class=\"number\">2</span>, <span class=\"number\">3</span>],[<span class=\"number\">4</span>, <span class=\"number\">6</span>],[<span class=\"number\">4</span>, <span class=\"number\">5</span>],[<span class=\"number\">6</span>, <span class=\"number\">7</span>]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bestSeqAtIndex</span><span class=\"params\">(self, height: List[int], weight: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp=[]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b <span class=\"keyword\">in</span> sorted(zip(height, weight), key=<span class=\"keyword\">lambda</span> x:(x[<span class=\"number\">0</span>],-x[<span class=\"number\">1</span>])):</span><br><span class=\"line\">       pos = bisect.bisect_left(dp, b)</span><br><span class=\"line\">       dp[pos:pos+<span class=\"number\">1</span>] = [b]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(dp)</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-08-13-å †ç®±å­\"><a href=\"#é¢è¯•é¢˜-08-13-å †ç®±å­\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 08.13. å †ç®±å­\"></a><a href=\"https://leetcode-cn.com/problems/pile-box-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 08.13. å †ç®±å­</a></h3><h4 id=\"è¿™é¢˜å’Œ300é¢˜å¾ˆåƒï¼Œæ˜¯ä¸€ä¸ªå˜ç§é¢˜ã€‚è¦æŠŠé•¿å®½é«˜éƒ½å¤§çš„æ”¾åœ¨åº•å±‚ï¼Œé—®æœ€å¤šå¯ä»¥å å¤šé«˜ã€‚\"><a href=\"#è¿™é¢˜å’Œ300é¢˜å¾ˆåƒï¼Œæ˜¯ä¸€ä¸ªå˜ç§é¢˜ã€‚è¦æŠŠé•¿å®½é«˜éƒ½å¤§çš„æ”¾åœ¨åº•å±‚ï¼Œé—®æœ€å¤šå¯ä»¥å å¤šé«˜ã€‚\" class=\"headerlink\" title=\"è¿™é¢˜å’Œ300é¢˜å¾ˆåƒï¼Œæ˜¯ä¸€ä¸ªå˜ç§é¢˜ã€‚è¦æŠŠé•¿å®½é«˜éƒ½å¤§çš„æ”¾åœ¨åº•å±‚ï¼Œé—®æœ€å¤šå¯ä»¥å å¤šé«˜ã€‚\"></a>è¿™é¢˜å’Œ300é¢˜å¾ˆåƒï¼Œæ˜¯ä¸€ä¸ªå˜ç§é¢˜ã€‚è¦æŠŠé•¿å®½é«˜éƒ½å¤§çš„æ”¾åœ¨åº•å±‚ï¼Œé—®æœ€å¤šå¯ä»¥å å¤šé«˜ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šå’Œ300ä¸€æ ·ï¼Œä½†æ˜¯è¦æ’åºï¼Œå› ä¸ºç®±å­å¯ä»¥éšä¾¿é€‰ï¼Œè¿™é‡Œæœ‰ç‚¹è¿·ï¼Œæˆ‘ä¸€ç›´æ²¡æœ‰æƒ³æ˜ç™½ä¸ºä»€ä¹ˆzipä¼šè¶…æ—¶ï¼Œè€Œç›´æ¥æ•°ç»„æ¯”è¾ƒå°±ä¸ä¼šè¶…æ—¶ã€‚æˆ‘æƒ³äº†æƒ³300é¢˜çš„NlogNçš„è§£æ³•ï¼Œä½†åœ¨æ­¤é¢˜ä¸Šå¹¶ä¸é€‚ç”¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pileBox</span><span class=\"params\">(self, box: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    n = len(box)</span><br><span class=\"line\">    box.sort()</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        dp[i] = box[i][<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"comment\"># if all(b &gt; t for b, t in zip(box[i], box[j])):</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> box[j][<span class=\"number\">0</span>]&lt;box[i][<span class=\"number\">0</span>] <span class=\"keyword\">and</span> box[j][<span class=\"number\">1</span>]&lt;box[i][<span class=\"number\">1</span>] <span class=\"keyword\">and</span> box[j][<span class=\"number\">2</span>]&lt;box[i][<span class=\"number\">2</span>]:</span><br><span class=\"line\">                dp[i] = max(dp[i], dp[j] + box[i][<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(dp)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šsortæ—¶ä»¥é•¿åº¦å‡åºï¼Œå®½åº¦é™åºã€‚è¿™æ ·æ¯”è¾ƒçš„æ—¶å€™å¯ä»¥ä¸ç”¨æ¯”è¾ƒé•¿åº¦äº†ï¼Œé™åºæ˜¯ä¸ºäº†é€‚åº”é•¿åº¦ç›¸ç­‰çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pileBox</span><span class=\"params\">(self, box: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">        n = len(box)</span><br><span class=\"line\">        box.sort(key=<span class=\"keyword\">lambda</span> x: (x[<span class=\"number\">0</span>], -x[<span class=\"number\">1</span>]))</span><br><span class=\"line\">        dp = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            dp[i] = box[i][<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> box[j][<span class=\"number\">1</span>]&lt;box[i][<span class=\"number\">1</span>] <span class=\"keyword\">and</span> box[j][<span class=\"number\">2</span>]&lt;box[i][<span class=\"number\">2</span>]:</span><br><span class=\"line\">                    dp[i] = max(dp[i], dp[j] + box[i][<span class=\"number\">-1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> max(dp)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1594-Maximum-Non-Negative-Product-in-a-Matrix\"><a href=\"#1594-Maximum-Non-Negative-Product-in-a-Matrix\" class=\"headerlink\" title=\"1594. Maximum Non Negative Product in a Matrix\"></a><a href=\"https://leetcode.com/problems/maximum-non-negative-product-in-a-matrix/\" target=\"_blank\" rel=\"noopener\">1594. Maximum Non Negative Product in a Matrix</a></h3><h4 id=\"æœ€å¤§çš„ä»å·¦ä¸Šåˆ°å³ä¸‹çš„ä¹˜ç§¯ã€‚\"><a href=\"#æœ€å¤§çš„ä»å·¦ä¸Šåˆ°å³ä¸‹çš„ä¹˜ç§¯ã€‚\" class=\"headerlink\" title=\"æœ€å¤§çš„ä»å·¦ä¸Šåˆ°å³ä¸‹çš„ä¹˜ç§¯ã€‚\"></a>æœ€å¤§çš„ä»å·¦ä¸Šåˆ°å³ä¸‹çš„ä¹˜ç§¯ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æƒ³ç€è¿­ä»£æ–¹æ³•ï¼Œç«èµ›çš„æ—¶å€™å·®äº†ä¸€è¡Œä»£ç ï¼Œæ—¶é—´å°±åˆ°äº†ã€‚é€’å½’çš„æ€è·¯å¥½æƒ³ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProductPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    M, N = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i, j)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i==<span class=\"number\">0</span> <span class=\"keyword\">and</span> j==<span class=\"number\">0</span>: <span class=\"keyword\">return</span> g[<span class=\"number\">0</span>][<span class=\"number\">0</span>], g[<span class=\"number\">0</span>][<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i&lt;<span class=\"number\">0</span> <span class=\"keyword\">or</span> j&lt;<span class=\"number\">0</span>: <span class=\"keyword\">return</span> float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> g[i][j] == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        mx1, mn1 = dp(i<span class=\"number\">-1</span>, j)</span><br><span class=\"line\">        mx2, mn2 = dp(i, j<span class=\"number\">-1</span>)</span><br><span class=\"line\">        mx, mn = max(mx1, mx2)*g[i][j], min(mn1, mn2)*g[i][j]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (mx, mn) <span class=\"keyword\">if</span> g[i][j]&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> (mn, mx)</span><br><span class=\"line\">    </span><br><span class=\"line\">    mx, _ = dp(M<span class=\"number\">-1</span>, N<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> mx % mod <span class=\"keyword\">if</span> mx&gt;=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿­ä»£çš„åˆè¯†å€¼æ²¡æƒ³å¥½ï¼Œæƒ³ç€èµ‹å€¼æˆ<code>(g[0][0], float(&#39;inf&#39;))</code>äº†ï¼Œå®é™…ä¸Š<code>(g[0][0], g[0][0])</code>å°±å¯¹äº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maxProductPath</span><span class=\"params\">(self, g: List[List[int]])</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    M, N = len(g), len(g[<span class=\"number\">0</span>])</span><br><span class=\"line\">    default = (float(<span class=\"string\">'-inf'</span>), float(<span class=\"string\">'inf'</span>))</span><br><span class=\"line\">    dp = [[default]*N <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(M)]</span><br><span class=\"line\">    dp[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = (g[<span class=\"number\">0</span>][<span class=\"number\">0</span>], g[<span class=\"number\">0</span>][<span class=\"number\">0</span>])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(M):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(N):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i==<span class=\"number\">0</span> <span class=\"keyword\">and</span> j==<span class=\"number\">0</span>: <span class=\"keyword\">continue</span></span><br><span class=\"line\">            cur = g[i][j]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> cur == <span class=\"number\">0</span>:</span><br><span class=\"line\">                dp[i][j] = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            mx1, mn1 = dp[i<span class=\"number\">-1</span>][j] <span class=\"keyword\">if</span> i <span class=\"keyword\">else</span> default</span><br><span class=\"line\">            mx2, mn2 = dp[i][j<span class=\"number\">-1</span>] <span class=\"keyword\">if</span> j <span class=\"keyword\">else</span> default</span><br><span class=\"line\">            mx, mn = max(mx1, mx2)*cur, min(mn1, mn2)*cur</span><br><span class=\"line\">            dp[i][j] = (mx, mn) <span class=\"keyword\">if</span> cur&gt;<span class=\"number\">0</span> <span class=\"keyword\">else</span> (mn, mx)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>] % mod <span class=\"keyword\">if</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>][<span class=\"number\">0</span>]&gt;=<span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-08-14-å¸ƒå°”è¿ç®—\"><a href=\"#é¢è¯•é¢˜-08-14-å¸ƒå°”è¿ç®—\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 08.14. å¸ƒå°”è¿ç®—\"></a><a href=\"https://leetcode-cn.com/problems/boolean-evaluation-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 08.14. å¸ƒå°”è¿ç®—</a></h3><h4 id=\"ç»™å®šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼å’Œä¸€ä¸ªæœŸæœ›çš„å¸ƒå°”ç»“æœ-resultï¼Œå¸ƒå°”è¡¨è¾¾å¼ç”±-0-false-ã€1-true-ã€-amp-AND-ã€-OR-å’Œ-XOR-ç¬¦å·ç»„æˆã€‚å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç®—å‡ºæœ‰å‡ ç§å¯ä½¿è¯¥è¡¨è¾¾å¼å¾—å‡º-result-å€¼çš„æ‹¬å·æ–¹æ³•ã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼å’Œä¸€ä¸ªæœŸæœ›çš„å¸ƒå°”ç»“æœ-resultï¼Œå¸ƒå°”è¡¨è¾¾å¼ç”±-0-false-ã€1-true-ã€-amp-AND-ã€-OR-å’Œ-XOR-ç¬¦å·ç»„æˆã€‚å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç®—å‡ºæœ‰å‡ ç§å¯ä½¿è¯¥è¡¨è¾¾å¼å¾—å‡º-result-å€¼çš„æ‹¬å·æ–¹æ³•ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼å’Œä¸€ä¸ªæœŸæœ›çš„å¸ƒå°”ç»“æœ resultï¼Œå¸ƒå°”è¡¨è¾¾å¼ç”± 0 (false)ã€1 (true)ã€&amp; (AND)ã€ | (OR) å’Œ ^ (XOR) ç¬¦å·ç»„æˆã€‚å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç®—å‡ºæœ‰å‡ ç§å¯ä½¿è¯¥è¡¨è¾¾å¼å¾—å‡º result å€¼çš„æ‹¬å·æ–¹æ³•ã€‚\"></a>ç»™å®šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼å’Œä¸€ä¸ªæœŸæœ›çš„å¸ƒå°”ç»“æœ resultï¼Œå¸ƒå°”è¡¨è¾¾å¼ç”± 0 (false)ã€1 (true)ã€&amp; (AND)ã€ | (OR) å’Œ ^ (XOR) ç¬¦å·ç»„æˆã€‚å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç®—å‡ºæœ‰å‡ ç§å¯ä½¿è¯¥è¡¨è¾¾å¼å¾—å‡º result å€¼çš„æ‹¬å·æ–¹æ³•ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥: s &#x3D; &quot;1^0|0|1&quot;, result &#x3D; 0</span><br><span class=\"line\"></span><br><span class=\"line\">è¾“å‡º: 2</span><br><span class=\"line\">è§£é‡Š: ä¸¤ç§å¯èƒ½çš„æ‹¬å·æ–¹æ³•æ˜¯</span><br><span class=\"line\">1^(0|(0|1))</span><br><span class=\"line\">1^((0|0)|1)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘å¼€å§‹æƒ³çš„æ˜¯å°†0ï¼Œ1çš„ä¸ªæ•°éƒ½åˆ†åˆ«è®¡ç®—ã€‚ä½†æ˜¯æ•ˆç‡å´ä¸é«˜ã€‚æ—¶é—´åªbeats5%ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countEval</span><span class=\"params\">(self, s: str, result: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(q)</span>:</span></span><br><span class=\"line\">        n = len(q)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n==<span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (<span class=\"number\">0</span>, <span class=\"number\">1</span>) <span class=\"keyword\">if</span> q==<span class=\"string\">'1'</span> <span class=\"keyword\">else</span> (<span class=\"number\">1</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">        ans = [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n, <span class=\"number\">2</span>):</span><br><span class=\"line\">            <span class=\"comment\"># l_zero, l_one = dfs(q[:i])</span></span><br><span class=\"line\">            <span class=\"comment\"># r_zero, r_one = dfs(q[i+1:])</span></span><br><span class=\"line\">            <span class=\"comment\"># ans[eval('0&#123;&#125;1'.format(q[i]))] += l_zero*r_one</span></span><br><span class=\"line\">            <span class=\"comment\"># ans[eval('0&#123;&#125;0'.format(q[i]))] += l_zero*r_zero</span></span><br><span class=\"line\">            <span class=\"comment\"># ans[eval('1&#123;&#125;0'.format(q[i]))] += l_one*r_zero</span></span><br><span class=\"line\">            <span class=\"comment\"># ans[eval('1&#123;&#125;1'.format(q[i]))] += l_one*r_one</span></span><br><span class=\"line\">            left, right = dfs(q[:i]), dfs(q[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (l_v, l_c), (r_v, r_c) <span class=\"keyword\">in</span> itertools.product(enumerate(left), enumerate(right)):</span><br><span class=\"line\">                ans[eval(<span class=\"string\">'&#123;&#125;&#123;&#125;&#123;&#125;'</span>.format(l_v, q[i], r_v))] += l_c * r_c</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(s)[result]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ ¹æ®è¯„è®ºåŒºçš„æ–¹æ³•ï¼Œæ‰¾åˆ°è‡ªå·±æ–¹æ³•çš„æ€§èƒ½ç“¶é¢ˆã€‚åœ¨äºå¤§é‡çš„åˆ›å»ºå­—ç¬¦ä¸²æ‰§è¡Œ<code>eval</code>ï¼Œå°†è¿™é‡Œæ”¹ä¸ºå­—å…¸æ˜ å°„åï¼Œä»500mså‡å°‘ä¸º90msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countEval</span><span class=\"params\">(self, s: str, result: int)</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(q)</span>:</span></span><br><span class=\"line\">        n = len(q)</span><br><span class=\"line\">        ans = [<span class=\"number\">0</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n==<span class=\"number\">1</span>:</span><br><span class=\"line\">            ans[int(q)] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, n, <span class=\"number\">2</span>):</span><br><span class=\"line\">            left, right = dfs(q[:i]), dfs(q[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (l_v, l_c), (r_v, r_c) <span class=\"keyword\">in</span> itertools.product(enumerate(left), enumerate(right)):</span><br><span class=\"line\">                ans[ops[q[i]](l_v, r_v)] += l_c * r_c</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br><span class=\"line\">    ops = &#123;<span class=\"string\">'|'</span>: or_, <span class=\"string\">'^'</span>: xor, <span class=\"string\">'&amp;'</span>: and_&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(s)[result]</span><br></pre></td></tr></table></figure>\n<h3 id=\"é¢è¯•é¢˜-17-13-æ¢å¤ç©ºæ ¼\"><a href=\"#é¢è¯•é¢˜-17-13-æ¢å¤ç©ºæ ¼\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 17.13. æ¢å¤ç©ºæ ¼\"></a><a href=\"https://leetcode-cn.com/problems/re-space-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 17.13. æ¢å¤ç©ºæ ¼</a></h3><h4 id=\"ä½ ä¸å°å¿ƒæŠŠä¸€ä¸ªé•¿ç¯‡æ–‡ç« ä¸­çš„ç©ºæ ¼ã€æ ‡ç‚¹éƒ½åˆ æ‰äº†ï¼Œå¹¶ä¸”å¤§å†™ä¹Ÿå¼„æˆäº†å°å†™ã€‚åƒå¥å­â€I-reset-the-computer-It-still-didnâ€™t-boot-â€å·²ç»å˜æˆäº†â€iresetthecomputeritstilldidntbootâ€ã€‚åœ¨å¤„ç†æ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™ä¹‹å‰ï¼Œä½ å¾—å…ˆæŠŠå®ƒæ–­æˆè¯è¯­ã€‚å½“ç„¶äº†ï¼Œä½ æœ‰ä¸€æœ¬åšåšçš„è¯å…¸dictionaryï¼Œä¸è¿‡ï¼Œæœ‰äº›è¯æ²¡åœ¨è¯å…¸é‡Œã€‚å‡è®¾æ–‡ç« ç”¨sentenceè¡¨ç¤ºï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼ŒæŠŠæ–‡ç« æ–­å¼€ï¼Œè¦æ±‚æœªè¯†åˆ«çš„å­—ç¬¦æœ€å°‘ï¼Œè¿”å›æœªè¯†åˆ«çš„å­—ç¬¦æ•°ã€‚\"><a href=\"#ä½ ä¸å°å¿ƒæŠŠä¸€ä¸ªé•¿ç¯‡æ–‡ç« ä¸­çš„ç©ºæ ¼ã€æ ‡ç‚¹éƒ½åˆ æ‰äº†ï¼Œå¹¶ä¸”å¤§å†™ä¹Ÿå¼„æˆäº†å°å†™ã€‚åƒå¥å­â€I-reset-the-computer-It-still-didnâ€™t-boot-â€å·²ç»å˜æˆäº†â€iresetthecomputeritstilldidntbootâ€ã€‚åœ¨å¤„ç†æ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™ä¹‹å‰ï¼Œä½ å¾—å…ˆæŠŠå®ƒæ–­æˆè¯è¯­ã€‚å½“ç„¶äº†ï¼Œä½ æœ‰ä¸€æœ¬åšåšçš„è¯å…¸dictionaryï¼Œä¸è¿‡ï¼Œæœ‰äº›è¯æ²¡åœ¨è¯å…¸é‡Œã€‚å‡è®¾æ–‡ç« ç”¨sentenceè¡¨ç¤ºï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼ŒæŠŠæ–‡ç« æ–­å¼€ï¼Œè¦æ±‚æœªè¯†åˆ«çš„å­—ç¬¦æœ€å°‘ï¼Œè¿”å›æœªè¯†åˆ«çš„å­—ç¬¦æ•°ã€‚\" class=\"headerlink\" title=\"ä½ ä¸å°å¿ƒæŠŠä¸€ä¸ªé•¿ç¯‡æ–‡ç« ä¸­çš„ç©ºæ ¼ã€æ ‡ç‚¹éƒ½åˆ æ‰äº†ï¼Œå¹¶ä¸”å¤§å†™ä¹Ÿå¼„æˆäº†å°å†™ã€‚åƒå¥å­â€I reset the computer. It still didnâ€™t boot!â€å·²ç»å˜æˆäº†â€iresetthecomputeritstilldidntbootâ€ã€‚åœ¨å¤„ç†æ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™ä¹‹å‰ï¼Œä½ å¾—å…ˆæŠŠå®ƒæ–­æˆè¯è¯­ã€‚å½“ç„¶äº†ï¼Œä½ æœ‰ä¸€æœ¬åšåšçš„è¯å…¸dictionaryï¼Œä¸è¿‡ï¼Œæœ‰äº›è¯æ²¡åœ¨è¯å…¸é‡Œã€‚å‡è®¾æ–‡ç« ç”¨sentenceè¡¨ç¤ºï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼ŒæŠŠæ–‡ç« æ–­å¼€ï¼Œè¦æ±‚æœªè¯†åˆ«çš„å­—ç¬¦æœ€å°‘ï¼Œè¿”å›æœªè¯†åˆ«çš„å­—ç¬¦æ•°ã€‚\"></a>ä½ ä¸å°å¿ƒæŠŠä¸€ä¸ªé•¿ç¯‡æ–‡ç« ä¸­çš„ç©ºæ ¼ã€æ ‡ç‚¹éƒ½åˆ æ‰äº†ï¼Œå¹¶ä¸”å¤§å†™ä¹Ÿå¼„æˆäº†å°å†™ã€‚åƒå¥å­â€I reset the computer. It still didnâ€™t boot!â€å·²ç»å˜æˆäº†â€iresetthecomputeritstilldidntbootâ€ã€‚åœ¨å¤„ç†æ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™ä¹‹å‰ï¼Œä½ å¾—å…ˆæŠŠå®ƒæ–­æˆè¯è¯­ã€‚å½“ç„¶äº†ï¼Œä½ æœ‰ä¸€æœ¬åšåšçš„è¯å…¸dictionaryï¼Œä¸è¿‡ï¼Œæœ‰äº›è¯æ²¡åœ¨è¯å…¸é‡Œã€‚å‡è®¾æ–‡ç« ç”¨sentenceè¡¨ç¤ºï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼ŒæŠŠæ–‡ç« æ–­å¼€ï¼Œè¦æ±‚æœªè¯†åˆ«çš„å­—ç¬¦æœ€å°‘ï¼Œè¿”å›æœªè¯†åˆ«çš„å­—ç¬¦æ•°ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šç‰¹åˆ«æ…¢ï¼Œè™½ç„¶acäº†ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">respace</span><span class=\"params\">(self, dictionary: List[str], sentence: str)</span> -&gt; int:</span></span><br><span class=\"line\">        dic = set(dictionary)</span><br><span class=\"line\">        max_len = len(max(dictionary, key=len))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">        @lru_cache(None)</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">            <span class=\"comment\"># print(s)</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> s: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            ans = float(<span class=\"string\">'inf'</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, min(len(s), max_len)+<span class=\"number\">1</span>):</span><br><span class=\"line\">                right = dfs(s[i:])</span><br><span class=\"line\">                <span class=\"keyword\">if</span> s[:i] <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">                    ans = min(ans, right)</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    ans = min(ans, i + right)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ans</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(sentence)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä»å¤´å¼€å§‹åŒ¹é…è¿™æ ·å°±å¿«äº†åªè¦300ms</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">respace</span><span class=\"params\">(self, dictionary: List[str], sentence: str)</span> -&gt; int:</span></span><br><span class=\"line\">    dic, N = set(dictionary), len(sentence)</span><br><span class=\"line\">    lens = &#123;len(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> dictionary&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt;= N:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        tails = [dfs(i+d) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> lens <span class=\"keyword\">if</span> i+d&lt;=N <span class=\"keyword\">and</span> sentence[i:i+d] <span class=\"keyword\">in</span> dic]</span><br><span class=\"line\">        tails.append(<span class=\"number\">1</span> + dfs(i+<span class=\"number\">1</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> min(tails, default=<span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šdpçš„è¿­ä»£å†™æ³•ã€‚260ms</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">respace</span><span class=\"params\">(self, dictionary: List[str], sentence: str)</span> -&gt; int:</span></span><br><span class=\"line\">    dic, N = set(dictionary), len(sentence)</span><br><span class=\"line\">    lens = &#123;len(w) <span class=\"keyword\">for</span> w <span class=\"keyword\">in</span> dictionary&#125;</span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>]+ [float(<span class=\"string\">'inf'</span>)]*N <span class=\"comment\"># dp[i]è¡¨ç¤ºå‰sentence[:i]æœªè¯†åˆ«çš„å­—ç¬¦æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N+<span class=\"number\">1</span>):</span><br><span class=\"line\">        dp[i] = dp[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span></span><br><span class=\"line\">        dp[i] = min([dp[i]]+[dp[i-d] </span><br><span class=\"line\">            <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> lens <span class=\"keyword\">if</span> sentence[i-d:i] <span class=\"keyword\">in</span> dic <span class=\"keyword\">and</span> i&gt;=d]</span><br><span class=\"line\">        )</span><br><span class=\"line\">    <span class=\"comment\"># print(dp)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1611-Minimum-One-Bit-Operations-to-Make-Integers-Zero\"><a href=\"#1611-Minimum-One-Bit-Operations-to-Make-Integers-Zero\" class=\"headerlink\" title=\"1611. Minimum One Bit Operations to Make Integers Zero\"></a><a href=\"https://leetcode.com/problems/minimum-one-bit-operations-to-make-integers-zero/\" target=\"_blank\" rel=\"noopener\">1611. Minimum One Bit Operations to Make Integers Zero</a></h3><h4 id=\"æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½å°†æ•°å˜æˆ0ã€‚ä¸¤ç§æ“ä½œæ–¹å¼ï¼Œä¸€ç§ç¿»è½¬æœ€ä½ä½çš„æ•°å­—ã€‚ä¸€ç§æ˜¯æ‰¾åˆ°x100-00ï¼ˆnä¸ª0-nå¯ä»¥-0ï¼‰çš„xä½ç¿»è½¬ã€‚\"><a href=\"#æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½å°†æ•°å˜æˆ0ã€‚ä¸¤ç§æ“ä½œæ–¹å¼ï¼Œä¸€ç§ç¿»è½¬æœ€ä½ä½çš„æ•°å­—ã€‚ä¸€ç§æ˜¯æ‰¾åˆ°x100-00ï¼ˆnä¸ª0-nå¯ä»¥-0ï¼‰çš„xä½ç¿»è½¬ã€‚\" class=\"headerlink\" title=\"æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½å°†æ•°å˜æˆ0ã€‚ä¸¤ç§æ“ä½œæ–¹å¼ï¼Œä¸€ç§ç¿»è½¬æœ€ä½ä½çš„æ•°å­—ã€‚ä¸€ç§æ˜¯æ‰¾åˆ°x100..00ï¼ˆnä¸ª0,nå¯ä»¥=0ï¼‰çš„xä½ç¿»è½¬ã€‚\"></a>æœ€å°‘éœ€è¦å¤šå°‘æ­¥èƒ½å°†æ•°å˜æˆ0ã€‚ä¸¤ç§æ“ä½œæ–¹å¼ï¼Œä¸€ç§ç¿»è½¬æœ€ä½ä½çš„æ•°å­—ã€‚ä¸€ç§æ˜¯æ‰¾åˆ°<code>x100..00ï¼ˆnä¸ª0,nå¯ä»¥=0ï¼‰</code>çš„xä½ç¿»è½¬ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜ç«èµ›æ—¶æƒ³äº†ä¸ªä¸ƒä¸ƒå…«å…«ï¼Œè¿˜æ˜¯æ²¡å†™å‡ºæ¥ã€‚æ€»ä½“æ¥è¯´æ­¤é¢˜ä¸éš¾ï¼Œæ¯”ç¬¬3é¢˜ç®€å•ã€‚</p>\n<p>åˆ†ä¸ºè¿™æ ·çš„æ­¥éª¤ã€‚1XXXXXXX -&gt; 11000000 -&gt; 10000000 -&gt; 0</p>\n<p>1XXXXXX -&gt; 1100000 needs minimumOneBitOperations(1XXXXXX ^ 1100000), è¿™æ­¥æ²¡æœ‰æƒ³æ˜ç™½ï¼Œå¯ä»¥é€’å½’ï¼Œå› ä¸ºæƒ³è®©1XXXXXX ^ 1100000 == 0ï¼Œå°±åªèƒ½è®© 1XXXXXXå˜ä¸º1100000 ã€‚æ‰€ä»¥è¿™é‡Œæ˜¯ç­‰ä»·çš„ã€‚</p>\n<p>1100000 -&gt; 100000 needs 1 operation.<br>100000 -&gt; 0, where 100000 is 2^k, needs 2^(k-1) - 1 operations.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span>:</span></span><br><span class=\"line\">    dp = &#123;<span class=\"number\">0</span>: <span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumOneBitOperations</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> self.dp:</span><br><span class=\"line\">            b = <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> (b&lt;&lt;<span class=\"number\">1</span>) &lt;= n:</span><br><span class=\"line\">                b &lt;&lt;= <span class=\"number\">1</span></span><br><span class=\"line\">            self.dp[n] = self.minimumOneBitOperations((b&gt;&gt;<span class=\"number\">1</span>) ^ b ^ n) + <span class=\"number\">1</span> + b - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> self.dp[n]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1027-Longest-Arithmetic-Subsequence\"><a href=\"#1027-Longest-Arithmetic-Subsequence\" class=\"headerlink\" title=\"1027. Longest Arithmetic Subsequence\"></a><a href=\"https://leetcode.com/problems/longest-arithmetic-subsequence/\" target=\"_blank\" rel=\"noopener\">1027. Longest Arithmetic Subsequence</a></h3><h4 id=\"æœ€é•¿çš„ç­‰å·®å­åºåˆ—é•¿åº¦ã€‚\"><a href=\"#æœ€é•¿çš„ç­‰å·®å­åºåˆ—é•¿åº¦ã€‚\" class=\"headerlink\" title=\"æœ€é•¿çš„ç­‰å·®å­åºåˆ—é•¿åº¦ã€‚\"></a>æœ€é•¿çš„ç­‰å·®å­åºåˆ—é•¿åº¦ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [9,4,7,2,10]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The longest arithmetic subsequence is [4,7,10].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šO(N^2)çš„æ–¹æ³•ã€‚æ—¶é—´beats80%, 2.6sã€‚è¿™é‡Œè¯•äº†ä¸€ä¸‹<code>ans = max([ans] + list(dp[i].values()))</code> å±…ç„¶è¦4så¤šã€‚Leeè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªtupleä½œä¸ºkeyï¼Œä½†æ˜¯è¦æ…¢ä¸€ç‚¹ï¼Œ3sã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestArithSeqLength</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = defaultdict(<span class=\"keyword\">lambda</span> : defaultdict(<span class=\"keyword\">lambda</span> : <span class=\"number\">1</span>))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(A):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, b <span class=\"keyword\">in</span> enumerate(islice(A, i)):</span><br><span class=\"line\">            dp[i][a-b] = dp[j][a-b] + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(max(dp[i].values()) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(A)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"416-åˆ†å‰²ç­‰å’Œå­é›†\"><a href=\"#416-åˆ†å‰²ç­‰å’Œå­é›†\" class=\"headerlink\" title=\"416. åˆ†å‰²ç­‰å’Œå­é›†\"></a><a href=\"https://leetcode-cn.com/problems/partition-equal-subset-sum/\" target=\"_blank\" rel=\"noopener\">416. åˆ†å‰²ç­‰å’Œå­é›†</a></h3><h4 id=\"èƒ½å¦å°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå’Œç›¸ç­‰çš„å­æ•°ç»„ã€‚ç»å…¸çš„0-1èƒŒåŒ…é—®é¢˜ã€‚\"><a href=\"#èƒ½å¦å°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå’Œç›¸ç­‰çš„å­æ•°ç»„ã€‚ç»å…¸çš„0-1èƒŒåŒ…é—®é¢˜ã€‚\" class=\"headerlink\" title=\"èƒ½å¦å°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå’Œç›¸ç­‰çš„å­æ•°ç»„ã€‚ç»å…¸çš„0-1èƒŒåŒ…é—®é¢˜ã€‚\"></a>èƒ½å¦å°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå’Œç›¸ç­‰çš„å­æ•°ç»„ã€‚ç»å…¸çš„0-1èƒŒåŒ…é—®é¢˜ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šçœ‹äº†é¢˜è§£åšä¸Šçš„ï¼Œä¸»è¦æ²¡æƒ³åˆ°æ€ä¹ˆå°†å®ƒè½¬åŒ–ä¸ºèƒŒåŒ…é—®é¢˜çš„ã€‚å®ƒå…¶å®ç­‰ä»·äºä»æ•°ç»„ä¸­é€‰å‡ºä¸€äº›æ•°å­—ï¼Œä½¿å¾—è¿™äº›æ•°çš„å’Œä¸ºæ•°ç»„å’Œçš„ä¸€åŠã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canPartition</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    s, N = sum(nums), len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> s&amp;<span class=\"number\">1</span> <span class=\"keyword\">or</span> N&lt;<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    target = s // <span class=\"number\">2</span></span><br><span class=\"line\">    dp = [[<span class=\"literal\">False</span>]*(target+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(N)] <span class=\"comment\"># dp[i][j]è¡¨ç¤ºnums[:i]çš„å…ƒç´ èƒ½å¦ç»„æˆå’Œæ°å¥½ä¸ºj</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(target+<span class=\"number\">1</span>):</span><br><span class=\"line\">            dp[i][j] = a==j <span class=\"keyword\">or</span> dp[i<span class=\"number\">-1</span>][j] <span class=\"keyword\">or</span> (j&gt;=a <span class=\"keyword\">and</span> dp[i<span class=\"number\">-1</span>][j-a])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€ç©ºé—´ä¼˜åŒ–ã€‚æ­£åºä¼šå¯¹ç»“æœé€ æˆå½±å“ï¼Œå¯¼è‡´è®¡ç®—é”™è¯¯ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canPartition</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    s, N = sum(nums), len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> s&amp;<span class=\"number\">1</span> <span class=\"keyword\">or</span> N&lt;<span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    target = s // <span class=\"number\">2</span></span><br><span class=\"line\">    dp = [<span class=\"literal\">False</span>] * (target+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, a <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(target+<span class=\"number\">1</span>)[::<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            dp[j] = a==j <span class=\"keyword\">or</span> dp[j] <span class=\"keyword\">or</span> (j&gt;=a <span class=\"keyword\">and</span> dp[j-a])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•ä¸‰ï¼šåŒæ ·çš„åŸç†ï¼Œä½†æ˜¯ä½¿ç”¨ä½è¿ç®—æ¥ä¿å­˜ç»“æœã€‚é€Ÿåº¦æ˜¯å‰ä¸¤ç§çš„30å€ï¼ï¼<code>bool(mask&gt;&gt;k &amp; 1)</code>è¡¨ç¤ºæ˜¯å¦å¯ä»¥ç»„æˆå’Œä¸ºkã€‚pythonå¾—ç›Šäºintæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œæ‰€ä»¥ä¸ç”¨è½¬æˆæ•°ç»„çš„å½¢å¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canPartition</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    s, N = sum(nums), len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> s&amp;<span class=\"number\">1</span> <span class=\"keyword\">or</span> N&lt;<span class=\"number\">2</span>: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    target = s // <span class=\"number\">2</span></span><br><span class=\"line\">    mask = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        mask |= mask&lt;&lt;num</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bool(mask&gt;&gt;target &amp; <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šå¯ä»¥å†™æˆä¸€è¡Œï¼Œè¯„è®ºä¸­å¤§ç¥çš„å†™æ³•å’Œæˆ‘çš„å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canPartition</span><span class=\"params\">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span>-sum(nums)%<span class=\"number\">2</span> == reduce(<span class=\"keyword\">lambda</span> x, y: x | (x&lt;&lt;y), nums, <span class=\"number\">1</span>) &gt;&gt; (sum(nums))//<span class=\"number\">2</span> &amp; <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># return not sum(nums)&amp;1 and bool(reduce(lambda x, y: x | (x&lt;&lt;y), nums, 1) &gt;&gt; (sum(nums))//2 &amp; 1)</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"128-Longest-Consecutive-Sequence\"><a href=\"#128-Longest-Consecutive-Sequence\" class=\"headerlink\" title=\"128. Longest Consecutive Sequence\"></a><a href=\"https://leetcode.com/problems/longest-consecutive-sequence/\" target=\"_blank\" rel=\"noopener\">128. Longest Consecutive Sequence</a></h3><h4 id=\"æ±‚æ•°ç»„ä¸­æœ€é•¿çš„è¿ç»­åºåˆ—ï¼Œå¯ä»¥æ‰“ä¹±é¡ºåºã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦O-n-ã€‚\"><a href=\"#æ±‚æ•°ç»„ä¸­æœ€é•¿çš„è¿ç»­åºåˆ—ï¼Œå¯ä»¥æ‰“ä¹±é¡ºåºã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦O-n-ã€‚\" class=\"headerlink\" title=\"æ±‚æ•°ç»„ä¸­æœ€é•¿çš„è¿ç»­åºåˆ—ï¼Œå¯ä»¥æ‰“ä¹±é¡ºåºã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦O(n)ã€‚\"></a>æ±‚æ•°ç»„ä¸­æœ€é•¿çš„è¿ç»­åºåˆ—ï¼Œå¯ä»¥æ‰“ä¹±é¡ºåºã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦O(n)ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [100, 4, 200, 1, 3, 2]</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šUnion-Findã€‚æ²¡æƒ³åˆ°èƒ½ç”¨å¹¶æŸ¥é›†æ¥æ±‚ï¼Œçœ‹äº†æ ‡ç­¾æç¤ºæ‰æç„¶å¤§æ‚Ÿã€‚ä¸€å¼€å§‹å†™é”™äº†ï¼ŒæŠŠnumå’Œnum-1ä¹Ÿç›¸è¿äº†ï¼Œè¿™æ ·1å’Œ3å°±è¢«è¿åˆ°äº†ä¸€èµ·ï¼Œæ³¨æ„ä¸€ä¸‹ç©ºè¾“å…¥ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestConsecutive</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">union</span><span class=\"params\">(x, y)</span>:</span></span><br><span class=\"line\">        uf[find(x)] = find(y)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">find</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">        uf.setdefault(x, x)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x != uf[x]:</span><br><span class=\"line\">            uf[x] = find(uf[x])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> uf[x]</span><br><span class=\"line\"></span><br><span class=\"line\">    uf = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        union(num, num+<span class=\"number\">1</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums <span class=\"keyword\">and</span> Counter(find(x) <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> set(nums)).most_common(<span class=\"number\">1</span>)[<span class=\"number\">0</span>][<span class=\"number\">1</span>] <span class=\"keyword\">or</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ã€‚è¿™ä¸ªæ–¹æ³•éå¸¸å¥½ï¼Œæˆ‘è®°å¾—Lee215å¥½åƒç”¨è¿‡ï¼Œæˆ‘ä¸€æ—¶æƒ³ä¸èµ·æ¥æ˜¯å“ªé“é¢˜äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestConsecutive</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    d, ans = defaultdict(int), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> d[num]:   <span class=\"comment\"># è¿™é‡Œä¸èƒ½ä½¿ç”¨ if num not in dï¼Œå› ä¸ºå†æ‰¾æœ€å³æ—¶å¯èƒ½ä¼šæ›´æ–°d[num-1]ä¸º0</span></span><br><span class=\"line\">            left, right = d[num<span class=\"number\">-1</span>], d[num+<span class=\"number\">1</span>]</span><br><span class=\"line\">            d[num] = left + right + <span class=\"number\">1</span></span><br><span class=\"line\">            d[num-left] = d[num+right] = d[num]</span><br><span class=\"line\">            ans = max(ans, d[num])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"4\">æ–¹æ³•ä¸‰ï¼šby@stefanã€‚æ—¶é—´O(n)ï¼Œå› ä¸ºåªå¯¹æ¯”äº†å¼€å¤´ã€‚æ¯ä¸ªæ•°å­—åªéå†ä¸€æ¬¡ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestConsecutive</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    nums = set(nums)</span><br><span class=\"line\">    best = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> x - <span class=\"number\">1</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> nums:  <span class=\"comment\"># å¦‚æœxæ˜¯ä¸€æ®µè¿ç»­æ•°å­—çš„å¼€å¤´</span></span><br><span class=\"line\">            y = x + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> y <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">                y += <span class=\"number\">1</span></span><br><span class=\"line\">            best = max(best, y - x)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> best</span><br></pre></td></tr></table></figure>\n<h3 id=\"1314-Matrix-Block-Sum\"><a href=\"#1314-Matrix-Block-Sum\" class=\"headerlink\" title=\"1314. Matrix Block Sum\"></a>1314. Matrix Block Sum</h3><h4 id=\"çŸ©é˜µå—çš„æ±‚å’Œã€‚åŸé¢˜\"><a href=\"#çŸ©é˜µå—çš„æ±‚å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©é˜µå—çš„æ±‚å’Œã€‚åŸé¢˜\"></a>çŸ©é˜µå—çš„æ±‚å’Œã€‚<a href=\"https://leetcode.com/problems/matrix-block-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: mat &#x3D; [[1,2,3],[4,5,6],[7,8,9]], K &#x3D; 1</span><br><span class=\"line\">Output: [[12,21,16],[27,45,33],[24,39,28]]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æš´åŠ›æ³•è¿‡çš„ã€‚è¿™é‡Œå®é™…ä¸Šæ±‚å’Œæ—¶å¯ä»¥åˆ©ç”¨ä¹‹å‰çš„å’Œã€‚</p>\n<img src=\"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming/block_sum.png\" class>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">matrixBlockSum</span><span class=\"params\">(self, mat: List[List[int]], k: int)</span> -&gt; List[List[int]]:</span></span><br><span class=\"line\">    m, n = len(mat), len(mat[<span class=\"number\">0</span>])</span><br><span class=\"line\">    dp = [list(itertools.accumulate(row)) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> mat]</span><br><span class=\"line\">    dp = [list(itertools.accumulate(row)) <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> zip(*dp)]        </span><br><span class=\"line\">    dp = list(zip(*dp))</span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(m):</span><br><span class=\"line\">        tmp = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">            r_lo, r_hi = max(<span class=\"number\">0</span>, i-k), min(i+k, m<span class=\"number\">-1</span>)</span><br><span class=\"line\">            c_lo, c_hi = max(<span class=\"number\">0</span>, j-k), min(j+k, n<span class=\"number\">-1</span>)</span><br><span class=\"line\">            cur_sum = dp[r_hi][c_hi]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> r_lo &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                cur_sum -= dp[r_lo<span class=\"number\">-1</span>][c_hi]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c_lo &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                cur_sum -= dp[r_hi][c_lo<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> r_lo &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> c_lo &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                cur_sum += dp[r_lo<span class=\"number\">-1</span>][c_lo<span class=\"number\">-1</span>]</span><br><span class=\"line\">            tmp.append(cur_sum)</span><br><span class=\"line\">        ans.append(tmp)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1626-Best-Team-With-No-Conflicts\"><a href=\"#1626-Best-Team-With-No-Conflicts\" class=\"headerlink\" title=\"1626. Best Team With No Conflicts\"></a><a href=\"https://leetcode.com/problems/best-team-with-no-conflicts/\" target=\"_blank\" rel=\"noopener\">1626. Best Team With No Conflicts</a></h3><h4 id=\"æœ‰è¿™æ ·ä¸€ä¸ªçƒé˜Ÿï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªè‡ªå·±çš„å¾—åˆ†ã€‚å½“ä¸€ä¸ªå›¢é˜Ÿä¸­æœ‰ä¸€ä¸ªå¹´è½»çš„çƒå‘˜æ˜¯æ¯”è‡ªå·±å¹´é•¿çƒå‘˜åˆ†å¤šæ—¶ï¼Œè¿™ä¸¤ä¸ªçƒå‘˜å°±ä¼šæ‰“æ¶ã€‚æ‰€ä»¥ä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œé€‰å‡ºä¸€ä¸ªæœ€å¤§å¾—åˆ†çš„å›¢é˜Ÿï¼Œé—®å¾—åˆ†æ˜¯å¤šå°‘ã€‚\"><a href=\"#æœ‰è¿™æ ·ä¸€ä¸ªçƒé˜Ÿï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªè‡ªå·±çš„å¾—åˆ†ã€‚å½“ä¸€ä¸ªå›¢é˜Ÿä¸­æœ‰ä¸€ä¸ªå¹´è½»çš„çƒå‘˜æ˜¯æ¯”è‡ªå·±å¹´é•¿çƒå‘˜åˆ†å¤šæ—¶ï¼Œè¿™ä¸¤ä¸ªçƒå‘˜å°±ä¼šæ‰“æ¶ã€‚æ‰€ä»¥ä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œé€‰å‡ºä¸€ä¸ªæœ€å¤§å¾—åˆ†çš„å›¢é˜Ÿï¼Œé—®å¾—åˆ†æ˜¯å¤šå°‘ã€‚\" class=\"headerlink\" title=\"æœ‰è¿™æ ·ä¸€ä¸ªçƒé˜Ÿï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªè‡ªå·±çš„å¾—åˆ†ã€‚å½“ä¸€ä¸ªå›¢é˜Ÿä¸­æœ‰ä¸€ä¸ªå¹´è½»çš„çƒå‘˜æ˜¯æ¯”è‡ªå·±å¹´é•¿çƒå‘˜åˆ†å¤šæ—¶ï¼Œè¿™ä¸¤ä¸ªçƒå‘˜å°±ä¼šæ‰“æ¶ã€‚æ‰€ä»¥ä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œé€‰å‡ºä¸€ä¸ªæœ€å¤§å¾—åˆ†çš„å›¢é˜Ÿï¼Œé—®å¾—åˆ†æ˜¯å¤šå°‘ã€‚\"></a>æœ‰è¿™æ ·ä¸€ä¸ªçƒé˜Ÿï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªè‡ªå·±çš„å¾—åˆ†ã€‚å½“ä¸€ä¸ªå›¢é˜Ÿä¸­æœ‰ä¸€ä¸ªå¹´è½»çš„çƒå‘˜æ˜¯æ¯”è‡ªå·±å¹´é•¿çƒå‘˜åˆ†å¤šæ—¶ï¼Œè¿™ä¸¤ä¸ªçƒå‘˜å°±ä¼šæ‰“æ¶ã€‚æ‰€ä»¥ä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œé€‰å‡ºä¸€ä¸ªæœ€å¤§å¾—åˆ†çš„å›¢é˜Ÿï¼Œé—®å¾—åˆ†æ˜¯å¤šå°‘ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: scores &#x3D; [1,2,3,5], ages &#x3D; [8,9,10,1]</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: It is best to choose the first 3 players. </span><br><span class=\"line\">Input: scores &#x3D; [4,5,6,5], ages &#x3D; [2,1,2,1]</span><br><span class=\"line\">Output: 16</span><br><span class=\"line\">Explanation: It is best to choose the last 3 players. Notice that you are allowed to choose multiple people of the same age.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜å› ä¸ºç«èµ›æ—¶å¡åœ¨ç¬¬äºŒé¢˜ä¸Šï¼Œæ‰€ä»¥æ²¡æœ‰æ—¶é—´æ¥åšäº†ã€‚å’Œä¿„ç½—æ–¯å¥—å¨ƒé—®é¢˜å¾ˆåƒã€‚å½“çƒå‘˜æŒ‰ç…§å¹´é¾„ï¼Œå¾—åˆ†æ’å¥½åºåã€‚é—®é¢˜è½¬åŒ–ä¸ºäº†ä¸€ä¸ªæœ€é•¿ä¸Šå‡å­åºåˆ—å’Œçš„é—®é¢˜ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bestTeamScore</span><span class=\"params\">(self, scores: List[int], ages: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    p = sorted(zip(ages, scores))</span><br><span class=\"line\">    n, ans = len(p), <span class=\"number\">0</span></span><br><span class=\"line\">    dp = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(p)):</span><br><span class=\"line\">        dp[i] = p[i][<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p[i][<span class=\"number\">1</span>] &gt;= p[j][<span class=\"number\">1</span>]:</span><br><span class=\"line\">                dp[i] = max(dp[i], dp[j]+p[i][<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(dp)</span><br></pre></td></tr></table></figure>\n<h3 id=\"823-Binary-Trees-With-Factors\"><a href=\"#823-Binary-Trees-With-Factors\" class=\"headerlink\" title=\"823. Binary Trees With Factors\"></a><a href=\"https://leetcode.com/problems/binary-trees-with-factors/\" target=\"_blank\" rel=\"noopener\">823. Binary Trees With Factors</a></h3><h4 id=\"ç»™ä½ ä¸€äº›å¤§äº1çš„æ•°ï¼Œè¦æ±‚ç”¨è¿™äº›æ•°ç»„æˆä¸€ä¸ªæ ‘ï¼Œæ ‘çš„çˆ¶èŠ‚ç‚¹ä¸ºä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¹˜ç§¯ã€‚é—®æœ‰å¤šå°‘ç§ç»„æˆæ–¹å¼ã€‚\"><a href=\"#ç»™ä½ ä¸€äº›å¤§äº1çš„æ•°ï¼Œè¦æ±‚ç”¨è¿™äº›æ•°ç»„æˆä¸€ä¸ªæ ‘ï¼Œæ ‘çš„çˆ¶èŠ‚ç‚¹ä¸ºä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¹˜ç§¯ã€‚é—®æœ‰å¤šå°‘ç§ç»„æˆæ–¹å¼ã€‚\" class=\"headerlink\" title=\"ç»™ä½ ä¸€äº›å¤§äº1çš„æ•°ï¼Œè¦æ±‚ç”¨è¿™äº›æ•°ç»„æˆä¸€ä¸ªæ ‘ï¼Œæ ‘çš„çˆ¶èŠ‚ç‚¹ä¸ºä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¹˜ç§¯ã€‚é—®æœ‰å¤šå°‘ç§ç»„æˆæ–¹å¼ã€‚\"></a>ç»™ä½ ä¸€äº›å¤§äº1çš„æ•°ï¼Œè¦æ±‚ç”¨è¿™äº›æ•°ç»„æˆä¸€ä¸ªæ ‘ï¼Œæ ‘çš„çˆ¶èŠ‚ç‚¹ä¸ºä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¹˜ç§¯ã€‚é—®æœ‰å¤šå°‘ç§ç»„æˆæ–¹å¼ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [2, 4, 5, 10]</span><br><span class=\"line\">Output: 7</span><br><span class=\"line\">Explanation: We can make these trees: [2], [4], [5], [10], [4, 2, 2], [10, 2, 5], [10, 5, 2].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆå®¹æ˜“æƒ³åˆ°dpï¼Œä»¥æ¯ä¸ªç‚¹ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œçœ‹ç»„æˆå­èŠ‚ç‚¹çš„ç»„åˆæœ‰å¤šå°‘ç§ï¼Œç„¶åç›¸ä¹˜ã€‚400ms</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numFactoredBinaryTrees</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    N = len(A)</span><br><span class=\"line\">    s_nums = set(A)</span><br><span class=\"line\">    dp = &#123;n: <span class=\"number\">1</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> s_nums&#125;</span><br><span class=\"line\">    nums = sorted(s_nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n%nums[j]==<span class=\"number\">0</span> <span class=\"keyword\">and</span> n//nums[j] <span class=\"keyword\">in</span> s_nums:</span><br><span class=\"line\">                dp[n] += dp[nums[j]] * dp[n//nums[j]]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp.values()) % mod</span><br></pre></td></tr></table></figure>\n<p><font color=\"#32CD32\" size=\"4\">æ–¹æ³•äºŒï¼šè¿™é‡Œå®¹æ˜“æƒ³åˆ°ä¸€ä¸ªä¼˜åŒ–ï¼Œå½“å·¦å³å­æ ‘èŠ‚ç‚¹ä¸åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡äº’æ¢çš„æ–¹å¼æ¥å¢åŠ ï¼›é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æ‰¾å·¦å³å­èŠ‚ç‚¹æ—¶ï¼Œå› ä¸ºè¿™é‡Œå°†å…¶æ’äº†åºï¼Œæ‰€ä»¥å·¦å­èŠ‚ç‚¹&lt;=å³å­èŠ‚ç‚¹ã€‚è¿è¡Œæ—¶é—´å‡å°‘ä¸ºåŸæ¥çš„ä¸€åŠè¿˜å°‘ã€‚</font>144ms</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numFactoredBinaryTrees</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    mod = <span class=\"number\">10</span>**<span class=\"number\">9</span> + <span class=\"number\">7</span></span><br><span class=\"line\">    N = len(A)</span><br><span class=\"line\">    s_nums = set(A)</span><br><span class=\"line\">    dp = &#123;n: <span class=\"number\">1</span> <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> s_nums&#125;</span><br><span class=\"line\">    nums = sorted(s_nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, n <span class=\"keyword\">in</span> enumerate(nums):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &gt; sqrt(n): <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> n%nums[j]==<span class=\"number\">0</span> <span class=\"keyword\">and</span> n//nums[j] <span class=\"keyword\">in</span> s_nums:</span><br><span class=\"line\">                dp[n] += (dp[nums[j]] * dp[n//nums[j]]) * (<span class=\"number\">1</span>+(nums[j]!=n//nums[j]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp.values()) % mod</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šLeeçš„å†™æ³•ã€‚ä½†æ˜¯è¿è¡Œæ—¶é—´æ¯”æ–¹æ³•ä¸€ç•¥ä¼˜ï¼Œæ—¶é—´ç›¸å½“äºæ–¹æ³•äºŒçš„2å€ã€‚336ms</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numFactoredBinaryTrees</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> sorted(A):</span><br><span class=\"line\">        dp[a] = sum(dp[b] * dp.get(a//b, <span class=\"number\">0</span>) <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> dp <span class=\"keyword\">if</span> a%b==<span class=\"number\">0</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp.values()) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•å››ï¼šå†å°½é‡ç®€æ´çš„æƒ…å†µä¸‹ï¼Œä¿è¯æ•ˆç‡ï¼Œä½¿ç”¨OrderedDictä¿è¯keyçš„é¡ºåºã€‚192msã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numFactoredBinaryTrees</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp = OrderedDict()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> sorted(A):</span><br><span class=\"line\">        left = takewhile(<span class=\"keyword\">lambda</span> x: x &lt;= sqrt(a), dp)</span><br><span class=\"line\">        dp[a] = sum(dp[b] * dp.get(a//b, <span class=\"number\">0</span>) * (<span class=\"number\">1</span>+(b!=a//b)) <span class=\"keyword\">for</span> b <span class=\"keyword\">in</span> left <span class=\"keyword\">if</span> a%b==<span class=\"number\">0</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp.values()) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"740-Delete-and-Earn\"><a href=\"#740-Delete-and-Earn\" class=\"headerlink\" title=\"740. Delete and Earn\"></a><a href=\"https://leetcode-cn.com/problems/delete-and-earn/\" target=\"_blank\" rel=\"noopener\">740. Delete and Earn</a></h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„-nums-ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª-nums-i-ï¼Œåˆ é™¤å®ƒå¹¶è·å¾—-nums-i-çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤æ¯ä¸ªç­‰äº-nums-i-1-æˆ–-nums-i-1-çš„å…ƒç´ ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„-nums-ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª-nums-i-ï¼Œåˆ é™¤å®ƒå¹¶è·å¾—-nums-i-çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤æ¯ä¸ªç­‰äº-nums-i-1-æˆ–-nums-i-1-çš„å…ƒç´ ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª nums[i] ï¼Œåˆ é™¤å®ƒå¹¶è·å¾— nums[i] çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤æ¯ä¸ªç­‰äº nums[i] - 1 æˆ– nums[i] + 1 çš„å…ƒç´ ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚\"></a>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª nums[i] ï¼Œåˆ é™¤å®ƒå¹¶è·å¾— nums[i] çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤æ¯ä¸ªç­‰äº nums[i] - 1 æˆ– nums[i] + 1 çš„å…ƒç´ ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [2, 2, 3, 3, 3, 4]</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">Delete 3 to earn 3 points, deleting both 2&#39;s and the 4.</span><br><span class=\"line\">Then, delete 3 again to earn 3 points, and 3 again to earn 3 points.</span><br><span class=\"line\">9 total points are earned</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜äºŒååˆ†é’ŸACçš„ã€‚é¦–å…ˆå°†æ•°ç»„åˆ†æˆå‡ ä¸ªè¿ç»­çš„æ®µï¼Œå†æ±‚æ¯æ®µçš„æœ€å¤§å€¼ï¼Œå’ŒæŠ¢æˆ¿å­é—®é¢˜ä¸€æ ·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteAndEarn</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">max_value_of_seq</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        pick, not_pick = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> ary: </span><br><span class=\"line\">            not_pick, pick = pick, max(not_pick+num*c[num], pick)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pick</span><br><span class=\"line\"></span><br><span class=\"line\">    parts, c = [], Counter(nums)</span><br><span class=\"line\">    N = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> enumerate(sorted(set(nums))):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> parts <span class=\"keyword\">or</span> parts[<span class=\"number\">-1</span>][<span class=\"number\">-1</span>]+<span class=\"number\">1</span>!=num:</span><br><span class=\"line\">            parts.append([num])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            parts[<span class=\"number\">-1</span>].append(num)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(map(max_value_of_seq, parts)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šçœ‹åˆ°æœ‰å¤§ç¥èƒ½ç”¨å››è¡Œå†™å‡ºæ¥ï¼Œäºæ˜¯æˆ‘ä¸æœã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteAndEarn</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    not_pick, pick, last, c = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, Counter(nums)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> sorted(set(nums)):</span><br><span class=\"line\">        not_pick, pick, last = pick, max(not_pick+c[a]*a, pick+c[a]*a*(a&gt;last+<span class=\"number\">1</span>)), a</span><br><span class=\"line\">    <span class=\"keyword\">return</span> pick</span><br></pre></td></tr></table></figure>\n<h3 id=\"413-Arithmetic-Slices\"><a href=\"#413-Arithmetic-Slices\" class=\"headerlink\" title=\"413. Arithmetic Slices\"></a><a href=\"https://leetcode.com/problems/arithmetic-slices/\" target=\"_blank\" rel=\"noopener\">413. Arithmetic Slices</a></h3><h4 id=\"ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œè‡³å°‘éœ€è¦ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸¤ä¸ªæŒ¨ç€çš„æ•°å­—å·®ä¸€æ ·ã€‚æ±‚æœ‰å¤šå°‘ä¸ªè¿ç»­çš„ç­‰å·®æ•°åˆ—ã€‚\"><a href=\"#ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œè‡³å°‘éœ€è¦ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸¤ä¸ªæŒ¨ç€çš„æ•°å­—å·®ä¸€æ ·ã€‚æ±‚æœ‰å¤šå°‘ä¸ªè¿ç»­çš„ç­‰å·®æ•°åˆ—ã€‚\" class=\"headerlink\" title=\"ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œè‡³å°‘éœ€è¦ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸¤ä¸ªæŒ¨ç€çš„æ•°å­—å·®ä¸€æ ·ã€‚æ±‚æœ‰å¤šå°‘ä¸ªè¿ç»­çš„ç­‰å·®æ•°åˆ—ã€‚\"></a>ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œè‡³å°‘éœ€è¦ä¸‰ä¸ªæ•°å­—ï¼Œæ¯ä¸¤ä¸ªæŒ¨ç€çš„æ•°å­—å·®ä¸€æ ·ã€‚æ±‚æœ‰å¤šå°‘ä¸ªè¿ç»­çš„ç­‰å·®æ•°åˆ—ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">A &#x3D; [1, 2, 3, 4]</span><br><span class=\"line\"></span><br><span class=\"line\">return: 3, for 3 arithmetic slices in A: [1, 2, 3], [2, 3, 4] and [1, 2, 3, 4] itself.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdpã€‚æ¨¡æ‹Ÿæ—¶é—´å†…æ²¡åšå‡ºæ¥æ˜¯å› ä¸ºå¿½ç•¥äº†è¿ç»­ã€‚ä»”ç»†å®¡é¢˜å10åˆ†é’ŸACã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfArithmeticSlices</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    dp, ans = defaultdict(int), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, len(A)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> A[i<span class=\"number\">-2</span>]-A[i<span class=\"number\">-1</span>] == A[i<span class=\"number\">-1</span>]-A[i]:</span><br><span class=\"line\">            dp[i] += dp[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(dp.values())</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfArithmeticSlices</span><span class=\"params\">(self, A: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    left, right, ans = <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> right &lt; len(A):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> right&lt;len(A) <span class=\"keyword\">and</span> A[left+<span class=\"number\">1</span>]-A[left]==A[right]-A[right<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            ans += right-left<span class=\"number\">-1</span></span><br><span class=\"line\">            right += <span class=\"number\">1</span></span><br><span class=\"line\">        left = right<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1671-Minimum-Number-of-Removals-to-Make-Mountain-Array\"><a href=\"#1671-Minimum-Number-of-Removals-to-Make-Mountain-Array\" class=\"headerlink\" title=\"1671. Minimum Number of Removals to Make Mountain Array\"></a><a href=\"https://leetcode.com/problems/minimum-number-of-removals-to-make-mountain-array/\" target=\"_blank\" rel=\"noopener\">1671. Minimum Number of Removals to Make Mountain Array</a></h3><h4 id=\"æœ€å°‘çš„åˆ é™¤æ­¥éª¤ä½¿å¾—å˜æˆå±±å³°æ•°ç»„ã€‚\"><a href=\"#æœ€å°‘çš„åˆ é™¤æ­¥éª¤ä½¿å¾—å˜æˆå±±å³°æ•°ç»„ã€‚\" class=\"headerlink\" title=\"æœ€å°‘çš„åˆ é™¤æ­¥éª¤ä½¿å¾—å˜æˆå±±å³°æ•°ç»„ã€‚\"></a>æœ€å°‘çš„åˆ é™¤æ­¥éª¤ä½¿å¾—å˜æˆå±±å³°æ•°ç»„ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [2,1,1,5,6,2,3,1]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: One solution is to remove the elements at indices 0, 1, and 5, making the array nums &#x3D; [1,5,6,3,1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶æ²¡åšå‡ºæ¥ï¼Œæƒ³æˆå’Œ941,845é¢˜ä¸­çš„æ€è·¯äº†ã€‚å…¶å®æ˜¯LISé—®é¢˜ï¼Œæœ€é•¿ä¸Šå‡å­åºåˆ—ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯è¦ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œè€Œä¸æ˜¯<code>len(ans)</code>ã€‚æ—¶é—´å¤æ‚åº¦O(n^2*logn)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">minimumMountainRemovals</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longest_up</span><span class=\"params\">(ary)</span>:</span></span><br><span class=\"line\">        ans = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> ary:</span><br><span class=\"line\">            i = bisect.bisect_left(ans, n)</span><br><span class=\"line\">            ans[i:i+<span class=\"number\">1</span>] = [n]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans.index(ary[<span class=\"number\">-1</span>])</span><br><span class=\"line\">    </span><br><span class=\"line\">    res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, len(nums)<span class=\"number\">-1</span>):</span><br><span class=\"line\">        res = max(res, longest_up(nums[:i+<span class=\"number\">1</span>])+longest_up(nums[i:][::<span class=\"number\">-1</span>])+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> len(nums) - res</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šdpã€‚</p>\n<h3 id=\"376-Wiggle-Subsequence\"><a href=\"#376-Wiggle-Subsequence\" class=\"headerlink\" title=\"376. Wiggle Subsequence\"></a><a href=\"https://leetcode.com/problems/wiggle-subsequence/\" target=\"_blank\" rel=\"noopener\">376. Wiggle Subsequence</a></h3><h4 id=\"æœ€é•¿çš„æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œå’ŒLISæœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜ä¸€æ ·ã€‚\"><a href=\"#æœ€é•¿çš„æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œå’ŒLISæœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜ä¸€æ ·ã€‚\" class=\"headerlink\" title=\"æœ€é•¿çš„æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œå’ŒLISæœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜ä¸€æ ·ã€‚\"></a>æœ€é•¿çš„æ‘†åŠ¨åºåˆ—é•¿åº¦ï¼Œå’ŒLISæœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜ä¸€æ ·ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,17,5,10,13,15,10,5,16,8]</span><br><span class=\"line\">Output: 7</span><br><span class=\"line\">Explanation: There are several subsequences that achieve this length. One is [1,17,10,13,10,16,8].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šdpã€‚ä¸€å¼€å§‹ç”¨äº†n^2çš„æ–¹æ³•ï¼Œå…¶å®æ²¡æœ‰å¿…è¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wiggleMaxLength</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    N = len(nums)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> N &lt; <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> N</span><br><span class=\"line\">    up = down = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, N):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> nums[i] &gt; nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            up = max(up, down+<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> nums[i] &lt; nums[i<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            down = max(down, up+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(up, down)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šé‡å¤çš„æ•°å­—æ˜¯ä¸éœ€è¦è€ƒè™‘çš„ã€‚è¿™é‡Œåšäº†ä¸€æ¬¡é”™ä½ã€‚ä¸ºä»€ä¹ˆæœ€åä¸€è¡Œæ˜¯<code>or</code>ï¼Œå› ä¸ºè¿™é‡Œå¯¹äºè¿™ä¸ªè°ƒæ•™<code>a&lt;b&gt;c</code>å’Œ<code>a&gt;b&lt;c</code>æ¥è¯´ï¼Œæœ‰ä¸€éƒ¨åˆ†é‡å¤çš„æ¯”è¾ƒåœ¨é‡Œé¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">wiggleMaxLength</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    norep = [num <span class=\"keyword\">for</span> num, _ <span class=\"keyword\">in</span> itertools.groupby(nums)]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(norep) &lt; <span class=\"number\">2</span>: <span class=\"keyword\">return</span> len(norep)</span><br><span class=\"line\">    triples = list(zip(norep, norep[<span class=\"number\">1</span>:], norep[<span class=\"number\">2</span>:]))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">2</span> + sum(a&lt;b&gt;c <span class=\"keyword\">or</span> a&gt;b&lt;c <span class=\"keyword\">for</span> a, b, c <span class=\"keyword\">in</span> triples)</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Dynamic Programming"]},{"title":"LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ•°å­¦ç¯‡ï¼‰Math","url":"/LeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E5%AD%A6%E7%AF%87%EF%BC%89Math/","content":"<h3 id=\"7-Reverse-Integer\"><a href=\"#7-Reverse-Integer\" class=\"headerlink\" title=\"7. Reverse Integer\"></a>7. Reverse Integer</h3><h4 id=\"å€’ç½®ä¸€ä¸ªæ•´æ•°ï¼Œ-æ­¤ç­”æ¡ˆå¿½ç•¥äº†åŸé¢˜ä¸­çš„èŒƒå›´åˆ¤æ–­ã€‚åŸé¢˜\"><a href=\"#å€’ç½®ä¸€ä¸ªæ•´æ•°ï¼Œ-æ­¤ç­”æ¡ˆå¿½ç•¥äº†åŸé¢˜ä¸­çš„èŒƒå›´åˆ¤æ–­ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å€’ç½®ä¸€ä¸ªæ•´æ•°ï¼Œ æ­¤ç­”æ¡ˆå¿½ç•¥äº†åŸé¢˜ä¸­çš„èŒƒå›´åˆ¤æ–­ã€‚åŸé¢˜\"></a>å€’ç½®ä¸€ä¸ªæ•´æ•°ï¼Œ æ­¤ç­”æ¡ˆå¿½ç•¥äº†åŸé¢˜ä¸­çš„èŒƒå›´åˆ¤æ–­ã€‚<a href=\"https://leetcode.com/problems/reverse-integer/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: -123</span><br><span class=\"line\">Output: -321</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>æ–¹æ³•ä¸€ï¼šstr</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse_int</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> x &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> int(str(x)[::<span class=\"number\">-1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> -int(str(x)[:<span class=\"number\">0</span>:<span class=\"number\">-1</span>])</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šmath</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reverse</span><span class=\"params\">(self, x: int)</span> -&gt; int:</span></span><br><span class=\"line\">    sign = <span class=\"number\">1</span> <span class=\"keyword\">if</span> x &gt;= <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    ans, tail = <span class=\"number\">0</span>, abs(x)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> tail:</span><br><span class=\"line\">        ans = ans*<span class=\"number\">10</span> + tail%<span class=\"number\">10</span></span><br><span class=\"line\">        tail //= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans * sign <span class=\"keyword\">if</span> ans &lt; <span class=\"number\">2</span>**<span class=\"number\">31</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9-Palindrome-Number\"><a href=\"#9-Palindrome-Number\" class=\"headerlink\" title=\"9. Palindrome Number\"></a>9. Palindrome Number</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼Œè¿™é‡ŒæŠŠè´Ÿæ•°è®¤ä¸ºæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼Œè¿™é‡ŒæŠŠè´Ÿæ•°è®¤ä¸ºæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼Œè¿™é‡ŒæŠŠè´Ÿæ•°è®¤ä¸ºæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼Œè¿™é‡ŒæŠŠè´Ÿæ•°è®¤ä¸ºæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚<a href=\"https://leetcode.com/problems/palindrome-number/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šstr</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_palindrome</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> str(x) == str(x)[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šmath</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_palindrome</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    l, r = x, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> l &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        r = r*<span class=\"number\">10</span> + l%<span class=\"number\">10</span></span><br><span class=\"line\">        l //= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r == x</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-Roman-to-Integer\"><a href=\"#13-Roman-to-Integer\" class=\"headerlink\" title=\"13. Roman to Integer\"></a>13. Roman to Integer</h3><h4 id=\"ç½—é©¬æ•°å­—è½¬æ¢æ•´å‹ã€‚åŸé¢˜\"><a href=\"#ç½—é©¬æ•°å­—è½¬æ¢æ•´å‹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç½—é©¬æ•°å­—è½¬æ¢æ•´å‹ã€‚åŸé¢˜\"></a>ç½—é©¬æ•°å­—è½¬æ¢æ•´å‹ã€‚<a href=\"https://leetcode.com/problems/roman-to-integer/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">roman_to_int</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">    roman = &#123;<span class=\"string\">'I'</span>: <span class=\"number\">1</span>, <span class=\"string\">'V'</span>: <span class=\"number\">5</span>, <span class=\"string\">'X'</span>: <span class=\"number\">10</span>, <span class=\"string\">'L'</span>: <span class=\"number\">50</span>, </span><br><span class=\"line\">             <span class=\"string\">'C'</span>: <span class=\"number\">100</span>, <span class=\"string\">'D'</span>: <span class=\"number\">500</span>, <span class=\"string\">'M'</span>: <span class=\"number\">1000</span>&#125;</span><br><span class=\"line\">    total = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == len(s)<span class=\"number\">-1</span> <span class=\"keyword\">or</span> roman[s[i]] &gt;= roman[s[i+<span class=\"number\">1</span>]]</span><br><span class=\"line\">            total += roman[s[i]]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            total -= roman[s[i]]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> total</span><br></pre></td></tr></table></figure>\n<h3 id=\"69-Sqrt-x\"><a href=\"#69-Sqrt-x\" class=\"headerlink\" title=\"69. Sqrt(x)\"></a>69. Sqrt(x)</h3><h4 id=\"å®ç°å¼€æ–¹ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚åŸé¢˜\"><a href=\"#å®ç°å¼€æ–¹ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°å¼€æ–¹ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚åŸé¢˜\"></a>å®ç°å¼€æ–¹ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚<a href=\"https://leetcode.com/problems/sqrtx/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 8</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: The square root of 8 is 2.82842..., and since </span><br><span class=\"line\">             the decimal part is truncated, 2 is returned.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mySqrt</span><span class=\"params\">(self, x: int)</span> -&gt; int:</span></span><br><span class=\"line\">    lo, hi = <span class=\"number\">1</span>, x</span><br><span class=\"line\">    <span class=\"keyword\">while</span> lo &lt;= hi:</span><br><span class=\"line\">        mid = (lo + hi) // <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> mid**<span class=\"number\">2</span> &lt; x:</span><br><span class=\"line\">            lo = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> mid**<span class=\"number\">2</span> &gt; x:</span><br><span class=\"line\">            hi = mid - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> mid</span><br><span class=\"line\">    <span class=\"keyword\">return</span> hi</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://en.wikipedia.org/wiki/Integer_square_root#Using_only_integer_division\" target=\"_blank\" rel=\"noopener\">ç‰›é¡¿è¿­ä»£æ³•</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">my_sqrt</span><span class=\"params\">(x)</span>:</span></span><br><span class=\"line\">    r = x</span><br><span class=\"line\">    <span class=\"keyword\">while</span> r**<span class=\"number\">2</span> &gt; x:</span><br><span class=\"line\">        r = (r+x//r) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r</span><br></pre></td></tr></table></figure>\n<h3 id=\"367-Valid-Perfect-Square\"><a href=\"#367-Valid-Perfect-Square\" class=\"headerlink\" title=\"367. Valid Perfect Square\"></a>367. Valid Perfect Square</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹ã€‚<a href=\"https://leetcode.com/problems/valid-perfect-square/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 16</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šç‰›é¡¿è¿­ä»£æ³•ã€‚åŒ69ã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPerfectSquare</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    r = num</span><br><span class=\"line\">    <span class=\"keyword\">while</span> r**<span class=\"number\">2</span> &gt; num:</span><br><span class=\"line\">        r = (r + num // r) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r**<span class=\"number\">2</span> == num</span><br></pre></td></tr></table></figure>\n<h3 id=\"171-Excel-Sheet-Column-Number\"><a href=\"#171-Excel-Sheet-Column-Number\" class=\"headerlink\" title=\"171. Excel Sheet Column Number\"></a>171. Excel Sheet Column Number</h3><h4 id=\"excelè¡¨æ ¼åˆ—è¡¨æ•°å­—è½¬æ¢ï¼ŒäºŒåå…­è¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#excelè¡¨æ ¼åˆ—è¡¨æ•°å­—è½¬æ¢ï¼ŒäºŒåå…­è¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"excelè¡¨æ ¼åˆ—è¡¨æ•°å­—è½¬æ¢ï¼ŒäºŒåå…­è¿›åˆ¶ã€‚åŸé¢˜\"></a>excelè¡¨æ ¼åˆ—è¡¨æ•°å­—è½¬æ¢ï¼ŒäºŒåå…­è¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/excel-sheet-column-number/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">A -&gt; 1</span><br><span class=\"line\">B -&gt; 2</span><br><span class=\"line\">C -&gt; 3</span><br><span class=\"line\">...</span><br><span class=\"line\">Z -&gt; 26</span><br><span class=\"line\">AA -&gt; 27</span><br><span class=\"line\">AB -&gt; 28     A -&gt; 1</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">titleToNumber</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    OFFSET = ord(<span class=\"string\">'A'</span>)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum((ord(x)-OFFSET)*<span class=\"number\">26</span>**i <span class=\"keyword\">for</span> i, x <span class=\"keyword\">in</span> enumerate(s[::<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"168-Excel-Sheet-Column-Title\"><a href=\"#168-Excel-Sheet-Column-Title\" class=\"headerlink\" title=\"168. Excel Sheet Column Title\"></a>168. Excel Sheet Column Title</h3><h4 id=\"excelè½¬æ¢ï¼Œæ•°å­—è½¬å­—æ¯ã€‚åè¿›åˆ¶-gt-26è¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#excelè½¬æ¢ï¼Œæ•°å­—è½¬å­—æ¯ã€‚åè¿›åˆ¶-gt-26è¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"excelè½¬æ¢ï¼Œæ•°å­—è½¬å­—æ¯ã€‚åè¿›åˆ¶-&gt;26è¿›åˆ¶ã€‚åŸé¢˜\"></a>excelè½¬æ¢ï¼Œæ•°å­—è½¬å­—æ¯ã€‚åè¿›åˆ¶-&gt;26è¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/excel-sheet-column-title\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convertToTitle</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    res = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        res = chr((n<span class=\"number\">-1</span>)%<span class=\"number\">26</span>+<span class=\"number\">65</span>) + res</span><br><span class=\"line\">        <span class=\"comment\"># n //= 26</span></span><br><span class=\"line\">        n = (n<span class=\"number\">-1</span>) // <span class=\"number\">26</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"172-Factorial-Trailing-Zeroes\"><a href=\"#172-Factorial-Trailing-Zeroes\" class=\"headerlink\" title=\"172. Factorial Trailing Zeroes\"></a>172. Factorial Trailing Zeroes</h3><h4 id=\"æ±‚nçš„é˜¶ä¹˜æœ«å°¾æœ‰å‡ ä¸ª0ã€‚åŸé¢˜\"><a href=\"#æ±‚nçš„é˜¶ä¹˜æœ«å°¾æœ‰å‡ ä¸ª0ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚nçš„é˜¶ä¹˜æœ«å°¾æœ‰å‡ ä¸ª0ã€‚åŸé¢˜\"></a>æ±‚nçš„é˜¶ä¹˜æœ«å°¾æœ‰å‡ ä¸ª0ã€‚<a href=\"https://leetcode.com/problems/factorial-trailing-zeroes/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 5</span><br><span class=\"line\">Output: 1</span><br><span class=\"line\">Explanation: 5! &#x3D; 120, one trailing zero.</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼šæ¯ä¸€å¯¹2å’Œ5å¯ä»¥äº§ç”Ÿä¸€ä¸ª0ï¼Œåœ¨nçš„é˜¶ä¹˜ä¸­ï¼Œ5æ¯”2å¤šï¼Œæ‰€ä»¥é—®é¢˜å˜æˆæ±‚5çš„ä¸ªæ•°ï¼Œè€Œ25è¿™ç§æ•°æœ‰ä¸¤ä¸ª5ï¼Œæ‰€ä»¥é€’å½’æ±‚è§£</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">trailing_zeroes</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span> <span class=\"keyword\">if</span> n == <span class=\"number\">0</span> <span class=\"keyword\">else</span> n//<span class=\"number\">5</span> + trailing_zeroes(n//<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"204-Count-Primes\"><a href=\"#204-Count-Primes\" class=\"headerlink\" title=\"204. Count Primes\"></a>204. Count Primes</h3><h4 id=\"æ±‚å°äºnçš„æ•´æ•°ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªè´¨æ•°ã€‚åŸé¢˜\"><a href=\"#æ±‚å°äºnçš„æ•´æ•°ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªè´¨æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚å°äºnçš„æ•´æ•°ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªè´¨æ•°ã€‚åŸé¢˜\"></a>æ±‚å°äºnçš„æ•´æ•°ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªè´¨æ•°ã€‚<a href=\"https://leetcode.com/problems/count-primes/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPrimes</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    is_prime = [<span class=\"literal\">False</span>]*<span class=\"number\">2</span> + [<span class=\"literal\">True</span>]*(n<span class=\"number\">-2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, int(n ** <span class=\"number\">0.5</span>)+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> is_prime[i]:</span><br><span class=\"line\">            is_prime[i*i:n:i] = [<span class=\"literal\">False</span>] * len(is_prime[i*i:n:i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sum(is_prime)</span><br></pre></td></tr></table></figure>\n<h3 id=\"50-Pow-x-n\"><a href=\"#50-Pow-x-n\" class=\"headerlink\" title=\"50. Pow(x, n)\"></a>50. Pow(x, n)</h3><h4 id=\"å®ç°powå‡½æ•°ã€‚åŸé¢˜\"><a href=\"#å®ç°powå‡½æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°powå‡½æ•°ã€‚åŸé¢˜\"></a>å®ç°powå‡½æ•°ã€‚<a href=\"https://leetcode.com/problems/powx-n/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 2.00000, 10</span><br><span class=\"line\">Output: 1024.00000</span><br><span class=\"line\"></span><br><span class=\"line\">Input: 2.00000, -2</span><br><span class=\"line\">Output: 0.25000 .</span><br></pre></td></tr></table></figure>\n<p>è¯´æ˜ï¼šå¸¸è§„æ–¹æ³•åœ¨Leetcode ä¸Šå†…å­˜ä¼šçˆ†æ‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">myPow</span><span class=\"params\">(self, x, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span> / self.pow_with_unsigned(x, -n)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> self.pow_with_unsigned(x, n)</span><br><span class=\"line\">              </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">pow_with_unsigned</span><span class=\"params\">(self, x, n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> x</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        res = self.pow_with_unsigned(x, n &gt;&gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">        res *= res</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            res *= x</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"233-Number-of-Digit-One\"><a href=\"#233-Number-of-Digit-One\" class=\"headerlink\" title=\"233. Number of Digit One\"></a>233. Number of Digit One</h3><h4 id=\"1-næ•°å­—ä¸­1çš„ä¸ªæ•°ã€‚åŸé¢˜\"><a href=\"#1-næ•°å­—ä¸­1çš„ä¸ªæ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"1~næ•°å­—ä¸­1çš„ä¸ªæ•°ã€‚åŸé¢˜\"></a>1~næ•°å­—ä¸­1çš„ä¸ªæ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-digit-one/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countDigitOne</span><span class=\"params\">(self, n)</span>:</span>    </span><br><span class=\"line\">    countr, i = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i &lt;= n:</span><br><span class=\"line\">        divider = i * <span class=\"number\">10</span></span><br><span class=\"line\">        countr += (n // divider) * i + min(max(n % divider - i + <span class=\"number\">1</span>, <span class=\"number\">0</span>), i)</span><br><span class=\"line\">        i *= <span class=\"number\">10</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> countr</span><br></pre></td></tr></table></figure>\n<h3 id=\"263-Ugly-Number\"><a href=\"#263-Ugly-Number\" class=\"headerlink\" title=\"263. Ugly Number\"></a>263. Ugly Number</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ä¸‘æ•°ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ä¸‘æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ä¸‘æ•°ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ä¸‘æ•°ã€‚<a href=\"https://leetcode.com/problems/ugly-number-ii/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šæ ¹æ®å®šä¹‰å®ç°ã€‚<code>&lt; num</code>æ˜¯ä¸ºäº†åˆ¤æ–­<code>num=0</code>çš„æƒ…å†µã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isUgly</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> f <span class=\"keyword\">in</span> <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> num % f == <span class=\"number\">0</span> &lt; num:</span><br><span class=\"line\">            num //= f</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num == <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"264-Ugly-Number-II\"><a href=\"#264-Ugly-Number-II\" class=\"headerlink\" title=\"264. Ugly Number II\"></a>264. Ugly Number II</h3><h4 id=\"è¾“å‡ºç¬¬nä¸ªä¸‘æ•°ã€‚åŸé¢˜\"><a href=\"#è¾“å‡ºç¬¬nä¸ªä¸‘æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¾“å‡ºç¬¬nä¸ªä¸‘æ•°ã€‚åŸé¢˜\"></a>è¾“å‡ºç¬¬nä¸ªä¸‘æ•°ã€‚<a href=\"https://leetcode.com/problems/ugly-number-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>ä¹¦ä¸­çš„æ–¹æ³•</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nthUglyNumber</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    q = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    t2, t3, t5 = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        a2, a3, a5 = q[t2]*<span class=\"number\">2</span>, q[t3]*<span class=\"number\">3</span>, q[t5]*<span class=\"number\">5</span></span><br><span class=\"line\">        to_add = min(a2, a3, a5)</span><br><span class=\"line\">        q.append(to_add)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a2 == to_add:</span><br><span class=\"line\">            t2 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> a3 == to_add:</span><br><span class=\"line\">            t3 += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> a5 == to_add:</span><br><span class=\"line\">            t5 += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> q[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"67-Add-Binary\"><a href=\"#67-Add-Binary\" class=\"headerlink\" title=\"67.Add Binary\"></a>67.Add Binary</h3><h4 id=\"å®ç°äºŒè¿›åˆ¶åŠ æ³•ã€‚åŸé¢˜\"><a href=\"#å®ç°äºŒè¿›åˆ¶åŠ æ³•ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å®ç°äºŒè¿›åˆ¶åŠ æ³•ã€‚åŸé¢˜\"></a>å®ç°äºŒè¿›åˆ¶åŠ æ³•ã€‚<a href=\"https://leetcode.com/problems/add-binary/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: a &#x3D; &quot;11&quot;, b &#x3D; &quot;1&quot;</span><br><span class=\"line\">Output: &quot;100&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæŒ‰ç…§åŠ æ³•çš„äºŒè¿›åˆ¶æ€æƒ³æ¥è®¡ç®—ï¼Œä¸è¿‡Runtimeå¤§çº¦100msã€‚åæ¥è¯•ç€å°†<code>list comprehension</code>æ‹†æˆä¸€ä¸ª<code>for</code>å¾ªç¯ï¼Œä¹Ÿå¹¶æ²¡æœ‰æé«˜é€Ÿåº¦ã€‚å±…ç„¶<code>beats</code>åªæœ‰4%ï¼Œéš¾é“å¤§éƒ¨åˆ†äººéƒ½ç”¨çš„<code>bin</code>ã€‚è®¨è®ºåŒºç®€å•ç¿»äº†äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªé«˜æ•ˆçš„pythonicçš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addBinary</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(a) &gt; len(b):</span><br><span class=\"line\">        b = b.zfill(len(a))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        a = a.zfill(len(b))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">while</span> int(b):</span><br><span class=\"line\">        sum_not_carry = <span class=\"string\">''</span>.join([str(int(a[i]) ^ int(b[i])) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(a))])</span><br><span class=\"line\">        carry = <span class=\"string\">''</span>.join([str(int(a[i]) &amp; int(b[i])) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(a))])</span><br><span class=\"line\">        a, b = <span class=\"string\">\"0\"</span>+sum_not_carry, carry+<span class=\"string\">'0'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.lstrip(<span class=\"string\">'0'</span>) <span class=\"keyword\">if</span> a != <span class=\"string\">'0'</span> <span class=\"keyword\">else</span> <span class=\"string\">'0'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"202-Happy-Number\"><a href=\"#202-Happy-Number\" class=\"headerlink\" title=\"202. Happy Number\"></a>202. Happy Number</h3><h4 id=\"åˆ¤æ–­æ˜¯å¦æ˜¯æ¬¢ä¹æ•°ã€‚è¿›è¡Œæ‰€æœ‰ä½çš„å¹³æ–¹å’Œè¿ç®—ï¼Œæœ€åä¸º1çš„æ˜¯æ¬¢ä¹æ•°ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­æ˜¯å¦æ˜¯æ¬¢ä¹æ•°ã€‚è¿›è¡Œæ‰€æœ‰ä½çš„å¹³æ–¹å’Œè¿ç®—ï¼Œæœ€åä¸º1çš„æ˜¯æ¬¢ä¹æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­æ˜¯å¦æ˜¯æ¬¢ä¹æ•°ã€‚è¿›è¡Œæ‰€æœ‰ä½çš„å¹³æ–¹å’Œè¿ç®—ï¼Œæœ€åä¸º1çš„æ˜¯æ¬¢ä¹æ•°ã€‚åŸé¢˜\"></a>åˆ¤æ–­æ˜¯å¦æ˜¯æ¬¢ä¹æ•°ã€‚è¿›è¡Œæ‰€æœ‰ä½çš„å¹³æ–¹å’Œè¿ç®—ï¼Œæœ€åä¸º1çš„æ˜¯æ¬¢ä¹æ•°ã€‚<a href=\"https://leetcode.com/problems/happy-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 19</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">1**2 + 9**2 &#x3D; 82</span><br><span class=\"line\">8**2 + 2**2 &#x3D; 68</span><br><span class=\"line\">6**2 + 8**2 &#x3D; 100</span><br><span class=\"line\">1**2 + 0**2 + 0**2 &#x3D; 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ€è·¯ï¼Œä½¿ç”¨ä¸€ä¸ªå­—å…¸æ˜ å°„0~9çš„å¹³æ–¹å€¼ï¼Œç„¶åå¦‚æœæ­»å¾ªç¯çš„è¯ï¼Œå„ä½æ•°çš„å’Œä¸€å®šå­˜åœ¨ç€ä¸€ç§å¾ªç¯ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ª<code>set</code>æ¥åˆ¤æ–­æ˜¯å¦é‡å¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isHappy</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    squares = &#123;str(k): k**<span class=\"number\">2</span> <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, <span class=\"number\">10</span>)&#125;</span><br><span class=\"line\">    sum_digit = set()</span><br><span class=\"line\">    <span class=\"keyword\">while</span> n != <span class=\"number\">1</span>:</span><br><span class=\"line\">        n = sum(squares[digit] <span class=\"keyword\">for</span> digit <span class=\"keyword\">in</span> str(n))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n <span class=\"keyword\">in</span> sum_digit:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            sum_digit.add(n)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"231-Power-of-Two\"><a href=\"#231-Power-of-Two\" class=\"headerlink\" title=\"231. Power of Two\"></a>231. Power of Two</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„næ¬¡æ–¹ã€‚æ€è·¯ä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯å¦åªæœ‰ä¸€ä¸ªâ€™1â€™ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„næ¬¡æ–¹ã€‚æ€è·¯ä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯å¦åªæœ‰ä¸€ä¸ªâ€™1â€™ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„næ¬¡æ–¹ã€‚æ€è·¯ä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯å¦åªæœ‰ä¸€ä¸ªâ€™1â€™ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„næ¬¡æ–¹ã€‚æ€è·¯ä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯å¦åªæœ‰ä¸€ä¸ªâ€™1â€™ã€‚<a href=\"https://leetcode.com/problems/power-of-two\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå¯ä»¥ç”¨ä½œé€šç”¨æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfTwo</span><span class=\"params\">(self, n, power=<span class=\"number\">2</span>)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n % power == <span class=\"number\">0</span>:</span><br><span class=\"line\">        n //= power</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n == <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶ç»Ÿè®¡1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfTwo</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> bin(n).count(<span class=\"string\">'1'</span>) == <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šå¦‚æœä¸€ä¸ªæ•°nçš„äºŒè¿›åˆ¶åªæœ‰ä¸€ä¸ª1ï¼Œé‚£ä¹ˆ<code>n&amp;(n-1)</code>ä¸€å®šä¸º0ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfTwo</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> (n&amp;n<span class=\"number\">-1</span>) == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"342-Power-of-Four\"><a href=\"#342-Power-of-Four\" class=\"headerlink\" title=\"342. Power of Four\"></a>342. Power of Four</h3><h4 id=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯4çš„næ¬¡æ–¹ã€‚åŸé¢˜\"><a href=\"#åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯4çš„næ¬¡æ–¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯4çš„næ¬¡æ–¹ã€‚åŸé¢˜\"></a>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯4çš„næ¬¡æ–¹ã€‚<a href=\"https://leetcode.com/problems/power-of-four/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä»ç®€å•å…¥æ‰‹é€šè¿‡231é¢˜ï¼Œäº†è§£åˆ°äº†2çš„næ¬¡æ–¹ç‰¹ç‚¹æ˜¯ï¼ŒäºŒè¿›åˆ¶å½¢å¼åªæœ‰ä¸€ä¸ªâ€™1â€™ï¼Œé‚£ä¹ˆ4çš„næ¬¡æ–¹å°±æ˜¯ä¸ä½†åªæœ‰ä¸€ä¸ªâ€™1â€™ï¼Œåé¢è¿˜è·Ÿäº†å¶æ•°ä¸ªâ€™0â€™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfFour</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    single_1 = num &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> (num &amp; num<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> single_1:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> num &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> num == <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                num &gt;&gt;= <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä¸Šè¿°ä»£ç çœ‹èµ·æ¥æ›´åƒæ˜¯javaä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨countæ¥åˆ¤æ–­0çš„ä¸ªæ•°æ˜¯å¦ä¸ºå¶æ•°ä¸ªã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfFour</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># return num &gt; 0 and (num &amp; num-1)==0 and bin(num)[2:].count('0')&amp;1==0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> num &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> (num &amp; num<span class=\"number\">-1</span>)==<span class=\"number\">0</span> <span class=\"keyword\">and</span> len(bin(num))&amp;<span class=\"number\">1</span>==<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸‰ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isPowerOfFour</span><span class=\"params\">(self, num)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> re</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bool(re.match(<span class=\"string\">r'^0b1(00)*$'</span>,bin(num)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"292-Nim-Game\"><a href=\"#292-Nim-Game\" class=\"headerlink\" title=\"292. Nim Game\"></a>292. Nim Game</h3><h4 id=\"è¯´ï¼Œæœ‰è¿™ä¹ˆä¸€å †çŸ³å¤´ï¼Œä¸€æ¬¡åªèƒ½æ‹¿1-3ä¸ªï¼Œæ‹¿åˆ°æœ€åä¸€ä¸ªçŸ³å¤´çš„äººè·èƒœã€‚æ±‚nå †çŸ³å¤´ï¼Œä½ å…ˆæ‹¿æ˜¯å¦å¯ä»¥è·èƒœã€‚åŸé¢˜\"><a href=\"#è¯´ï¼Œæœ‰è¿™ä¹ˆä¸€å †çŸ³å¤´ï¼Œä¸€æ¬¡åªèƒ½æ‹¿1-3ä¸ªï¼Œæ‹¿åˆ°æœ€åä¸€ä¸ªçŸ³å¤´çš„äººè·èƒœã€‚æ±‚nå †çŸ³å¤´ï¼Œä½ å…ˆæ‹¿æ˜¯å¦å¯ä»¥è·èƒœã€‚åŸé¢˜\" class=\"headerlink\" title=\"è¯´ï¼Œæœ‰è¿™ä¹ˆä¸€å †çŸ³å¤´ï¼Œä¸€æ¬¡åªèƒ½æ‹¿1~3ä¸ªï¼Œæ‹¿åˆ°æœ€åä¸€ä¸ªçŸ³å¤´çš„äººè·èƒœã€‚æ±‚nå †çŸ³å¤´ï¼Œä½ å…ˆæ‹¿æ˜¯å¦å¯ä»¥è·èƒœã€‚åŸé¢˜\"></a>è¯´ï¼Œæœ‰è¿™ä¹ˆä¸€å †çŸ³å¤´ï¼Œä¸€æ¬¡åªèƒ½æ‹¿1~3ä¸ªï¼Œæ‹¿åˆ°æœ€åä¸€ä¸ªçŸ³å¤´çš„äººè·èƒœã€‚æ±‚nå †çŸ³å¤´ï¼Œä½ å…ˆæ‹¿æ˜¯å¦å¯ä»¥è·èƒœã€‚<a href=\"https://leetcode.com/problems/nim-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šæ‰¾è§„å¾‹ï¼Œå‘ç°åªæœ‰æœ€åå‰©4ä¸ªçŸ³å¤´çš„æ—¶å€™ï¼Œæ­¤æ—¶è½®åˆ°è°ï¼Œè°è¾“ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">canWinNim</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n % <span class=\"number\">4</span> != <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"400-Nth-Digit\"><a href=\"#400-Nth-Digit\" class=\"headerlink\" title=\"400. Nth Digit\"></a>400. Nth Digit</h3><h4 id=\"æ‰¾å‡ºæ— é™æ•´æ•°åºåˆ—ä¸­çš„ç¬¬nä¸ªæ•°å­—ã€‚åŸé¢˜\"><a href=\"#æ‰¾å‡ºæ— é™æ•´æ•°åºåˆ—ä¸­çš„ç¬¬nä¸ªæ•°å­—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰¾å‡ºæ— é™æ•´æ•°åºåˆ—ä¸­çš„ç¬¬nä¸ªæ•°å­—ã€‚åŸé¢˜\"></a>æ‰¾å‡ºæ— é™æ•´æ•°åºåˆ—ä¸­çš„ç¬¬nä¸ªæ•°å­—ã€‚<a href=\"https://leetcode.com/problems/nth-digit/description/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">11</span><br><span class=\"line\">Output:</span><br><span class=\"line\">0</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">The 11th digit of the sequence 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ... is a 0, which is part of the number 10.</span><br></pre></td></tr></table></figure>\n<p>æ€è·¯ï¼Œæ ¹æ®nçš„ä½æ•°ï¼Œå°†æ— é™åºåˆ—åˆ†ä¸ºå‡ ä¸ªèŒƒå›´ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>size of n</th>\n<th>step</th>\n<th>start</th>\n<th>~</th>\n<th>stop</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>9</td>\n<td>1</td>\n<td>~</td>\n<td>9</td>\n</tr>\n<tr>\n<td>2</td>\n<td>90</td>\n<td>10</td>\n<td>~</td>\n<td>99</td>\n</tr>\n<tr>\n<td>3</td>\n<td>900</td>\n<td>100</td>\n<td>~</td>\n<td>999</td>\n</tr>\n</tbody>\n</table>\n<ol>\n<li>å¯»æ‰¾èŒƒå›´ã€‚å¯»æ‰¾nå¤„äºå“ªä¸ªèŒƒå›´ï¼Œæ˜¯1~9ï¼Œè¿˜æ˜¯10~99ï¼Œä¾‹å¦‚n=15ã€‚åˆ™éœ€è¦è·³è¿‡1~9çš„èŒƒå›´ï¼Œè€Œè¿™ä¸ªèŒƒå›´æœ‰<code>size*step</code>ä¸ªæ•°å­—ï¼Œæ‰€ä»¥é—®é¢˜å˜æˆåœ¨10~99èŒƒå›´ä¸Šå¯»æ‰¾ç¬¬<code>15-1*9=6</code>ä¸ªæ•°ã€‚</li>\n<li>å®šä½æ•°å­—ã€‚10~99èŒƒå›´ä¸­æ˜¯ä»10å¼€å§‹çš„ï¼Œæ¯ä¸€ä¸ªæ•°éƒ½æœ‰ä¸¤ä½æ•°å­—ï¼Œæ‰€ä»¥æœ€ç»ˆæ•°å­—ä¸º<code>10+(6-1)//2</code>ï¼Œå› ä¸ºç´¢å¼•ä»0å¼€å§‹ï¼Œæ‰€ä»¥éœ€è¦-1ã€‚</li>\n<li>å®šä½æ•°å­—çš„ä½ã€‚ä¸Šä¸€æ­¥æ‰¾åˆ°äº†æ•°å­—ä¸º12ï¼Œå¯¹sizeæ±‚ä½™å°±å¯ä»¥çŸ¥é“ï¼Œ<code>&#39;12&#39;[(6-1)%2]=&#39;2&#39;</code>ã€‚</li>\n</ol>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">findNthDigit</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    start, step, size = <span class=\"number\">1</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n &gt; size * step:</span><br><span class=\"line\">        n, start, step, size = n-size*step, start*<span class=\"number\">10</span>, step*<span class=\"number\">10</span>, size+<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> int(str(start + (n<span class=\"number\">-1</span>)//size)[(n<span class=\"number\">-1</span>) % size])</span><br></pre></td></tr></table></figure>\n<h3 id=\"415-Add-Stings\"><a href=\"#415-Add-Stings\" class=\"headerlink\" title=\"415. Add Stings\"></a>415. Add Stings</h3><h4 id=\"ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å­—ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªæ•°çš„é•¿åº¦å°äº5100ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•BitIntegråº“æˆ–æ˜¯ç›´æ¥å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚ps-é¢˜ä¸­è¦æ±‚ä¸å°†è¾“å…¥ç›´æ¥è½¬æ¢æˆintï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºintè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆä¸­æ˜¯ä½¿ç”¨äº†ordæ¥åšè¿ç®—ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å­—ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªæ•°çš„é•¿åº¦å°äº5100ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•BitIntegråº“æˆ–æ˜¯ç›´æ¥å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚ps-é¢˜ä¸­è¦æ±‚ä¸å°†è¾“å…¥ç›´æ¥è½¬æ¢æˆintï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºintè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆä¸­æ˜¯ä½¿ç”¨äº†ordæ¥åšè¿ç®—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å­—ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªæ•°çš„é•¿åº¦å°äº5100ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•BitIntegråº“æˆ–æ˜¯ç›´æ¥å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚ps: é¢˜ä¸­è¦æ±‚ä¸å°†è¾“å…¥ç›´æ¥è½¬æ¢æˆintï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºintè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆä¸­æ˜¯ä½¿ç”¨äº†ordæ¥åšè¿ç®—ã€‚åŸé¢˜\"></a>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å­—ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªæ•°çš„é•¿åº¦å°äº5100ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•BitIntegråº“æˆ–æ˜¯ç›´æ¥å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚ps: é¢˜ä¸­è¦æ±‚ä¸å°†è¾“å…¥ç›´æ¥è½¬æ¢æˆintï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºintè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆä¸­æ˜¯ä½¿ç”¨äº†ordæ¥åšè¿ç®—ã€‚<a href=\"https://leetcode.com/problems/add-strings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨æ ‡å‡†åº“ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addStrings</span><span class=\"params\">(self, num1, num2)</span>:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(num1) &gt; len(num2):</span><br><span class=\"line\">        num2 = num2.zfill(len(num1))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        num1 = num1.zfill(len(num2))</span><br><span class=\"line\"></span><br><span class=\"line\">    res, carry = <span class=\"string\">''</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    n1, n2 = len(num1)<span class=\"number\">-1</span>, len(num2)<span class=\"number\">-1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (n1 &gt;= <span class=\"number\">0</span> <span class=\"keyword\">and</span> n2 &gt;= <span class=\"number\">0</span>) <span class=\"keyword\">or</span> carry:</span><br><span class=\"line\">        v1 = int(num1[n1]) <span class=\"keyword\">if</span> n1 &gt;= <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        v2 = int(num2[n2]) <span class=\"keyword\">if</span> n2 &gt;= <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"number\">0</span></span><br><span class=\"line\">        carry, val = divmod(v1+v2+carry, <span class=\"number\">10</span>)</span><br><span class=\"line\">        res = str(val) + res</span><br><span class=\"line\">        n1 -= <span class=\"number\">1</span></span><br><span class=\"line\">        n2 -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\"><strong>æ–¹æ³•äºŒï¼šä½¿ç”¨zip_longestã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addStrings</span><span class=\"params\">(self, num1, num2)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> itertools <span class=\"keyword\">import</span> zip_longest</span><br><span class=\"line\">    nums = list(zip_longest(num1[::<span class=\"number\">-1</span>], num2[::<span class=\"number\">-1</span>], fillvalue=<span class=\"string\">'0'</span>))</span><br><span class=\"line\">    carry, res = <span class=\"number\">0</span>, <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> digits <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        d1, d2 = map(int, digits)</span><br><span class=\"line\">        carry, val = divmod(d1+d2+carry, <span class=\"number\">10</span>)</span><br><span class=\"line\">        res = res + str(val)</span><br><span class=\"line\">    res = res <span class=\"keyword\">if</span> carry==<span class=\"number\">0</span> <span class=\"keyword\">else</span> res+str(carry)        </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"492-Construct-the-Rectangle\"><a href=\"#492-Construct-the-Rectangle\" class=\"headerlink\" title=\"492. Construct the Rectangle\"></a>492. Construct the Rectangle</h3><h4 id=\"ç»™å®šä¸€ä¸ªé¢ç§¯ï¼Œæ±‚ç»„æˆè¿™ä¸ªé¢ç§¯çš„é•¿é«˜å·®æœ€å°ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªé¢ç§¯ï¼Œæ±‚ç»„æˆè¿™ä¸ªé¢ç§¯çš„é•¿é«˜å·®æœ€å°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªé¢ç§¯ï¼Œæ±‚ç»„æˆè¿™ä¸ªé¢ç§¯çš„é•¿é«˜å·®æœ€å°ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªé¢ç§¯ï¼Œæ±‚ç»„æˆè¿™ä¸ªé¢ç§¯çš„é•¿é«˜å·®æœ€å°ã€‚<a href=\"https://leetcode.com/problems/construct-the-rectangle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 4</span><br><span class=\"line\">Output: [2, 2]</span><br><span class=\"line\">Explanation: The target area is 4, and all the possible ways to construct it are [1,4], [2,2], [4,1]. </span><br><span class=\"line\">But according to requirement 2, [1,4] is illegal; according to requirement 3,  [4,1] is not optimal compared to [2,2]. So the length L is 2, and the width W is 2.</span><br></pre></td></tr></table></figure>\n<font color=\"#FF0000\" size=\"3\"><strong>æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æˆ‘å±…ç„¶è¿™æ ·å†™ã€‚ç»“æœè¶…æ—¶äº†ï¼Œåæ¥å‘ç°L+=1ï¼Œå¾ªç¯æ¬¡æ•°è¦æ¯”L-=1è¦å¤šã€‚</strong></font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructRectangle</span><span class=\"params\">(self, area)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> math</span><br><span class=\"line\">    squre = math.sqrt(area)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> int(squre) == squre:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [int(squre), int(squre)]</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        L = int(squre) + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> area % L != <span class=\"number\">0</span>:</span><br><span class=\"line\">            L += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> [L, area//L]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ•´ç†ä¸€ä¸‹æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œä¹‹å‰æƒ³å¤šäº†è¿˜ä»¥ä¸ºæœ‰äºŒåˆ†çš„æ–¹æ³•ã€‚é€’å‡è‚¯å®šæ˜¯ä¼šä¼˜å…ˆé€€å‡ºå¾ªç¯çš„ï¼Œä½†æ˜¯æˆ‘è¿˜ä¸çŸ¥é“æ€ä¹ˆè¯æ˜è¿™ä¸ªç»“è®ºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">constructRectangle</span><span class=\"params\">(self, area)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> math</span><br><span class=\"line\">    w = int(math.sqrt(area))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> area % w != <span class=\"number\">0</span>:</span><br><span class=\"line\">        w -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [area//w, w]</span><br></pre></td></tr></table></figure>\n<h3 id=\"504-Base-7\"><a href=\"#504-Base-7\" class=\"headerlink\" title=\"504. Base 7\"></a>504. Base 7</h3><h4 id=\"10è¿›åˆ¶è½¬7è¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#10è¿›åˆ¶è½¬7è¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"10è¿›åˆ¶è½¬7è¿›åˆ¶ã€‚åŸé¢˜\"></a>10è¿›åˆ¶è½¬7è¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/base-7/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 100</span><br><span class=\"line\">Output: &quot;202&quot;</span><br><span class=\"line\">Input: -7</span><br><span class=\"line\">Output: &quot;-10&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šéœ€è¦æ³¨æ„è´Ÿæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">convertToBase7</span><span class=\"params\">(self, num: int)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> num == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"string\">'0'</span></span><br><span class=\"line\">    n, ans = abs(num), <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">        n, val = divmod(n, <span class=\"number\">7</span>)</span><br><span class=\"line\">        ans = str(val) + ans</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans <span class=\"keyword\">if</span> num &gt; <span class=\"number\">0</span> <span class=\"keyword\">else</span> <span class=\"string\">'-'</span>+ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"970-Powerful-Integers\"><a href=\"#970-Powerful-Integers\" class=\"headerlink\" title=\"970. Powerful Integers\"></a>970. Powerful Integers</h3><h4 id=\"æ±‚æ»¡è¶³x-i-y-j-lt-boundçš„æ‰€æœ‰å’Œã€‚åŸé¢˜\"><a href=\"#æ±‚æ»¡è¶³x-i-y-j-lt-boundçš„æ‰€æœ‰å’Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚æ»¡è¶³x^i+y^j &lt;= boundçš„æ‰€æœ‰å’Œã€‚åŸé¢˜\"></a>æ±‚æ»¡è¶³x^i+y^j &lt;= boundçš„æ‰€æœ‰å’Œã€‚<a href=\"https://leetcode.com/contest/weekly-contest-118/problems/powerful-integers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: x &#x3D; 2, y &#x3D; 3, bound &#x3D; 10</span><br><span class=\"line\">Output: [2,3,4,5,7,9,10]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">2 &#x3D; 2^0 + 3^0</span><br><span class=\"line\">3 &#x3D; 2^1 + 3^0</span><br><span class=\"line\">4 &#x3D; 2^0 + 3^1</span><br><span class=\"line\">5 &#x3D; 2^1 + 3^1</span><br><span class=\"line\">7 &#x3D; 2^2 + 3^1</span><br><span class=\"line\">9 &#x3D; 2^3 + 3^0</span><br><span class=\"line\">10 &#x3D; 2^0 + 3^2</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜éš¾å¾—åœ°æ–¹åœ¨äºä¸¤ä¸ªå¾ªç¯çš„ä¸´ç•Œå€¼ï¼Œè²Œä¼¼æˆ‘è¿™æ ·å†™ä¹Ÿä¸æ˜¯æœ€ä¼˜è§£ï¼ŒåŸé¢˜çš„Solutionä¸­ç»™å®šäº†2**18&gt;boundçš„æœ€å¤§å€¼ã€‚æ‰€ä»¥ä¸¤ä¸ªèŒƒå›´éƒ½æ˜¯18ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">powerfulIntegers</span><span class=\"params\">(self, x, y, bound)</span>:</span></span><br><span class=\"line\">    res = set()</span><br><span class=\"line\">    imax = self.get_max(x, bound) + <span class=\"number\">1</span></span><br><span class=\"line\">    jmax = self.get_max(y, bound) + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(imax):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(jmax):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> x**i + y**j &lt;= bound:</span><br><span class=\"line\">                res.add(x**i+y**j)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(res)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_max</span><span class=\"params\">(self, n, bound)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(bound//n + <span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n ** i &gt;= bound:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> i</span><br><span class=\"line\">        <span class=\"keyword\">return</span> bound//n + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"973-K-Closest-Points-to-Origin\"><a href=\"#973-K-Closest-Points-to-Origin\" class=\"headerlink\" title=\"973. K Closest Points to Origin\"></a>973. K Closest Points to Origin</h3><h4 id=\"æ±‚ç¦»åŸç‚¹æœ€è¿‘çš„Kä¸ªåæ ‡ç‚¹ã€‚åŸé¢˜\"><a href=\"#æ±‚ç¦»åŸç‚¹æœ€è¿‘çš„Kä¸ªåæ ‡ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ±‚ç¦»åŸç‚¹æœ€è¿‘çš„Kä¸ªåæ ‡ç‚¹ã€‚åŸé¢˜\"></a>æ±‚ç¦»åŸç‚¹æœ€è¿‘çš„Kä¸ªåæ ‡ç‚¹ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-119/problems/k-closest-points-to-origin/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: points &#x3D; [[1,3],[-2,2]], K &#x3D; 1</span><br><span class=\"line\">Output: [[-2,2]]</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The distance between (1, 3) and the origin is sqrt(10).</span><br><span class=\"line\">The distance between (-2, 2) and the origin is sqrt(8).</span><br><span class=\"line\">Since sqrt(8) &lt; sqrt(10), (-2, 2) is closer to the origin.</span><br><span class=\"line\">We only want the closest K &#x3D; 1 points from the origin, so the answer is just [[-2,2]].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¾ˆç®€å•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kClosest</span><span class=\"params\">(self, points, K)</span>:</span></span><br><span class=\"line\">    res = sorted(points, key=<span class=\"keyword\">lambda</span> x: x[<span class=\"number\">0</span>]**<span class=\"number\">2</span> + x[<span class=\"number\">1</span>]**<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res[:K]</span><br></pre></td></tr></table></figure>\n<h3 id=\"976-Largest-Perimeter-Triangle\"><a href=\"#976-Largest-Perimeter-Triangle\" class=\"headerlink\" title=\"976. Largest Perimeter Triangle\"></a>976. Largest Perimeter Triangle</h3><h4 id=\"ç»™å®šä¸€ä¸ªè¾¹é•¿æ•°ç»„ï¼Œæ±‚èƒ½ç»„æˆçš„ä¸‰è§’å½¢çš„æœ€é•¿å‘¨é•¿ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªè¾¹é•¿æ•°ç»„ï¼Œæ±‚èƒ½ç»„æˆçš„ä¸‰è§’å½¢çš„æœ€é•¿å‘¨é•¿ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªè¾¹é•¿æ•°ç»„ï¼Œæ±‚èƒ½ç»„æˆçš„ä¸‰è§’å½¢çš„æœ€é•¿å‘¨é•¿ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªè¾¹é•¿æ•°ç»„ï¼Œæ±‚èƒ½ç»„æˆçš„ä¸‰è§’å½¢çš„æœ€é•¿å‘¨é•¿ã€‚<a href=\"https://leetcode.com/contest/weekly-contest-119/problems/largest-perimeter-triangle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿™ä¸ªä¹Ÿä¸éš¾ï¼Œå°±æ˜¯é•¿åº¦ä¸º3çš„æ»‘åŠ¨çª—å£ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestPerimeter</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    res = sorted(A, reverse=<span class=\"literal\">True</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(res)<span class=\"number\">-2</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> sum(res[i+<span class=\"number\">1</span>:i+<span class=\"number\">3</span>]) &gt; res[i]:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> sum(res[i:i+<span class=\"number\">3</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"628-Maximum-Product-of-Three-Numbers\"><a href=\"#628-Maximum-Product-of-Three-Numbers\" class=\"headerlink\" title=\"628. Maximum Product of Three Numbers\"></a>628. Maximum Product of Three Numbers</h3><h4 id=\"æ•°ç»„ä¸­ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚å…ƒç´ èŒƒå›´-1000-1000-ã€‚åŸé¢˜\"><a href=\"#æ•°ç»„ä¸­ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚å…ƒç´ èŒƒå›´-1000-1000-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ•°ç»„ä¸­ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚å…ƒç´ èŒƒå›´[-1000, 1000]ã€‚åŸé¢˜\"></a>æ•°ç»„ä¸­ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚å…ƒç´ èŒƒå›´[-1000, 1000]ã€‚<a href=\"https://leetcode.com/problems/maximum-product-of-three-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4]</span><br><span class=\"line\">Output: 24</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ’åºã€‚åœ¨æ­£æ•°ä¸ªæ•°å¤§äºç­‰äº3çš„æ—¶å€™ï¼Œæ˜¾ç„¶æœ€å¤§çš„ä¸‰ä¸ªæ•°å°±å¯ä»¥äº§ç”Ÿæœ€å¤§çš„ä¹˜ç§¯ã€‚è€Œå½“æ­£æ•°ä¸ªæ•°ä¸å¤Ÿçš„æ—¶å€™ï¼Œé‚£ä¹ˆå¿…é¡»éœ€è¦ä¸¤ä¸ªæœ€å°çš„è´Ÿæ•°ï¼ˆå³ç»å¯¹å€¼æœ€å¤§ï¼‰ï¼Œå’Œä¸€ä¸ªæœ€å¤§çš„æ­£æ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maximumProduct</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    ary = sorted(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max((ary[<span class=\"number\">0</span>]*ary[<span class=\"number\">1</span>]*ary[<span class=\"number\">-1</span>], ary[<span class=\"number\">-3</span>]*ary[<span class=\"number\">-2</span>]*ary[<span class=\"number\">-1</span>]))</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šä½¿ç”¨heapq.</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">maximumProduct</span><span class=\"params\">(self, nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq</span><br><span class=\"line\">    <span class=\"keyword\">from</span> operator <span class=\"keyword\">import</span> mul</span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    three_max = heapq.nlargest(<span class=\"number\">3</span>, nums)</span><br><span class=\"line\">    two_min = heapq.nsmallest(<span class=\"number\">2</span>, nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(reduce(mul, three_max), reduce(mul, two_min + three_max[:<span class=\"number\">1</span>]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"728-Self-Dividing-Numbers\"><a href=\"#728-Self-Dividing-Numbers\" class=\"headerlink\" title=\"728. Self Dividing Numbers\"></a>728. Self Dividing Numbers</h3><h4 id=\"è‡ªæ•´é™¤æ•°å­—ï¼Œä¸€ä¸ªæ•°å­—èƒ½å¤Ÿè¢«æœ¬èº«çš„æ¯ä¸ªæ•°å­—æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰0ï¼Œæ±‚æŸä¸ªèŒƒå›´å†…æ‰€æœ‰çš„æ•°ã€‚åŸé¢˜\"><a href=\"#è‡ªæ•´é™¤æ•°å­—ï¼Œä¸€ä¸ªæ•°å­—èƒ½å¤Ÿè¢«æœ¬èº«çš„æ¯ä¸ªæ•°å­—æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰0ï¼Œæ±‚æŸä¸ªèŒƒå›´å†…æ‰€æœ‰çš„æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è‡ªæ•´é™¤æ•°å­—ï¼Œä¸€ä¸ªæ•°å­—èƒ½å¤Ÿè¢«æœ¬èº«çš„æ¯ä¸ªæ•°å­—æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰0ï¼Œæ±‚æŸä¸ªèŒƒå›´å†…æ‰€æœ‰çš„æ•°ã€‚åŸé¢˜\"></a>è‡ªæ•´é™¤æ•°å­—ï¼Œä¸€ä¸ªæ•°å­—èƒ½å¤Ÿè¢«æœ¬èº«çš„æ¯ä¸ªæ•°å­—æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰0ï¼Œæ±‚æŸä¸ªèŒƒå›´å†…æ‰€æœ‰çš„æ•°ã€‚<a href=\"https://leetcode.com/problems/self-dividing-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: </span><br><span class=\"line\">left &#x3D; 1, right &#x3D; 22</span><br><span class=\"line\">Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 15, 22]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šBrute Force. æ­¤é¢˜å¼ºè¡Œä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼æ²¡æœ‰æ„ä¹‰ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">selfDividingNumbers</span><span class=\"params\">(self, left, right)</span>:</span></span><br><span class=\"line\">    res = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(left, right+<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> char <span class=\"keyword\">in</span> str(i):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> int(char)==<span class=\"number\">0</span> <span class=\"keyword\">or</span> i % int(char)!=<span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            res.append(i)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h3 id=\"836-Rectangle-Overlap\"><a href=\"#836-Rectangle-Overlap\" class=\"headerlink\" title=\"836. Rectangle Overlap\"></a>836. Rectangle Overlap</h3><h4 id=\"çŸ©å½¢æ˜¯å¦é‡å ï¼ŒçŸ©å½¢çš„è¾¹å¹³è¡Œäºåæ ‡è½´ã€‚åŸé¢˜\"><a href=\"#çŸ©å½¢æ˜¯å¦é‡å ï¼ŒçŸ©å½¢çš„è¾¹å¹³è¡Œäºåæ ‡è½´ã€‚åŸé¢˜\" class=\"headerlink\" title=\"çŸ©å½¢æ˜¯å¦é‡å ï¼ŒçŸ©å½¢çš„è¾¹å¹³è¡Œäºåæ ‡è½´ã€‚åŸé¢˜\"></a>çŸ©å½¢æ˜¯å¦é‡å ï¼ŒçŸ©å½¢çš„è¾¹å¹³è¡Œäºåæ ‡è½´ã€‚<a href=\"https://leetcode.com/problems/rectangle-overlap/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: rec1 &#x3D; [0,0,2,2], rec2 &#x3D; [1,1,3,3]</span><br><span class=\"line\">Output: true</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€šè¿‡ç”»å›¾æ‰¾å‡ºçš„è§„å¾‹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isRectangleOverlap</span><span class=\"params\">(self, rec1: <span class=\"string\">'List[int]'</span>, rec2: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    x_overlap = (rec2[<span class=\"number\">0</span>]-rec1[<span class=\"number\">2</span>]) * (rec2[<span class=\"number\">2</span>]-rec1[<span class=\"number\">0</span>]) &lt; <span class=\"number\">0</span></span><br><span class=\"line\">    y_overlap = (rec2[<span class=\"number\">1</span>]-rec1[<span class=\"number\">3</span>]) * (rec2[<span class=\"number\">3</span>]-rec1[<span class=\"number\">1</span>]) &lt; <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x_overlap <span class=\"keyword\">and</span> y_overlap</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€è¿˜æ˜¯æƒ³å¤æ‚äº†ã€‚</font>\n\n<p>Given 2 segment <code>(left1, right1)</code>, <code>(left2, right2)</code>, how can we check whether they overlap?<br>If these two intervals overlap, it should exist an number <code>x</code>,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">left1 &lt; x &lt; right1 &amp;&amp; left2 &lt; x &lt; right2</span><br><span class=\"line\">left1 &lt; x &lt; right2 &amp;&amp; left2 &lt; x &lt; right1</span><br><span class=\"line\">left1 &lt; right2 &amp;&amp; left2 &lt; right1</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isRectangleOverlap</span><span class=\"params\">(self, rec1: <span class=\"string\">'List[int]'</span>, rec2: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'bool':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> rec2[<span class=\"number\">0</span>] &lt; rec1[<span class=\"number\">2</span>] <span class=\"keyword\">and</span> rec1[<span class=\"number\">0</span>] &lt; rec2[<span class=\"number\">2</span>] <span class=\"keyword\">and</span> \\</span><br><span class=\"line\">           rec2[<span class=\"number\">1</span>] &lt; rec1[<span class=\"number\">3</span>] <span class=\"keyword\">and</span> rec1[<span class=\"number\">1</span>] &lt; rec2[<span class=\"number\">3</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"991-Broken-Calculator\"><a href=\"#991-Broken-Calculator\" class=\"headerlink\" title=\"991. Broken Calculator\"></a>991. Broken Calculator</h3><h4 id=\"åæ‰çš„è®¡ç®—å™¨ï¼Œåªèƒ½-2æˆ–è€…-1ï¼Œä½¿Xå˜ä¸ºYã€‚åŸé¢˜\"><a href=\"#åæ‰çš„è®¡ç®—å™¨ï¼Œåªèƒ½-2æˆ–è€…-1ï¼Œä½¿Xå˜ä¸ºYã€‚åŸé¢˜\" class=\"headerlink\" title=\"åæ‰çš„è®¡ç®—å™¨ï¼Œåªèƒ½*2æˆ–è€…-1ï¼Œä½¿Xå˜ä¸ºYã€‚åŸé¢˜\"></a>åæ‰çš„è®¡ç®—å™¨ï¼Œåªèƒ½*2æˆ–è€…-1ï¼Œä½¿Xå˜ä¸ºYã€‚<a href=\"https://leetcode.com/problems/broken-calculator/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: X &#x3D; 5, Y &#x3D; 8</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: Use decrement and then double &#123;5 -&gt; 4 -&gt; 8&#125;.</span><br></pre></td></tr></table></figure>\n<p>è§£æï¼šå¦‚æœä»Xåˆ°Yé—®é¢˜ä¼šå˜å¾—å¤æ‚ï¼Œä¸ç¡®å®šä»€ä¹ˆæ—¶å€™è¯¥*2æˆ–è€…æ˜¯-1ã€‚æ‰€ä»¥é€†å‘æ€ç»´ä»Yå˜æˆXã€‚</p>\n<blockquote>\n<p> If <code>Y &lt;= X</code>, we wonâ€™t do <code>Y / 2</code> anymore.<br>We will increase <code>Y</code> until it equals to <code>X</code></p>\n<p>So before that, while <code>Y &gt; X</code>, weâ€™ll keep reducing <code>Y</code>, until itâ€™s smaller than <code>X</code>.<br>If <code>Y</code> is odd, we can do only <code>Y = Y + 1</code><br>If <code>Y</code> is even, if we plus 1 to <code>Y</code>, then <code>Y</code> is odd, we need to plus another 1.<br>And because <code>(Y + 1 + 1) / 2 = (Y / 2) + 1</code>, 3 operations are more than 2.<br>We always choose <code>Y / 2</code> if <code>Y</code> is even.</p>\n</blockquote>\n<p>æ–¹æ³•ä¸€ï¼šiteratively.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">brokenCalc</span><span class=\"params\">(self, X: <span class=\"string\">'int'</span>, Y: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> X &lt; Y:</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> Y &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            Y += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            Y //= <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + X - Y</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€å˜å½¢ã€‚å› ä¸ºå¦‚æœYæ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆå¿…å®šåœ¨+1æ“ä½œåè¦/2ï¼Œè¿™é‡Œå°†å…¶åˆå¹¶</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">brokenCalc</span><span class=\"params\">(self, X: <span class=\"string\">'int'</span>, Y: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> X &lt; Y:</span><br><span class=\"line\">        ans += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> Y &amp; <span class=\"number\">1</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">            Y += <span class=\"number\">1</span></span><br><span class=\"line\">            ans += <span class=\"number\">1</span></span><br><span class=\"line\">        Y = Y // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + X - Y</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ–¹æ³•äºŒå†å˜å½¢ï¼Œçœ‹åˆ°Yæ˜¯å¥‡æ•°æ—¶ï¼Œans + 2ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>ans += (Y&amp;1) + 1</code>è¡¨ç¤ºï¼Œè€Œ<code>Y</code>åœ¨æ˜¯å¥‡æ•°æ—¶å…ˆ+1å†//2å³<code>Y = (Y + 1) // 2</code>ï¼Œå¶æ•°æ—¶<code>Y = Y // 2</code>ï¼Œå…¶å®ï¼Œå¯¹äºå¶æ•°æ¥è¯´<code>Y=(Y+1)//2</code>å’Œ<code>Y=Y//2</code>ç»“æœä¸€æ ·ã€‚æ‰€ä»¥å¯ä»¥å†™æˆã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">brokenCalc</span><span class=\"params\">(self, X: <span class=\"string\">'int'</span>, Y: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    ans = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> X &lt; Y:</span><br><span class=\"line\">        ans += (Y &amp; <span class=\"number\">1</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">        Y = (Y + <span class=\"number\">1</span>) // <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans + X - Y</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šé€’å½’å†™æ³•ã€‚<code>Y&amp;1</code>å¿…é¡»æ‹¬å·</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">brokenCalc</span><span class=\"params\">(self, X: <span class=\"string\">'int'</span>, Y: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> X - Y <span class=\"keyword\">if</span> X &gt;= Y <span class=\"keyword\">else</span> <span class=\"number\">1</span>+(Y&amp;<span class=\"number\">1</span>)+self.brokenCalc(X, (Y+<span class=\"number\">1</span>)//<span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"908-Smallest-Range-I\"><a href=\"#908-Smallest-Range-I\" class=\"headerlink\" title=\"908. Smallest Range I\"></a>908. Smallest Range I</h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸€ä¸ªKï¼Œæ•°ç»„é‡Œçš„æ•°åŠ ä¸Š-k-lt-x-lt-kçš„ä»»æ„ä¸€ä¸ªæ•°å­—åï¼Œæ±‚æ•°ç»„æœ€å¤§æ•°å’Œæœ€å°æ•°çš„ï¼Œæœ€å°å·®ã€‚åŸé¢˜\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸€ä¸ªKï¼Œæ•°ç»„é‡Œçš„æ•°åŠ ä¸Š-k-lt-x-lt-kçš„ä»»æ„ä¸€ä¸ªæ•°å­—åï¼Œæ±‚æ•°ç»„æœ€å¤§æ•°å’Œæœ€å°æ•°çš„ï¼Œæœ€å°å·®ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸€ä¸ªKï¼Œæ•°ç»„é‡Œçš„æ•°åŠ ä¸Š-k&lt;=x&lt;=kçš„ä»»æ„ä¸€ä¸ªæ•°å­—åï¼Œæ±‚æ•°ç»„æœ€å¤§æ•°å’Œæœ€å°æ•°çš„ï¼Œæœ€å°å·®ã€‚åŸé¢˜\"></a>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸€ä¸ªKï¼Œæ•°ç»„é‡Œçš„æ•°åŠ ä¸Š-k&lt;=x&lt;=kçš„ä»»æ„ä¸€ä¸ªæ•°å­—åï¼Œæ±‚æ•°ç»„æœ€å¤§æ•°å’Œæœ€å°æ•°çš„ï¼Œæœ€å°å·®ã€‚<a href=\"https://leetcode.com/problems/smallest-range-i/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: A &#x3D; [0,10], K &#x3D; 2</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: B &#x3D; [2,8]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestRangeI</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>, K: <span class=\"string\">'int'</span>)</span> -&gt; 'int':</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> max(max(A) - min(A) - <span class=\"number\">2</span>*K, <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"949-Largest-Time-for-Given-Digits\"><a href=\"#949-Largest-Time-for-Given-Digits\" class=\"headerlink\" title=\"949. Largest Time for Given Digits\"></a>949. Largest Time for Given Digits</h3><h4 id=\"ç»™å®šå››ä¸ªæ•°å­—ï¼Œè¿”å›èƒ½ç”Ÿæˆçš„æœ€å¤§æ—¶é—´ã€‚24å°æ—¶åˆ¶ã€‚åŸé¢˜\"><a href=\"#ç»™å®šå››ä¸ªæ•°å­—ï¼Œè¿”å›èƒ½ç”Ÿæˆçš„æœ€å¤§æ—¶é—´ã€‚24å°æ—¶åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»™å®šå››ä¸ªæ•°å­—ï¼Œè¿”å›èƒ½ç”Ÿæˆçš„æœ€å¤§æ—¶é—´ã€‚24å°æ—¶åˆ¶ã€‚åŸé¢˜\"></a>ç»™å®šå››ä¸ªæ•°å­—ï¼Œè¿”å›èƒ½ç”Ÿæˆçš„æœ€å¤§æ—¶é—´ã€‚24å°æ—¶åˆ¶ã€‚<a href=\"https://leetcode.com/problems/largest-time-for-given-digits/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: [1,2,3,4]</span><br><span class=\"line\">Output: &quot;23:41&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ’åºã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestTimeFromDigits</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    p = itertools.permutations(A)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a, b, c, d <span class=\"keyword\">in</span> sorted(p, reverse=<span class=\"literal\">True</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"number\">0</span> &lt;= a*<span class=\"number\">10</span>+b &lt;= <span class=\"number\">23</span> <span class=\"keyword\">and</span> <span class=\"number\">0</span> &lt;= <span class=\"number\">10</span>*c+d &lt;= <span class=\"number\">59</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;&#123;&#125;:&#123;&#125;&#123;&#125;'</span>.format(a, b, c, d)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestTimeFromDigits</span><span class=\"params\">(self, A: <span class=\"string\">'List[int]'</span>)</span> -&gt; 'str':</span></span><br><span class=\"line\">    p = itertools.permutations(A)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> max([<span class=\"string\">'&#123;&#125;&#123;&#125;:&#123;&#125;&#123;&#125;'</span>.format(*d) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> p </span><br><span class=\"line\">                <span class=\"keyword\">if</span> d[:<span class=\"number\">2</span>] &lt; (<span class=\"number\">2</span>, <span class=\"number\">4</span>) <span class=\"keyword\">and</span> d[<span class=\"number\">2</span>] &lt; <span class=\"number\">6</span>] <span class=\"keyword\">or</span> [<span class=\"string\">''</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"914-X-of-a-Kind-in-a-Deck-of-Cards\"><a href=\"#914-X-of-a-Kind-in-a-Deck-of-Cards\" class=\"headerlink\" title=\"914. X of a Kind in a Deck of Cards\"></a>914. X of a Kind in a Deck of Cards</h3><h4 id=\"æœ‰è¿™æ ·ä¸€å †æ•°å­—å¡ç‰Œï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªX-gt-2ï¼Œä½¿å¾—å°†åŒæ ·æ•°å­—çš„å¡ç‰Œåˆ†ä¸ºæ¯Xä¸ªä¸€ç»„ï¼Œå¹¶ä¸”åˆšå¥½æ‰€æœ‰çš„å¡ç‰Œåˆ†å®Œã€‚åŸé¢˜\"><a href=\"#æœ‰è¿™æ ·ä¸€å †æ•°å­—å¡ç‰Œï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªX-gt-2ï¼Œä½¿å¾—å°†åŒæ ·æ•°å­—çš„å¡ç‰Œåˆ†ä¸ºæ¯Xä¸ªä¸€ç»„ï¼Œå¹¶ä¸”åˆšå¥½æ‰€æœ‰çš„å¡ç‰Œåˆ†å®Œã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰è¿™æ ·ä¸€å †æ•°å­—å¡ç‰Œï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªX&gt;=2ï¼Œä½¿å¾—å°†åŒæ ·æ•°å­—çš„å¡ç‰Œåˆ†ä¸ºæ¯Xä¸ªä¸€ç»„ï¼Œå¹¶ä¸”åˆšå¥½æ‰€æœ‰çš„å¡ç‰Œåˆ†å®Œã€‚åŸé¢˜\"></a>æœ‰è¿™æ ·ä¸€å †æ•°å­—å¡ç‰Œï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªX&gt;=2ï¼Œä½¿å¾—å°†åŒæ ·æ•°å­—çš„å¡ç‰Œåˆ†ä¸ºæ¯Xä¸ªä¸€ç»„ï¼Œå¹¶ä¸”åˆšå¥½æ‰€æœ‰çš„å¡ç‰Œåˆ†å®Œã€‚<a href=\"https://leetcode.com/problems/x-of-a-kind-in-a-deck-of-cards\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ€è·¯ï¼šä½¿ç”¨<code>Counter</code>æ¥ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„ä¸ªæ•°ï¼Œç„¶åæ±‚è¿™äº›æ•°å­—çš„æœ€å¤§å…¬çº¦æ•°æ˜¯å¦å¤§äºç­‰äº2ï¼Œè¿™é‡Œæ€è·¯å¡äº†ä¸€ä¸‹ï¼Œå› ä¸ºæ²¡æƒ³åˆ°æœ€å¤§å…¬çº¦æ•°å¯ä»¥é€šè¿‡<code>reduce</code>æ¥è®¡ç®—ï¼Œæ²¡è€ƒè™‘åˆ°æ˜¯å¯ä»¥ç´¯ç§¯çš„ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hasGroupsSizeX</span><span class=\"params\">(self, deck)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> collections <span class=\"keyword\">import</span> Counter</span><br><span class=\"line\">    <span class=\"keyword\">from</span> math <span class=\"keyword\">import</span> gcd</span><br><span class=\"line\">    <span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> reduce</span><br><span class=\"line\">    <span class=\"keyword\">return</span> reduce(gcd, Counter(deck).values()) &gt;= <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"470-Implement-Rand10-Using-Rand7\"><a href=\"#470-Implement-Rand10-Using-Rand7\" class=\"headerlink\" title=\"470. Implement Rand10() Using Rand7()\"></a>470. Implement Rand10() Using Rand7()</h3><h4 id=\"ä½¿ç”¨rand7å®ç°rand10åŸé¢˜\"><a href=\"#ä½¿ç”¨rand7å®ç°rand10åŸé¢˜\" class=\"headerlink\" title=\"ä½¿ç”¨rand7å®ç°rand10åŸé¢˜\"></a>ä½¿ç”¨<code>rand7</code>å®ç°<code>rand10</code><a href=\"https://leetcode.com/problems/implement-rand10-using-rand7/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 3</span><br><span class=\"line\">Output: [8,1,10]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå…ˆå°†rand7-1å˜ä¸º[0, 6]ç„¶åä¹˜7ï¼Œ[0,7,14,21,28,35,42]ç„¶å+[0,6]è¿™æ ·èƒ½å°†è¿™6ä¸ªæ•°å‡åŒ€åœ°åˆ†é…åˆ°æ¯æ®µä¸­ï¼Œå¾—åˆ°äº†[0, 48]ç„¶åèˆå¼ƒ[40,48]å‰©ä¸‹[0,39]ç„¶åå–ä½™å¾—[0,9]æœ€ååŠ ä¸€ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">rand10</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        x = (rand7()<span class=\"number\">-1</span>)*<span class=\"number\">7</span> + rand7()<span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> x &lt; <span class=\"number\">40</span>: </span><br><span class=\"line\">            <span class=\"keyword\">return</span> x%<span class=\"number\">10</span> + <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1006-Clumsy-Factorial\"><a href=\"#1006-Clumsy-Factorial\" class=\"headerlink\" title=\"1006. Clumsy Factorial\"></a>1006. Clumsy Factorial</h3><h4 id=\"å°†ä¸€ä¸ªé˜¶ä¹˜çš„å¼å­ç”¨-æ›¿ä»£ï¼Œç»™å‡ºç»“æœã€‚åŸé¢˜\"><a href=\"#å°†ä¸€ä¸ªé˜¶ä¹˜çš„å¼å­ç”¨-æ›¿ä»£ï¼Œç»™å‡ºç»“æœã€‚åŸé¢˜\" class=\"headerlink\" title=\"å°†ä¸€ä¸ªé˜¶ä¹˜çš„å¼å­ç”¨*/+-æ›¿ä»£ï¼Œç»™å‡ºç»“æœã€‚åŸé¢˜\"></a>å°†ä¸€ä¸ªé˜¶ä¹˜çš„å¼å­ç”¨<code>*/+-</code>æ›¿ä»£ï¼Œç»™å‡ºç»“æœã€‚<a href=\"https://leetcode.com/problems/clumsy-factorial/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 10</span><br><span class=\"line\">Output: 12</span><br><span class=\"line\">Explanation: 12 &#x3D; 10 * 9 &#x2F; 8 + 7 - 6 * 5 &#x2F; 4 + 3 - 2 * 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼špythonæ­¤é¢˜æœ‰ä½œå¼Šçš„æ–¹æ³•ï¼Œæˆ‘çœ‹æ’è¡Œæ¦œä¸­å¤§ç¥æœ‰çš„ç‰¹æ„åˆ‡åˆ°pythonåšè¿™é“é¢˜ï¼Œä¸è¿‡æ²¡æˆ‘å†™å¾—å¥½ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">clumsy</span><span class=\"params\">(self, N: int)</span> -&gt; int:</span></span><br><span class=\"line\">    op = itertools.cycle([<span class=\"string\">'*'</span>, <span class=\"string\">'//'</span>, <span class=\"string\">'+'</span>, <span class=\"string\">'-'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> eval(<span class=\"string\">''</span>.join(str(n)+next(op) <span class=\"keyword\">if</span> n!=<span class=\"number\">1</span> <span class=\"keyword\">else</span> str(n) </span><br><span class=\"line\">                        <span class=\"keyword\">for</span> n <span class=\"keyword\">in</span> range(N, <span class=\"number\">0</span>, <span class=\"number\">-1</span>)))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1022-Smallest-Integer-Divisible-by-K\"><a href=\"#1022-Smallest-Integer-Divisible-by-K\" class=\"headerlink\" title=\"1022. Smallest Integer Divisible by K\"></a>1022. Smallest Integer Divisible by K</h3><h4 id=\"æœ€å°çš„ç”±1ç»„æˆçš„èƒ½è¢«Kæ•´é™¤ã€‚åŸé¢˜\"><a href=\"#æœ€å°çš„ç”±1ç»„æˆçš„èƒ½è¢«Kæ•´é™¤ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ€å°çš„ç”±1ç»„æˆçš„èƒ½è¢«Kæ•´é™¤ã€‚åŸé¢˜\"></a>æœ€å°çš„ç”±1ç»„æˆçš„èƒ½è¢«Kæ•´é™¤ã€‚<a href=\"https://leetcode.com/problems/smallest-integer-divisible-by-k/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: 2</span><br><span class=\"line\">Output: -1</span><br><span class=\"line\">Explanation: There is no such positive integer N divisible by 2.</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœæœ‰<code>2</code>æˆ–<code>5</code>çš„è´¨å› æ•°ï¼Œé‚£ä¹ˆä¸èƒ½æ•´é™¤ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">smallestRepunitDivByK</span><span class=\"params\">(self, K: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> K % <span class=\"number\">2</span> == <span class=\"number\">0</span> <span class=\"keyword\">or</span> K % <span class=\"number\">5</span> == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"number\">-1</span></span><br><span class=\"line\">    r = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> N <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, K + <span class=\"number\">1</span>):</span><br><span class=\"line\">        r = (r * <span class=\"number\">10</span> + <span class=\"number\">1</span>) % K</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> r: <span class=\"keyword\">return</span> N</span><br></pre></td></tr></table></figure>\n<h3 id=\"1028-Convert-to-Base-2\"><a href=\"#1028-Convert-to-Base-2\" class=\"headerlink\" title=\"1028. Convert to Base -2\"></a>1028. Convert to Base -2</h3><h4 id=\"10è¿›åˆ¶è½¬æˆ-2è¿›åˆ¶ã€‚åŸé¢˜\"><a href=\"#10è¿›åˆ¶è½¬æˆ-2è¿›åˆ¶ã€‚åŸé¢˜\" class=\"headerlink\" title=\"10è¿›åˆ¶è½¬æˆ-2è¿›åˆ¶ã€‚åŸé¢˜\"></a>10è¿›åˆ¶è½¬æˆ-2è¿›åˆ¶ã€‚<a href=\"https://leetcode.com/problems/convert-to-base-2/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè´Ÿæ•°è¿›åˆ¶æ—¶ï¼Œå¦‚æœä½™æ•°ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå•†+1ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">baseNeg2</span><span class=\"params\">(self, N: int)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> N:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'0'</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> N:</span><br><span class=\"line\">        remainder = N % (<span class=\"number\">-2</span>)</span><br><span class=\"line\">        ans += str(abs(remainder))</span><br><span class=\"line\">        N //= <span class=\"number\">-2</span></span><br><span class=\"line\">        N += (remainder &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[::<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šåœ¨äºŒè¿›åˆ¶ä¸ŠåŠ ä¸€ä¸ªè´Ÿå·ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">baseNeg2</span><span class=\"params\">(self, N: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    <span class=\"keyword\">while</span> N:</span><br><span class=\"line\">        ans.append(N &amp; <span class=\"number\">1</span>)</span><br><span class=\"line\">        N = -(N &gt;&gt; <span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(map(str, ans[::<span class=\"number\">-1</span>] <span class=\"keyword\">or</span> [<span class=\"number\">0</span>]))</span><br></pre></td></tr></table></figure>\n<h3 id=\"313-Super-Ugly-Number\"><a href=\"#313-Super-Ugly-Number\" class=\"headerlink\" title=\"313. Super Ugly Number\"></a>313. Super Ugly Number</h3><h4 id=\"æ ¹æ®æŒ‡å®šçš„è´¨æ•°åºåˆ—ï¼Œæ‰¾å‡ºç¬¬nä¸ªè¶…çº§ä¸‘æ•°ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®æŒ‡å®šçš„è´¨æ•°åºåˆ—ï¼Œæ‰¾å‡ºç¬¬nä¸ªè¶…çº§ä¸‘æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®æŒ‡å®šçš„è´¨æ•°åºåˆ—ï¼Œæ‰¾å‡ºç¬¬nä¸ªè¶…çº§ä¸‘æ•°ã€‚åŸé¢˜\"></a>æ ¹æ®æŒ‡å®šçš„è´¨æ•°åºåˆ—ï¼Œæ‰¾å‡ºç¬¬nä¸ªè¶…çº§ä¸‘æ•°ã€‚<a href=\"https://leetcode.com/problems/super-ugly-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>å’Œå‰‘æŒ‡offerä¸­ï¼Œä¸‘æ•°ä¸€é¢˜å¾ˆåƒï¼Œåªä¸è¿‡é‚£é¢˜æ˜¯å›ºå®šçš„2,3,5ä¸‰ä¸ªè´¨æ•°ã€‚</p>\n<p>æ–¹æ³•ä¸€ï¼šæ ¹æ®ä¹‹å‰çš„æ–¹æ³•è¿›è¡Œå¾®è°ƒã€‚æ—¶é—´è¦1så·¦å³ï¼Œå› ä¸ºéå†äº†ä¸¤æ¬¡<code>primes</code>ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nthSuperUglyNumber</span><span class=\"params\">(self, n: int, primes: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    last_index = [<span class=\"number\">0</span>] * len(primes)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n<span class=\"number\">-1</span>):</span><br><span class=\"line\">        ugly = min(ans[last_index[i]]*p <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> enumerate(primes))</span><br><span class=\"line\">        ans.append(ugly)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> enumerate(primes):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ans[last_index[i]] * p == ugly:</span><br><span class=\"line\">                last_index[i] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼š304msã€‚å¼€å§‹æƒ³åˆ°äº†ç”Ÿæˆå™¨å’Œå †ï¼Œå…¶ä»–ç»“æ„å·®ä¸å¤šï¼Œä½†æ˜¯ç”Ÿæˆå™¨å†…éƒ¨å®ç°æƒ³é”™äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">nthSuperUglyNumber</span><span class=\"params\">(self, n: int, primes: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> heapq <span class=\"keyword\">as</span> hq</span><br><span class=\"line\">    uglies = [<span class=\"number\">1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">gen_ugly</span><span class=\"params\">(prime)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> ugly <span class=\"keyword\">in</span> uglies:</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> ugly * prime</span><br><span class=\"line\">            </span><br><span class=\"line\">    merged = hq.merge(*map(gen_ugly, primes))</span><br><span class=\"line\">    <span class=\"keyword\">while</span> len(uglies) &lt; n:</span><br><span class=\"line\">        ugly = next(merged)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ugly != uglies[<span class=\"number\">-1</span>]:</span><br><span class=\"line\">            uglies.append(ugly)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> uglies[<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"869-Reordered-Power-of-2\"><a href=\"#869-Reordered-Power-of-2\" class=\"headerlink\" title=\"869. Reordered Power of 2\"></a>869. Reordered Power of 2</h3><h4 id=\"é‡æ–°æ’åˆ—ä¸€ä¸ªæ•°å­—çš„å„ä½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½ç»„æˆ2çš„å¹‚ã€‚åŸé¢˜\"><a href=\"#é‡æ–°æ’åˆ—ä¸€ä¸ªæ•°å­—çš„å„ä½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½ç»„æˆ2çš„å¹‚ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é‡æ–°æ’åˆ—ä¸€ä¸ªæ•°å­—çš„å„ä½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½ç»„æˆ2çš„å¹‚ã€‚åŸé¢˜\"></a>é‡æ–°æ’åˆ—ä¸€ä¸ªæ•°å­—çš„å„ä½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½ç»„æˆ2çš„å¹‚ã€‚<a href=\"https://leetcode.com/problems/reordered-power-of-2/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>è¿™é¢˜æˆ‘çœ‹åˆ°æ˜¯ï¼Œæ˜¾ç¤ºæ‹†æˆä¸¤ä¸ªå­é—®é¢˜ï¼Œå…¨æ’åˆ—å’Œåˆ¤æ–­æ˜¯å¦æ˜¯2çš„å¹‚ï¼Œç»“æœè¶…æ—¶äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘çœ‹Solutionä¸­ä¹Ÿæœ‰è¿™ç§è§£æ³•ï¼Œæˆ‘è¿˜æäº¤äº†å¥½å‡ æ¬¡ã€‚</p>\n<p>æ‰€ä»¥æ­¤é¢˜éœ€è¦æ¢ä¸€ç§æ€è·¯ï¼Œ2çš„å¹‚æ˜¯æŒ‡æ•°ä¸Šå‡çš„ï¼Œæ‰€ä»¥ï¼Œåœ¨èŒƒå›´å†…çš„æ•°ä¸€å…±ä¹Ÿæ²¡æœ‰å‡ ä¸ªã€‚é‚£ä¹ˆä½¿ç”¨Counteræ¥åˆ¤æ–­æ˜¯å¦èƒ½ç»„æˆè¿™ä¸ªæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reorderedPowerOf2</span><span class=\"params\">(self, N: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    c = Counter(str(N))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> any(c==Counter(str(<span class=\"number\">1</span>&lt;&lt;i)) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, <span class=\"number\">30</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1025-Divisor-Game\"><a href=\"#1025-Divisor-Game\" class=\"headerlink\" title=\"1025. Divisor Game\"></a>1025. Divisor Game</h3><h4 id=\"ä¸¤ä¸ªäººåšæ¸¸æˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸ªæ•°Nï¼Œæ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ª0-lt-x-lt-Nçš„æ•°ï¼Œå¹¶ä¸”Nèƒ½è¢«xæ•´é™¤ï¼Œç„¶åæ›¿æ¢è¿™ä¸ªNï¼Œç›´åˆ°æ‰¾ä¸å‡ºè¿™æ ·xï¼Œå°±è¾“äº†ã€‚é—®ç»™å‡ºè¿™æ ·ä¸€ä¸ªæ•°Nï¼Œç¬¬ä¸€ä¸ªäººæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªäººåšæ¸¸æˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸ªæ•°Nï¼Œæ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ª0-lt-x-lt-Nçš„æ•°ï¼Œå¹¶ä¸”Nèƒ½è¢«xæ•´é™¤ï¼Œç„¶åæ›¿æ¢è¿™ä¸ªNï¼Œç›´åˆ°æ‰¾ä¸å‡ºè¿™æ ·xï¼Œå°±è¾“äº†ã€‚é—®ç»™å‡ºè¿™æ ·ä¸€ä¸ªæ•°Nï¼Œç¬¬ä¸€ä¸ªäººæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªäººåšæ¸¸æˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸ªæ•°Nï¼Œæ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ª0 &lt;x&lt;Nçš„æ•°ï¼Œå¹¶ä¸”Nèƒ½è¢«xæ•´é™¤ï¼Œç„¶åæ›¿æ¢è¿™ä¸ªNï¼Œç›´åˆ°æ‰¾ä¸å‡ºè¿™æ ·xï¼Œå°±è¾“äº†ã€‚é—®ç»™å‡ºè¿™æ ·ä¸€ä¸ªæ•°Nï¼Œç¬¬ä¸€ä¸ªäººæ˜¯å¦èƒ½èµ¢ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªäººåšæ¸¸æˆï¼Œé»‘æ¿ä¸Šæœ‰ä¸ªæ•°Nï¼Œæ¯æ¬¡æ‰¾åˆ°ä¸€ä¸ª0 &lt;x&lt;Nçš„æ•°ï¼Œå¹¶ä¸”Nèƒ½è¢«xæ•´é™¤ï¼Œç„¶åæ›¿æ¢è¿™ä¸ªNï¼Œç›´åˆ°æ‰¾ä¸å‡ºè¿™æ ·xï¼Œå°±è¾“äº†ã€‚é—®ç»™å‡ºè¿™æ ·ä¸€ä¸ªæ•°Nï¼Œç¬¬ä¸€ä¸ªäººæ˜¯å¦èƒ½èµ¢ã€‚<a href=\"https://leetcode.com/problems/divisor-game/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå†™äº†ä¸€ä¸ªåŠ¨æ€è§„åˆ’ï¼Œæœ€åä¸€åˆ†æå®é™…ä¸Šåªè¦Nä¸ºå¶æ•°å°±èƒ½èµ¢ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">ans = []</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">divisorGame</span><span class=\"params\">(self, N: int)</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"comment\"># for i in range(1, N+1):</span></span><br><span class=\"line\">    <span class=\"comment\">#     for j in range(1, i):</span></span><br><span class=\"line\">    <span class=\"comment\">#         if i % (i-j)==0 and not ans[j]:</span></span><br><span class=\"line\">    <span class=\"comment\">#             print('&#123;&#125; % &#123;&#125;'.format(i, j))</span></span><br><span class=\"line\">    <span class=\"comment\">#             ans.append(True)</span></span><br><span class=\"line\">    <span class=\"comment\">#             break</span></span><br><span class=\"line\">    <span class=\"comment\">#     # for j in range(1, len(ans)):</span></span><br><span class=\"line\">    <span class=\"comment\">#     #     if i % (i-j)== 0 and not ans[j]:</span></span><br><span class=\"line\">    <span class=\"comment\">#     #         ans.append(True)</span></span><br><span class=\"line\">    <span class=\"comment\">#     #         break</span></span><br><span class=\"line\">    <span class=\"comment\">#     else:</span></span><br><span class=\"line\">    <span class=\"comment\">#         ans.append(False)</span></span><br><span class=\"line\">    <span class=\"comment\">#     print('count &#123;&#125; &#123;&#125;'.format(i, ans[-1]))</span></span><br><span class=\"line\">    <span class=\"comment\"># print(ans)</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> N &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"1037-Valid-Boomerang\"><a href=\"#1037-Valid-Boomerang\" class=\"headerlink\" title=\"1037. Valid Boomerang\"></a>1037. Valid Boomerang</h3><h4 id=\"éªŒè¯ä¸‰ä¸ªåæ ‡ç‚¹æ˜¯å¦å…±çº¿ã€‚åŸé¢˜\"><a href=\"#éªŒè¯ä¸‰ä¸ªåæ ‡ç‚¹æ˜¯å¦å…±çº¿ã€‚åŸé¢˜\" class=\"headerlink\" title=\"éªŒè¯ä¸‰ä¸ªåæ ‡ç‚¹æ˜¯å¦å…±çº¿ã€‚åŸé¢˜\"></a>éªŒè¯ä¸‰ä¸ªåæ ‡ç‚¹æ˜¯å¦å…±çº¿ã€‚<a href>åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™¤æ•°ä¸º0 çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™é‡Œæ”¹æˆäº†ä¹˜æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isBoomerang</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; bool:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> (points[<span class=\"number\">1</span>][<span class=\"number\">1</span>]-points[<span class=\"number\">0</span>][<span class=\"number\">1</span>])*(points[<span class=\"number\">2</span>][<span class=\"number\">0</span>]-points[<span class=\"number\">1</span>][<span class=\"number\">0</span>]) != \\</span><br><span class=\"line\">           (points[<span class=\"number\">2</span>][<span class=\"number\">1</span>]-points[<span class=\"number\">1</span>][<span class=\"number\">1</span>])*(points[<span class=\"number\">1</span>][<span class=\"number\">0</span>]-points[<span class=\"number\">0</span>][<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"1041-Robot-Bounded-In-Circle\"><a href=\"#1041-Robot-Bounded-In-Circle\" class=\"headerlink\" title=\"1041. Robot Bounded In Circle\"></a>1041. Robot Bounded In Circle</h3><h4 id=\"ä¸€ä¸ªé¢å‘åŒ—çš„æœºå™¨äººè¿›è¡Œä¸‰ç§æ“ä½œï¼Œä¸€ç§æ˜¯å‰è¿›ï¼Œæˆ–è€…å‘å·¦å‘å³è½¬ã€‚é—®ä¸€ç³»åˆ—çš„æ“ä½œä¸­ï¼Œæ— é™å¾ªç¯æ—¶ï¼Œæœºå™¨äººæ˜¯å¦åœ¨ç»•åœˆã€‚åŸé¢˜\"><a href=\"#ä¸€ä¸ªé¢å‘åŒ—çš„æœºå™¨äººè¿›è¡Œä¸‰ç§æ“ä½œï¼Œä¸€ç§æ˜¯å‰è¿›ï¼Œæˆ–è€…å‘å·¦å‘å³è½¬ã€‚é—®ä¸€ç³»åˆ—çš„æ“ä½œä¸­ï¼Œæ— é™å¾ªç¯æ—¶ï¼Œæœºå™¨äººæ˜¯å¦åœ¨ç»•åœˆã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸€ä¸ªé¢å‘åŒ—çš„æœºå™¨äººè¿›è¡Œä¸‰ç§æ“ä½œï¼Œä¸€ç§æ˜¯å‰è¿›ï¼Œæˆ–è€…å‘å·¦å‘å³è½¬ã€‚é—®ä¸€ç³»åˆ—çš„æ“ä½œä¸­ï¼Œæ— é™å¾ªç¯æ—¶ï¼Œæœºå™¨äººæ˜¯å¦åœ¨ç»•åœˆã€‚åŸé¢˜\"></a>ä¸€ä¸ªé¢å‘åŒ—çš„æœºå™¨äººè¿›è¡Œä¸‰ç§æ“ä½œï¼Œä¸€ç§æ˜¯å‰è¿›ï¼Œæˆ–è€…å‘å·¦å‘å³è½¬ã€‚é—®ä¸€ç³»åˆ—çš„æ“ä½œä¸­ï¼Œæ— é™å¾ªç¯æ—¶ï¼Œæœºå™¨äººæ˜¯å¦åœ¨ç»•åœˆã€‚<a href=\"https://leetcode.com/problems/robot-bounded-in-circle/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šå°†æ“ä½œåå¤4æ¬¡ï¼Œåˆ¤æ–­æ˜¯å¦å›åˆ°åŸç‚¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isRobotBounded</span><span class=\"params\">(self, instructions: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    instruction = instructions * <span class=\"number\">4</span></span><br><span class=\"line\">    operations = [(<span class=\"string\">'+0'</span>, <span class=\"string\">'+1'</span>), (<span class=\"string\">'-1'</span>, <span class=\"string\">'+0'</span>), (<span class=\"string\">'+0'</span>, <span class=\"string\">'-1'</span>), (<span class=\"string\">'+1'</span>, <span class=\"string\">'+0'</span>)]</span><br><span class=\"line\">    cur_op = <span class=\"number\">0</span></span><br><span class=\"line\">    x, y = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> inst <span class=\"keyword\">in</span> instruction:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> inst == <span class=\"string\">'G'</span>:</span><br><span class=\"line\">            x_op, y_op = operations[cur_op]</span><br><span class=\"line\">            x, y = eval(str(x)+x_op), eval(str(y)+y_op)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> inst == <span class=\"string\">'L'</span>:</span><br><span class=\"line\">            cur_op = (cur_op+<span class=\"number\">1</span>) % <span class=\"number\">4</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            cur_op = (cur_op<span class=\"number\">-1</span>) % <span class=\"number\">4</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x == y == <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸éœ€è¦å¾ªç¯å››æ¬¡ï¼Œåœ¨ä¸€æ¬¡ä¹‹åï¼Œå¦‚æœé¢å‘çš„ä¸å†æ˜¯åŒ—ï¼Œé‚£ä¹ˆæœ€åå°†ä¼šç»•åœˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">isRobotBounded</span><span class=\"params\">(self, instructions: str)</span> -&gt; bool:</span></span><br><span class=\"line\">    x, y, dx, dy = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> inst <span class=\"keyword\">in</span> instructions:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> inst == <span class=\"string\">'G'</span>: x, y = x+dx, y+dy</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> inst == <span class=\"string\">'L'</span>: dx, dy = -dy, dx</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> inst == <span class=\"string\">'R'</span>: dx, dy = dy, -dx</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (x == y == <span class=\"number\">0</span>) <span class=\"keyword\">or</span> (dx, dy) != (<span class=\"number\">0</span>, <span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1137-N-th-Tribonacci-Number\"><a href=\"#1137-N-th-Tribonacci-Number\" class=\"headerlink\" title=\"1137. N-th Tribonacci Number\"></a>1137. N-th Tribonacci Number</h3><h4 id=\"ä¸‰ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\"><a href=\"#ä¸‰ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸‰ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚åŸé¢˜\"></a>ä¸‰ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚<a href=\"https://leetcode.com/problems/n-th-tribonacci-number/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">T_3 &#x3D; 0 + 1 + 1 &#x3D; 2</span><br><span class=\"line\">T_4 &#x3D; 1 + 1 + 2 &#x3D; 4</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">tribonacci</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    a, b, c = <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> range(n):</span><br><span class=\"line\">        a, b, c = b, c, a+b+c</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c</span><br></pre></td></tr></table></figure>\n<h3 id=\"1073-Adding-Two-Negabinary-Numbers\"><a href=\"#1073-Adding-Two-Negabinary-Numbers\" class=\"headerlink\" title=\"1073. Adding Two Negabinary Numbers\"></a>1073. Adding Two Negabinary Numbers</h3><h4 id=\"ä¸¤ä¸ª-2è¿›åˆ¶çš„æ•°ç›¸åŠ ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ª-2è¿›åˆ¶çš„æ•°ç›¸åŠ ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ª-2è¿›åˆ¶çš„æ•°ç›¸åŠ ã€‚åŸé¢˜\"></a>ä¸¤ä¸ª-2è¿›åˆ¶çš„æ•°ç›¸åŠ ã€‚<a href=\"https://leetcode.com/problems/adding-two-negabinary-numbers/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè½¬æˆåè¿›åˆ¶ç›¸åŠ ï¼Œå†è½¬å›-2è¿›åˆ¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addNegabinary</span><span class=\"params\">(self, arr1: List[int], arr2: List[int])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">to_ten</span><span class=\"params\">(arr)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(d*(<span class=\"number\">-2</span>)**i <span class=\"keyword\">for</span> i, d <span class=\"keyword\">in</span> enumerate(arr[::<span class=\"number\">-1</span>]))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">to_neg_binary</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> n:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'0'</span></span><br><span class=\"line\">        ans = <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> n:</span><br><span class=\"line\">            remainder = n % (<span class=\"number\">-2</span>)</span><br><span class=\"line\">            ans += str(abs(remainder))</span><br><span class=\"line\">            n //= <span class=\"number\">-2</span></span><br><span class=\"line\">            n += (remainder &lt; <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans[::<span class=\"number\">-1</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> to_neg_binary(to_ten(arr1) + to_ten(arr2))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1154-Day-of-the-Year\"><a href=\"#1154-Day-of-the-Year\" class=\"headerlink\" title=\"1154. Day of the Year\"></a>1154. Day of the Year</h3><h4 id=\"æ ¹æ®è¾“å…¥çš„æ—¥æœŸï¼Œè¿”å›å®ƒæ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ã€‚åŸé¢˜\"><a href=\"#æ ¹æ®è¾“å…¥çš„æ—¥æœŸï¼Œè¿”å›å®ƒæ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ ¹æ®è¾“å…¥çš„æ—¥æœŸï¼Œè¿”å›å®ƒæ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ã€‚åŸé¢˜\"></a>æ ¹æ®è¾“å…¥çš„æ—¥æœŸï¼Œè¿”å›å®ƒæ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ã€‚<a href=\"https://leetcode.com/problems/ordinal-number-of-date/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨äº†datetimeåº“ï¼Œå¼€å§‹è¿˜è‡ªå·±æ‰‹åŠ¨å‡ï¼Œåæ¥çœ‹è¯„è®ºå‘ç°æœ‰è¿™æ ·çš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dayOfYear</span><span class=\"params\">(self, date: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> datetime</span><br><span class=\"line\">    date = datetime.datetime.strptime(date, <span class=\"string\">'%Y-%m-%d'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> date.timetuple().tm_yday</span><br></pre></td></tr></table></figure>\n<h3 id=\"1155-Number-of-Dice-Rolls-With-Target-Sum\"><a href=\"#1155-Number-of-Dice-Rolls-With-Target-Sum\" class=\"headerlink\" title=\"1155. Number of Dice Rolls With Target Sum\"></a>1155. Number of Dice Rolls With Target Sum</h3><h4 id=\"æ‰”ä¸€ä¸ªfé¢çš„-éª°å­dæ¬¡ï¼Œç»“æœä¸ºtargetçš„æ¬¡æ•°ã€‚åŸé¢˜\"><a href=\"#æ‰”ä¸€ä¸ªfé¢çš„-éª°å­dæ¬¡ï¼Œç»“æœä¸ºtargetçš„æ¬¡æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æ‰”ä¸€ä¸ªfé¢çš„ éª°å­dæ¬¡ï¼Œç»“æœä¸ºtargetçš„æ¬¡æ•°ã€‚åŸé¢˜\"></a>æ‰”ä¸€ä¸ªfé¢çš„ éª°å­dæ¬¡ï¼Œç»“æœä¸ºtargetçš„æ¬¡æ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: d &#x3D; 2, f &#x3D; 6, target &#x3D; 7</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">You throw two dice, each with 6 faces.  There are 6 ways to get a sum of 7:</span><br><span class=\"line\">1+6, 2+5, 3+4, 4+3, 5+2, 6+1.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç«èµ›æ—¶ç”¨çš„æ•°ç»„ï¼Œåæ¥å‘ç°å­—å…¸æ•ˆç‡æ›´é«˜ã€‚æ­¤é¢˜å’Œå‰‘æŒ‡offerä¸­éª°å­é¢˜ç±»ä¼¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numRollsToTarget</span><span class=\"params\">(self, d: int, f: int, target: int)</span> -&gt; int:</span></span><br><span class=\"line\">    last_p = collections.defaultdict(int)</span><br><span class=\"line\">    last_p.update(&#123;d: <span class=\"number\">1</span> <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, f+<span class=\"number\">1</span>)&#125;)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, d+<span class=\"number\">1</span>):</span><br><span class=\"line\">        new_p = collections.defaultdict(int)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(i, i*f+<span class=\"number\">1</span>):</span><br><span class=\"line\">            new_p[j] = sum(last_p[j-k] <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> range(<span class=\"number\">1</span>, f+<span class=\"number\">1</span>))</span><br><span class=\"line\">        last_p = new_p</span><br><span class=\"line\">    <span class=\"keyword\">return</span> last_p[target] % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1093-Statistics-from-a-Large-Sample\"><a href=\"#1093-Statistics-from-a-Large-Sample\" class=\"headerlink\" title=\"1093. Statistics from a Large Sample\"></a>1093. Statistics from a Large Sample</h3><h4 id=\"ç»Ÿè®¡å¤§é‡çš„æ ·æœ¬æ•°æ®ï¼Œæ±‚æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œå¹³å‡å€¼ï¼Œä¼—æ•°ã€‚åŸé¢˜\"><a href=\"#ç»Ÿè®¡å¤§é‡çš„æ ·æœ¬æ•°æ®ï¼Œæ±‚æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œå¹³å‡å€¼ï¼Œä¼—æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»Ÿè®¡å¤§é‡çš„æ ·æœ¬æ•°æ®ï¼Œæ±‚æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œå¹³å‡å€¼ï¼Œä¼—æ•°ã€‚åŸé¢˜\"></a>ç»Ÿè®¡å¤§é‡çš„æ ·æœ¬æ•°æ®ï¼Œæ±‚æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œå¹³å‡å€¼ï¼Œä¼—æ•°ã€‚<a href=\"https://leetcode.com/problems/statistics-from-a-large-sample/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: count &#x3D; [0,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]</span><br><span class=\"line\">Output: [1.00000,3.00000,2.37500,2.50000,3.00000]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šä¸­ä½æ•°çš„æ±‚æ³•è¿™é‡Œæ²¡æƒ³åˆ°ï¼Œä½¿ç”¨äºŒåˆ†å¯ä»¥å®Œç¾çš„è§£å†³å¥‡å¶é—®é¢˜ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sampleStats</span><span class=\"params\">(self, count: List[int])</span> -&gt; List[float]:</span></span><br><span class=\"line\">    n = sum(count)</span><br><span class=\"line\">    mi = next(i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">255</span>) <span class=\"keyword\">if</span> count[i]) * <span class=\"number\">1.0</span></span><br><span class=\"line\">    ma = next(i <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">255</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>) <span class=\"keyword\">if</span> count[i]) * <span class=\"number\">1.0</span></span><br><span class=\"line\">    mean = sum(i * val <span class=\"keyword\">for</span> i, val <span class=\"keyword\">in</span> enumerate(count)) * <span class=\"number\">1.0</span> / n</span><br><span class=\"line\">    mode = count.index(max(count)) * <span class=\"number\">1.0</span></span><br><span class=\"line\">    cc = list(itertools.accumulate(count))</span><br><span class=\"line\">    left = bisect.bisect(cc, (n<span class=\"number\">-1</span>)//<span class=\"number\">2</span>)</span><br><span class=\"line\">    right = bisect.bisect(cc, n//<span class=\"number\">2</span>)</span><br><span class=\"line\">    median = (left + right) / <span class=\"number\">2.0</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> mi, ma, mean, median, mode</span><br></pre></td></tr></table></figure>\n<h3 id=\"1103-Distribute-Candies-to-People\"><a href=\"#1103-Distribute-Candies-to-People\" class=\"headerlink\" title=\"1103. Distribute Candies to People\"></a>1103. Distribute Candies to People</h3><h4 id=\"å‘ç³–æœï¼ŒæŒ‰ç…§é¡ºåºæ¯ä¸ªäººæ¯”ä¸Šä¸€äººå¤šä¸€é¢—ï¼Œå‘åˆ°æœ€åå†å¾ªç¯ã€‚åŸé¢˜\"><a href=\"#å‘ç³–æœï¼ŒæŒ‰ç…§é¡ºåºæ¯ä¸ªäººæ¯”ä¸Šä¸€äººå¤šä¸€é¢—ï¼Œå‘åˆ°æœ€åå†å¾ªç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"å‘ç³–æœï¼ŒæŒ‰ç…§é¡ºåºæ¯ä¸ªäººæ¯”ä¸Šä¸€äººå¤šä¸€é¢—ï¼Œå‘åˆ°æœ€åå†å¾ªç¯ã€‚åŸé¢˜\"></a>å‘ç³–æœï¼ŒæŒ‰ç…§é¡ºåºæ¯ä¸ªäººæ¯”ä¸Šä¸€äººå¤šä¸€é¢—ï¼Œå‘åˆ°æœ€åå†å¾ªç¯ã€‚<a href=\"https://leetcode.com/problems/distribute-candies-to-people/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: candies &#x3D; 7, num_people &#x3D; 4</span><br><span class=\"line\">Output: [1,2,3,1]</span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">On the first turn, ans[0] +&#x3D; 1, and the array is [1,0,0,0].</span><br><span class=\"line\">On the second turn, ans[1] +&#x3D; 2, and the array is [1,2,0,0].</span><br><span class=\"line\">On the third turn, ans[2] +&#x3D; 3, and the array is [1,2,3,0].</span><br><span class=\"line\">On the fourth turn, ans[3] +&#x3D; 1 (because there is only one candy left), and the final array is [1,2,3,1].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜åšæ³•å’ŒLeeç¥ä¸è°‹è€Œåˆã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">distributeCandies</span><span class=\"params\">(self, candies: int, n: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * n</span><br><span class=\"line\">    cur = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> candies &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        ans[cur%n<span class=\"number\">-1</span>] += min(candies, cur)</span><br><span class=\"line\">        candies -= cur</span><br><span class=\"line\">        cur += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1109-Corporate-Flight-Bookings\"><a href=\"#1109-Corporate-Flight-Bookings\" class=\"headerlink\" title=\"1109. Corporate Flight Bookings\"></a>1109. Corporate Flight Bookings</h3><h4 id=\"é€šè¿‡ç»™å®šçš„ä¸€äº›åŒºé—´ï¼Œç¡®å®šæ¯å¤©çš„åº§ä½æ•°ã€‚åŸé¢˜\"><a href=\"#é€šè¿‡ç»™å®šçš„ä¸€äº›åŒºé—´ï¼Œç¡®å®šæ¯å¤©çš„åº§ä½æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"é€šè¿‡ç»™å®šçš„ä¸€äº›åŒºé—´ï¼Œç¡®å®šæ¯å¤©çš„åº§ä½æ•°ã€‚åŸé¢˜\"></a>é€šè¿‡ç»™å®šçš„ä¸€äº›åŒºé—´ï¼Œç¡®å®šæ¯å¤©çš„åº§ä½æ•°ã€‚<a href=\"https://leetcode.com/problems/corporate-flight-bookings/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: bookings &#x3D; [[1,2,10],[2,3,20],[2,5,25]], n &#x3D; 5</span><br><span class=\"line\">Output: [10,55,45,25,25]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ­¤é¢˜æš´åŠ›æ³•ä¼šè¶…æ—¶ã€‚æ ¸å¿ƒåœ¨äºè®°å½•å˜åŒ–çš„çŠ¶æ€ï¼Œç„¶åç´¯åŠ æ±‚ç»“æœã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">corpFlightBookings</span><span class=\"params\">(self, bookings: List[List[int]], n: int)</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = [<span class=\"number\">0</span>] * (n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> s, e, v <span class=\"keyword\">in</span> bookings:</span><br><span class=\"line\">        ans[s<span class=\"number\">-1</span>] += v</span><br><span class=\"line\">        ans[e] -= v</span><br><span class=\"line\">    <span class=\"keyword\">return</span> list(itertools.accumulate(ans))[:<span class=\"number\">-1</span>]</span><br></pre></td></tr></table></figure>\n<h3 id=\"1175-Prime-Arrangements\"><a href=\"#1175-Prime-Arrangements\" class=\"headerlink\" title=\"1175. Prime Arrangements\"></a>1175. Prime Arrangements</h3><h4 id=\"è´¨æ•°æ’åˆ—ã€‚åŸé¢˜\"><a href=\"#è´¨æ•°æ’åˆ—ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è´¨æ•°æ’åˆ—ã€‚åŸé¢˜\"></a>è´¨æ•°æ’åˆ—ã€‚<a href=\"https://leetcode.com/problems/prime-arrangements/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 5</span><br><span class=\"line\">Output: 12</span><br><span class=\"line\">Explanation: For example [1,2,5,4,3] is a valid permutation, but [5,2,3,4,1] is not because the prime number 5 is at index 1.</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numPrimeArrangements</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">countPrimes</span><span class=\"params\">(n)</span>:</span></span><br><span class=\"line\">        is_prime = [<span class=\"literal\">False</span>]*<span class=\"number\">2</span> + [<span class=\"literal\">True</span>]*(n<span class=\"number\">-2</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">2</span>, int(n ** <span class=\"number\">0.5</span>)+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_prime[i]:</span><br><span class=\"line\">                is_prime[i*i:n:i] = [<span class=\"literal\">False</span>] * len(is_prime[i*i:n:i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum(is_prime)</span><br><span class=\"line\">    c = countPrimes(n+<span class=\"number\">1</span>)</span><br><span class=\"line\">    ans = math.factorial(c) * math.factorial(n-c)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1360-Number-of-Days-Between-Two-Dates\"><a href=\"#1360-Number-of-Days-Between-Two-Dates\" class=\"headerlink\" title=\"1360. Number of Days Between Two Dates\"></a>1360. Number of Days Between Two Dates</h3><h4 id=\"è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚åŸé¢˜\"><a href=\"#è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚åŸé¢˜\"></a>è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚<a href=\"https://leetcode.com/problems/number-of-days-between-two-dates/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: date1 &#x3D; &quot;2020-01-15&quot;, date2 &#x3D; &quot;2019-12-31&quot;</span><br><span class=\"line\">Output: 15</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šç®€å•çš„<code>datetime</code>æ¨¡å—æ–¹å¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">daysBetweenDates</span><span class=\"params\">(self, date1: str, date2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> datetime <span class=\"keyword\">import</span> datetime</span><br><span class=\"line\">    d1 = datetime.strptime(date1, <span class=\"string\">'%Y-%m-%d'</span>)</span><br><span class=\"line\">    d2 = datetime.strptime(date2, <span class=\"string\">'%Y-%m-%d'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> abs((d2-d1).days)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæœ‰ä¸ªå…¬å¼ï¼Œå¦‚æœå°†1æœˆäºŒæœˆçœ‹æˆæ˜¯13æœˆå’Œ14æœˆï¼Œé‚£ä¹ˆæœˆä»½è½¬åŒ–å¤©æ•°æœ‰ä¸ªå…¬å¼<code>(153 * m + 8) // 5</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">daysBetweenDates</span><span class=\"params\">(self, date1: str, date2: str)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(date)</span>:</span></span><br><span class=\"line\">        y, m, d = map(int, date.split(<span class=\"string\">'-'</span>))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> m &lt; <span class=\"number\">3</span>:</span><br><span class=\"line\">            m += <span class=\"number\">12</span></span><br><span class=\"line\">            y -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">365</span> * y + y // <span class=\"number\">4</span> + y // <span class=\"number\">400</span> - y // <span class=\"number\">100</span> + d + (<span class=\"number\">153</span> * m + <span class=\"number\">8</span>) // <span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> abs(f(date1) - f(date2))</span><br></pre></td></tr></table></figure>\n<h3 id=\"1363-Largest-Multiple-of-Three\"><a href=\"#1363-Largest-Multiple-of-Three\" class=\"headerlink\" title=\"1363. Largest Multiple of Three\"></a>1363. Largest Multiple of Three</h3><h4 id=\"ç»„æˆçš„æœ€å¤§çš„3çš„å€æ•°ã€‚åŸé¢˜\"><a href=\"#ç»„æˆçš„æœ€å¤§çš„3çš„å€æ•°ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ç»„æˆçš„æœ€å¤§çš„3çš„å€æ•°ã€‚åŸé¢˜\"></a>ç»„æˆçš„æœ€å¤§çš„3çš„å€æ•°ã€‚<a href=\"https://leetcode.com/problems/largest-multiple-of-three/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: digits &#x3D; [8,1,9]</span><br><span class=\"line\">Output: &quot;981</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæ•°å­¦ã€‚</p>\n<ol>\n<li>Calculate the sum of digits <code>total = sum(A)</code></li>\n<li>If <code>total % 3 == 0</code>, we got it directly</li>\n<li>If <code>total % 3 == 1</code> and we have one of 1,4,7 in A:<br>we try to remove one digit of 1,4,7</li>\n<li>If <code>total % 3 == 2</code> and we have one of 2,5,8 in A:<br>we try to remove one digit of 2,5,8</li>\n<li>If <code>total % 3 == 2</code>:<br>we try to remove two digits of 1,4,7</li>\n<li>If <code>total % 3 == 1</code>:<br>we try to remove two digits of 2,5,8</li>\n</ol>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">largestMultipleOfThree</span><span class=\"params\">(self, A)</span>:</span></span><br><span class=\"line\">    total = sum(A)</span><br><span class=\"line\">    count = collections.Counter(A)</span><br><span class=\"line\">    A.sort(reverse=<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> count[i]:</span><br><span class=\"line\">            A.remove(i)</span><br><span class=\"line\">            count[i] -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> A: <span class=\"keyword\">return</span> <span class=\"string\">''</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> any(A): <span class=\"keyword\">return</span> <span class=\"string\">'0'</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sum(A) % <span class=\"number\">3</span> == <span class=\"number\">0</span>: <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(map(str, A))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f(<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> == <span class=\"number\">1</span> <span class=\"keyword\">and</span> count[<span class=\"number\">1</span>] + count[<span class=\"number\">4</span>] + count[<span class=\"number\">7</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f(<span class=\"number\">1</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">4</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">7</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> == <span class=\"number\">2</span> <span class=\"keyword\">and</span> count[<span class=\"number\">2</span>] + count[<span class=\"number\">5</span>] + count[<span class=\"number\">8</span>]:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f(<span class=\"number\">2</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">5</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">8</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> total % <span class=\"number\">3</span> == <span class=\"number\">2</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> f(<span class=\"number\">1</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">1</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">4</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">4</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">7</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">7</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> f(<span class=\"number\">2</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">2</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">5</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">5</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">8</span>) <span class=\"keyword\">or</span> f(<span class=\"number\">8</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"1493-Longest-Subarray-of-1â€™s-After-Deleting-One-Element\"><a href=\"#1493-Longest-Subarray-of-1â€™s-After-Deleting-One-Element\" class=\"headerlink\" title=\"1493. Longest Subarray of 1â€™s After Deleting One Element\"></a>1493. Longest Subarray of 1â€™s After Deleting One Element</h3><h4 id=\"åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå­æ•°ç»„æœ‰æœ€é•¿çš„1ã€å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"><a href=\"#åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå­æ•°ç»„æœ‰æœ€é•¿çš„1ã€å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå­æ•°ç»„æœ‰æœ€é•¿çš„1ã€å­æ•°ç»„é•¿åº¦ã€‚åŸé¢˜\"></a>åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå­æ•°ç»„æœ‰æœ€é•¿çš„1ã€å­æ•°ç»„é•¿åº¦ã€‚<a href=\"https://leetcode.com/problems/longest-subarray-of-1s-after-deleting-one-element/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: nums &#x3D; [1,1,0,1]</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: After deleting the number in position 2, [1,1,1] contains 3 numbers with value of 1&#39;s.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šåŒç«¯é˜Ÿåˆ—ï¼Œå…¶å®æ˜¯æ±‚æœ€å¤šåŒ…å«1ä¸ª0çš„æ»‘åŠ¨çª—å£é•¿åº¦ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestSubarray</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = k = <span class=\"number\">0</span></span><br><span class=\"line\">    q = collections.deque()</span><br><span class=\"line\">    <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        q.append(num)</span><br><span class=\"line\">        k += num==<span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k == <span class=\"number\">2</span>:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> q.popleft()!=<span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">pass</span></span><br><span class=\"line\">            k -= <span class=\"number\">1</span></span><br><span class=\"line\">        ans = max(ans, len(q)<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šLee215çš„è§£æ³•ï¼Œè¿˜æ˜¯é€‰æ‹©ç»´æŒäº†ä¸€ä¸ªæœ€å¤§çš„é•¿åº¦ï¼Œæ‰€ä»¥æ²¡ç”¨while è€Œæ˜¯ifï¼Œè¿™æ ·ä¹Ÿä¸ç”¨æ¯æ¬¡maxæ¥æ±‚å€¼ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">longestSubarray</span><span class=\"params\">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    k, i = <span class=\"number\">1</span>, <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(nums)):</span><br><span class=\"line\">        k -= nums[j]==<span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> k &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            k += nums[i]==<span class=\"number\">0</span></span><br><span class=\"line\">            i += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> j - i</span><br></pre></td></tr></table></figure>\n<h3 id=\"537-Complex-Number-Multiplication\"><a href=\"#537-Complex-Number-Multiplication\" class=\"headerlink\" title=\"537. Complex Number Multiplication\"></a>537. Complex Number Multiplication</h3><h4 id=\"ä¸¤ä¸ªè´Ÿæ•°ç›¸ä¹˜ã€‚æ±‚ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä¼šå¤šä¸€ä¸ª-ã€‚åŸé¢˜\"><a href=\"#ä¸¤ä¸ªè´Ÿæ•°ç›¸ä¹˜ã€‚æ±‚ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä¼šå¤šä¸€ä¸ª-ã€‚åŸé¢˜\" class=\"headerlink\" title=\"ä¸¤ä¸ªè´Ÿæ•°ç›¸ä¹˜ã€‚æ±‚ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä¼šå¤šä¸€ä¸ª+ã€‚åŸé¢˜\"></a>ä¸¤ä¸ªè´Ÿæ•°ç›¸ä¹˜ã€‚æ±‚ç»“æœï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œä¼šå¤šä¸€ä¸ª+ã€‚<a href=\"https://leetcode.com/problems/complex-number-multiplication/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;1+-1i&quot;, &quot;1+-1i&quot;</span><br><span class=\"line\">Output: &quot;0+-2i&quot;</span><br><span class=\"line\">Explanation: (1 - i) * (1 - i) &#x3D; 1 + i2 - 2 * i &#x3D; -2i, and you need convert it to the form of 0+-2i.</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå†…ç½®åº“ã€‚è¿™é‡Œformatæ—¶ä¸èƒ½ç”¨dï¼Œå› ä¸ºéƒ½æ˜¯floatã€‚ä½†æ˜¯%å´å¯ä»¥åšåˆ°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">complexNumberMultiply</span><span class=\"params\">(self, a: str, b: str)</span> -&gt; str:</span></span><br><span class=\"line\">    a = complex(a.replace(<span class=\"string\">'+-'</span>, <span class=\"string\">'-'</span>).replace(<span class=\"string\">'i'</span>, <span class=\"string\">'j'</span>))</span><br><span class=\"line\">    b = complex(b.replace(<span class=\"string\">'+-'</span>, <span class=\"string\">'-'</span>).replace(<span class=\"string\">'i'</span>, <span class=\"string\">'j'</span>))</span><br><span class=\"line\">    c = a * b</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'&#123;:.0f&#125;+&#123;:.0f&#125;i'</span>.format(c.real, c.imag)</span><br><span class=\"line\">\t<span class=\"comment\"># return '%d+%di' % (c.real, c.imag)</span></span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šä¸ç”¨å†…ç½®åº“ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">complexNumberMultiply</span><span class=\"params\">(self, a: str, b: str)</span> -&gt; str:</span></span><br><span class=\"line\">    a_real, a_imag = map(int, re.match(<span class=\"string\">r'(\\-?\\d+)\\+(\\-?\\d+)i'</span>, a).groups())</span><br><span class=\"line\">    b_real, b_imag = map(int, re.match(<span class=\"string\">r'(\\-?\\d+)\\+(\\-?\\d+)i'</span>, b).groups())</span><br><span class=\"line\">    real = a_real*b_real - a_imag*b_imag</span><br><span class=\"line\">    imag = a_real*b_imag + b_real*a_imag</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;+&#123;&#125;i'</span>.format(real, imag)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæˆ‘è¿˜æè¿™groupså‘¢ï¼Œäººå®¶stefanä¸€è¡Œå°±æå®šäº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">complexNumberMultiply</span><span class=\"params\">(self, a, b)</span>:</span></span><br><span class=\"line\">    a, ai, b, bi = map(int, re.findall(<span class=\"string\">'-?\\d+'</span>, a+b))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'%d+%di'</span> % (a*b - ai*bi, a*bi + ai*b)</span><br></pre></td></tr></table></figure>\n<h3 id=\"794-Valid-Tic-Tac-Toe-State\"><a href=\"#794-Valid-Tic-Tac-Toe-State\" class=\"headerlink\" title=\"794. Valid Tic-Tac-Toe State\"></a>794. Valid Tic-Tac-Toe State</h3><h4 id=\"åœ¨ä¸€ä¸ªä¹å®«æ ¼é‡Œä¸‹æ£‹ï¼Œè°è¿ä¸Š3ä¸ªå°±ç®—èµ¢ï¼Œé—®ç»™å‡ºä¸€ä¸ªæ£‹å­å±€é¢ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½ä¸‹å‡ºæ¥ã€‚åŸé¢˜\"><a href=\"#åœ¨ä¸€ä¸ªä¹å®«æ ¼é‡Œä¸‹æ£‹ï¼Œè°è¿ä¸Š3ä¸ªå°±ç®—èµ¢ï¼Œé—®ç»™å‡ºä¸€ä¸ªæ£‹å­å±€é¢ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½ä¸‹å‡ºæ¥ã€‚åŸé¢˜\" class=\"headerlink\" title=\"åœ¨ä¸€ä¸ªä¹å®«æ ¼é‡Œä¸‹æ£‹ï¼Œè°è¿ä¸Š3ä¸ªå°±ç®—èµ¢ï¼Œé—®ç»™å‡ºä¸€ä¸ªæ£‹å­å±€é¢ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½ä¸‹å‡ºæ¥ã€‚åŸé¢˜\"></a>åœ¨ä¸€ä¸ªä¹å®«æ ¼é‡Œä¸‹æ£‹ï¼Œè°è¿ä¸Š3ä¸ªå°±ç®—èµ¢ï¼Œé—®ç»™å‡ºä¸€ä¸ªæ£‹å­å±€é¢ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½ä¸‹å‡ºæ¥ã€‚<a href=\"https://leetcode.com/problems/valid-tic-tac-toe-state/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šcaseæŒºå¤šçš„ï¼Œéœ€è¦æƒ³æ˜ç™½åˆ¤æ–­æ¡ä»¶ï¼ŒåŸºæœ¬å°±æ˜¯è¯·æ±‚x,oçš„åˆ†åˆ«è¿3çš„ä¸ªæ•°ï¼Œç„¶åå’Œåˆ†åˆ«çš„æ£‹å­æ•°ï¼Œæœ€ååˆ¤æ–­ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">validTicTacToe</span><span class=\"params\">(self, b: List[str])</span> -&gt; bool:</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    fb = <span class=\"string\">''</span>.join(b)</span><br><span class=\"line\">    x_cnt, o_cnt = fb.count(<span class=\"string\">'X'</span>), fb.count(<span class=\"string\">'O'</span>)</span><br><span class=\"line\">    cnt = &#123;<span class=\"string\">'X'</span>: <span class=\"number\">0</span>, <span class=\"string\">'O'</span>: <span class=\"number\">0</span>&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> row <span class=\"keyword\">in</span> b:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(set(row))==<span class=\"number\">1</span> <span class=\"keyword\">and</span> row[<span class=\"number\">0</span>]!=<span class=\"string\">' '</span>:</span><br><span class=\"line\">            cnt[row[<span class=\"number\">0</span>]] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> col <span class=\"keyword\">in</span> zip(*b):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(set(col))==<span class=\"number\">1</span> <span class=\"keyword\">and</span> col[<span class=\"number\">0</span>]!=<span class=\"string\">' '</span>:</span><br><span class=\"line\">            cnt[col[<span class=\"number\">0</span>]] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b[<span class=\"number\">1</span>][<span class=\"number\">1</span>] != <span class=\"string\">' '</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(set(b[i][i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">3</span>))) == <span class=\"number\">1</span>:</span><br><span class=\"line\">            cnt[b[<span class=\"number\">1</span>][<span class=\"number\">1</span>]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> len(set(b[i][<span class=\"number\">2</span>-i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">3</span>))) == <span class=\"number\">1</span>:</span><br><span class=\"line\">            cnt[b[<span class=\"number\">1</span>][<span class=\"number\">1</span>]] += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\"># print(x_cnt, o_cnt, cnt)  </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> o_cnt&lt;=x_cnt&lt;=o_cnt+<span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> cnt[<span class=\"string\">'X'</span>] <span class=\"keyword\">and</span> x_cnt!=o_cnt+<span class=\"number\">1</span>: </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> cnt[<span class=\"string\">'O'</span>] <span class=\"keyword\">and</span> (cnt[<span class=\"string\">'X'</span>] <span class=\"keyword\">or</span> x_cnt!=o_cnt):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šstefançš„ç­”æ¡ˆï¼Œåˆ¤æ–­ç²¾ç®€äº†ï¼Œæ±‚è¿å­è¿‡ç¨‹ä¹Ÿç²¾ç®€äº†ã€‚å½“X&gt;Oæ—¶ï¼Œé‚£ä¹ˆOå¿…ç„¶æ²¡æœ‰è¿3ã€‚ç›¸ç­‰æ—¶ï¼ŒXå¿…ç„¶æ²¡æœ‰è¿3ã€‚ç”¨äº†ä¸€ä¸ªåˆ‡ç‰‡æ±‚å‡ºæ˜¯å¦å‡ºç°äº†è¿3ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">b = <span class=\"string\">'|'</span>.join(board)</span><br><span class=\"line\">    x, o = (any(p*<span class=\"number\">3</span> <span class=\"keyword\">in</span> b[s::d] <span class=\"keyword\">for</span> s <span class=\"keyword\">in</span> range(<span class=\"number\">9</span>) <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> (<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>)) <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> <span class=\"string\">'XO'</span>)</span><br><span class=\"line\">    m = b.count(<span class=\"string\">'X'</span>) - b.count(<span class=\"string\">'O'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> m == (<span class=\"keyword\">not</span> o) <span class=\"keyword\">if</span> m <span class=\"keyword\">else</span> <span class=\"keyword\">not</span> x</span><br></pre></td></tr></table></figure>\n<h3 id=\"227-Basic-Calculator-II\"><a href=\"#227-Basic-Calculator-II\" class=\"headerlink\" title=\"227. Basic Calculator II\"></a>227. Basic Calculator II</h3><h4 id=\"è®¡ç®—å¼å­ï¼Œæ²¡æœ‰æ‹¬å·ï¼ŒåŒ…å«åŠ å‡ä¹˜é™¤å’Œå°æ•°ç‚¹ã€‚åŸé¢˜\"><a href=\"#è®¡ç®—å¼å­ï¼Œæ²¡æœ‰æ‹¬å·ï¼ŒåŒ…å«åŠ å‡ä¹˜é™¤å’Œå°æ•°ç‚¹ã€‚åŸé¢˜\" class=\"headerlink\" title=\"è®¡ç®—å¼å­ï¼Œæ²¡æœ‰æ‹¬å·ï¼ŒåŒ…å«åŠ å‡ä¹˜é™¤å’Œå°æ•°ç‚¹ã€‚åŸé¢˜\"></a>è®¡ç®—å¼å­ï¼Œæ²¡æœ‰æ‹¬å·ï¼ŒåŒ…å«åŠ å‡ä¹˜é™¤å’Œå°æ•°ç‚¹ã€‚<a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot; 3+5 &#x2F; 2 &quot;</span><br><span class=\"line\">Output: 5</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼ševalç®—æ˜¯ä½œå¼Šäº†ï¼Œè¿™ä¸ªstefançš„æ–¹æ³•ä¸é”™ã€‚ç”¨äº†ç”Ÿæˆå™¨ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">calculate</span><span class=\"params\">(self, s: str)</span> -&gt; int:</span></span><br><span class=\"line\">    tokens = iter(re.findall(<span class=\"string\">'\\d+|\\S'</span>, s))</span><br><span class=\"line\">    total, sign = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> token <span class=\"keyword\">in</span> tokens:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> token <span class=\"keyword\">in</span> <span class=\"string\">'+-'</span>:</span><br><span class=\"line\">            total += sign * term</span><br><span class=\"line\">            sign = <span class=\"string\">' +'</span>.find(token)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> token <span class=\"keyword\">in</span> <span class=\"string\">'*/'</span>:</span><br><span class=\"line\">            n = int(next(tokens))</span><br><span class=\"line\">            term = term*n <span class=\"keyword\">if</span> token == <span class=\"string\">'*'</span> <span class=\"keyword\">else</span> term//n</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            term = int(token)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> total + sign * term</span><br></pre></td></tr></table></figure>\n<h3 id=\"640-Solve-the-Equation\"><a href=\"#640-Solve-the-Equation\" class=\"headerlink\" title=\"640. Solve the Equation\"></a>640. Solve the Equation</h3><h4 id=\"è§£æ–¹ç¨‹ï¼Œæ–¹ç¨‹ä¸­åªæœ‰xä¸€ä¸ªå˜é‡ï¼Œåªæœ‰åŠ å‡æ“ä½œã€‚åŸé¢˜\"><a href=\"#è§£æ–¹ç¨‹ï¼Œæ–¹ç¨‹ä¸­åªæœ‰xä¸€ä¸ªå˜é‡ï¼Œåªæœ‰åŠ å‡æ“ä½œã€‚åŸé¢˜\" class=\"headerlink\" title=\"è§£æ–¹ç¨‹ï¼Œæ–¹ç¨‹ä¸­åªæœ‰xä¸€ä¸ªå˜é‡ï¼Œåªæœ‰åŠ å‡æ“ä½œã€‚åŸé¢˜\"></a>è§£æ–¹ç¨‹ï¼Œæ–¹ç¨‹ä¸­åªæœ‰xä¸€ä¸ªå˜é‡ï¼Œåªæœ‰åŠ å‡æ“ä½œã€‚<a href=\"https://leetcode.com/problems/solve-the-equation/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: &quot;x+5-3+x&#x3D;6+x-2&quot;</span><br><span class=\"line\">Output: &quot;x&#x3D;2&quot;</span><br><span class=\"line\">Input: &quot;x&#x3D;x&quot;</span><br><span class=\"line\">Output: &quot;Infinite solutions&quot;</span><br><span class=\"line\">Input: &quot;2x+3x-6x&#x3D;x+2&quot;</span><br><span class=\"line\">Output: &quot;x&#x3D;-1&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚æ­£åˆ™è°ƒäº†åŠå¤©ï¼Œå› ä¸ºä¸æ­¢ä¸€ä¸ºæ•°ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveEquation</span><span class=\"params\">(self, equation: str)</span> -&gt; str:</span></span><br><span class=\"line\">    left, right = equation.split(<span class=\"string\">'='</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">short</span><span class=\"params\">(s)</span>:</span></span><br><span class=\"line\">        coe, d = <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        vs = re.findall(<span class=\"string\">r'[+|-]?\\d+x|[+|-]?\\d+|[+|-]?x'</span>, s)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> vs:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">'x'</span> <span class=\"keyword\">in</span> v:</span><br><span class=\"line\">                c = v[:<span class=\"number\">-1</span>]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> c <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> c[<span class=\"number\">-1</span>].isdigit():</span><br><span class=\"line\">                    c += <span class=\"string\">'1'</span></span><br><span class=\"line\">                coe += int(c)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                d += int(v)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> coe, d</span><br><span class=\"line\">    </span><br><span class=\"line\">    l_c, l_d = short(left)</span><br><span class=\"line\">    r_c, r_d = short(right)</span><br><span class=\"line\">    f_c, f_d = l_c-r_c, r_d-l_d</span><br><span class=\"line\">    <span class=\"keyword\">if</span> f_c == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"string\">'No solution'</span>, <span class=\"string\">'Infinite solutions'</span>)[f_d==<span class=\"number\">0</span>]</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'x=&#123;&#125;'</span>.format(f_d//f_c)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•äºŒï¼šçœ‹äº†stefançš„ç­”æ¡ˆã€‚replaceå‘€ï¼Œè¿™ç§é¢˜å¯ä»¥æ›¿æ¢ä¸€äº›å­—ç¬¦ä¸²äº§ç”Ÿç®€å•çš„æ“ä½œã€‚å¤æ•°çš„æ“ä½œæˆ‘åœ¨æƒ³çš„æ—¶å€™æ€è·¯ä¸€é—ªè€Œè¿‡ï¼Œç„¶åä¸çŸ¥é“æ€ä¹ˆå®ç°å°±æ²¡å¾€ä¸‹æƒ³ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveEquation</span><span class=\"params\">(self, equation: str)</span> -&gt; str:</span></span><br><span class=\"line\">    z = eval(equation.replace(<span class=\"string\">'x'</span>, <span class=\"string\">'j'</span>).replace(<span class=\"string\">'='</span>, <span class=\"string\">'-('</span>) + <span class=\"string\">')'</span>, &#123;<span class=\"string\">'j'</span>: <span class=\"number\">1j</span>&#125;)</span><br><span class=\"line\">    a, x = z.real, -z.imag</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'x=%d'</span> % (a / x) <span class=\"keyword\">if</span> x <span class=\"keyword\">else</span> <span class=\"string\">'No solution'</span> <span class=\"keyword\">if</span> a <span class=\"keyword\">else</span> <span class=\"string\">'Infinite solutions'</span></span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå·¦å³å¯ä»¥ä¸€èµ·ç®—ï¼Œé€šè¿‡=æ¥æ”¹å˜ä¸€ä¸ªç¬¦å·ã€‚+çš„å˜æˆ-ï¼Œ-å˜æˆ+ï¼Œæ­£åˆ™åˆ†æˆ4ä¸ªç»„æ²¡æœ‰æƒ³åˆ°ã€‚å¤´é“å°±æƒ³æŠŠå®ƒä»¬å¡åˆ°ä¸€èµ·ï¼Œé‚£æ ·åè€Œåˆ¤æ–­å¾—æ›´å¤šäº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">solveEquation</span><span class=\"params\">(self, equation: str)</span> -&gt; str:</span></span><br><span class=\"line\">    x = a = <span class=\"number\">0</span></span><br><span class=\"line\">    side = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> eq, sign, num, isx <span class=\"keyword\">in</span> re.findall(<span class=\"string\">'(=)|([-+]?)(\\d*)(x?)'</span>, equation):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> eq:</span><br><span class=\"line\">            side = <span class=\"number\">-1</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> isx:</span><br><span class=\"line\">            x += side * int(sign + <span class=\"string\">'1'</span>) * int(num <span class=\"keyword\">or</span> <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> num:</span><br><span class=\"line\">            a -= side * int(sign + num)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'x=%d'</span> % (a / x) <span class=\"keyword\">if</span> x <span class=\"keyword\">else</span> <span class=\"string\">'No solution'</span> <span class=\"keyword\">if</span> a <span class=\"keyword\">else</span> <span class=\"string\">'Infinite solutions'</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"319-Bulb-Switcher\"><a href=\"#319-Bulb-Switcher\" class=\"headerlink\" title=\"319. Bulb Switcher\"></a>319. Bulb Switcher</h3><h4 id=\"æœ‰nä¸ªå¼€å…³æ§åˆ¶nä¸ªåˆå§‹åŒ–ä¸ºå…³çš„ç¯æ³¡ã€‚ä»1å¼€å§‹ï¼Œæ¯æ¬¡éš”1-2-3-4-nå¼€è¿™äº›å¼€å…³ï¼Œé—®æœ€åæœ‰å¤šå°‘ä¸ªå¼€ç€çš„ç¯ã€‚åŸé¢˜\"><a href=\"#æœ‰nä¸ªå¼€å…³æ§åˆ¶nä¸ªåˆå§‹åŒ–ä¸ºå…³çš„ç¯æ³¡ã€‚ä»1å¼€å§‹ï¼Œæ¯æ¬¡éš”1-2-3-4-nå¼€è¿™äº›å¼€å…³ï¼Œé—®æœ€åæœ‰å¤šå°‘ä¸ªå¼€ç€çš„ç¯ã€‚åŸé¢˜\" class=\"headerlink\" title=\"æœ‰nä¸ªå¼€å…³æ§åˆ¶nä¸ªåˆå§‹åŒ–ä¸ºå…³çš„ç¯æ³¡ã€‚ä»1å¼€å§‹ï¼Œæ¯æ¬¡éš”1,2,3,4..nå¼€è¿™äº›å¼€å…³ï¼Œé—®æœ€åæœ‰å¤šå°‘ä¸ªå¼€ç€çš„ç¯ã€‚åŸé¢˜\"></a>æœ‰nä¸ªå¼€å…³æ§åˆ¶nä¸ªåˆå§‹åŒ–ä¸ºå…³çš„ç¯æ³¡ã€‚ä»1å¼€å§‹ï¼Œæ¯æ¬¡éš”1,2,3,4..nå¼€è¿™äº›å¼€å…³ï¼Œé—®æœ€åæœ‰å¤šå°‘ä¸ªå¼€ç€çš„ç¯ã€‚<a href=\"https://leetcode.com/problems/bulb-switcher/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><p>æ–¹æ³•ä¸€ï¼šè¿™é¢˜æœ‰ç‚¹åƒè„‘ç­‹æ€¥è½¬å¼¯ï¼Œæˆ‘åˆ†æå‡ºäº†åªæœ‰1~nçš„æ•°æœ‰å¥‡æ•°ä¸ªçº¦æ•°ï¼Œé‚£ä¹ˆæœ€åå°±æ˜¯å¼€ç€çš„ã€‚ç„¶åä»€ä¹ˆæ ·çš„æ•°æœ‰å¥‡æ•°ä¸ªçº¦æ•°ï¼Œçœ‹äº†stefanåæç„¶å¤§æ‚Ÿï¼ŒåŸæ¥æ˜¯å¼€æ–¹ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bulbSwitch</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> int(math.sqrt(n))</span><br></pre></td></tr></table></figure>\n<h3 id=\"592-Fraction-Addition-and-Subtraction\"><a href=\"#592-Fraction-Addition-and-Subtraction\" class=\"headerlink\" title=\"592. Fraction Addition and Subtraction\"></a><a href=\"https://leetcode.com/problems/fraction-addition-and-subtraction/\" target=\"_blank\" rel=\"noopener\">592. Fraction Addition and Subtraction</a></h3><h4 id=\"åˆ†æ•°è¿ç®—ï¼Œæœ‰è´Ÿæ•°ï¼Œåªæœ‰-æ“ä½œï¼Œæœ€åè¦è¿”å›ä¸€ä¸ªåˆ†æ•°ï¼Œå¦‚æœæ˜¯æ•´æ•°çš„è¯ï¼Œéœ€è¦åˆ†æ¯1ã€‚\"><a href=\"#åˆ†æ•°è¿ç®—ï¼Œæœ‰è´Ÿæ•°ï¼Œåªæœ‰-æ“ä½œï¼Œæœ€åè¦è¿”å›ä¸€ä¸ªåˆ†æ•°ï¼Œå¦‚æœæ˜¯æ•´æ•°çš„è¯ï¼Œéœ€è¦åˆ†æ¯1ã€‚\" class=\"headerlink\" title=\"åˆ†æ•°è¿ç®—ï¼Œæœ‰è´Ÿæ•°ï¼Œåªæœ‰+-æ“ä½œï¼Œæœ€åè¦è¿”å›ä¸€ä¸ªåˆ†æ•°ï¼Œå¦‚æœæ˜¯æ•´æ•°çš„è¯ï¼Œéœ€è¦åˆ†æ¯1ã€‚\"></a>åˆ†æ•°è¿ç®—ï¼Œæœ‰è´Ÿæ•°ï¼Œåªæœ‰+-æ“ä½œï¼Œæœ€åè¦è¿”å›ä¸€ä¸ªåˆ†æ•°ï¼Œå¦‚æœæ˜¯æ•´æ•°çš„è¯ï¼Œéœ€è¦åˆ†æ¯1ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:&quot;-1&#x2F;2+1&#x2F;2&quot;</span><br><span class=\"line\">Output: &quot;0&#x2F;1&quot;</span><br><span class=\"line\">Input:&quot;-1&#x2F;2+1&#x2F;2+1&#x2F;3&quot;</span><br><span class=\"line\">Output: &quot;1&#x2F;3&quot;</span><br><span class=\"line\">Input:&quot;1&#x2F;3-1&#x2F;2&quot;</span><br><span class=\"line\">Output: &quot;-1&#x2F;6&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šcheat å†™æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fractionAddition</span><span class=\"params\">(self, expression: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> fractions</span><br><span class=\"line\">    tokens = iter(re.findall(<span class=\"string\">r'-?\\d+\\/-?\\d+|[+-]'</span>, expression))</span><br><span class=\"line\">    ans, sign = fractions.Fraction(<span class=\"number\">0</span>), <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> token <span class=\"keyword\">in</span> tokens:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> token <span class=\"keyword\">in</span> <span class=\"string\">'+-'</span>:</span><br><span class=\"line\">            sign = <span class=\"string\">' +'</span>.find(token)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += sign * fractions.Fraction(token)</span><br><span class=\"line\">    ans = str(ans) + (<span class=\"string\">'/'</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> str(ans)) * <span class=\"string\">'/1'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè‡ªå·±å®ç°äº†ä¸€ä¸ªã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fractionAddition</span><span class=\"params\">(self, expression: str)</span> -&gt; str:</span></span><br><span class=\"line\">    tokens = iter(re.findall(<span class=\"string\">r'-?\\d+\\/-?\\d+|[+-]'</span>, expression))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cal</span><span class=\"params\">(a, b, sign=<span class=\"number\">1</span>)</span>:</span></span><br><span class=\"line\">        na, da = map(int, a.split(<span class=\"string\">'/'</span>))</span><br><span class=\"line\">        nb, db = map(int, b.split(<span class=\"string\">'/'</span>))</span><br><span class=\"line\">        dc = da*db // math.gcd(da, db)</span><br><span class=\"line\">        nc = dc//da*na + sign*dc//db*nb</span><br><span class=\"line\">        r = math.gcd(nc, dc)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;/&#123;&#125;'</span>.format(nc//r, dc//r)</span><br><span class=\"line\">        </span><br><span class=\"line\">    ans, sign = <span class=\"string\">'0/1'</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> token <span class=\"keyword\">in</span> tokens:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> token <span class=\"keyword\">in</span> <span class=\"string\">'+-'</span>:</span><br><span class=\"line\">            sign = <span class=\"string\">' +'</span>.find(token)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans = cal(ans, token, sign)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šå—åˆ°è¯„è®ºåŒºå¤§ä½¬å¯å‘ï¼Œä¼˜åŒ–ä¸€ä¸‹ï¼Œé¦–å…ˆå¯¹æ­£åˆ™ä¼˜åŒ–ï¼Œå¯ä»¥å°†åˆ†å­åˆ†æ¯éƒ½æ‹†åˆ†å‡ºæ¥ï¼Œç„¶åä¸€æ¬¡å–ä¸¤ä¸ªã€‚Stefançš„ç­”æ¡ˆï¼Œæˆ‘å±…ç„¶æŠŠåˆ†æ•°ç´¯åŠ çš„å…¬å¼éƒ½ç»™å¿˜äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fractionAddition</span><span class=\"params\">(self, expression: str)</span> -&gt; str:</span></span><br><span class=\"line\">    nums = iter(map(int, re.findall(<span class=\"string\">r'[+-]?\\d+'</span>, expression)))</span><br><span class=\"line\">    na, da = <span class=\"number\">0</span>, <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> nb <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">        db = next(nums)</span><br><span class=\"line\">        na = na*db + da*nb</span><br><span class=\"line\">        da *= db</span><br><span class=\"line\">        r = math.gcd(na, da)</span><br><span class=\"line\">        na //= r</span><br><span class=\"line\">        da //= r</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;/&#123;&#125;'</span>.format(na, da)</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•å››ï¼šLeeçš„å†™æ³•ï¼Œæ˜¯æˆ‘æ„šé’äº†ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fractionAddition</span><span class=\"params\">(self, expression: str)</span> -&gt; str:</span></span><br><span class=\"line\">    <span class=\"keyword\">from</span> fractions <span class=\"keyword\">import</span> Fraction <span class=\"keyword\">as</span> f</span><br><span class=\"line\">    ans = sum(map(f, re.findall(<span class=\"string\">r'[+-]?\\d+/\\d+'</span>, expression)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'&#123;&#125;/&#123;&#125;'</span>.format(ans.numerator, ans.denominator)</span><br></pre></td></tr></table></figure>\n<h3 id=\"397-Integer-Replacement\"><a href=\"#397-Integer-Replacement\" class=\"headerlink\" title=\"397. Integer Replacement\"></a><a href=\"https://leetcode.com/problems/integer-replacement/\" target=\"_blank\" rel=\"noopener\">397. Integer Replacement</a></h3><h4 id=\"ç»™å®šä¸€ä¸ªæ•°ï¼Œå¶æ•°å¯ä»¥-2ï¼Œå¥‡æ•°å¯ä»¥-1ï¼Œ-1ï¼Œé—®æœ€å°‘å¤šå°‘æ­¥èƒ½åˆ°1ã€‚\"><a href=\"#ç»™å®šä¸€ä¸ªæ•°ï¼Œå¶æ•°å¯ä»¥-2ï¼Œå¥‡æ•°å¯ä»¥-1ï¼Œ-1ï¼Œé—®æœ€å°‘å¤šå°‘æ­¥èƒ½åˆ°1ã€‚\" class=\"headerlink\" title=\"ç»™å®šä¸€ä¸ªæ•°ï¼Œå¶æ•°å¯ä»¥/2ï¼Œå¥‡æ•°å¯ä»¥+1ï¼Œ-1ï¼Œé—®æœ€å°‘å¤šå°‘æ­¥èƒ½åˆ°1ã€‚\"></a>ç»™å®šä¸€ä¸ªæ•°ï¼Œå¶æ•°å¯ä»¥/2ï¼Œå¥‡æ•°å¯ä»¥+1ï¼Œ-1ï¼Œé—®æœ€å°‘å¤šå°‘æ­¥èƒ½åˆ°1ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">8</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">3</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">8 -&gt; 4 -&gt; 2 -&gt; 1</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">integerReplacement</span><span class=\"params\">(self, n: int)</span> -&gt; int:</span></span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">    @lru_cache(None)</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dp</span><span class=\"params\">(i)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">1</span>: <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dp(i//<span class=\"number\">2</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> min(dp(i+<span class=\"number\">1</span>), dp(i<span class=\"number\">-1</span>)) + <span class=\"number\">1</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> dp(n)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¿™æ˜¯ä¸€ä¸ªè´ªå¿ƒçš„æ–¹æ³•ã€‚é¦–å…ˆéœ€è¦æ¨å¯¼è¯æ˜ã€‚//2çš„æ–¹å¼ä¸€å®šæ˜¯æœ€å¿«çš„ï¼Œå› ä¸º2/1ä¹Ÿåªç”¨äº†1æ­¥ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">f(1) &#x3D; 0</span><br><span class=\"line\">f(2n) &#x3D; 1 + f(n)</span><br><span class=\"line\">f(2n+1) &#x3D; min(f(2n)+1, f(2n+2)+1)</span><br><span class=\"line\">f(2n+2) &#x3D; f(n+1) + 1</span><br><span class=\"line\">f(2n+1) &#x3D; min(f(2n)+1, f(n+1)+2)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">integerReplacement</span><span class=\"params\">(self, n)</span>:</span></span><br><span class=\"line\">    rtn = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> n &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">        rtn += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n % <span class=\"number\">2</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">            n //= <span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> n % <span class=\"number\">4</span> == <span class=\"number\">1</span> <span class=\"keyword\">or</span> n == <span class=\"number\">3</span>:</span><br><span class=\"line\">            n -= <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            n += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> rtn</span><br></pre></td></tr></table></figure>\n<h3 id=\"372-Super-Pow\"><a href=\"#372-Super-Pow\" class=\"headerlink\" title=\"372. Super Pow\"></a><a href=\"https://leetcode.com/problems/super-pow/\" target=\"_blank\" rel=\"noopener\">372. Super Pow</a></h3><h4 id=\"æ±‚å¤§æ•°çš„å¹‚ã€‚å¹‚ä¹Ÿå¯ä»¥å¾ˆå¤§ã€‚å¯¹1337çš„ä½™æ•°ã€‚\"><a href=\"#æ±‚å¤§æ•°çš„å¹‚ã€‚å¹‚ä¹Ÿå¯ä»¥å¾ˆå¤§ã€‚å¯¹1337çš„ä½™æ•°ã€‚\" class=\"headerlink\" title=\"æ±‚å¤§æ•°çš„å¹‚ã€‚å¹‚ä¹Ÿå¯ä»¥å¾ˆå¤§ã€‚å¯¹1337çš„ä½™æ•°ã€‚\"></a>æ±‚å¤§æ•°çš„å¹‚ã€‚å¹‚ä¹Ÿå¯ä»¥å¾ˆå¤§ã€‚å¯¹1337çš„ä½™æ•°ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: a &#x3D; 2, b &#x3D; [1,0]</span><br><span class=\"line\">Output: 1024</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæˆ‘ç”¨<code>math.pow()</code>ï¼Œ è¶…è¿‡äº†<code>range error</code>äº†ã€‚è€Œstefançš„powå°±å¯ä»¥ï¼Œéš¾é“å› ä¸ºå–ä½™è¿ç®—æ”¾åˆ°æ–¹æ³•é‡Œå°±å¾ˆå¿«ï¼Ÿå³ä½¿æ˜¯è¿™ç§æ–¹å¼ï¼Œå°†1337ç”¨%å–ä½™ä¹Ÿä¼šè¶…æ—¶ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">superPow</span><span class=\"params\">(self, a: int, b: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> pow(a, int(<span class=\"string\">''</span>.join(map(str, b))), <span class=\"number\">1337</span>)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šStefançš„æ–¹æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">superPow</span><span class=\"params\">(self, a: int, b: List[int])</span> -&gt; int:</span></span><br><span class=\"line\">    ans = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> digit <span class=\"keyword\">in</span> b:</span><br><span class=\"line\">        ans = (pow(ans, <span class=\"number\">10</span>, <span class=\"number\">1337</span>) * pow(a, digit, <span class=\"number\">1337</span>)) % <span class=\"number\">1337</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h4 id=\"é¢è¯•é¢˜-16-14-æœ€ä½³ç›´çº¿\"><a href=\"#é¢è¯•é¢˜-16-14-æœ€ä½³ç›´çº¿\" class=\"headerlink\" title=\"é¢è¯•é¢˜ 16.14. æœ€ä½³ç›´çº¿\"></a><a href=\"https://leetcode-cn.com/problems/best-line-lcci/\" target=\"_blank\" rel=\"noopener\">é¢è¯•é¢˜ 16.14. æœ€ä½³ç›´çº¿</a></h4><h4 id=\"å¹³é¢ä¸Šæœ‰ä¸€äº›ç‚¹ï¼Œç”»ä¸€æ¡ç›´çº¿ï¼Œé—®ç©¿è¿‡åšå¤šç‚¹çš„çº¿ï¼Œæœ€å¼€å§‹çš„ä¸¤ä¸ªç‚¹çš„ç´¢å¼•æ˜¯ä»€ä¹ˆã€‚\"><a href=\"#å¹³é¢ä¸Šæœ‰ä¸€äº›ç‚¹ï¼Œç”»ä¸€æ¡ç›´çº¿ï¼Œé—®ç©¿è¿‡åšå¤šç‚¹çš„çº¿ï¼Œæœ€å¼€å§‹çš„ä¸¤ä¸ªç‚¹çš„ç´¢å¼•æ˜¯ä»€ä¹ˆã€‚\" class=\"headerlink\" title=\"å¹³é¢ä¸Šæœ‰ä¸€äº›ç‚¹ï¼Œç”»ä¸€æ¡ç›´çº¿ï¼Œé—®ç©¿è¿‡åšå¤šç‚¹çš„çº¿ï¼Œæœ€å¼€å§‹çš„ä¸¤ä¸ªç‚¹çš„ç´¢å¼•æ˜¯ä»€ä¹ˆã€‚\"></a>å¹³é¢ä¸Šæœ‰ä¸€äº›ç‚¹ï¼Œç”»ä¸€æ¡ç›´çº¿ï¼Œé—®ç©¿è¿‡åšå¤šç‚¹çš„çº¿ï¼Œæœ€å¼€å§‹çš„ä¸¤ä¸ªç‚¹çš„ç´¢å¼•æ˜¯ä»€ä¹ˆã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¾“å…¥ï¼š [[0,0],[1,1],[1,0],[2,0]]</span><br><span class=\"line\">è¾“å‡ºï¼š [0,2]</span><br><span class=\"line\">è§£é‡Šï¼š æ‰€æ±‚ç›´çº¿ç©¿è¿‡çš„3ä¸ªç‚¹çš„ç¼–å·ä¸º[0,2,3]</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šæš´åŠ›,O(n^3)ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bestLine</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    N = len(points)</span><br><span class=\"line\">    ans, cnt = [], <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p1 <span class=\"keyword\">in</span> enumerate(points):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, p2 <span class=\"keyword\">in</span> enumerate(itertools.islice(points, i+<span class=\"number\">1</span>, N), i+<span class=\"number\">1</span>):</span><br><span class=\"line\">            x1, y1 = p2[<span class=\"number\">0</span>]-p1[<span class=\"number\">0</span>], p2[<span class=\"number\">1</span>]-p1[<span class=\"number\">1</span>]</span><br><span class=\"line\">            c = <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> p3 <span class=\"keyword\">in</span> itertools.islice(points, j+<span class=\"number\">1</span>, N):</span><br><span class=\"line\">                x2, y2 = p3[<span class=\"number\">0</span>]-p1[<span class=\"number\">0</span>], p3[<span class=\"number\">1</span>]-p1[<span class=\"number\">1</span>]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> x1*y2 == x2*y1:</span><br><span class=\"line\">                    c += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> c &gt; cnt:</span><br><span class=\"line\">                cnt = c</span><br><span class=\"line\">                ans = [i, j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šè¯„è®ºåŒºå­¦åˆ°çš„æ–¹æ³•ï¼Œæ”¹äº†ä¸€ä¸‹ã€‚å“ˆå¸Œè¡¨è®°å½•ï¼Œä¸€æ¡ç›´çº¿æœ‰æ–œç‡å’Œæˆªè·æ¥ç¡®å®šã€‚ä»¥æ­¤ä¸ºhashã€‚æˆªè·æ€ä¹ˆæ±‚éƒ½å¿˜äº†ï¼Œæ¨å¯¼äº†åŠå¤©ã€‚è¿™é‡Œç´¢å¼•æ¯”è¾ƒä¹±ï¼Œæ‰€ä»¥ç”¨äº†namedtupleã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bestLine</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">f</span><span class=\"params\">(p1, p2)</span> -&gt; tuple:</span></span><br><span class=\"line\">        <span class=\"comment\"># è¿”å›ä¸¤ä¸ªç‚¹çš„æ–œç‡å’Œçºµæˆªè·</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> p1.x == p2.x:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> float(<span class=\"string\">'inf'</span>), p1.x</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ((p2.y-p1.y) / (p2.x-p1.x),</span><br><span class=\"line\">                    (p1.y*p2.x-p2.y*p1.x) / (p2.x-p1.x))</span><br><span class=\"line\"></span><br><span class=\"line\">    d, N = &#123;&#125;, len(points)</span><br><span class=\"line\">    x = y = max_cnt = <span class=\"number\">0</span></span><br><span class=\"line\">    Point = namedtuple(<span class=\"string\">'Point'</span>, <span class=\"string\">'x y'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, coor1 <span class=\"keyword\">in</span> enumerate(points):</span><br><span class=\"line\">        p1 = Point(*coor1)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, coor2 <span class=\"keyword\">in</span> enumerate(islice(points, i+<span class=\"number\">1</span>, N), i+<span class=\"number\">1</span>):</span><br><span class=\"line\">            p2 = Point(*coor2)</span><br><span class=\"line\">            k, b = f(p1, p2)</span><br><span class=\"line\">            d.setdefault((k, b), [<span class=\"number\">0</span>, (i, j)])</span><br><span class=\"line\">            d[k, b][<span class=\"number\">0</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> d[k, b][<span class=\"number\">0</span>]&gt;max_cnt <span class=\"keyword\">or</span> (d[k, b][<span class=\"number\">0</span>]==max_cnt <span class=\"keyword\">and</span> (x, y) &gt; d[k, b][<span class=\"number\">1</span>]):</span><br><span class=\"line\">                max_cnt = d[k, b][<span class=\"number\">0</span>]</span><br><span class=\"line\">                x, y = d[k, b][<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> x, y</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šè¿™ä¸ªæ–¹æ³•å¾ˆæ•ˆç‡ï¼Œæ—¶é—´ç©ºé—´æ˜¯å‰ä¸¤ç§çš„ä¸€åŠã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bestLine</span><span class=\"params\">(self, points: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class=\"line\">    ans = []</span><br><span class=\"line\">    N, max_cnt = len(points), <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p1 <span class=\"keyword\">in</span> enumerate(points):</span><br><span class=\"line\">        slope = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j, p2 <span class=\"keyword\">in</span> enumerate(islice(points, i+<span class=\"number\">1</span>, N), i+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> p1[<span class=\"number\">0</span>] == p2[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                k = <span class=\"literal\">None</span>   <span class=\"comment\"># è¿™é‡Œèµ‹å€¼ä»€ä¹ˆéƒ½è¡Œï¼Œåªè¦åˆ«å’Œæ–œç‡é‡å¤</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                k = (p2[<span class=\"number\">1</span>]-p1[<span class=\"number\">1</span>]) / (p2[<span class=\"number\">0</span>]-p1[<span class=\"number\">0</span>])</span><br><span class=\"line\">            slope.setdefault(k, [i])</span><br><span class=\"line\">            slope[k].append(j)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> idx <span class=\"keyword\">in</span> slope.values():</span><br><span class=\"line\">            <span class=\"keyword\">if</span> len(idx) &gt; max_cnt:</span><br><span class=\"line\">                max_cnt = len(idx)</span><br><span class=\"line\">                ans = idx[:<span class=\"number\">2</span>]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"60-Permutation-Sequence\"><a href=\"#60-Permutation-Sequence\" class=\"headerlink\" title=\"60. Permutation Sequence\"></a>60. Permutation Sequence</h3><h4 id=\"å…¨æ’åˆ—ä¸­çš„ç¬¬kä¸ªã€‚åŸé¢˜\"><a href=\"#å…¨æ’åˆ—ä¸­çš„ç¬¬kä¸ªã€‚åŸé¢˜\" class=\"headerlink\" title=\"å…¨æ’åˆ—ä¸­çš„ç¬¬kä¸ªã€‚åŸé¢˜\"></a>å…¨æ’åˆ—ä¸­çš„ç¬¬kä¸ªã€‚<a href=\"https://leetcode.com/problems/permutation-sequence/\" target=\"_blank\" rel=\"noopener\">åŸé¢˜</a></h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, k &#x3D; 3</span><br><span class=\"line\">Output: &quot;213&quot;</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜å†™æ³•è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸ç®—å›æº¯ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå®˜æ–¹æ ‡ç­¾è´´äº†ä¸€ä¸ªå›æº¯ï¼Œåªæ˜¯åšäº†å‰ªæã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getPermutation</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    self.k = k - <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dfs</span><span class=\"params\">(s, rest)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> rest:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">''</span>.join(s)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(rest)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> self.k &gt;= math.factorial(len(rest)<span class=\"number\">-1</span>):</span><br><span class=\"line\">                self.k -= math.factorial(len(rest)<span class=\"number\">-1</span>)</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            s += rest[i]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(s, rest[:i]+rest[i+<span class=\"number\">1</span>:])</span><br><span class=\"line\"></span><br><span class=\"line\">    nums = list(map(str, range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs([], nums)</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•äºŒï¼šæ”¹å˜ä¸€ä¸‹æ€è·¯ï¼Œæ ¹æ®kçš„å¤§å°æ¥ç¡®å®šæ¯ä¸ªä½ç½®çš„æ•°ã€‚è¿™é“é¢˜æƒ³äº†ä¸åˆ°ä¸ªå°æ—¶ï¼Œæœ€ç»ˆåŸåˆ›å‡ºè‡ªå·±çš„å†™æ³•ã€‚è€—æ—¶36msï¼Œbeats 99%ã€‚æœç„¶æ•°æ®è§„å¾‹æ‰æ˜¯è‡´å‘½çš„é™ç»´æ‰“å‡»ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getPermutation</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    nums = list(map(str, range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    fact = math.factorial(len(nums)<span class=\"number\">-1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> k != <span class=\"number\">1</span>:</span><br><span class=\"line\">        i = (k - <span class=\"number\">1</span>) // fact</span><br><span class=\"line\">        k -= i * fact</span><br><span class=\"line\">        ans += nums.pop(i)</span><br><span class=\"line\">        fact //= len(nums)            </span><br><span class=\"line\">    ans += <span class=\"string\">''</span>.join(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<font color=\"#32CD32\" size=\"3\">æ–¹æ³•ä¸‰ï¼šæ ¹æ®solutionä¸­è°ƒæ•´äº†ä¸€äº›ç‚¹ã€‚å…³äºkç´¢å¼•çš„é—®é¢˜å¯ä»¥åœ¨ä¸€å¼€å§‹å°±-1ï¼Œç„¶åå¾ªç¯ä¸­ä¾¿å¯ä»¥ä½¿ç”¨<code>divmod</code>å†…ç½®å‡½æ•°æ¥æ±‚å€¼ã€‚</font>\n\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getPermutation</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    nums = list(map(str, range(<span class=\"number\">1</span>, n+<span class=\"number\">1</span>)))</span><br><span class=\"line\">    fact = math.factorial(len(nums)<span class=\"number\">-1</span>)</span><br><span class=\"line\">    k -= <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> k:</span><br><span class=\"line\">        i, k = divmod(k, fact)</span><br><span class=\"line\">        ans += nums.pop(i)</span><br><span class=\"line\">        fact //= len(nums)            </span><br><span class=\"line\">    ans += <span class=\"string\">''</span>.join(nums)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1643-Kth-Smallest-Instructions\"><a href=\"#1643-Kth-Smallest-Instructions\" class=\"headerlink\" title=\"1643. Kth Smallest Instructions\"></a><a href=\"https://leetcode.com/problems/kth-smallest-instructions/\" target=\"_blank\" rel=\"noopener\">1643. Kth Smallest Instructions</a></h3><h4 id=\"ç¬¬kä¸ªæœ€å°çš„æŒ‡ä»¤ï¼Œå…¶å®æ˜¯æ±‚R-39-V-39-C-39-H-39-çš„ç¬¬kä¸ªæœ€å°çš„éé‡å¤çš„å…¨æ’åˆ—ã€‚\"><a href=\"#ç¬¬kä¸ªæœ€å°çš„æŒ‡ä»¤ï¼Œå…¶å®æ˜¯æ±‚R-39-V-39-C-39-H-39-çš„ç¬¬kä¸ªæœ€å°çš„éé‡å¤çš„å…¨æ’åˆ—ã€‚\" class=\"headerlink\" title=\"ç¬¬kä¸ªæœ€å°çš„æŒ‡ä»¤ï¼Œå…¶å®æ˜¯æ±‚R*&#39;V&#39;+C*&#39;H&#39;çš„ç¬¬kä¸ªæœ€å°çš„éé‡å¤çš„å…¨æ’åˆ—ã€‚\"></a>ç¬¬kä¸ªæœ€å°çš„æŒ‡ä»¤ï¼Œå…¶å®æ˜¯æ±‚<code>R*&#39;V&#39;+C*&#39;H&#39;</code>çš„ç¬¬kä¸ªæœ€å°çš„éé‡å¤çš„å…¨æ’åˆ—ã€‚</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">Input: destination &#x3D; [2,3], k &#x3D; 1</span><br><span class=\"line\">Output: &quot;HHHVV&quot;</span><br><span class=\"line\">Explanation: All the instructions that reach (2, 3) in lexicographic order are as follows:</span><br><span class=\"line\">[&quot;HHHVV&quot;, &quot;HHVHV&quot;, &quot;HHVVH&quot;, &quot;HVHHV&quot;, &quot;HVHVH&quot;, &quot;HVVHH&quot;, &quot;VHHHV&quot;, &quot;VHHVH&quot;, &quot;VHVHH&quot;, &quot;VVHHH&quot;].</span><br></pre></td></tr></table></figure>\n<p>æ–¹æ³•ä¸€ï¼šå¯æƒœï¼Œæ¯”èµ›æ—¶æ²¡æœ‰è¶³å¤Ÿæ—¶é—´æ¥åšï¼Œæ˜¯æƒ³åˆ°äº†æ•°å­¦æ³•ï¼Œä¹Ÿæƒ³èµ·æ¥å’Œ60é¢˜å¾ˆåƒï¼ŒåŒºåˆ«åœ¨äº60é¢˜æ²¡æœ‰é‡å¤ï¼Œè¿™é‡Œéœ€è¦å»é‡ã€‚è¯„è®ºåŒºçš„ä¸€ä¸ªè§£æ³•ã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">kthSmallestPath</span><span class=\"params\">(self, destination: List[int], k: int)</span> -&gt; str:</span></span><br><span class=\"line\">    ans = <span class=\"string\">''</span></span><br><span class=\"line\">    R, C = destination</span><br><span class=\"line\">    left_v = R</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(R+C):</span><br><span class=\"line\">        left_p = R+C - i - <span class=\"number\">1</span></span><br><span class=\"line\">        com = comb(left_p, left_v)\t\t<span class=\"comment\"># Hå¼€å¤´çš„æœ‰å¤šå°‘ç§</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> com &lt; k:</span><br><span class=\"line\">            ans += <span class=\"string\">'V'</span></span><br><span class=\"line\">            left_v -= <span class=\"number\">1</span></span><br><span class=\"line\">            k -= com</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            ans += <span class=\"string\">'H'</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h3 id=\"1621-Number-of-Sets-of-K-Non-Overlapping-Line-Segments\"><a href=\"#1621-Number-of-Sets-of-K-Non-Overlapping-Line-Segments\" class=\"headerlink\" title=\"1621. Number of Sets of K Non-Overlapping Line Segments\"></a><a href=\"https://leetcode.com/problems/number-of-sets-of-k-non-overlapping-line-segments/\" target=\"_blank\" rel=\"noopener\">1621. Number of Sets of K Non-Overlapping Line Segments</a></h3><h4 id=\"ç»™ä½ ä¸€ç»´ç©ºé—´çš„-n-ä¸ªç‚¹ï¼Œå…¶ä¸­ç¬¬-i-ä¸ªç‚¹ï¼ˆç¼–å·ä»-0-åˆ°-n-1ï¼‰ä½äº-x-i-å¤„ï¼Œè¯·ä½ æ‰¾åˆ°-æ°å¥½-k-ä¸ªä¸é‡å -çº¿æ®µä¸”æ¯ä¸ªçº¿æ®µè‡³å°‘è¦†ç›–ä¸¤ä¸ªç‚¹çš„æ–¹æ¡ˆæ•°ã€‚çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹å¿…é¡»éƒ½æ˜¯-æ•´æ•°åæ ‡-ã€‚è¿™-k-ä¸ªçº¿æ®µä¸éœ€è¦å…¨éƒ¨è¦†ç›–å…¨éƒ¨-n-ä¸ªç‚¹ï¼Œä¸”å®ƒä»¬çš„ç«¯ç‚¹-å¯ä»¥-é‡åˆã€‚è¿”å›æ–¹æ¡ˆæ•°ã€‚\"><a href=\"#ç»™ä½ ä¸€ç»´ç©ºé—´çš„-n-ä¸ªç‚¹ï¼Œå…¶ä¸­ç¬¬-i-ä¸ªç‚¹ï¼ˆç¼–å·ä»-0-åˆ°-n-1ï¼‰ä½äº-x-i-å¤„ï¼Œè¯·ä½ æ‰¾åˆ°-æ°å¥½-k-ä¸ªä¸é‡å -çº¿æ®µä¸”æ¯ä¸ªçº¿æ®µè‡³å°‘è¦†ç›–ä¸¤ä¸ªç‚¹çš„æ–¹æ¡ˆæ•°ã€‚çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹å¿…é¡»éƒ½æ˜¯-æ•´æ•°åæ ‡-ã€‚è¿™-k-ä¸ªçº¿æ®µä¸éœ€è¦å…¨éƒ¨è¦†ç›–å…¨éƒ¨-n-ä¸ªç‚¹ï¼Œä¸”å®ƒä»¬çš„ç«¯ç‚¹-å¯ä»¥-é‡åˆã€‚è¿”å›æ–¹æ¡ˆæ•°ã€‚\" class=\"headerlink\" title=\"ç»™ä½ ä¸€ç»´ç©ºé—´çš„ n ä¸ªç‚¹ï¼Œå…¶ä¸­ç¬¬ i ä¸ªç‚¹ï¼ˆç¼–å·ä» 0 åˆ° n-1ï¼‰ä½äº x = i å¤„ï¼Œè¯·ä½ æ‰¾åˆ° æ°å¥½ k ä¸ªä¸é‡å  çº¿æ®µä¸”æ¯ä¸ªçº¿æ®µè‡³å°‘è¦†ç›–ä¸¤ä¸ªç‚¹çš„æ–¹æ¡ˆæ•°ã€‚çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹å¿…é¡»éƒ½æ˜¯ æ•´æ•°åæ ‡ ã€‚è¿™ k ä¸ªçº¿æ®µä¸éœ€è¦å…¨éƒ¨è¦†ç›–å…¨éƒ¨ n ä¸ªç‚¹ï¼Œä¸”å®ƒä»¬çš„ç«¯ç‚¹ å¯ä»¥ é‡åˆã€‚è¿”å›æ–¹æ¡ˆæ•°ã€‚\"></a>ç»™ä½ ä¸€ç»´ç©ºé—´çš„ n ä¸ªç‚¹ï¼Œå…¶ä¸­ç¬¬ i ä¸ªç‚¹ï¼ˆç¼–å·ä» 0 åˆ° n-1ï¼‰ä½äº x = i å¤„ï¼Œè¯·ä½ æ‰¾åˆ° æ°å¥½ k ä¸ªä¸é‡å  çº¿æ®µä¸”æ¯ä¸ªçº¿æ®µè‡³å°‘è¦†ç›–ä¸¤ä¸ªç‚¹çš„æ–¹æ¡ˆæ•°ã€‚çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹å¿…é¡»éƒ½æ˜¯ æ•´æ•°åæ ‡ ã€‚è¿™ k ä¸ªçº¿æ®µä¸éœ€è¦å…¨éƒ¨è¦†ç›–å…¨éƒ¨ n ä¸ªç‚¹ï¼Œä¸”å®ƒä»¬çš„ç«¯ç‚¹ å¯ä»¥ é‡åˆã€‚è¿”å›æ–¹æ¡ˆæ•°ã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæ¯”èµ›æ—¶æ²¡åšå‡ºæ¥ï¼Œå¡åœ¨ç¬¬äºŒé¢˜ï¼Œæƒ³åˆ°äº†ç»„åˆã€‚çœ‹åˆ°äº†Leeçš„ç­”æ¡ˆã€‚ç»™ä½ nä¸ªç‚¹ï¼Œkä¸ªçº¿æ®µå¯ä»¥å…±äº«ç«¯ç‚¹ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥è½¬åŒ–æˆï¼š</p>\n<p>ç»™ä½ n+k-1ä¸ªç‚¹ï¼Œæ¯ä¸ªçº¿æ®µä¸å¯ä»¥å…±äº«ç«¯ç‚¹ã€‚åœ¨kä¸ªçº¿æ®µä¹‹é—´å„è¡¥ä¸€ä¸ªç‚¹ã€‚æ‰€ä»¥åªéœ€è¦æ±‚å‡ºä»è¿™äº›ç‚¹å‡ºé€‰å‡º2kä¸ªç‚¹çš„ç»„åˆã€‚å› ä¸ºæ¯ä¸¤ä¸ªç›¸é‚»çš„ç‚¹è¿æˆä¸€æ®µï¼Œæ‰€ä»¥æ˜¯2kã€‚</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">numberOfSets</span><span class=\"params\">(self, n: int, k: int)</span> -&gt; int:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> math.comb(n+k<span class=\"number\">-1</span>, <span class=\"number\">2</span>*k) % (<span class=\"number\">10</span>**<span class=\"number\">9</span>+<span class=\"number\">7</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"458-Poor-Pigs\"><a href=\"#458-Poor-Pigs\" class=\"headerlink\" title=\"458. Poor Pigs\"></a><a href=\"https://leetcode.com/problems/poor-pigs/\" target=\"_blank\" rel=\"noopener\">458. Poor Pigs</a></h3><h4 id=\"è¯´æœ‰è¿™ä¹ˆ1000æ¡¶é‡Œé¢è£…äº†æ°´ï¼Œå…¶ä¸­æœ‰ä¸€æ¡¶é‡Œé¢æ˜¯æ¯’è¯ã€‚ä½ å¯ä»¥è®©æ— æ•°å¤´çŒªæ¥è¿™äº›æ°´ï¼Œä½†æ˜¯æ¯å¤´çŒª15åˆ†é’Ÿåªèƒ½å–ä¸€æ¬¡ï¼Œä¸è¿‡å¯ä»¥åŒæ—¶å–è‹¥å¹²æ¡¶æ°´ã€‚ä½ è¦åœ¨1ä¸ªå°æ—¶ä¹‹å†…çŸ¥é“å“ªä¸ªæ¡¶æ˜¯æœ‰æ¯’è¯çš„ã€‚æœ€å°‘éœ€è¦å¤šå°‘å¤´çŒªã€‚\"><a href=\"#è¯´æœ‰è¿™ä¹ˆ1000æ¡¶é‡Œé¢è£…äº†æ°´ï¼Œå…¶ä¸­æœ‰ä¸€æ¡¶é‡Œé¢æ˜¯æ¯’è¯ã€‚ä½ å¯ä»¥è®©æ— æ•°å¤´çŒªæ¥è¿™äº›æ°´ï¼Œä½†æ˜¯æ¯å¤´çŒª15åˆ†é’Ÿåªèƒ½å–ä¸€æ¬¡ï¼Œä¸è¿‡å¯ä»¥åŒæ—¶å–è‹¥å¹²æ¡¶æ°´ã€‚ä½ è¦åœ¨1ä¸ªå°æ—¶ä¹‹å†…çŸ¥é“å“ªä¸ªæ¡¶æ˜¯æœ‰æ¯’è¯çš„ã€‚æœ€å°‘éœ€è¦å¤šå°‘å¤´çŒªã€‚\" class=\"headerlink\" title=\"è¯´æœ‰è¿™ä¹ˆ1000æ¡¶é‡Œé¢è£…äº†æ°´ï¼Œå…¶ä¸­æœ‰ä¸€æ¡¶é‡Œé¢æ˜¯æ¯’è¯ã€‚ä½ å¯ä»¥è®©æ— æ•°å¤´çŒªæ¥è¿™äº›æ°´ï¼Œä½†æ˜¯æ¯å¤´çŒª15åˆ†é’Ÿåªèƒ½å–ä¸€æ¬¡ï¼Œä¸è¿‡å¯ä»¥åŒæ—¶å–è‹¥å¹²æ¡¶æ°´ã€‚ä½ è¦åœ¨1ä¸ªå°æ—¶ä¹‹å†…çŸ¥é“å“ªä¸ªæ¡¶æ˜¯æœ‰æ¯’è¯çš„ã€‚æœ€å°‘éœ€è¦å¤šå°‘å¤´çŒªã€‚\"></a>è¯´æœ‰è¿™ä¹ˆ1000æ¡¶é‡Œé¢è£…äº†æ°´ï¼Œå…¶ä¸­æœ‰ä¸€æ¡¶é‡Œé¢æ˜¯æ¯’è¯ã€‚ä½ å¯ä»¥è®©æ— æ•°å¤´çŒªæ¥è¿™äº›æ°´ï¼Œä½†æ˜¯æ¯å¤´çŒª15åˆ†é’Ÿåªèƒ½å–ä¸€æ¬¡ï¼Œä¸è¿‡å¯ä»¥åŒæ—¶å–è‹¥å¹²æ¡¶æ°´ã€‚ä½ è¦åœ¨1ä¸ªå°æ—¶ä¹‹å†…çŸ¥é“å“ªä¸ªæ¡¶æ˜¯æœ‰æ¯’è¯çš„ã€‚æœ€å°‘éœ€è¦å¤šå°‘å¤´çŒªã€‚</h4><p>æ–¹æ³•ä¸€ï¼šæ•°å­¦æ–¹æ³•ã€‚è¿™é¢˜æ¯”è¾ƒéš¾æƒ³ã€‚ä»ä¸€åªçŒªå¼€å§‹æ€è€ƒã€‚60åˆ†é’Ÿä¸€å…±å¯ä»¥å–4æ¬¡ï¼Œä¸è¿‡å¯ä»¥æ£€æµ‹5ä¸ªæ¡¶ï¼Œå› ä¸ºå–å®Œæœ€åçš„æ²¡æœ‰æ­»ï¼Œæ‰€æœ‰æ¯’è¯åœ¨æ²¡æœ‰å–çš„æ¡¶ã€‚ç„¶åæ˜¯ä¸¤åªçŒªï¼Œå¯ä»¥æ£€æµ‹5**2ä¸ªæ¡¶ï¼Œå°†25ä¸ªæ¡¶æƒ³è±¡æˆä¸€ä¸ªå¹³é¢ã€‚ä¸€åªçŒªæ¯æ¬¡æŒ‰ç…§è¡Œæ¥å–ï¼Œå¦ä¸€åªçŒªæŒ‰ç…§åˆ—æ¥å–ã€‚æœ€åé€šè¿‡è¡Œåˆ—å¯ä»¥ç¡®å®šæ¯’è¯çš„ä½ç½®ã€‚3åªçŒªçš„æ—¶å€™è¦æƒ³è±¡æˆä¸‰ç»´çš„å¹³é¢ï¼Œæ¯æ¬¡æ¯åªçŒªè¦å–25æ¡¶çš„æ°´ï¼Œåˆ†åˆ«æŒ‰ç…§x, y, zè½´çš„é¡ºåºã€‚æœ€åä¸‰ä¸ªç»´åº¦çš„åæ ‡å¯ä»¥ç¡®å®šã€‚æœ¬è´¨ä¸Šæ­¤é¢˜æ˜¯ä¸€é“ä¿¡æ¯è®ºçš„é¢˜ã€‚çŸ¥ä¹æœ‰ä¸ªå¤§ä½¬é€šè¿‡ä¿¡æ¯ç†µæ¥è§£æ­¤é¢˜ï¼Œ<a href=\"https://www.zhihu.com/question/60227816/answer/1274071217\" target=\"_blank\" rel=\"noopener\">ä¸æ˜è§‰å‰ã€‚</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">poorPigs</span><span class=\"params\">(self, buckets: int, minutesToDie: int, minutesToTest: int)</span> -&gt; int:</span></span><br><span class=\"line\">    pigs = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (minutesToTest // minutesToDie + <span class=\"number\">1</span>) ** pigs &lt; buckets:</span><br><span class=\"line\">        pigs += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> pigs</span><br></pre></td></tr></table></figure>","categories":["ç®—æ³•"],"tags":["LeetCode","Python","Algorithm","Math"]},{"title":"hexoæ­å»ºé‡åˆ°çš„é—®é¢˜åŠä¼˜åŒ–","url":"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>ç»ˆäºæœ‰äº†ä¸€ä¸ªæ•´ç†è‡ªå·±å­¦ä¹ ç¬”è®°çš„åœ°æ–¹äº†ï¼Œä¹‹å‰ç”¨è¿‡å°è±¡ç¬”è®°ï¼Œè§‰å¾—å®ƒçš„markdownæ ¼å¼å¤„ç†å¾—ä¸æ˜¯å¾ˆå®Œç¾ï¼Œå¤åˆ¶ç²˜è´´å‡ºæ¥æ€»æ˜¯æ ¼å¼ä¸å¯¹ã€‚åæ¥åˆç”¨è¿‡jupyter_nootbokeï¼Œä½†æ˜¯ä¸æ–¹ä¾¿åœ¨å…¶å®ƒå®¢æˆ·ç«¯æŸ¥çœ‹ã€‚<br><a id=\"more\"></a><br>æŠ˜è…¾äº†åŠå¤©ç»ˆäºå¼„å¥½äº†æœŸé—´é‡åˆ°è¿‡ä¸å°‘å‘ï¼Œå‘ç°hexoæœ‰æ—¶å€™åŒä¸€æ ·çš„é—®é¢˜æ€»æ˜¯å¯¹åº”ç€å‡ ç§ä¸åŒçš„è§£å†³æ–¹æ³•ï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹ä»¥ä¾¿ä¹‹åé‡åˆ°é—®é¢˜ã€‚</p>\n<h3 id=\"å…³äºé—®é¢˜\"><a href=\"#å…³äºé—®é¢˜\" class=\"headerlink\" title=\"å…³äºé—®é¢˜\"></a>å…³äºé—®é¢˜</h3><p><a href=\"https://github.com/iissnan/hexo-theme-next\" target=\"_blank\" rel=\"noopener\">NexT</a>è¿™é‡Œä½¿ç”¨äº†nextä¸»é¢˜ï¼Œè¿™ä¸ªä¸»é¢˜ç‰¹åˆ«ç®€æ´ï¼Œè¿˜æœ‰å¾ˆå¤šæ˜“ç”¨æ€§çš„æ‰©å±•ï¼Œå°¤å…¶ä¾§è¾¹æ çš„å¿«é€Ÿå®šä½ï¼Œè®©æˆ‘çˆ±ä¸é‡Šæ‰‹ã€‚</p>\n<h4 id=\"å¤´åƒä¸æ˜¾ç¤º\"><a href=\"#å¤´åƒä¸æ˜¾ç¤º\" class=\"headerlink\" title=\"å¤´åƒä¸æ˜¾ç¤º\"></a>å¤´åƒä¸æ˜¾ç¤º</h4><p>å¼€å§‹æŒ‰ç…§<code>_config.yml</code>ä¸­æ‰€è¯´æŠŠ<code>avatar.gif</code>æ”¾åˆ°<code>blog-site/source/</code>ä¸‹ï¼Œæ²¡æœ‰ä»»ä½•çš„ä½œç”¨ã€‚åæ¥å‘ç°æ˜¯ä¸»é¢˜çš„åŸå› ï¼Œæ”¾åˆ°<code>themes/next/source/images/</code>ä¸‹å°±å¥½äº†ï¼Œé»˜è®¤çš„å¤´åƒæ˜¯æ­£æ–¹å½¢çš„ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹ä»£ç æŠŠå®ƒæ”¹æˆåœ†å½¢ï¼Œæ–‡ä»¶ä½ç½®åœ¨<br><code>themes/next/source/css_common_components/sidebar/sidebar-author.styl</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.site-author-image</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">96px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: auto;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">2px</span> solid <span class=\"number\">#333</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">2px</span>;  </span><br><span class=\"line\">  <span class=\"comment\">/* start*/</span></span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">-webkit-border-radius</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">-moz-border-radius</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">box-shadow</span>: inset <span class=\"number\">0</span> -<span class=\"number\">1px</span> <span class=\"number\">0</span> <span class=\"number\">#333</span>sf;</span><br><span class=\"line\">  <span class=\"comment\">/* end */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"ç½‘é¡µå›¾æ ‡favicon-icoä¸æ˜¾ç¤º\"><a href=\"#ç½‘é¡µå›¾æ ‡favicon-icoä¸æ˜¾ç¤º\" class=\"headerlink\" title=\"ç½‘é¡µå›¾æ ‡favicon.icoä¸æ˜¾ç¤º\"></a>ç½‘é¡µå›¾æ ‡favicon.icoä¸æ˜¾ç¤º</h4><p>è¿™é‡Œä¹Ÿæ˜¯å› ä¸ºNextçš„åŸå› ï¼ŒæŠŠ<code>favicon.ico</code>æ”¾åˆ°<code>themes/next/source/images/</code>ä¸‹ï¼Œç„¶åä¿®æ”¹<code>_config.yml</code>ä¸­<code>favicon: /images/favicon.ico</code>è§£å†³äº†é—®é¢˜ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸ªå¾ˆæ–¹ä¾¿è½¬æ¢icoçš„ç½‘ç«™<a href=\"http://tool.lu/favicon/]\" target=\"_blank\" rel=\"noopener\">faviconåœ¨çº¿åˆ¶ä½œ</a>ã€‚</p>\n<h4 id=\"æ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹\"><a href=\"#æ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹\" class=\"headerlink\" title=\"æ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹\"></a>æ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹</h4><ul>\n<li><p>è®¾ç½®<code>post_asset_foler: true</code>ä¹‹åæ‰§è¡Œ<code>hexo new post_name</code>åæ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹ã€‚æœç´¢æ²¡æœ‰æŸ¥åˆ°ç›¸å…³è®°å½•ï¼Œåæ¥æƒ³åˆ°ä¹‹å‰nextä¸»é¢˜è®¾ç½®æ—¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶æ‹†åˆ†äº†å‡ºæ¥ï¼Œè¿™æ ·æ¯æ¬¡æ‰§è¡Œ<code>hexo clean/generate</code>çš„æ—¶å€™åœ¨åé¢åŠ äº†å‚æ•°<code>--config</code>æŒ‡å®šäº†é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯è¿™æ ·ä¿®æ”¹çš„æ–‡ä»¶å¯¹äº<code>hexo new post_name</code>æ¥è¯´æ˜¯æ²¡æœ‰ä¿®è¿‡çš„ï¼Œæ‰€ä»¥è¦åœ¨<code>source/_config.yml</code>ä¿®æ”¹è¿™é¡¹å‚æ•°ã€‚</p>\n</li>\n<li><p><del>ä¹‹åæ²¡æœ‰é€‰æ‹©å®˜æ–¹çš„æ ‡ç­¾æ’ä»¶æ˜¯å› ä¸ºï¼Œåœ¨ç¼–è¾‘markdownæ—¶æ— æ³•çœ‹åˆ°é¢„è§ˆæ•ˆæœæ‰€ä»¥å®‰è£…<code>npm install https://github.com/CodeFalling/hexo-asset-image --save</code>ï¼Œåœ¨æ–‡ç« ä¸­ä½¿ç”¨markdownè¯­æ³•å¼•ç”¨<code>![logo](&lt;title_name&gt;/a.png)</code>ä½¿ç”¨ã€‚</del></p>\n</li>\n<li>é€‰æ‹©å®˜æ–¹çš„æ ‡ç­¾æ’ä»¶<code><img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/a.png\" class title=\"test\"></code>å¼•ç”¨å›¾ç‰‡ã€‚</li>\n</ul>\n<h3 id=\"å…³äºä¼˜åŒ–\"><a href=\"#å…³äºä¼˜åŒ–\" class=\"headerlink\" title=\"å…³äºä¼˜åŒ–\"></a>å…³äºä¼˜åŒ–</h3><h4 id=\"åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github\"><a href=\"#åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork-me-on-github\" class=\"headerlink\" title=\"åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github\"></a>åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on github</h4><p>åœ¨<a href=\"http://tholman.com/github-corners/\" target=\"_blank\" rel=\"noopener\">è¿™é‡Œ</a>é€‰æ‹©å–œæ¬¢çš„æ ·å¼ã€‚è¿™é‡Œé€‰æ‹©çš„æ˜¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://your-url\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"github-corner\"</span> <span class=\"attr\">aria-label</span>=<span class=\"string\">\"View source on Github\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">width</span>=<span class=\"string\">\"80\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"80\"</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">\"0 0 250 250\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;\"</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">\"true\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"currentColor\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"transform-origin: 130px 106px;\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"octo-arm\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"</span> <span class=\"attr\">fill</span>=<span class=\"string\">\"currentColor\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"octo-body\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"><span class=\"selector-class\">.github-corner</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:octocat-wave <span class=\"number\">560ms</span> ease-in-out&#125;<span class=\"keyword\">@keyframes</span> octocat-wave&#123;0%,100%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(<span class=\"number\">0</span>)&#125;20%,60%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(-<span class=\"number\">25deg</span>)&#125;40%,80%&#123;<span class=\"attribute\">transform</span>:<span class=\"built_in\">rotate</span>(<span class=\"number\">10deg</span>)&#125;&#125;<span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width:</span><span class=\"number\">500px</span>)&#123;<span class=\"selector-class\">.github-corner</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:none&#125;<span class=\"selector-class\">.github-corner</span> <span class=\"selector-class\">.octo-arm</span>&#123;<span class=\"attribute\">animation</span>:octocat-wave <span class=\"number\">560ms</span> ease-in-out&#125;&#125;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>å°†å…¶ç²˜è´´åˆ°<code>themes/next/layout/_layout.swig</code>ä¸­ï¼Œæ”¾åœ¨<code>div class=&quot;headhand&quot;&gt;&lt;/div&gt;</code>ä¸‹é¢ã€‚</p>\n<h4 id=\"ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦-å·çš„æ ‡ç­¾\"><a href=\"#ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦-å·çš„æ ‡ç­¾\" class=\"headerlink\" title=\"ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾\"></a>ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾</h4><p>ä¿®æ”¹æ¨¡æ¿<code>/themes/next/layout/_macro/post.swig</code>ï¼Œæœç´¢<code>rel=&quot;tag&quot;&gt;#</code>ï¼Œå°†#æ¢æˆ<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>\n<h4 id=\"ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®\"><a href=\"#ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®\" class=\"headerlink\" title=\"ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®\"></a>ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®</h4><p>åœ¨é…ç½®æ–‡ä»¶æœç´¢<code>social_icons</code>ï¼ŒæŠŠå€¼æ¢æˆå–œæ¬¢çš„å›¾æ ‡åå­—<br>ï¼Œè¿™é‡Œåˆ—å‡ºäº†<a href=\"http://fontawesome.io/icons/\" target=\"_blank\" rel=\"noopener\">å›¾æ ‡åº“</a></p>\n<h4 id=\"åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡\"><a href=\"#åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡\" class=\"headerlink\" title=\"åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡\"></a>åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡</h4><p>æ‰“å¼€<code>/themes/next/layout/_partials/footer.swig</code>æ–‡ä»¶æ·»åŠ çº¢æ¡†å†…çš„ä»£ç </p>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/a.png\" class title=\"location\">\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;script <span class=\"keyword\">async</span> src=<span class=\"string\">\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"</span>&gt;&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>æ·»åŠ ç»Ÿè®¡ä»£ç å¦‚ä¸‹ä½ç½®<br><img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/count.png\" class title=\"also use pv\"></p>\n<figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div class=\"powered-by\"&gt;</span><br><span class=\"line\">&lt;i class=\"fa fa-user-md\"&gt;&lt;/i&gt;&lt;span id=\"busuanzi_container_site_uv\"&gt;</span><br><span class=\"line\">  æœ¬ç«™è®¿å®¢æ•°:&lt;span id=\"busuanzi_value_site_uv\"&gt;&lt;/span&gt;</span><br><span class=\"line\">&lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡\"><a href=\"#ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡\" class=\"headerlink\" title=\"ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡\"></a>ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡</h4><p>æ ¹ç›®å½•å®‰è£…<code>npm install hexo-wordcount --save</code><br>ç„¶åå†<code>/themes/next/layout/_partials/footer.swig</code>æ–‡ä»¶æœ€ååŠ ä¸Š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div class&#x3D;&quot;theme-info&quot;&gt;</span><br><span class=\"line\">  &lt;div class&#x3D;&quot;powered-by&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class=\"line\">  &lt;span class&#x3D;&quot;post-count&quot;&gt;åšå®¢å…¨ç«™å…±&#123;&#123; totalcount(site) &#125;&#125;å­—&lt;&#x2F;span&gt;</span><br><span class=\"line\">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡\"><a href=\"#æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡\" class=\"headerlink\" title=\"æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡\"></a>æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡</h4><p><code>_config.yml</code>è®¾ç½®ä¸­<code>pace:true</code></p>\n<h4 id=\"åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯\"><a href=\"#åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯\" class=\"headerlink\" title=\"åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯\"></a>åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯</h4><p>åœ¨ç›®å½•<code>themes/next/layout/_macro/</code>ä¸‹æ·»åŠ <code>my-copyright.swig</code>:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;% <span class=\"keyword\">if</span> page.copyright %&#125;</span><br><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"my_post_copyright\"</span>&gt;</span><br><span class=\"line\">  &lt;script src=<span class=\"string\">\"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js\"</span>&gt;&lt;<span class=\"regexp\">/script&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  </span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;script src=\"https:/</span><span class=\"regexp\">/cdn.bootcss.com/</span>jquery/<span class=\"number\">2.0</span><span class=\"number\">.0</span>/jquery.min.js<span class=\"string\">\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;script src=\"</span>https:<span class=\"comment\">//unpkg.com/sweetalert/dist/sweetalert.min.js\"&gt;&lt;/script&gt;</span></span><br><span class=\"line\">  &lt;p&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>æœ¬æ–‡æ ‡é¢˜:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&#123;&#123; url_for(page.path) &#125;&#125;\"</span>&gt;</span>&#123;&#123; page.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span>&lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;p&gt;&lt;span&gt;æ–‡ç« ä½œè€…:&lt;/</span>span&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"è®¿é—® &#123;&#123; theme.author &#125;&#125; çš„ä¸ªäººåšå®¢\"</span>&gt;</span>&#123;&#123; theme.author &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span>&lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;p&gt;&lt;span&gt;å‘å¸ƒæ—¶é—´:&lt;/</span>span&gt;&#123;&#123; page.date.format(<span class=\"string\">\"YYYYå¹´MMæœˆDDæ—¥ - HH:MM\"</span>) &#125;&#125;&lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;p&gt;&lt;span&gt;æœ€åæ›´æ–°:&lt;/</span>span&gt;&#123;&#123; page.updated.format(<span class=\"string\">\"YYYYå¹´MMæœˆDDæ—¥ - HH:MM\"</span>) &#125;&#125;&lt;<span class=\"regexp\">/p&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;p&gt;&lt;span&gt;åŸå§‹é“¾æ¥:&lt;/</span>span&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&#123;&#123; url_for(page.path) &#125;&#125;\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"&#123;&#123; page.title &#125;&#125;\"</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span></span><br><span class=\"line\">    &lt;span <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"copy-path\"</span>  title=<span class=\"string\">\"ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-clipboard\"</span> <span class=\"attr\">data-clipboard-text</span>=<span class=\"string\">\"&#123;&#123; page.permalink &#125;&#125;\"</span>  <span class=\"attr\">aria-label</span>=<span class=\"string\">\"å¤åˆ¶æˆåŠŸï¼\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span>&lt;<span class=\"regexp\">/span&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;/</span>p&gt;</span><br><span class=\"line\">  &lt;p&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>è®¸å¯åè®®:<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-creative-commons\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"license\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://creativecommons.org/licenses/by-nc-nd/4.0/\"</span> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)\"</span>&gt;</span>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚&lt;<span class=\"regexp\">/p&gt;  </span></span><br><span class=\"line\"><span class=\"regexp\">&lt;/</span>div&gt;</span><br><span class=\"line\">&lt;script&gt; </span><br><span class=\"line\">    <span class=\"keyword\">var</span> clipboard = <span class=\"keyword\">new</span> Clipboard(<span class=\"string\">'.fa-clipboard'</span>);</span><br><span class=\"line\">    $(<span class=\"string\">\".fa-clipboard\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">      clipboard.on(<span class=\"string\">'success'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        swal(&#123;   </span><br><span class=\"line\">          title: <span class=\"string\">\"\"</span>,   </span><br><span class=\"line\">          text: <span class=\"string\">'å¤åˆ¶æˆåŠŸ'</span>,</span><br><span class=\"line\">          icon: <span class=\"string\">\"success\"</span>, </span><br><span class=\"line\">          showConfirmButton: <span class=\"literal\">true</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">    &#125;);  </span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure>\n<p>åœ¨ç›®å½•<code>themes/next/source/css/_common/components/post/</code>ä¸‹æ·»åŠ <code>my-post-copyright.styl</code>:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">85%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">45em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">2.8em</span> auto <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0.5em</span> <span class=\"number\">1.0em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#d3d3d3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">0.93rem</span>;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">1.6em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">255</span>,<span class=\"number\">0.4</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">p</span>&#123;<span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5.2em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#b5b5b5</span>;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: bold;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.raw</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">5em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-bottom</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-tag\">a</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#a3d2a3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">text-decoration</span>: underline;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.fa-clipboard</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.post-url</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: normal;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">  +mobile()&#123;display:none;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.my_post_copyright</span> <span class=\"selector-class\">.copy-path</span><span class=\"selector-pseudo\">:hover</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#808080</span>;</span><br><span class=\"line\">  <span class=\"attribute\">cursor</span>: pointer;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹<code>/themes/next/layout/_macro/post.swig</code><br>åœ¨å¦‚ä¸‹ä½ç½®<br><img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/my_copyright.png\" class></p>\n<p>æ·»åŠ ä»£ç ï¼š(æ³¨æ„å’Œä¹‹å‰çš„æ•™ç¨‹ä¸ä¸€æ ·ï¼Œè¿™é‡Œå¯èƒ½æ˜¯nextçš„æ›´æ–°äº†ï¼Œæ‰€ä»¥è¦æŠŠä»£ç æ”¾åˆ°å¤–é¢ï¼Œå¦åˆ™åœ¨wechat_subscriberæœªå¼€å¯æ—¶ä¼šå¯¼è‡´å¤±æ•ˆã€‚)</p>\n<figure class=\"highlight\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"selector-tag\">div</span>&gt;</span><br><span class=\"line\">      &#123;% if not is_index %&#125;</span><br><span class=\"line\">        &#123;% include 'my-copyright.swig' %&#125;</span><br><span class=\"line\">      &#123;% endif %&#125;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹<code>themes/next/source/css/_common/components/post/post.styl</code>æœ«å°¾å¢åŠ ä¸€è¡Œ<br><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">@import &quot;my-post-copyright&quot;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"åšæ–‡ç½®é¡¶\"><a href=\"#åšæ–‡ç½®é¡¶\" class=\"headerlink\" title=\"åšæ–‡ç½®é¡¶\"></a>åšæ–‡ç½®é¡¶</h4><p>æ›¿æ¢<code>node_modules/hexo-generator-index/lib/generator.js</code>æ‰€æœ‰çš„ä»£ç ä¸ºï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> pagination = <span class=\"built_in\">require</span>(<span class=\"string\">'hexo-pagination'</span>);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">locals</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> config = <span class=\"keyword\">this</span>.config;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> posts = locals.posts;</span><br><span class=\"line\">    posts.data = posts.data.sort(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.top &amp;&amp; b.top) &#123; <span class=\"comment\">// ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a.top == b.top) <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.top - a.top; <span class=\"comment\">// å¦åˆ™æŒ‰ç…§topå€¼é™åºæ’</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.top &amp;&amp; !b.top) &#123; <span class=\"comment\">// ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date; <span class=\"comment\">// éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæ’</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> paginationDir = config.pagination_dir || <span class=\"string\">'page'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> pagination(<span class=\"string\">''</span>, posts, &#123;</span><br><span class=\"line\">    perPage: config.index_generator.per_page,</span><br><span class=\"line\">    layout: [<span class=\"string\">'index'</span>, <span class=\"string\">'archive'</span>],</span><br><span class=\"line\">    format: paginationDir + <span class=\"string\">'/%d/'</span>,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      __index: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨ï¼šåœ¨å¤´éƒ¨æ·»åŠ top</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: </span><br><span class=\"line\">date: 2017-05-22 22:45:48</span><br><span class=\"line\">tags: æŠ€å·§</span><br><span class=\"line\">categories: æŠ€å·§</span><br><span class=\"line\">copyright: true</span><br><span class=\"line\">top: 100</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n<h4 id=\"ä¿®æ”¹å­—ä½“å¤§å°\"><a href=\"#ä¿®æ”¹å­—ä½“å¤§å°\" class=\"headerlink\" title=\"ä¿®æ”¹å­—ä½“å¤§å°\"></a>ä¿®æ”¹å­—ä½“å¤§å°</h4><p><code>/themes/next/source/css/_variables/base.styl</code>æœç´¢<code>font-size-base</code></p>\n<h4 id=\"è®¾ç½®é˜…è¯»æ¬¡æ•°\"><a href=\"#è®¾ç½®é˜…è¯»æ¬¡æ•°\" class=\"headerlink\" title=\"è®¾ç½®é˜…è¯»æ¬¡æ•°\"></a>è®¾ç½®é˜…è¯»æ¬¡æ•°</h4><p><a href=\"https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud\" target=\"_blank\" rel=\"noopener\">æ·»åŠ é˜…è¯»é‡ç»Ÿè®¡</a></p>\n<h4 id=\"æ·»åŠ æœç´¢\"><a href=\"#æ·»åŠ æœç´¢\" class=\"headerlink\" title=\"æ·»åŠ æœç´¢\"></a>æ·»åŠ æœç´¢</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">local_search: </span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure>\n<h4 id=\"SEOä¼˜åŒ–\"><a href=\"#SEOä¼˜åŒ–\" class=\"headerlink\" title=\"SEOä¼˜åŒ–\"></a>SEOä¼˜åŒ–</h4><h5 id=\"ä¸¤ä¸ªæœç´¢å¼•æ“å…¥å£ï¼š\"><a href=\"#ä¸¤ä¸ªæœç´¢å¼•æ“å…¥å£ï¼š\" class=\"headerlink\" title=\"ä¸¤ä¸ªæœç´¢å¼•æ“å…¥å£ï¼š\"></a>ä¸¤ä¸ªæœç´¢å¼•æ“å…¥å£ï¼š</h5><ul>\n<li><a href=\"https://www.google.com/webmasters/tools/home?hl=zh-CN\" target=\"_blank\" rel=\"noopener\">è°·æ­Œæœç´¢å¼•æ“éªŒè¯</a></li>\n<li><a href=\"http://www.baidu.com/search/url_submit.htm\" target=\"_blank\" rel=\"noopener\">ç™¾åº¦æœç´¢å¼•æ“éªŒè¯</a></li>\n</ul>\n<p>è¿™é‡Œé€‰æ‹©ç”¨ä¸‹è½½æ–‡ä»¶çš„æ–¹å¼ï¼Œå°†æ–‡ä»¶æ”¾åˆ°<code>source/</code>ç›®å½•ä¸‹ï¼Œæ³¨æ„ä¸€ç‚¹åº”è¯¥åœ¨æ–‡ä»¶å‰æ·»åŠ ä¸¤è¡Œä»£ç ï¼Œé˜²æ­¢hexoå°†å…¶æ ¼å¼åŒ–</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">layout: false</span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\n<h5 id=\"ç”Ÿæˆç«™ç‚¹åœ°å›¾-sitemap\"><a href=\"#ç”Ÿæˆç«™ç‚¹åœ°å›¾-sitemap\" class=\"headerlink\" title=\"ç”Ÿæˆç«™ç‚¹åœ°å›¾ sitemap\"></a>ç”Ÿæˆç«™ç‚¹åœ°å›¾ sitemap</h5><blockquote>\n<p>ç«™ç‚¹åœ°å›¾æ˜¯ä¸€ç§æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶åˆ—å‡ºæ‚¨ç½‘ç«™ä¸Šçš„ç½‘é¡µï¼Œä»è€Œå°†æ‚¨ç½‘ç«™å†…å®¹çš„ç»„ç»‡æ¶æ„å‘ŠçŸ¥Googleå’Œå…¶ä»–æœç´¢å¼•æ“ã€‚Googlebotç­‰æœç´¢å¼•æ“ç½‘é¡µæŠ“å–å·¥å…·ä¼šè¯»å–æ­¤æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´åŠ æ™ºèƒ½åœ°æŠ“å–æ‚¨çš„ç½‘ç«™ã€‚</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-sitemap --save</span><br><span class=\"line\">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>\n<p>æ›´æ”¹é…ç½®</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"># è‡ªåŠ¨ç”Ÿæˆsitemap</span><br><span class=\"line\">sitemap: </span><br><span class=\"line\">  path: sitemap.xml</span><br><span class=\"line\">baidusitemap: </span><br><span class=\"line\">  path: baidusitemap.xml</span><br></pre></td></tr></table></figure>\n<h5 id=\"ä½¿æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬çš„åšå®¢\"><a href=\"#ä½¿æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬çš„åšå®¢\" class=\"headerlink\" title=\"ä½¿æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬çš„åšå®¢\"></a>ä½¿æœç´¢å¼•æ“æ”¶å½•æˆ‘ä»¬çš„åšå®¢</h5><ul>\n<li>è°·æ­Œæ¯”è¾ƒç®€å•å‘<a href=\"https://www.google.com/webmasters/tools\" target=\"_blank\" rel=\"noopener\">è°·æ­Œç«™é•¿å·¥å…·</a>æäº¤sitemap</li>\n<li>ç™¾åº¦ã€‚å‚è€ƒ<a href=\"http://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/\" target=\"_blank\" rel=\"noopener\">Hexoæ’ä»¶ä¹‹ç™¾åº¦ä¸»åŠ¨æäº¤é“¾æ¥</a></li>\n</ul>\n<h5 id=\"ç½‘ç«™è‡ªèº«ä¼˜åŒ–\"><a href=\"#ç½‘ç«™è‡ªèº«ä¼˜åŒ–\" class=\"headerlink\" title=\"ç½‘ç«™è‡ªèº«ä¼˜åŒ–\"></a>ç½‘ç«™è‡ªèº«ä¼˜åŒ–</h5><p>ç»™å‡ºç«™é“¾æ¥æ·»åŠ  â€œnofollowâ€ æ ‡ç­¾<br><code>/themes/next/layout/_partials/footer.swig</code>æ‰¾åˆ°ä¸‹é¢ä¸¤è¡Œï¼Œåˆ†åˆ«åœ¨aæ ‡ç­¾ä¸­æ·»åŠ <code>rel=&quot;texternal nofollow&quot;</code>å±æ€§</p>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/nofollow.png\" class>\n<p>åŒæ ·åœ¨<code>/themes/next/layout/_macor/sidebar.swig</code>ä¸­æ·»åŠ è¿™ä¸ªå±æ€§</p>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/nofollow_1.png\" class>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/nofollow_2.png\" class>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/nofollow_3.png\" class>\n<h5 id=\"è®¾ç½®æ›´æ”¹å±æ€§\"><a href=\"#è®¾ç½®æ›´æ”¹å±æ€§\" class=\"headerlink\" title=\"è®¾ç½®æ›´æ”¹å±æ€§\"></a>è®¾ç½®æ›´æ”¹å±æ€§</h5><p><code>seo: true</code></p>\n<h5 id=\"ç¼©çŸ­æ–‡ç« é“¾æ¥\"><a href=\"#ç¼©çŸ­æ–‡ç« é“¾æ¥\" class=\"headerlink\" title=\"ç¼©çŸ­æ–‡ç« é“¾æ¥\"></a>ç¼©çŸ­æ–‡ç« é“¾æ¥</h5><p>ç¼–è¾‘é…ç½®æ–‡ä»¶<br><code>permalink: :title.html</code></p>\n<h4 id=\"æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´\"><a href=\"#æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´\" class=\"headerlink\" title=\"æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´\"></a>æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´</h4><p>å‚è€ƒäº†<a href=\"https://blog.csdn.net/ganzhilin520/article/details/79053399\" target=\"_blank\" rel=\"noopener\">hexoæ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´</a></p>\n<p>é¦–å…ˆæ‰¾åˆ°<code>/themes/next/layout/_macro/post.swig</code>æ–‡ä»¶ï¼Œåœ¨<code>&lt;span class=&quot;post-time&quot;&gt;...&lt;/span&gt;</code>åæ·»åŠ ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;%<span class=\"keyword\">if</span> post.updated and post.updated &gt; post.date%&#125;</span><br><span class=\"line\">  &lt;span <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"post-updated\"</span>&gt;</span><br><span class=\"line\">    &amp;nbsp; | &amp;nbsp; &#123;&#123; __(<span class=\"string\">'Updated on'</span>) &#125;&#125;</span><br><span class=\"line\">    &lt;time itemprop=<span class=\"string\">\"dateUpdated\"</span> datetime=<span class=\"string\">\"&#123;&#123; moment(post.updated).format() &#125;&#125;\"</span> content=<span class=\"string\">\"&#123;&#123; date(post.updated, config.date_format) &#125;&#125;\"</span>&gt;</span><br><span class=\"line\">      &#123;&#123; date(post.updated, config.date_format) &#125;&#125;</span><br><span class=\"line\">    &lt;<span class=\"regexp\">/time&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &lt;/</span>span&gt;</span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>\n<img src=\"/hexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96/update_time.jpeg\" class>\n<p>åšä¸»è¿™é‡Œæ”¹äº†ä¸€ä¸‹æ˜¾å¼çš„æ–‡æœ¬ï¼Œåé¢çš„è¯­è¨€é…ç½®æ²¡æœ‰é…ï¼Œå¦‚æœæƒ³æ‰‹åŠ¨æ›´æ”¹æ–‡ç« æ›´æ–°æ—¶é—´åœ¨æ–‡ç« å‰åŠ ä¸Šï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">updated: 2018-01-01 12:00:00</span><br></pre></td></tr></table></figure>\n<p>é»˜è®¤ä½¿ç”¨mdçš„ä¿®æ”¹æ—¶é—´ã€‚</p>\n<h4 id=\"æ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ\"><a href=\"#æ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ\" class=\"headerlink\" title=\"æ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ\"></a>æ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</h4><p>æ‰¾åˆ°æ–‡ä»¶<code>themes/next/source/css/_custom/custom.styl</code>ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ã€‚</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\">// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ</span><br><span class=\"line\"><span class=\"selector-class\">.post</span> &#123;</span><br><span class=\"line\">   <span class=\"attribute\">margin-top</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">padding</span>: <span class=\"number\">25px</span>;</span><br><span class=\"line\">   <span class=\"attribute\">-webkit-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">202</span>, <span class=\"number\">203</span>, <span class=\"number\">203</span>, .<span class=\"number\">5</span>);</span><br><span class=\"line\">   <span class=\"attribute\">-moz-box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">5px</span> <span class=\"built_in\">rgba</span>(<span class=\"number\">202</span>, <span class=\"number\">203</span>, <span class=\"number\">204</span>, .<span class=\"number\">5</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":["Hexo"],"tags":["Hexo","next"]},{"title":"Hello World","url":"/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.<br><a id=\"more\"></a></p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"}]