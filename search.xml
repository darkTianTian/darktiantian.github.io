<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå›žæº¯ç¯‡ï¼‰BackTracking]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%9E%E6%BA%AF%E7%AF%87%EF%BC%89BackTracking%2F</url>
    <content type="text"><![CDATA[93. Restore IP Addressesæ¢å¤IPåœ°å€ã€‚åŽŸé¢˜12Input: &quot;25525511135&quot;Output: [&quot;255.255.11.135&quot;, &quot;255.255.111.35&quot;] æ–¹æ³•ä¸€ï¼šéœ€è¦æ³¨æ„0çš„æƒ…å†µã€‚ 12345678910111213141516171819202122def restoreIpAddresses(self, s: str) -&gt; List[str]: def backtrack(ip, remain, part): if part &lt; 0: return if not remain and part==0: ans.append(ip) else: ip += '.' * bool(ip) n = len(remain) if n &gt;= 1: backtrack(ip+remain[:1], remain[1:], part-1) if n &gt;= 2 and remain[0]!='0': backtrack(ip+remain[:2], remain[2:], part-1) if n &gt;= 3: if 99 &lt; int(remain[:3]) &lt; 256: backtrack(ip+remain[:3], remain[3:], part-1) ans = [] if s: backtrack('', s, 4) return list(ans) 131. Palindrome Partitioningå›žæ–‡ä¸²åˆ‡åˆ†ã€‚åŽŸé¢˜123456Input: &quot;aab&quot;Output:[ [&quot;aa&quot;,&quot;b&quot;], [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;]] æ–¹æ³•ä¸€ï¼šåŽŸå§‹å›žæº¯ã€‚ 12345678910111213def partition(self, s: str) -&gt; List[List[str]]: def backtrack(s, remain): if not remain: ans.append(s) else: for i in range(1, len(remain)+1): # è¿™é‡Œæ˜¯n+1ï¼Œå› ä¸ºæ•´ä¸ªå­—ç¬¦ä¸²ä¹Ÿæœ‰å¯èƒ½ã€‚ if remain[:i] == remain[:i][::-1]: backtrack(s+[remain[:i]], remain[i:]) ans = [] if s: backtrack([], s) return ans æ–¹æ³•äºŒï¼šä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ã€‚ 1234def partition(self, s: str) -&gt; List[List[str]]: return s and [[s[:i]] + suffix for i in range(1, len(s)+1) if s[:i]==s[i-1::-1] for suffix in self.partition(s[i:])] or [[]] 77. Combinationså®žçŽ°ç»„åˆã€‚åŽŸé¢˜12345678910Input: n = 4, k = 2Output:[ [2,4], [3,4], [2,3], [1,2], [1,3], [1,4],] æ–¹æ³•ä¸€ï¼šå›žæº¯ã€‚700ms, æ¯”Solutionä¸­çš„æ…¢äº†100ms. 123456789101112def combine(self, n: int, k: int) -&gt; List[List[int]]: def backtrack(a, k, rest): if k == 1: ans.extend(a+[num] for num in rest) else: for i, h in enumerate(rest): backtrack(a+[h], k-1, rest[i+1:]) ans = [] backtrack([], k, list(range(1, n+1))) return ans æ–¹æ³•äºŒï¼šSolutionä¸­çš„é€’å½’ã€‚ 1234567891011121314def combine(self, n: int, k: int) -&gt; List[List[int]]: def backtrack(first=1, cur=[]): if len(cur) == k: ans.append(cur[:]) else: for i in range(first, n+1): cur.append(i) backtrack(i+1, cur) cur.pop() ans = [] backtrack() return ans æ–¹æ³•ä¸‰ï¼šåˆ—è¡¨ç”Ÿæˆå¼å†™æ³•ï¼Œé€’å½’ã€‚ 12345def combine(self, n: int, k: int) -&gt; List[List[int]]: if k == 0: return [[]] return [pre+[i] for i in range(k, n+1) for pre in self.combine(i-1, k-1)] 39. Combination Sumå’Œ77ç±»ä¼¼ï¼Œæ‰¾å‡ºå’Œä¸ºæŒ‡å®šæ•°å€¼çš„ç»„åˆï¼Œå€™é€‰æ•°å­—å¯ä»¥é‡å¤ä½¿ç”¨ã€‚åŽŸé¢˜1234567Input: candidates = [2,3,5], target = 8,A solution set is:[ [2,2,2,2], [2,3,3], [3,5]] æ–¹æ³•ä¸€ï¼šå°†å€™é€‰ç»„æŽ’åºï¼Œå¹¶è®°å½•å½“å‰çš„ç´¢å¼•å€¼ã€‚ 123456789101112131415def combinationSum(self, candidates: List[int], target: int) -&gt; List[List[int]]: def backtrack(g, i, target): if target == 0: ans.append(g) elif target &lt; candidates[i]: return for j in range(i, n): backtrack(g+[candidates[j]], j, target-candidates[j]) ans = [] n = len(candidates) candidates.sort() backtrack([], 0, target) return ans 40. Combination Sum IIç»„åˆæ±‚å’Œï¼Œå’Œ39ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºŽå€™é€‰æ•°å­—ä¸­å¯èƒ½æœ‰é‡å¤æ•°å­—ï¼Œä½†æ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚åŽŸé¢˜éº»çƒ¦çš„åœ°æ–¹åœ¨äºŽå¦‚ä½•ä¿è¯ç»“æžœæ˜¯éžé‡å¤çš„ã€‚ 12345678910111213141516171819def combinationSum2(self, candidates: List[int], target: int) -&gt; List[List[int]]: def backtrack(g, i, target): if target == 0: ans.append(g) return for j in range(i, n): # avoid duplicate result if j != i and candidates[j]==candidates[j-1]: continue if candidates[j] &gt; target: break backtrack(g+[candidates[j]], j+1, target-candidates[j]) ans = [] n = len(candidates) candidates.sort() backtrack([], 0, target) return ans 216. Combination Sum IIIç»„åˆæ±‚å’Œï¼Œä»Ž1~9é€‰å‡ºkä¸ªä¸é‡å¤çš„æ•°ï¼Œå’Œä¸ºnã€‚åŽŸé¢˜12Input: k = 3, n = 9Output: [[1,2,6], [1,3,5], [2,3,4]] 123456789101112def combinationSum3(self, k: int, n: int) -&gt; List[List[int]]: def backtrack(g, i, target, k): if k==0 and target==0: ans.append(g) if k &lt; 0 or target &lt; 0: return for j in range(i, 10): backtrack(g+[j], j+1, target-j, k-1) ans = [] backtrack([], 1, n, k) return ans æ–¹æ³•äºŒï¼šé€’å½’ï¼Œä½¿ç”¨lastä½œä¸ºä¸Šé™ã€‚ 123456789def combinationSum3(self, k: int, n: int) -&gt; List[List[int]]: def combs(k, n, cap): if not k: return [[]] * (not n) return [comb + [last] for last in range(1, cap) for comb in combs(k-1, n-last, last)] return combs(k, n, 10) 78. Subsetsè¾“å‡ºç»™å®šæ— é‡å¤é›†åˆçš„å­é›†ç»„åˆã€‚åŽŸé¢˜123456789101112Input: nums = [1,2,3]Output:[ [3], [1], [2], [1,2,3], [1,3], [2,3], [1,2], []] æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚ 123456789101112def subsets(self, nums: List[int]) -&gt; List[List[int]]: def backtrack(g, i, n): if not n: ans.append(g) for j in range(i, len(nums)): backtrack(g+[nums[j]], j+1, n-1) ans = [] for n in range(len(nums)+1): backtrack([], 0, n) return ans æ–¹æ³•äºŒï¼šåšä¸€ä¸ªé€’å¢žå°±å¥½äº†ã€‚ 12345def subsets(self, nums: List[int]) -&gt; List[List[int]]: ans = [[]] for num in nums: ans += [pre+[num] for pre in ans] return ans 90. Subsets IIå’Œ78ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºŽç»™å®šçš„æ•°ç»„æœ‰é‡å¤å…ƒç´ ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šç”¨åˆ°äº†40é¢˜ä¸­è§£æ³•åŽ»é‡çš„ä»£ç ã€‚ 123456789101112131415def subsetsWithDup(self, nums: List[int]) -&gt; List[List[int]]: def backtrack(g, i, n): if not n: ans.append(g) for j in range(i, len(nums)): if j!=i and nums[j]==nums[j-1]: continue backtrack(g+[nums[j]], j+1, n-1) ans = [] nums.sort() for n in range(len(nums)+1): backtrack([], 0, n) return ans 79. Word SearchçŸ©é˜µä¸­çš„è·¯å¾„ã€‚åŽŸé¢˜12345678910board =[ [&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;E&apos;], [&apos;S&apos;,&apos;F&apos;,&apos;C&apos;,&apos;S&apos;], [&apos;A&apos;,&apos;D&apos;,&apos;E&apos;,&apos;E&apos;]]Given word = &quot;ABCCED&quot;, return true.Given word = &quot;SEE&quot;, return true.Given word = &quot;ABCB&quot;, return false. 123456789101112131415161718192021def exist(self, g: List[List[str]], word: str) -&gt; bool: R, C = len(g), len(g[0]) def spread(i, j, w): if not w: return True original, g[i][j] = g[i][j], '-' spreaded = False for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if (0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y] and spread(x, y, w[1:])): spreaded = True break g[i][j] = original return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0] and spread(i, j, word[1:]): return True return False 200. Number of Islandså°å²›çš„ä¸ªæ•°ã€‚åŽŸé¢˜1234567Input:11110110101100000000Output: 1 æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚ 1234567891011121314151617181920def numIslands(self, grid: List[List[str]]) -&gt; int: if not grid: return 0 R, C = len(grid), len(grid[0]) seen = set() count = 0 def spread(i, j): seen.add((i, j)) for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if (0&lt;=x&lt;R and 0&lt;=y&lt;C and (x, y) not in seen and grid[x][y]=='1'): spread(x, y) for i in range(R): for j in range(C): if (i, j) not in seen and grid[i][j]=='1': count += 1 spread(i, j) return count æ–¹æ³•äºŒï¼šå½“ç™»å½•ä¸€åº§å²›å±¿æ—¶ï¼Œä½¿è¿™åº§å²›å±¿ä¸‹æ²‰ï¼Œå˜ä¸ºâ€™0â€™ã€‚ä¸æ˜Žç™½ä¸ºä»€ä¹ˆæ¯”ä¸Šä¸ªæ–¹æ³•æ…¢äº†20msã€‚ 123456789def numIslands(self, grid: List[List[str]]) -&gt; int: def sink(i, j): if 0&lt;=i&lt;len(grid) and 0&lt;=j&lt;len(grid[i]) and grid[i][j]=='1': grid[i][j] = '0' list(map(sink, (i-1, i+1, i, i), (j, j, j-1, j+1))) # important, return generator without list return 1 return 0 return sum(sink(i, j) for i in range(len(grid)) for j in range(len(grid[i]))) 130. Surrounded Regionså°†å››å‘¨è¢«åŒ…å›´çš„Oç¿»è½¬æˆXï¼Œè¾¹ç¼˜ä¸ç®—åŒ…å›´ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä¼ ç»Ÿçš„æ–¹æ³•åœ¨å»¶ä¼¸çš„æ—¶å€™åˆ¤æ–­ä¸å‡ºæ˜¯å¦åˆ°è¾¾è¾¹ç•Œã€‚æ‰€ä»¥è¿™é‡Œå…ˆå¾—åˆ°è¾¹ç•Œçš„ç‚¹ï¼Œç„¶åŽä»Žè¾¹ç•Œå¾€é‡Œå»¶ä¼¸ï¼Œå°†æ‰€æœ‰çš„Oå˜ä¸ºSï¼Œç¬¬äºŒæ¬¡éåŽ†æ—¶ï¼Œå°†Sæ¢å¤æˆOï¼Œå…¶ä»–è®¾ä¸ºXã€‚ 123456789101112def solve(self, board: List[List[str]]) -&gt; None: if not board: return R, C = len(board), len(board[0]) bounds = [(i, j) for k in range(R+C) for i, j in ((0, k), (R-1, k), (k, 0), (k, C-1)) if i &lt; R and j &lt; C] while bounds: x, y = bounds.pop() if 0&lt;=x&lt;R and 0&lt;=y&lt;C and board[x][y]=='O': board[x][y] = 'S' bounds += (x-1, y), (x+1, y), (x, y-1), (x, y+1) board[:] = [['XO'[c=='S'] for c in row] for row in board] 417. Pacific Atlantic Water Flowå¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµå‘ï¼Œå‡è®¾é™†åœ°ä¸Šå¯ä»¥æ²¿ç€é«˜åº¦ä¸é«˜äºŽçš„åœ°æ–¹æµæ·Œï¼Œæ±‚èƒ½åŒæ—¶æµå…¥ä¸¤ä¸ªæµ·æ´‹çš„é™†åœ°åæ ‡ã€‚åŽŸé¢˜1234567891011121314151617Given the following 5x5 matrix: Pacific ~ ~ ~ ~ ~ ~ 1 2 2 3 (5) * ~ 3 2 3 (4) (4) * ~ 2 4 (5) 3 1 * ~ (6) (7) 1 4 5 * ~ (5) 1 1 2 4 * * * * * * AtlanticReturn:[[0, 4], [1, 3], [1, 4], [2, 2], [3, 0], [3, 1], [4, 0]] (positions with parentheses in above matrix). Pacific ~ ~ ~ ~ 1 2 (3) * ~ (8) (9) (4) * ~ (7) (6) (5) * * * * * Atlantic æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æˆ‘ä»¥ä¸ºä»Žå·¦ä¸Šçš„ç‚¹åªèƒ½å¾€å³æˆ–ä¸‹æ–¹å‘æ‰¾é™†åœ°ï¼Œäº‹å®žä¸Šè¿˜æ˜¯è¦å¯»æ‰¾å››ä¸ªæ–¹å‘ã€‚è¿™åº”è¯¥æ˜¯æœ€æš´åŠ›çš„è§£æ³•äº†ã€‚ä½†æ˜¯çœ‹äº†å‡ ä¸ªé«˜ç¥¨ç­”æ¡ˆéƒ½æ²¡æˆ‘è¿™ä¸ªå¿«ã€‚ 1234567891011121314151617181920def pacificAtlantic(self, matrix: List[List[int]]) -&gt; List[List[int]]: if not matrix: return [] p_land = set() a_land = set() R, C = len(matrix), len(matrix[0]) def spread(i, j, land): land.add((i, j)) for x, y in ((i+1, j), (i, j+1), (i-1, j), (i, j-1)): if (0&lt;=x&lt;R and 0&lt;=y&lt;C and matrix[x][y] &gt;= matrix[i][j] and (x, y) not in land): spread(x, y, land) for i in range(R): spread(i, 0, p_land) spread(i, C-1, a_land) for j in range(C): spread(0, j, p_land) spread(R-1, j, a_land) return list(p_land &amp; a_land) 526. Beautiful Arrangementå®Œç¾Žå®‰æŽ’ï¼Œç»™å®š1~Nçš„æ•°å­—ï¼Œç”Ÿæˆä¸€ç§æŽ’åˆ—ï¼Œæ˜¯ç¬¬iä½çš„æ•°å­—èƒ½è¢«iæ•´é™¤ï¼Œæˆ–è€…ièƒ½è¢«ç¬¬iä½çš„æ•°å­—æ•´é™¤ï¼Œç´¢å¼•ä»Ž1å¼€å§‹ã€‚åŽŸé¢˜123456789101112131415Input: 2Output: 2Explanation: The first beautiful arrangement is [1, 2]:Number at the 1st position (i=1) is 1, and 1 is divisible by i (i=1).Number at the 2nd position (i=2) is 2, and 2 is divisible by i (i=2).The second beautiful arrangement is [2, 1]:Number at the 1st position (i=1) is 2, and 2 is divisible by i (i=1).Number at the 2nd position (i=2) is 1, and i (i=2) is divisible by 1. æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ï¼Œ1300msï¼Œbeats50%. 12345678910111213141516def countArrangement(self, N: int) -&gt; int: def backtrack(g, rest): nonlocal count if not rest: count += 1 index = len(g) + 1 for i, num in enumerate(rest): if num % index == 0 or index % num == 0: # print(g, i, num, index, rest) g.append(num) backtrack(g, rest[:i]+rest[i+1:]) g.pop() count = 0 backtrack([], list(range(1, N+1))) return count æ–¹æ³•äºŒï¼šåŽ»æŽ‰äº†æ–¹æ³•ä¸€ä¸­ä¸€äº›æ— ç”¨çš„ç©ºé—´å’Œæ“ä½œã€‚1000ms, beats 67%. 123456789101112131415161718def countArrangement(self, N: int) -&gt; int: def backtrack(g): nonlocal count if not rest: count += 1 index = len(g) + 1 for num in rest: if num % index == 0 or index % num == 0: g.append(num) rest.remove(num) backtrack(g) g.pop() rest.add(num) count = 0 rest = set(range(1, N+1)) backtrack([]) return count æ–¹æ³•ä¸‰ï¼šè¿™é‡Œä»ŽåŽå¾€å‰æž„å»ºï¼Œæœ€åŽæž„é€ 1ï¼Œå› ä¸º1çš„ä½ç½®æ”¾ä»»ä½•æ•°å­—éƒ½å¯ä»¥ã€‚152ms 123456789def countArrangement(self, N: int) -&gt; int: def backtrack(i, rest): if i == 1: return 1 return sum(backtrack(i-1, rest-&#123;x&#125;) for x in rest if x % i == 0 or i % x == 0) return backtrack(N, set(range(1, N+1))) æ–¹æ³•å››ï¼šåœ¨3çš„åŸºç¡€ä¸Šä¼˜åŒ–ï¼Œæ¯æ¬¡è°ƒç”¨æ–¹æ³•æ—¶å¯ä»¥åˆ©ç”¨ä¹‹å‰çš„ç»“æžœã€‚52ms 1234567891011121314151617cache = &#123;&#125;class Solution: def countArrangement(self, N: int) -&gt; int: def backtrack(i, rest): if i == 1: return 1 key = i, rest if key in cache: return cache[key] ans = sum(backtrack(i-1, rest[:j]+rest[j+1:]) for j, x in enumerate(rest) if x % i == 0 or i % x == 0) # print(ans, i, rest) cache[key] = ans return ans return backtrack(N, tuple(range(1, N+1))) 22. Generate Parenthesesç”Ÿæˆnå¯¹åˆæ³•çš„æ‹¬å·ã€‚åŽŸé¢˜1234567[ &quot;((()))&quot;, &quot;(()())&quot;, &quot;(())()&quot;, &quot;()(())&quot;, &quot;()()()&quot;] æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚ 123456789101112def generateParenthesis(self, n: int) -&gt; List[str]: def backtrack(p, l, r): if len(p) == n*2: ans.append(p) if l &lt; n: backtrack(p+'(', l+1, r) if r &lt; l: backtrack(p+')', l, r+1) ans = [] backtrack('', 0, 0) return ans æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨å†™æ³•ã€‚ 123456789def generateParenthesis(self, n: int) -&gt; List[str]: def gen_parens(p, l, r): if r &gt;= l &gt;= 0: if not r: yield p yield from gen_parens(p+'(', l-1, r) yield from gen_parens(p+')', l, r-1) return list(gen_parens('', n, n))]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>BackTracking</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çŸ©é˜µä¸­å•è¯çš„è·¯å¾„ï¼Œå¾ˆå¤šäººéƒ½é”™äº†]]></title>
    <url>%2F%E7%9F%A9%E9%98%B5%E4%B8%AD%E5%8D%95%E8%AF%8D%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%BE%88%E5%A4%9A%E4%BA%BA%E9%83%BD%E9%94%99%E4%BA%86%2F</url>
    <content type="text"><![CDATA[åˆ·è¿‡ã€Šå‰‘æŒ‡Offerã€‹çš„åŒå­¦ï¼Œæƒ³å¿…éƒ½ä¼šå¯¹è¿™é“é¢˜æœ‰å°è±¡ï¼Œä½†æ˜¯å¦‚æžœä½ ä¹‹å‰æ˜¯åœ¨ç‰›å®¢ç½‘æˆ–è€…AcWingå…¶ä»–çš„ç½‘ç«™åšè¿™é“é¢˜ï¼Œé‚£ä¹ˆå³ä¾¿ACé€šè¿‡äº†æ‰€æœ‰çš„æµ‹è¯•ï¼Œä½ çš„ç­”æ¡ˆä¹Ÿå¯èƒ½æ˜¯é”™è¯¯çš„ã€‚æˆ‘è‡ªå·±ä¹‹å‰ä¹Ÿæ˜¯è¢«è¿™ä¸ªç­”æ¡ˆè¯¯å¯¼è¿‡ï¼Œä¸‹é¢æˆ‘æ¥è¯¦ç»†åœ°è§£é‡Šä¸€ä¸‹è‡ªå·±æ›¾ç»å†™è¿‡çš„é”™è¯¯ä»£ç ï¼Œä»¥å…ä»¥åŽå†æ¬¡çŠ¯åŒæ ·çš„é”™è¯¯ã€‚ è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»ŽçŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚å¦‚æžœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™ä¹‹åŽä¸èƒ½å†æ¬¡è¿›å…¥è¿™ä¸ªæ ¼å­ã€‚ ä¾‹å¦‚ a b c e s f c s a d e e è¿™æ ·çš„3 X 4 çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€bccedâ€çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å«â€abcbâ€è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åŽï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚ LeetCodeä¼ é€é—¨ ç‰›å®¢ç½‘ä¼ é€é—¨ æˆ‘ä»ŽPythonçš„æŽ’è¡Œæ¦œä¸­å¤åˆ¶å‡ºæ¥äº†ä¸€ä¸ªæ¯”è¾ƒâ€œæµè¡Œâ€çš„å†™æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼Œè¿™ä¸ªä»£ç æœ‰ä¸¤å¤„é”™è¯¯ã€‚ 12345678910111213141516171819202122def hasPath(self, matrix, rows, cols, path): # write code here for i in range(rows): for j in range(cols): if matrix[i*cols+j]==path[0]: if self.find(list(matrix),rows,cols,path[1:],i,j): return True return Falsedef find(self,matrix,rows,cols,path,i,j): if not path: return True matrix[i*cols+j]='-' if j+1&lt;cols and matrix[i*cols+(j+1)]==path[0]: return self.find(matrix,rows,cols,path[1:],i,j+1) elif j-1&gt;=0 and matrix[i*cols+(j-1)]==path[0]: return self.find(matrix,rows,cols,path[1:],i,j-1) elif i+1&lt;rows and matrix[(i+1)*cols+j]==path[0]: return self.find(matrix,rows,cols,path[1:],i+1,j) elif i-1&gt;=0 and matrix[(i-1)*cols+j]==path[0]: return self.find(matrix,rows,cols,path[1:],i-1,j) else: return False å…¶ä¸­ä¸€å¤„é”™è¯¯å¾ˆæ˜Žæ˜¾ã€‚åœ¨å‡½æ•°findä¸­ï¼Œä»–é€‰æ‹©äº†å³å·¦ä¸‹ä¸Šçš„é¡ºåºï¼Œé‚£ä¹ˆå¦‚æžœå³è¾¹å¼€å§‹åŒ¹é…ï¼Œå¹¶ä¸”å³è¾¹åŒ¹é…ä¸Šäº†ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆä¼šç»§ç»­é€’å½’ï¼Œæœ€åŽç»“æžœå¦‚æžœè¿”å›žäº†Falseï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥çš„å·¦ä¸‹ä¸Šå°±ä¼šè¢«è·³è¿‡ï¼Œé”™è¯¯åœ°è¿”å›žäº†Falseã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªæ —å­ðŸŒ°ã€‚ å¦‚æžœçŸ©é˜µå¦‚ä¸Šå›¾ä¸­é‚£æ ·ï¼Œå¹¶ä¸”å¼€å§‹å¯»æ‰¾å­—ç¬¦è½¬SEEã€‚æ ¹æ®ä¸Šè¿°ç®—æ³•ï¼Œå½“æ‰¾åˆ°Sæ—¶ï¼Œå…ˆé€‰æ‹©å¾€ä¸‹èµ°ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªEï¼Œç„¶åŽè¿”å›žäº†Falseï¼Œå¿½ç•¥äº†ä¸Šé¢çš„SEEã€‚ äºŽæ˜¯æˆ‘å°†findæ–¹æ³•æ”¹æˆäº†ä¸‹é¢è¿™æ ·ã€‚ 1234567891011121314def find(matrix, rows, cols, path, i, j): if not path: return True matrix[i*cols + j] = '-' up, down, left, right = False, False, False, False if j + 1 &lt; cols and matrix[i * cols + j + 1] == path[0]: down = spread(matrix, rows, cols, path[1:], i, j + 1) if j - 1 &gt;= 0 and matrix[i * cols + j - 1] == path[0]: left = spread(matrix, rows, cols, path[1:], i, j - 1) if i + 1 &lt; rows and matrix[(i + 1) * cols + j] == path[0]: right = spread(matrix, rows, cols, path[1:], i + 1, j) if i - 1 &gt;= 0 and matrix[(i - 1) * cols + j] == path[0]: up = spread(matrix, rows, cols, path[1:], i - 1, j) return up or down or left or right è¿™ä¹‹åŽçš„å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºè¿™ä¸ªå†™æ³•æ˜¯æ­£ç¡®çš„ã€‚ç›´åˆ°æˆ‘åœ¨LeetCodeä¸Šå‘çŽ°è¿™é“åŽŸé¢˜ï¼Œè‡ªä¿¡æ»¡æ»¡åœ°æäº¤è‡ªå·±è®¤ä¸ºæ­£ç¡®çš„ç­”æ¡ˆï¼Œè¢«è¿™ä¸ªTestCaseæ•™åšäººã€‚æˆ‘å½“æ—¶æäº¤çš„å®Œæ•´ç­”æ¡ˆæ˜¯è¿™æ ·çš„ã€‚è¿™ä¸ªè¾“å…¥å‚æ•°æœ‰ä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ï¼ŒLeetCodeè¾“å…¥çš„æ˜¯äºŒç»´æ•°ç»„ï¼Œç‰›å®¢æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œå†™çš„æ˜¯LeetCodeçš„å†™æ³•ã€‚è¿™é‡Œå› ä¸ºæ˜¯äºŒç»´æ•°ç»„ï¼Œæ‰€ä»¥è¦åšæ·±æ‹·è´ã€‚ 1234567891011121314151617181920212223def exist(self, g: List[List[str]], word: str) -&gt; bool: from copy import deepcopy R, C = len(g), len(g[0]) def spread(g, i, j, w): if not w: return True g[i][j] = '-' spreaded = False print('cur -&gt; (&#123;&#125;, &#123;&#125;) &#123;&#125;, &#123;&#125;'.format(i, j, w, g)) for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if 0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y]: if spread(g, x, y, w[1:]): spreaded = True print('spreaded &#123;&#125;, recover (&#123;&#125;, &#123;&#125;), after &#123;&#125;'.format(spreaded, i, j, g)) return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0]: if spread(deepcopy(g), i, j, word[1:]): return True return False æœªé€šè¿‡çš„TestCaseä¸ºï¼šç›®æ ‡å­—ç¬¦ä¸²ä¸ºABCESEEEFSã€‚ ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿé—®é¢˜ï¼Œæˆ‘åŠ äº†ä¸¤è¡Œè¾“å‡ºã€‚ 123456789101112131415161718cur -&gt; (0, 0) BCESEEEFS, [[&apos;-&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 1) CESEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 2) ESEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 2) SEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 3) EEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 3) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (2, 3) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;-&apos;]]cur -&gt; (2, 2) EFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, g [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]cur -&gt; (2, 0) BCESEEEFS, [[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;-&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, g [[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;-&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]] è¿™ä¸ªç¨å¾®çœ‹ä¸€ä¸‹å°±æ˜Žç™½äº†ï¼Œè™½ç„¶æ¯æ¬¡åŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²Açš„æ—¶å€™ä¼ å…¥äº†ä¸€ä¸ªæ–°çš„äºŒç»´æ•°ç»„ï¼Œä½†æ˜¯åœ¨æ‰¾Aä¹‹åŽçš„è·¯å¾„æ—¶ï¼Œæ¯æ¬¡è¿”å›žFalseçš„æ—¶å€™æ²¡æœ‰å°†-æ¢å¤æˆåŽŸæ¥çš„å­—æ¯ã€‚ä¸‹é¢è¯·è®°ä½æˆ‘ä»£ç ä¸­å†™çš„æ–¹å‘é¡ºåºä¸ºä¸Šä¸‹å·¦å³ã€‚ åœ¨ä¸Šé¢çš„å‡ æ­¥å»¶ä¼¸ä¹‹åŽï¼Œå›žåˆ°äº†ABCç„¶åŽå³è¾¹çš„å­—æ¯æ²¡æœ‰æ¢å¤ï¼Œæ‰€ä»¥è¿”å›žäº†Falseã€‚äºŽæ˜¯æˆ‘ä»¬å¯ä»¥å…ˆè®°å½•ä¸€ä¸‹ä¹‹å‰çš„å­—æ¯ï¼Œç„¶åŽåœ¨å¾—åˆ°ç»“æžœåŽå°†å…¶æ¢å¤ã€‚ 123456789101112131415161718192021222324def exist(self, g: List[List[str]], word: str) -&gt; bool: from copy import deepcopy R, C = len(g), len(g[0]) def spread(g, i, j, w): if not w: return True original, g[i][j] = g[i][j], '-' spreaded = False print('cur -&gt; (&#123;&#125;, &#123;&#125;) &#123;&#125;, &#123;&#125;'.format(i, j, w, g)) for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if 0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y]: if spread(g, x, y, w[1:]): spreaded = True g[i][j] = original print('spreaded &#123;&#125;, recover (&#123;&#125;, &#123;&#125;), after &#123;&#125;'.format(spreaded, i, j, g)) return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0]: if spread(deepcopy(g), i, j, word[1:]): return True return False è¾“å‡ºä¸º: 12345678910111213141516171819202122232425262728293031323334cur -&gt; (0, 0) BCESEEEFS, [[&apos;-&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 1) CESEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 2) ESEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 2) SEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 3) EEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 3) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, recover (0, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (2, 3) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;-&apos;]]cur -&gt; (2, 2) EFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, recover (2, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;-&apos;]]spreaded False, recover (2, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, recover (1, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, recover (1, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (0, 3) SEEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 3) EEEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (2, 3) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;-&apos;]]cur -&gt; (2, 2) EFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]cur -&gt; (1, 2) FS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]cur -&gt; (1, 1) S, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded True, recover (1, 1), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded True, recover (1, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded True, recover (2, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;-&apos;]]spreaded True, recover (2, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (1, 2) EEFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]cur -&gt; (2, 2) EFS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;E&apos;]]cur -&gt; (2, 3) FS, [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;-&apos;]]spreaded False, recover (2, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;-&apos;, &apos;E&apos;]]spreaded False, recover (2, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded False, recover (1, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;-&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded True, recover (1, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;-&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded True, recover (0, 3), after [[&apos;-&apos;, &apos;-&apos;, &apos;-&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded True, recover (0, 2), after [[&apos;-&apos;, &apos;-&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded True, recover (0, 1), after [[&apos;-&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]]spreaded True, recover (0, 0), after [[&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;E&apos;], [&apos;S&apos;, &apos;F&apos;, &apos;E&apos;, &apos;S&apos;], [&apos;A&apos;, &apos;D&apos;, &apos;E&apos;, &apos;E&apos;]] è¿™ä¸ªä¾‹å­éžå¸¸å¤æ‚ä¹Ÿéžå¸¸æ£’ï¼Œç”±è¡·æ„Ÿè°¢æäº¤è¿™ä¸ªTestCaseçš„äººè®©æˆ‘æ„è¯†åˆ°è‡ªå·±çš„æ„šè ¢ï¼Œæ­¤ä¾‹å­ä¸€å…±åšäº†4æ¬¡å°è¯•ï¼Œè®©æˆ‘ä»¬ç”¨å›¾è§£çš„æ–¹å¼æ¥è¿˜åŽŸä¸€ä¸‹ã€‚å› ä¸ºæ˜¯ä¸Šä¸‹å·¦å³è¿™ä¸ªé¡ºåºï¼Œæ‰€ä»¥å°è¯•è¿‡ç¨‹å¦‚ä¸‹ï¼š è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä»£ç å¯èƒ½é€šè¿‡åŠŸèƒ½æµ‹è¯•äº†ï¼Œä½†æ˜¯æƒ³æƒ³å¦‚æžœæ¯ä¸ªåŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ·±æ‹·è´ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æžœæ•°ç»„ç‰¹åˆ«å¤§ï¼Œé‚£ä¹ˆå°†è€—è´¹å¤§é‡æ—¶é—´ï¼Œå…¶å®žæˆ‘ä»¬åœ¨åšå¥½æ¢å¤å·¥ä½œåŽå°±ä¸éœ€è¦åœ¨æ‹·è´æ•°ç»„äº†ã€‚å°†å…¶åŽ»æŽ‰åŽï¼š 12345678910111213141516171819202122def exist(self, g: List[List[str]], word: str) -&gt; bool: R, C = len(g), len(g[0]) def spread(i, j, w): if not w: return True original, g[i][j] = g[i][j], '-' spreaded = False for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if 0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y]: if spread(x, y, w[1:]): spreaded = True g[i][j] = original return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0]: if spread(i, j, word[1:]): return True return False è‡ªä¿¡æäº¤åŽï¼Œåˆè¢«è¿™æ ·ä¸€ä¸ªTestCaseæ•™è‚²äº†ï¼Œè¿”å›žè¶…æ—¶ã€‚ 12[[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a...&quot;baaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; æƒ³äº†åŠå¤©ç»ˆäºŽæ˜Žç™½ï¼Œæˆ‘åœ¨å››ä¸ªæ–¹å‘å¯»æ‰¾æ˜¯å¦å¯ä»¥å»¶ä¼¸æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªæ–¹å‘å¯ä»¥ï¼Œé‚£ä¹ˆæˆ‘å°±æ— éœ€å†åˆ¤æ–­å…¶ä»–æ–¹å‘äº†ã€‚ æ‰€ä»¥è¿™é‡ŒåŠ ä¸€ä¸ªbreakå³å¯ã€‚ 123456789101112131415161718192021def exist(self, g: List[List[str]], word: str) -&gt; bool: R, C = len(g), len(g[0]) def spread(i, j, w): if not w: return True original, g[i][j] = g[i][j], '-' spreaded = False for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if (0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y] and spread(x, y, w[1:])): spreaded = True break g[i][j] = original return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0] and spread(i, j, word[1:]): return True return False ä»¥ä¸Šå°±æ˜¯æœ€ç»ˆçš„ä»£ç ï¼Œè¯•äº†ä¸€ä¸‹LeetCodeè¯„è®ºåŒºçš„é«˜ç¥¨ä»£ç ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå†™æ³•ï¼Œå°†ä¸»å¾ªçŽ¯çš„g[i][j]==word[0]ç§»åˆ°äº†spreadä¸­åˆ¤æ–­ï¼Œä¸ªäººè§‰å¾—è¿™ä¸ªæ˜¯ä¸ºä»€ä¹ˆæ¯”å®ƒå¿«äº†100msä»¥ä¸Šçš„åŽŸå› ã€‚æ­¤æ–‡ä¸­çš„æœ€ç»ˆæ–¹æ³•AC188msï¼Œè€Œé‚£ä¸ªä»£ç éœ€è¦336msã€‚ é€šè¿‡ä¸€ç•ªæ·±å…¥çš„åˆ†æžï¼Œè‡ªå·±å¯¹äºŽå›žæº¯æœ‰äº†æ›´æ·±ä¸€æ­¥çš„è®¤è¯†ï¼ŒåŒæ—¶ä¹Ÿæ˜Žç™½äº†ä¸€ä¸ªæ·±åˆ»çš„é“ç†ï¼Œä¸è¦è½»ä¿¡ä»–äººçš„ä»£ç ï¼ŒåŒ…æ‹¬æ­¤æ–‡ä¸­çš„ä¹Ÿæ˜¯ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¾Ÿé€Ÿçˆ¬å¤©æ¢¯]]></title>
    <url>%2F%E9%BE%9F%E9%80%9F%E7%88%AC%E5%A4%A9%E6%A2%AF%2F</url>
    <content type="text"><![CDATA[å¥½æ¿€åŠ¨ï¼Œç¬¬ä¸€æ¬¡ç¦»å¤§ç¥žè¿™ä¹ˆè¿‘åƒæ¯ä¸ªå‘¨æ—¥ä¸€æ ·ï¼Œ9ç‚¹åŠèµ·æ¥ï¼Œç„¶åŽç‚¹äº†å¤–å–ï¼Œæ•´ç†äº†ä¸€ä¸‹æœ€è¿‘çš„ç¬”è®°ã€‚ç„¶åŽå¼€å§‹ç­‰å¾…LeetCode Contestçš„åˆ°æ¥ã€‚è¿™å‘¨çš„é¢˜ç¡®å®žç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œåšç€åšç€å‘çŽ°åˆ°äº†æœ€åŽä¸€é¢˜ã€‚ç„¶åŽæœ€åŽä¸€é¢˜ä¹Ÿåªæœ‰Mediuméš¾åº¦ã€‚æ„Ÿè§‰è¿˜æ²¡æœ‰Q3éš¾ï¼Œç”¨äº†é€’å½’å°±åšå‡ºæ¥äº†ã€‚ æƒŠå¥‡çš„å‘çŽ°ï¼Œå±…ç„¶ç”¨äº†ä¸€å°æ—¶å°±åšå®Œäº†ã€‚ä»¥å‰æœ‰æ—¶è¿˜ä¼šå¡åœ¨ç¬¬3é¢˜ï¼Œç„¶åŽçœ‹äº†æŽ’è¡Œæ¦œï¼Œå¼€å§‹è¿˜æœ‰ç‚¹æ‹…å¿ƒï¼ŒQ2æ˜¯å¦ç®—ä½œå¼Šï¼Œä¸è¿‡åŽæ¥å®Œæˆäº†ä¸€çœ‹ï¼ŒæŽ’è¡Œæ¦œå‰åçš„å¤§ç¥žä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„ï¼Œè€Œä¸”è¿˜æ²¡æˆ‘å†™çš„ä¼˜é›…ï¼Œï¼ˆè™½ç„¶ç”¨äº†ä¸‰æ–¹åº“ï¼‰ã€‚ åƒè¿‡æ—©é¥­ï¼Œç„¶åŽè¯¥reviewä¸€ä¸‹é¢˜ç›®ï¼Œä¼˜åŒ–ä¸€ä¸‹è§£æ³•å¹¶æ•´ç†åˆ°ç›¸å…³åšå®¢ä¸­ã€‚ç»™è‡ªå·±å®šä¸ªå°ç›®æ ‡ï¼Œå‘å‰200åŠªåŠ›ã€‚ å¥½æ°”ï¼Œleeç¥žå±…ç„¶æ¯”æˆ‘å…ˆå‘äº†ç­”æ¡ˆï¼Œæˆ‘ä¿©çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼ŒðŸ˜¦é”™è¿‡äº†å¥½å‡ ä¸ªèµžã€‚]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•ç¯‡ç›®å½•æ±‡æ€»]]></title>
    <url>%2F%E7%AE%97%E6%B3%95%E7%AF%87%E7%9B%AE%E5%BD%95%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä»ŽåŽ»å¹´9å¼€å§‹åˆ·ç®—æ³•é¢˜ï¼Œæˆªæ­¢åˆ°ä»Šå¤©ï¼Œé™†ç»­ç”¨äº†å¤§æ¦‚åŠå¹´çš„æ—¶é—´ï¼Œå·²ç»å®Œæˆã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„é¢˜ç›®ï¼ŒLeetCodeä¸­Easyéš¾åº¦çš„é¢˜åž‹ä¹Ÿå·²ç»åŸºæœ¬å®Œæˆäº†ã€‚ç”±äºŽç›¸å…³ç®—æ³•åšå®¢æ—¥ç›Šå¢žå¤šï¼Œæ‰€ä»¥å»ºç«‹æ­¤ç›®å½•æ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚å¦å¤–æœ‰ä¸€äº›é¢˜åž‹åœ¨åˆæœŸåˆ†ç±»ä¸æ˜¯å¾ˆåˆé€‚ï¼Œæ‰€ä»¥åœ¨å®ŒæˆEasyé¢˜ä¹‹åŽå¯¹æ‰€æœ‰ç§ç±»äº†è§£çš„æƒ…å†µä¸‹ï¼Œé‡æ–°ä¿®æ”¹ä¸€äº›é¢˜çš„åˆ†ç±»ã€‚ ç›®å½• ã€Šå‰‘æŒ‡Offerã€‹ LeetCode æ•°ç»„ç¯‡ LeetCode é“¾è¡¨ç¯‡ LeetCode äºŒå‰æ ‘ç¯‡ LeetCode å“ˆå¸Œç¯‡ LeetCode å­—ç¬¦ä¸²ç¯‡ LeetCode ä½è¿ç®—ç¯‡ LeetCode äºŒåˆ†æ³•ç¯‡ LeetCode å›žæº¯ç¯‡ LeetCode æ•°å­¦ç¯‡ LeetCode è®¾è®¡ç¯‡ LeetCode åŠ¨æ€è§„åˆ’ç¯‡ LeetCode è´ªå¿ƒç¯‡ LeetCode æ­£åˆ™ç¯‡ LeetCode å›¾ç¯‡ LeetCode sqlç¯‡ æ€»ç»“ç›®å‰æ”¶å½•å¤§æ¦‚ä¸åˆ°300é¢˜ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¿½æ±‚æ•°é‡ï¼Œæ¯é“é¢˜éƒ½æ˜¯å…ˆæ€è€ƒç”¨è‡ªå·±çš„æ–¹æ³•åšï¼Œç„¶åŽå†ä¸æ–­åœ°ä¼˜åŒ–ï¼Œæœ€åŽç»“åˆSolutionå’ŒDiscussé‡Œå¤§ç¥žçš„å†™æ³•è¿›è¡Œä¿®æ”¹ã€‚ä¸€å¼€å§‹æœ‰æ—¶å€™ä¸€é“é¢˜æƒ³å¥½å‡ å¤©ï¼ŒåŽæ¥ä¸€å¤©å¯ä»¥å®Œæˆ5ï¼Œ6é“é¢˜ï¼ŒæœŸé—´ä¹Ÿé€šè¿‡Weekly Contestæ¥æµ‹è¯•è‡ªå·±ï¼Œå‰å‡ æ¬¡åªèƒ½åšå‡ºä¸€ä¸¤é“é¢˜ï¼ŒåŽæ¥æœ‰æ—¶å€™ç”šè‡³æœ€åŽä¸€é¢˜ä¹Ÿå·®ç‚¹å‡ æ­¥å°±å®Œæˆï¼Œæ”¶è´§é¢‡ä¸°ã€‚åˆ·åˆ°å·®ä¸å¤šåŽåŠæ®µçš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæœ‰äº›é¢˜å°±æ˜¯æ¢æ±¤ä¸æ¢è¯ï¼Œå¯ä»¥ç”¨ä¹‹å‰çš„è§£æ³•åšå‡ºæ¥ï¼Œæˆ–è€…æ˜¯å‡ é“é¢˜çš„æ­¥éª¤åŠ èµ·æ¥ã€‚ å…³äºŽåˆ†ç±»ï¼Œå› ä¸ºLeetCodeä¸­çš„åˆ†ç±»å…¶å®žæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œè¿™é‡Œåšå®¢ä¸­å¹¶ä¸æƒ³è®°å½•é‡å¤çš„é¢˜ï¼Œæ‰€ä»¥åˆ†ç±»æ˜¯æ²¡æœ‰æŒ‰ç…§LeetCodeä¸­æ¥åˆ†çš„ï¼Œæœ‰æ—¶å€™ä¼šæ ¹æ®é¢˜ç›®åˆ†ç±»ï¼Œæœ‰æ—¶å€™ä¼šæ ¹æ®ç­”æ¡ˆçš„æœ€ä¼˜è§£åˆ†ç±»ã€‚ç­”æ¡ˆä¸­æ ‡è®°ç»¿è‰²çš„éƒ¨åˆ†è¡¨ç¤ºæ˜¯æœ€ä¼˜è§£ï¼Œä½†ä¸å”¯ä¸€ï¼›æžä¸ªåˆ«ç”¨çº¢è‰²æ ‡å‡ºä¸ºé”™è¯¯ç­”æ¡ˆï¼Œå› ä¸ºå…·æœ‰å¼ºçƒˆçš„è¯¯å¯¼æ€§ï¼Œæ‰€ä»¥è®°å½•ä¸‹æ¥ã€‚ æœŸé—´åœ¨Discussä¸­å•æ–¹é¢ç»“è¯†äº†ä¸¤ä½å¤§ç¥žï¼Œä¸€ä½å«Stefan Pochmannï¼Œå¦ä¸€ä½å«lee215ã€‚ä¸¤è€…éƒ½æ˜¯ä¸‡æ˜Ÿå¤§ç¥žï¼Œåšå®¢ä¸­æœ‰ä¸€äº›é¢˜çš„æœ€ä¼˜è§£éƒ½æ˜¯è¿™ä¸¤ä½çš„ç­”æ¡ˆã€‚å‰è€…åœ¨å°é¢˜å·æ—¶æ¯”è¾ƒæ´»è·ƒï¼ŒåŽè€…åœ¨å¤§é¢˜å·æ—¶è¾ƒæ´»è·ƒï¼Œä»–ä»¬ä¿©çš„ç­”æ¡ˆæ€»æ˜¯ç»™äººçœ¼å‰ä¸€äº®çš„æ„Ÿè§‰ï¼Œä»Žä¸­å­¦ä¹ åˆ°äº†å¾ˆå¤šï¼Œä¹Ÿèƒ½åº”ç”¨åˆ°å…¶å®ƒä¸€äº›é¢˜ä¸Šã€‚ å…³äºŽå‘¨èµ›ï¼Œå‘¨èµ›çš„æ—¶å€™æ„Ÿè§‰åˆå’Œåˆ·åˆ«çš„é¢˜ä¸ä¸€æ ·ï¼Œå‘¨èµ›ä¸€èˆ¬çš„è§£æ³•åå‘äºŽè§£ç­”é€Ÿåº¦ï¼Œæœ‰ä»€ä¹ˆçŽ°æˆçš„åº“å°±ç›´æŽ¥ç”¨ï¼Œå“ªä¸ªè§£æ³•æœ€ç¨³ç”¨é‚£ä¸ªï¼Œå› ä¸ºBugä¼šæœ‰æƒ©ç½šæ—¶é—´ï¼ŒæŽ’è¡Œæ¦œå‰åçš„ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ã€‚è€Œå¹³æ—¶åˆ·é¢˜æ›´å€¾å‘äºŽæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä½Žï¼Œå¹¶ä¸”å†™æ³•ä¼˜é›…ã€‚ æœ‰æ—¶å€™Discussä¸­ä¹Ÿæ²¡æœ‰è‡ªå·±æ»¡æ„çš„ç­”æ¡ˆï¼Œä¹Ÿä¼šè‡ªå·±å†¥æ€è‹¦æƒ³æƒ³å‡ºä¸€ä¸ªä¼˜é›…çš„è§£æ³•ï¼Œç„¶åŽShareç»™å¤§å®¶ï¼ŒèŽ·å¾—å‡ ä¸ªç‚¹èµžã€‚è¿™ç§èµžåŒè¿˜æœ‰çœ‹åˆ°Contestä¸Šå‡çš„æŽ’åï¼Œéƒ½ä¼šè®©è‡ªå·±ä¿¡å¿ƒåè¶³ï¼ŒåŽ»é¢å¯¹æ›´åŠ è‰°éš¾çš„æŒ‘æˆ˜ã€‚2019å¹´ç»™è‡ªå·±å®šäº†ä¸€ä¸ªå°ç›®æ ‡ï¼Œè§£é¢˜è¾¾åˆ°500+ï¼Œratingè¾¾åˆ°1800+ï¼Œstarè¾¾åˆ°200+ã€‚æŽ¥ä¸‹æ¥å‡†å¤‡é‡æ–°æ•´ç†ä¸€ä¸‹ç›®å‰çš„é¢˜ï¼Œç„¶åŽæŒ‰ç…§ç±»åˆ«è¿›è¡Œä¸€æ¬¡è§£ç­”ï¼Œç–‘éš¾é¢˜ä¼šè®°å½•åˆ°LeetCodeçš„flashcardä¸­åå¤è®­ç»ƒã€‚ä¸æ–­å‘Šè¯‰è‡ªå·±ï¼Œä¸è¦ä¸ºäº†åˆ·é¢˜è€Œåˆ·é¢˜ï¼Œé‡è¦çš„æ˜¯æ€è€ƒçš„è¿‡ç¨‹ã€‚ç„¶åŽä¼˜åŒ–ä¸€äº›è¿˜ä¸å¤Ÿä¼˜é›…çš„ç­”æ¡ˆï¼Œæœ€åŽè¿ˆå‘Mediuméš¾åº¦ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå›¾ç¯‡ï¼‰Graph]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%9B%BE%E7%AF%87%EF%BC%89Graph%2F</url>
    <content type="text"><![CDATA[990. Satisfiability of Equality Equationsæ»¡è¶³æ‰€æœ‰æ–¹ç¨‹å¼ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å˜é‡çš„å€¼æ»¡è¶³æ‰€æœ‰çš„ç­‰å¼ä¸Žä¸ç­‰å¼ã€‚åŽŸé¢˜è§£æžï¼šæ‰€æœ‰çš„ç›¸ç­‰çš„ç‚¹ï¼Œåœ¨å›¾ä¸­æ˜¯è”é€šçš„ã€‚ 123456789Input: [&quot;a==b&quot;,&quot;b!=a&quot;]Output: falseExplanation: If we assign say, a = 1 and b = 1, then the first equation is satisfied, but not the second. There is no way to assign the variables to satisfy both equations.Input: [&quot;a==b&quot;,&quot;b==c&quot;,&quot;a==c&quot;]Output: trueInput: [&quot;a==b&quot;,&quot;b!=c&quot;,&quot;c==a&quot;]Output: false æ–¹æ³•ä¸€ï¼šset. 1234567891011121314151617181920def equationsPossible(self, equations: 'List[str]') -&gt; 'bool': equals = [] equations.sort(key=operator.itemgetter(1), reverse=True) # print(equations) for x, e, _, y in equations: if e == '=': for i, eq in enumerate(equals): if x in eq or y in eq: equals[i].update(&#123;x, y&#125;) break else: equals.append(&#123;x, y&#125;) else: if x == y: return False for eq in equals: if x in eq and y in eq: return False # print(equals) return True æ–¹æ³•äºŒï¼šunion find. å¹¶æŸ¥é›†ã€‚findæ–¹æ³•å¯ä»¥æƒ³è±¡æˆä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›žçš„æ˜¯é“¾è¡¨æœ«å°¾key,valç›¸ç­‰çš„å…ƒç´ ã€‚åŒæ—¶å»ºç«‹è¿žæŽ¥å…³ç³»ã€‚å¦‚a==b, b==cæ—¶fc={&#39;a&#39;: &#39;b&#39;, &#39;b&#39;: &#39;c&#39;, &#39;c&#39;: &#39;c&#39;}æ¯”è¾ƒa!=cæ—¶å°±ä¼šæœ€ç»ˆæ‰¾åˆ°fc[&#39;a&#39;] == &#39;c&#39;ï¼›å¦‚a==b, c==aæ—¶ï¼Œfc={&#39;a&#39;: &#39;b&#39;, &#39;b&#39;: &#39;b&#39;, &#39;c&#39;: &#39;b&#39;}ã€‚ 12345678910111213141516def equationsPossible(self, equations: 'List[str]') -&gt; 'bool': equations.sort(key=lambda e: e[1] == '!') uf = &#123;a: a for a in string.ascii_lowercase&#125; def find(x): if x != uf[x]: uf[x] = find(uf[x]) return uf[x] for a, e, _, b in equations: if e == "=": uf[find(a)] = find(b) else: if find(a) == find(b): return False return True 997. Find the Town Judgeæ‰¾åˆ°å°é•‡å®¡åˆ¤é•¿ã€‚å®¡åˆ¤é•¿è¢«é™¤è‡ªå·±ä»¥å¤–çš„æ‰€æœ‰äººä¿¡ä»»ï¼Œå¹¶ä¸”ä¸ä¿¡ä»»ä»»ä½•äººã€‚æ ¹æ®ä¿¡ä»»åˆ—è¡¨æ‰¾å‡ºå®¡åˆ¤é•¿ã€‚åŽŸé¢˜123456Input: N = 4, trust = [[1,3],[1,4],[2,3],[2,4],[4,3]]Output: 3Input: N = 3, trust = [[1,3],[2,3],[3,1]]Output: -1Input: N = 3, trust = [[1,3],[2,3]]Output: 3 æ–¹æ³•ä¸€ï¼šbrute force. 123456789101112def findJudge(self, N: int, trust: List[List[int]]) -&gt; int: if not trust: return N a, b = zip(*trust) candidates = collections.Counter(b) villages = set(a) for c, votes in candidates.most_common(): if votes &lt; N - 1: return -1 if c not in villages: return c return -1 æ–¹æ³•äºŒï¼šå®šå‘å›¾ã€‚ 12345678910def findJudge(self, N: int, trust: List[List[int]]) -&gt; int: count = [0] * (N + 1) for i, j in trust: count[i] -= 1 count[j] += 1 print(count) for i in range(1, N + 1): if count[i] == N - 1: return i return -1 133. Clone Graphæ·±æ‹·è´ä¸€ä¸ªç®€å•çŽ¯ã€‚åŽŸé¢˜ 1234567891011def cloneGraph(self, node: 'Node') -&gt; 'Node': cp = collections.defaultdict(lambda: Node(0, [])) nodes = [node] seen = set() while nodes: n = nodes.pop() cp[n].val = n.val cp[n].neighbors = [cp[x] for x in n.neighbors] nodes.extend(x for x in n.neighbors if x not in seen) seen.add(n) return cp[node]]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Graph</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå“ˆå¸Œç¯‡ï¼‰hashtable]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%93%88%E5%B8%8C%E7%AF%87%EF%BC%89hashtable%2F</url>
    <content type="text"><![CDATA[1. Two Sumç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ‰¾å‡ºæ•°ç»„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ä¸ºç›®æ ‡å€¼ï¼Œå‡å®šåªæœ‰å”¯ä¸€è§£ã€‚åŽŸé¢˜123Given nums = [2, 7, 11, 15], target = 9,Because nums[0] + nums[1] = 2 + 7 = 9,return [0, 1]. 1234567def two_sum(nums, target): buff_dict = &#123;&#125; for i, num in enumerate(nums): if num not in buff_dict: buff_dict[target-num] = i else: return [buff_dict[num], i] 720. Longest Word in Dictionaryå­—å…¸ä¸­çš„æœ€é•¿å•è¯ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå•è¯ï¼Œè¯¥å•è¯çš„å­å•è¯ä¹Ÿå¿…é¡»åœ¨å­—å…¸ä¸­ã€‚ç›¸åŒé•¿åº¦çš„å•è¯ï¼Œè¿”å›žå­—å…¸åºæœ€å‰çš„ä¸€ä¸ªã€‚åŽŸé¢˜12345Input: words = [&quot;w&quot;,&quot;wo&quot;,&quot;wor&quot;,&quot;worl&quot;, &quot;world&quot;]Output: &quot;world&quot;Explanation: The word &quot;world&quot; can be built one character at a time by &quot;w&quot;, &quot;wo&quot;, &quot;wor&quot;, and &quot;worl&quot;. æ–¹æ³•ä¸€ï¼šBrute Force. 12345678def longestWord(self, words): res = '' wordset = set(words) for word in words: if len(word)&gt;len(res) or len(word)==len(res) and word&lt;res: if all(word[:k] in wordset for k in range(1, len(word))): res = word return res æ–¹æ³•äºŒï¼štrie. æš‚ä¸”ç•™å‘ã€‚ 748. Shortest Completing Wordæœ€çŸ­çš„å®Œæ•´åŒ¹é…å•è¯ã€‚åŒ…å«licensePlateä¸­çš„æ‰€æœ‰å­—æ¯ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚å‡è®¾ç­”æ¡ˆä¸€å®šå­˜åœ¨ã€‚åŽŸé¢˜12345Input: licensePlate = &quot;1s3 PSt&quot;, words = [&quot;step&quot;, &quot;steps&quot;, &quot;stripe&quot;, &quot;stepple&quot;]Output: &quot;steps&quot;Explanation: The smallest length word that contains the letters &quot;S&quot;, &quot;P&quot;, &quot;S&quot;, and &quot;T&quot;.Note that the answer is not &quot;step&quot;, because the letter &quot;s&quot; must occur in the word twice.Also note that we ignored case for the purposes of comparing whether a letter exists in the word. æ–¹æ³•ä¸€ï¼šå…ˆæŽ’åºã€‚ 123456789def shortestCompletingWord(self, licensePlate: 'str', words: 'List[str]') -&gt; 'str': lp = ''.join(x for x in licensePlate.lower() if x.isalpha()) c1 = collections.Counter(lp) words.sort(key=len) words = map(str.lower, words) for word in words: diff = c1 - collections.Counter(word) if not diff: return word æ–¹æ³•äºŒï¼šmore elegant. 123456def shortestCompletingWord(self, licensePlate: 'str', words: 'List[str]') -&gt; 'str': lp = ''.join(x for x in licensePlate.lower() if x.isalpha()) c1 = collections.Counter(lp) words = map(str.lower, words) return min((word for word in words if not c1-collections.Counter(word)), key=len) æ–¹æ³•ä¸‰ï¼šmost efficient. è®¤ä¸ºæ–¹æ³•äºŒæ˜¯åœ¨è®¡ç®—-çš„æ“ä½œæ—¶ï¼Œæ¶‰åŠä¸€äº›æ— å…³çš„keyå¯¼è‡´æ•ˆçŽ‡è¿‡ä½Žã€‚ 1234567891011121314def shortestCompletingWord(self, licensePlate: 'str', words: 'List[str]') -&gt; 'str': ans = '' lp = ''.join(x for x in licensePlate.lower() if x.isalpha()) for w in words: temp = list(w.lower()) for l in lp: if l in temp: temp.remove(l) else: break else: if len(w)&lt;len(ans) or ans=='': ans = w return ans 811. Subdomain Visit Countå­åŸŸåè®¿é—®é‡ã€‚ç»™å®šä¸€ä¸ªä¸‰çº§æˆ–äºŒçº§åŸŸååˆ—è¡¨ï¼Œç»Ÿè®¡æ‰€æœ‰ä¸‰çº§ã€äºŒçº§å’Œé¡¶çº§åŸŸåçš„è®¿é—®é‡ã€‚åŽŸé¢˜1234567Example 1:Input: [&quot;9001 discuss.leetcode.com&quot;]Output: [&quot;9001 discuss.leetcode.com&quot;, &quot;9001 leetcode.com&quot;, &quot;9001 com&quot;]Explanation: We only have one website domain: &quot;discuss.leetcode.com&quot;. As discussed above, the subdomain &quot;leetcode.com&quot; and &quot;com&quot; will also be visited. So they will all be visited 9001 times. æ–¹æ³•ä¸€ï¼šSolutionä¸­ç”¨äº†Counterï¼Œä¸ªäººè®¤ä¸ºdefaultdict. 123456789def subdomainVisits(self, cpdomains: 'List[str]') -&gt; 'List[str]': ans = collections.defaultdict(int) for domain in cpdomains: count, d = domain.split() count = int(count) frags = d.split('.') for i in range(len(frags)): ans['.'.join(frags[i:])] += count return ['&#123;&#125; &#123;&#125;'.format(c, d) for d, c in ans.items()] 884. Uncommon Words from Two Sentencesæ±‚ä¸¤å¥è¯ä¸­çš„å•è¯ï¼Œåœ¨æœ¬å¥ä¸­å‡ºçŽ°ä¸€æ¬¡ï¼Œå¹¶ä¸åœ¨å¦ä¸€å¥ä¸­çš„å•è¯ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸¤å¥ä¸­å‡ºçŽ°ä¸€æ¬¡ã€‚åŽŸé¢˜12Input: A = &quot;this apple is sweet&quot;, B = &quot;this apple is sour&quot;Output: [&quot;sweet&quot;,&quot;sour&quot;] æ–¹æ³•ä¸€ï¼šCounter 1234def uncommonFromSentences(self, A: 'str', B: 'str') -&gt; 'List[str]': from collections import Counter count = Counter((A + ' ' + B).split()) return [word for word, c in count.items() if c == 1] 1013. Pairs of Songs With Total Durations Divisible by 60å’Œèƒ½è¢«60æ•´é™¤çš„ä¸ºä¸€å¯¹ï¼Œæ±‚æœ‰å¤šå°‘å¯¹ã€‚åŽŸé¢˜123456Input: [30,20,150,100,40]Output: 3Explanation: Three pairs have a total duration divisible by 60:(time[0] = 30, time[2] = 150): total duration 180(time[1] = 20, time[3] = 100): total duration 120(time[1] = 20, time[4] = 40): total duration 60 12345678def numPairsDivisibleBy60(self, time: List[int]) -&gt; int: c = collections.defaultdict(int) ans = 0 for t in time: # ans += c[(60-t%60)%60] ans += c[-t % 60] c[t%60] += 1 return ans]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>HashTable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆè´ªå¿ƒç¯‡ï¼‰Greedy]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%B4%AA%E5%BF%83%E7%AF%87%EF%BC%89greedy%2F</url>
    <content type="text"><![CDATA[984. String Without AAA or BBBç”Ÿæˆå­—ç¬¦ä¸²æ²¡æœ‰â€˜aaaâ€™å’Œâ€™bbbâ€™ã€‚åŽŸé¢˜123Input: A = 1, B = 2Output: &quot;abb&quot;Explanation: &quot;abb&quot;, &quot;bab&quot; and &quot;bba&quot; are all correct answers. 123456789101112131415def strWithout3a3b(self, A, B): ans = '' while A or B: if len(ans) &gt;= 2 and ans[-1]==ans[-2]: writeA = ans[-1]=='b' else: writeA = A&gt;=B if writeA: A -= 1 ans += 'a' else: B -= 1 ans += 'b' return ans 455. Assign Cookieså‘å°é¥¼å¹²ï¼Œsä¸ºè‹¥å¹²ä¸ªé¥¼å¹²çš„å¤§å°ï¼Œgä¸ºæ¯ä¸ªäººéœ€è¦çš„å¤§å°ï¼Œæ²¡äººå‘çš„é¥¼å¹²ä¸èƒ½æ¯”è¦æ±‚çš„sizeå°ï¼Œé—®æœ€å¤šå¯ä»¥æ»¡è¶³å‡ ä¸ªäººã€‚åŽŸé¢˜1234567Input: [1,2], [1,2,3]Output: 2Explanation: You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2. You have 3 cookies and their sizes are big enough to gratify all of the children, You need to output 2. 12345678def findContentChildren(self, g: List[int], s: List[int]) -&gt; int: g.sort() s.sort() i = j = 0 while i &lt; len(g) and j &lt; len(s): i += s[j] &gt;= g[i] j += 1 return i 860. Lemonade ChangeæŸ æª¬æ‰¾é›¶ï¼Œæ¯äººä¹°ä¸€ä¸ªæŸ æª¬ï¼Œï¼ˆä»·å€¼5ï¼‰å¯èƒ½ä»˜5, 10, 20é¢å€¼çš„é’žç¥¨ï¼Œé—®é›¶é’±æ˜¯å¦èƒ½æ‰¾å¼€ã€‚åŽŸé¢˜1234567Input: [5,5,5,10,20]Output: trueExplanation: From the first 3 customers, we collect three $5 bills in order.From the fourth customer, we collect a $10 bill and give back a $5.From the fifth customer, we give a $10 bill and a $5 bill.Since all customers got correct change, we output true. æ–¹æ³•ä¸€ï¼šdefaultdictã€‚ 123456789101112131415def lemonadeChange(self, bills: 'List[int]') -&gt; 'bool': c = collections.defaultdict(int) for bill in bills: if bill == 10: c[5] -= 1 elif bill == 20: if c[10] &gt;= 1: c[10] -= 1 c[5] -= 1 else: c[5] -= 3 if c[5] &lt; 0: return False c[bill] += 1 return True 944. Delete Columns to Make Sortedæ‰¾å‡ºå¹¶è¡Œé¡¹ä¸­æœªæŽ’åºçš„ä¸ªæ•°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šsortedè¦æ¯”anyå¿«ï¼Œæ„Ÿè§‰æ˜¯Cpythonçš„ä¼˜åŒ–å¯¼è‡´ï¼Œç†è®ºä¸Šæ¥è¯´åº”è¯¥æ˜¯anyå¿«ã€‚ 1234567def minDeletionSize(self, A: 'List[str]') -&gt; 'int': ans = 0 for col in zip(*A): # if any(col[i]&gt;col[i+1] for i in range(len(col)-1)): if sorted(col) != list(col): ans += 1 return ans 55. Jump Gameè·³è·ƒæ¸¸æˆï¼Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è¡¨ç¤ºä¸‹ä¸€æ­¥çš„è·ç¦»ï¼Œé—®æ˜¯å¦èƒ½è·³åˆ°æœ€åŽç´¢å¼•ä½ç½®ã€‚åŽŸé¢˜123Input: [2,3,1,1,4]Output: trueExplanation: Jump 1 step from index 0 to 1, then 3 steps to the last index. æ–¹æ³•ä¸€ï¼šè´ªå¿ƒã€‚ 123456def canJump(self, nums: List[int]) -&gt; bool: last_pos = len(nums) - 1 for i in range(len(nums)-1, -1, -1): if i + nums[i] &gt;= last_pos: last_pos = i return last_pos == 0 1005. Maximize Sum Of Array After K NegationsKæ¬¡å–è´ŸåŽçš„æ•°ç»„æœ€å¤§å’Œã€‚åŽŸé¢˜123Input: A = [3,-1,0,2], K = 3Output: 6Explanation: Choose indices (1, 2, 2) and A becomes [3,1,0,2]. æ–¹æ³•ä¸€ï¼šç«žèµ›çš„æ—¶å€™ï¼Œå†™å¾—æ¯”è¾ƒéº»çƒ¦ï¼Œåˆ†äº†ä¸¤ä¸ªæ•°ç»„ï¼Œè¿˜è€ƒè™‘äº†0ï¼ŒåŽæ¥çœ‹leeç¥žçš„æ•´ç†ä¸€ä¸‹ã€‚æ³¨æ„æœ€åŽä¸€æ­¥è¦ç”¨ä¸€ä¸‹minï¼Œå¦åˆ™èŽ·å–ä¸äº†æœ€å°å€¼ã€‚ 1234567def largestSumAfterKNegations(self, A: List[int], K: int) -&gt; int: A.sort() i = 0 while i&lt;len(A) and i&lt;K and A[i]&lt;0: A[i] = -A[i] i += 1 return sum(A) - (K-i)%2*min(A)*2]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Greedy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°ä¸€æ¬¡æ·˜å®æŽ¥å£signç­¾åç ´è§£]]></title>
    <url>%2F%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B7%98%E5%AE%9D%E6%8E%A5%E5%8F%A3sign%E7%AD%BE%E5%90%8D%E7%A0%B4%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æ·˜å®H5é¡µé¢æŽ¥å£Signç­¾åç ´è§£å‰è¨€ï¼šç”±äºŽå…¬å¸ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æ˜¾ç¤ºæ·˜å®å•†å“è¯¦æƒ…é¡µé¢çš„å›¾æ–‡è¯¦æƒ…éƒ¨åˆ†ã€‚ä¹‹å‰åŽŸä¸šåŠ¡é€»è¾‘æ˜¯æ ¹æ®https://world.taobao.com/item/{num_iid}.htmï¼Œåœ¨å¾—åˆ°htmlæ–‡æœ¬åŽå…¨é‡é€šè¿‡å›¾ç‰‡å‰ç¼€åå¦‚https://img.alicdn.com/imgextraè¿›è¡ŒæŠ“å–ï¼Œè¿”å›žç»™å®¢æˆ·ç«¯ã€‚ ç”±äºŽheaderä¸­çš„UAä¼ çš„ä¸€ä¸ªPCç«¯çš„UAï¼Œæ‰€ä»¥èŽ·å–çš„H5æ•°æ®ä¸­ï¼Œå¯èƒ½å«æœ‰ä¸€äº›å¹¿å‘Šï¼Œå•†å®¶ä¹‹ç±»è‡ªå·±çš„å¸ƒå±€ï¼Œä»Žè€Œæ— æ³•åœ¨å®¢æˆ·ç«¯æ­£å¸¸å±•ç¤ºã€‚å¦ä¸€æ–¹é¢ï¼Œè¯¥æŽ¥å£ä¸ºé«˜é¢‘æŽ¥å£ï¼Œæ‰“å¼€htmé¡µé¢æ¯æ¬¡è€—æ—¶70~80%ï¼Œä¸¥é‡å½±å“å®¢æˆ·ç«¯ä½“éªŒï¼Œæ‰€ä»¥å¯¹æ­¤å°†æŽ¥å£è¿›è¡Œå‡çº§ã€‚ åŽæ¥å‘çŽ°æ‰‹æœºä¸Šæ‰“å¼€è¯¥é¡µé¢æ˜¯ä¸æ˜¾ç¤ºä¸€äº›æ— å…³çš„å¹¿å‘Šçš„ï¼Œè€Œä¸”å¸ƒå±€ä¹Ÿæ­£å¸¸ã€‚äºŽæ˜¯å°†UAæ”¹ä¸ºäº†æ‰‹æœºç«¯çš„UAï¼Œç„¶åŽé€šè¿‡æŠ“åŒ…åˆ†æžï¼Œè¿”å›žçš„é¡µé¢æ˜¯ä¸€ä¸ªä¸åŒ…å«å›¾ç‰‡çš„htmlï¼Œå›¾æ–‡è¯¦æƒ…æ˜¯æ ¹æ®jsæŽ¥å£è°ƒç”¨åŠ¨æ€æ¸²æŸ“ã€‚æŽ¥å£ä¸ºhttps://h5api.m.taobao.com/h5/mtop.wdetail.getitemdescx/4.9/?jsv=2.4.11&amp;appKey=12574478&amp;t=1544165283634&amp;sign=c691925755f2ff429c950f7b00903a23&amp;api=mtop.wdetail.getItemDescx&amp;v=4.9&amp;type=jsonp&amp;dataType=jsonp&amp;callback=mtopjsonp6&amp;data=%7B%22item_num_id%22%3A%22554401452734%22%7Dã€‚çœ‹åˆ°å‚æ•°ä¸­åŒ…å«äº†signï¼Œæ‰€ä»¥æ˜¯æ ¹æ®æŸç§è§„åˆ™ç®—å‡ºæ¥çš„ç­¾åã€‚ æŽ¥ç€å°±æ˜¯æ‰¾åˆ°signçš„ç­¾åç®—æ³•äº†ï¼Œå°†é¡µé¢ä¸­çš„jsæ ¼å¼åŒ–äº†ä¸€ä¸‹ã€‚æ‰¾åˆ°å…³äºŽsignç­¾åçš„éƒ¨åˆ†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107s.prototype.__processRequestUrl = function(n) &#123; &#123;var e = this.params, r = this.options; if (r.hostSetting &amp;&amp; r.hostSetting[t.location.hostname]) &#123; var o = r.hostSetting[t.location.hostname]; o.prefix &amp;&amp; (r.prefix = o.prefix), o.subDomain &amp;&amp; (r.subDomain = o.subDomain), o.mainDomain &amp;&amp; (r.mainDomain = o.mainDomain) &#125; if (!0 === r.H5Request) &#123; var i = "//" + (r.prefix ? r.prefix + ".": "") + (r.subDomain ? r.subDomain + ".": "") + r.mainDomain + "/h5/" + e.api.toLowerCase() + "/" + e.v.toLowerCase() + "/", a = e.appKey || ("waptest" === r.subDomain ? "4272": "12574478"), c = (new Date).getTime(), u = function(t) &#123; function n(t, n) &#123; return t &lt;&lt; n | t &gt;&gt;&gt; 32 - n &#125; function e(t, n) &#123; var e, r, o, i, a; return o = 2147483648 &amp; t, i = 2147483648 &amp; n, a = (1073741823 &amp; t) + (1073741823 &amp; n), (e = 1073741824 &amp; t) &amp; (r = 1073741824 &amp; n) ? 2147483648 ^ a ^ o ^ i: e | r ? 1073741824 &amp; a ? 3221225472 ^ a ^ o ^ i: 1073741824 ^ a ^ o ^ i: a ^ o ^ i &#125; function r(t, r, o, i, a, c, u) &#123; return e(n(t = e(t, e(e(function(t, n, e) &#123; return t &amp; n | ~t &amp; e &#125; (r, o, i), a), u)), c), r) &#125; function o(t, r, o, i, a, c, u) &#123; return e(n(t = e(t, e(e(function(t, n, e) &#123; return t &amp; e | n &amp; ~e &#125; (r, o, i), a), u)), c), r) &#125; function i(t, r, o, i, a, c, u) &#123; return e(n(t = e(t, e(e(function(t, n, e) &#123; return t ^ n ^ e &#125; (r, o, i), a), u)), c), r) &#125; function a(t, r, o, i, a, c, u) &#123; return e(n(t = e(t, e(e(function(t, n, e) &#123; return n ^ (t | ~e) &#125; (r, o, i), a), u)), c), r) &#125; function c(t) &#123; var n, e = "", r = ""; for (n = 0; 3 &gt;= n; n++) e += (r = "0" + (t &gt;&gt;&gt; 8 * n &amp; 255).toString(16)).substr(r.length - 2, 2); return e &#125; var u, s, f, l, p, d, h, v, m, g; for (g = function(t) &#123; for (var n, e = t.length, r = e + 8, o = 16 * ((r - r % 64) / 64 + 1), i = new Array(o - 1), a = 0, c = 0; e &gt; c;) a = c % 4 * 8, i[n = (c - c % 4) / 4] = i[n] | t.charCodeAt(c) &lt;&lt; a, c++; return a = c % 4 * 8, i[n = (c - c % 4) / 4] = i[n] | 128 &lt;&lt; a, i[o - 2] = e &lt;&lt; 3, i[o - 1] = e &gt;&gt;&gt; 29, i &#125; (t = function(t) &#123; t = t.replace(/\r\n/g, "\n"); for (var n = "", e = 0; e &lt; t.length; e++) &#123; var r = t.charCodeAt(e); 128 &gt; r ? n += String.fromCharCode(r) : r &gt; 127 &amp;&amp; 2048 &gt; r ? (n += String.fromCharCode(r &gt;&gt; 6 | 192), n += String.fromCharCode(63 &amp; r | 128)) : (n += String.fromCharCode(r &gt;&gt; 12 | 224), n += String.fromCharCode(r &gt;&gt; 6 &amp; 63 | 128), n += String.fromCharCode(63 &amp; r | 128)) &#125; return n &#125; (t)), d = 1732584193, h = 4023233417, v = 2562383102, m = 271733878, u = 0; u &lt; g.length; u += 16) s = d, f = h, l = v, p = m, h = a(h = a(h = a(h = a(h = i(h = i(h = i(h = i(h = o(h = o(h = o(h = o(h = r(h = r(h = r(h = r(h, v = r(v, m = r(m, d = r(d, h, v, m, g[u + 0], 7, 3614090360), h, v, g[u + 1], 12, 3905402710), d, h, g[u + 2], 17, 606105819), m, d, g[u + 3], 22, 3250441966), v = r(v, m = r(m, d = r(d, h, v, m, g[u + 4], 7, 4118548399), h, v, g[u + 5], 12, 1200080426), d, h, g[u + 6], 17, 2821735955), m, d, g[u + 7], 22, 4249261313), v = r(v, m = r(m, d = r(d, h, v, m, g[u + 8], 7, 1770035416), h, v, g[u + 9], 12, 2336552879), d, h, g[u + 10], 17, 4294925233), m, d, g[u + 11], 22, 2304563134), v = r(v, m = r(m, d = r(d, h, v, m, g[u + 12], 7, 1804603682), h, v, g[u + 13], 12, 4254626195), d, h, g[u + 14], 17, 2792965006), m, d, g[u + 15], 22, 1236535329), v = o(v, m = o(m, d = o(d, h, v, m, g[u + 1], 5, 4129170786), h, v, g[u + 6], 9, 3225465664), d, h, g[u + 11], 14, 643717713), m, d, g[u + 0], 20, 3921069994), v = o(v, m = o(m, d = o(d, h, v, m, g[u + 5], 5, 3593408605), h, v, g[u + 10], 9, 38016083), d, h, g[u + 15], 14, 3634488961), m, d, g[u + 4], 20, 3889429448), v = o(v, m = o(m, d = o(d, h, v, m, g[u + 9], 5, 568446438), h, v, g[u + 14], 9, 3275163606), d, h, g[u + 3], 14, 4107603335), m, d, g[u + 8], 20, 1163531501), v = o(v, m = o(m, d = o(d, h, v, m, g[u + 13], 5, 2850285829), h, v, g[u + 2], 9, 4243563512), d, h, g[u + 7], 14, 1735328473), m, d, g[u + 12], 20, 2368359562), v = i(v, m = i(m, d = i(d, h, v, m, g[u + 5], 4, 4294588738), h, v, g[u + 8], 11, 2272392833), d, h, g[u + 11], 16, 1839030562), m, d, g[u + 14], 23, 4259657740), v = i(v, m = i(m, d = i(d, h, v, m, g[u + 1], 4, 2763975236), h, v, g[u + 4], 11, 1272893353), d, h, g[u + 7], 16, 4139469664), m, d, g[u + 10], 23, 3200236656), v = i(v, m = i(m, d = i(d, h, v, m, g[u + 13], 4, 681279174), h, v, g[u + 0], 11, 3936430074), d, h, g[u + 3], 16, 3572445317), m, d, g[u + 6], 23, 76029189), v = i(v, m = i(m, d = i(d, h, v, m, g[u + 9], 4, 3654602809), h, v, g[u + 12], 11, 3873151461), d, h, g[u + 15], 16, 530742520), m, d, g[u + 2], 23, 3299628645), v = a(v, m = a(m, d = a(d, h, v, m, g[u + 0], 6, 4096336452), h, v, g[u + 7], 10, 1126891415), d, h, g[u + 14], 15, 2878612391), m, d, g[u + 5], 21, 4237533241), v = a(v, m = a(m, d = a(d, h, v, m, g[u + 12], 6, 1700485571), h, v, g[u + 3], 10, 2399980690), d, h, g[u + 10], 15, 4293915773), m, d, g[u + 1], 21, 2240044497), v = a(v, m = a(m, d = a(d, h, v, m, g[u + 8], 6, 1873313359), h, v, g[u + 15], 10, 4264355552), d, h, g[u + 6], 15, 2734768916), m, d, g[u + 13], 21, 1309151649), v = a(v, m = a(m, d = a(d, h, v, m, g[u + 4], 6, 4149444226), h, v, g[u + 11], 10, 3174756917), d, h, g[u + 2], 15, 718787259), m, d, g[u + 9], 21, 3951481745), d = e(d, s), h = e(h, f), v = e(v, l), m = e(m, p); return (c(d) + c(h) + c(v) + c(m)).toLowerCase() &#125; (r.token + "&amp;" + c + "&amp;" + a + "&amp;" + e.data), s = &#123; jsv: "2.4.11", appKey: a, t: c, sign: u &#125;, f = &#123; data: e.data, ua: e.ua &#125;; Object.keys(e).forEach(function(t) &#123; "undefined" == typeof s[t] &amp;&amp; "undefined" == typeof f[t] &amp;&amp; "headers" !== t &amp;&amp; "ext_headers" !== t &amp;&amp; "ext_querys" !== t &amp;&amp; (s[t] = e[t]) &#125;), e.ext_querys &amp;&amp; Object.keys(e.ext_querys).forEach(function(t) &#123; s[t] = e.ext_querys[t] &#125;), r.getJSONP ? s.type = "jsonp": r.getOriginalJSONP ? s.type = "originaljsonp": (r.getJSON || r.postJSON) &amp;&amp; (s.type = "originaljson"), "undefined" != typeof e.valueType &amp;&amp; ("original" === e.valueType ? r.getJSONP || r.getOriginalJSONP ? s.type = "originaljsonp": (r.getJSON || r.postJSON) &amp;&amp; (s.type = "originaljson") : "string" === e.valueType &amp;&amp; (r.getJSONP || r.getOriginalJSONP ? s.type = "jsonp": (r.getJSON || r.postJSON) &amp;&amp; (s.type = "json"))), !0 === r.useJsonpResultType &amp;&amp; "originaljson" === s.type &amp;&amp; delete s.type, r.dangerouslySetProtocol &amp;&amp; (i = r.dangerouslySetProtocol + ":" + i), r.querystring = s, r.postdata = f, r.path = i &#125; n()&#125;,&#125; çœ‹åˆ°è¿™é‡Œåº”è¯¥æ˜¯ä¸€ä¸ªåŠ å¯†åŽçš„jsï¼ŒåŽæ¥æ‰¾åˆ°ä¸€ç¯‡æ–‡ç« ã€‚æ·˜å®signåŠ å¯†ç®—æ³•ã€‚æ ¹æ®æŠ“åŒ…çš„å‚æ•°ï¼ŒæŒ‰ç…§å…¬å¼æ¥è®¡ç®—signï¼ŒéªŒè¯ç®—æ³•æ˜¯å¦æ­£ç¡®ã€‚å¯èƒ½ç”±äºŽæ—¶é—´æˆ³æ²¡æœ‰å–æ•´ï¼Œæˆ–è€…ä¸€äº›å…¶ä»–çš„åŽŸå› å¦‚ç¼–ç é—®é¢˜ç­‰ï¼Œå¯¼è‡´signçš„å€¼æ²¡æœ‰å’Œæ­£ç¡®å€¼å¯¹ä¸Šï¼Œåˆçœ‹åˆ°æ–‡ä¸­è´´çš„ä»£ç æ¯”æˆ‘æ‰¾åˆ°çš„jsæ›´åŠ ç®€å•ï¼Œä»¥ä¸ºæ·˜å®æ›´æ–°äº†ç®—æ³•ã€‚å†åŽæ¥ä¸€ä½çŸ¥å‹æç¤ºè¯´ç®—æ³•æ²¡æœ‰é—®é¢˜ï¼Œï¼ˆåœ¨æ­¤ç‰¹åˆ«æ„Ÿè°¢çŸ¥å‹JahoåŠæ–‡ç« ä½œè€…å°æ­ªï¼‰æ‰åˆæŠ“åŒ…è¯•äº†ä¸€æ¬¡ï¼Œè¿™æ¬¡å°†æ¯«ç§’æ—¶é—´æˆ³è½¬ä¸ºäº†intï¼Œå¹¶å°†å­—ç¬¦ä¸²è¿›è¡Œutf8ç¼–ç ï¼Œç®—å‡ºæ¥çš„signå€¼å’ŒæŠ“åŒ…ä¸­çš„åŒ¹é…ã€‚åŽæ¥è¯å®žé€šè¿‡jsæ–­ç‚¹è°ƒè¯•ä¹Ÿå¯ä»¥éªŒè¯å…¬å¼çš„æ­£ç¡®æ€§ã€‚signç”Ÿæˆå…¬å¼ä¸ºï¼šmd5Hex(token&amp;t&amp;appKey&amp;data)tè¡¨ç¤ºæ¯«ç§’æ—¶é—´æˆ³ï¼ŒappKeyä¸€èˆ¬ä¸ºå›ºå®šå€¼ã€‚dataä¸ºå‚æ•°ã€‚æœ¬æ–‡ä¸­çš„ä¾‹å­ä¸º6b2310e47a950f1c8c3fe6ec792f356a&amp;1544165283634&amp;12574478&amp;{&quot;item_num_id&quot;:&quot;554401452734&quot;}å†è¿›è¡Œmd5è½¬æ¢ã€‚ çŸ¥é“äº†signç®—æ³•ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯tokençš„èŽ·å–ï¼Œæ ¹æ®çŸ¥ä¹Žæ–‡ä¸­ä½œè€…æ‰€è¯´ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ˜¯ä¼šè®¾ç½®cookieï¼ŒäºŽæ˜¯ä½¿ç”¨Postmanæ¸…ç†cookieåŽè¯·æ±‚ï¼Œæ­¤æ—¶signçš„å€¼ä¼ ä»»ä½•å€¼å‡æ— å½±å“ï¼ŒæŽ¥å£ä¼šè¿”å›ž 123456mtopjsonp2(&#123; "api": "mtop.wdetail.getItemDescx", "v": "4.9", "ret": ["FAIL_SYS_TOKEN_EXOIRED::ä»¤ç‰Œè¿‡æœŸ"], "data": &#123;&#125;&#125;) å¹¶è®¾ç½®ä¸¤ä¸ªcookieï¼Œä¸€ä¸ªæ˜¯_m_h5_tkå€¼ä¸º6b2310e47a950f1c8c3fe6ec792f356a_1544173923544ï¼Œå¦ä¸€ä¸ªæ˜¯_m_h5_tk_encï¼Œè¿™ä¸ªç›®å‰ç”¨ä¸åˆ°ï¼Œæˆ‘ä»¬è¦çš„tokenå°±æ˜¯å‰è€…_åˆ†å‰²çš„å‰éƒ¨åˆ†ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸¤æ¬¡æŽ¥å£ï¼Œç¬¬ä¸€æ¬¡æ‹¿åˆ°tokenï¼Œç¬¬äºŒæ¬¡è¯·æ±‚æ‹¿åˆ°æ•°æ®ã€‚ 123456789101112131415161718192021222324252627282930313233343536&#123; "api": "mtop.wdetail.getItemDescx", "data": &#123; "pages": [ "&lt;txt&gt;ç‰¹åˆ«æé†’ï¼šæ­¤æ¬¾æ”¶çº³ç®±å°ºå¯¸æµ‹é‡æ–¹æ³•ï¼šï¼ˆç›–ä¸Šç›–å­æµ‹é‡é•¿å®½é«˜ï¼‰é•¿åº¦=ç›–å­+æŠŠæ‰‹ã€‚æ‰‹å·¥é‡çš„ï¼Œç¨è®¸è¯¯å·®ï¼Œè°¢è°¢è°…è§£ï¼ æ³¨æ„ï¼šä¸è¦æŠŠæœ¬åº—çš„Læ•°è·Ÿè¶…å¸‚çš„æ¯”è¾ƒï¼Œæœ¬åº—çš„Læ•°æ˜¯ç½‘ä¸Šç¬¼ç»Ÿçš„å«æ³•ï¼Œä»¥ç®±å­å®žé™…å°ºå¯¸ä¸ºä¸»ï¼Œä»‹æ„çš„äº²è¯·å‹¿æ‹ï¼å»ºè®®ï¼šåº—é•¿æŽ¨èæ‹å¥—è£…å‡ ä¸ªå¥—åœ¨ä¸€èµ· å¯ä»¥æŠ—æ‘” ã€‚ã€‚10Lä¸å»ºè®®è´­ä¹°åªèƒ½è£…ä¸€äº›å°ä¸œè¥¿äººå·¥æµ‹é‡ä¼šæœ‰2cmå·¦å³è¯¯å·®å±žäºŽæ­£å¸¸çŽ°è±¡æ¸©é¦¨æé†’ï¼šå¡‘æ–™å±žäºŽæ˜“ç¢Žå“ï¼Œä¸ºäº†å…åŽ»äº²çš„éº»çƒ¦ï¼Œè¯·äº²åœ¨æ”¶è´§æ—¶å…ˆæ‹†å¼€æ£€æŸ¥åŽåœ¨ç­¾æ”¶ï¼Œå¦‚æœ‰ç ´æŸè¯·ç›´æŽ¥æ‹’æ”¶&lt;/txt&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2kQKqbgsSMeJjSspcXXXjFXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2UkPszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2dJSBzstnpuFjSZFKXXalFFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2U3i5zxxmpuFjSZFNXXXrRXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB22qfEzr4npuFjSZFmXXXl4FXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2_8HcvbJkpuFjy1zcXXa5FFXa_!!2651141793.jpg&lt;/img&gt;", "&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2f7YszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2B600zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2C.HmvgFkpuFjSspnXXb4qFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB25AYszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2Tt1BzstnpuFjSZFKXXalFFXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB2FNPgvgxlpuFjSszbXXcSVpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB26j40zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2uDGozCVmpuFjSZFFXXcZApXa_!!2651141793.jpg&lt;/img&gt;", "&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB2Bx9ntxRDOuFjSZFzXXcIipXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2nSblvm0jpuFjy0FlXXc0bpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i2/2651141793/TB2wtaQvbXlpuFjSszfXXcSGXXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i4/2651141793/TB2k1vfvl4lpuFjy1zjXXcAKpXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i1/2651141793/TB26HbQvbFkpuFjy1XcXXclapXa_!!2651141793.jpg&lt;/img&gt;&lt;img&gt;https://img.alicdn.com/imgextra/i3/2651141793/TB24miYzypnpuFjSZFIXXXh2VXa_!!2651141793.jpg&lt;/img&gt;&lt;txt&gt;.................welcome20160618152824&lt;/txt&gt;" ], "images": [ "https://img.alicdn.com/imgextra/i3/2651141793/TB2kQKqbgsSMeJjSspcXXXjFXXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i1/2651141793/TB2UkPszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB2dJSBzstnpuFjSZFKXXalFFXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i4/2651141793/TB2U3i5zxxmpuFjSZFNXXXrRXXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i1/2651141793/TB22qfEzr4npuFjSZFmXXXl4FXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i2/2651141793/TB2_8HcvbJkpuFjy1zcXXa5FFXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i1/2651141793/TB2f7YszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB2B600zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i4/2651141793/TB2C.HmvgFkpuFjSspnXXb4qFXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB25AYszC8mpuFjSZFMXXaxpVXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB2Tt1BzstnpuFjSZFKXXalFFXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB2FNPgvgxlpuFjSszbXXcSVpXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i2/2651141793/TB26j40zrBnpuFjSZFGXXX51pXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i4/2651141793/TB2uDGozCVmpuFjSZFFXXcZApXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i1/2651141793/TB2Bx9ntxRDOuFjSZFzXXcIipXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i2/2651141793/TB2nSblvm0jpuFjy0FlXXc0bpXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i2/2651141793/TB2wtaQvbXlpuFjSszfXXcSGXXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i4/2651141793/TB2k1vfvl4lpuFjy1zjXXcAKpXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i1/2651141793/TB26HbQvbFkpuFjy1XcXXclapXa_!!2651141793.jpg", "https://img.alicdn.com/imgextra/i3/2651141793/TB24miYzypnpuFjSZFIXXXh2VXa_!!2651141793.jpg" ] &#125;, "ret": [ "SUCCESS::æŽ¥å£è°ƒç”¨æˆåŠŸ" ], "v": "4.9"&#125; å…¶ä¸­çš„imagesæ•°ç»„å°±æ˜¯æˆ‘æƒ³è¦çš„æ•°æ®ï¼Œè¿™é‡Œè¿”å›žå€¼ä¸æ˜¯æ ‡å‡†çš„jsonï¼Œå¥—äº†ä¸€å±‚mtopjsonp2({JSON})ï¼ŒäºŽæ˜¯èŽ·å–ç»“æžœåŽè¿˜è¦æ ¹æ®æ­£åˆ™æˆªå–ä¸€ä¸‹jsonçš„æ–‡æœ¬ã€‚ é™„ä¸Šéƒ¨åˆ†ç›¸å…³ä»£ç ï¼Œpythonç‰ˆæœ¬ 123456789101112131415161718192021222324252627282930313233343536def get_images_from_mtop(num_iid): APPKEY = '12574478' DATA = '&#123;"item_num_id":"%s"&#125;' % num_iid URL = 'https://h5api.m.taobao.com/h5/mtop.wdetail.getitemdescx/4.9/' params = &#123;'jsv': '2.4.11', 'appKey': APPKEY, 't': int(time.time()*1000), 'sign': 'FAKE_SIGN_WITH_ANYTHING', 'api': 'mtop.wdetail.getItemDescx', 'v': '4.9', 'type': 'jsonp', 'dataType': 'jsonp', 'callback': 'mtopjsonp2', 'data': DATA&#125; headers = &#123; 'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_4 like Mac OS X) AppleWebKit/601.1.46 ' + \ '(KHTML, like Gecko) Version/9.0 Mobile/13G35 Safari/601.1', &#125; images = [] try: # get token in first request r1 = requests.get(URL, params=params, headers=headers) token_with_time = r1.cookies.get('_m_h5_tk') token = token_with_time.split('_')[0] enc_token = r1.cookies.get('_m_h5_tk_enc') logger.debug(r1.cookies) # get results in second request t2 = str(int(time.time() * 1000)) c = '&amp;'.join([token, t2, APPKEY, DATA]) m = hashlib.md5() m.update(c.encode('utf-8')) params.update(&#123;'t': t2, 'sign': m.hexdigest()&#125;) cookies = &#123;'_m_h5_tk': token_with_time, '_m_h5_tk_enc': enc_token&#125; r2 = requests.get(URL, params=params, headers=headers, cookies=cookies) logger.debug(r2.text) json_text = re.match(r'(.*\()(.*)(\))', r2.text).group(2) images = dict(json.loads(json_text))['data']['images'] except Exception as e: logger.warning(e) finally: return images å¯ä»¥çœ‹åˆ°ï¼ŒæŽ¥å£å“åº”æ—¶é—´æœ‰äº†å¤§å¹…åº¦æå‡ã€‚]]></content>
      <categories>
        <category>é€†å‘å·¥ç¨‹</category>
      </categories>
      <tags>
        <tag>Signç­¾å</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ŠWeb API çš„è®¾è®¡ä¸Žå¼€å‘ã€‹è¯»åŽæ€»ç»“]]></title>
    <url>%2F%E3%80%8AWeb-API-%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%BC%80%E5%8F%91%E3%80%8B%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[å‰è¨€æ­¤ä¹¦ä¸º[æ—¥]æ°´é‡Žè´µæ˜Žè‘—ï¼Œä¹‹å‰å·²ç»é€šè¯»äº†ä¸€éï¼Œæ”¶èŽ·ä¸å°‘ï¼Œä¸ºäº†å¤ä¹ ä¸Žæ€»ç»“ï¼Œè¿™é‡Œä¾¿æ•´ç†ä¸€ä»½ç¬”è®°ï¼Œä»¥ä¾¿å¿˜è®°çš„æ—¶å€™æŸ¥æ‰¾ã€‚ ç¬¬ä¸€ç« ï¼šä»€ä¹ˆæ˜¯Web APIRESTä¸ŽWeb APIRESTä¸€è¯ç»å¸¸ä»¥â€REST APIâ€çš„å½¢å¼å‡ºçŽ°ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œäººä»¬è®¤ä¸ºå®ƒæ˜¯æŒ‡â€èƒ½å¤Ÿé€šè¿‡HTTPåè®®è¿›è¡Œè®¿é—®ï¼Œå¾—åˆ°XMLæˆ–JSONæ ¼å¼çš„è¿”å›žæ•°æ®çš„APIâ€ã€‚è€ŒRESTä¸€è¯ä¸€èˆ¬æ˜¯æœ‰ä¸¤ç§æ„æ€ï¼š ç¬¦åˆRESTæž¶æž„é£Žæ ¼çš„WebæœåŠ¡ç³»ç»Ÿã€‚ ç¬¦åˆRPCé£Žæ ¼çš„XML(or JSON)+HTTPæŽ¥å£çš„ç³»ç»Ÿï¼ˆä¸é€‚ç”¨SOAPï¼‰ã€‚ ä¹¦ä¸­çš„APIè®¾è®¡æ€æƒ³ä¾§é‡äºŽç¬¬2æ¡ï¼Œæ—¨åœ¨APIæ›´åŠ äº²åˆ‡æ˜“æ‡‚ï¼Œæ¯”å¦‚æœç´¢æ“ä½œæ—¶ï¼Œæ²¡æœ‰åœ¨URIä¸­å¼ºåˆ¶ä½¿ç”¨åè¯ï¼Œè€Œæ˜¯ä½¿ç”¨searchï¼›åœ¨URIä¸­æ·»åŠ ç‰ˆæœ¬å·ï¼Œè€Œä¸æ˜¯Headerä¸­ã€‚ LSUD vs SSKD LSUD(Large Set of Unknown Developers) SSKD(Small Set of Known Developers)ï¼Œæœ‰æ—¶ä½¿ç”¨RESTè¿™ç§åŸºäºŽèµ„æºçš„æ€ç»´æ–¹å¼ä¸èƒ½å®Œå…¨æ»¡è¶³éœ€æ±‚ï¼Œè¿˜éœ€è¦å¼•å…¥ç­–ç•¥ç¼–æŽ’å±‚è¿™æ ·çš„æ€ç»´æ–¹å¼ã€‚ ç¬¬äºŒç« ï¼šç«¯ç‚¹çš„è®¾è®¡ä¸Žè¯·æ±‚çš„å½¢å¼ç«¯ç‚¹çš„æ¦‚å¿µï¼šåœ¨Web APIçš„è¯­å¢ƒé‡Œï¼Œç«¯ç‚¹æ˜¯æŒ‡ç”¨äºŽè®¿é—®çš„APIçš„URIã€‚ ç«¯ç‚¹çš„è®¾è®¡è§„èŒƒï¼š çŸ­å°ä¾¿äºŽè¾“å…¥ http://api.example.com/service/api/searchä¸å¦‚http://api.example.com/searchï¼Œä¸åº”è¯¥å‡ºçŽ°é‡å¤çš„è¯ï¼Œä¹Ÿä¸åº”è¯¥ä½¿ç”¨serviceè¿™ç§å«ä¹‰è¿‡äºŽå¹¿æ³›çš„è¯ã€‚ äººå¯ä»¥è¯»æ‡‚ ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œç”šè‡³å°†productsç¼©å†™ä¸ºprodï¼Œå³ä½¿æ˜¯SSKDï¼Œä¹Ÿåº”å°½é‡å‡å°‘ç¼©å†™ã€‚ åˆé€‚çš„è¯­ä¹‰ï¼Œä½¿ç”¨åˆé€‚çš„å•è¯ï¼Œæ‹¼å†™é”™è¯¯æ˜¯ä¸åº”è¯¥å‡ºçŽ°çš„ã€‚ ä¸èƒ½å¤§å°å†™æ··ç”¨ ä¿®æ”¹æ–¹ä¾¿ å¦‚/items/12346ï¼Œæ˜Žæ˜¾ä¿®æ”¹12346å°±å¯ä»¥æŸ¥çœ‹å…¶å®ƒå•†å“ä¿¡æ¯ã€‚ ä¸ä¼šæš´éœ²æœåŠ¡ç«¯çš„æž¶æž„ æ¯”å¦‚ï¼Œphpæˆ–jspç»“å°¾ã€‚ è§„åˆ™ç»Ÿä¸€ URIé‡‡ç”¨ä¸€è‡´çš„é£Žæ ¼ HTTPæ–¹æ³•å’Œç«¯ç‚¹URIå’ŒHTTPçš„å…³ç³»å¯ä»¥è®¤ä¸ºæ˜¯æ“ä½œå¯¹è±¡å’Œæ“ä½œæ–¹æ³•çš„å…³ç³»ã€‚å¦‚æžœæŠŠURIå½“åšAPI(HTTP)çš„â€œæ“ä½œå¯¹è±¡=èµ„æºâ€ï¼ŒHTTPæ–¹æ³•åˆ™è¡¨ç¤ºâ€œè¿›è¡Œæ€Žæ ·çš„æ“ä½œâ€ã€‚ GET è¡¨ç¤ºèŽ·å–ä¿¡æ¯ï¼Œæœ€ä¸ºå¸¸ç”¨ã€‚ä¸€èˆ¬ä¸ä¼šä¿®æ”¹å·²æœ‰èµ„æºï¼ˆå·²è¯»/æœªè¯»ï¼Œæœ€åŽè®¿é—®æ—¥æœŸç­‰å±žæ€§å±žäºŽä¾‹å¤–ï¼‰ã€‚ POST ä¸€èˆ¬è®¤ä¸ºPOSTæ–¹æ³•ç”¨äºŽæ›´æ–°ä¿¡æ¯ï¼Œå…¶å®žè¿™æ ·çš„ç†è§£å­˜åœ¨ä¸€äº›åå·®ã€‚POSTæ–¹æ³•çš„åˆè¡·æ˜¯ç”¨äºŽå‘æœåŠ¡å™¨æ³¨å†Œæ–°å»ºçš„èµ„æºã€‚ä¿¡æ¯çš„æ›´æ–°å’Œåˆ é™¤ç­‰æ“ä½œåº”ä½¿ç”¨å…¶ä»–HTTPæ–¹æ³•ã€‚ç”±äºŽHTML4.0çš„è¡¨å•ä¸­methodå±žæ€§åªæ”¯æŒGETå’ŒPOSTä¸¤ç§æ–¹æ³•ï¼Œå› æ­¤ä½¿ç”¨è¡¨å•ä»Žæµè§ˆå™¨æäº¤ä¿¡æ¯æ—¶ï¼Œä»¥åŠæ›´æ–°åˆ é™¤ï¼Œéƒ½ä½¿ç”¨POSTæ–¹æ³•äº†ã€‚è™½ç„¶åœ¨HTML5çš„è‰æ¡ˆä¸­åŠ å…¥äº†è¡¨å•å…è®¸ä½¿ç”¨PUTä»¥åŠDELETEæ–¹æ³•çš„è§„èŒƒï¼Œä½†æœ€ç»ˆè¿˜æ˜¯è®²è¯¥å†…å®¹åˆ é™¤äº†ã€‚ç”±äºŽWeb APIåŸºæœ¬ä¸æ¶‰åŠè¡¨å•é€šè¿‡æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨PUTå’ŒDELETEæ›´å®¹æ˜“ç†è§£ã€‚ PUT å’ŒPOSTæ–¹æ³•ç›¸åŒï¼Œéƒ½å¯ç”¨ä¸Žå¯¹æœåŠ¡ç«¯çš„ä¿¡æ¯è¿›è¡Œæ›´æ–°ï¼Œä½†äºŒè€…URIçš„æŒ‡å®šæ–¹å¼æœ‰æ‰€ä¸åŒã€‚POSTæ–¹æ³•å‘é€çš„æ•°æ®â€œé™„å±žâ€äºŽæŒ‡å®šçš„URIï¼Œé™„å±žè¡¨ç¤ºä»Žå±žURIä¹‹ä¸‹ã€‚ä»¥æ–‡ä»¶ç³»ç»Ÿä¸ºä¾‹ï¼ŒæŠŠæ–‡ä»¶æ”¾å…¥ç›®å½•åŽï¼Œæ–‡ä»¶å°±æˆäº†ç›®å½•çš„é™„å±žéƒ¨åˆ†ã€‚è™½ç„¶HTTPåè®®å®šä¹‰äº†å½“æ‰€æŒ‡å®šçš„èµ„æºä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥é€šè¿‡PUTæ“ä½œå‘é€æ•°æ®ï¼Œç”Ÿæˆå¿ƒå¾—èµ„æºï¼Œä½†Web APIä¸€èˆ¬åªç”¨PUTæ–¹æ³•æ¥æ›´æ–°æ•°æ®ï¼Œè€Œä¸€èˆ¬ä¼šä½¿ç”¨POSTæ¥ç”Ÿæˆæ–°çš„èµ„æºã€‚PUTä¼šç”¨å‘é€çš„æ•°æ®å®Œå…¨æ›¿æ¢åŽŸæœ‰çš„èµ„æºä¿¡æ¯ï¼Œå¦‚æžœåªæ˜¯æ›´æ–°èµ„æºçš„æŸéƒ¨åˆ†æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨PATCHæ–¹æ³•æ¥å®žçŽ°ã€‚ DELETE åˆ é™¤èµ„æºã€‚ PATCH PATCHå’ŒPUTç›¸åŒï¼Œç”¨äºŽæ›´æ–°æŒ‡å®šçš„èµ„æºã€‚åœ¨æ•°æ®é‡è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œä¼šæœ‰æ˜¾è‘—çš„æ•ˆæžœã€‚ X-HTTP-Method-Overrideç”±äºŽHTMLçš„è¡¨å•è§„èŒƒåªæ”¯æŒGETå’ŒPOSTï¼Œæˆ–æ˜¯å…¶å®ƒå¼€å‘å®¢æˆ·ç«¯ä¸­åªèƒ½æœ‰GETå’ŒPOSTã€‚æ‰€ä»¥è¦åˆ©ç”¨POSTæ–¹æ³•å°†çœŸæ­£æƒ³è¦ä½¿ç”¨çš„HTTPæ–¹æ³•ä»¥å…ƒæ•°æ®ä¿¡æ¯çš„å½¢å¼å‘é€ç»™æœåŠ¡å™¨ã€‚æœ‰ä¸¤ç§æ–¹å¼ï¼š é€šè¿‡åä¸ºX-HTTP-Method-Overrideçš„Headeræ¥å®žçŽ°ï¼ŒæŽ¨èä½¿ç”¨ã€‚ 123POST /v1/users/123 HTTP/1.1Host: api.example.comX-HTTP-Method-Override: DELETE é€šè¿‡ä¼ é€’è¡¨å•å‚æ•°_methodæ¥å®žçŽ°ã€‚ user=testuser&amp;_method=PUTä½¿ç”¨application/x-www-form-urlencodedMedia Typeã€‚ è¿™é‡Œçœ‹äº†ä¸€ä¸‹ï¼ŒDjangoæ²¡æœ‰æ”¯æŒè¿™ç§åŠŸèƒ½ï¼Œéœ€è¦è‡ªå·±å†™ä¸­é—´ä»¶æˆ–è€…ä¸‰æ–¹åº“æ¥å®žçŽ°ã€‚django-method-overrideã€‚è€ŒDRFè¿™é‡Œçš„æ–‡æ¡£è¯´ï¼Œåœ¨3.3.0ç‰ˆæœ¬ä¹‹å‰æ˜¯æ”¯æŒçš„ï¼ŒåŽæ¥å°†å…¶ä»Žæ ¸å¿ƒåŠŸèƒ½ä¸­ç§»é™¤ã€‚DRFæ–‡æ¡£ã€‚ åŠ¨æ€ç›¸å…³çš„ç«¯ç‚¹ä¸¾ä¾‹ ç›®çš„ ç«¯ç‚¹ æ–¹æ³• ç¼–è¾‘åŠ¨æ€ä¿¡æ¯ http://api.example.com/v1/updates/:id PUT åˆ é™¤åŠ¨æ€ä¿¡æ¯ http://api.example.com/v1/updates/:id DELETE å‘è¡¨åŠ¨æ€ä¿¡æ¯ http://api.example.com/v1/updates POST èŽ·å–ç‰¹å®šç”¨æˆ·çš„åŠ¨æ€ä¿¡æ¯ http://api.example.com/v1/users/:id/updates GET èŽ·å–å¥½å‹çš„åŠ¨æ€åˆ—è¡¨ http://api.example.com/v1/users/:id/friends/updates GET è®¿é—®èµ„æºçš„ç«¯ç‚¹è®¾è®¡æ³¨æ„äº‹é¡¹ ä½¿ç”¨åè¯çš„å¤æ•°å½¢å¼ æžåŠ›é¿å…ä½¿ç”¨åŠ¨è¯ï¼Œå› ä¸ºHTTPåè®®åŽŸæœ¬å°±æ˜¯ç”¨URIæ¥è¡¨ç¤ºèµ„æºï¼Œç”¨HTTPæ–¹æ³•æ¥è¡¨ç¤ºå¯¹èµ„æºæ‰€è¿›è¡Œçš„æ“ä½œã€‚ æ³¨æ„æ‰€ç”¨çš„å•è¯ å¤šçœ‹å¤§å…¬å¸çš„å¼€æ”¾APIèŒƒä¾‹ï¼ŒæŸ¥é˜…ProgrammableWebï¼Œæ˜Žç™½é‚£äº›å…·æœ‰ç›¸è¿‘æ„ä¹‰çš„å•è¯å“ªä¸ªæ›´åŠ åˆé€‚ã€‚ ä¸é€‚ç”¨ç©ºæ ¼åŠéœ€è¦ç¼–ç çš„å­—ç¬¦ ä½¿ç”¨è¿žæŽ¥ç¬¦-æ¥è¿žæŽ¥å¤šä¸ªå•è¯ ç›¸å¯¹äºŽé©¼å³°å‘å’Œè›‡å½¢æ³•ï¼Œè¿™ç§è„ŠæŸ±æ³•å¯¹äºŽSEOæ›´åŠ å‹å¥½ã€‚ä¸è¿‡åº”å°½é‡é¿å…ä½¿ç”¨å¤šä¸ªå•è¯ï¼Œè€Œæ˜¯ä½¿ç”¨è·¯å¾„åˆ’åˆ†ï¼Œå¦‚popular_usersä¸å¦‚users/popularï¼Œæˆ–è€…å°†ä¸€éƒ¨åˆ†å†…å®¹ä½œä¸ºæŸ¥è¯¢å‚æ•°ï¼Œè®©URIå˜å¾—æ›´çŸ­ã€‚ ç›¸å¯¹ä½ç½®èŽ·å–æ•°æ®å¤§åˆ†é¡µæ—¶æ•ˆçŽ‡ä½Žä¸‹ä½¿ç”¨ç»å¯¹ä½ç½®ï¼Œäº‹å…ˆè®°å½•ä¸‹å½“å‰å·²èŽ·å¾—çš„æ•°æ®é‡Œæœ€åŽä¸€æ¡æ•°æ®çš„IDã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œç„¶åŽå†æŒ‡å®šâ€œè¯¥IDä¹‹å‰çš„æ‰€æœ‰æ•°æ®â€æˆ–â€œè¯¥æ—¶åˆ»ä¹‹å‰çš„æ‰€æœ‰æ•°æ®â€ã€‚ æŸ¥è¯¢å‚æ•°è¿˜æ˜¯ä½¿ç”¨è·¯å¾„ï¼Ÿ æ˜¯å¦æ˜¯è¡¨ç¤ºå”¯ä¸€èµ„æºæ‰€éœ€çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·IDã€‚ æ˜¯å¦å¯ä»¥çœç•¥ï¼Œå¦‚pageç­‰åˆ†é¡µå‚æ•°ï¼Œä¸€èˆ¬éƒ½ä¼šè®¾ç½®é»˜è®¤å€¼ã€‚ ç™»å½•ä¸ŽOAuth2.0ä»€ä¹ˆæ˜¯OAuth?å‡è®¾å¸¦æœ‰ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½çš„åœ¨çº¿æœåŠ¡Aï¼ˆFacebookï¼‰å¯¹å¤–å…¬å¼€äº†APIï¼Œåœ¨çº¿æœåŠ¡Bä¾¿å¯ä»¥ä½¿ç”¨è¿™äº›åœ¨çº¿æœåŠ¡Açš„APIæä¾›çš„å„ç§åŠŸèƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æŸä¸ªå·²åœ¨Facebooké‡Œæ³¨å†Œçš„ç”¨æˆ·éœ€è¦ä½¿ç”¨ä½ çš„åœ¨çº¿æœåŠ¡æ—¶ï¼Œä½ çš„åœ¨çº¿æœåŠ¡å°±å›žå¸Œæœ›è®¿é—®Facebookæ¥ä½¿ç”¨è¯¥ç”¨æˆ·åœ¨Facebookä¸­æ³¨å†Œçš„ä¿¡æ¯ã€‚è¿™æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦å…è®¸ä½ çš„åœ¨çº¿æœåŠ¡ä½¿ç”¨è¯¥ç”¨æˆ·åœ¨Facebooké‡Œæ³¨å†Œçš„ä¿¡æ¯çš„æœºåˆ¶å°±æ˜¯OAuthã€‚ OAuth2.0é‡Œçš„4ä¸­ç±»åž‹çš„äº¤äº’æ¨¡å¼ç”¨äºŽè®¿é—®èµ„æºçš„è®¸å¯ï¼Œç§°ä¸ºGrant Typeã€‚ Grant Type ä½œç”¨ Authorization Code é€‚ç”¨äºŽåœ¨æœåŠ¡ç«¯è¿›è¡Œå¤§é‡å¤„ç†çš„Webåº”ç”¨ Implicit é€‚ç”¨äºŽåªèƒ½æ‰‹æœºåº”ç”¨åŠä½¿ç”¨JavaScriptå®¢æˆ·ç«¯è¿›è¡Œå¤§é‡å¤„ç†çš„åº”ç”¨ Resource Owner Password Credentials é€‚ç”¨äºŽä¸é€‚ç”¨æœåŠ¡ç«¯ï¼ˆç½‘ç«™Bï¼‰çš„åº”ç”¨ Client Credentials é€‚ç”¨äºŽä¸ä»¥ç”¨æˆ·ä¸ºå•ä½æ¥è¿›è¡Œè®¤è¯çš„åº”ç”¨ Resource çš„æ¨¡å¼èƒ½å¤Ÿåº”ç”¨äºŽå…¬å¸å†…éƒ¨æ‰€å¼€å‘çš„å®¢æˆ·ç«¯åº”ç”¨ä¸­ã€‚ SSKDåº”ç”¨å°½é‡å‡å°‘APIè°ƒç”¨æ¬¡æ•°å¦‚é¦–é¡µåŒ…å«â€œäººæ°”å•†å“â€ï¼Œâ€œæŽ¨èå•†å“â€ï¼Œâ€œç”¨æˆ·ä¿¡æ¯â€ç­‰ä¿¡æ¯ï¼Œè¿™æ ·éœ€è¦è®¿é—®ä¸åŒçš„APIï¼Œæ•ˆçŽ‡å¾ˆä½Žï¼Œå› æ­¤å¯ä»¥æŠŠåº”ç”¨ä¸»é¡µæ‰€éœ€è¦çš„æ˜¾ç¤ºä¿¡æ¯å½’é›†åˆ°ä¸€ä¸ªAPIä¸­ï¼Œæé«˜äº†å®¢æˆ·ç«¯çš„ä¾¿æ·æ€§ã€‚ä¸ºäº†å®Œæˆä¸€æ¬¡ä»»åŠ¡éœ€è¦å¤šæ¬¡è®¿é—®APIï¼Œè¿™æ ·çš„APIè®¾è®¡å«â€œChatty APIâ€ï¼Œä¸ä½†ä¼šåŠ å¤§ç½‘ç»œæµé‡çš„æ¶ˆè€—ï¼Œè¿˜ä¼šå¢žåŠ å®¢æˆ·ç«¯çš„å¤„ç†å·¥åºã€‚ HETEOASå’ŒREST LEVEL3 APIç­‰çº§åˆ¶åº¦ LEVEL0ï¼šä½¿ç”¨HTTP LEVEL1ï¼šå¼•å…¥èµ„æºæ¦‚å¿µ LEVEL2ï¼šå¼•å…¥HTTPåŠ¨è¯ LEVEL3ï¼šå¼•å…¥HATEOASæ¦‚å¿µ HETEOAS: (Hypermedia As The Engine Of Application State)ï¼Œè¶…åª’ä½“å³åº”ç”¨çŠ¶æ€å¼•æ“Žã€‚æ„æ€å°±æ˜¯åœ¨APIè¿”å›žçš„æ•°æ®ä¸­åŒ…å«ä¸‹ä¸€æ­¥è¦æ‰§è¡Œçš„è¡Œä¸ºã€è¦èŽ·å–çš„æ•°æ®ç­‰URIçš„é“¾æŽ¥ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯åªè¦çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œå°±èƒ½çŸ¥é“æŽ¥ä¸‹æ¥éœ€è¦è®¿é—®ä»€ä¹ˆç«¯ç‚¹ï¼Œæ¯”å¦‚DRFä¸­çš„ä¸‹ä¸€é¡µé“¾æŽ¥ã€‚ ä¼˜ç‚¹ï¼šä½¿URIå¾—æ›´æ”¹å˜å¾—å®¹æ˜“ã€‚ é¢å‘SSKDsçš„APIï¼Œéœ€è¦æ ¹æ®å®žé™…éœ€æ±‚é‡‡ç”¨ã€‚é¢å‘LSUDsçš„APIï¼Œè¿™ä¸ªæ¦‚å¿µè¿˜æ²¡æœ‰å¾—åˆ°å¹¿æ³›çš„æ™®åŠã€‚ ç¬¬ä¸‰ç« ï¼šå“åº”æ•°æ®çš„è®¾è®¡JSONPæ¦‚å¿µJSONPæ˜¯ä¸€ç§å°†JSONä¼ é€’ç»™æµè§ˆå™¨çš„æ–¹å¼ï¼Œæ˜¯JSON with Paddingçš„ç¼©å†™ã€‚ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š callback({&quot;id&quot;: 123, &quot;name&quot;: &quot;Saeed&quot;}) ç•™å‘â€¦ å°è£…æ˜¯å¦å¿…è¦æ¯”å¦‚è¿”å›žçš„æ ¼å¼ä¸ºï¼š 123456789&#123; "meta": &#123; "code": 0, "message": 'OK', &#125;, "data": &#123; ... &#125;&#125; å¦‚æžœç»“æž„å½¢å¼ç»Ÿä¸€ï¼Œåœ¨å®¢æˆ·ç«¯å°±æ›´å®¹æ˜“æŠ½è±¡åŒ–å¤„ç†ã€‚å®žé™…ä¸Šç”±äºŽå°è£…çš„åšæ³•ä¼šæ˜¾å¾—å†—é•¿ï¼Œå¹¶ä¸å€¼å¾—å®žçŽ°ã€‚å› ä¸ºWeb APIåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨HTTPåè®®ï¼ŒHTTPå·²ç»å¸®ä½ å®Œæˆäº†å°è£…çš„å·¥ä½œã€‚HTTPåè®®é‡Œå¼•å…¥é¦–éƒ¨çš„æ¦‚å¿µï¼Œåœ¨é¦–éƒ¨ä¸­å¯ä»¥æ”¾å…¥å„ç§æ•°æ®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡çŠ¶æ€ç æ¥ç¡®è®¤æ— è¯¯åœ°åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æŸç§é”™è¯¯ç­‰ï¼Œå¹¶å°†æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯æ”¾å…¥HTTPé¦–éƒ¨è¿”å›žã€‚è€Œå¦‚æžœå¯¹APIæ•°æ®è¿›è¡Œå°è£…ï¼Œå‘ç”Ÿé”™è¯¯æ—¶ï¼Œç”¨æˆ·æ‰€èŽ·å¾—çš„çŠ¶æ€ä¾ç„¶æ˜¯200ï¼Œè¿™å°±æ— æ³•é€šè¿‡çŠ¶æ€ç æ¥åˆ¤æ–­å¤„ç†æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚è¿™æ ·çš„åšæ³•æ²¡æœ‰æ­£ç¡®åœ°è¿ç”¨å¥½HTTPåè®®çš„æœºåˆ¶ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å®¢æˆ·ç«¯çš„å¤„ç†å‘ç”Ÿæ··ä¹±ï¼Œè¿™ç§æƒ…å†µæ˜¯æ— è®ºå¦‚ä½•éƒ½è¦æ˜Žä»¤ç¦æ­¢çš„ã€‚è€Œä¸”é€šç”¨çš„HTTPå®¢æˆ·ç«¯ç¨‹åºå¾€å¾€ä¼šé¦–å…ˆæ ¹æ®çŠ¶æ€ç æ¥åˆ¤æ–­è¯·æ±‚çš„å¤„ç†æ˜¯å¦æˆåŠŸï¼Œå¦‚æžœå‡ºé”™æ—¶è¿”å›ž200ï¼Œå®¢æˆ·ç«¯å°±æ— æ³•åˆ©ç”¨é€šç”¨çš„é”™è¯¯åˆ†ç±»ï¼Œå¢žåŠ å¤„ç†è´Ÿæ‹…ã€‚ æ‰å¹³åŒ–è¿˜æ˜¯å±‚çº§ï¼ŸGoogleçš„JSON Style Guideä½¿ç”¨äº†æ¨¡æ£±ä¸¤å¯çš„é™ˆè¿°ï¼šâ€œè™½ç„¶è¦å°½å¯èƒ½ä½¿ç”¨æ‰å¹³åŒ–æ–¹å¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨å±‚çº§å½¢å¼åè€Œæ›´å®¹æ˜“ç†è§£ã€‚â€ æƒ…æ™¯ä¸€ï¼š å±‚çº§ 123456789101112&#123; "id": 3342124, "message": "Hi!", "sender": &#123; "id": 3456, "name": "Tom" &#125;, "receiver": &#123; "id": 12877, "name": "Bob" &#125;&#125; æ‰å¹³åŒ– 12345678&#123; "id": 3342124, "message": "Hi!", "sender_id": 3456, "sender_name": "Tom", "receiver_id": 12877, "receiver_name": "Bob"&#125; å…¶ä¸­â€senderâ€å’Œâ€receiverâ€æè¿°äº†ç›¸åŒçš„ç”¨æˆ·è¿™ä¸€æ•°æ®ç»“æž„ï¼Œå› æ­¤å±‚çº§å½¢å¼è¾ƒå¥½ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¯ä»¥å°†å„ä¸ªæ•°æ®ä½œä¸ºç”¨æˆ·è¿™ä¸€ç›¸åŒçš„æ•°æ®æ¥å¤„ç†ã€‚ æƒ…æ™¯äºŒï¼š å±‚çº§ 12345678&#123; "id": 2345, "name": "Tom", "profile": &#123; "birthday": 3322, "gender": "male" &#125;&#125; æ‰å¹³åŒ– 123456&#123; "id": 2345, "name": "Tom", "birthday": 3322, "gender": "male"&#125; è¿™ç§æƒ…å†µï¼Œå±‚çº§å¯¼è‡´JSONæ•°æ®å°ºå¯¸å˜å¤§ï¼Œè€Œä¸”ä¸¤è€…çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥åº”è¯¥æ‰å¹³åŒ–ã€‚ åºåˆ—ä¸Žæ ¼å¼æ¯”å¦‚ä¸€ä¸ªå¥½å‹åˆ—è¡¨çš„URI /friends åºåˆ—åŽŸå°ä¸åŠ¨è¿”å›ž 12345678910[ &#123; "id": 234, "name": "Tom" &#125;, &#123; "id": 235, "name": "Bob" &#125;] ç”¨å¯¹è±¡è¿›è¡Œå°è£… 123456789101112&#123; "friends": [ &#123; "id": 234, "name": "Tom" &#125;, &#123; "id": 235, "name": "Bob" &#125; ]&#125; çœ‹ä¸ŠåŽ»ç¬¬äºŒç§æ–¹å¼æ˜¾å¾—æœ‰äº›å†—ä½™ï¼Œå› ä¸ºURIä¸­å·²ç»ä½¿ç”¨äº†â€friendsâ€æ¥è¡¨ç¤ºå¥½å‹ã€‚è€Œä¸”åˆæ˜¾å¾—å†—é•¿ã€‚ä½†æ˜¯è¿™æ ·å†™æœ‰ä¸‰ä¸ªä¼˜ç‚¹ï¼š æ›´å®¹æ˜“ç†è§£å“åº”æ•°æ®è¡¨ç¤ºä»€ä¹ˆ å“åº”æ•°æ®é€šè¿‡å¯¹è±¡å°è£…å®žçŽ°äº†ç»“æž„ç»Ÿä¸€ é¡¶å±‚æ•°æ®ä¸ä¼šæ ¹æ®APIçš„ä¸åŒè€Œä¸åŒï¼Œå®¢æˆ·ç«¯æ— éœ€é€‚é…åºåˆ—æˆ–æ˜¯å¯¹è±¡ï¼Œå…é™¤éº»çƒ¦ã€‚ å¯ä»¥é¿å…å®‰å…¨æ–¹é¢çš„é£Žé™© é¡¶å±‚æ•°æ®ä¸­ä½¿ç”¨JSONåºåˆ—ï¼Œå¯èƒ½ä¼šå¯¼è‡´åä¸ºJSONæ³¨å…¥çš„å®‰å…¨éšæ‚£ï¼Œé£Žé™©å¾ˆå¤§ã€‚ è¿”å›žæ•°æ®çš„ä¸ªæ•°è¿”å›žæ•°æ®çš„åç§° ä½¿ç”¨å¤šæ•°APIä¸­ä½¿ç”¨çš„è¡¨ç¤ºç›¸åŒå«ä¹‰çš„å•è¯ é€šè¿‡å°½å¯èƒ½å°‘çš„å•è¯æ¥è¡¨ç¤º æ¯”å¦‚æ³¨å†Œæ—¶é—´registrationDateTimeä¸å¦‚registeredAt ä½¿ç”¨å¤šä¸ªå•è¯æ—¶ï¼Œæ•´ä¸ªAPIä¸­è¿žæŽ¥å•è¯çš„æ–¹æ³•è¦ç»Ÿä¸€ ä¸€èˆ¬ä½¿ç”¨é©¼å³°æ³• å°½å¯èƒ½ä¸ç”¨å¥‡æ€ªçš„ç¼©ç•¥è¯­ æ³¨æ„å•å¤æ•°å½¢å¼ æ—¥æœŸçš„æ ¼å¼ æ ¼å¼å ç¤ºä¾‹ RFC 822 Sun, 06 Nov 1994 08:49:37 GMT RFC 850 Sunday, 06-Nov-94 08:49:37 GMT ANSI Cçš„asctime()æ ¼å¼ Sun Nov 6 08:49:37 1994 RFC 3339 2015-10-12T11:30:22+09:00 Unix æ—¶é—´æˆ³ï¼ˆepochï¼‰ç§’ 1396821803 ä¸€èˆ¬é‡‡ç”¨RFC 3339æ ¼å¼ã€‚å¦‚æžœè€ƒè™‘å›½é™…åŒ–äº§å“ï¼Œåˆ™æŽ¨èä½¿ç”¨â€+00:00â€ã€‚åœ¨RFC 3339ä¸­ä½¿ç”¨UTCæ—¶ï¼Œå¯ä»¥é€šè¿‡â€Zâ€æ¥æ ‡è®°ã€‚2015-11-02T13:00:12+00:00 == 2015-11-02T13:00:12Zã€‚å¦‚æžœæ˜¯â€-00:00â€ï¼Œåˆ™è¡¨ç¤ºæ—¶åŒºä¸æ˜Žã€‚ å¦‚æžœé¢å‘SSKDï¼Œä¹Ÿå¯ä½¿ç”¨Unixæ—¶é—´æˆ³ï¼Œå› ä¸ºå…¶æ˜“äºŽä¿å­˜å’Œæ¯”è¾ƒï¼Œä¸è¿‡ä¼šè°ƒè¯•ç¨å¾®éº»çƒ¦ã€‚ æœ‰æ—¶éœ€è¦åœ¨HTTPé¦–éƒ¨æ·»åŠ æ—¶é—´ï¼Œè¿™ä¸ªæ ¼å¼ä¸æ”¯æŒRFC 3339ï¼Œåªæ”¯æŒä¸Šè¡¨ä¸­çš„å‰ä¸‰é¡¹ã€‚ è¯¦ç»†çš„å‡ºé”™ä¿¡æ¯çŠ¶æ€ç å±žäºŽé€šç”¨çš„é”™è¯¯æè¿°ï¼Œåœ¨è¡¨ç¤ºåŒå„ä¸ªAPIçš„å†…å®¹ç›¸å…³çš„é”™è¯¯æ—¶æ˜¾å¾—åŠ›ä¸ä»Žå¿ƒã€‚æ‰€ä»¥è¦è¿”å›žé¢å¤–çš„é”™è¯¯ä¿¡æ¯ã€‚ ä¸€ç§æ˜¯é€šè¿‡é¦–éƒ¨è¿”å›ž 123X-MYNAME-ERROR-CODE: 2013X-MYNAME-ERROR-MESSAGE: Bad authentication tokenX-MYNAME-ERROR-INFO: http://docs.example.com/api/vi/authentication å°†å‡ºé”™ä¿¡æ¯æ”¾å…¥æ¶ˆæ¯ä½“ 1234567&#123; "error": &#123; "code": 2013, "message": "Bad authentication token", "info": "http://docs.example.com/api/vi/authentication" &#125;&#125; å¯¹äºŽå®¢æˆ·ç«¯æ¥è¯´ç¬¬äºŒç§æ¶ˆæ¯ä½“çš„æ–¹æ¡ˆæ¯”è¾ƒå®¹æ˜“å¤„ç†ï¼Œæ‰€ä»¥ä¼˜å…ˆé€‰æ‹©åŽè€…ã€‚é”™è¯¯ç ä¸€èˆ¬4ä½ä¸ŽHTTPçŠ¶æ€ç åŒºåˆ†ï¼Œ1å­—å¤´è¡¨ç¤ºé€šç”¨é”™è¯¯ï¼Œ2å­—å¤´è¡¨ç¤ºç”¨æˆ·é”™è¯¯ç­‰ã€‚æœ‰æ—¶æç¤ºä¿¡æ¯é‡ŒåŒæ—¶åŒ…å«é¢å‘éžå¼€å‘äººå‘˜å’Œå¼€å‘äººå‘˜çš„ä¿¡æ¯ã€‚ 12345678&#123; "error": &#123; "developerMessage": "é¢å‘å¼€å‘äººå‘˜ä¿¡æ¯", "userMessage": "é¢å‘ç”¨æˆ·çš„ä¿¡æ¯", "code": 2013, "info": "http://docs.example.com/api/vi/authentication" &#125;&#125; æœ‰æ—¶ç¨‹åºè¿”å›ž500ã€503æˆ–404ç­‰é”™è¯¯æ—¶ï¼Œé»˜è®¤ä¼šè¿”å›žHTMLæˆ–è€…æ˜¯ContentType: text/plainæ ¼å¼çš„ä¿¡æ¯ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯å´©æºƒç­‰é—®é¢˜ã€‚æ‰€ä»¥å³ä½¿è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯åº”è¯¥åŠªåŠ›ä¿è¯å‘ç”Ÿé”™è¯¯ã€è´Ÿè½½è¿‡é«˜ã€è®¿é—®çš„ç«¯ç‚¹ä¸å­˜åœ¨ç­‰æƒ…å†µä¸‹ä¹Ÿèƒ½ä»¥åˆé€‚çš„æ ¼å¼è¿”å›žæ•°æ®ã€‚ å¦‚æžœæœåŠ¡ç«¯ä¸å¾—å·²è¿›è¡Œç»´æŠ¤è¿”å›ž503çŠ¶æ€ç çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥è¿”å›žRetry-Afteræ¥å‘ŠçŸ¥å®¢æˆ·ç«¯é‡è¯•çš„æ—¶é—´ã€‚ 12503 Service Temporarily UnavailableRetry-After Mon, 2 Dec 2013 03:00:00 GMT éœ€è¦è¿”å›žæ„ä¹‰ä¸æ˜Žç¡®çš„ä¿¡æ¯æ—¶æ¯”å¦‚ç”¨æˆ·åœ¨ç™»å½•æ—¶éœ€è¦è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼Œå¦‚æžœç™»å½•å¤±è´¥ï¼Œè¿”å›žé‚®ç®±ä¸å­˜åœ¨è¿˜æ˜¯è¿”å›žé‚®ç®±å­˜åœ¨ä½†å¯†ç é”™è¯¯ï¼Œè¿˜æ˜¯è¿”å›žç”¨æˆ·å·²å†»ç»“ï¼Ÿè™½ç„¶è¯¦ç»†ä¿¡æ¯å¯¹äºŽç”¨æˆ·è€Œè¨€æ˜¾å¾—éžå¸¸å‹å¥½ï¼Œä½†ä»Žå¦ä¸€æ–¹é¢æ¥è¯´ï¼Œä¹Ÿä¸ºéžæ³•ç™»å½•å’Œçˆ¬è™«æä¾›äº†å‹å¥½çš„ä¿¡æ¯ã€‚æ‰€ä»¥æœåŠ¡ç«¯åœ¨è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬åªæä¾›éžå¸¸å°‘é‡çš„ä¿¡æ¯ï¼Œè®©æ— æ³•æ­£å¸¸ç™»é™†çš„ç”¨æˆ·é€šè¿‡é‡ç½®å¯†ç ç­‰æ‰‹æ®µé‡æ–°ç™»å½•ã€‚ä¸è¿‡è¿™æ ·ä¸å¤ªæ–¹ä¾¿è°ƒè¯•ï¼Œæ‰€ä»¥ä¹Ÿå¯å°†é€»è¾‘åˆ†å¼€ï¼Œåœ¨å¼€å‘æ—¶è¿”å›žè¯¦å°½ä¿¡æ¯ï¼Œç”Ÿäº§çŽ¯å¢ƒè¿”å›žä¸æ˜Žç¡®çš„ä¿¡æ¯ã€‚ ç¬¬å››ç« ï¼šæœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨HTTPåè®®ä½¿ç”¨HTTPåè®®è§„èŒƒçš„æ„ä¹‰HTTPåè®®ç­‰å¾ˆå¤šäº’è”ç½‘åè®®éƒ½æ˜¯ç”±åä¸ºRFCçš„è§„èŒƒæ–‡æ¡£æ¥å®šä¹‰çš„ã€‚ æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç é¦–ä½æ•°å­—å¤§æ¦‚å«ä¹‰ çŠ¶æ€ç  å«ä¹‰ 1å­—å¤´ æ¶ˆæ¯ 2å­—å¤´ æˆåŠŸ 3å­—å¤´ é‡å®šå‘ 4å­—å¤´ å®¢æˆ·ç«¯åŽŸå› å¼•èµ·çš„é”™è¯¯ 5å­—å¤´ æœåŠ¡ç«¯åŽŸå› å¼•èµ·çš„é”™è¯¯ ä¸»è¦çš„HTTPçŠ¶æ€ç  çŠ¶æ€ç  åç§° è¯´æ˜Ž 200 OK è¯·æ±‚æˆåŠŸ 201 Created è¯·æ±‚æˆåŠŸï¼Œæ–°çš„èµ„æºå·²åˆ›å»º 202 Accepted è¯·æ±‚æˆåŠŸ 204 No Content æ²¡æœ‰å†…å®¹ 300 Multiple Choices å­˜åœ¨å¤šä¸ªèµ„æº 301 Moved Permanently èµ„æºè¢«æ°¸ä¹…è½¬ç§» 302 Found è¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶è½¬ç§» 303 See Other å¼•ç”¨ä»–å‡º 304 Not Modified è‡ªä¸Šä¸€æ¬¡è®¿é—®åŽæ²¡æœ‰å‘ç”Ÿæ›´æ–° 307 Temporary Redirect è¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶è½¬ç§» 400 Bad Request è¯·æ±‚ä¸æ­£ç¡® 401 Unauthorized éœ€è¦è®¤è¯ 403 Forbidden ç¦æ­¢è®¿é—® 404 Not Found æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šçš„èµ„æº 405 Method Not Allowed æ— æ³•ä½¿ç”¨æŒ‡å®šçš„æ–¹æ³• 406 Not Acceptable åŒAcceptç›¸å…³çš„é¦–éƒ¨é‡Œå«æœ‰æ— æ³•å¤„ç†çš„å†…å®¹ 408 Request Timeout è¯·æ±‚åœ¨è§„å®šæ—¶é—´å†…æ²¡æœ‰å¤„ç†ç»“æŸ 409 Conflict èµ„æºå­˜åœ¨å†²çª 410 Gone æŒ‡å®šçš„èµ„æºå·²ä¸å­˜åœ¨ 413 Request Entity Too Large è¯·æ±‚æ¶ˆæ¯ä½“å¤ªå¤§ 414 Request-URI Too Long è¯·æ±‚çš„URIå¤ªé•¿ 415 Unsupported Media Type ä¸æ”¯æŒæ‰€æŒ‡å®šçš„åª’ä½“ç±»åž‹ 429 Too Many Requests è¯·æ±‚æ¬¡æ•°è¿‡å¤š 500 Internal Server Error æœåŠ¡å™¨ç«¯å‘ç”Ÿé”™è¯¯ 503 Service Unavailable æœåŠ¡å™¨æš‚æ—¶åœæ­¢è¿è¡Œ çŠ¶æ€ç è¯¦è§£åŠä½¿ç”¨åœºæ™¯ï¼š 2å­—å¤´ æˆåŠŸ 201 â€œCreatedâ€ POSTè¯·æ±‚çš„åœºæ™¯ï¼Œè¡¨ç¤ºåˆ›å»ºäº†ä¸€ä¸ªèµ„æºï¼Œä¸Šä¼ äº†å›¾ç‰‡ï¼Œæˆ–æ˜¯æ·»åŠ äº†ç”¨æˆ·ã€‚ 202 â€œAcceptedâ€ è¡¨ç¤ºâ€œAcceptedâ€ï¼Œåœ¨å¼‚æ­¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºæœåŠ¡å™¨ç«¯å·²æŽ¥æ”¶äº†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†å¤„ç†å°šæœªç»“æŸã€‚ é€šå¸¸çš„ä½¿ç”¨åœºæ™¯æ˜¯æ–‡ä»¶æ ¼å¼è½¬æ¢ã€å¤„ç†è¿œç¨‹é€šçŸ¥è€—æ—¶çš„åœºæ™¯ä¸­ã€‚ ä»¥LinkedInçš„å‚ä¸Žç¾¤ç»„è®¨è®ºçš„APIä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æžœæˆåŠŸå‚ä¸Žè®¨è®ºå¹¶å‘è¡¨æ„è§ï¼ŒæœåŠ¡å™¨é€šå¸¸ä¼šè¿”å›ž201ï¼›ä½†å¦‚æžœéœ€è¦å¾—åˆ° ç¾¤ä¸»ç¡®è®¤ï¼Œæ‰€å‘è¡¨çš„æ„è§å°±æ— æ³•ç«‹å³åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™æ—¶æœåŠ¡å™¨å°±éœ€è¦è¿”å›ž202çŠ¶æ€ç ã€‚ä»Žå¹¿ä¹‰ä¸Šæ¥çœ‹ï¼Œä¹Ÿå±žäºŽå¼‚æ­¥å¤„ç†ï¼Œä½†æ˜¯ä¸Žç¨‹åºé‡Œæ‰€è¯´çš„å¼‚æ­¥ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚ å¦å¤–ï¼Œä½¿ç”¨Boxçš„APIæ¥ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œå¦‚æžœæ–‡ä»¶å°šæœªå‡†å¤‡å¥½ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ž202ï¼Œè¿˜ä¼šåœ¨é¦–éƒ¨ä¸­æ·»åŠ Retry-Afterå†™å…¥å¤„ç†å®Œæˆæ‰€éœ€æ—¶é—´ã€‚ 204 â€œNo Contentâ€ å“åº”æ¶ˆæ¯ä¸ºç©ºæ—¶ä¼šè¿”å›žè¯¥çŠ¶æ€ç ã€‚ ä½¿ç”¨DELETEæ–¹æ³•åˆ é™¤æ•°æ®æ—¶ã€‚ å…³äºŽ204æœ‰ä¸€äº›äº‰è®ºï¼Œè¿™é‡Œç¬”è€…ç»™å‡ºçš„å»ºè®®æ˜¯PUTæˆ–PATCHè¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯è¿”å›ž200å¹¶å°†æ•°æ®åŒæ—¶è¿”å›žï¼Œä½¿ç”¨DELETEè¯·æ±‚æ—¶ï¼Œè¿”å›ž204ã€‚è¿™æ ·ï¼Œæ— è®ºåœ¨ä½•ç§æƒ…å†µä¸‹ï¼Œéƒ½å¯ä»¥ä»ŽæœåŠ¡å™¨ç«¯è¿”å›žçš„æ•°æ®å¾—çŸ¥ä¿®æ”¹æ“ä½œæ­£ç¡®æ‰§è¡Œã€‚ç—…æƒ…ä¹Ÿèƒ½åœ¨PUT/PATCHæ“ä½œåŽåŒæ—¶èŽ·å¾—ETagä¿¡æ¯ã€‚ è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œå®žé™…ä¸šåŠ¡ä¸­æœ‰æ—¶éœ€è¦â€œå‡åˆ é™¤â€ï¼Œæ­¤æ—¶åº”è¯¥è¿”å›ž204è¿˜æ˜¯200ï¼Ÿ 3å­—å¤´ æ·»åŠ å¿…è¦çš„å¤„ç† å¸¸ç”¨æ¥æè¿°é‡å®šå‘æ“ä½œã€‚åœ¨å®šä¹‰äº†HTTP1.1çš„RFC 2068ä¸­ï¼Œç”¨äºŽé‡å®šå‘çš„çŠ¶æ€ç åªæœ‰301å’Œ302ã€‚301è¡¨ç¤ºè¯·æ±‚å†…å®¹å·²ä»Žå½“å‰ä½ç½®ç§»åŠ¨åˆ°äº†å…¶ä»–åœ°æ–¹ï¼Œè€Œ302åˆ™è¡¨ç¤ºè¯·æ±‚å†…å®¹åªæ˜¯ä¸´æ—¶ç§»åŠ¨åˆ°äº†åˆ«å¤„ï¼Œè€Œä¸”ä½¿ç”¨çš„HTTPæ–¹æ³•ä¸ä¼šåœ¨è®¿é—®é‡å®šå‘çš„URIæ—¶å‘ç”Ÿå˜åŒ–ï¼ˆå¦‚ä½¿ç”¨POSTæ–¹æ³•çš„è¯ï¼Œåœ¨é‡å®šå‘åŽä¾ç„¶ä¼šä½¿ç”¨POSTæ–¹æ³•æ¥è®¿é—®é‡å®šå‘çš„åœ°å€ï¼‰ã€‚ä¸è¿‡å¤§éƒ¨åˆ†æµè§ˆå™¨å´é‡‡ç”¨äº†ä¸Žåè®®ç›¸åçš„è®¾è®¡ï¼Œç”¨GETæ–¹æ³•æ¥è®¿é—®é‡å®šå‘åŽçš„åœ°å€ã€‚ç”±äºŽè¿™ä¸ªåŽŸå› ï¼Œåœ¨RFC 2616é‡Œï¼Œäººä»¬åˆæ–°å®šä¹‰äº†303å’Œ307çŠ¶æ€ç ã€‚303å®šä¹‰äº†æ— è®ºåœ¨é‡å®šå‘ä¹‹å‰ä½¿ç”¨ä»€ä¹ˆHTTPæ–¹æ³•è®¿é—®ï¼Œéƒ½å…è®¸åœ¨è¯·æ±‚å®ŒæˆåŽç”¨GETæ–¹æ³•ç»§ç»­è®¿é—®ã€‚å³ä¾¿å¦‚æ­¤ï¼ŒçŽ°åœ¨ä¾ç„¶æœ‰å¾ˆå¤šé‡å®šå‘æ“ä½œä¼šè¿”å›ž302çŠ¶æ€ç ã€‚å¦å¤–RFC 7238é‡Œè¿˜å®šä¹‰äº†308çŠ¶æ€ç ã€‚307å’Œ308è¾“å…¥302å’Œ301çš„ä¿®æ­£ç‰ˆï¼Œå®šä¹‰æ›´åŠ ä¸¥å¯†ã€‚302å’Œ301å…è®¸è®¿é—®æ–¹æ³•ä»ŽPOSTå˜æ›´ä¸ºGETï¼Œ307å’Œ308åˆ™ä¸å…è®¸ä»»ä½•HTTPæ–¹æ³•åœ¨è®¿é—®è¿‡ç¨‹ä¸­å‘ç”Ÿå˜æ›´ã€‚ APIä¸­åº”æžåŠ›é¿å…è¿”å›žé‡å®šå‘ç±»çŠ¶æ€ç ã€‚ 300 â€œMultiple Choicesâ€ å½“æœ‰å¤šä¸ªåˆ†æ”¯å¯ä¾›å®¢æˆ·ç«¯é€‰æ‹©æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›žè¯¥çŠ¶æ€ç ã€‚APIä½¿ç”¨åœºæ™¯å¯èƒ½æ€§å¾ˆä½Žï¼Œåœ¨æ–‡ä»¶å­˜å‚¨ç±»æœåŠ¡é‡Œï¼Œå¯¹äºŽå®¢æˆ·ç«¯è¯·æ±‚çš„æŸä¸ªé”®å€¼ï¼Œå¦‚æžœå­˜åœ¨å¤šä¸ªæ•°æ®åº“ï¼Œæœ‰æ—¶ä¼šè¿”å›žè¯¥çŠ¶æ€ç ã€‚ 304 â€œNot Modifiedâ€ è¡¨ç¤ºå®¢æˆ·ç«¯ä¸Šæ¬¡èŽ·å–çš„æ•°æ®è‡³ä»Šä¸ºæ­¢æ²¡æœ‰å‘ç”Ÿæ›´æ–°ã€‚å½“æœåŠ¡ç«¯è¿”å›ž304æ—¶ï¼Œæ•´ä¸ªå“åº”æ¶ˆæ¯ä½“ä¸ºç©ºã€‚ 4å­—å¤´ å®¢æˆ·ç«¯è¯·æ±‚å‘ç”Ÿé—®é¢˜ æœåŠ¡ç«¯æ— æ³•ç†è§£å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œæˆ–è™½ç„¶æœåŠ¡ç«¯èƒ½ç†è§£ä½†è¯·æ±‚æ²¡æœ‰è¢«æ‰§è¡Œã€‚ 400 â€œBad Requestâ€ å®ƒè¡¨ç¤ºâ€œå…¶ä»–é”™è¯¯â€ï¼Œæ— æ³•æ‰¾åˆ°å…¶å®ƒæ»¡è¶³è¦æ±‚çš„çŠ¶æ€ç æ—¶è¿”å›žï¼Œæ¯”å¦‚å‚æ•°é”™è¯¯ã€‚ 401 â€œUnauthorizedâ€ è¡¨ç¤ºè®¤è¯ï¼ˆAuthenticationï¼‰ç±»åž‹çš„é”™è¯¯ï¼Œâ€œè¯†åˆ«å‰æ¥è®¿é—®çš„æ˜¯è°â€ã€‚ 403 â€œForbiddenâ€ è¡¨ç¤ºæŽˆæƒï¼ˆAuthorizationï¼‰ç±»åž‹çš„é”™è¯¯ ï¼Œâ€œèµ‹äºˆç‰¹å®šç”¨æˆ·æ‰§è¡Œç‰¹å®šæ“ä½œçš„æƒé™â€ã€‚ 404 â€œNot Foundâ€ æœ‰æ—¶ä¸æ˜Žç¡®æ˜¯URIä¸å­˜åœ¨è¿˜æ˜¯èµ„æºä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šé¢å¤–è¿”å›žå…¶å®ƒè¯¦ç»†çš„è¯´æ˜Žã€‚ 405 â€œMethod Not Allowedâ€ å®¢æˆ·ç«¯ä½¿ç”¨çš„HTTPæ–¹æ³•ä¸è¢«æœåŠ¡å™¨ç«¯å…è®¸ã€‚ 406 â€œNot Acceptableâ€ APIä¸æ”¯æŒå®¢æˆ·ç«¯æŒ‡å®šçš„æ•°æ®æ ¼å¼æ—¶æœåŠ¡å™¨ç«¯æ‰€è¿”å›žçš„çŠ¶æ€ç ã€‚ 408 â€œRequest Timeoutâ€ å®¢æˆ·ç«¯å‘é€è¯·æ±‚è‡³æœåŠ¡ç«¯æ‰€éœ€çš„æ—¶é—´è¿‡é•¿æ—¶ï¼Œè§¦å‘æœåŠ¡ç«¯çš„è¶…æ—¶å¤„ç†ã€‚ 409 â€œConflictâ€ çŠ¶æ€ç ç”¨äºŽè¡¨ç¤ºèµ„æºå‘ç”Ÿå†²çªæ—¶çš„é”™è¯¯ã€‚æ¯”å¦‚é€šè¿‡æŒ‡å®šIDç­‰å”¯ä¸€é”®å€¼ä¿¡æ¯æ¥è°ƒç”¨æ³¨å†ŒåŠŸèƒ½çš„APIï¼Œå½“è¿™æ ·çš„APIåˆ›å»ºæ•°æ®æ—¶ï¼Œå€˜è‹¥å·²æœ‰ç›¸åŒIDçš„æ•°æ®å­˜åœ¨ï¼Œå°±å›žå¯¼è‡´æœåŠ¡ç«¯è¿”å›ž409çŠ¶æ€ç å‘ŠçŸ¥å®¢æˆ·ç«¯è¯¥é‚®ç®±åœ°å€æˆ–IDå·²è¢«ä½¿ç”¨ã€‚ 410 â€œGoneâ€ å’Œ404ç›¸åŒï¼Œè¡¨ç¤ºèµ„æºä¸å­˜åœ¨ã€‚åªæ˜¯410çŠ¶æ€ç è¡¨ç¤ºèµ„æºæ›¾ç»å­˜åœ¨ä½†ç›®å‰å·²ç»æ¶ˆå¤±äº†ï¼Œå› æ­¤æœåŠ¡ç«¯å¸¸åœ¨è®¿é—®æ•°æ®è¢«åˆ é™¤æ—¶è¿”å›žè¯¥çŠ¶æ€ç ã€‚ä½†æ˜¯ä¸ºäº†è¯¥çŠ¶æ€ç ï¼ŒæœåŠ¡å™¨å¿…é¡»ä¿å­˜æ•°æ®å·²è¢«åˆ é™¤çš„ä¿¡æ¯ï¼Œæœ‰äº›é‚®ç®±åœ°å€æœç´¢ç”¨æˆ·ä¿¡æ¯çš„APIä¸­ï¼Œä»Žä¿æŠ¤ä¸ªäººä¿¡æ¯çš„è§’åº¦æ¥è¯´ï¼Œè¿”å›ž410çŠ¶æ€çš„åšæ³•ä¼šå—åˆ°è´¨ç–‘ã€‚ 413 â€œRequest Entity Too Largeâ€ å’Œ 414 â€œRequest-URI Too Longâ€ 413è¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯ä½“è¿‡é•¿ï¼Œå¦‚ä¸Šä¼ æ–‡ä»¶è¿‡å¤§ã€‚ 414è¡¨ç¤ºè¯·æ±‚é¦–éƒ¨è¿‡é•¿è€Œå¼•å‘çš„é”™è¯¯ï¼Œå¦‚æŸ¥è¯¢å‚æ•°è¿‡é•¿ã€‚ 415 â€œUnsupported Media Typeâ€ å’Œ406ç±»ä¼¼ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯ä¸æ”¯æŒå®¢æˆ·ç«¯è¯·æ±‚é¦–éƒ¨Content-Typeé‡ŒæŒ‡å®šçš„æ•°æ®æ ¼å¼ã€‚åŒºåˆ«åœ¨äºŽï¼Œ406ä¸€èˆ¬å’ŒGETæ“ä½œä¸€èµ·ä½¿ç”¨ï¼Œ415å’ŒPOSTã€PUTä»¥åŠPATCHç­‰æ–¹æ³•è¯·æ±‚çš„æ¶ˆæ¯ä½“æ•°æ®æ ¼å¼ä¸è¢«æœåŠ¡å™¨ç«¯æ”¯æŒã€‚ä¾‹å¦‚åœ¨åªæŽ¥å—JSONæ ¼å¼çš„è¯·æ±‚çš„APIé‡Œæ”¾å…¥XMLæ ¼å¼çš„æ•°æ®å¹¶å‘æœåŠ¡å™¨å‘é€ï¼Œæˆ–åœ¨Content-Typeé¦–éƒ¨é‡ŒæŒ‡å®šapplication/xmlï¼Œéƒ½ä¼šå¯¼è‡´è¯¥ç±»åž‹çš„é”™è¯¯ã€‚ 429 â€œToo Many Requestsâ€ è®¿é—®æ¬¡æ•°è¶…è¿‡äº†æ‰€å…è®¸çš„èŒƒå›´ã€‚ 5å­—å¤´ æœåŠ¡å™¨ç«¯å‘ç”Ÿé—®é¢˜ 500 â€œInternal Server Errorâ€ æœåŠ¡ç«¯ä»£ç å­˜åœ¨bugï¼Œä¼šè¿”å›žè¯¥ç±»åž‹çš„é”™è¯¯ã€‚åº”è¯¥ç›‘æŽ§é”™è¯¯æ—¥å¿—ï¼Œé˜²æ­¢å†æ¬¡å‘ç”Ÿã€‚ 503 â€œService Unavailableâ€ æœåŠ¡ç«¯æš‚æ—¶ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨ç»´æŠ¤ï¼Œæˆ–è€…è‡ªèº«è´Ÿè½½è¿‡é«˜ã€‚ ç¼“å­˜ä¸ŽHTTPåè®®è§„èŒƒHTTPåè®®ä¸­ï¼Œç¼“å­˜å¤„äºŽå¯ç”¨çš„çŠ¶æ€æ—¶ç§°ä¸ºfreshï¼ˆæ–°é²œï¼‰çŠ¶æ€ï¼Œè€Œå¤„äºŽä¸å¯ç”¨çš„çŠ¶æ€æ—¶åˆ™ç§°ä¸ºstaleï¼ˆä¸æ–°é²œï¼‰çŠ¶æ€ã€‚ è¿‡æœŸæ¨¡åž‹é¢„å…ˆå†³å®šå“åº”æ•°æ®çš„ä¿å­˜æœŸé™ï¼Œå½“åˆ°è¾¾æœŸé™åŽæœºä¼šå†æ¬¡è®¿é—®æœåŠ¡ç«¯æ¥é‡æ–°èŽ·å¾—æ‰€éœ€çš„æ•°æ®ã€‚ ä¸€ä¸ªæ–¹æ³•æ˜¯ç”¨Cache-Controlå“åº”é¦–éƒ¨ï¼Œå¦ä¸€ä¸ªä½¿ç”¨Expireså“åº”é¦–éƒ¨ã€‚ 12Expires: Fri, 01 Jan 2016 00:00:00 GMTCache-Control: max-age=3600 Expiresä½¿ç”¨RFC 1123ä¸­å®šä¹‰çš„æ—¶é—´æ ¼å¼ã€‚HTTP1.0å°±å­˜åœ¨ï¼ŒCache-Controlæ˜¯HTTP1.1ä¸­å®šä¹‰çš„ã€‚æœ‰æ—¶éœ€è¦åˆ¶å®šä¸€ä¸ªé¥è¿œçš„æ—¥æœŸï¼Œä½¿å¾—ç¼“å­˜å§‹ç»ˆç”Ÿæ•ˆï¼Œä½†HTTP1.1è§„å®šï¼Œä¸å…è®¸è®¾ç½®è¶…è¿‡1å¹´ä»¥ä¸Šçš„æ—¶é—´ã€‚ä¸¤è€…åŒæ—¶å®šä¹‰æ—¶ï¼ŒCache-Controlä¼˜å…ˆã€‚max-ageæ˜¯æ ¹æ®é¦–éƒ¨ä¸­çš„Dateç®—çš„ã€‚æ ¹æ®HTTPåè®®çš„è§„å®šï¼Œé™¤äº†5å­—å¤´é”™è¯¯ç­‰å‡ ä¸ªç‰¹æ®Šæƒ…å†µä»¥å¤–ï¼Œæ‰€æœ‰çš„HTTPæ¶ˆæ¯éƒ½å¿…é¡»æ·»åŠ Dateé¦–éƒ¨ã€‚æè¿°æ—¥æœŸçš„HTTPé¦–éƒ¨ä¿¡æ¯é‡Œï¼Œåªèƒ½ä½¿ç”¨GMTï¼ˆæ ¼æž—å°¼æ²»æ ‡å‡†æ—¶åŒºï¼‰ä½œä¸ºæ—¶åŒºã€‚ éªŒè¯æ¨¡åž‹è½®è¯¢å½“å‰ä¿å­˜çš„ç¼“å­˜æ•°æ®æ˜¯å¦ä¸ºæœ€æ–°æ•°æ®ï¼Œå¹¶åªåœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œæ•°æ®æ›´æ–°æ—¶ï¼Œæ‰é‡æ–°èŽ·å–æ–°çš„æ•°æ®ã€‚ è™½ç„¶è¿™ä¹ˆåšæ²¡æœ‰å‡å°‘ç½‘ç»œé€šä¿¡çš„å¼€é”€ï¼Œä½†å‡è®¾å®¢æˆ·ç«¯ç¼“å­˜çš„æ•°æ®è¿‡å¤§ï¼Œé‚£ä¹ˆæ­¤æ—¶ç¼“å­˜çš„ä½œç”¨å°±ä½“çŽ°å‡ºæ¥äº†ã€‚è¿™ç§æ–¹å¼ï¼ŒæœåŠ¡å™¨éœ€è¦çŸ¥é“â€œå®¢æˆ·ç«¯å½“å‰ä¿å­˜çš„ä¿¡æ¯çš„çŠ¶æ€â€ï¼Œä¸ºæ­¤éœ€è¦ç”¨åˆ°æ›´æ–°æ—¥æœŸæˆ–å®žä½“æ ‡ç­¾ï¼ˆEntity Tagï¼‰ä½œä¸ºæŒ‡æ ‡ã€‚ä¸¤è€…åˆ†åˆ«å¡«å……åœ¨Last-Modifiedå’ŒETagå“åº”æ¶ˆæ¯é¦–éƒ¨è¿”å›žç»™å®¢æˆ·ç«¯ã€‚ 12Last-Modified: Tue, 01 Jul 2014 00:00:00 GMTEtag: &quot;jfkeiwjpii189u98jljdfioj822adf&quot; ETagå¦‚ä½•ç”Ÿæˆå–å†³äºŽæœåŠ¡å™¨ç«¯çš„å®žçŽ°ã€‚ å®¢æˆ·ç«¯ä½¿ç”¨æœ€åŽæ›´æ–°æ—¥æœŸæ‰§è¡Œé™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼Œä¼šç”¨åˆ°Modified-Sinceé¦–éƒ¨ã€‚ä½¿ç”¨å®žä½“æ ‡ç­¾æ—¶ï¼Œä¼šç”¨åˆ°If-None-Matché¦–éƒ¨ã€‚ 12GET /v1/users/12345If-Modified-Since: Tue, 01 Jul 2014 00:00:00 GMT 12GET /v1/users/12345If-None-Match: &quot;jfkeiwjpii189u98jljdfioj822adf&quot; æœåŠ¡ç«¯æ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ï¼Œå¦‚æžœæœ‰æ›´æ–°ï¼Œåˆ™è¿”å›ž200å’Œæ›´æ–°åŽçš„èµ„æºï¼ŒåŒæ—¶æ·»åŠ æœ€åŽæ›´æ–°æ—¥æœŸæˆ–å®žä½“æ ‡ç­¾ã€‚æœªæ›´æ–°ï¼Œåˆ™è¿”å›ž304ï¼Œå“åº”æ¶ˆæ¯ä½“ä¸ºç©ºã€‚ å¦‚æžœä½¿ç”¨éªŒè¯æ¨¡åž‹ï¼Œå¹¶ä¸”æ›´æ–°çš„èµ„æºæ˜¯æŸä¸ªç‰¹å®šçš„èµ„æºï¼Œåˆ™è¿”å›žèµ„æºè‡ªèº«çš„æœ€åŽæ›´æ–°æ—¥æœŸï¼›å¦‚æžœæ˜¯åˆ—è¡¨ä¿¡æ¯çš„å¤šä¸ªèµ„æºçš„è¯ï¼Œåˆ™è¦ä½¿ç”¨å…¶ä¸­æœ€åŽæ›´æ–°çš„èµ„æºçš„æœ€åŽæ›´æ–°æ—¥æœŸã€‚Djangoä¸­çš„Etagç›¸å…³ã€‚ ETagæœ‰å¼ºéªŒè¯å’Œå¼±éªŒè¯ä¸¤ä¸ªæ¦‚å¿µã€‚ å¼ºéªŒè¯ETagï¼š Etag: &quot;jfkeiwjpii189u98jljdfioj822adf&quot;ï¼ŒæœåŠ¡ç«¯åŒå®¢æˆ·ç«¯æ•°æ®ä¸èƒ½æœ‰ä¸€ä¸ªå­—èŠ‚çš„å·®åˆ«ï¼Œå¿…é¡»å®Œå…¨ä¸€æ ·ã€‚ å¼±éªŒè¯ETagï¼šEtag: W/&quot;jfkeiwjpii189u98jljdfioj822adf&quot;ï¼Œåªè¦ä»Žèµ„æºæ„ä¹‰çš„è§’åº¦æ¥çœ‹æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå°±å¯ä»¥è§†ä¸ºç›¸åŒçš„æ•°æ®ã€‚ä¾‹å¦‚Webé¡µé¢çš„å¹¿å‘Šä¿¡æ¯ï¼Œè™½ç„¶æ¯æ¬¡çœ‹åˆ°å¹¿å‘Šçš„å†…å®¹ä¼šæœ‰æ‰€æ”¹å˜ï¼Œä½†å®ƒä»¬ä¾ç„¶æ˜¯ç›¸åŒçš„èµ„æºã€‚ å¯å‘å¼è¿‡æœŸå®¢æˆ·ç«¯è‡ªå·±å¯»æ‰¾æœåŠ¡ç«¯èµ„æºçš„è§„å¾‹ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¦‚æžœä¸èƒ½è¿”å›žâ€œå°†ç¼“å­˜æ•°æ®ä¿å­˜å¤šä¹…â€çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆåº”è¯¥è¿”å›žLast-Modifiedç­‰é¦–éƒ¨ä¿¡æ¯æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯ï¼ŒåŠªåŠ›å‡å°‘å®¢æˆ·ç«¯ä¸å¿…è¦çš„è®¿é—®ï¼Œè¿™ä¸€ç‚¹éžå¸¸é‡è¦ã€‚ ä¸å¸Œæœ›å®žæ–½ç¼“å­˜åœ¨å®žæ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯ä¸­ï¼Œä¸å¸Œæœ›å®¢æˆ·ç«¯è¿›è¡Œç¼“å­˜ã€‚ä½¿ç”¨Cache-Controlé¦–éƒ¨ã€‚ 1Cache-Control: no-cache é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æžœExpiresé¦–éƒ¨é‡Œå†™å…¥çš„è¿‡åŽ»çš„æ—¥æœŸæˆ–ä¸æ­£ç¡®çš„æ—¥æœŸæ ¼å¼ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸ä¼šè¿›è¡Œç¼“å­˜æ“ä½œã€‚ä½†ä¸åŒæµè§ˆå™¨å¯èƒ½å‘ç”Ÿä¸åŒçš„è¡Œä¸ºï¼Œæ‰€ä»¥æ­¤æ–¹æ³•å¹¶ä¸å»ºè®®ã€‚ no-cacheä¸¥æ ¼æ„ä¹‰æ¥è®²ï¼Œä¸æ˜¯â€œä¸ç¼“å­˜â€çš„æ„æ€ï¼Œè€Œæ˜¯è¡¨ç¤ºè‡³å°‘â€œéœ€è¦ä½¿ç”¨éªŒè¯æ¨¡åž‹æ¥éªŒè¯â€ã€‚å¦‚æžœä¸å¸Œæœ›å«æœ‰æœºå¯†ä¿¡æ¯çš„æ•°æ®åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šä¿å­˜ï¼Œå°±å¯ä»¥åœ¨Cache-Controlé¦–éƒ¨é‡Œä½¿ç”¨no-storeå¹¶è¿”å›žã€‚ ä½¿ç”¨Varyæ¥æŒ‡å®šç¼“å­˜å•ä½åœ¨å®žæ–½ç¼“å­˜æ—¶å¯èƒ½è¿˜éœ€è¦åŒæ—¶æŒ‡å®šVaryé¦–éƒ¨ã€‚åœ¨å®žæ–½ç¼“å­˜æ—¶ï¼ŒVaryç”¨äºŽæŒ‡å®šé™¤URIå¤–ä½¿ç”¨å“ªä¸ªè¯·æ±‚é¦–éƒ¨é¡¹ç›®æ¥ç¡®å®šå”¯ä¸€çš„æ•°æ®ã€‚å› ä¸ºå³ä½¿URIç›¸åŒï¼ŒèŽ·å–çš„æ•°æ®æœ‰æ—¶ä¹Ÿä¼šå› è¯·æ±‚é¦–éƒ¨å†…å®¹çš„ä¸åŒè€Œå‘ç”Ÿå˜åŒ–ã€‚ HTTPé‡Œæœ‰è¿™æ ·ä¸€ç§æœºåˆ¶ï¼šæ ¹æ®ç”±Acceptå¼€å§‹çš„ä¸€ç³»åˆ—è¯·æ±‚é¦–éƒ¨å€¼çš„ä¸åŒï¼Œå“åº”æ¶ˆæ¯çš„å†…å®¹ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚è¯¥æœºåˆ¶ç§°ä¸ºæœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†ã€‚æ¯”å¦‚APIå¯ä»¥é€šè¿‡æ”¯æŒAccept-Languageé¦–éƒ¨æŒ‡å®šå®¢æˆ·ç«¯èƒ½æŽ¥å—çš„è‡ªç„¶è¯­è¨€ï¼Œå¹¶æ®æ­¤åˆ‡æ¢å“åº”æ•°æ®é‡ŒåŒ…å«çš„è¯­è¨€ä¿¡æ¯ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨Varyé¦–éƒ¨æ¥åˆ¤æ–­å“ªä¸ªè¯·æ±‚é¦–éƒ¨éœ€è¦å®žæ–½ç¼“å­˜æ“ä½œã€‚ 1Vary: Accept-Language ä¸€èˆ¬è€Œè¨€ï¼ŒVaryé¦–éƒ¨ç”¨äºŽHTTPç»ç”±ä»£ç†æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯åœ¨ä»£ç†æœåŠ¡å™¨æ‹¥æœ‰ç¼“å­˜åŠŸèƒ½æ—¶ã€‚ä½†æ˜¯æœ‰æ—¶æœåŠ¡å™¨ç«¯æ— æ³•çŸ¥æ™“å®¢æˆ·ç«¯çš„è®¿é—®æ˜¯å¦ç»ç”±ä»£ç†æœåŠ¡å™¨ï¼Œè¿™ç§æƒ…å†µä¸‹å°±éœ€è¦ç”¨åˆ°æœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†æœºåˆ¶ï¼ŒVaryé¦–éƒ¨å°±æˆäº†å¿…é€‰é¡¹ã€‚æ¯”å¦‚å¦‚æžœå¸Œæœ›åœ¨æŸ¥çœ‹ç”¨æˆ·ä»£ç†ï¼ˆUser Agentï¼‰ä¿¡æ¯åŽå¯¹è¿”å›žçš„æ•°æ®å†…å®¹è¿›è¡Œæ›´æ–°ï¼Œå°±éœ€è¦æŒ‡å®šUser-Agenté¦–éƒ¨ã€‚ 1Vary: Accept-Language,User-Agent åœ¨APIä¸­ï¼Œè¿”å›žçš„æ•°æ®ä¿¡æ¯æ ¹æ®ç”¨æˆ·ä»£ç†çš„ä¸åŒè€Œå˜åŒ–çš„æƒ…å†µéžå¸¸å°‘è§ï¼Œä½†æˆ‘ä»¬ä»éœ€è¦è€ƒè™‘è¿™æ ·çš„æƒ…å†µï¼šå½“ä½¿ç”¨æ™ºèƒ½æ‰‹æœºå¯¹æ™®é€šçš„Webé¡µé¢è¿›è¡Œè®¿é—®æ—¶ï¼Œå³ä½¿URIç›¸åŒï¼Œç½‘ç«™ä¹Ÿéœ€è¦è¿”å›žå’Œè®¿é—®ç»ˆç«¯ç›¸åŒ¹é…çš„å†…å®¹ã€‚å› æ­¤å½“Googleçš„ç½‘ç»œçˆ¬è™«è®¿é—®æœåŠ¡å™¨ç«¯æ—¶ï¼Œå¦‚æžœæœåŠ¡å™¨ç«¯ä¼šæ ¹æ®URIä»¥å¤–çš„ä¿¡æ¯æ”¹å˜è¿”å›žçš„å†…å®¹ï¼Œåˆ™æŽ¨èæ·»åŠ Varyé¦–éƒ¨ã€‚ Cache-Control é¦–éƒ¨ç¼“å­˜æ“ä½œæŒ‡ä»¤åŠå«ä¹‰ æŒ‡ä»¤åç§° å«ä¹‰ public ä»£ç†æœåŠ¡å™¨å¤„ä¿å­˜çš„ç¼“å­˜å¯ä»¥åœ¨ä¸åŒç”¨æˆ·ä¹‹é—´å…±äº« private æ¯ä¸ªç”¨æˆ·çš„ç¼“å­˜æ•°æ®å¿…é¡»å„ä¸ç›¸åŒ no-cache ç¼“å­˜æ•°æ®éœ€è¦é€šè¿‡éªŒè¯æ¨¡åž‹æ¥ç¡®è®¤ no-store ä¸éœ€è¦è¿›è¡Œç¼“å­˜ no-transform ä»£ç†æœåŠ¡å™¨ä¸å¯å˜æ›´å“åº”æ•°æ®çš„åª’ä½“ç±»åž‹æˆ–å…¶ä»–ç›¸å…³å†…å®¹ must-revalidate ä¸ç®¡ä½•æ—¶éƒ½éœ€è¦å‘åŽŸå§‹æœåŠ¡å™¨è¿›è¡Œå†æ¬¡éªŒè¯ proxy-revalidate ä»£ç†æœåŠ¡å™¨éœ€è¦å‘åŽŸå§‹æœåŠ¡å™¨è¿›è¡Œå†æ¬¡éªŒè¯ max-age è¡¨ç¤ºç¼“å­˜æ•°æ®å¤„äºŽæ–°é²œçŠ¶æ€çš„æ—¶é—´ s-maxage å’Œmax-ageä¸€æ ·ï¼Œä½†åªç”¨äºŽä¸­ç»§æœåŠ¡å™¨ é€šè¿‡stale-while-revalidate=600è¿™æ ·æŒ‡å®šç§’æ•°ï¼Œé‚£ä¹ˆå³ä½¿ä»£ç†æœåŠ¡å™¨è¶…è¿‡äº†max-ageæŒ‡å®šçš„æ—¶é—´ï¼Œå…¶å†…éƒ¨ä¹Ÿèƒ½å¼‚æ­¥è¿›è¡Œç¼“å­˜éªŒè¯ï¼Œå¹¶æŒ‡å®šåœ¨ä¸€å®šçš„æ—¶é—´å†…å…è®¸å°†ç¼“å­˜æ•°æ®ç»ç”±å“åº”æ¶ˆæ¯è¿”å›žã€‚æ¢è¨€ä¹‹ï¼Œåœ¨æŒ‡å®šäº†max-age=600,stale-while-revalidate=600çš„æƒ…å†µä¸‹ï¼Œè™½ç„¶æ•°æ®ç»´æŒæ–°é²œçŠ¶æ€çš„æ—¶é—´åªæœ‰10åˆ†é’Ÿï¼Œä½†åœ¨éšåŽçš„10åˆ†é’Ÿå†…ï¼Œç¼“å­˜æœåŠ¡å™¨ä¹Ÿèƒ½å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†æ‰€ä¿å­˜çš„ç¼“å­˜æ•°æ®ç›´æŽ¥è¿”å›žç»™å®¢æˆ·ç«¯ã€‚ä¸Žæ­¤åŒæ—¶ï¼Œä»£ç†æœåŠ¡å™¨è¿˜ä¼šå¼‚æ­¥åœ°å‘åŽŸå§‹æœåŠ¡å™¨å‘èµ·ç¼“å­˜éªŒè¯çš„è¯¢é—®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯æœ€é•¿å¯ä»¥åœ¨20åˆ†é’Ÿå†…æŽ¥æ”¶åˆ°ç¼“å­˜çš„æ•°æ®ï¼Œä½¿å¾—ç¼“å­˜çš„æ•°æ®ä¸ä¼šå› ä¸ºçªç„¶å˜å¾—åˆ°æœŸè€Œä¸å¯ç”¨ã€‚å¦å¤–ï¼Œåœ¨ç¼“å­˜åˆ°æœŸæ—¶ï¼Œè¿™æ ·åšè¿˜èƒ½å¼‚æ­¥åœ°å®Œæˆç¼“å­˜çš„äº¤äº’æ›´æ–°ï¼Œä»Žè€Œæ›´æœ‰æ•ˆçŽ‡åœ°å¯¹å®¢æˆ·ç«¯çš„è®¿é—®åšå‡ºå“åº”ã€‚ ç”±äºŽæŸç§åŽŸä¸ºæ— æ³•è®¿é—®åŽŸå§‹æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥å°†stale-if-erroræŒ‡ä»¤æŒ‡å®šä¸ºä¸€å®šçš„ç§’æ•°ï¼Œå…è®¸åœ¨è¯¥æ®µæ—¶é—´å†…ä»£ç†æœåŠ¡å™¨ç›´æŽ¥å°†æ‰€ä¿å­˜çš„ä¸æ–°é²œç¼“å­˜è¿”å›žç»™å®¢æˆ·ç«¯ã€‚ä½¿ç”¨è¯¥æŒ‡ä»¤çš„è¯ï¼Œä¸‡ä¸€çªå‘æ—¶é—´å¯¼è‡´å®•æœºï¼Œç›´æŽ¥é€šè¿‡ä»£ç†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯äº¤äº’ï¼Œè‡³å°‘è¿˜èƒ½å¤Ÿåœ¨æŸæ®µæ—¶é—´å†…ä¸ä¸­æ–­å®¢æˆ·ç«¯çš„è®¿é—®ã€‚ åª’ä½“ç±»åž‹çš„æŒ‡å®šå…·æœ‰ä»£è¡¨æ€§çš„åª’ä½“ç±»åž‹ï¼Œä¹Ÿå°±æ˜¯Content-Type åª’ä½“ç±»åž‹ æ•°æ®æ ¼å¼ text/plain çº¯æ–‡æœ¬ text/html HTMLæ–‡ä»¶ application/xml XMLæ–‡ä»¶ text/css CSS æ–‡ä»¶ application/javascript JavaScript application/json JSONæ–‡ä»¶ application/rss+xml RSSåŸŸ application/atom+xml AtomåŸŸ application/octet-stream äºŒè¿›åˆ¶æ•°æ® application/zip zipæ–‡ä»¶ image/jpeg JPEGå›¾åƒ image/png PNGå›¾åƒ image/svg+xml SVGå›¾åƒ multipart/form-data å¤šä¸ªæ•°æ®ç»„æˆçš„Webè¡¨å•æ•°æ® video/mp4 MP4åŠ¨ç”»æ–‡ä»¶ application/vnd.ms-excel Excelæ–‡ä»¶ é¡¶å±‚ç±»åž‹åç§°ä¸­applicationå’Œtextéžå¸¸å®¹æ˜“æ··æ·†ã€‚æ¯”å¦‚XMLæ–‡ä»¶çš„åª’ä½“ç±»åž‹ç”±RFC 3023å®šä¹‰ï¼Œæ ¹æ®è¯¥åè®®ï¼Œtext/xmlåª’ä½“ç±»åž‹ç”¨äºŽè¡¨ç¤ºï¼ˆæ²¡æœ‰XMLèƒŒæ™¯çŸ¥è¯†çš„ç”¨æˆ·ï¼‰èƒ½å¤Ÿç†è§£çš„XMLï¼Œè€ŒAPIè¿”å›žçš„æ•°æ®ä¸­åº”è¯¥ä¸ä¼šå­˜åœ¨è¿™æ ·çš„XMLæ–‡ä»¶ï¼Œå› æ­¤ä½¿ç”¨application/xmlæ›´åŠ åˆç†ã€‚ é™¤äº†ç”±äºŽåŽ†å²åŽŸå› è€Œä¸€ç›´ä½¿ç”¨textä½œä¸ºé¡¶å±‚ç±»åž‹çš„text/csså’Œtext/htmlä¹‹å¤–ï¼ŒæŸæ•°æ®æ ¼å¼å³ä½¿èƒ½å¤Ÿä½œä¸ºæ–‡æœ¬æ•°æ®æ‰“å¼€ï¼Œä½†å¦‚æžœåªæœ‰çŸ¥é“è¯¥æ•°æ®æ ¼å¼çš„äººæ‰èƒ½ç†è§£ï¼Œé‚£ä¹ˆå…¶åª’ä½“ç±»åž‹ä¹Ÿä¾ç„¶éœ€è¦ç”¨applicationä½œä¸ºé¡¶å±‚ç±»åž‹åç§°ï¼Œè¿™ä¸€æ–¹å¼å·²æˆä¸ºä¸»æµã€‚ ä»¥x-å¼€å¤´çš„åª’ä½“ç±»åž‹å¦‚application/x-msgpackã€‚è¡¨ç¤ºè¯¥åª’ä½“ç±»åž‹å°šæœªåœ¨IANAé‡Œæ³¨å†Œã€‚IANA(Internet Assigned Numbers Authority)æ˜¯ç®¡ç†Internetç›¸å…³ç¼–å·çš„ç»„ç»‡ï¼Œè¿˜è´Ÿè´£åŸŸåçš„ç®¡ç†ã€IPåœ°å€çš„åˆ†é…ç­‰ï¼Œåœ¨Interneté¢†åŸŸæ‰¿æ‹…äº†éžå¸¸é‡è¦çš„èŒè´£ã€‚ æ²¡æœ‰åœ¨IANAé‡Œæ³¨å†Œçš„å¹¶ä¸”ä»¥x-å¼€å¤´çš„åª’ä½“ç±»åž‹ åª’ä½“ç±»åž‹ æ•°æ®æ ¼å¼ application/x-msgpack MessagePack application/x-yaml YAML application/x-plist å±žæ€§åˆ—è¡¨ ä½†æ˜¯æœ‰äº›åª’ä½“ç±»åž‹å·²åœ¨IANAæ³¨å†Œï¼Œä½†åœ¨è¿‡åŽ»åˆšå‡ºçŽ°æ—¶ï¼Œä½¿ç”¨äº†x-å¼€å¤´ã€‚éœ€è¦åŽ»æŸ¥ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ä¸ä»¥x-å¼€å¤´çš„æ›¿ä»£ç±»åž‹ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–å°±æ˜¯å‘é€HTMLè¡¨å•æ•°æ®æ—¶ä½¿ç”¨çš„application/x-www-form-urlencodedç±»åž‹ã€‚è¯¥ç±»åž‹åœ¨RFC 1866ä¸­å®šä¹‰ï¼Œè™½ç„¶ç”±äºŽåŽ†å²åŽŸå› åœ¨å‘½åæ—¶åŠ ä¸Šäº†x-ï¼Œä½†ç¡®å®žIANAä¸­æ­£å¼æ³¨å†Œçš„åª’ä½“ç±»åž‹ï¼Œè™½ç„¶æœ‰äº†ä¸åŠ x-çš„æ›¿ä»£ï¼Œä½†å°šæœªè¢«IANAé‡‡ç”¨ã€‚ è‡ªå®šä¹‰åª’ä½“ç±»åž‹æ ¹æ®ä¸åŒçš„å‰ç¼€åŒºåˆ† æ ‘å å‰ç¼€ Standards treeï¼ˆæ ‡å‡†æ ‘ï¼‰ æ—  Vendor treeï¼ˆä¾›åº”å•†æ ‘ï¼‰ vnd Personal(Vanity) treeï¼ˆä¸ªäººæ ‘ï¼‰ prs. Unregistered treeï¼ˆæœªæ³¨å†Œæ ‘ï¼‰ x. æ ‡å‡†æ ‘æŒ‡RFCè¿›è¡Œäº†è§„èŒƒåŒ–åŽçš„åª’ä½“ç±»åž‹ï¼Œå¦‚text/htmlé‚£æ ·ï¼Œæ²¡æœ‰å‰ç¼€ã€‚ ä¾›åº”å•†æ ‘ä¸‹çš„æ•°æ®æ ¼å¼è™½ç„¶æ—¨åœ¨å¤§èŒƒå›´ä½¿ç”¨ï¼Œä½†å´ç”±ç‰¹å®šçš„ä¼ä¸šã€å›¢ä½“æ¥ç®¡ç†ã€‚ä¾‹å¦‚Excelæ–‡ä»¶ç”±å¾®è½¯å…¬å¸ç®¡ç†ï¼Œåª’ä½“ç±»åž‹ä¸ºapplication/vnd.ms-excelã€‚å¯ä»¥è¿™æ ·å®šä¹‰application/vnd.companyname.awesomeformatï¼ŒExcelç”±äºŽåæ°”å¤§ï¼Œæ‰€ä»¥çœç•¥äº†å…¬å¸åã€‚ ä¸ªäººæ ‘ä¸‹çš„æ•°æ®æ ¼å¼åªåœ¨å®žéªŒæ€§è´¨æˆ–æœªå…¬å¼€çš„äº§å“ç­‰ä¸­ä½¿ç”¨ã€‚ æœªæ³¨å†Œæ ‘ä¸‹çš„æ•°æ®æ ¼å¼ä¸€èˆ¬ç”¨äºŽæœ¬åœ°çŽ¯å¢ƒå’Œç§æœ‰çŽ¯å¢ƒï¼Œä¸€èˆ¬ä¾›åº”å•†æ ‘å’Œä¸ªäººæ ‘åŸºæœ¬æ¶µç›–æœªæ³¨å†Œæ ‘æ‰€æ¶‰åŠçš„ç”¨ä¾‹ï¼Œå› æ­¤ä¸æŽ¨èè¿™ç§ç±»åž‹ã€‚ è¯·æ±‚æ•°æ®ä¸Žåª’ä½“ç±»åž‹ Content-Type é¦–éƒ¨å’Œç›¸åº”æ¶ˆæ¯é¦–éƒ¨ä¸€æ ·ï¼Œè¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯ä½“æ˜¯ä»¥æ€Žæ ·çš„æ•°æ®æ ¼å¼å‘é€ç»™æœåŠ¡ç«¯çš„ã€‚å¦‚å®¢æˆ·ç«¯å‘é€POSTè¯·æ±‚æ—¶ï¼Œå¦‚æžœä»¥JSONçš„å½¢å¼å‘é€æ•°æ®ï¼Œå°±åº”è¯¥åœ¨é¦–éƒ¨é‡ŒæŒ‡å®šapplication/jsonï¼›å¦‚æžœæ˜¯ä»ŽWebé¡µé¢å‘é€è¡¨å•æ•°æ®ï¼Œå°±ä¼šä½¿ç”¨application/x-www-form-urlencodedã€‚è¿›è¡Œè¡¨å•æ“ä½œæ—¶ï¼Œå¦‚æžœæœ‰æ·»åŠ æ–‡ä»¶çš„æƒ…å†µï¼Œå°±è¦æŒ‡å®šmultipart/form-dataã€‚ Accept æ­¤é¦–éƒ¨ç”¨äºŽå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¡¨æ˜Žèƒ½æŽ¥å—æ€Žæ ·çš„åª’ä½“ç±»åž‹ã€‚ Accept: text/html,application/xml;q=0.9,*/*;q=0.8 qè¡¨ç¤ºå“è´¨å› æ•°ï¼ˆQuality Valueï¼‰ï¼ŒæŒ‡å®šè¯¥åª’ä½“ç±»åž‹çš„ä¼˜å…ˆçº§ã€‚é»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºä¼˜å…ˆçº§æœ€é«˜ã€‚å¯ä»¥ä½¿ç”¨*/*è¡¨ç¤ºæ‰€æœ‰çš„åª’ä½“ç±»åž‹ã€‚ åœ¨ä½¿ç”¨æœåŠ¡å™¨é©±åŠ¨çš„å†…å®¹åå•†ç¡®å®šè¿”å›žçš„æ•°æ®æ ¼å¼æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¼šåœ¨å“åº”æ¶ˆæ¯çš„Varyé¦–éƒ¨é‡ŒæŒ‡å®šAcceptï¼Œæ ¹æ®Acceptçš„å€¼çš„ä¸åŒï¼Œå“åº”çš„è¯¦ç»†ä¹Ÿå¯èƒ½ä¸åŒã€‚ åŒæºç­–ç•¥å’Œè·¨åŸŸèµ„æºå…±äº«æ¦‚å¿µé€šè¿‡XHTTPRequestå¯¹ä¸åŒçš„åŸŸè¿›è¡Œè®¿é—®å°†æ— æ³•èŽ·å–å“åº”æ•°æ®ï¼Œè¿™ä¸€åŽŸåˆ™ç§°ä¸ºåŒæºç­–ç•¥ã€‚åŒæºç­–ç•¥ä¸»è¦æ˜¯å‡ºäºŽå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œå®ƒåªå…è®¸ä»Žç›¸åŒçš„æºæ¥èŽ·å–æ•°æ®ï¼Œå¹¶é€šè¿‡URIé‡Œçš„schemaï¼ˆhttp, httpsç­‰ï¼‰ã€ä¸»æœºï¼ˆapi.example.comï¼‰ã€ç«¯å£å·çš„ç»„åˆæ¥åˆ¤æ–­æ˜¯å¦åŒæºã€‚ç”±äºŽJSONPæœ‰å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥åˆ¶å®šäº†è·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼ŒCORSï¼‰çš„æ–¹å¼è§£å†³è·¨åŸŸè®¿é—®çš„é—®é¢˜ã€‚ CORSåŸºæœ¬çš„äº¤äº’å½“å®žæ–½CORSæ—¶ï¼Œå®¢æˆ·ç«¯è¦å…ˆå‘é€ä¸€ä¸ªåä¸ºOriginçš„è¯·æ±‚æ¶ˆæ¯é¦–éƒ¨ã€‚å¦‚ä»Žhttp://www.example.com/è®¿é—®http://api/example.com/ 1Origin: http://www.example.com æœåŠ¡å™¨ä¿å­˜ç€å…è®¸è®¿é—®çš„ç™½åå•ï¼Œè¯·æ±‚å‘é€è¿‡æ¥ï¼Œä¼šåˆ¤æ–­æ˜¯å¦åœ¨ç™½åå•ä¸­ã€‚å¦‚æžœä¸åœ¨ï¼Œåˆ™è¿”å›ž403ï¼›å¦‚æžœåœ¨ï¼ŒæœåŠ¡ç«¯ä¼šåœ¨Access-Control-Allow-Originå“åº”æ¶ˆæ¯é¦–éƒ¨é‡Œæ”¾å…¥å’Œè¯·æ±‚æ¶ˆæ¯çš„Originé¦–éƒ¨ç›¸åŒçš„æºå¹¶è¿”å›žï¼Œè¡¨ç¤ºå…è®¸è®¿é—®ã€‚ 1Access-Control-Allow-Origin: http://www.example.com CORSä¸Žç”¨æˆ·è®¤è¯ä¿¡æ¯CORSä¸­å‘é€ç”¨æˆ·è®¤è¯ä¿¡æ¯æ—¶ï¼Œå¿…é¡»å‘å¸ƒè¿½åŠ çš„HTTPå“åº”æ¶ˆæ¯é¦–éƒ¨ã€‚ä¾‹å¦‚å½“å®¢æˆ·ç«¯ä½¿ç”¨Cookieé¦–éƒ¨ã€Authenticationé¦–éƒ¨å‘é€ç”¨æˆ·è®¤è¯ä¿¡æ¯æ—¶ï¼ŒæœåŠ¡å™¨ç«¯éœ€è¦åƒä¸‹é¢è¿™æ ·å°†Access-Control-Allow-Credentialsé¦–éƒ¨è®¾ä¸ºtrueï¼Œæ¥å‘ŠçŸ¥å®¢æˆ·ç«¯â€œå·²è¯†åˆ«æ‰€å‘é€çš„è®¤è¯ä¿¡æ¯â€ã€‚ 1Access-Control-Allow-Credentials: true å¦‚æžœä¸è¿™ä¹ˆåšï¼Œæµè§ˆå™¨ä¼šç›´æŽ¥æ‹’ç»æ¥è‡ªæœåŠ¡å™¨çš„å“åº”æ¶ˆæ¯ã€‚ åœ¨å„ä¸ªæµè§ˆå™¨çš„XHTTPRequestä¸­ï¼Œå‘é€cookieç­‰è®¤è¯ä¿¡æ¯æ—¶ï¼Œå¿…é¡»æŠŠwithCredentialså±žæ€§è®¾ä¸ºtrueï¼Œå¦åˆ™å®¢æˆ·ç«¯å°†æ— æ³•å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ã€‚ ç§æœ‰çš„HTTPé¦–éƒ¨å®šä¹‰æ–°çš„HTTPé¦–éƒ¨æ—¶ï¼Œä¸€èˆ¬éœ€è¦åœ¨æœ€å‰é¢åŠ X-ï¼ŒæŽ¥ç€æ·»åŠ æœåŠ¡ã€åº”ç”¨ã€å›¢ä½“ç­‰åç§°ã€‚ä¾‹å¦‚GitHubä¼šé€šè¿‡X-GitHub-Request-Idçš„è‡ªå®šä¹‰é¦–éƒ¨æ¥é’ˆå¯¹æ¯ä¸ªè¯·æ±‚è¿”å›žå”¯ä¸€çš„IDã€‚ RFC 6648ä¸­å»ºè®®ä¸é€‚ç”¨X-å‰ç¼€ï¼Œå³ç›®å‰çš„æœ€ä½³æ–¹æ¡ˆï¼Œå…¶å®šä¹‰çš„è§„åˆ™å¹¶ä¸å…·å¤‡å¼ºåˆ¶å®žæ–½çš„æ•ˆåŠ›ã€‚æ‰€ä»¥ï¼Œç”¨æˆ–ä¸ç”¨ï¼Œç»Ÿä¸€å°±å¥½ã€‚ ç¬¬äº”ç« ï¼šå¼€å‘æ–¹ä¾¿æ›´æ”¹è®¾è®¡çš„Web APIç‰ˆæœ¬è¿­ä»£ï¼š åœ¨URIè·¯å¾„çš„å¼€å¤´æ·»åŠ å½¢å¦‚v1çš„ç‰ˆæœ¬å·ï¼Œå¦‚æžœæ–°APIæ²¡æœ‰å‘ä¸‹å…¼å®¹ï¼Œåˆ™æ–°å¢žç‰ˆæœ¬å·ï¼›å¦‚æžœæ˜¯bugï¼Œå¢žåŠ buildç¼–å·ï¼Œå¦‚æžœå‘ä¸‹å…¼å®¹çš„å˜æ›´æˆ–åºŸé™¤æŸäº›ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¢žåŠ æ¬¡ç‰ˆæœ¬å·ã€‚ ç¬¬å…­ç« ï¼šå¼€å‘ç‰¢å›ºçš„Web APIä¸­é—´äººæ”»å‡»ï¼ˆMan-In-The-Middle Attack, MITMæ”»å‡»ï¼‰ä½¿ç”¨HTTPSåŠ å¯†æœºåˆ¶è¿›è¡Œé€šä¿¡æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šä»ŽæœåŠ¡ç«¯èŽ·å¾—SSLè¯ä¹¦ï¼Œæ­¤æ—¶å°±è¦æ±‚å®¢æˆ·ç«¯éªŒè¯è¯¥è¯ä¹¦çš„çœŸä¼ªã€‚å¦‚æžœå®¢æˆ·ç«¯æœªèƒ½æ‰§è¡ŒéªŒè¯å·¥ä½œï¼Œæ•´ä¸ªé€šä¿¡è¿‡ç¨‹å°±æœ‰å¯èƒ½é­åˆ°ä¸­é—´äººæ”»å‡»ï¼Œå¯¼è‡´é€šä¿¡å†…å®¹è¢«çªƒå–ã€‚ æœ‰æ—¶ä¸€äº›ä¸å«æœºå¯†ä¿¡æ¯çš„APIï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨HTTPè€Œä¸ä½¿ç”¨HTTPSåŠ å¯†æœºåˆ¶ã€‚è™½ç„¶æ ¹æ®ä¸åŒç±»åˆ«çš„APIé‡‡ç”¨ä¸åŒçš„æ–¹å¼ç•¥å¾®æœ‰äº›å¤æ‚ï¼Œä½†ä»Žé™ä½Žè®¿é—®å»¶è¿Ÿã€æé«˜å“åº”é€Ÿåº¦çš„è§’åº¦æ¥è¯´ï¼Œæ— ç–‘æ˜¯è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ã€‚ XSSXSSæŽ¥æ”¶ç”¨æˆ·çš„è¾“å…¥å†…å®¹å¹¶å°†å…¶åµŒå…¥é¡µé¢çš„HTMLä»£ç ï¼Œå½“é¡µé¢åœ¨æµè§ˆå™¨é‡Œæ˜¾ç¤ºæ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„JavaScriptè„šæœ¬ã€‚ä¸€æ—¦é¡µé¢æ‰§è¡Œäº†ç”¨æˆ·è¾“å…¥çš„JavaScriptè„šæœ¬ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿè®¿é—®ä¼šè¯ã€cookieç­‰æµè§ˆå™¨é‡Œä¿å­˜çš„ä¿¡æ¯ï¼Œæˆ–è€…ç¯¡æ”¹é¡µé¢ï¼Œè¿˜èƒ½ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶è¿›è¡Œè·¨åŸŸè®¿é—®ï¼Œä»Žè€Œå®Œæˆä»»æ„æ“ä½œã€‚ å¦‚æœåŠ¡å™¨è¿”å›ž 1&#123;"data": "&lt;script&gt;alert('xss');&lt;/script&gt;"&#125; åœ¨Content-Typeé¦–éƒ¨çš„å€¼ä¸ºtext/htmlçš„æƒ…å†µä¸‹ï¼Œå¦‚æžœæµè§ˆå™¨ç›´æŽ¥è®¿é—®è¯¥JSONæ•°æ®çš„URIï¼Œè¯¥JSONæ•°æ®ä¼šè¢«è§£é‡Šä¸ºHTMLï¼Œå¯¼è‡´é€šè¿‡SCRIPTå…ƒç´ åŠ è½½çš„JavaScriptä»£ç è¢«æµè§ˆå™¨æ‰§è¡Œã€‚æ‰€ä»¥ä¸ºäº†é˜²èŒƒï¼Œéœ€è¦è®©æµè§ˆå™¨å°†JSONæ ¼å¼çš„æ•°æ®åªè¯†åˆ«æˆJSONï¼Œå“åº”é¦–éƒ¨æ·»åŠ  1Content-Type: application/json ä½†æ˜¯IEä¼šæœ‰ä¸€ä¸ªContent SnifferingåŠŸèƒ½ï¼Œæ ¹æ®å®žé™…çš„æ•°æ®å†…å®¹æ¥æŽ¨æµ‹æ•°æ®æ ¼å¼ã€‚æ‰€ä»¥åœ¨è¿”å›žJSONç±»åž‹çš„æ•°æ®æ—¶è¿˜åº”è¯¥æ·»åŠ  1X-Content-Type-Options: nosniff è¿™ä¼šä½¿IE8ä»¥åŽçš„æµè§ˆå™¨ä¸å†ä½¿ç”¨Content snifferingåŠŸèƒ½ã€‚ XSRF/CSRF(Cross Site Request Forgery)è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ã€‚é€šè¿‡è·¨ç«™ç‚¹å‘é€ä¼ªé€ çš„è¯·æ±‚ï¼Œè®©æœåŠ¡å™¨æ‰§è¡Œç”¨æˆ·æ„æ„¿æ„å¤–çš„å¤„ç†ã€‚ å¸¸è§ä¾‹å­ï¼šå‘å…¬å‘Šæ¿ä»»æ„å‘å¸–ï¼Œæ”»å‡»ç«™ç‚¹ä»¥é€ æˆæŸå¤±ï¼›æ¶æ„åˆ·å¥½è¯„æˆ–å·®è¯„ã€‚ é˜²èŒƒï¼š ç¦æ­¢é€šè¿‡GETæ–¹æ³•æ¥ä¿®æ”¹æœåŠ¡ç«¯çš„æ•°æ®ï¼Œå¦‚æ·»åŠ æ”¶è—ã€å…¬å‘Šæ¿å‘å¸–ç­‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±æ— æ³•ç”¨IMGå…ƒç´ ç­‰åµŒå…¥ç”¨äºŽæ”»å‡»çš„è„šæœ¬äº†ã€‚ CSRF ä»¤ç‰Œã€‚ å¦‚æžœWeb APIåªå­˜åœ¨ç”±XMLHTTPRequestæˆ–éžæµè§ˆå™¨å®¢æˆ·ç«¯å‘èµ·çš„è®¿é—®ï¼Œå°±è¦æ±‚å®¢æˆ·ç«¯ä½¿ç”¨æŸç§æœºåˆ¶åœ¨è¯·æ±‚é™„åŠ ä¸€ä¸ªç‰¹æ®Šçš„é¦–éƒ¨ï¼Œå¦‚æžœè¯·æ±‚æ¶ˆæ¯ä¸­ä¸å­˜åœ¨è¿™ä¸€ç‰¹æ®Šçš„é¦–éƒ¨ï¼Œå°±æ‹’ç»è®¿é—®ã€‚å¦‚X-Request-Withé¦–éƒ¨ JSONåŠ«æŒæœªå®Œå¾…ç»­ã€‚]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>RESTful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥ä½œä¸­é¡¹ç›®ä¼˜åŒ–å°è®°]]></title>
    <url>%2F%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%96%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[å‰è¨€åšä¸»ç›®å‰æŽ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä»£ç ä»ŽæŸé©¬å¾®åº—é‚£é‡Œä¹°æ¥ï¼Œç¤¾äº¤é‡‘èžç›¸å…³ã€‚è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¯ä»¥è¯´æ˜¯é€»è¾‘æ··ä¹±ï¼Œæ¯«æ— å¯é‡ç”¨æ€§ï¼Œè€Œä¸”åˆæ— æ–‡æ¡£ï¼Œgit messageä¸­ä¸€å †æ¯«æ— ç”¨å¤„çš„â€œupdateâ€ï¼ŒPEP8è§„èŒƒï¼Ÿä¸å­˜åœ¨çš„ã€‚ä½¿å¾—æˆ‘æ¯æ—¥æ¸¸èµ°åœ¨è¢«ä»£ç åŠé€€çš„è¾¹ç¼˜ã€‚éœ‡æƒŠï¼ä¸€æ¬¡è¯·æ±‚1Wå¤šæ¡sqlã€‚è¯¥åŠŸèƒ½ä¸ºå•†å“çš„çƒ­é”€åˆ†ç±»è¡¨å•ã€‚ä¹‹å‰å¤§æ¦‚çœ‹äº†ä¸€çœ¼ï¼Œæ•°æ®æ˜¯å…ˆä»Žredisä¸­å–ï¼Œrediså€¼å­˜çš„æ°¸ä¹…æœ‰æ•ˆï¼Œæ²¡æœ‰çš„è¯æŸ¥DBã€‚ç„¶åŽæŸå¤©æ¸…äº†ä¸€ä¸‹æµ‹è¯•æ•°æ®åº“çš„redisï¼Œè¿™ä¸‹å¥½äº†ï¼ŒæŽ¥å£è¶…æ—¶ã€‚æŸ¥äº†ä¸€ä¸‹silkå‘çŽ°è¿è¡Œäº†1wå¤šæ¬¡sqlã€‚ ä¸‡æ¶ä¹‹æºçš„ä»£ç ï¼Œéš¾æ€ªæŸ¥äº†1Wå¤šæ¬¡ï¼Œè¿™å¤–é”®couponï¼Œæ¯æ¬¡éƒ½è¦æŸ¥è¯¢æ•°æ®åº“ã€‚è€Œä¸”è¿™é‡Œchannelä¹Ÿæ²¡æœ‰ç”¨setï¼Œè¿™ç®€ç›´åŸºç¡€æ•°æ®ç»“æž„éƒ½æ²¡æŽŒæ¡å•Šã€‚ 123456tbkcoupons = TbkCouponTags.objects.filter(is_hot=True)channel = []for t in tbkcoupons: cc = t.coupon.channel if cc not in channel: channel.append(cc) ä½¿ç”¨select_relatedç®€å•çš„å¤„ç†äº†ä¸€ä¸‹ 12345tbkcoupons = TbkCouponTags.objects.select_related('coupon').filter(is_hot=True)channel = set()for t in tbkcoupons: cc = t.coupon.channel channel.add(cc) å¿«äº†10å€ï¼Œå†·é™ä¸€ä¸‹ï¼Œæ€è€ƒä¸€ä¸‹è¿™å¤§å“¥åˆ°åº•è¦å¹²å˜›ï¼ŒåŽé¢çœ‹åˆ°æ‹¿åˆ°äº†tbkcouponsæ²¡æœ‰å†åšå…¶ä»–ç”¨å¤„ã€‚æ‰€ä»¥è¿™ä¸œè¥¿å®Œå…¨å¯ä»¥ä½¿ç”¨åå‘è¿žæŽ¥åŠ åŽ»é‡æ¥è§£å†³å•Šï¼Œçœ‹æ¥sqlåŸºç¡€ä¹Ÿæ¬ ç¼ºã€‚è¿™é‡Œæ”¹æˆäº†values+distinctæ¥å¤„ç†ï¼Œå› ä¸ºmysqlä¸æ”¯æŒdistinct(â€˜channelâ€™)è¿™ç§æŒ‡å®šå­—æ®µçš„å½¢å¼ã€‚ 12tbkcoupons = TbkCoupon.objects.filter(tbkcoupontags__is_hot=True).values('channel').distinct()channels = [c['channel'] for c in tbkcoupons] åŽé¢çš„é€»è¾‘åˆ¤æ–­ï¼Œåˆä½¿ç”¨äº†ä¸€å †çš„ifelseï¼Œçœ‹ç€ä¸æ¸…æ™°ï¼Œå°†å…¶æ”¹ä¸ºäº†å­—å…¸ã€‚è¿™äº›å€’ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚ æœ€åŽï¼Œä¿®æ”¹äº†ä¸€äº›å–å€¼çš„é€»è¾‘ã€‚æœ€åŽå°†ç»“æžœä¿å­˜åˆ°äº†redisä¸­ã€‚å‘½ä¸­ç¼“å­˜çš„è¯å¤§æ¦‚10+msã€‚ åŽæ¥åˆå‘çŽ°äº†ä¸€ä¸ªæœ‰æ„æ€çš„äº‹æƒ…ï¼Œä»–å¥½åƒä¹ŸçŸ¥é“è¿™ä¸ªæŸ¥è¯¢æŒºæ…¢çš„ï¼Œæ‰€ä»¥ç”¨celerybeatå®žçŽ°äº†ä¸€ä¸ªå‘¨æœŸä»»åŠ¡ï¼Œå®šæ—¶åœ°æ›´æ–°è¿™ä¸ªredisã€‚ è¿”å›žæŒ‰ç…§å½“å‰æŸ¥è¯¢æ•°ç»„é¡ºåºçš„querysetã€‚é‡è§äº†è¿™æ ·ä¸€ä¸ªéœ€æ±‚ ï¼Œæ”¶è—åˆ—è¡¨éœ€è¦è¿”å›žæŒ‰ç…§æ”¶è—é¡ºåºçš„å•†å“ã€‚è€Œè¿™ä¸ªé¡ºåºä¿å­˜åœ¨javaåŽå°ã€‚é€šè¿‡ThriftæŽ¥å£è°ƒç”¨ï¼Œè¿”å›žäº†ä¸€ä¸ªidåˆ—è¡¨ï¼Œè€Œå•†å“ä¿å­˜åœ¨æˆ‘è¿™é‡Œã€‚éœ€è¦æ ¹æ®è¿™ä¸ªidçš„é¡ºåºè¿”å›žquerysetã€‚django-get-a-queryset-from-array-of-ids-in-specific-orderã€‚ 123from django.db.models import Case, Whenpreserved = Case(*[When(num_iid=num_iid, then=pos) for pos, num_iid in enumerate(num_iids)])TbkCoupon.objects.filter(num_iid__in=num_iids).order_by(preserved)]]></content>
      <categories>
        <category>Project</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Django-rest-framework</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ­£åˆ™ç¯‡ï¼‰regex]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%AD%A3%E5%88%99%E7%AF%87%EF%BC%89regex%2F</url>
    <content type="text"><![CDATA[193. Valid Phone Numbersä½¿ç”¨bashå‘½ä»¤åœ¨ä¸€è¡Œä¸­æå–ä¸€ä¸ªæ–‡æœ¬ä¸­çš„æ‰‹æœºå·ã€‚åŽŸé¢˜ 12345678910(xxx) xxx-xxxx or xxx-xxx-xxxx. (x means a digit).Assume that file.txt has the following content:987-123-4567123 456 7890(123) 456-7890Your script should output the following valid phone numbers:987-123-4567(123) 456-7890 1awk '/^([0-9]&#123;3&#125;-|\([0-9]&#123;3&#125;\) )[0-9]&#123;3&#125;-[0-9]&#123;4&#125;$/' telephone.txt]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Regex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å¹¶è¡Œèµ‹å€¼]]></title>
    <url>%2FPython-%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F%E5%90%8C%E6%97%B6%E8%B5%8B%E5%80%BC%2F</url>
    <content type="text"><![CDATA[ç»å¸¸å¯ä»¥åœ¨Pythonçœ‹åˆ°è¿™æ ·çš„èµ‹å€¼è¯­å¥ a, b, c = 1, 2, 3ï¼Œå…¶æ‰§è¡Œé¡ºåºå…ˆæ‰§è¡Œ=å³è¾¹çš„è¡¨è¾¾å¼ï¼Œå†ä¾æ¬¡å°†å€¼èµ‹ç»™å·¦è¾¹ï¼ŒPythonè§£é‡Šå™¨ä¼šå°†å…¶ç»„æˆä¸ºä¸€ä¸ªtupleï¼Œèµ‹å€¼çš„æ—¶å€™å†unpackã€‚ 1234&gt;&gt;&gt; a, b = 2, 0&gt;&gt;&gt; a, b, a = 1, a, 4&gt;&gt;&gt; a, b(4, 2) å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æ˜¯å…ˆæŠŠç®—å‡ºå³è¾¹çš„å€¼(1, 2, 4)å†å°†å…¶èµ‹å€¼ç»™å·¦è¾¹ï¼Œæœ€åŽaçš„å€¼è¢«ä¿®æ”¹æˆäº†4ã€‚ å¦‚æžœæ˜¯å¯å˜çš„å¯¹è±¡æ€Žä¹ˆåŠžï¼ŒLeetCodeæœ‰ä¸€é“ç»å…¸çš„é¢˜ï¼Œå«åè½¬ä¸€ä¸ªé“¾è¡¨ã€‚è¦æ±‚å°†1-&gt;2-3-&gt;Noneçš„é“¾è¡¨åè½¬æˆ3-&gt;2-&gt;1-&gt;Noneã€‚æœ‰ä¸€ä¸ªè¿­ä»£çš„å†™æ³•æ˜¯è¿™æ ·çš„ã€‚ 12345678def reverseList(head): prev = None while head: cur = head head = head.next cur.next = prev prev = cur return prev å®ƒçš„ç®€åŒ–å†™æ³•å¦‚ä¸‹ï¼š 12345def reverseList(self, head): prev = None while head: head.next, prev, head = prev, head, head.next return prev å…·ä½“çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ã€‚å…ˆæ‰§è¡Œ=å³è¾¹è¡¨è¾¾å¼(None, head, head.next)ï¼Œç„¶åŽç¬¬ä¸€æ­¥æŠŠhead.next=Noneï¼Œæ­¤æ—¶headå˜æˆäº†1-&gt;Noneï¼›ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œprev=headï¼Œè¿™é‡Œä¸ºä»€ä¹ˆheadçš„å€¼æ—¶1-&gt;Noneè€Œä¸æ˜¯1-&gt;2-3-&gt;Noneå‘¢ï¼Œå› ä¸ºè™½ç„¶ç­‰å¼å…ˆæ‰§è¡Œçš„å³è¾¹ï¼Œæ‹¿åˆ°äº†headï¼Œä½†æ˜¯ä¸Šä¸€æ­¥çš„æ“ä½œæ˜¯å°†headä¿®æ”¹äº†ï¼Œç”±äºŽheadæ˜¯ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œprevçš„å€¼æ˜¯1-&gt;Noneï¼Œæœ€åŽå†æŠŠhead=head.nextï¼Œè¿™é‡Œä¸ºä»€ä¹ˆhead.nextçš„å€¼åˆæ˜¯2-&gt;3-&gt;Noneäº†å‘¢ï¼Œå› ä¸ºï¼Œæ‰§è¡Œå³ä¾§çš„è¡¨è¾¾å¼ä¹‹åŽï¼Œhead.nextè¿™ä¸ªå¯¹è±¡å†å‰ä¸¤æ­¥ä¸­æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¸€ç›´éƒ½æ˜¯2-&gt;3-&gt;Noneï¼Œè¿™æ­£æ˜¯å’Œç¬¬äºŒæ­¥ä¸åŒçš„åœ°æ–¹ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå†™æ³•æ˜¯ç­‰åŒçš„ã€‚ å‚è€ƒï¼š Multiple assignment and evaluation order in Python]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[371. Sum of Two Integers - Python]]></title>
    <url>%2F371-Sum-of-Two-Integers-Python%2F</url>
    <content type="text"><![CDATA[ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•å‰‘æŒ‡Offerä¸­ä¹Ÿå‡ºçŽ°è¿‡æ­¤é¢˜ï¼Œæ­¤ç¯‡æ–‡ç« ç€é‡åˆ†æžä¸€ä¸‹ä¸ºä»€ä¹ˆPythonéœ€è¦åšä¸€äº›å¤šä½™çš„æ“ä½œã€‚ æ ¹æ®ä¹¦ä¸­çš„åˆ†æžï¼Œå¤§è‡´åˆ†ä¸ºä¸‰æ­¥ï¼š ç›¸åŠ ä½†ä¸è¿›ä½ï¼Œä½¿ç”¨^ è¿›ä½ä½¿ç”¨&amp;å’Œ&lt;&lt; å‰ä¸¤æ­¥ç»“æžœç›¸åŠ  è¿™é‡Œä¸å†èµ˜è¿°è¯¦ç»†è¿‡ç¨‹ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸éš¾å†™å‡ºä»£ç ï¼š 1234567def get_sum(a, b): res, carry = 0, 0 while b != 0: res = a ^ b carry = (a &amp; b) &lt;&lt; 1 a, b = res, carry return res ä½†æ˜¯å½“è¾“å…¥a=-1, b=1æ—¶ï¼Œä¼šå‘çŽ°ç¨‹åºè¶…æ—¶ã€‚å…ˆæ¥çœ‹çœ‹æ­£å¸¸çš„32ä½intç±»åž‹è¿ç®—æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå› ä¸ºè¿›è¡Œä½è¿ç®—æ—¶è¦ä½¿ç”¨è¡¥ç è¿›è¡Œè¿ç®—ï¼Œè€Œæ­£æ•°çš„åç å’Œè¡¥ç éƒ½æ˜¯æœ¬èº«ï¼Œè´Ÿæ•°çš„åç ä¸ºé™¤ç¬¦å·ä½ï¼Œå…¶å®ƒæŒ‰ä½å–åï¼Œè´Ÿæ•°çš„è¡¥ç ä¸ºåç +1ã€‚ä¸‹é¢åˆ—å‡ºäº†32ä¸ºæ•´æ•°ä¼ å…¥a=-1,b=1æ—¶ï¼Œæ¯æ¬¡å¾ªçŽ¯ä¸­aå’Œbçš„è¡¥ç ã€‚ açš„åŽŸç  açš„è¡¥ç  bçš„è¡¥ç  a ^ b a &amp; b 10â€¦0001 11â€¦1111 00â€¦0001 11â€¦1110 00â€¦0001 10â€¦0010 11â€¦1110 00â€¦0010 11â€¦1100 00â€¦0010 10â€¦0100 11â€¦1100 00â€¦0100 11â€¦1000 00â€¦0100 â‹® â‹® â‹® â‹® â‹® 110â€¦000 110â€¦000 010â€¦000 100â€¦000 010â€¦000 100â€¦000 100â€¦000 100â€¦000 000â€¦000 100â€¦000 000â€¦000 000â€¦000 000â€¦000 â€˜breakâ€™ â€˜breakâ€™ å¯ä»¥çœ‹å‡ºç”±äºŽä½æ•°çš„é™åˆ¶ï¼Œbå’Œaæœ€åŽéƒ½å˜æˆäº†0ã€‚å› ä¸ºPythonä¸­çš„intæ²¡æœ‰èŒƒå›´é™åˆ¶ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæ­»å¾ªçŽ¯çš„åŽŸå› ã€‚ å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦åœ¨bçš„è¡¥ç å˜æˆ1000â€¦000(32ä¸ª0)æ—¶ç»ˆæ­¢å¾ªçŽ¯ï¼Œå¦‚ä½•å°†ä¸€ä¸ªä¸€ä¸ªæ— é™ä½çš„æ•´åž‹è½¬æˆ32ä½å‘¢ï¼Œæƒ³åˆ°äº†&amp;ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªmask=2**32-1ä¹Ÿå°±æ˜¯32ä¸ª1ï¼Œç”¨ä¸€ä¸ªæ— é™ä½çš„å€¼å’Œmaskè¿›è¡Œä¸Žè¿ç®—ï¼Œå°±å˜æˆäº†ä¸Šè¿°è¡¨æ ¼ä¸­çš„ä¾‹å­ï¼ŒäºŽæ˜¯æˆ‘ä»¬å°†ä»£ç æ”¹ä¸ºï¼š 12345678def getSum(self, a, b): res, carry = 0, 0 mask = 0xFFFFFFFF while b != 0: res = (a ^ b) &amp; mask carry = ((a &amp; b) &lt;&lt; 1) &amp; mask a, b = res, carry return res æäº¤ä¹‹åŽè¿˜æ˜¯ä¸èƒ½é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼Œå½“a=-12, b=-8æ—¶è¾“å‡ºäº†4294967276è€Œä¸æ˜¯-20ã€‚å¥½ï¼ŒæŠŠmaskå…ˆåŽ»æŽ‰ï¼Œä¼ å…¥è¿™ä¸¤ä¸ªå€¼ï¼Œå‘çŽ°å¯ä»¥æ­£å¸¸è¾“å‡º-20ï¼Œé‚£ä¹ˆè¿™é‡Œçš„maskæ˜¯æ€Žä¹ˆé€ æˆäº†ä¸€äº›å‰¯ä½œç”¨çš„ã€‚å†æ¥åˆ†æžä¸€ä¸‹è¿™ä¸¤ä¸ªå‚æ•°ä¸‹ï¼Œå…·ä½“çš„è¿‡ç¨‹æ˜¯æ€Žæ ·çš„ã€‚ ä¸ºäº†æ–¹ä¾¿DEBUGï¼Œæˆ‘ä»¬æ·»åŠ ä¸€äº›è¾“å‡ºï¼š 1234567891011121314def get_sum(self, a, b): mask = 0xFFFFFFFF res, carry = 0, 0 while b != 0: print('bin(&#123;&#125;) = &#123;&#125;, bin(&#123;&#125;) = &#123;&#125;'.format(a, bin(a), b, bin(b))) res = (a ^ b) &amp; mask # res = (a ^ b) print('\t res = &#123;&#125;, bin(res) = &#123;&#125;'.format(res, bin(res))) carry = ((a &amp; b) &lt;&lt; 1) &amp; mask # carry = ((a &amp; b) &lt;&lt; 1) print('\t \t a&amp;b = &#123;&#125;, (a&amp;b)&lt;&lt;1 = &#123;&#125;, carry = &#123;&#125;'.format((a&amp;b), ((a&amp;b)+1), carry)) a, b = res, carry # return res if res &lt;= MAX else ~(res ^ mask) return res è¾“å‡ºå¦‚ä¸‹ï¼š 12345678910111213141516Finished in 20 msbin(-12) = -0b1100, bin(-8) = -0b1000 res = 12, bin(res) = 0b1100 a&amp;b = -16, (a&amp;b)&lt;&lt;1 = -15, carry = -32bin(12) = 0b1100, bin(-32) = -0b100000 res = -20, bin(res) = -0b10100 a&amp;b = 0, (a&amp;b)&lt;&lt;1 = 1, carry = 0-20Finished in 24 msbin(-12) = -0b1100, bin(-8) = -0b1000 res = 12, bin(res) = 0b1100 a&amp;b = -16, (a&amp;b)&lt;&lt;1 = -15, carry = 4294967264bin(12) = 0b1100, bin(4294967264) = 0b11111111111111111111111111100000 res = 4294967276, bin(res) = 0b11111111111111111111111111101100 a&amp;b = 0, (a&amp;b)&lt;&lt;1 = 1, carry = 04294967276 å¯ä»¥çœ‹åˆ°åœ¨è¿›è¡Œ-15&amp;maskæ—¶ï¼Œcarryå˜æˆäº†ä¸€ä¸ªå¾ˆå¤§çš„æ­£æ•°ï¼Œå¹¶ä¸¢å¤±äº†ç¬¦å·ã€‚æ­¤å¤„ä¸ºä¸ªäººçŒœæƒ³ï¼Œå½“è´Ÿæ•°ä¸Žmaskè¿›è¡Œä¸Žè¿ç®—æ—¶ï¼Œæ¯”å¦‚-2ï¼Œæ­¤æ—¶-2çš„è¡¥ç å˜ä¸º11â€¦10ï¼Œä¸€ä¸ª33-bitçš„æ•°å­—ï¼Œç„¶åŽå’Œ32ä½çš„maskä¸Žæ“ä½œåŽï¼Œå˜ä¸ºäº†ä¸€ä¸ª33ä½çš„æ­£æ•°ã€‚ æœ‰ä¸€ä¸ªå…¬å¼å¯ä»¥å¸®æˆ‘ä»¬è¿˜åŽŸaï¼Œå¦‚æžœä¸€ä¸ªè´Ÿæ•°nï¼Œå®ƒçš„æ— ç¬¦å·çš„32ä½è¡¥ç æ˜¯mï¼Œé‚£ä¹ˆm=~(n ^ mask) æˆ–è€…n=~(m ^ mask) äºŽæ˜¯ä»£ç ä¿®æ”¹ä¸ºï¼š 1234567891011121314def getSum(self, a, b): MASK = 0xffffffff # in Python, every integer is associated with its two's complement and its sign. # However, doing bit operation "&amp; mask" loses the track of sign. # Therefore, after the while loop, a is the two's complement of the final result as a 32-bit unsigned integer. while b != 0: a, b = (a ^ b) &amp; MASK, ((a &amp; b) &lt;&lt; 1) &amp; MASK # a is negative if the first bit is 1 if (a &gt;&gt; 31) &amp; 1: return ~(a ^ MASK) else: return a è™½ç„¶pythonè¿›è¡Œå¤§æ•°å­—è¿ç®—å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æ— é™åˆ¶ä½æ•°å¾€å¾€ä¼šå¯¹ä½è¿ç®—çš„æ“ä½œä¸­äº§ç”Ÿä¸€äº›é™·é˜±ã€‚å¦‚æžœå¯ä»¥ç›´æŽ¥è½¬æˆJavaä¸­é‚£ç§32çš„intï¼Œå²‚ä¸æ˜¯æ²¡æœ‰è¿™ä¹ˆå¤šéº»çƒ¦äº†ï¼Œå¥½åœ¨numpyä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·çš„æ–¹æ³•ã€‚ 1234567import numpy as npclass Solution(object): def getSum(self, a, b): while b != 0: a, b = np.int32(a ^ b), np.int32((a &amp; b) &lt;&lt; 1) return int(a) æœ€åŽè¦å†è½¬å›žintï¼Œå¦åˆ™æ˜¯æ²¡æ³•é€šè¿‡æµ‹è¯•ç”¨ä¾‹çš„ã€‚ å‚è€ƒï¼š numpyå®žçŽ°æ–¹å¼ maskå®žçŽ°æ–¹å¼ the-meaning-of-bit-wise-not-in-python stackoverflow]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Bit Manipulation</tag>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¦ç‘Ÿå¤«çŽ¯é—®é¢˜ï¼ˆJosephus problemï¼‰]]></title>
    <url>%2F%E7%BA%A6%E7%91%9F%E5%A4%AB%E7%8E%AF%E9%97%AE%E9%A2%98%EF%BC%88Josephus-problem%EF%BC%89%2F</url>
    <content type="text"><![CDATA[é—®é¢˜ï¼š0ï¼Œ1ï¼Œâ€¦ï¼Œn-1è¿™nä¸ªæ•°å­—æŽ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»Žæ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»Žè¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ã€‚æ±‚è¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åŽä¸€ä¸ªæ•°å­—ã€‚ æ³¨æ„åˆ°ï¼Œä¸€å¼€å§‹æœ‰ n ä¸ªäººï¼ŒæŠ¥åˆ° m çš„äººå‡ºå±€åŽï¼Œå¦‚æžœæˆ‘ä»¬ä»Žåˆšæ‰å‡ºå±€çš„é‚£äººçš„ä¸‹ä¸€ä½å¼€å§‹é‡æ–°ä»Ž 1 å¼€å§‹ç¼–å·ï¼ŒåŽŸé—®é¢˜å°±è½¬åŒ–ä¸ºäº†ä¸€ä¸ª nâ€“1 äººçš„é—®é¢˜ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š åŽŸå§‹ç¼–å·(i) ç¬¬ä¸€ä¸ªäººå‡ºå±€åŽçš„ç¼–å·(j) m 0 m+1 1 m+2 2 â€¦ â€¦ m-2 n-2 ï¼ˆnä¸ºå‡ºå±€å‰çš„æ€»äººæ•°ï¼‰ m-1 OUT å¯ä»¥çœ‹å‡ºè€ç¼–å·iå’Œæ–°ç¼–å·jçš„å…³ç³»ä¸ºï¼ši = (j+m) % nï¼ŒäºŽæ˜¯æ€»ç»“é€’æŽ¨å…¬å¼ï¼š f(n) = (f(n-1) + m) % n (n &gt; 1)ï¼Œå…¶ä¸­f(n)ä¸ºå½“åœºä¸Šè¿˜æœ‰nä¸ªäººæ—¶åœ¨åœºçš„äººçš„ç¼–å·ã€‚å½“æœ€åŽåªå‰©ä¸‹ä¸€ä¸ªäººçš„æ—¶å€™ï¼Œè¿™ä¸ªäººçš„ç¼–å·åªèƒ½æ˜¯0ï¼Œå³f(1)=0ï¼ŒçŽ°åœ¨æ ¹æ®ä¸Šé¢çš„å…¬å¼åæŽ¨ï¼ŒæŽ¨å¯¼å‡ºå½“nä¸ªäººåœ¨åœºæ—¶è¿™ä¸ªæœ€åŽå¹¸å­˜è€…çš„ç¼–å·ã€‚ä¾‹å¦‚ï¼šf(2)=(f(1)+m) % 2ï¼Œæ‰€ä»¥rangeèŒƒå›´ä»Ž2å¼€å§‹ï¼Œæ‰§è¡Œn-1æ¬¡ï¼Œä¹Ÿå°±æ˜¯range(2, n+1) 12345678def LastRemaining_Solution(self, n, m): # write code here if n&lt;=0 or m&lt;=0: return -1 last_num = 0 for i in range(2, n+1): last_num = (last_num+m) % i return last_num]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>algorithm</tag>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•ï¼ˆBoyer-Moore Voting Algorithmï¼‰]]></title>
    <url>%2F%E6%B3%A2%E4%B9%89%E5%B0%94%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95%EF%BC%88Boyer-Moore-Voting-Algorithm%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ The Boyerâ€“Moore majority vote algorithm is an algorithm for finding the majority of a sequence of elements using linear time and constant space. It is named after Robert S. Boyer and J Strother Moore, who published it in 1981,[1] and is a prototypical example of a streaming algorithm. æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³•æ˜¯ä¸€ç§ä½¿ç”¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥æ‰¾åˆ°æ•°ç»„çš„ä¸»è¦å…ƒç´ ï¼ˆå‡ºçŽ°è¶…è¿‡ä¸€åŠæ¬¡æ•°çš„å…ƒç´ ï¼‰ã€‚ é¢˜ç›®: 169. Majority Elementã€‚æ‰¾å‡ºæ•°ç»„ä¸­å‡ºçŽ°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚ Given an array of size n, find the majority element. The majority element is the element that appears more than âŒŠ n/2 âŒ‹ times. You may assume that the array is non-empty and the majority element always exist in the array. ã€Šå‰‘æŒ‡Offerã€‹ä¸­çš„è§£é‡Š éåŽ†æ•°ç»„çš„æ—¶å€™ä¿å­˜ä¸¤ä¸ªå€¼ï¼šä¸€ä¸ªæ˜¯æ•°ç»„ä¸­çš„æ•°å­—ï¼Œå¦ä¸€ä¸ªæ˜¯æ¬¡æ•°ã€‚å½“æˆ‘ä»¬éåŽ†åˆ°ä¸‹ä¸€ä¸ªæ•°å­—çš„æ—¶å€™ï¼Œå¦‚æžœä¸‹ä¸€ä¸ªæ•°å­—å’Œæˆ‘ä»¬ä¹‹å‰ä¿å­˜çš„æ•°å­—ç›¸åŒï¼Œåˆ™æ¬¡æ•°åŠ 1ï¼›å¦‚æžœä¸‹ä¸€ä¸ªæ•°å­—å’Œæˆ‘ä»¬ä¹‹å‰ä¿å­˜çš„æ•°å­—ä¸åŒï¼Œåˆ™æ¬¡æ•°å‡1ã€‚å¦‚æžœæ¬¡æ•°ä¸ºé›¶ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œå¹¶æŠŠæ¬¡æ•°è®¾ä¸º1.ç”±äºŽæˆ‘ä»¬è¦æ‰¾çš„æ•°å­—å‡ºçŽ°çš„æ¬¡æ•°æ¯”å…¶ä»–æ‰€æœ‰æ•°å­—å‡ºçŽ°çš„æ¬¡æ•°ä¹‹å’Œè¿˜è¦å¤šï¼Œé‚£ä¹ˆè¦æ‰¾çš„æ•°å­—è‚¯å®šæ˜¯æœ€åŽä¸€æ¬¡æŠŠæ¬¡æ•°è®¾ä¸º1æ—¶çš„å¯¹åº”æ•°å­—ã€‚ æ•´ä¸ªè¿‡ç¨‹æƒ³è±¡æˆä¸€æ¬¡æŠ•ç¥¨é€‰ä¸¾æŠ•ç¥¨è§„åˆ™ï¼šå¤§å±å¹•ä¸Šåªå…è®¸å‡ºçŽ°ä¸€ä½å€™é€‰äººã€‚å¦‚æžœé€‰ä¸¾äººæŠ•çš„ç¥¨ä¸æ˜¯å½“å‰å€™é€‰äººï¼Œé‚£ä¹ˆè®©å½“å‰å€™é€‰äººç¥¨-1ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™+1ã€‚OKï¼Œæˆ‘ä»¬çŽ°åœ¨æŠŠæ‰€æœ‰æ•°ç»„çš„å…ƒç´ å½“æˆæ˜¯é€‰ä¸¾äººä¸¾å‡ºçš„å·ç‰Œã€‚æˆ‘ä»¬å…ˆè€ƒè™‘æœ€æžç«¯çš„æƒ…å†µï¼šæœ€åŽçš„winnerä»¥ä¸€ç¥¨ä¹‹å·®é™©èƒœã€‚ä¹Ÿå°±æ˜¯å…ƒç´ å‡ºçŽ°çš„æ¬¡æ•°ä¸ºn//2+1ã€‚è¿™ç§æƒ…å†µæ˜¯å¦‚ä½•å‡ºçŽ°çš„å‘¢ï¼Œå‡è®¾æ•°ç»„æ˜¯è¿™æ ·çš„ï¼š 1[7, 7, 7, 7, 1, 2, 3] æ²¡æœ‰æŠ•7çš„é€‰ä¸¾äººå‡è®¾åœ¨ä¸€å¼€å§‹çŸ¥é“äº†æœ€æœ‰æ½œåŠ›çš„winnerå³7å·ï¼Œé‚£ä¹ˆä»–ä»¬â€˜åŒä»‡æ•Œå¿¾â€™ï¼Œå°†-1çš„ç¥¨éƒ½æŠ•åœ¨äº†7å·ä¸Šï¼Œè¿™ç§æƒ…å†µ7å·ä¸€ç›´å¤„äºŽå¤§å±å¹•ä¸­ï¼Œæ²¡æœ‰æ›´æ¢è¿‡å€™é€‰äººã€‚ä½†æ˜¯æœ€åŽä¹Ÿæ²¡èƒ½æ‰“è´¥7å·ï¼Œå› ä¸º7å·æœ€åŽè¿˜ä¿ç•™ä¸€ç¥¨ã€‚ å¦å¤–ä¸€ç§éžæžç«¯çš„æƒ…å†µï¼Œæ²¡æœ‰æŠ•7çš„é€‰ä¸¾äººäº§ç”Ÿäº†â€˜å†…è®§â€™ï¼š 1[7, 1, | 2, 3, | 7, 7, 7] é¦–å…ˆ7å·å¾—åˆ°ä¸€ç¥¨ï¼Œç„¶åŽè¢«1å·å¹²æŽ‰ï¼ŒæŽ¥ç€2å·ç§°ä¸ºå€™é€‰äººï¼Œè¢«3å·å¹²æŽ‰ã€‚3å·çš„ç¥¨æµªè´¹åœ¨äº†â€˜è‡ªå·±äººâ€™èº«ä¸Šï¼Œå³â€˜æˆ‘ä»¬ä¸­å‡ºäº†ä¸€ä¸ªå›å¾’â€™ã€‚å°±ç®—å›¢ç»“èµ·æ¥éƒ½å¹²ä¸è¿‡7å·ï¼Œæ‰€ä»¥winnerè¿˜æ˜¯7å·ã€‚ æœ€åŽé™„ä¸ŠLeetCodeä¸Šçš„Pythonä»£ç ï¼š 1234567891011class Solution: def majorityElement(self, nums): count = 0 candidate = None for num in nums: if count == 0: candidate = num count += (1 if num == candidate else -1) return candidate å‚è€ƒï¼š ç»´åŸºç™¾ç§‘ LeetCode]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆsqlç¯‡ï¼‰sql]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88sql%E7%AF%87%EF%BC%89sql%2F</url>
    <content type="text"><![CDATA[595. Big CountriesæŸ¥è¯¢â€™å¤§åŸŽå¸‚â€™ã€‚åŽŸé¢˜ ä½¿ç”¨where OR 123select name, population, area from World where area &gt; 3000000 or population &gt; 25000000; ä½¿ç”¨UNION 12345678select name, population, area from World where area &gt; 3000000unionselect name, population, areafrom Worldwhere population &gt; 25000000; è¡¥å……è¯´æ˜Žï¼šSolutionä¸­è§£é‡Šé“ï¼Œä½¿ç”¨UNIONä¼šæ¯”ORå¿«ä¸Šä¸€ä¸¢ä¸¢ã€‚ Suppose we are searching population and area, Given that MySQL usually uses one one index per table in a given query, so when it uses the 1st index rather than 2nd index, it would still have to do a table-scan to find rows that fit the 2nd index. å› ä¸ºå‰è€…æŸ¥è¯¢çš„æ—¶å€™åªç”¨åˆ°ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¯¹ç¬¬äºŒä¸ªæ¡ä»¶æŸ¥è¯¢æ—¶ï¼Œä¹Ÿå°±æ˜¯populationï¼Œä½¿ç”¨çš„æ˜¯å…¨è¡¨æ‰«æï¼ŒäºŽæ˜¯æµªè´¹äº†ä¸€äº›æ—¶é—´ã€‚ä½†æ˜¯æƒ³æƒ³èƒŒåŽçš„ä»£ä»·ï¼Œæƒ³å¿…æ˜¯ä»¥ç©ºé—´æ¥æ¢æ—¶é—´ã€‚ 627. Swap Salaryè½¬æ¢æ€§åˆ«ã€‚åŽŸé¢˜ ä½¿ç”¨if 123UPDATE salarySET sex=IF(sex='m', 'f', 'm'); ä½¿ç”¨CASE 1234567update salaryset sex = CASE sex when 'm' Then 'f' else 'm' END; ä½¿ç”¨XOR 123update salaryset sex = CHAR(ASCII('f') ^ ASCII('m') ^ ASCII(sex)); 620. Not Boring Moviesä½¿ç”¨MODæ›¿ä»£%ã€‚åŽŸé¢˜12345select *from cinemawhere mod(id, 2) = 1 and description != 'boring'order by rating DESC; 182. Duplicate EmailsæŸ¥è¯¢å¤šä½™çš„é‡å¤å€¼ã€‚åŽŸé¢˜æ€è€ƒï¼šå¼€å§‹é™·å…¥äº†è¯¯åŒºï¼Œä»¥ä¸ºè¦å°†é‡å¤çš„idä¹ŸæŸ¥å‡ºæ¥ã€‚ 1234SELECT emailFROM PersonGROUP BY emailHAVING Count(*) &gt; 1; 175. Combine Two Tableså·¦é“¾æŽ¥ã€‚è¿‡äºŽç®€å•ã€‚åŽŸé¢˜123456SELECT p.FirstName, p.LastName, ad.City, ad.StateFROM Person p LEFT JOIN Address ad ON p.PersonId = ad.PersonId; 181. Employees Earning More Than Their Managersè‡ªé“¾æŽ¥ã€‚åŽŸé¢˜123456select e.name Employeefrom Employee e inner join Employee m on e.ManagerId = m.Idwhere e.Salary &gt; m.Salary; 183. Customers Who Never Orderæ²¡æœ‰è®¢å•çš„é¡¾å®¢ã€‚åŽŸé¢˜123456select c.name Customersfrom Customers c left join Orders o on c.id = o.CustomerIdwhere o.CustomerId is Null; 123456select customers.name as 'Customers'from customerswhere customers.id not in( select customerid from orders); 596. Classes More Than 5 Studentsè¶…è¿‡5ä¸ªå­¦ç”Ÿçš„ç­çº§ã€‚åŽŸé¢˜12345select classfrom coursesgroup by classhaving count(distinct student) &gt;= 5; 197. Rising Temperatureè¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œå¼€å§‹å¤©çœŸåœ°æƒ³ç”¨idä½œä¸ºæ¡ä»¶ï¼Œæµ‹è¯•ç”¨ä¾‹æ•™åšäººã€‚åŽŸé¢˜ æˆ‘çš„ç­”æ¡ˆ 123456SELECT today.IdFROM Weather yest INNER JOIN Weather today ON today.RecordDate = DATE_ADD(yest.RecordDate, INTERVAL 1 day)WHERE today.Temperature &gt; yest.Temperature; æ ‡å‡†ç­”æ¡ˆ 12345678SELECT weather.id AS 'Id'FROM weather JOIN weather w ON DATEDIFF(weather.date, w.date) = 1 AND weather.Temperature &gt; w.Temperature; æŸ¥çœ‹Mysqlæ–‡æ¡£ï¼š DATEDIFF(expr1,expr2) DATEDIFF() returns expr1 âˆ’ expr2 expressed as a value in days from one date to the other. expr1 and expr2 are date or date-and-time expressions. Only the date parts of the values are used in the calculation. 1234mysql&gt; SELECT DATEDIFF('2007-12-31 23:59:59','2007-12-30'); -&gt; 1mysql&gt; SELECT DATEDIFF('2010-11-30 23:59:59','2010-12-31'); -&gt; -31 196. Delete Duplicate Emailsåˆ é™¤é‡å¤çš„é‚®ä»¶ã€‚åŽŸé¢˜1234delete p1 from Person p1, Person p2where p1.email=p2.email and p1.Id &gt; p2.Id; 176. Second Highest Salaryè¿”å›žç¬¬äºŒé«˜çš„salaryã€‚åŽŸé¢˜PSï¼šå¥‡æ€ªçš„é¢˜ï¼Œæ²¡æœ‰è®°å½•éžè¦äººè¿”å›žNullï¼Œåªèƒ½å†å¥—ä¸€å±‚æŸ¥è¯¢æˆ–è€…ä½¿ç”¨IFNULLä¹Ÿå¯ä»¥ã€‚ 12345678SELECT (SELECT DISTINCT Salary FROM Employee ORDER BY Salary DESC LIMIT 1 OFFSET 1) AS SecondHighestSalary; 626. Exchange Seatsäº¤æ¢ç›¸é‚»ä¸¤è¡Œçš„å€¼ã€‚åŽŸé¢˜å¼€å§‹ç†è§£é”™äº†ï¼Œä»¥ä¸ºè¦updateã€‚ CASE 123456789101112SELECT ( CASE WHEN MOD(id, 2) != 0 AND counts != id THEN id + 1 WHEN MOD(id, 2) != 0 AND counts = id THEN id ELSE id - 1 end ) AS id, studentFROM seat, (SELECT Count(*) AS counts FROM seat) AS seat_countsORDER BY id ASC;; COALESCE() ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨XORï¼Œä½†æ˜¯ä¸èƒ½ç›´æŽ¥ä½¿ç”¨æŽ’åºå› ä¸ºidä¸º5çš„è¢«æ¢æˆäº†6ã€‚ 1SELECT id, (id+1)^1-1, student FROM seat; 123456789+------+------+----------+------------+---------+| id | id+1 | (id+1)^1 | (id+1)^1-1 | student |+------+------+----------+------------+---------+| 1 | 2 | 3 | 2 | Abbot || 2 | 3 | 2 | 1 | Doris || 3 | 4 | 5 | 4 | Emerson || 4 | 5 | 4 | 3 | Green || 5 | 6 | 7 | 6 | Jeame |+------+------+----------+------------+---------+ ç¬¬äºŒæ­¥ï¼šä½¿ç”¨LEFT JOINé“¾æŽ¥ã€‚ 12345SELECT *FROM seat s1 LEFT JOIN seat s2 ON ( s1.id + 1 )^1 - 1 = s2.idORDER BY s1.id; 123456789+------+---------+------+---------+| id | student | id | student |+------+---------+------+---------+| 1 | Abbot | 2 | Doris || 2 | Doris | 1 | Abbot || 3 | Emerson | 4 | Green || 4 | Green | 3 | Emerson || 5 | Jeame | NULL | NULL |+------+---------+------+---------+ ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨COALESCE() 1234567SELECT s1.id, Coalesce(s2.student, s1.student) as studentFROM seat s1 LEFT JOIN seat s2 ON ( s1.id + 1 )^1 - 1 = s2.idORDER BY s1.id; å‚è€ƒï¼šMysqlæ–‡æ¡£ Returns the first non-NULL value in the list, or NULL if there are no non-NULL values.The return type of COALESCE() is the aggregated type of the argument types. 178. Rank Scores]]></content>
      <categories>
        <category>sql</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆä½è¿ç®—ç¯‡ï¼‰Bit Manipulation]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AF%87%EF%BC%89Bit-Manipulation%2F</url>
    <content type="text"><![CDATA[191. Number of 1 Bitsè®¡ç®—æ•°å­—çš„äºŒè¿›åˆ¶ä¸­æœ‰å¤šå°‘ä¸ª1ã€‚åŽŸé¢˜123Input: 11Output: 3Explanation: Integer 11 has binary representation 00000000000000000000000000001011 æ–¹æ³•ä¸€ï¼šå¸¸è§„è§£æ³•ï¼Œä½¿ç”¨1ä¸Žnä½œä¸Žè¿ç®—ï¼Œå¦‚æžœä¸æ˜¯0è¯´æ˜Žï¼Œå«æœ‰ä¸€ä¸ª1ã€‚ 1234567def hamming_weight(n): bits, mask = 0, 1 for _ in range(32): if n&amp;mask != 0: bits += 1 mask &lt;&lt;= 1 return bits æ–¹æ³•äºŒï¼šå…³é”®ç‚¹æ˜¯ï¼Œä¸€ä¸ªæ•°nå’Œn-1çš„ä¸Žè¿ç®—æ“ä½œï¼Œç›¸å½“äºŽåŽ»æŽ‰äº†æœ€å³é¢çš„1ã€‚ 123456def hamming_weigth(n): bits = 0 while n: bits += 1 n = (n-1) &amp; n return bits 136. Single Numberæ‰¾å‡ºæ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ ã€‚å…¶å®ƒå…ƒç´ å‡ºçŽ°ä¸¤æ¬¡ã€‚åŽŸé¢˜12Input: [4,1,2,1,2]Output: 4 123def single_num(nums): from itertools import reduce return reduce(lambda x, y: x ^ y, nums) 137. Single Number IIæ‰¾å‡ºæ•°ç»„ä¸­å‡ºçŽ°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶å®ƒå…ƒç´ å‡ºçŽ°ä¸‰æ¬¡ã€‚åŽŸé¢˜12Input: [2,2,3,2]Output: 3 æ–¹æ³•ä¸€ï¼šæ‰¾å‡ºå•ç‹¬å…ƒç´ æ¯ä¸€ä½çš„å€¼ã€‚å¦‚æžœæŠŠæ‰€æœ‰æ•°å­—çš„äºŒè¿›åˆ¶æ¯ä¸€ä½åŠ èµ·æ¥ï¼Œå¦‚æžœæŸä¸€ä½å¯ä»¥è¢«3æ•´é™¤ï¼Œåˆ™è¡¨ç¤ºå•ç‹¬å…ƒç´ çš„è¯¥ä½ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ä»¥ä¸‹ä½¿ç”¨countæ¥è¡¨ç¤ºæ¯ä¸€ä½1çš„ä¸ªæ•°ã€‚å‡è®¾count%3!=0ä¸ºTrueï¼Œè¯´æ˜Žè¯¥å…ƒç´ iä½ä¸º1ï¼Œç„¶åŽæ˜¯ç”¨|=æ›´æ–°ansåœ¨ç¬¬iä¸ªä½ç½®çš„å€¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨+=ï¼Œä½†æ˜¯æ•ˆçŽ‡ç¨æ…¢ã€‚convertçš„ä½œç”¨æ˜¯å› ä¸ºpythonä¸­çš„intæ˜¯ä¸ªå¯¹è±¡ï¼Œä¸”æ²¡æœ‰æœ€å¤§é™åˆ¶ï¼Œä¸æ˜¯åœ¨ç¬¬32ä½ä½¿ç”¨1æ¥è¡¨ç¤ºè´Ÿæ•°ã€‚ 1234567891011121314def singleNumber(self, nums, n=3): ans = 0 for i in range(32): count = 0 for num in nums: if ((num &gt;&gt; i) &amp; 1): count += 1 ans |= ((count%n!=0) &lt;&lt; i) return self.convert(ans)def convert(self, x): if x &gt;= 2**31: x -= 2**32 return x è¿™é‡Œæœ‰ä¸ªçŠ¶æ€æœºçš„è§£æ³•ï¼Œä¸æ˜Žè§‰åŽ‰ï¼Œç•™å‘ã€‚è®¨è®º1å’Œè®¨è®º2 123456def singleNumber(self, nums): ones, twos = 0, 0; for i in range(len(nums)): ones = (ones ^ nums[i]) &amp; ~twos twos = (twos ^ nums[i]) &amp; ~ones return ones 260. Single Number IIIæ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºçŽ°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºçŽ°ä¸¤æ¬¡ã€‚åŽŸé¢˜12Input: [1,2,1,3,2,5]Output: [3,5] æ€æƒ³ï¼šå°†è¿™ä¸¤ä¸ªå…ƒç´ åˆ†åˆ°ä¸¤ä¸ªç»„ï¼Œç”±äºŽè¿™ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥äº¦æˆ–ç»“æžœä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´äºŒè¿›åˆ¶ä¸­è‡³å°‘æœ‰ä¸€ä½1ï¼Œè®°ä¸ºç¬¬nä½ã€‚æˆ‘ä»¬ä»¥ç¬¬nä½æ˜¯å¦ä¸º1ï¼ŒæŠŠæ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ã€‚ 123456789101112def singleNumber(self, nums): total_xor = self.get_xor(nums) mask = 1 while total_xor&amp;mask == 0: mask &lt;&lt;= 1 p1 = [num for num in nums if num&amp;mask==0] p2 = [num for num in nums if num&amp;mask!=0] return [self.get_xor(p1), self.get_xor(p2)] def get_xor(self, nums): from functools import reduce return reduce(lambda x, y: x ^ y, nums) 371. Sum of Two Integersä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•ã€‚åŽŸé¢˜è§£æžä¸ºä½•Pythonä½è¿ç®—æœ‰äº›ä¸åŒ å®žé™…ä¸ŠåŠ æ³•åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ ç›¸åŠ ä½†ä¸è¿›ä½ï¼Œ1^0=1ï¼Œ1^1=0ï¼Œ0^0=0ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥ç”¨å¼‚æˆ–ã€‚ åªæ±‚è¿›ä½çš„ç»“æžœï¼Œåªæœ‰ä¸¤ä¸ª1æ‰ä¼šè¿›ä½ï¼Œæ‰€ä»¥ç”¨&amp;ï¼Œç„¶åŽå·¦ç§»1ä½ï¼Œè¡¨ç¤ºè¦è¿›çš„ä½ã€‚ æŠŠå‰ä¸¤æ­¥çš„ç»“æžœå†é‡å¤1ï¼Œ2æ­¥ï¼Œç›´åˆ°æ²¡æœ‰è¿›ä½äº§ç”Ÿï¼Œå³b=0ã€‚ 12345678910111213def getSum(self, a, b): # 32 bits integer max MAX = 0x7FFFFFFF # 2**31-1 # 32 bits interger min MIN = 0x80000000 # -2**31 # mask to get last 32 bits mask = 0xFFFFFFFF # 2*32-1 while b != 0: # ^ get different bits and &amp; gets double 1s, &lt;&lt; moves carry a, b = (a ^ b) &amp; mask, ((a &amp; b) &lt;&lt; 1) &amp; mask # if a is negative, get a's 32 bits complement positive first # then get 32-bit positive's Python complement negative return a if a &lt;= MAX else ~(a ^ mask) 190. Reverse Bitsè¿”å›žä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶çš„å€’åºçš„åè¿›åˆ¶ã€‚åŽŸé¢˜1234Input: 43261596Output: 964176192Explanation: 43261596 represented in binary as 00000010100101000001111010011100, return 964176192 represented in binary as 00111001011110000010100101000000. æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŽŸç”Ÿåº“ã€‚ljustè¡¨ç¤ºåœ¨å³ä¾§è¡¥â€™0â€™ã€‚æˆ–è€…ä½¿ç”¨formatæ¥è¡¥0ã€‚ 123def reverseBits(self, n): return int(bin(n)[:1:-1].ljust(32, '0'), 2) # return int('&#123;:0&lt;32s&#125;'.format(bin(n)[:1:-1]), 2) æ–¹æ³•äºŒï¼šè‡ªå·±å®žçŽ°è¿›åˆ¶è½¬æ¢ï¼Œä½¿ç”¨ä½è¿ç®—ä¼˜åŒ–ã€‚ 123456def reverseBits(self, n): code = '' for _ in range(32): code += str(n &amp; 1) n &gt;&gt;= 1 return sum([int(bit) &lt;&lt; i for i, bit in enumerate(code[::-1])]) æ–¹æ³•äºŒæ”¹è¿›ï¼šè¿™é‡Œæœ‰ä¸ªè¯¯åŒºï¼Œä¸ºä»€ä¹ˆéžè¦å°†æ•´ä¸ªäºŒè¿›åˆ¶å®Œæ•´ä½“çŽ°å‡ºæ¥ï¼Œå†åŽ»éåŽ†å®ƒè½¬æˆintï¼Œè€Œä¸æ˜¯ç›´æŽ¥æž„å»ºè¿™ä¸ªintã€‚ 123456def reverseBits(self, n): code = 0 for _ in range(32): code = (code&lt;&lt;1) + (n&amp;1) n &gt;&gt;= 1 return code 389. Find the Differenceså’Œtä¸¤ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œtæ˜¯ç”±sæ‰“ä¹±é¡ºåºå¹¶å†éšæœºæ·»åŠ ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä½¿ç”¨Collectionã€‚ 123def findTheDifference(self, s, t): from collections import Counter return next((Counter(t) - Counter(s)).elements()) æ–¹æ³•äºŒï¼šä½¿ç”¨å¼‚æˆ–ã€‚ 1234def findTheDifference(self, s, t): from operator import xor from functools import reduce return chr(reduce(xor, map(ord, s+t))) 401. Binary Watchæœ‰è¿™æ ·ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ‰‹è¡¨ï¼Œè¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºæœ‰å‡ ä¸ªäº®ç€çš„ç¯ï¼Œè¿”å›žæ‰€æœ‰å¯èƒ½å‡ºçŽ°çš„æ—¶é—´ã€‚æ—¶é—´èŒƒå›´ä¸º12å°æ—¶åˆ¶ï¼Œå³hours(0-11)ï¼Œminutes(0-59)ã€‚åŽŸé¢˜ 12Input: n = 1Return: [&quot;1:00&quot;, &quot;2:00&quot;, &quot;4:00&quot;, &quot;8:00&quot;, &quot;0:01&quot;, &quot;0:02&quot;, &quot;0:04&quot;, &quot;0:08&quot;, &quot;0:16&quot;, &quot;0:32&quot;] ä¸€å¼€å§‹çš„æ€è·¯ï¼šè¿™æ˜¯ä¸ªé”™è¯¯çš„è§£æ³•ï¼Œå› ä¸ºåˆ†é’Ÿçš„ç¯ä¸åº”è¯¥è¶…è¿‡60åˆ†é’Ÿï¼Œå› ä¸ºè¦è¿›ä½ã€‚ç±»ä¼¼çš„4å’Œ8çš„å°æ—¶ç¯ä¹Ÿä¸èƒ½åŒæ—¶äº®èµ·ã€‚ 1234567def readBinaryWatch(self, num): from itertools import combinations # transform hours to minutes minutes = list(map(lambda x: x * 60, (1, 2, 4, 8))) + [32, 16, 8, 4, 2, 1] minutes_groups = combinations(minutes, num) res = ['&#123;:d&#125;:&#123;:0&gt;2d&#125;'.format(sum(g)//60, sum(g)%60) for g in minutes_groups] return res æ–¹æ³•äºŒï¼šæ­£ç¡®çš„å†™æ³•ã€‚éœ€è¦åˆ†å¼€åˆ¤æ–­å°æ—¶å’Œåˆ†é’Ÿï¼Œç„¶åŽå†åˆå¹¶ã€‚ 123456789101112def readBinaryWatch(self, num): from itertools import combinations # transform hours to minutes hours = list(map(lambda x: x*60, (1, 2, 4, 8))) minutes = (1, 2, 4, 8, 16, 32) res = [] for i in range(num+1): get_hours = [x for x in list(combinations(hours, i)) if sum(x) &lt; 12 * 60] get_minutes = [x for x in list(combinations(minutes, num-i)) if sum(x) &lt; 60] minutes_groups = [h+m for h in get_hours for m in get_minutes] res += ['&#123;:d&#125;:&#123;:0&gt;2d&#125;'.format(sum(g)//60, sum(g)%60) for g in minutes_groups] return res æ–¹æ³•ä¸‰ï¼šéåŽ†æ‰€æœ‰å¯èƒ½çš„æ—¶é—´ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ã€‚å› ä¸ºè¡¨ä¸­çš„æ•°ç»„éƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œæ‰€ä»¥â€™1â€™çš„ä¸ªæ•°å°±æ˜¯äº®ç¯çš„ä¸ªæ•°ã€‚ 1234def readBinaryWatch(self, num): return ['&#123;:d&#125;:&#123;:0&gt;2d&#125;'.format(h, m) for h in range(12) for m in range(60) if (bin(h)+bin(m)).count('1') == num] 405. Convert a Number to HexadecimalæŠŠä¸€ä¸ª32ä½æœ‰ç¬¦å·çš„æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ã€‚åŽŸé¢˜123456789Input:26Output:&quot;1a&quot;Input:-1Output:&quot;ffffffff&quot; 123def toHex(self, num): return ''.join(['0123456789abcdef'[(num &gt;&gt; 4 * i) &amp; 15] for i in range(8)])[::-1].lstrip('0') or '0' 461. Hamming Distanceæ±‚ä¸¤ä¸ªæ­£æ•°çš„åŽŸç ä¸­ä¸åŒä½çš„ä¸ªæ•°ã€‚åŽŸé¢˜1234567Input: x = 1, y = 4Output: 2Explanation:1 (0 0 0 1)4 (0 1 0 0) â†‘ â†‘The above arrows point to positions where the corresponding bits are different. 12def hammingDistance(self, x, y): return bin(x ^ y).count('1') 476. Number Complementç»™å®šä¸€ä¸ªæ­£æ•°ï¼Œæ±‚å…¶åŽŸç çš„æŒ‰ä½å–ååŽçš„æ•°ã€‚åŽŸé¢˜123Input: 5Output: 2Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2. æ–¹æ³•ä¸€ï¼šæš´åŠ›çš„æ–¹æ³•ã€‚ 12def findComplement(self, num): return int(''.join([str(1 ^ int(d)) for d in bin(num)[2:]]), 2) æ–¹æ³•äºŒï¼šå…¶å®žå°±æ˜¯æ±‚101å’Œ111çš„å¼‚æˆ–ã€‚æ‰€ä»¥å…ˆæ‰¾åˆ°111ã€‚ 12345def findComplement(self, num): i = 1 while i &lt;= num: i &lt;&lt;= 1 return (i-1) ^ num æ–¹æ³•ä¸‰ï¼šæ›´å°‘çš„ä½ç§»ã€‚æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯æ‰¾åˆ°111ã€‚æ¯”å¦‚ä¸€ä¸ª8ä½æ•°ï¼Œæœ€é«˜ä»£è¡¨ç¬¦å·ï¼š1000000ï¼Œå…ˆå°†å…¶å³ç§»1ä½ï¼Œä½¿å¾—å·¦è¾¹ä¸¤ä½éƒ½å˜æˆ1ã€‚ç„¶åŽå†å³ç§»2ä½ï¼Œä½¿å¾—å·¦è¾¹å››ä½å˜æˆ1ï¼Œä»¥æ­¤ç±»æŽ¨ï¼Œ8ä½æ•°æœ€å¤šç§»åŠ¨3æ¬¡å°±å¯ä»¥å¾—åˆ°1111111ï¼Œ32ä½åˆ™è¿˜éœ€è¦å†ç§»åŠ¨2æ¬¡ã€‚ 12345def findComplement(self, num): mask = num for i in range(5): mask |= mask &gt;&gt; (2**i) return num ^ mask 693. Binary Number with Alternating BitsäºŒè¿›åˆ¶æ˜¯å¦æ˜¯äº¤æ›¿çš„0å’Œ1ã€‚åŽŸé¢˜1234Input: 5Output: TrueExplanation:The binary representation of 5 is: 101 æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æ³•ã€‚ 12def hasAlternatingBits(self, n): return '00' not in bin(n) and '11' not in bin(n) æ–¹æ³•äºŒï¼šé™¤2æ³•ã€‚ 1234567def hasAlternatingBits(self, n): n, cur = divmod(n, 2) while n: if cur == n % 2: return False n, cur = divmod(n, 2) return True æ–¹æ³•ä¸‰ï¼šå¼‚æˆ–ã€‚ 12345def hasAlternatingBits(self, n): if not n: return False num = n ^ (n &gt;&gt; 1) return not (num &amp; num+1) 762. Prime Number of Set Bits in Binary Representationæ±‚æŸèŒƒå›´çš„æ‰€æœ‰è‡ªç„¶æ•°ä¸­ï¼ŒäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯è´¨æ•°çš„ä¸ªæ•°ã€‚åŽŸé¢˜123456789Input: L = 10, R = 15Output: 5Explanation:10 -&gt; 1010 (2 set bits, 2 is prime)11 -&gt; 1011 (3 set bits, 3 is prime)12 -&gt; 1100 (2 set bits, 2 is prime)13 -&gt; 1101 (3 set bits, 3 is prime)14 -&gt; 1110 (3 set bits, 3 is prime)15 -&gt; 1111 (4 set bits, 4 is not prime) æ–¹æ³•ä¸€ï¼šdirect. 12345678def countPrimeSetBits(self, L: 'int', R: 'int') -&gt; 'int': primes = &#123;2, 3, 5, 7, 11, 13, 17, 19&#125; # ans = 0 # for num in range(L, R+1): # if bin(num)[2:].count('1') in primes: # ans += 1 # return ans return sum(bin(n)[2:].count('1') in primes for n in range(L, R+1)) æ–¹æ³•äºŒï¼šä½è¿ç®—ã€‚p çš„2ï¼Œ3ï¼Œ5ï¼Œ7ã€‚ã€‚ä½æ˜¯1ï¼Œå…¶ä½™æ˜¯0ï¼Œè¿™æ ·åœ¨å³ç§»åŽï¼Œå¯&amp;1å°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯å¦æ˜¯è´¨æ•°ã€‚ 123def countPrimeSetBits(self, L: 'int', R: 'int') -&gt; 'int': p = int('10100010100010101100', 2) return sum(p &gt;&gt; bin(i).count('1') &amp; 1 for i in range(L, R+1)) 868. Binary GapäºŒè¿›åˆ¶ä¸¤ä¸ª1çš„æœ€å¤§è·ç¦»ã€‚åŽŸé¢˜12345678Input: 22Output: 2Explanation: 22 in binary is 0b10110.In the binary representation of 22, there are three ones, and two consecutive pairs of 1&apos;s.The first consecutive pair of 1&apos;s have distance 2.The second consecutive pair of 1&apos;s have distance 1.The answer is the largest of these two distances, which is 2. æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æˆ–æ˜¯ä½è¿ç®—éƒ½å¯ä»¥ã€‚ 12345678910def binaryGap(self, N: 'int') -&gt; 'int': ans, last = 0, None # for i, b in enumerate(bin(N)[2:]): for i in range(32): # if b == '1': if (N &gt;&gt; i) &amp; 1: if last is not None: ans = max(ans, i - last) last = i return ans æ–¹æ³•äºŒï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚ 1234def binaryGap(self, N: 'int') -&gt; 'int': one = [i for i, v in enumerate(bin(N)) if v == '1'] # return max([one[i+1] - one[i] for i in range(len(one)-1)] or [0]) return max([b-a for a, b in zip(one, one[1:])] or [0]) 268. Missing Number0~nä¸­ç¼ºå¤±çš„æ•°å­—ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæ•°å­¦å…¬å¼ã€‚ 12345def missingNumber(self, nums): n = len(nums) expected_sum = n*(n+1) // 2 actual_sum = sum(nums) return expected_sum - actual_sum æ–¹æ³•äºŒï¼šXOR. index 0 1 2 value 3 0 1 12345def missingNumber(self, nums: 'List[int]') -&gt; 'int': missing = len(nums) for i, num in enumerate(nums): missing ^= i ^ num return missing 1012. Complement of Base 10 Integeréžè´Ÿæ•°çš„åç ã€‚åŽŸé¢˜123456def bitwiseComplement(self, N: int) -&gt; int: mask = 1 while mask &lt; N: mask = (mask &lt;&lt; 1) + 1 # return mask - N return N ^ mask]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Bit Manipulation</tag>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆäºŒåˆ†æ³•ç¯‡ï¼‰Binary Search]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%88%86%E6%B3%95%E7%AF%87%EF%BC%89Binary-Search%2F</url>
    <content type="text"><![CDATA[704. Binary SearchäºŒåˆ†æ³•åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚åŽŸé¢˜123Input: nums = [-1,0,3,5,9,12], target = 9Output: 4Explanation: 9 exists in nums and its index is 4 æ–¹æ³•ä¸€ï¼šå®žçŽ°åŽŸç†ã€‚ 1234567891011def binary_search(nums, target): l, r = 0, len(nums)-1 while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt; target: r = mid - 1 elif nums[mid] &lt; target: l = mid + 1 else: return mid return -1 æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚ 1234def search(self, nums, target): from bisect import bisect_left index = bisect_left(nums, target) return index if index &lt; len(nums) and nums[index] == target else -1 35. Search Insert Positionç»™å®šä¸€ä¸ªtargetï¼Œæ’å…¥åˆ°ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œå‡å®šæ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚åŽŸé¢˜12Input: [1,3,5,6], 5Output: 2 æ–¹æ³•ä¸€ï¼šå®žçŽ°åŽŸç†ã€‚ 1234567891011def binary_insert(nums, target): l, r = 0, len(nums)-1 while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt; target: r = mid - 1 elif nums[mid] &lt; target: l = mid + 1 else: return mid return l æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚ 123def searchInsert(self, nums, target): from bisect import bisect_left return bisect_left(nums, target) 153. Find Minimum in Rotated Sorted Arrayé€šè¿‡ä¸€ä¸ªæŽ’åºæ•°ç»„æ—‹è½¬åŽçš„ç»“æžœï¼Œæ‰¾å‡ºæœ€å°å…ƒç´ ã€‚åŽŸé¢˜12Input: [3,4,5,1,2] Output: 1 æ€è·¯ï¼šé€šè¿‡äºŒåˆ†æ³•ä¸æ–­ç¼©å°èŒƒå›´ï¼Œç”±äºŽmidæ˜¯æ•´é™¤ï¼Œæœ€åŽl==midï¼Œå¹¶ä¸”nums[mid] &gt; nums[r]çš„ã€‚ 123456789101112def find_min(nums): l, r = 0, len(nums)-1 if nums[l] &lt; nums[r]: return nums[l] while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt; nums[l]: l = mid elif nums[mid] &lt; nums[r]: r = mid else: return nums[r] 34. Find First and Last Position of Element in Sorted Arrayæœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°ç»„ï¼Œè¿”å›žæ•°å­—çš„ç´¢å¼•èŒƒå›´ã€‚åŽŸé¢˜1234Input: nums = [5,7,7,8,8,10], target = 8Output: [3,4]Input: nums = [5,7,7,8,8,10], target = 6Output: [-1,-1] 12345678910111213141516def searchRange(self, nums, target): left_idx = self.search_edge(nums, target, True) if left_idx == len(nums) or nums[left_idx] != target: return [-1, -1] return [left_idx, self.search_edge(nums, target, False)-1] def search_edge(self, nums, target, left): l, r = 0, len(nums) while l &lt; r: mid = (l+r) // 2 if nums[mid] &gt; target or (left and nums[mid]==target): r = mid else: l = mid + 1 return l 278. First Bad Versionæ‰¾å‡ºæäº¤ç‰ˆæœ¬ä¸­çš„bad versionã€‚åŽŸé¢˜1234567Given n = 5, and version = 4 is the first bad version.call isBadVersion(3) -&gt; falsecall isBadVersion(5) -&gt; truecall isBadVersion(4) -&gt; trueThen 4 is the first bad version. 123456789def firstBadVersion(self, n): l, r = 1, n while l &lt;= r: mid = (l+r) // 2 if isBadVersion(mid): r = mid - 1 else: l = mid + 1 return l 374. Guess Number Higher or LowerçŒœæ•°æ¸¸æˆ1~nï¼Œæ¯çŒœä¸€æ¬¡ä¼šå‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯æ›´å°è¿˜æ˜¯æ›´å¤§ã€‚åŽŸé¢˜12345678def guess(num): return -1 : My number is lower 1 : My number is higher 0 : Congrats! You got it! Input: n = 10, pick = 6Output: 6 æ–¹æ³•ä¸€ï¼šå®žçŽ°åŽŸç†ã€‚ 12345678910def guessNumber(self, n): l, r = 1, n while l &lt;= r: mid = (l+r) // 2 if guess(mid) == -1: r = mid - 1 elif guess(mid) == 1: l = mid + 1 else: return mid æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ã€‚æ­¤ç­”æ¡ˆå—stefanå¤§ç¥žå¯å‘ã€‚æ ¸å¿ƒæ€æƒ³ä¸ºå°†guessè¿”å›žçš„ç»“æžœè½¬ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œç„¶åŽä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚ 1234567def guessNumber(self, n): from bisect import bisect, bisect_left class C: def __getitem__(self, x): return -guess(x) # return bisect(C(), -1, 1, n) return bisect_left(C(), 0, 1, n) è§£æžï¼šä»¥n=10, pick=6ä¸ºä¾‹ã€‚å®žé™…ä¸ŠC classç›¸å½“äºŽ: 1234ary = map(lambda x: -guess(x), range(1, n+1))ary.insert(0, None)# ary = [None, -1, -1, -1, -1, -1, 0, 1, 1, 1, 1]return bisect(ary, -1, 1, n) è€Œç´¢å¼•åˆæ˜¯ä»Ž1å¼€å§‹ï¼Œæ‰€ä»¥è¿™é‡Œåœ¨å‰é¢æ·»åŠ äº†ä¸€ä¸ªNoneï¼Œå®žé™…ä¸Šå°†é¢˜è½¬ä¸ºäº†æŸ¥æ‰¾aryçš„0ï¼Œé—®é¢˜ä¾¿è¿Žåˆƒè€Œè§£ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœä½¿ç”¨äº†mapï¼Œä¼šå¯¼è‡´ç©ºé—´ï¼Œæ—¶é—´å¤æ‚åº¦å¢žåŠ ï¼Œè€Œä½¿ç”¨classçš„æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰æ±‚å‡ºæ•´ä¸ªçš„listï¼Œæ‰€ä»¥æ•ˆçŽ‡æ›´é«˜ã€‚ 744. Find Smallest Letter Greater Than Targetæ‰¾å‡ºæ¯”ç›®æ ‡å¤§çš„æœ€å°å­—æ¯ï¼Œæ²¡æœ‰çš„è¿”å›žé¦–å­—æ¯ã€‚åŽŸé¢˜1234567891011121314Input:letters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]target = &quot;d&quot;Output: &quot;f&quot;Input:letters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]target = &quot;g&quot;Output: &quot;j&quot;Input:letters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]target = &quot;j&quot;Output: &quot;c&quot; æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•å®žçŽ°ã€‚ 123456789def nextGreatestLetter(self, letters: 'List[str]', target: 'str') -&gt; 'str': lo, hi = 0, len(letters)-1 while lo &lt;= hi: mid = (lo + hi) // 2 if letters[mid] &gt; target: hi = mid -1 elif letters[mid] &lt;= target: lo = mid + 1 return letters[lo % len(letters)] æ–¹æ³•äºŒï¼šä½¿ç”¨åº“ã€‚ 123def nextGreatestLetter(self, letters: 'List[str]', target: 'str') -&gt; 'str': index = bisect.bisect(letters, target) return letters[index % len(letters)] 852. Peak Index in a Mountain Arrayæ‰¾åˆ°æ•°ç»„ä¸­çš„å³°å€¼ã€‚å‡è®¾å³°å€¼ä¸€å®šå­˜åœ¨ã€‚åŽŸé¢˜12Input: [0,2,1,0]Output: 1 æ–¹æ³•ä¸€ï¼šLinear Scan. Time: O(N) 1234def peakIndexInMountainArray(self, A: 'List[int]') -&gt; 'int': for i in range(1, len(A)-1): if A[i] &gt; A[i+1]: return i æ–¹æ³•äºŒï¼šone-line. 12def peakIndexInMountainArray(self, A: 'List[int]') -&gt; 'int': return A.index(max(A)) æ–¹æ³•ä¸‰ï¼šçœ‹åˆ°Solutionæ‰æƒ³åˆ°äºŒåˆ†æ³•ã€‚ 123456789def peakIndexInMountainArray(self, A: 'List[int]') -&gt; 'int': lo, hi = 0, len(A)-1 while lo &lt; hi: mid = (lo + hi) // 2 if A[mid] &gt; A[mid+1]: hi = mid else: lo = mid + 1 return lo æ–¹æ³•å››ï¼šé»„é‡‘åˆ†å‰²æ³•ï¼Œåº”ç”¨åœ¨å•å³°å‡½æ•°æ±‚æžå€¼ï¼Œé€Ÿåº¦æ¯”äºŒåˆ†æ³•è¦å¿«ã€‚ 12345678910111213141516171819def peakIndexInMountainArray(self, A: 'List[int]') -&gt; 'int': def gold1(i, j): return i + int(round((j-i) * 0.382)) def gold2(i, j): return i + int(round((j-i) * 0.618)) l, r = 0, len(A) - 1 x1, x2 = gold1(l, r), gold2(l, r) while x1 &lt; x2: if A[x1] &lt; A[x2]: l = x1 x1 = x2 x2 = gold1(x1, r) else: r = x2 x2 = x1 x1 = gold2(l, x2) return x1 1014. Capacity To Ship Packages Within D Daysnå¤©å†…è½®èˆ¹è¿é€çš„æœ€å°å®¹é‡ã€‚åŽŸé¢˜1234567891011Input: weights = [1,2,3,4,5,6,7,8,9,10], D = 5Output: 15Explanation: A ship capacity of 15 is the minimum to ship all the packages in 5 days like this:1st day: 1, 2, 3, 4, 52nd day: 6, 73rd day: 84th day: 95th day: 10Note that the cargo must be shipped in the order given, so using a ship of capacity 14 and splitting the packages into parts like (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) is not allowed. è´´ä¸€ä¸‹ç«žèµ›æ—¶ACçš„ä¸‘é™‹å†™æ³•ã€‚ 123456789101112131415161718192021222324def shipWithinDays(self, weights: List[int], D: int) -&gt; int: def can_ship(capacity, D): l = 0 for _ in range(D): each = 0 for r in range(l, len(weights)): if weights[r]+each &lt;= capacity: each += weights[r] else: l = r break else: return True return False lo, hi = max(weights), sum(weights) while lo &lt;= hi: mid = (lo + hi) // 2 if can_ship(mid, D): hi = mid - 1 else: lo = mid + 1 return lo ä¼˜åŒ–ã€‚é‡è§ä¸€ä¸ªè¯¡å¼‚çš„çŽ°è±¡ï¼ŒåŒæ ·çš„ä»£ç ç”¨pythonæ¯”python3å¿«äº†60msï¼Œå’Œ3MBçš„å†…å­˜ã€‚è¿™è§£æ³•ä¹Ÿæ²¡æ¶‰åŠä¸¤è€…çš„åŒºåˆ«ã€‚ 123456789101112131415def shipWithinDays(self, weights: List[int], D: int) -&gt; int: lo, hi = max(weights), sum(weights) while lo &lt;= hi: mid, days, cur = (lo + hi) // 2, 1, 0 for w in weights: if cur+w &gt; mid: days += 1 cur = 0 cur += w if days &gt; D: lo = mid + 1 else: hi = mid - 1 # print(lo, mid, hi) return lo 875. Koko Eating Bananasè¿™é“é¢˜æ€è·¯å’Œ1014ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯ï¼Œå¦‚æžœå½“å‰å †çš„é¦™è•‰å°äºŽåƒçš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿä¸èƒ½åƒä¸‹ä¸€å †ã€‚åŽŸé¢˜12Input: piles = [3,6,7,11], H = 8Output: 4 æ–¹æ³•ä¸€ï¼šå†™ä¹ æƒ¯äº†Python3ï¼Œè€æ˜¯æƒ³å†™//ï¼Œæ³¨æ„æ˜¯p/midã€‚ 1234567891011def minEatingSpeed(self, piles: List[int], H: int) -&gt; int: lo, hi = 1, max(piles) while lo &lt;= hi: mid = (lo + hi ) &gt;&gt; 1 # needs = sum(math.ceil(p/mid) for p in piles) # slower needs = sum((p-1)//mid+1 for p in piles) if needs &gt; H: lo = mid + 1 else: hi = mid - 1 return lo]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Binary Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡Offer]]></title>
    <url>%2F%E5%89%91%E6%8C%87Offer%2F</url>
    <content type="text"><![CDATA[2. å®žçŽ°Singletonæ¨¡å¼ä½¿ç”¨__new__æŽ§åˆ¶å®žä¾‹åˆ›å»ºè¿‡ç¨‹123456789class Singleton: _instance = None def __new__(cls, *args, **kw): if not cls._instance: cls._instance = super().__new__(cls) return cls._instanceclass MyClass(Singleton): pass ä½¿ç”¨decorator12345678910111213from functools import wrapsdef singleton(cls): instances = &#123;&#125; @wraps(cls) def get_instance(*args, **kw): if cls not in instances: instances[cls] = cls(*args, **kw) return instances[cls] return get_instance@singletonclass Myclass: pass ä½¿ç”¨å…ƒç±»123456789101112131415class Singleton(type): def __init__(self, *args, **kwargs): self.__instance = None super().__init__(*args, **kwargs) def __call__(self, *args, **kwargs): if self.__instance is None: self.__instance = super().__call__(*args, **kwargs) return self.__instance else: return self.__instance# Exampleclass Spam(metaclass=Singleton): def __init__(self): print('Creating Spam') 3 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ç‰›å®¢ç½‘ä¼ é€é—¨ä¹¦ä¸­å‚æ•°è¿˜ä¼ äº†ä¸€ä¸ªæ•°ç»„ç”¨æ¥ä¿å­˜é‡å¤çš„æ•°å­—ï¼Œèº«ä¸ºä¸€ä¸ªPythonerï¼Œç›´æŽ¥è¿”å›žtupleã€‚ 123456789def duplicate(nums: list) -&gt; int: for i, num in enumerate(nums): while i != num: if num == nums[num]: return True, num else: nums[i], nums[num] = nums[num], nums[i] num = nums[i] return False, None 3_1 æ•°ç»„ä¸­é‡å¤çš„æ•°å­—ï¼Œä¸èƒ½ä¿®æ”¹æ•°ç»„AcWingä¼ é€é—¨å…ƒç´ èŒƒå›´å˜æˆäº†1~nã€‚æ­¤æ–¹æ³•æœ‰ç¼ºé™·ï¼Œä¸èƒ½æ‰¾å‡ºæ‰€æœ‰çš„é‡å¤çš„æ•°å­—ï¼Œå› ä¸ºåœ¨1~2çš„èŒƒå›´é‡Œæœ‰1å’Œ2ä¸¤ä¸ªæ•°å­—ï¼Œè¿™ä¸ªèŒƒå›´çš„æ•°å­—ä¹Ÿå‡ºçŽ°ä¸¤æ¬¡ï¼Œä¸èƒ½ç¡®å®šæ˜¯æ¯ä¸ªæ•°å­—å„å‡ºçŽ°ä¸€æ¬¡è¿˜æ˜¯æŸä¸ªæ•°å­—å‡ºçŽ°äº†ä¸¤æ¬¡ã€‚ 12345678910111213141516171819def find_duplicate(nums: list) -&gt; int: def count_range(i, j): return sum(i&lt;=num&lt;=j for num in nums) lo = 1 hi = len(nums) - 1 # nä¸ºèŒƒå›´ while lo &lt;= hi: mid = (lo + hi) // 2 count = count_range(lo, mid) if lo == hi: if count &gt; 1: return lo else: break if count &gt; mid-lo+1: hi = mid else: lo = mid + 1 return -1 4. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨é€‰å–å³ä¸Šè§’ä¸ºèµ·å§‹ç‚¹ã€‚ 1234567891011def find(target, array): row = 0 col = len(array[0]) - 1 while col &gt;= 0 and row &lt;= len(array)-1: if array[row][col] &gt; target: col -= 1 elif array[row][col] &lt; target: row += 1 else: return True return False 5.æ›¿æ¢ç©ºæ ¼ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨12def replaceSpace(self, s): return ''.join(c if c!=' ' else '%20' for c in s) 6.ä»Žå°¾åˆ°å¤´æ‰“å°é“¾è¡¨AcWingä¼ é€é—¨123456def printListFromTailToHead(self, listNode): stack, h = [], listNode while h: stack.append(h.val) h = h.next return stack[::-1] 7.é‡å»ºäºŒå‰æ ‘LeetCodeä¼ é€é—¨è¯´æ˜Žï¼šæ ¹æ®å‰åºéåŽ†å’Œä¸­åºéåŽ†é‡å»ºäºŒå‰æ ‘ï¼Œå‡è®¾éåŽ†ç»“æžœä¸­ä¸åŒ…å«é‡å¤çš„æ•°å­—ã€‚123456789def buildTree(preorder, inorder): if preorder == []: return None root_val = preorder[0] root = TreeNode(root_val) cut = inorder.index(root_val) root.left = buildTree(preorder[1:cut+1], inorder[:cut]) root.right = buildTree(preorder[cut+1:], inorder[cut+1:]) return root æ–¹æ³•äºŒï¼šç©ºé—´å¤æ‚åº¦æ›´ä½Žçš„è§£æ³•ã€‚ 1234567891011def buildTree(self, preorder: 'List[int]', inorder: 'List[int]') -&gt; 'TreeNode': def build(stop): if inorder and inorder[-1] != stop: root = TreeNode(preorder.pop()) root.left = build(root.val) inorder.pop() root.right = build(stop) return root preorder.reverse() inorder.reverse() return build(None) 8 äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨12345678910111213141516def GetNext(self, pNode): # write code here if not pNode: return None # æœ‰å³å­æ ‘ï¼Œå³å­æ ‘ä¸­æœ€å·¦èŠ‚ç‚¹ if pNode.right: pre = pNode.right while pre.left: pre = pre.left return pre while pNode.next: parent = pNode.next if parent.left == pNode: return parent pNode = parent return None 9.ç”¨ä¸¤ä¸ªæ ˆå®žçŽ°é˜Ÿåˆ—LeetCodeä¼ é€é—¨123456789101112131415161718192021class MyQueue: def __init__(self): self.s1 = [] self.s2 = [] def push(self, x: int) -&gt; None: while self.s1: self.s2.append(self.s1.pop()) self.s1.append(x) while self.s2: self.s1.append(self.s2.pop()) def pop(self) -&gt; int: return self.s1.pop() def peek(self) -&gt; int: return self.s1[-1] def empty(self) -&gt; bool: return self.s1 == [] 9.1ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®žçŽ°æ ˆLeetCodeä¼ é€é—¨ä¸¤ä¸ªé˜Ÿåˆ—1234567891011121314151617181920class MyStack: def __init__(self): from collections import deque self.q1, self.q2 = deque(), deque() def push(self, x: int) -&gt; None: self.q2.append(x) while self.q1: self.q2.append(self.q1.popleft()) self.q1, self.q2 = self.q2, self.q1 def pop(self) -&gt; int: return self.q1.popleft() def top(self) -&gt; int: return self.q1[0] def empty(self) -&gt; bool: return not self.q1 å•é˜Ÿåˆ—æ—‹è½¬123456789101112131415161718192021class MyStack: def __init__(self): from collections import deque self.q = deque() def push(self, x: int) -&gt; None: self.q.append(x) # self.q.rotate(1) è¿™é‡Œæ˜¯ç”¨äº†åŒç«¯é˜Ÿåˆ—çš„ç‰¹æ€§ # self.q.rotate(1-len(self.q)) è¿™é‡Œå’Œä¸‹é¢å¾ªçŽ¯æ˜¯ä¸€æ ·çš„æ•ˆæžœ for _ in range(len(self.q)-1): self.q.append(self.q.popleft()) def pop(self) -&gt; int: return self.q.popleft() def top(self) -&gt; int: return self.q[0] def empty(self) -&gt; bool: return not self.q 10.æ–æ³¢é‚£å¥‘æ•°åˆ—LeetCodeä¼ é€é—¨12345def fibonacci(n): a = b = 1 for _ in range(n-1): a, b = b, a+b return b 11.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—LeetCodeä¼ é€é—¨æ€è·¯ï¼šé€šè¿‡äºŒåˆ†æ³•ä¸æ–­ç¼©å°èŒƒå›´ï¼Œç”±äºŽmidæ˜¯æ•´é™¤ï¼Œæœ€åŽl==midï¼Œå¹¶ä¸”nums[mid] &gt; nums[r]çš„ã€‚123456789101112def find_min(nums): l, r = 0, len(nums)-1 if nums[l] &lt; nums[r]: return nums[l] while l &lt;= r: mid = (l+r) // 2 if nums[mid] &gt; nums[l]: l = mid elif nums[mid] &lt; nums[r]: r = mid else: return nums[r] 12.çŸ©é˜µä¸­çš„è·¯å¾„LeetCodeä¼ é€é—¨123456789101112131415161718192021def exist(self, g: List[List[str]], word: str) -&gt; bool: R, C = len(g), len(g[0]) def spread(i, j, w): if not w: return True original, g[i][j] = g[i][j], '-' spreaded = False for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if (0&lt;=x&lt;R and 0&lt;=y&lt;C and w[0]==g[x][y] and spread(x, y, w[1:])): spreaded = True break g[i][j] = original return spreaded for i in range(R): for j in range(C): if g[i][j] == word[0] and spread(i, j, word[1:]): return True return False 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´AcWingä¼ é€é—¨1234567891011121314def movingCount(self, threshold, rows, cols): visited = [[False]*cols for _ in range(rows)] def get_sum(x, y): return sum(map(int, str(x)+str(y))) def movingCore(threshold, rows, cols, i, j): if get_sum(i, j) &lt;= threshold: visited[i][j] = True for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if 0&lt;=x&lt;rows and 0&lt;=y&lt;cols and not visited[x][y]: movingCore(threshold, rows, cols, x, y) movingCore(threshold, rows, cols, 0, 0) return sum(sum(visited, [])) 14.å‰ªç»³å­AcWingä¼ é€é—¨è¯´æ˜Žï¼šæ•°å­¦æ€æƒ³ï¼Œå½“n&gt;=5æ—¶ï¼Œ2(n-2)&gt;nå¹¶ä¸”3(n-3)&gt;nï¼Œè€Œä¸”3(n-3) &gt;= 2(n-2)ï¼Œæ‰€ä»¥å°½å¯èƒ½å¤šå‰ªé•¿åº¦ä¸º3çš„ç»³å­ã€‚å¦‚æžœé•¿åº¦ä¸º4çš„æ—¶å€™ï¼Œ2*2&gt;3*1ï¼Œæ‰€ä»¥4çš„æ—¶å€™å°±å‰ªæˆ2*2çš„ä¸¤æ®µã€‚ 123456789101112131415def cut_rope(length): if length &lt; 2: return 0 if length == 2: return 1 if length == 3: return 2 # å°½å¯èƒ½å‰ªå‡º3 timesOf3 = length // 3 # å¦‚æžœæœ€åŽä½™1ï¼Œåˆ™ç•™ä¸€æ®µ4åˆ†æˆä¸¤åŠ if length-timesOf3*3 == 1: timeOf3 -= 1 timesOf2 = (length-timesOf3*3) // 2 return (3**timesOf3) * (2**timesOf2) 15.äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°LeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šå¸¸è§„è§£æ³•ï¼Œä½¿ç”¨1ä¸Žnä½œä¸Žè¿ç®—ï¼Œå¦‚æžœä¸æ˜¯0è¯´æ˜Žï¼Œå«æœ‰ä¸€ä¸ª1ã€‚123456def hamming_weight(n): count = 0 for _ in range(32): count += (n&amp;1==1) n &gt;&gt;= 1 return count æ–¹æ³•äºŒï¼šå…³é”®ç‚¹æ˜¯ï¼Œä¸€ä¸ªæ•°nå’Œn-1çš„ä¸Žè¿ç®—æ“ä½œï¼Œç›¸å½“äºŽåŽ»æŽ‰äº†æœ€å³é¢çš„1ã€‚123456def hamming_weigth(n): bits = 0 while n: bits += 1 n = (n-1) &amp; n return bits 16.æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹LeetCodeä¼ é€é—¨1234567891011121314151617def myPow(self, x: float, n: int) -&gt; float: def pow_with_unsigned(x, n): if n == 0: return 1 if n == 1: return x ans = pow_with_unsigned(x, n&gt;&gt;1) ans *= ans if n &amp; 1 == 1: ans *= x return ans if n &lt; 0: return 1 / pow_with_unsigned(x, -n) else: return pow_with_unsigned(x, n) 17 æ‰“å°ä»Ž1åˆ°æœ€å¤§çš„nä½æ•°404.æ‰“å°å‘—ï¼Œåæ­£Pythonçš„intæ²¡æœ‰é•¿åº¦é™åˆ¶ã€‚ 1234def print_n(n: int): n = 10 ** (n) for i in range(1, n): print(i) 18.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹LeetCodeä¼ é€é—¨å¼€å§‹çœ‹åˆ°è¿™é¢˜çš„æ€è·¯æ˜¯ï¼Œè¦æ˜¯èƒ½æ‹¿åˆ°çˆ¶èŠ‚ç‚¹å°±å¥½äº†ï¼Œç„¶åŽè¿™é“é¢˜éœ€è¦åˆ«çš„æ€è·¯ï¼Œå…¶å…³é”®åœ¨äºŽå¤åˆ¶123def deleteNode(self, node): node.val = node.next.val # 4-&gt;1-&gt;1-&gt;9 node.next = node.next.next # 4-&gt;1-&gt;9 19.æ­£åˆ™è¡¨è¾¾å¼LeetCodeä¼ é€é—¨å…ˆè€ƒè™‘æ²¡æœ‰*çš„æƒ…å†µï¼Œé€šè¿‡ä¸€ä¸ªé€’å½’é€ä¸ªå­—ç¬¦åˆ¤æ–­ 1234def match(text, pattern): if not pattern: return not text first_match = bool(text) and pattern[0] in &#123;text[0], '.'&#125; return first_match and match(text[1:], pattern[1:]) å½“*å‡ºçŽ°æ—¶ï¼Œä¸€å®šä¼šåœ¨å‰é¢è·Ÿä¸€ä¸ªå…¶ä»–å­—ç¬¦ï¼Œæ‰€ä»¥ä¸€å®šä¼šå‡ºçŽ°åœ¨pattern[1]çš„ä½ç½®ã€‚ä¸€ç§æƒ…å†µæ˜¯æˆ‘ä»¬å¿½ç•¥è¿™å¯¹patternï¼Œå› ä¸ºå¯ä»¥å‡ºçŽ°0æ¬¡ï¼›å¦ä¸€ç§æƒ…å†µæ˜¯åŒ¹é…ä¸Šè¿™ä¸ªå­—ç¬¦ï¼Œç”¨é€’å½’çš„æ–¹å¼åŒ¹é…ä¸‹ä¸€ä¸ªã€‚ ä¸€å®šè¦ç”¨f_match = bool(s)ï¼Œå¦åˆ™ç»“æžœå¯èƒ½è¾“å‡º&#39;&#39; 12345678def match(self, s, pattern): if not pattern: return not s f_match = bool(s) and pattern[0] in &#123;s[0], '.'&#125; if len(pattern) &gt; 1 and pattern[1] == '*': return (self.match(s, pattern[2:]) or (f_match and self.match(s[1:], pattern))) else: return f_match and self.match(s[1:], pattern[1:]) 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²65. Valid Numberæ­¤å¤„ç•™å‘ï¼ŒæŽ’åç¬¬ä¸€çš„pythonç­”æ¡ˆæš‚æ—¶æ²¡æœ‰ç†è§£ã€‚ 21.è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºŽå¶æ•°å‰é¢AcWingä¼ é€é—¨æ—¶é—´ï¼šO(n), ç©ºé—´O(1) 123456789def reOrderArray(self, array): # write code here l, r = 0, len(array)-1 while l &lt; r: while l &lt; r and array[l]&amp;1 == 1: l += 1 while l &lt; r and array[r]&amp;1 == 0: r -= 1 array[l], array[r] = array[r], array[l] çœ‹äº†ä¸€ä¸‹æ²¡æœ‰é€šè¿‡ç‰›å®¢ç½‘çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå› ä¸ºé¢˜ç›®æœ‰äº›ä¸åŒï¼Œç‰›å®¢ç½‘è¦æ±‚å¥‡æ•°å’Œå¥‡æ•°ï¼Œå¶æ•°å’Œå¶æ•°ä¹‹å‰çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚ 12def reOrderArray(array): return sorted(array, key=lambda x:x&amp;1==0) ä¸ä½¿ç”¨sort 1234567891011def reOrderArray(self, array): # write code here from collections import deque q = deque() n = len(array) for i in range(n): if array[-i-1] &amp; 1 == 1: # ä»ŽåŽæ‰¾å¥‡æ•° q.appendleft(array[-i-1]) if array[i] &amp; 1 == 0: #ä»Žå‰æ‰¾å¶æ•° q.append(array[i]) return q 22.é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹AcWingä¼ é€é—¨æ€è·¯ï¼šä¸¤ä¸ªæŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ°k-1æ­¥ï¼Œç„¶åŽä¸¤ä¸ªä¸€èµ·èµ°ï¼Œå¿«æŒ‡é’ˆèµ°åˆ°å°¾èŠ‚ç‚¹æ—¶ï¼Œæ…¢æŒ‡é’ˆåœ¨å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚éœ€è€ƒè™‘k=0æ—¶å’Œfastå·²ç»èµ°åˆ°å°¾èŠ‚ç‚¹çš„æƒ…å†µã€‚ 12345678910def FindKthToTail(self, head, k): fast = slow = head for _ in range(k): if fast: fast = fast.next else: return None while fast: slow, fast = slow.next, fast.next return slow 23.é“¾è¡¨ä¸­çŽ¯çš„å…¥å£èŠ‚ç‚¹LeetCodeä¼ é€é—¨ é¦–å…ˆåˆ¤æ–­æ­¤é“¾è¡¨æ˜¯å¦æœ‰çŽ¯ã€‚ ç„¶åŽå†ç›¸äº¤ç‚¹å’Œå¤´ç»“ç‚¹ä¸€èµ·èµ°ï¼Œä¸€å®šä¼šåœ¨å…¥å£ç›¸é‡ã€‚ 12345678910111213def detectCycle(self, head): fast = slow = head # æ£€æµ‹æ˜¯å¦æœ‰çŽ¯ while fast and fast.next: slow, fast = slow.next, fast.next.next if slow is fast: break else: return None # æ‰¾å‡ºå…¥å£èŠ‚ç‚¹ while head is not slow: head, slow = head.next, slow.next return head 24.åè½¬é“¾è¡¨LeetCodeä¼ é€é—¨12345def reverseList(self, head): prev = None while head: head.next, prev, head = prev, head, head.next return prev 25.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨LeetCodeä¼ é€é—¨æ–¹æ³•1ï¼šiteratively è¿­ä»£ 12345678910def mergeTwoLists(l1, l2): l = head = ListNode(0) while l1 and l2: if l1.val &lt;= l2.val: l.next, l1 = l1, l1.next else: l.next, l2 = l2, l2.next l = l.next l.next = l1 or l2 return head.next æ–¹æ³•2ï¼šrecursively é€’å½’ 12345678910def mergeTwoLists(l1, l2): # åˆ¤æ–­æ˜¯å¦å­˜åœ¨None if not l1 or not l2: return l1 or l2 if l1.val &lt; l2.val: l1.next = mergeTwoLists(l1.next, l2) return l1 else: l2.next = mergeTwoLists(l1, l2.next) return l2 26.æ ‘çš„å­ç»“æž„572. Subtree of Another Tree äºŒåˆ·çš„æ—¶å€™çªç„¶å‘çŽ°ï¼Œæ­¤é¢˜å’ŒLeetCodeä¸­ä¸åŒã€‚LeetCodeä¸­å­æ ‘4-1-2è¿”å›žFalseå› ä¸º2ä¸‹è¾¹è¿˜æœ‰èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸ä¸€æ ·ï¼›è€Œä¹¦ä¸­è®¤ä¸ºTrueï¼Œä¸è€ƒè™‘2ä¸‹è¾¹çš„èŠ‚ç‚¹ã€‚ 1234567 3 / \ 4 5 / \1 2 / 0 12345678910111213141516171819202122def is_subtree(s: 'TreeNode', t: 'TreeNode') -&gt; 'bool': def is_same(s, t): if s and t: equal = s.val==t.val if not t.left and not t.right: return equal else: return (equal and is_same(s.left, t.left) and is_same(s.right, t.right)) else: return s is t stack = s and [s] while stack: node = stack.pop() if node: res = is_same(node, t) if res: return True stack.append(node.right) stack.append(node.left) return False 27.äºŒå‰æ ‘çš„é•œåƒAcWingä¼ é€é—¨12345def Mirror(self, root): if root: root.left, root.right = root.right, root.left self.Mirror(root.left) self.Mirror(root.right) è¿­ä»£ 1234567def Mirror(self, root): stack = root and [root] while stack: n = stack.pop() if n: n.left, n.right = n.right, n.left stack += n.right, n.left 28.å¯¹ç§°çš„äºŒå‰æ ‘LeetCodeä¼ é€é—¨12345 1 / \ 2 2 / \ / \3 4 4 3 æ–¹æ³•ä¸€ï¼šrecursively. 123456789101112def isSymmetric(self, root: 'TreeNode') -&gt; 'bool': def symmetric(p1, p2): if p1 and p2: return (p1.val == p2.val and symmetric(p1.left, p2.right) and symmetric(p1.right, p2.left)) else: return p1 is p2 if not root: return True return symmetric(root.left, root.right) æ–¹æ³•äºŒï¼šiteratively. 12345678910def isSymmetric(self, root: 'TreeNode') -&gt; 'bool': stack = root and [(root.left, root.right)] while stack: p1, p2 = stack.pop() if not p1 and not p2: continue if not p1 or not p2: return False if p1.val != p2.val: return False stack.append((p1.left, p2.right)) stack.append((p1.right, p2.left)) return True 29.é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µLeetCodeä¼ é€é—¨è¿™é‡Œæ³¨æ„ä¸€ç‚¹matrix.pop(0)éœ€è¦è½¬æˆlistï¼Œå› ä¸ºzipå‡½æ•°ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleï¼Œå¦‚æžœä¸è½¬å˜æˆäº†ä¸€ä¸ªtuple+listï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ 123def spiralOrder(self, matrix): return (matrix and list(matrix.pop(0)) + self.spiralOrder(list(zip(*matrix))[::-1])) æ­¤é¢˜æœ‰ä¸ªå˜å½¢ï¼Œå¦‚æžœé€†æ—¶é’ˆè¯¥å¦‚ä½•æ‰“å°ã€‚è¿™æ ·çš„è¯æƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚ 1234567def anti_clock_wise(self, matrix) if not matrix: return [] clock_wise = list(zip(*(matrix[::-1]))) a = list(clock_wise.pop(0))[::-1] b = self.anti_clock_wise(clock_wise) return a + b 30.åŒ…å«minå‡½æ•°çš„æ ˆLeetCodeä¼ é€é—¨12345678910111213141516171819202122232425class MinStack: def __init__(self): self._stack = [] def push(self, x: int) -&gt; None: cur_min = self.getMin() if x &lt; cur_min: cur_min = x self._stack.append((x, cur_min)) def pop(self) -&gt; None: self._stack.pop() def top(self) -&gt; int: if not self._stack: return None else: return self._stack[-1][0] def getMin(self) -&gt; int: if not self._stack: return float('inf') else: return self._stack[-1][1] 31.æ ˆçš„åŽ‹å…¥ã€å¼¹å‡ºåºåˆ—LeetCodeä¼ é€é—¨123456789def validateStackSequences(self, pushed: 'List[int]', popped: 'List[int]') -&gt; 'bool': stack = [] j = 0 for num in pushed: stack.append(num) while stack and stack[-1] == popped[j]: stack.pop() j += 1 return j == len(popped) 32.ä»Žä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘AcWingä¼ é€é—¨åŒç«¯é˜Ÿåˆ— 1234567891011def PrintFromTopToBottom(self, root): from collections import deque queue = deque([root]) res = [] while queue: cur = queue.popleft() if cur: res.append(cur.val) queue.append(cur.left) queue.append(cur.right) return res 32.1åˆ†å±‚ä»Žä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘LeetCodeä¼ é€é—¨123456def levelOrder(self, root: 'TreeNode') -&gt; 'List[List[int]]': ans, level = [], root and [root] while level: ans.append([n.val for n in level]) level = [k for n in level for k in (n.left, n.right) if k] return ans 32.2ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘LeetCodeä¼ é€é—¨1234567def zigzagLevelOrder(self, root: 'TreeNode') -&gt; 'List[List[int]]': ans, level, order = [], root and [root], 1 while level: ans.append([n.val for n in level][::order]) order *= -1 level = [kid for n in level for kid in (n.left, n.right) if kid] return ans 33.æ˜¯å¦æ˜¯äºŒå‰æ ‘çš„åŽåºéåŽ†AcWingä¼ é€é—¨123456789101112131415def VerifySquenceOfBST(self, seq): from itertools import takewhile if not seq: return False p = seq[-1] left_sub = list(takewhile(lambda x: x &lt; p, seq[:-1])) right_sub = seq[len(left_sub):-1] if not all(x&gt;p for x in right_sub): return False left = right = True if left_sub: left = self.VerifySquenceOfBST(left_sub) if right_sub: right = self.VerifySquenceOfBST(right_sub) return left and right 34.äºŒå‰æ ‘å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„LeetCodeä¼ é€é—¨12345678910111213sum = 22 5 / \ 4 8 / / \ 11 13 4 / \ / \7 2 5 1[ [5,4,11,2], [5,8,4,5]] æ–¹æ³•ä¸€ï¼šiteratively. ä¸¾ä¸€åä¸‰ã€‚ 123456789101112def pathSum(self, root: 'TreeNode', total: 'int') -&gt; 'List[List[int]]': stack = root and [(root, [root.val], total)] ans = [] while stack: n, v, t = stack.pop() if not n.left and not n.right and n.val==t: ans.append(v) if n.right: stack.append((n.right, v+[n.right.val], t-n.val)) if n.left: stack.append((n.left, v+[n.left.val], t-n.val)) return ans recursively. å…ˆæ‰¾å‡ºæ‰€æœ‰è·¯å¾„ï¼Œå†è¿‡æ»¤ï¼Œå®žé™…ä¸Šå’Œ257é¢˜ä¸€æ ·ã€‚ä¸è¿‡è¿™å¹¶æ²¡æœ‰æŠŠè¿™é“é¢˜çš„ç‰¹æ€§æ¶µç›–è¿›åŽ»ã€‚ 12345678910def pathSum(self, root, sum_val): paths = self.all_paths(root) return [path for path in paths if sum(path)==sum_val] def all_paths(self, root): if not root: return [] return [[root.val]+path for kid in (root.left, root.right) if kid for path in self.all_paths(kid)] or [[root.val]] æ–¹æ³•ä¸‰ï¼šrecursively. 123456789def pathSum(self, root, sum): if not root: return [] val, *kids = root.val, root.left, root.right if any(kids): return [[val] + path for kid in kids if kid for path in self.pathSum(kid, sum-val)] return [[val]] if val==sum else [] 35.å¤æ‚é“¾è¡¨çš„å¤åˆ¶LeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šéåŽ†ä¸¤æ¬¡ã€‚ 1234567891011def copyRandomList(self, head: 'Node') -&gt; 'Node': cp = &#123;None: None&#125; m = n = head while m: cp[m] = Node(m.val, None, None) m = m.next while n: cp[n].next = cp[n.next] cp[n].random = cp[n.random] n = n.next return cp[head] Time-O(n), Memory-O(n). è¿™ç§æ–¹å¼æ˜¯ç›¸å½“äºŽæŠŠç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿‡ç¨‹å§”æ‰˜ç»™äº†defaultdictï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¯¹è±¡ï¼Œå†åŽ»ä¿®æ”¹å®ƒçš„labelå€¼ã€‚ 12345678910def copyRandomList(self, head: 'Node') -&gt; 'Node': cp = collections.defaultdict(lambda: Node(0, None, None)) cp[None] = None h = head while h: cp[h].val = h.val cp[h].next = cp[h.next] cp[h].random = cp[h.random] h = h.next return cp[head] 36.äºŒå‰æœç´¢æ ‘ä¸ŽåŒå‘é“¾è¡¨LeetCodeæœ‰æ­¤é¢˜ï¼Œä½†æ˜¯ä¸æ˜¯å…è´¹çš„ã€‚AcWingä¼ é€é—¨æ–¹æ³•ä¸€ï¼šä¸­åºéåŽ†ï¼Œå†æž„é€ é“¾è¡¨ã€‚ 1234567891011121314def convert(self, root): from itertools import tee def dfs(node): if node: yield from dfs(node.left) yield node yield from dfs(node.right) a, b = tee(dfs(root)) ans = next(b, None) for f, s in zip(a, b): f.right = s s.left = f return ans æ–¹æ³•äºŒï¼šåˆ†åˆ«é€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ã€‚ 12345678910111213141516171819202122232425def Convert(self, root): def convert_tree(node): if not node: return None if node.left: left = convert_tree(node.left) while left.right: left = left.right left.right = node node.left = left if node.right: right = convert_tree(node.right) while right.left: right = right.left right.left = node node.right = right return node if not root: return root root = convert_tree(root) while root.left: root = root.left return root æ–¹æ³•ä¸‰ï¼šMorris Traversal. 1234567891011121314151617def Convert(self, root): cur = root pre = ans = None while cur: while cur.left: q = cur.left while q.right: q = q.right q.right = cur # è¡¥é½å³æŒ‡é’ˆ cur.left, cur = None, cur.left # æ‹†æŽ‰å·¦æŒ‡é’ˆ cur.left = pre if pre is None: ans = cur # è¿™é‡Œæ˜¯ä¸ºäº†æ‰¾åˆ°é“¾è¡¨çš„å¤´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ else: pre.right = cur pre, cur = cur, cur.right return ans 37.åºåˆ—åŒ–äºŒå‰æ ‘LeetCodeä¼ é€é—¨12345678910111213141516171819class Codec: def serialize(self, root): if not root: return '$' return str(root.val) + ',' + self.serialize(root.left) + ',' + self.serialize(root.right) def deserialize(self, data): def deserialize_tree(nodes): val = next(nodes) if val == '$': return None root = TreeNode(val) root.left = deserialize_tree(nodes) root.right = deserialize_tree(nodes) return root nodes = iter(data.split(',')) return deserialize_tree(nodes) 38.å­—ç¬¦ä¸²çš„æŽ’åˆ—46. Permutations II ä½¿ç”¨itertools 123456def Permutation(self, ss): # write code here from itertools import permutations if not ss: return [] return sorted(list(set([''.join(x) for x in permutations(ss)]))) è¿™é‡Œæ³¨æ„å‡ ç‚¹ï¼š ä¸ºä»€ä¹ˆè¦åˆ¤æ–­if not ssï¼Œæ˜¯å› ä¸ºå¦‚æžœss=&#39;&#39;çš„æ—¶æ—¶å€™ï¼Œè¿”å›žäº†[&#39;&#39;]è€Œä¸æ˜¯[]ã€‚å› ä¸ºè¿™é‡Œè¿”å›žäº†ä¸€ä¸ªç©ºçš„tupleï¼Œæ‰€ä»¥åœ¨åˆ—è¡¨æŽ¨å¯¼å¼ä¸­æ˜¯æœ‰ä¸€ä¸ªå…ƒç´ çš„ã€‚ 12&gt;&gt;&gt; list(permutations('', 0))[()] ä¸ºä»€ä¹ˆä½¿ç”¨setåŽ»é‡ï¼Œå› ä¸ºå½“ss=&#39;aa&#39;çš„æ—¶å€™ï¼Œç‰›å®¢ç½‘çš„æµ‹è¯•ç”¨ä¾‹è¦æ±‚è¿”å›žä¸€ä¸ªå…ƒç´ ï¼Œå³[&#39;aa&#39;]ã€‚ æŽ’åºä¹Ÿæ˜¯ä¸ºäº†æ»¡è¶³æµ‹è¯•ç”¨ä¾‹ã€‚ è‡ªå·±å®žçŽ°ã€‚è¿™é‡Œæ‹†æˆä¸¤ä¸ªæ–¹æ³•çš„åŽŸå› è¿˜æ˜¯å› ä¸ºss=&#39;&#39;çš„æ—¶å€™ä¼šå½±å“é€’å½’å¾ªçŽ¯ã€‚ 12345678910def Permutation(self, ss): if not ss: return [] return self.permute(ss)def permute(self, ss): return sorted(list(set([h + p for i, h in enumerate(ss) for p in self.permute(ss[:i]+ss[i+1:]) ]))) or [""] æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚ 123456def Permutation(self, ss): ans = [''] for s in ss: ans = [p[:i] + s + p[i:] for p in ans for i in range((p+s).index(s)+1)] return sorted(ans) if ss else [] 39.æ•°ç»„ä¸­å‡ºçŽ°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—LeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šæŽ’åº. Time-O(nlogn), Space-O(n) 12def majority_element(nums): return sorted(nums)[len(nums)//2] æ–¹æ³•äºŒï¼šCounter Time-O(n), Space-O(n) 12345def majority_element(nums): from collections import Counter c = Counter(nums) # return max(c.keys(), key=c.get) return c.most_common(1)[0][0] æ–¹æ³•ä¸‰ï¼šBoyer-Moore Voting Algorithm. ä¹¦ä¸­çš„ç®—æ³•è¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œè¿™è¯¦æƒ…è¯·çœ‹æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ã€‚ 12345678def majorityElement(self, nums): count = 0 candidate = None for num in nums: if count == 0: candidate = num count += (1 if num == candidate else -1) return candidate 40.æœ€å°çš„kä¸ªæ•°ç›¸ä¼¼é¢˜ç›®ï¼Œä½†æ˜¯æ±‚æœ€å¤§çš„kä¸ªæ•°LeetCodeä¼ é€é—¨ç‰›å®¢ç½‘ä¼ é€é—¨12345678910111213141516171819202122def GetLeastNumbers_Solution(self, tinput, k): # write code here l, r = 0, len(tinput)-1 if k &gt; len(tinput) or k &lt; 1: return [] # for passing the damn testcase while True: pos = self.partition(tinput, l, r) if pos &lt; k-1: l = pos + 1 elif pos &gt; k-1: r = pos - 1 else: return sorted(tinput[:pos+1]) # sorted for passing the damn testcase def partition(self, nums, l, r): from random import randint p = randint(l, r) nums[r], nums[p] = nums[p], nums[r] for i, v in enumerate(nums[l:r+1], l): if nums[i] &lt;= nums[r]: nums[l], nums[i] = nums[i], nums[l] l += 1 return l-1 # the pivot index ä½¿ç”¨å †ï¼Œä¸æ”¹å˜åŽŸæ•°ç»„ 123456789def GetLeastNumbers_Solution(self, tinput, k): import heapq as hq if k &gt; len(tinput) or k &lt;= 0: return [] heap = [-x for x in tinput[:k]] hq.heapify(heap) for num in tinput[k:]: if -heap[0] &gt; num: hq.heapreplace(heap, -num) return sorted(-x for x in heap) 41.æ•°æ®æµä¸­çš„ä¸­ä½æ•°LeetCodeä¼ é€é—¨æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †ï¼Œæœ€å¤§å †å­˜å‚¨è¾ƒå°çš„æ•°æ®ï¼Œæœ€å°å †å­˜å‚¨è¾ƒå¤§çš„æ•°æ®ã€‚æ·»åŠ æ•°å­—æ—¶ï¼Œå…ˆæ·»åŠ åˆ°æœ€å¤§å †ï¼Œç„¶åŽæœ€å¤§å †è¿”å›žä¸€ä¸ªæœ€å¤§çš„æ•°å­—ç»™æœ€å°å †ï¼Œæœ€åŽä¸ºäº†å¹³è¡¡ï¼Œå¯èƒ½éœ€è¦æœ€å°å †è¿˜ç»™æœ€å¤§å †ä¸€ä¸ªæœ€å°å€¼ï¼Œä»¥ä¿è¯æœ€å¤§å †çš„é•¿åº¦&gt;=æœ€å°å †çš„é•¿åº¦ã€‚ç”±äºŽheadpqæ˜¯æœ€å°å †ï¼Œæ‰€ä»¥ä½¿ç”¨å–åå®žçŽ°æœ€å¤§å †ã€‚æ·»åŠ æ•°å­—ï¼šTime-O(logn)ï¼Œå–å‡ºä¸­ä½æ•°ï¼šTime-O(1)ã€‚ 1234567891011121314151617181920212223242526272829Adding number 41MaxHeap lo: [41] // MaxHeap stores the largest value at the top (index 0)MinHeap hi: [] // MinHeap stores the smallest value at the top (index 0)Median is 41=======================Adding number 35MaxHeap lo: [35]MinHeap hi: [41]Median is 38=======================Adding number 62MaxHeap lo: [41, 35]MinHeap hi: [62]Median is 41=======================Adding number 4MaxHeap lo: [35, 4]MinHeap hi: [41, 62]Median is 38=======================Adding number 97MaxHeap lo: [41, 35, 4]MinHeap hi: [62, 97]Median is 41=======================Adding number 108MaxHeap lo: [41, 35, 4]MinHeap hi: [62, 97, 108]Median is 51.5 12345678910111213141516171819import heapq as hqclass MedianFinder: def __init__(self): self.lo, self.hi = [], [] # lo is max_heap, hi is min_heap def addNum(self, num): hq.heappush(self.lo, -num) hq.heappush(self.hi, -hq.heappop(self.lo)) if len(self.lo) &lt; len(self.hi): hq.heappush(self.lo, -hq.heappop(self.hi)) def findMedian(self): if len(self.lo) == len(self.hi): return (-self.lo[0]+self.hi[0]) / 2.0 else: return float(-self.lo[0]) 42.è¿žç»­å­æ•°ç»„çš„æœ€å¤§å’ŒLeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šä¹¦ä¸­çš„æ€æƒ³ã€‚ 123456def maxSubArray(self, nums): cp_nums = nums[:] for i in range(1, len(nums)): if cp_nums[i-1] &gt; 0: cp_nums[i] += cp_nums[i-1] return max(cp_nums) æ–¹æ³•äºŒï¼šone-linerã€‚æ³¨æ„accumulateæ˜¯æŠŠå‡½æ•°æ”¾åˆ°åŽé¢çš„ã€‚ 123def maxSubArray(self, nums): from itertools import accumulate return max(accumulate(nums, lambda x, y: x+y if x &gt; 0 else y)) 43.1~næ•´æ•°ä¸­1å‡ºçŽ°çš„æ¬¡æ•°LeetCodeä¼ é€é—¨1234567def countDigitOne(self, n): countr, i = 0, 1 while i &lt;= n: divider = i * 10 countr += (n // divider) * i + min(max(n % divider - i + 1, 0), i) i *= 10 return countr 45.æŠŠæ•°ç»„æŽ’æˆæœ€å°çš„æ•°å­—AcWingä¼ é€é—¨python2çš„å†™æ³•ã€‚ 123def PrintMinNumber(self, numbers): return ''.join(sorted(map(str, numbers), lambda x, y: cmp(x+y, y+x))) åŒ¿åå‡½æ•°ä½œä¸ºsortçš„å‚æ•°ï¼Œåœ¨python2ä¸­æœ‰è¿™ä¸ªå‚æ•°ã€‚ cmp specifies a custom comparison function of two arguments (iterable elements) which should return a negative, zero or positive number depending on whether the first argument is considered smaller than, equal to, or larger than the second argument: cmp=lambda x,y: cmp(x.lower(), y.lower()). The default value is None. ä½œä¸ºsortçš„å‚æ•°ï¼Œcmpæä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„æ–¹æ³•ï¼Œå¦‚æžœè¿”å›ž-1è¡¨ç¤ºå‰è€…å°äºŽåŽè€…ã€‚python3ä¸­å–æ¶ˆäº†è¿™ä¸ªå‚æ•°ï¼Œä½†æ˜¯æä¾›äº†ä¸€ç§keyçš„è½¬æ¢ã€‚è€Œå†…ç½®å‡½æ•°å¯ä»¥é€šè¿‡è¿ç®—ç¬¦å®žçŽ°ã€‚ 1cmp(a, b) ç­‰åŒäºŽ 1(a&gt;b) - (a&lt;b) æ‰€ä»¥python3çš„å†™æ³•å¦‚ä¸‹ï¼š 123456from functools import cmp_to_keydef PrintMinNumber(self, numbers): # write code here nums = list(map(str, numbers)) nums.sort(key=cmp_to_key(lambda x, y: ((x+y)&gt;(y+x)) - ((y+x)&gt;(x+y)))) return ''.join(nums) 46 æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²LeetCodeä¼ é€é—¨123456789def numDecodings(self, s: str) -&gt; int: # w tells the number of ways # v tells the previous number of ways # d is the current digit # p is the previous digit v, w, p = 0, int(s&gt;''), '' for d in s: v, w, p = w, int(d&gt;'0')*w + (9&lt;int(p+d)&lt;27)*v, d return w 47 ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼Œä¸è¿‡ä¹Ÿå·®ä¸å°‘ã€‚Acwingä¼ é€é—¨è¿™ä¸ªæ˜¯åŽŸé¢˜ã€‚å¯¹é¦–è¡Œä½¿ç”¨åˆå§‹åŒ–ï¼Œç„¶åŽæ¶ˆé™¤äº†içš„åˆ¤æ–­ã€‚ 12345678910def get_max_value(g: 'List[List[int]]') -&gt; int: R, C = len(g), len(g[0]) cur = list(itertools.accumulate(g[0])) for i in range(1, R): tmp = [] for j in range(C): left = tmp[-1] if j &gt; 0 else float('-inf') tmp.append(max(cur[j], left) + g[i][j]) cur = tmp return cur[-1] 48.æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²LeetCodeä¼ é€é—¨æ–¹æ³•äºŒï¼šæ‰¾åˆ°é‡å¤å€¼æ—¶ï¼Œæ›´æ–°startçš„å€¼ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨maxï¼Œå› ä¸ºstartæœ‰å¯èƒ½å¤§äºŽdic[s[end]]+1ï¼Œæ¯”å¦‚å½“s=&#39;abba&#39;ï¼Œendèµ°åˆ°æœ€åŽçš„æ—¶å€™ï¼Œä¸Šä¸€æ¬¡startå› ä¸ºbåšäº†æ›´æ–°å˜ä¸ºäº†2ã€‚ 123456789def lengthOfLongestSubstring(self, s): ans = start = 0 pos = &#123;&#125; # last index of element for end, c in enumerate(s): if c in pos: start = max(start, pos[c]+1) pos[c] = end ans = max(ans, end-start+1) return ans 49.ä¸‘æ•°LeetCodeä¼ é€é—¨1234567891011121314def nthUglyNumber(self, n: int) -&gt; int: q = [1] t2 = t3 = t5 = 0 for _ in range(n-1): a2, a3, a5 = q[t2]*2, q[t3]*3, q[t5]*5 to_add = min(a2, a3, a5) q.append(to_add) if a2 == to_add: t2 += 1 if a3 == to_add: t3 += 1 if a5 == to_add: t5 += 1 return q[-1] 50.ç¬¬ä¸€ä¸ªåªå‡ºçŽ°ä¸€æ¬¡çš„å­—ç¬¦LeetCodeä¼ é€é—¨æœ‰ä¸€ç‚¹å°åŒºåˆ«ï¼ŒLeetCodeè¾“å‡ºç´¢å¼•ï¼Œä¹¦ä¸­è¾“å‡ºå€¼ã€‚1234s = &quot;leetcode&quot;return 0.s = &quot;loveleetcode&quot;,return 2. Time-O(N), Space-O(N)ã€‚æš‚æ—¶æ²¡å‘çŽ°æ›´å¿«çš„ç®—æ³•äº†ã€‚ 1234567def firstUniqChar(self, s): from collections import Counter c = Counter(s) for i, ch in enumerate(s): if c[ch] == 1: return i return -1 51.æ•°ç»„ä¸­çš„é€†åºå¯¹ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨è¿™é‡Œä½¿ç”¨äº†åŒç«¯é˜Ÿåˆ—æ„Ÿè§‰ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºè¿˜è¦æ˜¾å¼åœ°è½¬æˆlistï¼Œå¦åˆ™æ²¡æ³•å¯¹å‰©ä½™çš„leftæˆ–rightåšåˆ‡ç‰‡ã€‚ä¹Ÿè¯•äº†å°†å…¶æ”¹ä¸ºstackï¼Œä½†æ˜¯stackæ¥å›žreverseåˆå¤ªéº»çƒ¦ã€‚ 123456789101112131415161718192021222324252627def InversePairs(self, data): self.count = 0 def merge(left, right): q = deque() l, r = len(left)-1, len(right)-1 while l &gt;= 0 and r &gt;= 0: if left[l] &gt; right[r]: self.count += r + 1 q.appendleft(left[l]) l -= 1 else: q.appendleft(right[r]) r -= 1 # q.extendleft(left[l:-1:-1] or right[r:-1:-1]) q = left[:l+1] + right[:r+1] + list(q) return q def merge_sort(ary): if len(ary) &lt;= 1: return ary mid = len(ary) // 2 left = merge_sort(ary[:mid]) right = merge_sort(ary[mid:]) return merge(left, right) merge_sort(data) return self.count % 1000000007 52.ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹LeetCodeä¼ é€é—¨123456def getIntersectionNode(self, headA, headB): p1, p2 = headA, headB while p1 is not p2: p1 = p1.next if p1 else headB p2 = p2.next if p2 else headA return p1 53.åœ¨æŽ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeæ˜¯æ±‚å‡ºæ•°å­—çš„ç´¢å¼•ï¼Œä¹¦ä¸­è¿”å›žä¸ªæ•°ã€‚ LeetCodeä¼ é€é—¨ã€‚ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeè¦è¿”å›žä¸¤ä¸ªç´¢å¼•ï¼Œä¹¦ä¸­æ±‚ä¸ªæ•°ã€‚1234Input: nums = [5,7,7,8,8,10], target = 8Output: [3,4]Input: nums = [5,7,7,8,8,10], target = 6Output: [-1,-1] æ–¹æ³•ä¸€ï¼šæ ‡å‡†åº“å†™æ³•ã€‚è¿™é‡Œä¸éœ€è¦targetåŽ»æ•´ä¸ªnumsä¸­åˆ¤æ–­ã€‚ 1234567def searchRange(self, nums: List[int], target: int) -&gt; List[int]: from bisect import bisect, bisect_left lo = bisect_left(nums, target) if target in nums[lo:lo+1]: return lo, bisect(nums, target)-1 else: return -1, -1 æ–¹æ³•äºŒï¼šè‡ªå·±å®žçŽ°ã€‚bisect_rightçš„æ–¹å¼é‡‡ç”¨+1çš„å½¢å¼ã€‚ 12345678910111213141516def searchRange(self, nums: List[int], target: int) -&gt; List[int]: def search(n): lo, hi = 0, len(nums) while lo &lt; hi: mid = (lo + hi) // 2 if nums[mid] &gt;= n: hi = mid else: lo = mid + 1 return lo lo = search(target) if target in nums[lo:lo+1]: return lo, search(target+1)-1 else: return -1, -1 53.0~n-1ä¸­ç¼ºå¤±çš„æ•°å­—LeetCodeä¼ é€é—¨ç›¸ä¼¼é¢˜ç›®ï¼ŒLeetCodeæ˜¯æœªæŽ’åºï¼Œä¹¦ä¸­æ˜¯å·²æŽ’åºã€‚æ‰€ä»¥å¯ä»¥åˆ©ç”¨æŽ’åºçš„ç‰¹æ€§ä½¿æ—¶é—´å¤æ‚åº¦å°äºŽO(n)ã€‚å³æ‰¾å‡ºç¬¬ä¸€ä¸ªä¸‹æ ‡ä¸Žå€¼ä¸ç›¸ç­‰çš„å…ƒç´ ï¼Œå†-1å°±æ˜¯ç¼ºå¤±çš„å…ƒç´ ã€‚ AcWingä¼ é€é—¨æ–¹æ³•ä¸€ï¼šæ•°å­¦å…¬å¼ã€‚ 12345def missingNumber(self, nums): n = len(nums) expected_sum = n*(n+1) // 2 actual_sum = sum(nums) return expected_sum - actual_sum æ–¹æ³•äºŒï¼šXOR. index 0 1 2 value 3 0 1 12345def missingNumber(self, nums: 'List[int]') -&gt; 'int': missing = len(nums) for i, num in enumerate(nums): missing ^= i ^ num return missing æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨ä¹¦ä¸­å·²æŽ’åºçš„ç‰¹æ€§ã€‚ 1234567891011def getMissingNumber(self, nums): lo, hi = 0, len(nums)-1 while lo &lt;= hi: mid = (lo + hi) &gt;&gt; 1 if nums[mid] != mid: if mid==0 or nums[mid-1]==mid-1: return mid hi = mid - 1 else: lo = mid + 1 return lo 53 æ•°ç»„ä¸­æ•°å€¼å’Œä¸‹æ ‡ç›¸ç­‰çš„å…ƒç´ AcWingä¼ é€é—¨1234567891011def getNumberSameAsIndex(self, nums): lo, hi = 0, len(nums)-1 while lo &lt;= hi: mid = (lo + hi) &gt;&gt; 1 if nums[mid] &lt; mid: lo = mid + 1 elif nums[mid] &gt; mid: hi = mid - 1 else: return mid return -1 54.äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹AcWingä¼ é€é—¨æ³¨æ„ï¼šç‰›å®¢ç½‘ä¸Šæ˜¯æ±‚ç¬¬kå°èŠ‚ç‚¹ï¼Œè¿™é‡Œè¢«å‘äº†ä¸€æ¬¡ï¼Œç„¶åŽè¿”å›žå€¼å±…ç„¶è¦æ±‚è¿”å›žèŠ‚ç‚¹å¯¹è±¡ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹å€¼ï¼Œè¿™é‡Œçš„ç­”æ¡ˆæŒ‰ä¹¦ä¸­è¿”å›žã€‚å¦‚æžœæ˜¯ç‰›å®¢ç½‘ä¸Šéœ€è¦æŠŠèŠ‚ç‚¹æ·»åŠ åˆ°resä¸­ï¼Œç„¶åŽreturn res[k-1] 123456789101112def kth_largest(self, root: TreeNode, k: int) -&gt; int: stack, ans = [], None while stack or root: while root: stack.append(root) root = root.right root = stack.pop() k -= 1 ans = root root = root.left if k == 0: return ans 55.äºŒå‰æ ‘çš„æ·±åº¦LeetCodeä¼ é€é—¨123456 3 / \ 9 20 / \ 15 7return 3 æ–¹æ³•ä¸€ï¼šrecursively 12345def max_depth(root): if not root: return 0 # return max(max_depth(root.left), max_depth(root.right)) + 1 return max(map(max_depth, (root.left, root.right))) + 1 æ–¹æ³•äºŒï¼šiteratively. BFS with deque 12345678910def maxDepth(self, root: 'TreeNode') -&gt; 'int': q = root and collections.deque([(root, 1)]) d = 0 while q: node, d = q.popleft() if node.right: q.append((node.right, d+1)) if node.left: q.append((node.left, d+1)) return d 55.1å¹³è¡¡äºŒå‰æ ‘LeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šé€’å½’+é€’å½’ã€‚ 12345678910def isBalanced(self, root): if not root: return True return self.isBalanced(root.left) and self.isBalanced(root.right) and \ abs(self.max_depth(root.left)-self.max_depth(root.right)) &lt;= 1 def max_depth(self, root): if not root: return 0 return max(self.max_depth(root.left), self.max_depth(root.right)) + 1 æ–¹æ³•äºŒï¼šä¸Šè¯‰ä¸¤ç§æ–¹æ³•ä¸­éƒ½åŒ…å«äº†ä¸€äº›æ— æ„ä¹‰çš„é‡å¤éåŽ†ã€‚è¿™é‡Œé‡‡ç”¨åŽåºéåŽ†ï¼Œè¾¹éåŽ†è¾¹åˆ¤æ–­ï¼Œä¸ä¼šé‡å¤èŠ‚ç‚¹ã€‚å—æ­¤æ€æƒ³å¯å‘ï¼Œæ·»åŠ ä¸€ç§åŽåºéåŽ†äºŒå‰æ ‘çš„æ–¹æ³•ã€‚ 12345678910111213141516171819def isBalanced(self, root): stack, node, last = [], root, None depths = collections.defaultdict(int) while stack or node: if node: stack.append(node) node = node.left else: node = stack[-1] if not node.right or last == node.right: node = stack.pop() left, right = depths[node.left], depths[node.right] if abs(left - right) &gt; 1: return False depths[node] = 1 + max(left, right) last, node = node, None else: node = node.right return True æ–¹æ³•ä¸‰ï¼šdfs. ç®—æ·±åº¦çš„æ—¶å€™åˆ¤æ–­å·¦å³æ˜¯å¦æ·±åº¦è¶…è¿‡1. è¿™é‡Œå˜é‡ä¸èƒ½æŠŠselfåŽ»æŽ‰ï¼Œå¦åˆ™[1,2,2,3,3,null,null,4,4]ä¼šé”™è¯¯çš„è¿”å›žTrueè€Œä¸æ˜¯Falseã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨nonlocal 1234567891011121314def isBalanced(self, root: 'TreeNode') -&gt; 'bool': self.balanced = True def dfs(node): if not node: return 0 left = dfs(node.left) right = dfs(node.right) if abs(left-right) &gt; 1 and self.balanced: self.balanced = False return max(left, right) + 1 dfs(root) return self.balanced 56 æ•°ç»„ä¸­åªå‡ºçŽ°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ã€‚æ‰¾å‡ºæ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºçŽ°ä¸€æ¬¡çš„å…ƒç´ ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºçŽ°ä¸¤æ¬¡ã€‚LeetCodeä¼ é€é—¨12Input: [1,2,1,3,2,5]Output: [3,5] æ€æƒ³ï¼šå°†è¿™ä¸¤ä¸ªå…ƒç´ åˆ†åˆ°ä¸¤ä¸ªç»„ï¼Œç”±äºŽè¿™ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥äº¦æˆ–ç»“æžœä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´äºŒè¿›åˆ¶ä¸­è‡³å°‘æœ‰ä¸€ä½1ï¼Œè®°ä¸ºç¬¬nä½ã€‚æˆ‘ä»¬ä»¥ç¬¬nä½æ˜¯å¦ä¸º1ï¼ŒæŠŠæ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ã€‚ 123456789101112def singleNumber(self, nums: List[int]) -&gt; List[int]: from functools import reduce def get_single(nums): return reduce(operator.xor, nums) total_xor = get_single(nums) mask = 1 while total_xor&amp;mask == 0: mask &lt;&lt;= 1 n1 = [num for num in nums if num&amp;mask==0] n2 = [num for num in nums if num&amp;mask!=0] return get_single(n1), get_single(n2) 56.1æ•°ç»„ä¸­å‡ºçŽ°ä¸€æ¬¡çš„æ•°å­—ï¼Œå…¶ä½™å…ƒç´ å‡ºçŽ°ä¸‰æ¬¡ã€‚LeetCodeä¼ é€é—¨12Input: [2,2,3,2]Output: 3 æ–¹æ³•ä¸€ï¼šæ‰¾å‡ºå•ç‹¬å…ƒç´ æ¯ä¸€ä½çš„å€¼ã€‚å¦‚æžœæŠŠæ‰€æœ‰æ•°å­—çš„äºŒè¿›åˆ¶æ¯ä¸€ä½åŠ èµ·æ¥ï¼Œå¦‚æžœæŸä¸€ä½å¯ä»¥è¢«3æ•´é™¤ï¼Œåˆ™è¡¨ç¤ºå•ç‹¬å…ƒç´ çš„è¯¥ä½ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ä»¥ä¸‹ä½¿ç”¨countæ¥è¡¨ç¤ºæ¯ä¸€ä½1çš„ä¸ªæ•°ã€‚å‡è®¾count%3!=0ä¸ºTrueï¼Œè¯´æ˜Žè¯¥å…ƒç´ iä½ä¸º1ï¼Œç„¶åŽæ˜¯ç”¨|=æ›´æ–°ansåœ¨ç¬¬iä¸ªä½ç½®çš„å€¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨+=ï¼Œä½†æ˜¯æ•ˆçŽ‡ç¨æ…¢ã€‚convertçš„ä½œç”¨æ˜¯å› ä¸ºpythonä¸­çš„intæ˜¯ä¸ªå¯¹è±¡ï¼Œä¸”æ²¡æœ‰æœ€å¤§é™åˆ¶ï¼Œä¸æ˜¯åœ¨ç¬¬32ä½ä½¿ç”¨1æ¥è¡¨ç¤ºè´Ÿæ•°ã€‚ 1234567891011121314def singleNumber(self, nums, n=3): ans = 0 for i in range(32): count = 0 for num in nums: if ((num &gt;&gt; i) &amp; 1): count += 1 ans |= ((count%n!=0) &lt;&lt; i) return self.convert(ans)def convert(self, x): if x &gt;= 2**31: x -= 2**32 return x è¿™é‡Œæœ‰ä¸ªçŠ¶æ€æœºçš„è§£æ³•ï¼Œä¸æ˜Žè§‰åŽ‰ï¼Œç•™å‘ã€‚è®¨è®º1å’Œè®¨è®º2 123456def singleNumber(self, nums): ones, twos = 0, 0; for i in range(len(nums)): ones = (ones ^ nums[i]) &amp; ~twos twos = (twos ^ nums[i]) &amp; ~ones return ones 57.å’Œä¸ºsçš„æ•°å­—ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨çœ‹ç‰›å®¢ç½‘ä¸Šçš„æè¿°ï¼Œå¦‚æžœæœ‰å¤šå¯¹æ•°å­—å’Œä¸ºsï¼Œè¦æ±‚è¿”å›žä¹˜ç§¯æœ€å°çš„ä¸€å¯¹ã€‚ä¹ä¸€çœ‹ä»¥ä¸ºç‰›å®¢ç½‘åˆä¹±æ”¹é¢˜ï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³ï¼Œå¦‚æžœä¸¤ä¸ªå’Œä¸ºsçš„æ•°ï¼Œè€Œä¸”æ˜¯åœ¨é€’å¢žæ•°ç»„ä¸­å¾ˆæ˜Žæ˜¾ï¼Œè¾¹ç¼˜çš„æ•°å­—ä¹˜ç§¯è¦å°ï¼Œä¾‹å¦‚8X8&gt;1X15ã€‚æ‰€ä»¥è¿˜æ˜¯å’Œä¹¦ä¸­è§£æ³•ä¸€æ ·ã€‚ 12345678910def FindNumbersWithSum(self, array, tsum): l, r = 0, len(array)-1 while l &lt; r: if array[l] + array[r] &lt; tsum: l += 1 elif array[l]+array[r] &gt; tsum: r -= 1 else: return array[l], array[r] return [] 57_1 å’Œä¸ºsçš„è¿žç»­æ­£æ•°åºåˆ—ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨1234567891011121314def findContinuousSequence(self, tsum): end = (tsum + 1) // 2 lo, hi, cur_sum = 1, 2, 3 ans = [] while lo &lt; end: if cur_sum &lt; tsum: hi += 1 cur_sum += hi else: if cur_sum == tsum: ans.append(list(range(lo, hi+1))) cur_sum -= lo lo += 1 return ans 58.ç¿»è½¬å­—ç¬¦ä¸²ã€‚LeetCodeä¼ é€é—¨12Input: "the sky is blue",Output: "blue is sky the". æ–¹æ³•ä¸€ï¼šå¦‚æžœé¢è¯•å®˜æ˜¯ä¸€ä¸ªPythonerï¼Œé‚£ä¹ˆå°±è®©ä½ è¿‡äº†ã€‚ 12def reverse_words(s): return ' '.join(reversed(s.split())) å¦‚æžœä½ çš„é¢è¯•å®˜æ˜¯ä¸€ä¸ªåªå†™Javaæˆ–è€…Cï¼Œçœ‹è§ä»£ç å°±ä¸å¹³è¡¡äº†ï¼Œå‡­å•¥å¯ä»¥å†™åˆ°ä¸€è¡Œï¼Œéžè¦ä½ å®žçŽ°reverseã€‚ 12345678910def reverseWords(self, s: str) -&gt; str: def hp_reversed(s): s = list(s) for i in range(len(s)//2): # s[i], s[-i-1] = s[-i-1], s[i] s[i], s[~i] = s[~i], s[i] return ''.join(s) s = hp_reversed(s) return ' '.join(hp_reversed(word) for word in s.split()) å®žçŽ°splitï¼Œhp_reverseï¼Œ 1234567891011121314151617def reverseWords(self, s: str) -&gt; str: def hp_reversed(s): s = list(s) for i in range(len(s)//2): s[i], s[~i] = s[~i], s[i] return ''.join(s) s = hp_reversed(s) ans = word = '' for r, c in enumerate(s): if c != ' ': word += c if (c== ' ' or r==len(s)-1) and word: ans += hp_reversed(word) + ' ' word = '' return ans[:-1] 58_1 å·¦æ—‹è½¬å­—ç¬¦ä¸²ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨åˆ‡ç‰‡ï¼Œä¹¦ä¸­çš„æ–¹æ³•ä¸ªäººè§‰å¾—Pythonå¹¶ä¸é€‚ç”¨ã€‚ 12345def LeftRotateString(self, s, n): if not s: return '' n = n % len(s) return s[n:] + s[:n] 59.æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨å¾—ç›ŠäºŽpythonçš„åˆ‡ç‰‡ã€‚Time: O(n*k). k=n-size 123def maxInWindows(self, nums, size): return [max(nums[i:i+size]) for i in range(len(nums)-size+1) if size!=0 ] æ–¹æ³•äºŒï¼šå¸¸è§„å†™æ³•ï¼Œåªæ˜¯å°†ä¹¦ä¸­çš„ä»£ç å°è£…äº†ä¸€ä¸‹ï¼ŒTime: O(n). 1234567891011121314151617181920def maxInWindows(self, nums, size): from collections import deque q = deque() ans = [] def pop_less(i): # nums[i] ç´¢å¼•å’Œå€¼éƒ½æ¯”é˜Ÿåˆ—å°¾çš„å…ƒç´ å¤§ï¼Œé˜Ÿåˆ—å°¾çš„å…ƒç´ å°±æ²¡æœ‰å¿…è¦å­˜åœ¨äº† while q and nums[i]&gt;=nums[q[-1]]: q.pop() q.append(i) for i in range(size): pop_less(i) for i in range(size, len(nums)): ans.append(nums[q[0]]) pop_less(i) while q and q[0]&lt;= i-size: q.popleft() ans.append(nums[q[0]]) return ans 60.nä¸ªéª°å­çš„ç‚¹æ•°AcWingä¼ é€é—¨1[[1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0], [0, 1, 2, 3, 4, 5, 6, 5, 4, 3, 2, 1]] dp[0][j]==1è¡¨ç¤ºç¬¬ä¸€ä¸ªéª°å­å’Œä¸ºj+1çš„æ¬¡æ•°ä¸º1ï¼Œå› ä¸ºæ•°ç»„ä¸‹æ ‡ä»Ž0å¼€å§‹ã€‚ 12345678910111213141516def dice_probability(n, val=6): dp = [[0]*val*n for _ in range(n)] dp[0][:val] = [1] * val # åˆå§‹åŒ–ç¬¬ä¸€ä¸ªéª°å­ for i in range(n-1): # æ ¹æ®ç¬¬iä¸ªéª°å­æ›´æ–°ç¬¬i+1ä¸ªéª°å­ for j in range(i, len(dp[i+1])): # ç¬¬i+1ä¸ªéª°å­å’Œä¸ºjï¼ˆå®žé™…ä¸ºj+1ï¼Œå› ä¸ºæ•°ç»„ä¸‹æ ‡ä»Ž0å¼€å§‹ï¼‰çš„æ¬¡æ•°ï¼Œç­‰äºŽç¬¬iä¸ª # éª°å­j-1 ~ j-6æ¬¡æ•°çš„æ€»å’Œ dp[i+1][j] = sum([dp[i][j-k] for k in range(1, val+1)]) # æ•´ç†æ•°æ®æˆä¸ºdictï¼Œkeyè¡¨ç¤ºå’Œï¼Œvalueè¡¨ç¤ºå‡ºçŽ°çš„æ¬¡æ•° # count = &#123;i+1: times for i, times in enumerate(dp[-1])&#125; # è®¡ç®—æ¦‚çŽ‡ count = &#123;i+1: round(float(times / (val**n)), 5) for i, times in enumerate(dp[-1]) if times!=0&#125; return count æ„Ÿè§‰ç”¨dictæ¥è¡¨ç¤ºæ›´åŠ æ˜Žç¡®ï¼Œæ²¡æœ‰æ•°ç»„ä¸‹æ ‡ä»Ž0å¼€å§‹çš„æ··æ·†ã€‚æŒ‰ç…§AcWingä¸­çš„è¿”å›žå†™å‡ºä¸€ç§è§£æ³•ã€‚ 12345678910111213from collections import defaultdictfrom itertools import repeatdef numberOfDice(self, n): last_p = defaultdict(int) last_p.update(dict(zip(range(1, 7), repeat(1)))) for i in range(2, n+1): new_p = defaultdict(int) for j in range(i, i*6+1): new_p[j] = sum(last_p[j-k] for k in range(1, 7)) # print(new_p) last_p = new_p return list(last_p.values()) 61.æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨å¼€å§‹ä»¥ä¸ºè¿˜è¦ç”¨ä¸ªdictæ¥æ˜ å°„å€¼ï¼ŒåŽæ¥å‘çŽ°ç›´æŽ¥ä¼ å¾—å¡ç‰Œçš„å€¼ã€‚æ€æƒ³å°±æ˜¯å…ˆæŽ’åºï¼Œç„¶åŽæŸ¥jokerçš„æ•°é‡ï¼Œçœ‹å‰©ä¸‹ç‰Œçš„å·®å€¼åŠ èµ·æ¥èƒ½ä¸èƒ½ç”¨å·²æœ‰çš„jokerè¿žèµ·æ¥ã€‚ 1234567891011def IsContinuous(self, numbers): if not numbers: return False joker_count = numbers.count(0) left_cards = sorted(numbers)[joker_count:] need_joker = 0 for i in range(len(left_cards)-1): if left_cards[i+1] == left_cards[i]: return False need_joker += (left_cards[i+1]-left_cards[i]-1) return need_joker &lt;= joker_count ä½¿ç”¨æ ‡å‡†åº“ï¼Œæ›´åŠ ä¼˜é›…ï¼ŒåŽŸç†ç›¸åŒã€‚ 123456789101112131415from itertools import teedef IsContinuous(self, numbers): if not numbers: return False joker_count = numbers.count(0) left_cards = sorted(numbers)[joker_count:] need_joker = 0 c1, c2 = tee(left_cards) next(c2, None) for s, g in zip(c1, c2): if g == s: return False need_joker += g - 1 - s return need_joker &lt;= joker_count 62.åœ†åœˆä¸­æœ€åŽå‰©ä¸‹çš„æ•°å­—æ–¹æ³•ä¸€ï¼šå…¶å®žä¸éœ€è¦çŽ¯å½¢é“¾è¡¨ï¼Œä½¿ç”¨ä¸€ä¸ªlistè¶³çŸ£ï¼Œæ¯æ¬¡å°†å…¶æ—‹è½¬rotä½ï¼Œä¸€å¼€å§‹æƒ³å°†è¦æŠŠç¬¬mä¸ªæ•°æ—‹è½¬åˆ°listé¦–éƒ¨ï¼Œç„¶åŽå†pop(0)ï¼ŒåŽæ¥æƒ³åˆ°ç›´æŽ¥å¯ä»¥é€šè¿‡åˆ‡ç‰‡å–å‡ºæ¥ï¼ŒèŠ‚çœäº†pop(0)çš„O(n)å¤æ‚åº¦ã€‚ 123456789def LastRemaining_Solution(self, n, m): # write code here if n&lt;=0 or m&lt;=0: return -1 seats = range(n) while seats: rot = (m-1) % len(seats) seats, last = seats[rot+1:] + seats[:rot], seats[rot] return last æ–¹æ³•äºŒï¼šä¹¦ä¸­çš„æŽ¨å¯¼è¿‡ç¨‹è¿‡äºŽå¤æ‚ï¼Œè¿™é‡Œå­¦åˆ°äº†ä¸€ä¸ªç¨å¾®ç®€å•çš„æŽ¨å¯¼è¿‡ç¨‹ã€‚å‚è€ƒçº¦ç‘Ÿå¤«çŽ¯é—®é¢˜ã€‚ è§£æžJosephus-problem 1234567def LastRemaining_Solution(self, n, m): if n&lt;=0 or m&lt;=0: return -1 last_num = 0 for i in range(2, n+1): last_num = (last_num+m) % i return last_num 63.è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦LeetCodeä¼ é€é—¨æ–¹æ³•ä¸€ï¼šBrute Force.å…¶å®žå°±æ˜¯æ±‚æœ€é«˜å³°ç‚¹å’Œå‰é¢æœ€ä½Žè°·ç‚¹çš„å·®ã€‚ 123456def maxProfit(self, prices: List[int]) -&gt; int: profit, min_buy = 0, float('inf') for p in prices: min_buy = min(min_buy, p) profit = max(profit, p-min_buy) return profit æ–¹æ³•äºŒï¼šæ ‡å‡†çš„å¡ç™»ç®—æ³•ã€‚æ­¤é¢˜ä¸º53.è¿žç»­æ•°ç»„æœ€å¤§å’Œçš„å˜å½¢ï¼Œå¦‚æžœä»·æ ¼æ¯”ä¹‹å‰å°ï¼Œåˆ™èˆå¼ƒï¼Œå¦åˆ™ä¸€èµ·è®¡ç®—è¿žç»­å­æ•°ç»„çš„å’Œã€‚ 1234567def maxProfit(self, prices: List[int]) -&gt; int: cur = sofar = 0 for i in range(1, len(prices)): cur += prices[i] - prices[i-1] cur = max(0, cur) sofar = max(cur, sofar) return sofar æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ ‡å‡†åº“çš„å¡ç™»ç®—æ³•ã€‚ 12345678910def maxProfit(self, prices: List[int]) -&gt; int: from itertools import tee cur = profit = 0 a, b = tee(prices) next(b, None) for before, today in zip(a, b): cur += today - before cur = max(0, cur) profit = max(profit, cur) return profit 64.æ±‚1+2+Â·Â·Â·+nAcWingä¼ é€é—¨è¿™é¢˜å¯¹pythonä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ„Ÿè§‰andä¹Ÿå±žäºŽæ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚reduce`sum`ä¹‹ç±»çš„å±žäºŽä½œå¼Šè¡Œä¸ºï¼Œè¿™é‡Œå°±ä¸è´´äº†ã€‚ 123def Sum_Solution(self, n): # write code here return n and (n+self.Sum_Solution(n-1)) 65.ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•LeetCodeä¼ é€é—¨æ­¤é¢˜ç”±äºŽPythonä¸­çš„intæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œåœ¨è´Ÿæ•°å‡ºçŽ°çš„æƒ…å†µï¼Œä¼šå¯¼è‡´ç»“æžœä¸Žé¢„æœŸä¸åŒã€‚è¯¦æƒ…è§Pythonè´Ÿæ•°ä½è¿ç®— 12345678910111213def getSum(self, a, b): # 32 bits integer max MAX = 0x7FFFFFFF # 2**31-1 # 32 bits interger min MIN = 0x80000000 # -2**31 # mask to get last 32 bits mask = 0xFFFFFFFF # 2*32-1 while b != 0: # ^ get different bits and &amp; gets double 1s, &lt;&lt; moves carry a, b = (a ^ b) &amp; mask, ((a &amp; b) &lt;&lt; 1) &amp; mask # if a is negative, get a's 32 bits complement positive first # then get 32-bit positive's Python complement negative return a if a &lt;= MAX else ~(a ^ mask) æˆ–è€…å¯ä»¥å°†å…¶è½¬æˆ32ä½æ•´æ•°ã€‚ 1234567import numpy as npclass Solution(object): def getSum(self, a, b): while b != 0: a, b = np.int32(a ^ b), np.int32((a &amp; b) &lt;&lt; 1) return int(a) 66 æž„å»ºä¹˜ç§¯æ•°ç»„ç‰›å®¢ç½‘ä¼ é€é—¨AcWingä¼ é€é—¨æ€è·¯ï¼šä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚å¦‚ä¹¦ä¸­æ‰€è¯´ï¼Œä»¥iä¸ºåˆ†å‰²ç‚¹ï¼Œå°†Bæ‹†æˆCï¼ŒDä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹æ˜¯A[0] x A[1] x...x A[i-1]å³è¾¹åˆ™ä¸ºA[i+1] x ...x A[n-1] ï¼ŒC[i] = C[i-1] * A[i-1] ä½¿ç”¨accumulateï¼Œç‰›å®¢ç½‘å±…ç„¶ä¸èƒ½ACï¼Œè€æ˜¯è¯´æˆ‘è¯­æ³•é”™è¯¯æˆ–æ•°ç»„è¶Šç•Œï¼ŸAcWingæ˜¯å¯ä»¥çš„ã€‚æˆ‘åœ¨è‡ªå·±çš„testcaseä¸­ä½¿ç”¨éšæœºç”Ÿæˆçš„æ–¹å¼éªŒè¯äº†æ˜¯å¯ä»¥çš„ã€‚ 123456789def multiply(self, A): from itertools import accumulate from operator import mul C = [1] # ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸å½“äºŽæ²¡æœ‰ C += accumulate(A[:-1], mul) # `+=`æ”¯æŒå³è¾¹ç”Ÿæˆå™¨ï¼Œ`+`ä¸æ”¯æŒ D = [1] D += accumulate(A[:0:-1], mul) D.reverse() return [C[i] * D[i] for i in range(len(A))] ä¸ä½¿ç”¨æ ‡å‡†åº“çš„æ–¹æ³•ã€‚ 123456789def multiply(self, A): C = [1] # ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸å½“äºŽæ²¡æœ‰ for i in range(len(A)-1): C.append(C[-1] * A[i]) D = [1] for j in range(len(A)-1, 0, -1): D.append(D[-1] * A[j]) D.reverse() return [C[i] * D[i] for i in range(len(A))]]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>å‰‘æŒ‡Offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PythonæŽ’åºç®—æ³•]]></title>
    <url>%2FPython%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å¿«é€ŸæŽ’åº å¿«æŽ’ç®—æ˜¯åº”ç”¨ä¸­å¹¿æ³›çš„æŽ’åºç®—æ³•äº†ã€‚ç”±äºŽå®žçŽ°ç®€å•ï¼Œé€‚ç”¨äºŽä¸åŒçš„è¾“å…¥æ•°æ®ä¸”åœ¨ä¸€èˆ¬åº”ç”¨ä¸­æ¯”å…¶ä»–æŽ’åºç®—æ³•è¦å¿«ã€‚å¿«æŽ’çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯åŽŸåœ°æŽ’åºï¼Œå†…å¾ªçŽ¯æ¯”å¤§å¤šæ•°æŽ’åºç®—æ³•è¦çŸ­å°ã€‚å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯éžå¸¸è„†å¼±ï¼Œåœ¨å®žçŽ°ä¸­è¦éžå¸¸å°å¿ƒæ‰èƒ½é¿å…ä½ŽåŠ£çš„æ€§èƒ½ã€‚ å¿«æŽ’æ˜¯ä¸€ç§åˆ†æ²»çš„æŽ’åºç®—æ³•ã€‚å®ƒå°†ä¸€ä¸ªæ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œå°†ä¸¤éƒ¨åˆ†ç‹¬ç«‹åœ°æŽ’åºã€‚å¿«æŽ’å’Œå½’å¹¶æŽ’åºæ˜¯äº’è¡¥çš„ï¼šå½’å¹¶æŽ’åºå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æŽ’åºï¼Œå¹¶å°†æœ‰åºçš„å­æ•°ç»„å½’å¹¶ä»¥å°†æ•´ä¸ªæ•°ç»„æŽ’åºï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹å‰ï¼›è€Œå¿«æŽ’å°†æ•°ç»„æŽ’åºçš„æ–¹å¼åˆ™æ˜¯å½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„è‡ªç„¶ä¹Ÿå°±æœ‰åºäº†ï¼Œé€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹åŽã€‚ æŒ‰ç…§ã€Šç®—æ³•ç¬¬4ç‰ˆã€‹ä¸­çš„ä¾‹å­ï¼Œå®žçŽ°ä¸€ä¸ªæ ‡å‡†çš„pythonè§£æ³•ã€‚ 1234567891011121314151617181920212223242526import randomdef quick_sort(a): random.shuffle(a) # æ¶ˆé™¤è¾“å…¥ä¾èµ–ï¼Œä¿æŒéšæœºæ€§ï¼Œä¹Ÿå¯ä½¿ç”¨éšæœºé€‰å–åˆ‡åˆ†å…ƒç´  quick_sort_divide(a, 0, len(a)-1) def quick_sort_divide(a, lo, hi): if hi &lt;= lo: return j = partition(a, lo, hi) quick_sort_divide(a, lo, j-1) quick_sort_divide(a, j+1, hi) def partition(a, lo, hi): i, j = lo+1, hi pivot = a[lo] # é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆ‡åˆ†å…ƒç´  while True: while a[i]&lt;pivot and i&lt;hi: # é‡åˆ°å¤§äºŽç­‰äºŽpivotæ—¶åœæ­¢ï¼ŒæŸäº›æƒ…å†µå¯ä»¥é¿å…ç®—æ³•è¿è¡Œæ—¶é—´å˜ä¸ºå¹³æ–¹çº§åˆ« i += 1 while a[j]&gt;pivot and j&gt;lo: j -= 1 if i &gt;= j: break a[i], a[j] = a[j], a[i] a[lo], a[j] = a[j], a[lo] return j æ€§èƒ½åˆ†æžï¼š å†…å¾ªçŽ¯ä½¿ç”¨ä¸€ä¸ªé€’å¢žçš„ç´¢å¼•å°†æ•°ç»„å…ƒç´ å’Œä¸€ä¸ªå®šå€¼æ¯”è¾ƒï¼Œç›¸å¯¹äºŽå½’å¹¶å’Œå¸Œå°”çš„åœ¨å†…å¾ªçŽ¯ä¸­ç§»åŠ¨æ•°æ®çš„æ–¹æ³•æ›´å¿«ï¼Œæ›´ç®€æ´ã€‚ æ¯”è¾ƒçš„æ¬¡æ•°å¾ˆå°‘ã€‚æŽ’åºæ•ˆçŽ‡ä¾èµ–åˆ‡åˆ†æ•°ç»„çš„æ•ˆæžœã€‚ å†’æ³¡æŽ’åº12345678910def bubble_sort(nums): n = len(nums) for i in range(n-1, 0, -1): flag = True for j in range(0, i): if nums[j] &gt; nums[j+1]: nums[j+1], nums[j] = nums[j], nums[j+1] flag = False if flag: return é€‰æ‹©æŽ’åº12345678def select_sort(nums: list) -&gt; list: n = len(nums) for i in range(n-1): min_i = i for j in range(i+1, n): if nums[min_i] &gt; nums[j]: min_i = j nums[min_i], nums[i] = nums[i], nums[min_i] æ’å…¥æŽ’åº 12345678910def insertion(ary: list) -&gt; list: for i in range(1, len(ary)): val, index = ary[i], i for j in range(i-1, -1, -1): if ary[j] &gt; val: ary[j+1] = ary[j] index = j else: break ary[index] = val å¸Œå°”æŽ’åºä¸€ç›´è§‰å¾—ç½‘ä¸Šçš„å¸Œå°”æŽ’åºæ–¹å¼ä¸å¤Ÿpythonicï¼Œè¿™é‡Œå†™äº†ä¸€ä¸ªè°ƒç”¨æ’å…¥æŽ’åºçš„æ–¹æ³•ã€‚ 123456789def shell_sorted(nums): res = list(nums) n = len(res) step = round(n/2) while step &gt; 0: for i in range(step): res[i:n:step] = insert_sorted(res[i:n:step]) step = round(step/2) return res å½’å¹¶æŽ’åº 123456789101112131415161718def merge_sort(ary): if len(ary) &lt;= 1 : return ary num = len(ary) // 2 left = merge_sort(ary[:num]) right = merge_sort(ary[num:]) return merge(left, right) def merge(left, right): res, l, r = [], 0, 0 while l&lt;len(left) and r&lt;len(right) : if left[l] &lt; right[r]: res.append(left[l]) l += 1 else: res.append(right[r]) r += 1 res += left[l:] or right[r:] return res]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Sort</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆè®¾è®¡ç¯‡ï¼‰Design]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E8%AE%BE%E8%AE%A1%E7%AF%87%EF%BC%89Design%2F</url>
    <content type="text"><![CDATA[155. Min Stackè®¾è®¡ä¸€ä¸ªæ ˆï¼Œè¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å°å€¼ã€‚åŽŸé¢˜ 12345678MinStack minStack = new MinStack();minStack.push(-2);minStack.push(0);minStack.push(-3);minStack.getMin(); --&gt; Returns -3.minStack.pop();minStack.top(); --&gt; Returns 0.minStack.getMin(); --&gt; Returns -2. 12345678910111213141516171819202122232425class MinStack: def __init__(self): self._stack = [] def push(self, x: int) -&gt; None: cur_min = self.getMin() if x &lt; cur_min: cur_min = x self._stack.append((x, cur_min)) def pop(self) -&gt; None: self._stack.pop() def top(self) -&gt; int: if not self._stack: return None else: return self._stack[-1][0] def getMin(self) -&gt; int: if not self._stack: return float('inf') else: return self._stack[-1][1] 232. Implement Queue using Stacksä½¿ç”¨ä¸¤ä¸ªæ ˆå®žçŽ°ä¸€ä¸ªé˜Ÿåˆ—ã€‚åŽŸé¢˜1234567MyQueue queue = new MyQueue();queue.push(1);queue.push(2); queue.peek(); // returns 1queue.pop(); // returns 1queue.empty(); // returns false æ–¹æ³•ä¸€ï¼špush-O(1), pop-O(N). 1234567891011121314151617181920212223class MyQueue: def __init__(self): self.in_stack, self.out_stack = [], [] def push(self, x: int) -&gt; None: self.in_stack.append(x) def move(self) -&gt; None: if self.out_stack == []: while self.in_stack: self.out_stack.append(self.in_stack.pop()) def pop(self) -&gt; int: self.move() return self.out_stack.pop() def peek(self) -&gt; int: self.move() return self.out_stack[-1] def empty(self) -&gt; bool: return self.in_stack==self.out_stack==[] æ–¹æ³•äºŒï¼špush-O(N), pop-O(1). 123456789101112131415161718192021class MyQueue: def __init__(self): self.s1 = [] self.s2 = [] def push(self, x: int) -&gt; None: while self.s1: self.s2.append(self.s1.pop()) self.s1.append(x) while self.s2: self.s1.append(self.s2.pop()) def pop(self) -&gt; int: return self.s1.pop() def peek(self) -&gt; int: return self.s1[-1] def empty(self) -&gt; bool: return self.s1 == [] 225. Implement Stack using Queuesä½¿ç”¨é˜Ÿåˆ—å®žçŽ°æ ˆã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpush-O(1), pop/top O(n). æ€æƒ³åœ¨äºŽq2å°±æ˜¯ä¸€ä¸ªä¸´æ—¶é˜Ÿåˆ—ï¼Œæ— è®ºæ˜¯æ˜¯topè¿˜æ˜¯popéƒ½æ˜¯ä¿æŒq1å‰©ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åŽå†äº¤æ¢q1, q2. 1234567891011121314151617181920212223242526class MyStack: def __init__(self): from collections import deque self.q1, self.q2 = deque(), deque() def push(self, x: int) -&gt; None: self.q1.append(x) def pop(self) -&gt; int: while len(self.q1) != 1: self.q2.append(self.q1.popleft()) pop_val = self.q1.popleft() self.q1, self.q2 = self.q2, self.q1 return pop_val def top(self) -&gt; int: while len(self.q1) != 1: self.q2.append(self.q1.popleft()) val = self.q1[0] self.q2.append(self.q1.popleft()) self.q1, self.q2 = self.q2, self.q1 return val def empty(self) -&gt; bool: return not self.q1 æ–¹æ³•äºŒï¼šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpush-O(n), pop/top-O(1). 1234567891011121314151617181920class MyStack: def __init__(self): from collections import deque self.q1, self.q2 = deque(), deque() def push(self, x: int) -&gt; None: self.q2.append(x) while self.q1: self.q2.append(self.q1.popleft()) self.q1, self.q2 = self.q2, self.q1 def pop(self) -&gt; int: return self.q1.popleft() def top(self) -&gt; int: return self.q1[0] def empty(self) -&gt; bool: return not self.q1 æ–¹æ³•ä¸‰ï¼šä¸€ä¸ªé˜Ÿåˆ—æ—‹è½¬ã€‚ 123456789101112131415161718192021class MyStack: def __init__(self): from collections import deque self.q = deque() def push(self, x: int) -&gt; None: self.q.append(x) # self.q.rotate(1) è¿™é‡Œæ˜¯ç”¨äº†åŒç«¯é˜Ÿåˆ—çš„ç‰¹æ€§ # self.q.rotate(1-len(self.q)) è¿™é‡Œå’Œä¸‹é¢å¾ªçŽ¯æ˜¯ä¸€æ ·çš„æ•ˆæžœ for _ in range(len(self.q)-1): self.q.append(self.q.popleft()) def pop(self) -&gt; int: return self.q.popleft() def top(self) -&gt; int: return self.q[0] def empty(self) -&gt; bool: return not self.q 295. Find Median from Data Streamæ‰¾å‡ºæ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚åŽŸé¢˜æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †ï¼Œæœ€å¤§å †å­˜å‚¨è¾ƒå°çš„æ•°æ®ï¼Œæœ€å°å †å­˜å‚¨è¾ƒå¤§çš„æ•°æ®ã€‚æ·»åŠ æ•°å­—æ—¶ï¼Œå…ˆæ·»åŠ åˆ°æœ€å¤§å †ï¼Œç„¶åŽæœ€å¤§å †è¿”å›žä¸€ä¸ªæœ€å¤§çš„æ•°å­—ç»™æœ€å°å †ï¼Œæœ€åŽä¸ºäº†å¹³è¡¡ï¼Œå¯èƒ½éœ€è¦æœ€å°å †è¿˜ç»™æœ€å¤§å †ä¸€ä¸ªæœ€å°å€¼ï¼Œä»¥ä¿è¯æœ€å¤§å †çš„é•¿åº¦&gt;=æœ€å°å †çš„é•¿åº¦ã€‚ç”±äºŽheadpqæ˜¯æœ€å°å †ï¼Œæ‰€ä»¥ä½¿ç”¨å–åå®žçŽ°æœ€å¤§å †ã€‚æ·»åŠ æ•°å­—ï¼šTime-O(logn)ï¼Œå–å‡ºä¸­ä½æ•°ï¼šTime-O(1)ã€‚ 1234567891011121314151617181920212223242526272829Adding number 41MaxHeap lo: [41] // MaxHeap stores the largest value at the top (index 0)MinHeap hi: [] // MinHeap stores the smallest value at the top (index 0)Median is 41=======================Adding number 35MaxHeap lo: [35]MinHeap hi: [41]Median is 38=======================Adding number 62MaxHeap lo: [41, 35]MinHeap hi: [62]Median is 41=======================Adding number 4MaxHeap lo: [35, 4]MinHeap hi: [41, 62]Median is 38=======================Adding number 97MaxHeap lo: [41, 35, 4]MinHeap hi: [62, 97]Median is 41=======================Adding number 108MaxHeap lo: [41, 35, 4]MinHeap hi: [62, 97, 108]Median is 51.5 12345678910111213141516171819import heapq as hqclass MedianFinder: def __init__(self): self.lo, self.hi = [], [] # lo is max_heap, hi is min_heap def addNum(self, num): hq.heappush(self.lo, -num) hq.heappush(self.hi, -hq.heappop(self.lo)) if len(self.lo) &lt; len(self.hi): hq.heappush(self.lo, -hq.heappop(self.hi)) def findMedian(self): if len(self.lo) == len(self.hi): return (-self.lo[0]+self.hi[0]) / 2.0 else: return float(-self.lo[0]) 535. Encode and Decode TinyURLè®¾è®¡ä¸€ä¸ªçŸ­é“¾æŽ¥ã€‚åŽŸé¢˜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859class Codec: BASE = 62 UPPERCASE_OFFSET = 55 LOWERCASE_OFFSET = 61 DIGIT_OFFSET = 48 num_sender = 0 url = &#123;&#125; def encode(self, longUrl): """Encodes a URL to a shortened URL. :type longUrl: str :rtype: str """ if Codec.num_sender == 0: Codec.url[Codec.num_sender] = longUrl return '0' s_url = '' while Codec.num_sender &gt; 0: tail = Codec.num_sender % Codec.BASE s_url = self.parse_chr(tail) + s_url Codec.num_sender //= Codec.BASE Codec.url[Codec.num_sender] = longUrl Codec.num_sender += 1 return s_url def decode(self, shortUrl): """Decodes a shortened URL to its original URL. :type shortUrl: str :rtype: str """ num = 0 for i, char in enumerate(reversed(shortUrl)): num += self.parse_ord(char) * (Codec.BASE**i) return Codec.url[num] def parse_ord(self, char): if char.isdigit(): return ord(char) - Codec.DIGIT_OFFSET elif char.islower(): return ord(char) - Codec.LOWERCASE_OFFSET elif char.isupper(): return ord(char) - Codec.UPPERCASE_OFFSET else: raise ValueError('%s is not a valid character' % char) def parse_chr(self, integer): if integer &lt; 10: return chr(integer + DIGIT_OFFSET) elif 10 &lt;= integer &lt;= 35: return chr(integer + UPPERCASE_OFFSET) elif 36 &lt;= integer &lt; 62: return chr(integer + LOWERCASE_OFFSET) else: raise ValueError('%d is not a valid integer in the range of base %d' % (integer, Codec.BASE)) æ–¹æ³•äºŒï¼šä½¿ç”¨å­—å…¸ä¿å­˜ã€‚ 123456789101112131415161718192021222324class Codec: BASE = 62 num_sender = 0 ALNUM = string.ascii_letters + '0123456789' d_map = &#123;c: i for i, c in enumerate(ALNUM)&#125; url = &#123;&#125; def encode(self, longUrl): pk = Codec.num_sender s_url = '' while pk &gt; 0: pk, tail = divmod(pk, Codec.BASE) s_url = Codec.ALNUM[tail] + s_url Codec.url[pk] = longUrl Codec.num_sender += 1 if pk == 0: s_url = Codec.ALNUM[0] return s_url def decode(self, shortUrl): pk = sum(Codec.d_map[c]*Codec.BASE**i for i, c in enumerate(reversed(shortUrl))) return Codec.url[pk] 707. Design Linked Listè®¾è®¡ä¸€ä¸ªé“¾è¡¨ã€‚åŽŸé¢˜1234567MyLinkedList linkedList = new MyLinkedList();linkedList.addAtHead(1);linkedList.addAtTail(3);linkedList.addAtIndex(1, 2); // linked list becomes 1-&gt;2-&gt;3linkedList.get(1); // returns 2linkedList.deleteAtIndex(1); // now the linked list is 1-&gt;3linkedList.get(1); // returns 3 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748class ListNode: def __init__(self, val): self.val = val self.next = None class MyLinkedList: def __init__(self): self.head = None self.size = 0 def get(self, index: 'int') -&gt; 'int': if index &lt; 0 or index &gt;= self.size or \ self.head is None: return -1 return self.findIndex(index).val def addAtHead(self, val: 'int') -&gt; 'None': self.addAtIndex(0, val) def addAtTail(self, val: 'int') -&gt; 'None': self.addAtIndex(self.size, val) def addAtIndex(self, index: 'int', val: 'int') -&gt; 'None': if index &gt; self.size: return -1 elif index == 0: head = ListNode(val) head.next, self.head = self.head, head else: pre = self.findIndex(index-1) cur = ListNode(val) cur.next, pre.next = pre.next, cur self.size += 1 def deleteAtIndex(self, index: 'int') -&gt; 'None': if index &lt; 0 or index &gt;= self.size: return -1 cur = self.findIndex(index-1) cur.next = cur.next.next self.size -= 1 def findIndex(self, index: 'int') -&gt; 'None': cur = self.head for _ in range(index): cur = cur.next return cur 146. LRU Cache1234567891011LRUCache cache = new LRUCache( 2 /* capacity */ );cache.put(1, 1);cache.put(2, 2);cache.get(1); // returns 1cache.put(3, 3); // evicts key 2cache.get(2); // returns -1 (not found)cache.put(4, 4); // evicts key 1cache.get(1); // returns -1 (not found)cache.get(3); // returns 3cache.get(4); // returns 4 æ–¹æ³•ä¸€ï¼šä½¿ç”¨OrderedDict. å¼€å§‹æœ‰ä¸¤ä¸ªtestcaseæ²¡è¿‡ï¼Œä¸€ä¸ªæ˜¯{2: 3, 1: 1}æ›´æ–°2æ—¶ï¼Œå’Œ{1: 1, 2: 3}æ›´æ–°2æ—¶ï¼ŒäºŒè€…éƒ½å¯ä»¥ä½¿ç”¨å…ˆpopå†æ›´æ–°çš„æ–¹å¼ã€‚remainçš„æ–¹å¼æ˜¯ä»Ždiscusså­¦æ¥çš„ï¼Œä¹‹å‰è¿˜ç”¨lenæˆ–é¢å¤–çš„sizeæ¥ä¿å­˜ã€‚ 1234567891011121314151617181920class LRUCache: def __init__(self, capacity: 'int'): self.cache = collections.OrderedDict() self.remain = capacity def get(self, key: 'int') -&gt; 'int': if key not in self.cache: return -1 self.cache.move_to_end(key) return self.cache.get(key) def put(self, key: 'int', value: 'int') -&gt; 'None': if key not in self.cache: if self.remain &gt; 0: self.remain -= 1 else: self.cache.popitem(last=False) else: self.cache.pop(key) self.cache[key] = value æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨OrderedDict 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152class DLinkedNode: def __init__(self, key=0, value=0): self.key = key self.value = value self.next, self.prev = None, None class LRUCache: def __init__(self, capacity: int): self.cache = &#123;&#125; self.remain = capacity self.head = DLinkedNode() self.tail = DLinkedNode() self.head.next = self.tail self.tail.prev = self.head def _add_node(self, node): node.prev = self.head node.next = self.head.next self.head.next.prev = node self.head.next = node def _remove_node(self, node): node.prev.next = node.next node.next.prev = node.prev def _move_to_head(self, node): self._remove_node(node) self._add_node(node) def get(self, key: int) -&gt; int: node = self.cache.get(key, None) if not node: return -1 self._move_to_head(node) return node.value def put(self, key: int, value: int) -&gt; None: node = self.cache.get(key, None) if not node: if self.remain &gt; 0: self.remain -= 1 else: del self.cache[self.tail.prev.key] self._remove_node(self.tail.prev) new_node = DLinkedNode(key, value) self.cache[key] = new_node self._add_node(new_node) else: self._move_to_head(node) node.value = value]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆäºŒå‰æ ‘ç¯‡ï¼‰Tree]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87%EF%BC%89Tree%2F</url>
    <content type="text"><![CDATA[æ ‘çš„å®šä¹‰12345class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = None 144. Binary Tree Preorder TraversaläºŒå‰æ ‘å‰åºéåŽ†12345678Input: [1,null,2,3] 1 \ 2 / 3Output: [1,2,3] æ–¹æ³•ä¸€ï¼šiteratively 123456789def preorderTraversal(self, root: 'TreeNode') -&gt; 'List[int]': ans, stack = [], root and [root] while stack: node = stack.pop() if node: ans.append(node.val) stack.append(node.right) stack.append(node.left) return ans æ–¹æ³•äºŒï¼šrecursively 12345def preorder_traversal(root): if not root: return [] return [root.val] + self.preorderTraversal(root.left) + \ self.preorderTraversal(root.right) 589. N-ary Tree Preorder TraversalN-å‰æ ‘çš„å‰åºéåŽ†ã€‚Nå‰æ ‘å’ŒäºŒå‰æ ‘æœ‰ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯Nå‰æ ‘ä¸éœ€è¦è€ƒè™‘å­èŠ‚ç‚¹çŸ¥å¦ä¸ºç©ºï¼Œåšå•ç‹¬çš„åˆ¤æ–­ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursively. 1234567def preorder(self, root): if not root: return [] res = [root.val] for child in root.children: res += self.preorder(child) return res æ–¹æ³•äºŒï¼šiteratively. 1234567def preorder(self, root): res, stack = [], root and [root] while stack: node = stack.pop() res.append(node.val) stack.extend(reversed(node.children)) return res 94. Binary Tree Inorder Traversalä¸­åºéåŽ†äºŒå‰æ ‘12345678Input: [1,null,2,3] 1 \ 2 / 3Output: [1,3,2] æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ˆè¿­ä»£ã€‚ 12345678910def inorderTraversal(self, root: TreeNode) -&gt; List[int]: stack, ans = [], [] while stack or root: while root: stack.append(root) root = root.left root = stack.pop() ans.append(root.val) root = root.right return ans æ–¹æ³•äºŒï¼šMorris Traversal. 1234567891011121314151617181920212223def inorderTraversal(self, root: TreeNode) -&gt; List[int]: cur, ans = root, [] while cur: if not cur.left: ans.append(cur.val) cur = cur.right else: pre = cur.left # æ‰¾åˆ°å½“å‰èŠ‚ç‚¹å·¦å­æ ‘ä¸­æœ€å³çš„å³èŠ‚ç‚¹ while pre.right and pre.right != cur: pre = pre.right if not pre.right: # æ‰¾åˆ°æœ€å³çš„èŠ‚ç‚¹ï¼Œè¿žæŽ¥åˆ°æ ¹èŠ‚ç‚¹ pre.right = cur cur = cur.left # æ¢å¤èŠ‚ç‚¹ else: pre.right = None ans.append(cur.val) cur = cur.right return ans 145. Binary Tree Postorder TraversalåŽåºéåŽ†äºŒå‰æ ‘12345678Input: [1,null,2,3] 1 \ 2 / 3Output: [3,2,1] æ–¹æ³•ä¸€ï¼šæ ¹å³å·¦ï¼Œå†å€’åºã€‚ 123456789def postorder_traversal(root): res, stack = [], [root] while stack: node = stack.pop() if node: res.append(node.val) stack.append(node.left) stack.append(node.right) return res[::-1] æ–¹æ³•äºŒï¼šæ€æƒ³: ä½¿ç”¨lastä½œä¸ºåˆ¤æ–­æ˜¯å¦è¯¥èŠ‚ç‚¹çš„å³å­æ ‘å®ŒæˆéåŽ†ï¼Œå¦‚æžœä¸€ä¸ªnode.rightå·²ç»åˆšåˆšéåŽ†å®Œæ¯•ï¼Œé‚£ä¹ˆå°†last==node.rightï¼Œå¦åˆ™å°†ä¼šå¯»æ‰¾node.rightã€‚ 123456789101112131415def postorderTraversal(self, root): res, stack, node, last = [], [], root, None while stack or node: if node: stack.append(node) node = node.left else: node = stack[-1] if not node.right or last == node.right: node = stack.pop() res.append(node.val) last, node = node, None else: node = node.right return res æ–¹æ³•ä¸‰ï¼šä½¿ç”¨booleanåˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦è¢«éåŽ†è¿‡ 123456789101112def postorderTraversal(self, root): res, stack = [], [(root, False)] while stack: node, visited = stack.pop() if node: if visited: res.append(node.val) else: stack.append((node, True)) stack.append((node.right, False)) stack.append((node.left, False)) return res æ–¹æ³•å››ï¼šdfs. 123456789101112def postorderTraversal(self, root: 'TreeNode') -&gt; 'List[int]': ans = [] def dfs(node): if not node: return dfs(node.left) dfs(node.right) ans.append(node.val) dfs(root) return ans 590. N-ary Tree Postorder TraversalN-å‰æ ‘çš„åŽåºéåŽ†ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursively. 1234def postorder(self, root): if not root: return [] return sum([self.postorder(child) for child in root.children], []) + [root.val] æ–¹æ³•äºŒï¼šiteratively and reversed. 1234567def postorder(self, root): res, stack = [], root and [root] while stack: node = stack.pop() res.append(node.val) stack.extend(node.children) return res[::-1] æ–¹æ³•ä¸‰ï¼šiteratively and flag. 12345678910def postorder(self, root): res, stack = [], root and [(root, False)] while stack: node, visited = stack.pop() if visited: res.append(node.val) else: stack.append((node, True)) stack.extend((n, False) for n in reversed(node.children)) return res 100. Same Treeåˆ¤æ–­ç›¸åŒçš„äºŒå‰æ ‘ã€‚åŽŸé¢˜1234567Input: 1 1 / \ / \ 2 3 2 3 [1,2,3], [1,2,3]Output: true æ–¹æ³•ä¸€ï¼šrecursively 123456def isSameTree(self, p: 'TreeNode', q: 'TreeNode') -&gt; 'bool': if p and q: return (p.val==q.val and self.isSameTree(p.left, q.left) and self.isSameTree(p.right, q.right)) else: return p is q æ–¹æ³•äºŒï¼šrecursively, tuple 1234def is_same_tree(p, q): def t(n): return n and (n.val, t(n.left), t(n.right)) return t(p) == t(q) æ–¹æ³•ä¸‰ï¼šiteratively. 12345678910111213def isSameTree(self, p: 'TreeNode', q: 'TreeNode') -&gt; 'bool': stack = [(p, q)] while stack: p1, p2 = stack.pop() if not p1 and not p2: continue if not p1 or not p2: return False if p1.val != p2.val: return False stack.append((p1.left, p2.left)) stack.append((p1.right, p2.right)) return True 101. Symmetric Treeåˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ã€‚åŽŸé¢˜12345 1 / \ 2 2 / \ / \3 4 4 3 æ–¹æ³•ä¸€ï¼šrecursively. 123456789101112def isSymmetric(self, root: 'TreeNode') -&gt; 'bool': def symmetric(p1, p2): if p1 and p2: return (p1.val == p2.val and symmetric(p1.left, p2.right) and symmetric(p1.right, p2.left)) else: return p1 is p2 if not root: return True return symmetric(root.left, root.right) æ–¹æ³•äºŒï¼šiteratively. 12345678910def isSymmetric(self, root: 'TreeNode') -&gt; 'bool': stack = root and [(root.left, root.right)] while stack: p1, p2 = stack.pop() if not p1 and not p2: continue if not p1 or not p2: return False if p1.val != p2.val: return False stack.append((p1.left, p2.right)) stack.append((p1.right, p2.left)) return True 104. Maximum Depth of Binary TreeäºŒå‰æ ‘æœ€å¤§æ·±åº¦ã€‚åŽŸé¢˜123456 3 / \ 9 20 / \ 15 7return 3 æ–¹æ³•ä¸€ï¼šrecursively 1234def max_depth(root): if not root: return 0 return max(max_depth(root.left), max_depth(root.right)) + 1 æ–¹æ³•äºŒï¼šiteratively. BFS with deque 12345678910def maxDepth(self, root: 'TreeNode') -&gt; 'int': q = root and collections.deque([(root, 1)]) d = 0 while q: node, d = q.popleft() if node.right: q.append((node.right, d+1)) if node.left: q.append((node.left, d+1)) return d å¯ä»¥å‚è€ƒ102åˆ†å±‚éåŽ†å†™æ³•ï¼Œæœ€åŽæ±‚é•¿åº¦ã€‚ 559. Maximum Depth of N-ary TreeN-å‰æ ‘çš„æœ€å¤§æ·±åº¦ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šBFS with deque.åŒä¸Šé¢˜ä¸€æ ·ã€‚ 12345678def maxDepth(self, root: 'Node') -&gt; 'int': q = root and collections.deque([(root, 1)]) d = 0 while q: node, d = q.popleft() for child in node.children: q.append((child, d + 1)) return d æ–¹æ³•äºŒï¼šBFS. 12345def maxDepth(self, root): q, level = root and [root], 0 while q: q, level = [child for node in q for child in node.children], level+1 return level æ–¹æ³•ä¸‰ï¼šrecursively. 1234def maxDepth(self, root: 'Node') -&gt; 'int': if not root: return 0 return max(list(map(self.maxDepth, root.children)) or [0]) + 1 111. Minimum Depth of Binary Treeæ±‚æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€å°æ·±åº¦ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursively 1234567def minDepth(self, root): if not root: return 0 if root.left and root.right: return min(self.minDepth(root.left), self.minDepth(root.right)) + 1 else: return self.minDepth(root.left) + self.minDepth(root.right) + 1 æ–¹æ³•äºŒï¼šå¯¹ä¸Šè¿°æ–¹æ³•ä¿®æ”¹ï¼Œæ›´åŠ Pythonic. æ³¨æ„ä¸€ç‚¹ï¼ŒPython3ä¸­è¦åŠ list,å¦åˆ™maxå› ä¸ºç©ºå€¼æŠ¥é”™ã€‚ 1234def minDepth(self, root: 'TreeNode') -&gt; 'int': if not root: return 0 d = list(map(self.minDepth, (root.left, root.right))) return 1 + (min(d) or max(d)) æ–¹æ³•ä¸‰ï¼šè¿­ä»£æ³•ï¼ŒBFS 123456789101112def minDepth(self, root: 'TreeNode') -&gt; 'int': q = root and collections.deque([(root, 1)]) d = 0 while q: node, d = q.popleft() if not node.left and not node.right: return d if node.left: q.append((node.left, d+1)) if node.right: q.append((node.right, d+1)) return d 105. Construct Binary Tree from Preorder and Inorder Traversalæ ¹æ®å‰åºéåŽ†å’Œä¸­åºéåŽ†é‡å»ºäºŒå‰æ ‘ã€‚åŽŸé¢˜12preorder = [3,9,20,15,7]inorder = [9,3,15,20,7] æ–¹æ³•ä¸€ï¼šåˆ‡ç‰‡ã€‚ 123456789def buildTree(preorder, inorder): if preorder == []: return None root_val = preorder[0] root = TreeNode(root_val) cut = inorder.index(root_val) root.left = buildTree(preorder[1:cut+1], inorder[:cut]) root.right = buildTree(preorder[cut+1:], inorder[cut+1:]) return root æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•åœ¨æžç«¯æƒ…å†µä¸‹ï¼Œå¦‚åªæœ‰å·¦å­æ ‘çš„æƒ…å†µï¼Œç”±äºŽindexä¼šå°†æ—¶é—´å¤æ‚åº¦ä¸Šå‡åˆ°O(nÂ²)ï¼Œè€Œä¸”åˆ‡ç‰‡äº§ç”Ÿäº†ä¸€äº›ä¸å¿…è¦çš„å†…å­˜ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯setefanå¤§ç¥žçš„æ–¹æ³•ï¼Œpopå’Œreverseæ˜¯ä¸ºäº†å¢žåŠ æ•ˆçŽ‡ã€‚ 1234567891011def buildTree(self, preorder: 'List[int]', inorder: 'List[int]') -&gt; 'TreeNode': def build(stop): if inorder and inorder[-1] != stop: root = TreeNode(preorder.pop()) root.left = build(root.val) inorder.pop() root.right = build(stop) return root preorder.reverse() inorder.reverse() return build(None) 572. Subtree of Another Treeåˆ¤æ–­æ˜¯å¦æ˜¯æ ‘çš„å­ç»“æž„ã€‚åŽŸé¢˜æ€è·¯ï¼šè¿™é“é¢˜æ˜¯éåŽ†åŠ åˆ¤æ–­ç›¸åŒæ ‘çš„ç»“åˆã€‚è¿™é‡Œé‡‡ç”¨å‰åºéåŽ†å’Œé€’å½’åˆ¤æ–­ç›¸åŒæ ‘ã€‚ 123456789101112131415161718def isSubtree(self, s: 'TreeNode', t: 'TreeNode') -&gt; 'bool': def is_same(s, t): if s and t: return (s.val==t.val and is_same(s.left, t.left) and is_same(s.right, t.right)) else: return s is t stack = s and [s] while stack: node = stack.pop() if node: if is_same(node, t): return True stack.append(node.right) stack.append(node.left) return False 102. Binary Tree Level Order Traversalåˆ†å±‚éåŽ†äºŒå‰æ ‘ã€‚åŽŸé¢˜æ³¨æ„ï¼šå¾ªçŽ¯æ¡ä»¶è¦åŠ ä¸Šrootï¼Œä»¥é˜²æ­¢root is None 123456def levelOrder(self, root: 'TreeNode') -&gt; 'List[List[int]]': ans, level = [], root and [root] while level: ans.append([n.val for n in level]) level = [k for n in level for k in (n.left, n.right) if k] return ans 103. Binary Tree Zigzag Level Order Traversalä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ã€‚åŽŸé¢˜1234567def zigzagLevelOrder(self, root: 'TreeNode') -&gt; 'List[List[int]]': ans, level, order = [], root and [root], 1 while level: ans.append([n.val for n in level][::order]) order *= -1 level = [kid for n in level for kid in (n.left, n.right) if kid] return ans 107. Binary Tree Level Order Traversal IIå’Œ102é¢˜ä¸åŒçš„æ˜¯ï¼Œä»Žä¸‹åˆ°ä¸Šåˆ†å±‚æ‰“å°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šå°†ç»“æžœå€’åºè¾“å‡ºã€‚ 123456def levelOrderBottom(self, root): res, level = [], [root] while root and level: res.append([n.val for n in level]) level = [kid for n in level for kid in (n.left, n.right) if kid] return res[::-1] æ–¹æ³•äºŒï¼šä¹Ÿå¯ä»¥ä»Žå‰é¢æ’å…¥å…ƒç´ ã€‚ 123456def levelOrderBottom(self, root): res, level = [], [root] while root and level: res.insert(0, [n.val for n in level]) level = [kid for n in level for kid in (n.left, n.right) if kid] return res 429. N-ary Tree Level Order Traversalåˆ†å±‚æ‰“å°Nå‰æ ‘ã€‚åŽŸé¢˜123456def levelOrder(self, root: 'Node') -&gt; 'List[List[int]]': ans, level = [], root and [root] while level: ans.append([n.val for n in level]) level = [k for n in level for k in n.children if k] return ans 637. Average of Levels in Binary TreeéåŽ†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ±‚æ¯å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ï¼ŒæŒ‰ç…§èŠ‚ç‚¹ä¸ä¸ºç©ºçš„ä¸ªæ•°ã€‚åŽŸé¢˜123456789Input: 3 / \ 9 20 / \ 15 7Output: [3, 14.5, 11]Explanation:The average value of nodes on level 0 is 3, on level 1 is 14.5, and on level 2 is 11. Hence return [3, 14.5, 11]. 123456def averageOfLevels(self, root: 'TreeNode') -&gt; 'List[float]': ans, level = [], root and [root] while level: ans.append(sum(n.val for n in level) / len(level)) level = [k for n in level for k in (n.left, n.right) if k] return ans 515. Find Largest Value in Each Tree Rowæ‰¾åˆ°æ ‘æ¯å±‚çš„æœ€å¤§å€¼ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šBFS. æ­¤è§£æ³•ç§’ã€‚ 123456def largestValues(self, root: TreeNode) -&gt; List[int]: ans, levels = [], root and [root] while levels: ans.append(max(x.val for x in levels)) levels = [k for n in levels for k in (n.left, n.right) if k] return ans 987. Vertical Order Traversal of a Binary Treeåž‚ç›´éåŽ†äºŒå‰æ ‘ï¼Œä»Žå·¦åˆ°å³ï¼Œä»Žä¸Šåˆ°ä¸‹ï¼Œå¦‚æžœèŠ‚ç‚¹å…·æœ‰ç›¸åŒä½ç½®ï¼ŒæŒ‰ç…§å€¼ä»Žå°åˆ°å¤§ã€‚åŽŸé¢˜ 12345Input: [1,2,3,4,5,6,7]Output: [[4],[2],[1,5,6],[3],[7]]Explanation: The node with value 5 and the node with value 6 have the same position according to the given scheme.However, in the report &quot;[1,5,6]&quot;, the node value of 5 comes first since 5 is smaller than 6. æ–¹æ³•ä¸€ï¼šdfs. é€šè¿‡å»ºç«‹ä¸€ä¸ªå­—å…¸æ•°ç»„ï¼Œå°†å¯¹åº”çš„èŠ‚ç‚¹ä½¿ç”¨æ·±åº¦ä¼˜å…ˆéåŽ†åˆå§‹åŒ–æ•°ç»„ã€‚ç„¶åŽæŒ‰ç…§x, y, valä¸‰ä¸ªä¼˜å…ˆçº§è¿›è¡ŒæŽ’åºã€‚ 12345678910111213141516171819def verticalTraversal(self, root: 'TreeNode') -&gt; 'List[List[int]]': seen = collections.defaultdict( lambda: collections.defaultdict(list) ) def dfs(node, x=0, y=0): if node: seen[x][y].append(node.val) dfs(node.left, x-1, y+1) dfs(node.right, x+1, y+1) dfs(root) ans = [] for x in sorted(seen): inner = [] for y in sorted(seen[x]): inner.extend(sorted(n for n in seen[x][y])) ans.append(inner) return ans 257. Binary Tree Pathsæ‰“å°äºŒå‰æ ‘ä»Žæ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å…¨éƒ¨è·¯å¾„ã€‚åŽŸé¢˜1234567891011Input: 1 / \2 3 \ 5Output: [&quot;1-&gt;2-&gt;5&quot;, &quot;1-&gt;3&quot;]Explanation: All root-to-leaf paths are: 1-&gt;2-&gt;5, 1-&gt;3 iterativelyã€‚æ€è·¯ï¼šé‡‡ç”¨å‰åºéåŽ†äºŒå‰æ ‘ï¼Œä½¿ç”¨tupleä¿å­˜èŠ‚ç‚¹å½“å‰è·¯å¾„ï¼Œå¦‚æžœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™æ·»åŠ åˆ°ç»“æžœä¸­ã€‚å¼€å§‹è€æ˜¯æƒ³ç€ç”¨&#39;-&gt;&#39;.join()ï¼Œè¿™æ ·åè€Œéº»çƒ¦ï¼Œç›´æŽ¥ä½¿ç”¨å­—ç¬¦ä¸²ä¿å­˜å°±å¥½ã€‚ 1234567891011def binaryTreePaths(self, root: 'TreeNode') -&gt; 'List[str]': ans, stack = [], root and [(root, str(root.val))] while stack: n, p = stack.pop() if not n.left and not n.right: ans.append(p) if n.right: stack.append((n.right, p+'-&gt;'+str(n.right.val))) if n.left: stack.append((n.left, p+'-&gt;'+str(n.left.val))) return ans æ–¹æ³•äºŒï¼šdfs. 123456789101112def binaryTreePaths(self, root: 'TreeNode') -&gt; 'List[str]': ans = [] def dfs(n, path): if n: path.append(str(n.val)) if not n.left and not n.right: ans.append('-&gt;'.join(path)) dfs(n.left, path) dfs(n.right, path) path.pop() dfs(root, []) return ans recursivelyã€‚å‚è€ƒäº†StefanPochmannå¤§ç¥žçš„æ–¹æ³•ã€‚æœ€å¼€å§‹æƒ³åˆ°ä¸€åŠï¼Œä¸­é—´é‚£å±‚å¾ªçŽ¯æƒ³åˆ°äº†ï¼Œä½†æ²¡æƒ³åˆ°ç”¨é€’å½’ã€‚ 123456def binaryTreePaths(self, root): if not root: return [] return [str(root.val) + '-&gt;' + path for kid in (root.left, root.right) if kid for path in self.binaryTreePaths(kid)] or [str(root.val)] 988. Smallest String Starting From Leafæ±‚å­—å…¸é¡ºåºæœ€å°çš„è·¯å¾„ï¼Œè·¯å¾„æŒ‡å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ã€‚0å¯¹åº”aï¼Œ1å¯¹åº”bã€‚åŽŸé¢˜12Input: [0,1,2,3,4,3,4]Output: &quot;dba&quot; æ–¹æ³•ä¸€ï¼šå…ˆåˆ—å‡ºæ‰€æœ‰æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼Œå†reverseæ±‚æœ€å°å€¼ã€‚ 12345678910111213def smallestFromLeaf(self, root: 'TreeNode') -&gt; 'str': OFFSET = ord('a') stack = root and [(root, chr(root.val+OFFSET))] ans = '~' while stack: n, p = stack.pop() if not n.left and not n.right: ans = min(ans, p[::-1]) if n.right: stack.append((n.right, p+chr(n.right.val+OFFSET))) if n.left: stack.append((n.left, p+chr(n.left.val+OFFSET))) return ans æ–¹æ³•äºŒï¼šdfs. é€’å½’è®¡ç®—å®Œå·¦å³èŠ‚ç‚¹ï¼Œç„¶åŽå†å°†æ ¹èŠ‚ç‚¹popæŽ‰ã€‚ 1234567891011121314def smallestFromLeaf(self, root: 'TreeNode') -&gt; 'str': self.ans = '~' def dfs(node, A): if node: A.append(chr(node.val + ord('a'))) if not node.left and not node.right: self.ans = min(self.ans, ''.join(reversed(A))) dfs(node.left, A) dfs(node.right, A) A.pop() dfs(root, []) return self.ans 112. Path Sumåˆ¤æ–­æ˜¯å¦å…·æœ‰ä»Žæ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼å’Œä¸ºsumã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursively 123456789def hasPathSum(self, root: 'TreeNode', total: 'int') -&gt; 'bool': if not root: return False elif (not root.left and not root.right and root.val==total): return True else: return (self.hasPathSum(root.left, total-root.val) or self.hasPathSum(root.right, total-root.val)) æ–¹æ³•äºŒï¼šiteratively 1234567891011def hasPathSum(self, root: 'TreeNode', total: 'int') -&gt; 'bool': stack = root and [(root, total)] while stack: n, t = stack.pop() if not n.left and not n.right and n.val==t: return True if n.right: stack.append((n.right, t-n.val)) if n.left: stack.append((n.left, t-n.val)) return False 113. Path Sum IIä¸Šé¢˜çš„å‡çº§ç‰ˆï¼Œè¦æ±‚äºŒç»´æ•°ç»„è¿”å›žæ‰€æœ‰è·¯å¾„ã€‚åŽŸé¢˜123456789sum = 22 5 / \ 4 8 / / \ 11 13 4 / \ / \7 2 5 1 1234[ [5,4,11,2], [5,8,4,5]] æ–¹æ³•ä¸€ï¼šiteratively. ä¸¾ä¸€åä¸‰ã€‚ 123456789101112def pathSum(self, root: 'TreeNode', total: 'int') -&gt; 'List[List[int]]': stack = root and [(root, [root.val], total)] ans = [] while stack: n, v, t = stack.pop() if not n.left and not n.right and n.val==t: ans.append(v) if n.right: stack.append((n.right, v+[n.right.val], t-n.val)) if n.left: stack.append((n.left, v+[n.left.val], t-n.val)) return ans recursively. å…ˆæ‰¾å‡ºæ‰€æœ‰è·¯å¾„ï¼Œå†è¿‡æ»¤ï¼Œå®žé™…ä¸Šå’Œ257é¢˜ä¸€æ ·ã€‚ä¸è¿‡è¿™å¹¶æ²¡æœ‰æŠŠè¿™é“é¢˜çš„ç‰¹æ€§æ¶µç›–è¿›åŽ»ã€‚ 12345678910def pathSum(self, root, sum_val): paths = self.all_paths(root) return [path for path in paths if sum(path)==sum_val] def all_paths(self, root): if not root: return [] return [[root.val]+path for kid in (root.left, root.right) if kid for path in self.all_paths(kid)] or [[root.val]] æ–¹æ³•ä¸‰ï¼šrecursively. 123456789def pathSum(self, root, sum): if not root: return [] val, *kids = root.val, root.left, root.right if any(kids): return [[val] + path for kid in kids if kid for path in self.pathSum(kid, sum-val)] return [[val]] if val==sum else [] 297. Serialize and Deserialize Binary Treeåºåˆ—åŒ–ååºåˆ—åŒ–äºŒå‰æ ‘ã€‚åŽŸé¢˜1234567891011121314151617181920class Codec: def serialize(self, root): if not root: return '$' return (str(root.val) + ',' + self.serialize(root.left) + ',' + self.serialize(root.right)) def deserialize(self, data): nodes = data.split(',')[::-1] return self.deserialize_tree(nodes) def deserialize_tree(self, nodes): val = nodes.pop() if val == '$': return None root = TreeNode(val) root.left = self.deserialize_tree(nodes) root.right = self.deserialize_tree(nodes) return root 110. Balanced Binary Treeåˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šé€’å½’+é€’å½’ã€‚ 12345678910def isBalanced(self, root): if not root: return True return self.isBalanced(root.left) and self.isBalanced(root.right) and \ abs(self.max_depth(root.left)-self.max_depth(root.right)) &lt;= 1 def max_depth(self, root): if not root: return 0 return max(self.max_depth(root.left), self.max_depth(root.right)) + 1 æ–¹æ³•äºŒï¼šä¸Šè¯‰ä¸¤ç§æ–¹æ³•ä¸­éƒ½åŒ…å«äº†ä¸€äº›æ— æ„ä¹‰çš„é‡å¤éåŽ†ã€‚è¿™é‡Œé‡‡ç”¨åŽåºéåŽ†ï¼Œè¾¹éåŽ†è¾¹åˆ¤æ–­ï¼Œä¸ä¼šé‡å¤èŠ‚ç‚¹ã€‚å—æ­¤æ€æƒ³å¯å‘ï¼Œæ·»åŠ ä¸€ç§åŽåºéåŽ†äºŒå‰æ ‘çš„æ–¹æ³•ã€‚ 12345678910111213141516171819def isBalanced(self, root): stack, node = [], root last, depths = None, collections.defaultdict(int) while stack or node: if node: stack.append(node) node = node.left else: node = stack[-1] if not node.right or last == node.right: node = stack.pop() left, right = depths[node.left], depths[node.right] if abs(left - right) &gt; 1: return False depths[node] = 1 + max(left, right) last, node = node, None else: node = node.right return True æ–¹æ³•ä¸‰ï¼šdfs. ç®—æ·±åº¦çš„æ—¶å€™åˆ¤æ–­å·¦å³æ˜¯å¦æ·±åº¦è¶…è¿‡1. è¿™é‡Œå˜é‡ä¸èƒ½æŠŠselfåŽ»æŽ‰ï¼Œå¦åˆ™[1,2,2,3,3,null,null,4,4]ä¼šé”™è¯¯çš„è¿”å›žTrueè€Œä¸æ˜¯Falseã€‚ 1234567891011121314def isBalanced(self, root: 'TreeNode') -&gt; 'bool': self.balanced = True def dfs(node): if not node: return 0 left = dfs(node.left) right = dfs(node.right) if not self.balanced or abs(left - right) &gt; 1: self.balanced = False return max(left, right) + 1 dfs(root) return self.balanced 108. Convert Sorted Array to Binary Search Treeå°†æœ‰åºæ•°ç»„è½¬æ¢æˆäºŒå‰æœç´¢æ ‘ã€‚åŽŸé¢˜12345678Given the sorted array: [-10,-3,0,5,9],One possible answer is: [0,-3,9,-10,null,5], 0 / \ -3 9 / / -10 5 æ–¹æ³•ä¸€ï¼šç­”æ¡ˆä¸å”¯ä¸€ï¼Œå±…ç„¶ä¸€æ¬¡å°±é€šè¿‡äº†ã€‚é€’å½’çš„æ€æƒ³è¿˜æ˜¯ç®€å•ä¸€äº›çš„ã€‚ 12345678def sortedArrayToBST(self, nums): if not nums: return None mid = len(nums) // 2 root = TreeNode(nums[mid]) root.left = self.sortedArrayToBST(nums[:mid]) root.right = self.sortedArrayToBST(nums[mid+1:]) return root æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨åˆ‡ç‰‡ã€‚ 123456789101112def sortedArrayToBST(self, nums: 'List[int]') -&gt; 'TreeNode': def convert(lo, hi): if lo &gt; hi: return None mid = (lo+hi) // 2 root = TreeNode(nums[mid]) root.left = convert(lo, mid-1) root.right = convert(mid+1, hi) return root return convert(0, len(nums)-1) 235. Lowest Common Ancestor of a Binary Search Treeå¯»æ‰¾äºŒå‰æœç´¢æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šiteratively. 1234def lowestCommonAncestor(self, root, p, q): while (root.val-p.val) * (root.val-q.val) &gt; 0: root = (root.left, root.right)[root.val &lt; p.val] return root æ–¹æ³•äºŒï¼šrecursively. 12345def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode': if (root.val-p.val) * (root.val-q.val) &lt;= 0: return root return self.lowestCommonAncestor( (root.left, root.right)[root.val &lt; p.val], p, q) 404. Sum of Left Leavesæ±‚ä¸€ä¸ªäºŒå‰æ ‘æ‰€æœ‰å·¦å¶å­èŠ‚ç‚¹çš„å’Œã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šiteratively.è¿™é‡Œä½¿ç”¨äº†tupleè®°å½•æ˜¯å¦ä¸ºå·¦å¶å­èŠ‚ç‚¹ã€‚ 12345678910def sumOfLeftLeaves(self, root: 'TreeNode') -&gt; 'int': ans, stack = 0, root and [(root, False)] while stack: n, isleft = stack.pop() if n: if not n.left and not n.right and isleft: ans += n.val stack.append((n.right, False)) stack.append((n.left, True)) return ans æ–¹æ³•äºŒï¼šrecursively. 12345678def sumOfLeftLeaves(self, root: 'TreeNode') -&gt; 'int': if not root: return 0 if (root.left and not root.left.left and not root.left.right): return root.left.val + self.sumOfLeftLeaves(root.right) else: return (self.sumOfLeftLeaves(root.left) + self.sumOfLeftLeaves(root.right)) 938. Range Sum of BSTç»™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ±‚äºŒå‰æœç´¢æ ‘åœ¨è¿™ä¸¤ä¸ªå€¼ä¹‹é—´çš„èŠ‚ç‚¹å’Œã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å”¯ä¸€ã€‚åŽŸé¢˜1234Input: root = [10,5,15,3,7,null,18], L = 7, R = 15Output: 32Input: root = [10,5,15,3,7,13,18,1,null,6], L = 6, R = 10Output: 23 æ–¹æ³•ä¸€ï¼šå› ä¸ºæ˜¯ç«žèµ›é¢˜ï¼Œæ‰€ä»¥æ²¡è¿½æ±‚æ•ˆçŽ‡ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆå‰åºéåŽ†äº†ä¸€ä¸‹ï¼Œå†æ ¹æ®æ¡ä»¶æ±‚å’Œã€‚ 1234567891011def rangeSumBST(self, root, L, R): traverse, stack = [], [root] while stack: node = stack.pop() if node: traverse.append(node.val) if node.right: stack.append(node.right) if node.left: stack.append(node.left) return sum([x for x in traverse if L &lt;= x &lt;= R]) æ–¹æ³•äºŒï¼šåˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§ã€‚ 1234567891011def rangeSumBST(self, root: 'TreeNode', L: 'int', R: 'int') -&gt; 'int': ans, stack = 0, root and [root] while stack: node = stack.pop() if node.val &gt; L and node.left: stack.append(node.left) if node.val &lt; R and node.right: stack.append(node.right) if L &lt;= node.val &lt;= R: ans += node.val return ans 530. Minimum Absolute Difference in BSTæ±‚äºŒå‰æœç´¢æ ‘ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å·®ã€‚åŽŸé¢˜12345678910111213Input: 1 \ 3 / 2Output:1Explanation:The minimum absolute difference is 1, which is the difference between 2 and 1 (or between 2 and 3). 12345678910def getMinimumDifference(self, root: 'TreeNode') -&gt; 'int': def inorder(n): if not n: return [] return inorder(n.left) + [n.val] + inorder(n.right) nums = inorder(root) # return min(nums[i+1]-nums[i] for i in range(len(nums)-1)) return min(b-a for a, b in zip(nums, nums[1:])) 783. Minimum Distance Between BST NodesäºŒå‰æœç´¢æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å€¼ã€‚å’Œ530æ˜¯ä¸€é“é¢˜ã€‚åŽŸé¢˜1234567891011121314Input: root = [4,2,6,1,3,null,null]Output: 1Explanation:Note that root is a TreeNode object, not an array.The given tree [4,2,6,1,3,null,null] is represented by the following diagram: 4 / \ 2 6 / \ 1 3 while the minimum difference in this tree is 1, it occurs between node 1 and node 2, also between node 3 and node 2. æ–¹æ³•ä¸€ï¼šé€’å½’ + ç”Ÿæˆå™¨ï¼Œ éåŽ†äº†ä¸¤æ¬¡ã€‚ 123456789def minDiffInBST(self, root: 'TreeNode') -&gt; 'int': def inorder(node): if not node: return [] return inorder(node.left) + [node.val] + inorder(node.right) t = inorder(root) return min(t[x]-t[x-1] for x in range(1, len(t))) æ–¹æ³•äºŒï¼šä¸€æ¬¡éåŽ†ï¼Œæ²¡æœ‰ä¿å­˜æ•´ä¸ªéåŽ†æ•°ç»„ï¼Œæ•ˆçŽ‡é«˜ã€‚ 12345678910def minDiffInBST(self, root: TreeNode) -&gt; int: ans, last, stack = float('inf'), float('-inf'), [] while stack or root: while root: stack.append(root) root = root.left root = stack.pop() ans, last = min(ans, root.val-last), root.val root = root.right return ans æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡é€’å½’ã€‚ 123456789101112class Solution: pre = float('-inf') ans = float('inf') def minDiffInBST(self, root: 'TreeNode') -&gt; 'int': if root.left: self.minDiffInBST(root.left) self.ans = min(self.ans, root.val-self.pre) self.pre = root.val if root.right: self.minDiffInBST(root.right) return self.ans 538. Convert BST to Greater TreeäºŒå‰æœç´¢æ ‘è½¬æ¢ã€‚ä½¿å¾—èŠ‚ç‚¹çš„å€¼ç­‰äºŽæ‰€æœ‰æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å’Œã€‚åŽŸé¢˜123456789Input: The root of a Binary Search Tree like this: 5 / \ 2 13Output: The root of a Greater Tree like this: 18 / \ 20 13 æ–¹æ³•ä¸€ï¼šrecursivelyã€‚è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªå˜é‡æ¥ä¿å­˜å½“å‰çš„ç´¯åŠ å’Œï¼Œç„¶åŽé€’å½’ä¸­é‡‡ç”¨å…ˆå³åŽå·¦çš„æ–¹å¼ã€‚ 123456789101112def convertBST(self, root: 'TreeNode') -&gt; 'TreeNode': self.sum_val = 0 def convert(node): if node: convert(node.right) self.sum_val += node.val node.val = self.sum_val convert(node.left) convert(root) return root æ–¹æ³•äºŒï¼šiterativelyã€‚94é¢˜ä¸­çš„ä¸­åºéåŽ†è¿­ä»£æ–¹å¼ä¸èƒ½å®žçŽ°ï¼Œå› ä¸ºè¿­ä»£æ—¶æ”¹å˜äº†æ ¹èŠ‚ç‚¹ã€‚ 1234567891011121314def convertBST(self, root): stack = [(root, False)] sum_val = 0 while stack: node, visited = stack.pop() if node: if visited: node.val += sum_val sum_val = node.val else: stack.append((node.left, False)) stack.append((node, True)) stack.append((node.right, False)) return root 958. Check Completeness of a Binary Treeåˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œæ•´äºŒå‰æ ‘ã€‚å®Œæ•´äºŒå‰æ ‘ä¸ºï¼šé™¤äº†æœ€åŽä¸€å±‚æ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½ä¸ºç©ºï¼Œæœ€åŽä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨åŽ»é å·¦ã€‚åŽŸé¢˜Example 1: 123Input: [1,2,3,4,5,6]Output: trueExplanation: Every level before the last is full (ie. levels with node-values &#123;1&#125; and &#123;2, 3&#125;), and all nodes in the last level (&#123;4, 5, 6&#125;) are as far left as possible. Example 2: 123Input: [1,2,3,4,5,null,7]Output: falseExplanation: The node with value 7 isn&apos;t as far left as possible. æ–¹æ³•ä¸€ï¼šé‡‡ç”¨åˆ†å±‚éåŽ†çš„æ–¹å¼ï¼Œåˆ¤æ–­æ¯å±‚çš„èŠ‚ç‚¹æ˜¯å¦æ˜¯2**levelã€‚æœ€åŽä¸€å±‚é‡‡ç”¨åˆ‡ç‰‡çš„æ–¹å¼åˆ¤æ–­æœ€å·¦åŽŸåˆ™ã€‚ 123456789101112131415161718192021class Solution: def isCompleteTree(self, root): if not root: return True levels = [root] last_full = True level = 0 while levels: value_nodes = [n for n in levels if n] if value_nodes != levels[:len(value_nodes)]: return False else: print(len(levels), 2**level) if len(levels) != 2**level: if not last_full: return False last_full = False levels = [kid for n in levels if n for kid in (n.left, n.right)] level += 1 return True æ–¹æ³•äºŒï¼šLeeç¥žçš„å†™æ³•ï¼Œæƒ³æ˜Žç™½ä¸€ä»¶äº‹å°±æ˜¯ï¼Œé‡è§ç¬¬ä¸€ä¸ªNoneæ—¶ï¼ŒåŽé¢å¦‚æžœå†æœ‰éžNoneçš„å€¼å°±ä¸æ˜¯çŽ©æ•´æ ‘äº†ã€‚ 1234567def isCompleteTree(self, root: 'TreeNode') -&gt; 'bool': i, bfs = 0, [root] while bfs[i]: bfs.append(bfs[i].left) bfs.append(bfs[i].right) i += 1 return not any(bfs[i:]) 543. Diameter of Binary Treeæ±‚äºŒå‰æ ‘çš„æœ€å¤§ç›´å¾„ï¼Œå³ä»»æ„ä¸¤èŠ‚ç‚¹çš„é•¿åº¦ã€‚åŽŸé¢˜123456 1 / \ 2 3 / \ 4 5 Return **3**, which is the length of the path [4,2,1,3] or [5,2,1,3]. æ–¹æ³•ä¸€ï¼š recursively, ä½¿ç”¨ä¸€ä¸ªå®žä¾‹å˜é‡è®¡ç®—äº†æœ€å¤§å€¼ã€‚ 12345678910111213def diameterOfBinaryTree(self, root: 'TreeNode') -&gt; 'int': self.diameter = 0 def dfs(node): if not node: return 0 left = dfs(node.left) right = dfs(node.right) self.diameter = max(self.diameter, left+right) return max(left, right) + 1 dfs(root) return self.diameter 965. Univalued Binary Treeåˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ‰€æœ‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursivelyã€‚ 12345def isUnivalTree(self, root: 'TreeNode') -&gt; 'bool': def dfs(node): return (not node or root.val==node.val and dfs(node.left) and dfs(node.right)) return dfs(root) æ–¹æ³•äºŒï¼šiteratively.å¸¸è§„å†™æ³•ã€‚ 12345678910def isUnivalTree(self, root: 'TreeNode') -&gt; 'bool': r_val, stack = root.val, [root] while stack: n = stack.pop() if n: if n.val != r_val: return False stack.append(n.right) stack.append(n.left) return True æ–¹æ³•äºŒï¼šå‰åºéåŽ†ï¼Œç”Ÿæˆå™¨æ–¹æ³•ã€‚ 1234567891011121314def isUnivalTree(self, root: 'TreeNode') -&gt; 'bool': def bfs(node): if node: yield node.val yield from bfs(node.left) yield from bfs(node.right) it = bfs(root) root_val = next(it) for val in it: if val != root_val: return False return True 563. Binary Tree Tiltè¿”å›žä¸€ä¸ªäºŒå‰æ ‘æ•´ä¸ªæ ‘çš„å€¾æ–œåº¦ã€‚æ‰€æœ‰èŠ‚ç‚¹å€¾æ–œåº¦çš„æ€»å’Œã€‚èŠ‚ç‚¹çš„å€¾æ–œåº¦ç­‰äºŽå·¦å­æ ‘å’Œå³å­æ ‘æ‰€æœ‰å’Œå·®çš„ç»å¯¹å€¼ã€‚åŽŸé¢˜12345678910Input: 1 / \ 2 3Output: 1Explanation: Tilt of node 2 : 0Tilt of node 3 : 0Tilt of node 1 : |2-3| = 1Tilt of binary tree : 0 + 0 + 1 = 1 æ–¹æ³•ä¸€ï¼šrecursively. è¿™é‡Œç”¨tupleè®°å½•äº†èŠ‚ç‚¹æ€»å’Œå’Œå€¾æ–œåº¦æ€»å’Œã€‚ 12345678910111213def findTilt(self, root): self.res = 0 _, top_res = self.sum_and_diff(root) return self.res + top_resdef sum_and_diff(self, node): if not node: return 0, 0 l_sum, l_diff = self.sum_and_diff(node.left) r_sum, r_diff = self.sum_and_diff(node.right) self.res += l_diff + r_diff # print(node.val, node.val+l_sum+r_sum, abs(l_sum-r_sum)) return node.val+l_sum+r_sum, abs(l_sum-r_sum) æ–¹æ³•äºŒ: æƒ³äº†ä¸€ä¼šåŽåºéåŽ†çš„è¿­ä»£æ³•ï¼Œæ²¡æƒ³å‡ºæ¥ï¼Œè²Œä¼¼éœ€è¦ç»´æŠ¤å¾ˆå¤šçš„å˜é‡ã€‚è¿™é‡Œè¿˜æ˜¯ä¼˜åŒ–ä¸€ä¸‹æ–¹æ³•ä¸€ã€‚ 1234567891011def findTilt(self, root: 'TreeNode') -&gt; 'int': def dfs(node): if not node: return 0, 0 l_sum, l_diff = dfs(node.left) r_sum, r_diff = dfs(node.right) return (node.val + l_sum + r_sum, abs(l_sum-r_sum) + l_diff + r_diff) return dfs(root)[1] 606. Construct String from Binary Treeæ ¹æ®äºŒå‰æ ‘é‡å»ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨()è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚åŽŸé¢˜123456789101112131415Input: Binary tree: [1,2,3,4] 1 / \ 2 3 / 4 Output: &quot;1(2(4))(3)&quot;Input: Binary tree: [1,2,3,null,4] 1 / \ 2 3 \ 4 Output: &quot;1(2()(4))(3)&quot; æ–¹æ³•ä¸€ï¼šrecursively. å·¦å³èŠ‚ç‚¹æœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œåœ¨äºŽå¦‚æžœå·¦èŠ‚ç‚¹ä¸ºç©ºï¼Œå³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¦ä¿ç•™å·¦èŠ‚ç‚¹çš„æ‹¬å·ã€‚ 12345def tree2str(self, t): if not t: return '' left = '(&#123;&#125;)'.format(self.tree2str(t.left)) if (t.left or t.right) else '' right = '(&#123;&#125;)'.format(self.tree2str(t.right)) if t.right else '' return '&#123;&#125;&#123;&#125;&#123;&#125;'.format(t.val, left, right) 617. Merge Two Binary Treesåˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç›¸åŒä½ç½®çš„èŠ‚ç‚¹å€¼ç›¸åŠ ï¼Œç©ºèŠ‚ç‚¹ç®—0.åŽŸé¢˜æ–¹æ³•ä¸€ï¼šrecursively. è™½ç„¶è¿™ä¸ªæ–¹æ³•ACäº†ï¼Œä½†æ˜¯æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜ï¼Œè¿”å›žçš„TreeNodeä¸­æŸä¸ªå­èŠ‚ç‚¹å¯èƒ½åŒ…å«åŽŸæ¥çš„t1æˆ–t2çš„å¼•ç”¨ã€‚ 123456789def mergeTrees(self, t1, t2): if not t1: return t2 if not t2: return t1 t = TreeNode(t1.val+t2.val) t.left = self.mergeTrees(t1.left, t2.left) t.right = self.mergeTrees(t1.right, t2.right) return t æ–¹æ³•äºŒï¼šiteratively. 12345678910111213141516def mergeTrees(self, t1, t2): if not t1 and not t2: return [] t = TreeNode(0) stack = [(t, t1, t2)] while stack: n, n1, n2 = stack.pop() if n1 or n2: n.val = (n1.val if n1 else 0) + (n2.val if n2 else 0) if (n1 and n1.right) or (n2 and n2.right): n.right = TreeNode(None) stack.append((n.right, n1.right if n1 else None, n2.right if n2 else None)) if (n1 and n1.left) or (n2 and n2.left): n.left = TreeNode(None) stack.append((n.left, n1.left if n1 else None, n2.left if n2 else None)) return t 653. Two Sum IV - Input is a BSTåˆ¤æ–­äºŒå‰æ ‘ä¸­æ˜¯å¦æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŠ ä¸ºkã€‚åŽŸé¢˜12345678910Input: 5 / \ 3 6 / \ \2 4 7Target = 9Output: True æ–¹æ³•ä¸€ï¼špreorder + set. 1234567891011def findTarget(self, root, k): seen, stack = set(), root and [root] while stack: node = stack.pop() if node: if k-node.val in seen: return True seen.add(node.val) stack.append(node.right) stack.append(node.left) return False 669. Trim a Binary Search Treeæ ¹æ®èŒƒå›´ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œæ³¨æ„æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¸æ˜¯æ™®é€šçš„äºŒå‰æ ‘ã€‚åŽŸé¢˜123456789101112Input: 1 / \ 0 2 L = 1 R = 2Output: 1 \ 2 æ–¹æ³•ä¸€ï¼šrecursively. 12345678910111213def trimBST(self, root, L, R): def trim_node(node): if not node: return None elif node.val &gt; R: return trim_node(node.left) elif node.val &lt; L: return trim_node(node.right) else: node.left = trim_node(node.left) node.right = trim_node(node.right) return node return trim_node(root) 671. Second Minimum Node In a Binary Treeæ‰¾å‡ºäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼ã€‚å·¦å³å­èŠ‚ç‚¹åŒæ—¶å­˜åœ¨æˆ–åŒæ—¶ä¸å­˜åœ¨ï¼Œæ ¹èŠ‚ç‚¹å°äºŽç­‰äºŽä»»æ„å­èŠ‚ç‚¹ã€‚åŽŸé¢˜123456789Input: 2 / \ 2 5 / \ 5 7Output: 5Explanation: The smallest value is 2, the second smallest value is 5. æ–¹æ³•ä¸€ï¼šå…ˆæ”¾åˆ°seté‡Œ. 123456789101112131415def findSecondMinimumValue(self, root: 'TreeNode') -&gt; 'int': self.uniques = set() def dfs(node): if node: self.uniques.add(node.val) dfs(node.left) dfs(node.right) dfs(root) min1, ans = root.val, float('inf') for v in self.uniques: if min1 &lt; v &lt; ans: ans = v return ans if ans &lt; float('inf') else -1 æ–¹æ³•äºŒï¼š iteratively. 1234567891011def findSecondMinimumValue(self, root): min1 = root.val if root else -1 res = float('inf') stack = root and [root] while stack: node = stack.pop() if node: if min1 &lt; node.val &lt; res: res = node.val stack.extend([node.right, node.left]) return res if res &lt; float('inf') else -1 æ–¹æ³•ä¸‰ï¼šè¿˜æ²¡æƒ³å‡ºæ¥ï¼Œä»¥ä¸Šä¸¤ç§éƒ½æ²¡æœ‰åˆ©ç”¨åˆ°ä¸€äº›é¢˜ä¸­å·²çŸ¥æ¡ä»¶ï¼Œæˆ‘çœ‹Solutionä¸­ç»™å‡ºçš„åŠä¸€äº›Discussä¸­çš„ç­”æ¡ˆä¹Ÿå¿½ç•¥äº†è¿™ä¸ªæ¡ä»¶ã€‚æƒ³äº†æƒ³æ— è®ºæ˜¯å“ªä¸ªé¡ºåºéåŽ†ï¼Œæˆ–è€…æ·±åº¦å¹¿åº¦ä¼˜å…ˆï¼Œéƒ½æ²¡èƒ½å¾ˆå¥½çš„åˆ©ç”¨è¿™ä¸ªæ¡ä»¶ã€‚ 687. Longest Univalue Pathç›¸åŒèŠ‚ç‚¹æœ€é•¿è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦æŒ‰ç…§ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¾¹è·ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹æ•°-1ã€‚åŽŸé¢˜123456 5 / \ 4 5 / \ \ 1 1 5output: 2 123456789101112def longestUnivaluePath(self, root): self.res = 0 def traverse(node): if not node: return 0 left_len, right_len = traverse(node.left), traverse(node.right) left = (left_len+1) if node.left and node.left.val==node.val else 0 right = (right_len+1) if node.right and node.right.val==node.val else 0 self.res = max(self.res, left + right) return max(left, right) traverse(root) return self.res 700. Search in a Binary Search Treeåœ¨äºŒå‰æœç´¢æ ‘ä¸­æœç´¢èŠ‚ç‚¹ã€‚åŽŸé¢˜12345678Given the tree: 4 / \ 2 7 / \ 1 3And the value to search: 2 æ–¹æ³•ä¸€ï¼šrecursively. 123456def searchBST(self, root: 'TreeNode', val: 'int') -&gt; 'TreeNode': if root: if val == root.val: return root return self.searchBST( (root.left, root.right)[root.val &lt; val], val) æ–¹æ³•äºŒï¼šiteratively. 12345def searchBST(self, root: 'TreeNode', val: 'int') -&gt; 'TreeNode': node = root while node and node.val != val: node = (node.left, node.right)[node.val &lt; val] return node 872. Leaf-Similar Treeså¶å­ç›¸è¿‘çš„æ ‘ï¼Œåªä»Žå·¦åˆ°å³éåŽ†å¶å­èŠ‚ç‚¹çš„é¡ºåºç›¸åŒçš„ä¸¤æ£µæ ‘ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šå‰åºéåŽ†+ç”Ÿæˆå™¨ã€‚ç©ºé—´å¤æ‚åº¦è¿‡é«˜ï¼Œbeats 1%ã€‚ 12345678910111213141516def leafSimilar(self, root1: 'TreeNode', root2: 'TreeNode') -&gt; 'bool': def leaves(root): stack = root and [root] while stack: node = stack.pop() if node: if not node.right and not node.left: yield node.val stack.append(node.right) stack.append(node.left) leaves1 = leaves(root1) leaves2 = leaves(root2) return all( a==b for a, b in itertools.zip_longest(leaves1, leaves2)) æ–¹æ³•äºŒï¼šdfs. 1234567891011def leafSimilar(self, root1: 'TreeNode', root2: 'TreeNode') -&gt; 'bool': def dfs(node): if node: if not node.left and not node.right: yield node.val yield from dfs(node.left) yield from dfs(node.right) return all( a==b for a, b in itertools.zip_longest(dfs(root1), dfs(root2))) 897. Increasing Order Search Treeæ ¹æ®ä¸­åºéåŽ†å»ºç«‹ä¸€ä¸ªåªæœ‰å³å­æ ‘çš„äºŒå‰æ ‘ã€‚è¦æ±‚åœ¨åŽŸæ ‘ä¸Šä¿®æ”¹ã€‚åŽŸé¢˜1234567891011121314151617181920Example 1:Input: [5,3,6,2,4,null,8,1,null,null,null,7,9] 5 / \ 3 6 / \ \ 2 4 8 / / \ 1 7 9Output: [1,null,2,null,3,null,4,null,5,null,6,null,7,null,8,null,9] 1 \ 2 \ 3 \ 4 æ–¹æ³•ä¸€ï¼šiteratively. 1234567891011def increasingBST(self, root: TreeNode) -&gt; TreeNode: ans = head = TreeNode(0) stack = [] while stack or root: while root: stack.append(root) root = root.left root = stack.pop() head.right = TreeNode(root.val) root, head = root.right, head.right return ans.right æ–¹æ³•äºŒï¼šç”Ÿæˆå™¨ã€‚ 12345678910111213def increasingBST(self, root: 'TreeNode') -&gt; 'TreeNode': def inorder(node): if node: yield from inorder(node.left) yield node.val yield from inorder(node.right) ans = head = TreeNode(0) for v in inorder(root): head.right = TreeNode(v) head = head.right return ans.right æ–¹æ³•ä¸‰ï¼šé¢˜ä¸­æœ‰ä¸ªè¦æ±‚åœ¨åŽŸæ ‘ä¸Šä¿®æ”¹ï¼Œæ‰€ä»¥ä»¥ä¸Šä¸¤ç§æ–¹æ³•å…¶å®žä¸ç¬¦åˆè¦æ±‚ï¼Œè¿™é‡Œä½¿ç”¨é€’å½’å®žçŽ°ã€‚ æ­¤ç­”æ¡ˆç”±leeå¤§ç¥žæä¾›ï¼Œéžå¸¸å·§å¦™ã€‚ 123456def increasingBST(self, root: 'TreeNode', tail=None) -&gt; 'TreeNode': if not root: return tail res = self.increasingBST(root.left, root) root.left = None root.right = self.increasingBST(root.right, tail) return res 993. Cousins in Binary Treeè¡¨å¼ŸèŠ‚ç‚¹æŒ‡ä¸¤ä¸ªèŠ‚ç‚¹åœ¨åŒä¸€æ·±åº¦ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¸åŒã€‚åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯è¡¨å¼ŸèŠ‚ç‚¹ã€‚æ ‘ä¸­èŠ‚ç‚¹å€¼å”¯ä¸€ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šç”¨dictè®°å½•ã€‚ 123456789101112def isCousins(self, root: 'TreeNode', x: 'int', y: 'int') -&gt; 'bool': parent, depth = &#123;&#125;, &#123;&#125; def dfs(node, par=None): if node: parent[node.val] = par depth[node.val] = depth[par] + 1 if par else 0 dfs(node.left, node.val) dfs(node.right, node.val) dfs(root) return depth[x] == depth[y] and parent[x] != parent[y] 230. Kth Smallest Element in a BSTäºŒå‰æœç´¢æ ‘çš„ç¬¬Kå°èŠ‚ç‚¹å€¼ã€‚åŽŸé¢˜1234567Input: root = [3,1,4,null,2], k = 1 3 / \ 1 4 \ 2Output: 1 æ–¹æ³•ä¸€ï¼šç”Ÿæˆå™¨å‰åºéåŽ†ã€‚ 12345678910111213def kthSmallest(self, root: TreeNode, k: int) -&gt; int: def inorder(node): if node: yield from inorder(node.left) yield node.val yield from inorder(node.right) for n in inorder(root): if k == 1: return n else: k -= 1 æ–¹æ³•äºŒï¼šè¿­ä»£ã€‚ 1234567891011def kthSmallest(self, root: TreeNode, k: int) -&gt; int: stack = [] while root or stack: while root: stack.append(root) root = root.left root = stack.pop() k -= 1 if k == 0: return root.val root = root.right 98. Validate Binary Search TreeéªŒè¯ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ã€‚åŽŸé¢˜12345678 5 / \ 1 4 / \ 3 6Output: falseExplanation: The input is: [5,1,4,null,null,3,6]. The root node&apos;s value is 5 but its right child&apos;s value is 4. æ–¹æ³•ä¸€ï¼šä¸­åºéåŽ†å³å¯ã€‚ 123456789101112def isValidBST(self, root: TreeNode) -&gt; bool: stack, last = [], float('-inf') while stack or root: while root: stack.append(root) root = root.left root = stack.pop() if root.val &lt;= last: return False last = root.val root = root.right return True 109. Convert Sorted List to Binary Search Treeå°†æœ‰åºé“¾è¡¨è½¬æˆå¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚åŽŸé¢˜123456789Given the sorted linked list: [-10,-3,0,5,9],One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST: 0 / \ -3 9 / / -10 5 æ–¹æ³•ä¸€ï¼šå…ˆéåŽ†é“¾è¡¨ï¼Œå†äºŒåˆ†é€’å½’åˆ›å»ºæ ‘ã€‚ 1234567891011121314151617def sortedListToBST(self, head: ListNode) -&gt; TreeNode: inorder = [] while head: inorder.append(head.val) head = head.next lo, hi = 0, len(inorder)-1 def build_tree(lo, hi): if lo &gt; hi: return None mid = (lo + hi) // 2 root = TreeNode(inorder[mid]) root.left = build_tree(lo, mid-1) root.right = build_tree(mid+1, hi) return root return build_tree(lo, hi) æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å¾ˆæ£’ã€‚å…ˆéåŽ†ä¸€éæ‰¾åˆ°é“¾è¡¨çš„é•¿åº¦ï¼›ç„¶åŽé€’å½’åŽ»æž„å»ºæ ‘ï¼Œå…±äº«ä¸€ä¸ªheadå¯å˜å¯¹è±¡ã€‚ 123456789101112131415161718192021222324def sortedListToBST(self, head: ListNode) -&gt; TreeNode: def find_size(head): h, count = head, 0 while h: h = h.next count += 1 return count lo, hi = 0, find_size(head) def form_bst(lo, hi): nonlocal head if lo &gt; hi: return None mid = (lo + hi) // 2 left = form_bst(lo, mid-1) root = TreeNode(head.val) head = head.next root.left = left right = form_bst(mid+1, hi) root.right = right return root return form_bst(lo, hi-1) 1008. Construct Binary Search Tree from Preorder Traversalæ ¹æ®å‰åºéåŽ†é‡å»ºäºŒå‰æœç´¢æ ‘ã€‚åŽŸé¢˜12Input: [8,5,1,7,10,12]Output: [8,5,10,1,7,null,12] æ–¹æ³•ä¸€ï¼šrecursively. 1234567def bstFromPreorder(self, preorder: List[int]) -&gt; TreeNode: if not preorder: return None root = TreeNode(preorder[0]) i = bisect.bisect(preorder, root.val) root.left = self.bstFromPreorder(preorder[1:i]) root.right = self.bstFromPreorder(preorder[i:]) return root 236. Lowest Common Ancestor of a Binary TreeäºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€å°å…¬å…±ç¥–å…ˆã€‚åŽŸé¢˜æ–¹æ³•ä¸€: é€’å½’ï¼Œæ˜¯ç”¨midè¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯å…¶ä¸­çš„ä¸€ä¸ªã€‚ 1234567891011121314def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode': self.ans = None def dfs(node): if not node: return False left = dfs(node.left) right = dfs(node.right) mid = node in (p, q) if mid + left + right &gt;= 2: self.ans = node return mid or left or right dfs(root) return self.ans æ–¹æ³•äºŒï¼šé€’å½’ï¼Œæ€æƒ³å¦‚æžœæ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¸­çš„ä¸€ä¸ªï¼Œå°±è¿”å›žè¿™ä¸ªèŠ‚ç‚¹ã€‚ 123456def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode': if root in (None, p, q): return root left = self.lowestCommonAncestor(root.left, p, q) right = self.lowestCommonAncestor(root.right, p, q) return root if left and right else left or right æ–¹æ³•ä¸‰ï¼šå‚è€ƒäº†257çš„dfsè§£æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸€å®šè¦åŠ list(path)ï¼Œå¦åˆ™ç”±äºŽå¯å˜å¯¹è±¡çš„é—®é¢˜ï¼Œä¼šå¯¼è‡´æœ€åŽç»“æžœä¸º[]ã€‚ 1234567891011121314def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode': ans = [] def dfs(n, path): if n: path.append(n) if n in (p, q): ans.append(list(path)) # must use list, or you will get [] if len(ans) == 2: # optimized return dfs(n.left, path) dfs(n.right, path) path.pop() dfs(root, []) return next(a for a, b in list(zip(*ans))[::-1] if a==b) 654. Maximum Binary Treeæ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªæ ‘ï¼Œè¦æ±‚æ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„æœ€å¤§çš„æ ‘ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ç§’ï¼Œä¸è¿‡æ„Ÿè§‰è¿˜æœ‰æ›´ä¼˜è§£ï¼ŒæŸ¥äº†ä¸€åœˆæ²¡æ‰¾åˆ°ã€‚ 123456789def constructMaximumBinaryTree(self, nums: List[int]) -&gt; TreeNode: if not nums: return None v = max(nums) root = TreeNode(v) i = nums.index(v) root.left = self.constructMaximumBinaryTree(nums[:i]) root.right = self.constructMaximumBinaryTree(nums[i+1:]) return root 513. Find Bottom Left Tree Valueå¯»æ‰¾äºŒå‰æ ‘æœ€åº•å±‚çš„æœ€å·¦èŠ‚ç‚¹ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæ ¹æ®åˆ†å±‚éåŽ†æ”¹ç¼–ã€‚ 123456def findBottomLeftValue(self, root: TreeNode) -&gt; int: ans, levels = None, root and [root] while levels: ans = levels[0].val levels = [k for n in levels for k in (n.left, n.right) if k] return ans æ–¹æ³•äºŒï¼šåŒç«¯é˜Ÿåˆ—ï¼ŒBFS. 123456789def findBottomLeftValue(self, root: TreeNode) -&gt; int: q = collections.deque([root]) while q: node = q.pop() if node.right: q.appendleft(node.right) if node.left: q.appendleft(node.left) return node.val æ–¹æ³•ä¸‰ï¼šå¾ªçŽ¯æ—¶æ”¹å˜è¿­ä»£å¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸ªäººè§‰å¾—ä¸å¥½ã€‚ä¸è¿‡å¥½åœ¨æ˜¯åœ¨éåŽ†ä¹‹å‰æ·»åŠ åˆ°æœ«ç«¯ã€‚ 12345def findBottomLeftValue(self, root: TreeNode) -&gt; int: queue = [root] for node in queue: queue += (x for x in (node.right, node.left) if x) return node.val 814. Binary Tree Pruningå‰ªæŽ‰æ ‘ä¸­ä¸åŒ…å«1çš„å­æ ‘ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šé€’å½’ã€‚ 123456789101112131415def pruneTree(self, root: TreeNode) -&gt; TreeNode: def dfs(node): if not node: return True left = dfs(node.left) right = dfs(node.right) if left: node.left = None if right: node.right = None return node.val==0 and left and right dfs(root) return root 199. Binary Tree Right Side ViewäºŒå‰æ ‘ä»Žå³å‘å·¦çœ‹æ—¶ï¼Œä»Žä¸Šåˆ°ä¸‹çš„èŠ‚ç‚¹ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šå’Œåˆ†å±‚éåŽ†æ€æƒ³ç›¸åŒã€‚ 123456def rightSideView(self, root: TreeNode) -&gt; List[int]: ans, levels = [], root and [root] while levels: ans.append(levels[-1].val) levels = [k for n in levels for k in (n.left, n.right) if k] return ans æ–¹æ³•äºŒï¼šdfs. ä»Žå³åˆ°å·¦æ·±åº¦éåŽ†ï¼Œç”¨ä¸€ä¸ªæ·±åº¦å˜é‡æŽ§åˆ¶æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªæœ€å³èŠ‚ç‚¹ã€‚ 12345678910def rightSideView(self, root: TreeNode) -&gt; List[int]: ans = [] def dfs(n, depth): if n: if depth == len(ans): ans.append(n.val) dfs(n.right, depth+1) dfs(n.left, depth+1) dfs(root, 0) return ans 662. Maximum Width of Binary TreeäºŒå‰æ ‘çš„æœ€å¤§å®½åº¦ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šå¸¸è§„é˜Ÿåˆ—å†™æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å±‚éåŽ†è¦ç”¨æœ€å³è¾¹çš„å‡åŽ»æœ€å·¦è¾¹çš„æ‰æ˜¯å®½åº¦ã€‚ 123456789101112def widthOfBinaryTree(self, root: TreeNode) -&gt; int: queue = [(root, 0, 0)] ans = cur_depth = left = 0 for node, depth, pos in queue: if node: queue.append((node.left, depth+1, pos*2)) queue.append((node.right, depth+1, pos*2+1)) if cur_depth != depth: cur_depth = depth left = pos ans = max(pos-left+1, ans) return ans æ–¹æ³•äºŒï¼šæŒ‰ç…§åˆ†å±‚é¡ºåºå°†æ‰€æœ‰èŠ‚ç‚¹ç¼–å·ï¼Œä»Ž1å¼€å§‹ï¼Œenumerateå…¶å®žå°±æ˜¯è®¡ç®—2*pos, 2*pos+1ã€‚ 12345678910def widthOfBinaryTree(self, root: TreeNode) -&gt; int: levels = [(1, root)] width = 0 while levels: width = max(levels[-1][0] - levels[0][0] + 1, width) levels = [k for pos, n in levels for k in enumerate((n.left, n.right), 2 * pos) if k[1]] return width 222. Count Complete Tree Nodesç»Ÿè®¡å®Œæ•´æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šäºŒåˆ†æ³•ã€‚æ¯”è¾ƒå·¦å­æ ‘çš„æ·±åº¦å’Œå³å­æ ‘çš„æ·±åº¦ï¼Œå¦‚æžœç›¸åŒåˆ™è¡¨æ˜Žå·¦å­æ ‘ä¸ºæ»¡æ ‘ï¼Œå³å­æ ‘ä¸ºå®Œæ•´æ ‘ã€‚å¦‚æžœä¸åŒåˆ™è¡¨æ˜Žå·¦å­æ ‘ä¸ºå®Œæ•´æ ‘ï¼Œå³å­æ ‘ä¸ºæ»¡æ ‘ã€‚ 12345678910111213def countNodes(self, root: TreeNode) -&gt; int: if not root: return 0 left, right = self.depth(root.left), self.depth(root.right) if left == right: return 2 ** left + self.countNodes(root.right) else: return 2 ** right + self.countNodes(root.left) def depth(self, node): if not node: return 0 return 1 + self.depth(node.left)]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆåŠ¨æ€è§„åˆ’ç¯‡ï¼‰Danymic Programming]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AF%87%EF%BC%89Danymic-Programming%2F</url>
    <content type="text"><![CDATA[70. Climbing Stairsçˆ¬æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥çˆ¬ä¸€é˜¶æˆ–ä¸¤é˜¶æ¥¼æ¢¯ï¼Œçˆ¬ä¸Šné˜¶æ¥¼æ¢¯æœ‰å¤šå°‘ç§æ–¹æ³•ï¼ŸåŽŸé¢˜ æ–æ³¢é‚£å¥‘é—®é¢˜ 12345def fibonacci(n): a = b = 1 for _ in range(n-1): a, b = b, a+b return b 746. Min Cost Climbing Stairsæ¥¼æ¢¯ä¸Šæ¯å±‚å†™äº†åˆ°è¾¾è¯¥å±‚çš„å¡è·¯é‡Œï¼Œæ±‚ä¸Šåˆ°é¡¶å±‚æ¶ˆè€—çš„æœ€å°å¡è·¯é‡Œã€‚åŽŸé¢˜1234567Input: cost = [10, 15, 20]Output: 15Explanation: Cheapest is start on cost[1], pay that cost and go to the top.Input: cost = [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]Output: 6Explanation: Cheapest is start on cost[0], and only step on 1s, skipping cost[3]. æ–¹æ³•ä¸€ï¼šthe final cost f[i] to climb the staircase from some step iis f[i] = cost[i] + min(f[i+1], f[i+2])ã€‚åˆ°è¾¾ä¸€å±‚æœ‰ä¸¤ç§é€‰æ‹©ï¼Œä¸€ç§æ˜¯ä¸Šä¸€å±‚ï¼Œä¸€ç§æ˜¯ä¸Šä¸¤å±‚ã€‚ 12345def minCostClimbingStairs(self, cost: List[int]) -&gt; int: f1 = f2 = 0 for x in reversed(cost): f1, f2 = min(f1, f2) + x, f1 return min(f1, f2) 121. Best Time to Buy and Sell Stockä¹°å…¥å–å‡ºæœ€å¤§æ”¶ç›Šã€‚åŽŸé¢˜1234Input: [7,1,5,3,6,4]Output: 5Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5. Not 7-1 = 6, as selling price needs to be larger than buying price. æ–¹æ³•ä¸€ï¼šBrute Force.å…¶å®žå°±æ˜¯æ±‚æœ€é«˜å³°ç‚¹å’Œå‰é¢æœ€ä½Žè°·ç‚¹çš„å·®ã€‚ 12345678def maxProfit(self, prices: List[int]) -&gt; int: ans, min_buy = 0, float('inf') for price in prices: if price &lt; min_buy: min_buy = price elif price-min_buy &gt; ans: ans = price - min_buy return ans æ–¹æ³•äºŒï¼šæ ‡å‡†çš„å¡ç™»ç®—æ³•ã€‚æ­¤é¢˜ä¸º53.è¿žç»­æ•°ç»„æœ€å¤§å’Œçš„å˜å½¢ï¼Œå¦‚æžœä»·æ ¼æ¯”ä¹‹å‰å°ï¼Œåˆ™èˆå¼ƒï¼Œå¦åˆ™ä¸€èµ·è®¡ç®—è¿žç»­å­æ•°ç»„çš„å’Œã€‚ 1234567def maxProfit(self, prices: List[int]) -&gt; int: cur = sofar = 0 for i in range(1, len(prices)): cur += prices[i] - prices[i-1] cur = max(0, cur) sofar = max(cur, sofar) return sofar 122. Best Time to Buy and Sell Stock IIä¹°å…¥å–å‡ºï¼Œå…è®¸å¤šæ¬¡äº¤æ˜“ã€‚åŽŸé¢˜1234Input: [7,1,5,3,6,4]Output: 7Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4. Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3. æ€è·¯ï¼šæ¯”è¾ƒæ¯ä¸¤å¤©çš„ä»·æ ¼ï¼Œå¦‚æžœæ˜¯æ¶¨ä»·äº†ï¼Œé‚£å°±æŠŠæ”¶ç›Šè®¡ç®—è¿›åŽ»ï¼Œå¦åˆ™ä¸å‡ºæ‰‹äº¤æ˜“ã€‚ 123456def max_profit(prices): profit = 0 for i in range(1, len(prices)): if prices[i] &gt; prices[i-1]: profit += prices[i] - prices[i-1] return profit æ–¹æ³•äºŒï¼špairwise. 12345678def maxProfit(self, prices: List[int]) -&gt; int: t, y = itertools.tee(prices) next(t, None) profit = 0 for p1, p2 in zip(t, y): if p1 &gt; p2: profit += p1-p2 return profit Best Time to Buy and Sell Stock IIIæœ€å¤šå…è®¸äº¤æ˜“ä¸¤æ¬¡ã€‚åŽŸé¢˜å…ˆä»Žå·¦åˆ°å³æŒ‰ç…§ä¸€æ¬¡äº¤æ˜“è®¡ç®—æ¯å¤©çš„åˆ©æ¶¦ã€‚ç„¶åŽæŒ‰ç…§ä»Žå³åˆ°å·¦ï¼Œåˆ¤æ–­å¦‚æžœè¿›è¡Œç¬¬äºŒæ¬¡äº¤æ˜“ï¼Œæœ€å¤§çš„åˆ©æ¶¦ã€‚ 1234567891011121314151617def maxProfit(self, prices: List[int]) -&gt; int: min_buy = float('inf') profits = [] max_profit = 0 for p in prices: min_buy = min(min_buy, p) max_profit = max(max_profit, p-min_buy) profits.append(max_profit) max_profit = 0 total_profit = 0 max_sell = float('-inf') for i in range(len(prices)-1, -1, -1): max_sell = max(max_sell, prices[i]) max_profit = max(max_profit, max_sell-prices[i]) total_profit = max(total_profit, max_profit+profits[i]) return total_profit 198. House RobberæŠ¢åŠ«æˆ¿å­é—®é¢˜ã€‚ä¸èƒ½è¿žç»­æŠ¢åŠ«ä¸¤ä¸ªæŒ¨ç€çš„æˆ¿é—´ã€‚åŽŸé¢˜1234Input: [2,7,9,3,1]Output: 12Explanation: Rob house 1 (money = 2), rob house 3 (money = 9) and rob house 5 (money = 1). Total amount you can rob = 2 + 9 + 1 = 12. 123f(0) = nums[0]f(1) = max(num[0], num[1])f(k) = max( f(k-2) + nums[k], f(k-1) ) æ–¹æ³•ä¸€ï¼šé€’å½’ï¼Œè¶…æ—¶ã€‚ 1234567def rob(self, nums): if not nums: return 0 if len(nums) &lt;= 1: return nums[0] return max(nums[0]+self.rob(nums[2:]), self.rob(nums[1:])) æ–¹æ³•äºŒï¼š 12345def rob(self, nums): last, now = 0, 0 for num in nums: last, now = now, max(last+num, now) return now 213. House Robber IIä¸Žä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„æˆ¿å­è¿žæˆä¸€ä¸ªçŽ¯ã€‚åŽŸé¢˜1234nput: [2,3,2]Output: 3Explanation: You cannot rob house 1 (money = 2) and then rob house 3 (money = 2), because they are adjacent houses. æ–¹æ³•ä¸€ï¼šæ³¨æ„numsé•¿åº¦ä¸º1çš„æƒ…å†µã€‚ 12345678def rob(self, nums: List[int]) -&gt; int: def robber(nums): last = now = 0 for num in nums: last, now = now, max(last+num, now) return now return max(robber(nums[:-1]), robber(nums[len(nums)!=1:])) 303. Range Sum Query - Immutableç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè®¡ç®—ç´¢å¼•i, jä¹‹é—´çš„å’Œã€‚åŽŸé¢˜12345Given nums = [-2, 0, 3, -5, 2, -1]sumRange(0, 2) -&gt; 1sumRange(2, 5) -&gt; -1sumRange(0, 5) -&gt; -3 æ€è·¯ï¼šå¦‚æžœå•çº¯é‡‡ç”¨åˆ‡ç‰‡è®¡ç®—ï¼Œæ•ˆçŽ‡è¿‡ä½Žï¼Œé¢˜ä¸­è¦æ±‚sumRangeè°ƒç”¨å¤šæ¬¡ã€‚æ‰€ä»¥è¿™é‡Œé‡‡ç”¨åŠ¨æ€è§„åˆ’ã€‚ 12345678910111213class NumArray: def __init__(self, nums): # self.sum_item = [0] # for num in nums: # self.sum_item.append(self.sum_item[-1] + num) from itertools import accumulate from operator import add self.sum_item = list(accumulate(nums, add)) def sumRange(self, i, j): # return self.sum_item[j+1] - self.sum_item[i] return self.sum_item[j] - self.sum_item[i-1] if i &gt; 0 else self.sum_item[j] 91. Decode Wayså°†æ•°å­—ç¿»è¯‘æˆå­—æ¯æœ‰å¤šå°‘ç§æ–¹å¼ã€‚åŽŸé¢˜123Input: &quot;226&quot;Output: 3Explanation: It could be decoded as &quot;BZ&quot; (2 26), &quot;VF&quot; (22 6), or &quot;BBF&quot; (2 2 6). 123456789def numDecodings(self, s: str) -&gt; int: # w tells the number of ways # v tells the previous number of ways # d is the current digit # p is the previous digit v, w, p = 0, int(s&gt;''), '' for d in s: v, w, p = w, int(d&gt;'0')*w + (9&lt;int(p+d)&lt;27)*v, d return w 62. Unique Pathsä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä»Žå·¦ä¸Šèµ°åˆ°å³ä¸‹æœ‰å¤šå°‘ç§ä¸åŒèµ°æ³•ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹ç§»åŠ¨ã€‚åŽŸé¢˜ æ–¹æ³•ä¸€ï¼šæž„å»ºäºŒç»´çŸ©é˜µã€‚ 12345678910def uniquePaths(self, m: int, n: int) -&gt; int: g = [[0] * m for _ in range(n)] for i in range(n): for j in range(m): if i==0 or j==0: g[i][j] = 1 else: g[i][j] = g[i-1][j] + g[i][j-1] return g[-1][-1] æ–¹æ³•äºŒï¼šäºŒç»´æ•°ç»„æ—¶æ²¡æœ‰å¿…è¦çš„ï¼Œä»”ç»†è§‚å¯Ÿå‘çŽ°æ¯å±‚éƒ½æ˜¯ç´¯è®¡çš„å…³ç³»ï¼Œaccumulateä¸ºæ­¤è€Œç”Ÿã€‚ 123[1, 1, 1, 1, 1, 1, 1][1, 2, 3, 4, 5, 6, 7][1, 3, 6, 10, 15, 21, 28] 12345def uniquePaths(self, m: int, n: int) -&gt; int: row = [1] * m for _ in range(n-1): row = itertools.accumulate(row) return list(row)[-1] 63. Unique Paths IIå’Œ62ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ä¸­é—´åŠ äº†éšœç¢1ã€‚åŽŸé¢˜1234567Input:[ [0,0,0], [0,1,0], [0,0,0]]Output: 2 æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ï¼Œè¿™é‡Œé‡‡ç”¨å…ˆéåŽ†ä¸€æ¬¡è®°å½•éšœç¢ï¼Œç„¶åŽåˆå§‹åŒ–é¦–è¡Œå’Œé¦–åˆ—ï¼Œæœ€åŽå†æ±‚è§£çš„è¿‡ç¨‹ã€‚ 123456789101112131415161718192021222324252627282930def uniquePathsWithObstacles(self, g: List[List[int]]) -&gt; int: R, C = len(g), len(g[0]) for i in range(R): for j in range(C): if g[i][j] == 1: g[i][j] = -1 for i in range(R): if g[i][0] != -1: g[i][0] = 1 else: break for j in range(C): if g[0][j] != -1: g[0][j] = 1 else: break for i in range(1, R): for j in range(1, C): if g[i][j] == -1: continue else: up = g[i-1][j] if g[i-1][j]!=-1 else 0 left = g[i][j-1] if g[i][j-1]!=-1 else 0 g[i][j] = up + left # print(g) return g[-1][-1] if g[-1][-1] != -1 else 0 æ–¹æ³•äºŒï¼šæƒ³é”™äº†ä¸€ä»¶äº‹æƒ…ï¼Œæˆ‘æ ¹æœ¬ä¸éœ€è¦åŽ»å•ç‹¬çš„è®¾ç½®éšœç¢å€¼ï¼Œåœ¨éåŽ†çš„æ—¶å€™å°±å¯ä»¥æ ¹æ®0æ¥åˆ¤æ–­ã€‚ 123456789101112131415161718def uniquePathsWithObstacles(self, g: List[List[int]]) -&gt; int: R, C = len(g), len(g[0]) if g[0][0] == 1: return 0 g[0][0] = 1 for i in range(1, C): g[0][i] = int(g[0][i-1]==1 and g[0][i]==0) for j in range(1, R): g[j][0] = int(g[j-1][0]==1 and g[j][0]==0) for i in range(1, R): for j in range(1, C): if g[i][j] == 0: g[i][j] = g[i-1][j] + g[i][j-1] else: g[i][j] = 0 return g[-1][-1] 120. Triangleä¸‰è§’å½¢ä»Žä¸Šåˆ°ä¸‹æœ€å°è·¯å¾„ã€‚åŽŸé¢˜1234567[ [2], [3,4], [6,5,7], [4,1,8,3]]i.e., 2 + 3 + 5 + 1 = 11 æ–¹æ³•ä¸€ï¼šæˆ‘è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªåµŒå¥—çš„å­—å…¸ä¿å­˜æ¯ä¸€è¡Œçš„ç´¯è®¡æœ€å°å€¼ã€‚ 12345678910def minimumTotal(self, t: List[List[int]]) -&gt; int: if not t: return 0 from collections import defaultdict dp = defaultdict(lambda: defaultdict(lambda: float('inf'))) dp[0][0] = t[0][0] for i, row in enumerate(t[1:], 1): for j, num in enumerate(row): dp[i][j] = min(dp[i-1][j-1], dp[i-1][j]) + t[i][j] return min(dp[len(t)-1].values()) æ–¹æ³•äºŒï¼šåœ¨åŽŸæ•°ç»„ä¸Šä¿®æ”¹ï¼Œç©ºé—´å¤æ‚åº¦O(1). 1234567891011121314def minimumTotal(self, t: List[List[int]]) -&gt; int: if not t: return 0 for i, row in enumerate(t[1:], 1): for j, num in enumerate(row): # if j == 0: # t[i][j] = t[i-1][j] + t[i][j] # elif j == len(row)-1: # t[i][j] = t[i-1][j-1] + t[i][j] # else: # t[i][j] = min(t[i-1][j-1], t[i-1][j]) + t[i][j] path = slice(max(0, j-1), min(len(t[i-1]), j+1)) t[i][j] += min(t[i-1][path]) return min(t[-1]) æ–¹æ³•ä¸‰ï¼šé”™ä½ç›¸åŠ å¤§æ³•ã€‚ 1234567def minimumTotal(self, triangle: List[List[int]]) -&gt; int: from functools import reduce def combine_rows(lower_row, upper_row): return [upper + min(lower_left, lower_right) for upper, lower_left, lower_right in zip(upper_row, lower_row, lower_row[1:])] return reduce(combine_rows, triangle[::-1])[0] 931. Minimum Falling Path Sumå’Œ120ç›¸ä¼¼ï¼Œä¸è¿‡å½¢çŠ¶å˜æˆäº†çŸ©å½¢ã€‚åŽŸé¢˜1234Input: [[1,2,3],[4,5,6],[7,8,9]]Output: 12Explanation: The possible falling paths are: æ–¹æ³•ä¸€ï¼šå¸¸è§„å†™æ³•ã€‚ 1234567def minFallingPathSum(self, A: List[List[int]]) -&gt; int: R, C = len(A), len(A[0]) for i in range(R-2, -1, -1): for j in range(C): path = slice(max(0, j-1), min(C, j+2)) A[i][j] += min(A[i+1][path]) return min(A[0]) æ–¹æ³•äºŒï¼šé”™ä½è®¡ç®—çš„æ–¹å¼ï¼Œè¿™ä¸ªæ¯”120ä¸‰è§’å½¢çš„è¦å¤æ‚ä¸€ç‚¹ã€‚éœ€è¦å¡«å……æ— ç©·å¤§æ¥ä½¿ç”Ÿæ•ˆã€‚ 12345678def minFallingPathSum(self, A: List[List[int]]) -&gt; int: from functools import reduce padding = [float('inf')] def combine_rows(lower_row, upper_row): return [upper + min(lower_left, lower_mid, lower_right) for upper, lower_left, lower_mid, lower_right in zip(upper_row, lower_row[1:]+padding, lower_row, padding+lower_row[:-1])] return min(reduce(combine_rows, A[::-1])) 279. Perfect Squareså®Œç¾Žå¹³æ–¹ï¼Œæ‰¾å‡ºnçš„æœ€å°‘çš„èƒ½è¢«å‡ ä¸ªå¹³æ–¹æ•°ç›¸åŠ ã€‚åŽŸé¢˜123Input: n = 13Output: 2Explanation: 13 = 4 + 9. f(n)è¡¨ç¤ºnæœ€å°‘çš„ä¸ªæ•°ã€‚f(n)=min(f(n-1Â²), f(n-2Â²)...f(0)) + 1 12345678class Solution: _dp = [0] def numSquares(self, n: int) -&gt; int: dp = self._dp while len(dp) &lt;= n: # dp.append(min(dp[len(dp)-i*i] for i in range(1, int(len(dp)**0.5+1))) + 1) dp.append(min(dp[-i*i] for i in range(1, int(len(dp)**0.5+1))) + 1) return dp[n] 5. Longest Palindromic Substringæœ€é•¿å›žæ–‡å­å­—ç¬¦ä¸²ã€‚åŽŸé¢˜123Input: &quot;babad&quot;Output: &quot;bab&quot;Note: &quot;aba&quot; is also a valid answer. æ–¹æ³•ä¸€ï¼šO(nÂ²)çš„æ–¹æ³•ã€‚éžå¸¸ä½Žæ•ˆçš„ä¸€ä¸ªåšæ³•ã€‚ 123456789101112131415161718def longestPalindrome(self, s: str) -&gt; str: def helper(i, j): while i &gt;=0 and j &lt; len(s) and s[i]==s[j]: i -= 1 j += 1 return s[i+1:j] # å› ä¸ºi, jæ˜¯ä¸ç›¸ç­‰çš„ã€‚ # ans = '' # for i, c in enumerate(s): # tmp = helper(i, i) # if len(tmp) &gt; len(ans): # ans = tmp # tmp = helper(i, i+1) # if len(tmp) &gt; len(ans): # ans = tmp # return ans return s and max((a for i in range(len(s)) for a in (helper(i, i), helper(i, i+1))), key=len) or '' æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•å¾ˆå¥½ã€‚ä»Žå‰åˆ°åŽéåŽ†å­—ç¬¦ï¼Œä¸€ç§æ˜¯å¥‡æ•°é•¿åº¦çš„å›žæ–‡ä¸²ï¼Œæ˜¯å¢žåŠ ä¸¤ä¸ªé•¿åº¦ï¼Œå¦ä¸€ç§æ˜¯å¶æ•°é•¿åº¦çš„å›žæ–‡ä¸²ï¼Œæ˜¯å¢žåŠ ä¸€ä¸ªé•¿åº¦ã€‚æ¯æ¬¡ä»Žå½“å‰å­—ç¬¦å‘å‰åšåˆ‡ç‰‡ï¼Œå¹¶æ ¹æ®å½“å‰çš„æœ€å¤§é•¿åº¦æŽ§åˆ¶åˆ‡ç‰‡é•¿åº¦ã€‚ 12345678910111213141516def longestPalindrome(self, s: str) -&gt; str: if not s: return '' maxLen = 1 start = 0 for i in range(len(s)): if i-maxLen&gt;=1 and s[i-maxLen-1:i+1]==s[i-maxLen-1:i+1][::-1]: start = i - maxLen - 1 maxLen += 2 continue if i-maxLen&gt;=0 and s[i-maxLen:i+1]==s[i-maxLen:i+1][::-1]: # print(s[i-maxLen:i+1], s[i-maxLen:i+1][::-1]) start = i - maxLen maxLen += 1 return s[start:start+maxLen] æ–¹æ³•ä¸‰ï¼šé©¬æ‹‰è½¦ç®—æ³•ã€‚Time: O(n). ç®—æ³•è¯¦è§£ã€‚è¿™é‡Œæ˜¯æŠŠä¸€äº›æƒ…å†µåšäº†æ•´åˆã€‚æ•´ä¸ªä»£ç éžå¸¸ä¼˜é›…ã€‚ 12345678910111213141516171819202122def longestPalindrome(self, s: str) -&gt; str: # Transform S into T. # For example, S = "abba", T = "^#a#b#b#a#$". # ^ and $ signs are sentinels appended to each end to avoid bounds checking T = '#'.join('^&#123;&#125;$'.format(s)) n = len(T) P = [0] * n C = R = 0 for i in range (1, n-1): P[i] = (R &gt; i) and min(R - i, P[2*C - i]) # equals to i' = C - (i-C) # Attempt to expand palindrome centered at i while T[i + 1 + P[i]] == T[i - 1 - P[i]]: P[i] += 1 # If palindrome centered at i expand past R, # adjust center based on expanded palindrome. if i + P[i] &gt; R: C, R = i, i + P[i] # Find the maximum element in P. maxLen, centerIndex = max((n, i) for i, n in enumerate(P)) return s[(centerIndex - maxLen)//2: (centerIndex + maxLen)//2]]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Dynamic Programming</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆå­—ç¬¦ä¸²ç¯‡ï¼‰String]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87%EF%BC%89String%2F</url>
    <content type="text"><![CDATA[14. Longest Common Prefixè¿”å›žæœ€é•¿å…¬å…±å‰ç¼€å­—ç¬¦ä¸²ã€‚åŽŸé¢˜ 12Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]Output: &quot;fl&quot; 123456def longest_common_prefix(strs): if not strs: return '' from itertools import takewhile max_pre_len = len(list(takewhile(lambda x: len(set(x))==1, zip(*strs)))) return strs[0][:max_pre_len] 20. Valid Parenthesesåˆ¤æ–­æ‹¬å·æ˜¯å¦æˆå¯¹å‡ºçŽ°ï¼Œå¹¶ä¸”åµŒå¥—æ­£ç¡®ã€‚åŽŸé¢˜ 1234Input: &quot;()[]&#123;&#125;&quot;Output: trueInput: &quot;&#123;[]&#125;&quot;Output: true 12345678910111213def is_valid(s): pairs = &#123;')': '(', '&#125;': '&#123;', ']': '['&#125; stack = [] for paren in s: if paren in pairs.values(): stack.append(paren) elif paren in pairs.keys(): if stack == [] or stack.pop() != pairs[paren]: return False else: return False return stack == [] 921. Minimum Add to Make Parentheses Validç»™å®šä¸€ä¸ªåªåŒ…å«å°æ‹¬å·çš„å­—ç¬¦ä¸²ã€‚è¿”å›žéœ€è¦å¤šå°‘ä¸ªâ€(â€œæˆ–â€)â€ä½¿å…¶æˆä¸ºå®Œæ•´çš„æ‹¬å·è¡¨è¾¾å¼ã€‚åŽŸé¢˜12345678Input: &quot;())&quot;Output: 1Input: &quot;()))((&quot;Output: 4Input: &quot;()&quot;Output: 0Input: &quot;(((&quot;Output: 3 æ–¹æ³•ä¸€ï¼šå¹³è¡¡é—®é¢˜ã€‚ 12345678def minAddToMakeValid(self, S: str) -&gt; int: ans = bal = 0 for symbol in S: bal += 1 if symbol=='(' else -1 if bal == -1: ans += 1 bal += 1 return ans + bal 28. Implement strStr()å®žçŽ°indexã€‚åŽŸé¢˜12Input: haystack = &quot;hello&quot;, needle = &quot;ll&quot;Output: 2 12345678def str_index(haystack, needle): h = len(haystack) n = len(needle) for i in range(h-n+1): if haystack[i:i+n] == needle: return i else: return -1 38. Count and SayåŽŸé¢˜123451. 12. 113. 214. 12115. 111221 123456def countAndSay(self, n: int) -&gt; str: ans = '1' for _ in range(n-1): ans = ''.join(str(len(list(c)))+d for d, c in itertools.groupby(ans)) return ans 443. String Compressionå­—ç¬¦ä¸²åŽ‹ç¼©ï¼Œå®žé™…æ˜¯è¦å°†é‡å¤çš„å­—ç¬¦ä¸²ä»¥ä¸ªæ•°æ¥è¡¨ç¤ºã€‚è¦æ±‚O(1)ç©ºé—´å¤æ‚åº¦ï¼Œå°±åœ°ä¿®æ”¹åŽŸæ•°ç»„ã€‚åŽŸé¢˜æ€è·¯ï¼šçœ‹ä¸ŠåŽ»å’Œ38é¢˜å·®ä¸å¤šï¼Œä½†æ˜¯æœ‰äº›ä¸åŒï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºŽå¦‚æžœä¸ªæ•°ä¸º1ï¼Œåˆ™ä¸æ˜¾ç¤ºã€‚ä¸ªæ•°ä¸ºä¸¤ä½æ•°ï¼Œè¦æ˜¾ç¤ºä¸¤ä¸ªå…ƒç´ ã€‚ 123456Input = [&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]Output = [&quot;a&quot;,&quot;2&quot;,&quot;b&quot;,&quot;2&quot;,&quot;c&quot;,&quot;3&quot;]Input = [&quot;a&quot;]Output = [&quot;a&quot;]Input = [&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;]Output = [&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;2&quot;] 123456789101112def compress(self, chars: List[str]) -&gt; int: anchor, write = 0, 0 # anchorä¸ºæ¯ç»„è¿žç»­çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚ for r, char in enumerate(chars): if r == len(chars)-1 or char != chars[r+1]: chars[write] = chars[anchor] write += 1 if r &gt; anchor: for digit in str(r - anchor + 1): chars[write] = digit write += 1 anchor = r + 1 return write 125. Valid PalindromeéªŒè¯å›žæ–‡å­—ç¬¦ä¸²ï¼Œåªåˆ¤æ–­å­—æ¯æ•°å­—ï¼Œå¿½ç•¥å¤§å°å†™ã€‚åŽŸé¢˜12Input: &quot;A man, a plan, a canal: Panama&quot;Output: true æ–¹æ³•ä¸€ï¼šåˆ‡ç‰‡ 123def is_palindrome(s): s_alnum = filter(str.isalnum, s.lower()) return s_alnum == s_alnum[::-1] æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ 1234567def is_palindrome(s): s_alnum = list(filter(str.isalnum, s.lower())) mid = len(s_alnum) // 2 for i in range(mid): if s_alnum[i] != s_alnum[-i-1]: return False return True 680. Valid Palindrome IIéªŒè¯æ˜¯å¦æ˜¯å›žæ–‡æ•°ï¼ŒåªåŒ…å«å°å†™å­—æ¯ï¼Œä½†æ˜¯å…è®¸æœ€å¤šåŽ»æŽ‰ä¸€ä¸ªå­—æ¯ä¹‹åŽæ˜¯å›žæ–‡æ•°ã€‚åŽŸé¢˜123Input: &quot;abca&quot;Output: TrueExplanation: You could delete the character &apos;c&apos;. æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æƒ³çš„æ–¹æ³•ã€‚åˆ‡ç‰‡ç”±äºŽå¯èƒ½i=0ï¼Œæ‰€ä»¥å¿…é¡»ååºåˆ‡ç‰‡å†å€’ç½®ã€‚ 12345678910111213141516171819def validPalindrome(self, s): i, res = self.is_palindrome(s) if res: return True else: _, s1 = self.is_palindrome(s[:i]+s[i+1:]) left = slice(0, -i-1) right = slice(-1, -i-1, -1) _, s2 = self.is_palindrome(s[left]+s[right][::-1]) return s1 or s2 def is_palindrome(self, s): mid = len(s) // 2 # print(s) for i in range(mid): if s[i] != s[-i-1]: # print('&#123;&#125; [&#123;&#125;] != [&#123;&#125;]'.format(s, s[i], s[-i-1])) return i, False return None, True æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆæ–¹æ³•ã€‚ 12345678def validPalindrome(self, s): l, r = 0, len(s)-1 while l &lt; r: if s[l] != s[r]: one, two = s[l:r], s[l+1:r+1] return one==one[::-1] or two==two[::-1] l, r = l+1, r-1 return True æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒè§£æ³•ï¼Œç•™å‘ã€‚ 151. Reverse Words in a Stringå€’ç½®ä¸€å¥è¯ä¸­çš„å•è¯ã€‚åŽŸé¢˜12Input: &quot;the sky is blue&quot;,Output: &quot;blue is sky the&quot;. 12def reverse_words(s): return ' '.join(s.split()[::-1]) 344. Reverse Stringå€’ç½®å­—ç¬¦ä¸²ã€‚åŽŸé¢˜12Input: &quot;A man, a plan, a canal: Panama&quot;Output: &quot;amanaP :lanac a ,nalp a ,nam A&quot; 123456def reverse_str(s): n = len(s) res = list(s) for i in range(n//2): res[i], res[-i-1] = res[-i-1], res[i] return ''.join(res) 242. Valid AnagraméªŒè¯å›žæ–‡æž„è¯æ³•ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç”±åŒæ ·ä¸ªæ•°çš„å­—ç¬¦ç»„æˆã€‚åŽŸé¢˜12Input: s = &quot;anagram&quot;, t = &quot;nagaram&quot;Output: true æ–¹æ³•ä¸€ï¼š sort 12def is_anagram(s, t): return sorted(s) == sorted(t) æ–¹æ³•äºŒï¼šCounter 12345def is_anagram(s, t): from collections import Counter c1 = Counter(s) c2 = Counter(t) return c1 == c2 438. Find All Anagrams in a Stringæ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å›žæ–‡æž„è¯ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæœ‰ä¸ªå°åœ°æ–¹æ³¨æ„å°±æ˜¯ï¼Œå¦‚æžœè®¡æ•°ä¸º0è¦åˆ é™¤ï¼Œå¦åˆ™ç­‰å¼å°†ä¸æˆç«‹ã€‚ 1234567891011121314def findAnagrams(self, s, p): from collections import Counter ns, np = len(s), len(p) cur_c = Counter(s[:np-1]) c_p = Counter(p) res = [] for i in range(np-1, ns): cur_c[s[i]] += 1 if cur_c == c_p: res.append(i-np+1) cur_c[s[i-np+1]] -= 1 if cur_c[s[i-np+1]] == 0: del cur_c[s[i-np+1]] return res 3. Longest Substring Without Repeating Charactersæœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼Œæžœç„¶è¶…æ—¶äº†ã€‚ 1234567def lengthOfLongestSubstring(self, s): max_len, n = 0, len(s) for i in range(n): for j in range(i+1, n+1): if len(s[i:j]) == len(set(s[i:j])): max_len = max(max_len, len(s[i:j])) return max_len æ–¹æ³•äºŒï¼šæ‰¾åˆ°é‡å¤å€¼æ—¶ï¼Œæ›´æ–°startçš„å€¼ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨maxï¼Œå› ä¸ºstartæœ‰å¯èƒ½å¤§äºŽdic[s[end]]+1ï¼Œæ¯”å¦‚å½“s=&#39;abba&#39;ï¼Œendèµ°åˆ°æœ€åŽçš„æ—¶å€™ï¼Œä¸Šä¸€æ¬¡startå› ä¸ºbåšäº†æ›´æ–°å˜ä¸ºäº†2ã€‚ 12345678910def lengthOfLongestSubstring(self, s): res, start = 0, 0 dic = &#123;&#125; for end in range(len(s)): if s[end] in dic: start = max(start, dic[s[end]]+1) # start = dic[s[end]] + 1 dic[s[end]] = end res = max(res, end-start+1) return res ä¹Ÿå¯ä»¥æŠŠmaxåˆ¤æ–­æ”¾åˆ°æ¡ä»¶é‡Œã€‚ 12345678910def lengthOfLongestSubstring(self, s): res, start = 0, 0 dic = &#123;&#125; for end in range(len(s)): if s[end] in dic and start &lt;= dic[s[end]]: start = dic[s[end]] + 1 else: res = max(res, end-start+1) dic[s[end]] = end return res 387. First Unique Character in a Stringè¿”å›žç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ã€‚åŽŸé¢˜1234s = &quot;leetcode&quot;return 0.s = &quot;loveleetcode&quot;,return 2. Time-O(N), Space-O(N)ã€‚æš‚æ—¶æ²¡å‘çŽ°æ›´å¿«çš„ç®—æ³•äº†ã€‚ 1234567def firstUniqChar(self, s): from collections import Counter c = Counter(s) for i, ch in enumerate(s): if c[ch] == 1: return i return -1 58. Length of Last Wordè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ç©ºæ ¼åˆ†å‰²ï¼Œç„¶åŽè¿”å›žæœ€åŽä¸€ä¸ªå•è¯çš„é•¿åº¦ï¼Œç©ºä¸²ä¸ç®—ã€‚åŽŸé¢˜123456s = &quot;Hello World&quot;return 5s = &quot;a &quot;return 1s = &quot; &quot;return 0 æ–¹æ³•ä¸€ï¼šç›´è§‚çš„æ–¹æ³•ã€‚ 123456def lengthOfLastWord(self, s): ss = s.split(' ') for ch in ss[::-1]: if ch: return len(ch) return 0 æ–¹æ³•äºŒï¼šä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œç†è®ºä¸Šæ—¶é—´å¤æ‚åº¦æ¯”ä¸Šè¿°æ–¹æ³•ç¨å¾®é«˜ä¸€ç‚¹ï¼Œä¸è¿‡å®žé™…æ—¶é—´å·®ä¸å¤šï¼Œä¼°è®¡æ˜¯list comprehensionåšäº†ä¼˜åŒ–ã€‚ 123def lengthOfLastWord(self, s): ss =[x for x in s.split(' ') if x] return len(ss[-1]) if ss else 0 205. Isomorphic Stringsåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ä¸€æ ·çš„å½¢å¼ã€‚så’Œté•¿åº¦ä¸€æ ·ã€‚åŽŸé¢˜12345678Input: s = &quot;egg&quot;, t = &quot;add&quot;Output: trueInput: s = &quot;foo&quot;, t = &quot;bar&quot;Output: falseInput: s = &quot;paper&quot;, t = &quot;title&quot;Output: true æ–¹æ³•ä¸€ï¼šä½¿ç”¨dictä¿å­˜æ¯ä¸ªå­—æ¯çš„ä½ç½®ã€‚è¿™é‡Œä½¿ç”¨äº†OrderedDictä¿å­˜äº†valuesçš„é¡ºåºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨sortedå¯¹valuesæŽ’åºã€‚æœ€åŽè¯´æ˜Žä¸€ä¸‹åœ¨Python3ä¸­éœ€è¦ä½¿ç”¨listæ ¼å¼åŒ–ä¸€ä¸‹ï¼Œå› ä¸ºvalues()è¿”å›žä¸€ä¸ªdict_valueså¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡å¦‚æžœç›´æŽ¥ä½¿ç”¨==åˆ¤æ–­ï¼Œä¼šè¿”å›žFalseï¼Œå³ä½¿æœ‰ç›¸åŒçš„å€¼ï¼Œè¿™é‡Œè¿˜ä¸æ¸…æ¥šå†…éƒ¨çš„__eq__æ–¹æ³•æ˜¯å¦‚ä½•å®žçŽ°çš„ã€‚è€Œåœ¨Python2ä¸­å¯ä»¥ç›´æŽ¥æ¯”è¾ƒã€‚ 12345678def isIsomorphic(self, s, t): from collections import OrderedDict d1, d2 = OrderedDict(), OrderedDict() for i, val in enumerate(s): d1[val] = d1.get(val, []) + [i] for i, val in enumerate(t): d2[val] = d2.get(val, []) + [i] return list(d1.values()) == list(d2.values()) æ–¹æ³•äºŒï¼šä½¿ç”¨zipå¹¶è¡Œè¾“å‡ºã€‚ 12&gt;&gt;&gt; list(zip('paper', 'title'))[('p', 't'), ('a', 'i'), ('p', 't'), ('e', 'l'), ('r', 'e')] 12def isIsomorphic(self, s, t): return len(set(zip(s, t))) == len(set(s)) == len(set(t)) æ–¹æ³•ä¸‰ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ¯ä¸ªä½ç½®çš„å­—ç¬¦ï¼Œç¬¬ä¸€æ¬¡å‡ºçŽ°çš„indexæ˜¯å¦ç›¸åŒã€‚ 123def isIsomorphic(self, s, t): # return [s.find(i) for i in s] == [t.find(j) for j in t] return list(map(s.find, s)) == list(map(t.find, t)) 290. Word PatternåŒ¹é…å­—ç¬¦ä¸²å’Œç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç›¸åŒå½¢å¼ï¼Œæ­¤é¢˜å’Œä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œåªä¸è¿‡å°†å…¶ä¸­ä¸€ä¸ªæ¢æˆäº†æ•°ç»„ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯é•¿åº¦ä¸ä¸€å®šç›¸ç­‰ã€‚åŽŸé¢˜12Input: pattern = &quot;abba&quot;, str = &quot;dog cat cat dog&quot;Output: true 1234def wordPattern(self, pattern, str): s = pattern t = str.split() return list(map(s.find, s)) == list(map(t.index, t)) 12345def wordPattern(self, pattern, str): s = pattern t = str.split() return len(set(zip(s, t))) == len(set(s)) == len(set(t)) \ and len(s) == len(t) 917. Reverse Only Letterså€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯ã€‚åŽŸé¢˜12345Input: &quot;ab-cd&quot;Output: &quot;dc-ba&quot;Input: &quot;a-bC-dEf-ghIj&quot;Output: &quot;j-Ih-gfE-dCba&quot; æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨l &lt;= rä½œä¸ºæ¡ä»¶ï¼Œå› ä¸ºä¼šæ‰“ä¹±æ­£ç¡®ç»“æžœçš„æŽ’åºã€‚è¾“å‡º&quot;dcb-a&quot;ã€‚ 123456789101112def reverseOnlyLetters(self, S): l, r = 0, len(S)-1 res = list(S) while l &lt; r: while l&lt;r and not res[l].isalpha(): l += 1 while l&lt;r and not res[r].isalpha(): r -= 1 res[l], res[r] = res[r], res[l] l += 1 r -= 1 return ''.join(res) 345.Reverse Vowels of a Stringå€’ç½®ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚åŽŸé¢˜1234Example 2:Input: &quot;leetcode&quot;Output: &quot;leotcede&quot; æ–¹æ³•ä¸€ï¼šå’Œ917é¢˜ä¸€æ ·ï¼Œæ¢æ±¤ä¸æ¢è¯ã€‚åªéœ€å®šä¹‰ä¸€ä¸ªvowels={&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;}ç„¶åŽæ¡ä»¶æ”¹æˆwhile l&lt;r and res[l].lower() not in vowels:ï¼Œæäº¤äº†ä¸€ä¸‹beatæœ‰68%å·¦å³ï¼Œåº”è¯¥è¿˜æœ‰æ›´æ•ˆçŽ‡çš„æ–¹æ³•ã€‚ æ–¹æ³•äºŒï¼šæ”¹äº†ä¸€ä¸‹ï¼Œä¸å†ä½¿ç”¨loweræ–¹æ³•äº†ï¼ŒæŠŠå¤§å†™å­—æ¯åŠ ä¸Šï¼Œbeatå˜ä¸º99.88%ã€‚ 12345678910111213def reverseVowels(self, s): l, r = 0, len(s)-1 vowels = set(list('aeiouAEIOU')) res = list(s) while l &lt; r: while l&lt;r and res[l] not in vowels: l += 1 while l&lt;r and res[r] not in vowels: r -= 1 res[l], res[r] = res[r], res[l] l += 1 r -= 1 return ''.join(res) æ–¹æ³•ä¸‰ï¼šæ­£åˆ™ 1234def reverseVowels(self, s): vowels = re.findall('(?i)[aeiou]', s) # (?i)è¡¨ç¤ºå¿½ç•¥å¤§å°å†™ # replå‚æ•°æ¯æ¬¡è¿”å›žä¸€ä¸ªå€¼ï¼Œç”¨æ¥æ›¿æ¢såŒ¹é…patternçš„å­—ç¬¦ã€‚ return re.sub('(?i)[aeiou]', lambda m: vowels.pop(), s) 383. Ransom Noteåˆ¤æ–­æ˜¯å¦magazineå¯ä»¥æž„æˆransomNoteã€‚åŽŸé¢˜123canConstruct(&quot;a&quot;, &quot;b&quot;) -&gt; falsecanConstruct(&quot;aa&quot;, &quot;ab&quot;) -&gt; falsecanConstruct(&quot;aa&quot;, &quot;aab&quot;) -&gt; true æ–¹æ³•ä¸€ï¼šä½¿ç”¨countã€‚ 12345def canConstruct(self, ransomNote, magazine): for item in set(ransomNote): if magazine.count(item) &lt; ransomNote.count(item): return False return True æ–¹æ³•äºŒï¼šone-liner. 123def canConstruct(self, ransomNote, magazine): return all(ransomNote.count(char) &lt;= magazine.count(char) for char in set(ransomNote)) æ–¹æ³•ä¸‰ï¼šCounterã€‚æ—¶é—´å¤æ‚åº¦æ¯”äºŒç¨é«˜ã€‚ 123def canConstruct(self, ransomNote, magazine): from collections import Counter return not Counter(ransomNote) - Counter(magazine) 925. Long Pressed Nameè¯´æœ‰è¿™ä¹ˆä¸€ä¸ªç ´é”®ç›˜ï¼Œè€æ˜¯è¿žé”®ï¼Œæœ‰æ—¶å€™æ‰“ä¸€ä¸ªå­—æ¯cï¼Œå‡ºæ¥å¥½å‡ ä¸ªã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²å’Œæ‰“å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯è¿™ä¸ªç ´é”®ç›˜è¾“å‡ºçš„ã€‚åŽŸé¢˜1234567Input: name = "alex", typed = "aaleex"Output: trueExplanation: 'a' and 'e' in 'alex' were long pressed.Input: name = "saeed", typed = "ssaaedd"Output: falseExplanation: 'e' must have been pressed twice, but it wasn't in the typed output. æ€è·¯ï¼šä¸€å¼€å§‹è¿˜æƒ³ç”¨Counterï¼ŒåŽæ¥å‘çŽ°ä¸å¯¹ï¼Œå› ä¸ºå®ƒå°†æ‰€æœ‰çš„ä¸€æ ·çš„å­—ç¬¦èšåˆåˆ°äº†ä¸€èµ·ã€‚æ‰€ä»¥æ­¤é¢˜å¯ä»¥ä½¿ç”¨groupby 1234567891011def isLongPressedName(self, name, typed): from itertools import groupby name_groups = [(ch, len(list(g))) for ch, g in groupby(name)] typed_groups = [(ch, len(list(g))) for ch, g in groupby(typed)] if len(typed_groups) &lt; len(name_groups): return False for i in range(len(name_groups)): if typed_groups[i][0] != name_groups[i][0] or \ typed_groups[i][1] &lt; name_groups[i][1]: return False return True æ–¹æ³•äºŒï¼šç®€å•çš„å†™æ³•ã€‚ 12345678def isLongPressedName(self, name: str, typed: str) -&gt; bool: ngroups = itertools.groupby(name) tgroups = itertools.groupby(typed) for (nl, nc), (tl, tc) in itertools.zip_longest( ngroups, tgroups, fillvalue=('~', [])): if nl != tl or len(list(nc)) &gt;len(list(tc)): return False return True 929. Unique Email Addressesç»Ÿè®¡ä¸åŒçš„emailåœ°å€ã€‚åŽŸé¢˜123456789def numUniqueEmails(self, emails): res = set() for email in emails: local, domain = email.split('@') if '+' in local: local = local[:local.index('+')] local = local.replace('.', '') res.add((local, domain)) return len(res) 409. Longest Palindromeç»™ä½ ä¸€å †å­—ç¬¦ä¸²ï¼Œè¿”å›žç”¨å®ƒç»„æˆçš„æœ€é•¿çš„å›žæ–‡ä¸²çš„é•¿åº¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ‰€æœ‰çš„å­—ç¬¦ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæ¯å¯¹ä¸€æ ·çš„æ•°å­—å¯ä»¥æ”¾åœ¨ä¸¤è¾¹æ¥ç»„æˆå›žæ–‡ã€‚ 1234567def longestPalindrome(self, s): from collections import Counter c = Counter(s) res = 0 for count in c.values(): res += count // 2 return res*2 + (len(s) &gt; res*2) æ–¹æ³•äºŒï¼šä»Žå¥‡æ•°çš„è§’åº¦è€ƒè™‘ã€‚ 1234def longestPalindrome(self, s): from collections import Counter odds = sum(v &amp; 1 for v in Counter(s).values()) return len(s) - odds + bool(odds) # å¦‚æžœæœ‰å¥‡æ•°ï¼Œæ€»èƒ½å°†å…¶æ”¾åˆ°ä¸­é—´ 434. Number of Segments in a Stringç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªä»¥ç©ºæ ¼åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šTime-O(n), Space-O(1) 123456def countSegments(self, s): segment_count = 0 for i in range(len(s)): if (i == 0 or s[i-1] == ' ') and s[i] != ' ': segment_count += 1 return segment_count æ–¹æ³•äºŒï¼š 12def countSegments(self, s): return len(s.split()) 500. Keyboard Rowè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›žå­—ç¬¦åœ¨é”®ç›˜åŒä¸€è¡Œçš„å­—ç¬¦ä¸²ã€‚åŽŸé¢˜12Input: [&quot;Hello&quot;, &quot;Alaska&quot;, &quot;Dad&quot;, &quot;Peace&quot;]Output: [&quot;Alaska&quot;, &quot;Dad&quot;] 1234567891011class Solution: def findWords(self, words): self.first = &#123;'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'&#125; self.second = &#123;'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'&#125; self.third = &#123;'Z', 'X', 'C', 'V', 'B', 'N', 'M'&#125; return list(filter(self.same_line, words)) def same_line(self, word): return set(word.upper()) &lt;= set(self.first) or \ set(word.upper()) &lt;= set(self.second) or \ set(word.upper()) &lt;= set(self.third) 520. Detect Capitalåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å†™æ˜¯å¦ä½¿ç”¨æ­£ç¡®ã€‚è¦ä¹ˆå…¨å¤§å†™ï¼Œè¦ä¹ˆå…¨å°å†™ï¼Œæˆ–è€…é¦–å­—æ¯å¤§å†™ã€‚åŽŸé¢˜12Input: &quot;USA&quot;Output: True æ–¹æ³•ä¸€ï¼šå¤ªç®€å•äº†ï¼Œä¸€ä¸‹å­å°±å†™å‡ºæ¥äº†ï¼Œçœ‹è¯„è®ºå±…ç„¶å¥½å¤šäººä¸çŸ¥é“istitleã€‚ 12def detectCapitalUse(self, word): return word.islower() or word.isupper() or word.istitle() 541. Reverse String IIæŒ‰ç…§2kçš„é•¿åº¦åˆ’åˆ†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŠŠå…¶ä¸­æ¯æ®µå‰kä¸ªå­—ç¬¦å€’ç½®ã€‚åŽŸé¢˜12Input: s = &quot;abcdefg&quot;, k = 2Output: &quot;bacdfeg&quot; æ–¹æ³•ä¸€ï¼šæ¯”è¾ƒç®€å•çš„ä¸€é¢˜ï¼Œä½¿ç”¨Pythonçš„åˆ‡ç‰‡ã€‚ 12345678def reverseStr(self, s, k): letters = list(s) n = len(letters) # for i in range(n//(2*k)+1): # letters[2*k*i:k+2*k*i] = reversed(letters[2*k*i:k+2*k*i]) for i in range(0, n, 2*k): letters[i:k+i] = reversed(letters[i:k+i]) return ''.join(letters) 551. Student Attendance Record Iåˆ¤æ–­ä¸€ä¸ªå­¦ç”Ÿæ˜¯å¦æœ‰å¥–åŠ±ï¼Œç¼ºå¸­æ¬¡æ•°å°äºŽç­‰äºŽä¸€å¤©ï¼Œæ²¡æœ‰ä¸‰æ¬¡è¿žç»­çš„è¿Ÿåˆ°ã€‚åŽŸé¢˜12Input: &quot;PPALLP&quot;Output: True 12def checkRecord(self, s): return s.count('A')&lt;= 1 and 'LLL' not in s 557. Reverse Words in a String IIIå€’ç½®ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯ã€‚æ‰€æœ‰å•è¯å‡å·²ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚åŽŸé¢˜12Input: &quot;Let&apos;s take LeetCode contest&quot;Output: &quot;s&apos;teL ekat edoCteeL tsetnoc&quot; 12def reverseWords(self, s): return ' '.join([word[::-1] for word in s.split()]) 657. Robot Return to Originæœºå™¨äººæ˜¯å¦èƒ½å›žåˆ°åŽŸç‚¹ã€‚â€™UDLRâ€™åˆ†åˆ«è¡¨ç¤ºä¸Šä¸‹å·¦å³ï¼Œæ¯æ¬¡ç§»åŠ¨çš„è·ç¦»ä¸€æ ·ã€‚åŽŸé¢˜123Input: &quot;UD&quot;Output: true Explanation: The robot moves up once, and then down once. All moves have the same magnitude, so it ended up at the origin where it started. Therefore, we return true. æ–¹æ³•ä¸€ï¼šå°±æ˜¯çœ‹ä¸Šä¸‹å’Œå·¦å³çš„æ¬¡æ•°æ˜¯å¦ä¸€æ ·ã€‚æ­¤é¢˜è¿‡äºŽç®€å•ã€‚ 123def judgeCircle(self, moves): return moves.count('L') == moves.count('R') and \ moves.count('U') == moves.count('D') 1234def judgeCircle(self, moves): from collections import Counter c = Counter(moves) return c['U'] == c['D'] and c['L'] == c['R'] 696. Count Binary SubstringsäºŒè¿›åˆ¶å­—ç¬¦ä¸²è®¡æ•°ï¼Œæœ‰å¤šå°‘ä¸ªè¿žç»­çš„å­å­—ç¬¦ä¸²ï¼Œç”±ç›¸åŒçš„0å’Œ1ç»„æˆï¼Œå¦‚â€™10â€™ï¼Œâ€™1100â€™ã€‚åŽŸé¢˜1234567Input: &quot;00110011&quot;Output: 6Explanation: There are 6 substrings that have equal number of consecutive 1&apos;s and 0&apos;s: &quot;0011&quot;, &quot;01&quot;, &quot;1100&quot;, &quot;10&quot;, &quot;0011&quot;, and &quot;01&quot;.Notice that some of these substrings repeat and are counted the number of times they occur.Also, &quot;00110011&quot; is not a valid substring because all the 0&apos;s (and 1&apos;s) are not grouped together. æ–¹æ³•ä¸€ï¼šæ­£åˆ™è¦æ¯”groupbyå¿«. 12345def countBinarySubstrings(self, s): from itertools import groupby # groups = [len(list(v)) for _, v in groupby(s)] groups = list(map(len, re.findall('0+|1+', s))) return sum(min(a, b) for a, b in zip(groups, groups[1:])) æ–¹æ³•äºŒï¼šå˜é‡ï¼Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦ã€‚ 123456789def countBinarySubstrings(self, s): res, prev, cur = 0, 0, 1 for i in range(1, len(s)): if s[i] != s[i-1]: res += min(prev, cur) prev, cur = cur, 1 else: cur += 1 return res + min(prev, cur) 709. To Lower Caseå®žçŽ°å­—ç¬¦ä¸²çš„loweræ–¹æ³•ã€‚åŽŸé¢˜12Input: &quot;Hello&quot;Output: &quot;hello&quot; 123def toLowerCase(self, str): return ''.join(chr(ord(c)+32) if 65&lt;=ord(c)&lt;=90 else c for c in str) 771. Jewels and Stonesåˆ¤æ–­Sé‡Œæœ‰å¤šå°‘ä¸ªåœ¨Jé‡Œï¼ŒJä¸ºä¸é‡å¤å…ƒç´ ã€‚åŽŸé¢˜12Input: J = &quot;aA&quot;, S = &quot;aAAbbbb&quot;Output: 3 æ–¹æ³•ä¸€ï¼šä½¿ç”¨set. 123def numJewelsInStones(self, J: 'str', S: 'str') -&gt; 'int': jewels = set(J) return sum(s in jewels for s in S) æ–¹æ³•äºŒï¼šcount. countçš„å€¼åªä¼šæ˜¯0å’Œ1ï¼Œå› ä¸ºJæ²¡æœ‰é‡å¤å…ƒç´ ã€‚ç”±äºŽè¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥åè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·ã€‚ 123def numJewelsInStones(self, J: 'str', S: 'str') -&gt; 'int': # return sum(map(J.count, S)) return sum(map(S.count, J)) 784. Letter Case Permutationå­—æ¯ç»„åˆï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„å­—æ¯å¯å¤§å†™å¯å°å†™ï¼Œè¿”å›žæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²ã€‚åŽŸé¢˜123456789Examples:Input: S = &quot;a1b2&quot;Output: [&quot;a1b2&quot;, &quot;a1B2&quot;, &quot;A1b2&quot;, &quot;A1B2&quot;]Input: S = &quot;3z4&quot;Output: [&quot;3z4&quot;, &quot;3Z4&quot;]Input: S = &quot;12345&quot;Output: [&quot;12345&quot;] æ–¹æ³•ä¸€ï¼šæå–å­—æ¯ï¼Œç„¶åŽformatã€‚ 1234567def letterCasePermutation(self, S: 'str') -&gt; 'List[str]': letters = ''.join(x for x in S if x.isalpha()) s = re.sub(r'[A-Za-z]', '&#123;&#125;', S) ans = [''] for l in letters: ans = [pre+x for pre in ans for x in (l.lower(), l.upper())] return [s.format(*f) for f in ans] æ–¹æ³•äºŒï¼šä¸€å¼€å§‹è¢«é¢˜ç›®è¯¯å¯¼äº†ï¼Œä»¥ä¸ºæ˜¯æŽ’åˆ—ï¼ŒåŽæ¥æƒ³åˆ°äº†ç¬›å¡å°”ä¹˜ç§¯ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°å¯ä»¥è¿™æ ·å†™ã€‚ 1234def letterCasePermutation(self, S: 'str') -&gt; 'List[str]': L = ((s.lower(), s.upper()) if s.isalpha() else s for s in S) # [('a', 'A'), '1', ('b', 'B'), '2'] return [''.join(c) for c in itertools.product(*L)] 788. Rotated Digitså¯æ—‹è½¬çš„æ•°å­—ï¼Œè¯´æŠŠä¸€ä¸ªæ•°çš„æ‰€æœ‰æ•°å­—æ—‹è½¬180åº¦ï¼Œæ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ•°å­—ã€‚å¹¶ä¸”å’ŒåŽŸæ¥ä¸åŒã€‚ç»™å®šä¸€ä¸ªNï¼Œè¿”å›ž1~Næ‰€æœ‰è¿™æ ·çš„æ•°çš„ä¸ªæ•°ã€‚åŽŸé¢˜123456Example:Input: 10Output: 4Explanation: There are four good numbers in the range [1, 10] : 2, 5, 6, 9.Note that 1 and 10 are not good numbers, since they remain unchanged after rotating. 12345def rotatedDigits(self, N: 'int') -&gt; 'int': changed = &#123;'2', '5', '6', '9'&#125; valid = changed | &#123;'0', '1', '8'&#125; return sum(bool(set(str(i))&lt;=valid and set(str(i))&amp;changed) for i in range(1, N+1)) 796. Rotate Stringåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²Aæ˜¯å¦å¯ä»¥æ—‹è½¬æˆBã€‚åŽŸé¢˜1234567Example 1:Input: A = &apos;abcde&apos;, B = &apos;cdeab&apos;Output: trueExample 2:Input: A = &apos;abcde&apos;, B = &apos;abced&apos;Output: false æ–¹æ³•ä¸€ï¼šBrute Force. Time: O(NÂ²), Space: O(NÂ²). 12345def rotateString(self, A: 'str', B: 'str') -&gt; 'bool': for k in range(len(A)): if A[-k:] + A[:-k] == B: return True return False if A else A==B æ–¹æ³•äºŒï¼šTime O(NÂ²). Space O(N). 12def rotateString(self, A: 'str', B: 'str') -&gt; 'bool': return len(A)==len(B) and B in A*2 æ–¹æ³•ä¸‰ï¼šKMPç®—æ³•ã€‚ç•™å‘ã€‚ æ–¹æ³•å››ï¼šRolling Hashç®—æ³•ã€‚ç•™å‘ã€‚ 804. Unique Morse Code Wordsä¸é‡å¤çš„èŽ«æ–¯å¯†ç ï¼Œç»™å®šä¸€å¥è¯ï¼Œæ±‚ä¸é‡å¤çš„å•è¯çš„èŽ«æ–¯å¯†ç ä¸ªæ•°ã€‚åŽŸé¢˜1234567891011Example:Input: words = [&quot;gin&quot;, &quot;zen&quot;, &quot;gig&quot;, &quot;msg&quot;]Output: 2Explanation: The transformation of each word is:&quot;gin&quot; -&gt; &quot;--...-.&quot;&quot;zen&quot; -&gt; &quot;--...-.&quot;&quot;gig&quot; -&gt; &quot;--...--.&quot;&quot;msg&quot; -&gt; &quot;--...--.&quot;There are 2 different transformations, &quot;--...-.&quot; and &quot;--...--.&quot;. 1234567def uniqueMorseRepresentations(self, words: 'List[str]') -&gt; 'int': codes = [".-","-...","-.-.","-..",".","..-.","--.","....","..",".---","-.-",".-..","--","-.","---",".--.","--.-",".-.","...","-","..-","...-",".--","-..-","-.--","--.."] # morse = dict(zip(string.ascii_lowercase, codes)) # seen = &#123;''.join(morse[c] for c in word) for word in words&#125; seen = &#123;''.join(codes[ord(c)-ord('a')] for c in word) for word in words&#125; return len(seen) 806. Number of Lines To Write Stringå•è¯æ¢è¡Œï¼Œå·²çŸ¥æ¯ä¸ªå­—æ¯çš„å®½åº¦ï¼Œæ¯100ä¸€æ¢è¡Œï¼Œå†™ä¸ä¸‹ä¸€ä¸ªå­—æ¯æ—¶ï¼Œæ¢è¡Œï¼Œæœ€ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šå°‘è¡Œå’Œæœ«å°¾è¡Œçš„å®½åº¦ã€‚åŽŸé¢˜12345678Example :Input: widths = [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]S = &quot;abcdefghijklmnopqrstuvwxyz&quot;Output: [3, 60]Explanation: All letters have the same length of 10. To write all 26 letters,we need two full lines and one line with 60 units. 123456789def numberOfLines(self, widths: 'List[int]', S: 'str') -&gt; 'List[int]': width = dict(zip(string.ascii_letters, widths)) lines, line = 1, 0 for s in S: if line + width[s] &gt; 100: lines += 1 line = 0 line += width[s] return lines, line 819. Most Common Wordæœ€å¸¸è§çš„å•è¯ï¼Œä»Žè¾“å…¥çš„æ®µè½ä¸­æ‰¾åˆ°å‡ºçŽ°é¢‘çŽ‡æœ€é«˜å¹¶ä¸”ä¸åœ¨bannedåˆ—è¡¨ä¸­çš„å•è¯ã€‚åŽŸé¢˜12345678910Input: paragraph = &quot;Bob hit a ball, the hit BALL flew far after it was hit.&quot;banned = [&quot;hit&quot;]Output: &quot;ball&quot;Explanation: &quot;hit&quot; occurs 3 times, but it is a banned word.&quot;ball&quot; occurs twice (and no other word does), so it is the most frequent non-banned word in the paragraph. Note that words in the paragraph are not case sensitive,that punctuation is ignored (even if adjacent to words, such as &quot;ball,&quot;), and that &quot;hit&quot; isn&apos;t the answer even though it occurs more because it is banned. æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹å†™çš„æ–¹æ³•ã€‚ 12345678def mostCommonWord(self, paragraph: 'str', banned: 'List[str]') -&gt; 'str': words = re.split(r'[!?\',;. ]', paragraph.lower()) c = collections.Counter(words) banned = set(banned) for word, count in c.most_common(): if word and word not in banned: return word return '' æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•çš„ä¼˜åŒ–ã€‚ 12345def mostCommonWord(self, paragraph: 'str', banned: 'List[str]') -&gt; 'str': words = re.findall(r'\w+', paragraph.lower()) banset = set(banned) return collections.Counter( (w for w in words if w not in banset)).most_common(1)[0][0] 821. Shortest Distance to a Characteræ ¹æ®å·²çŸ¥å­—ç¬¦ä¸²S, æ±‚ç›®æ ‡å­—ç¬¦Cå’Œå·¦å³indexæœ€è¿‘çš„è·ç¦»ã€‚åŽŸé¢˜12Input: S = &quot;loveleetcode&quot;, C = &apos;e&apos;Output: [3, 2, 1, 0, 1, 0, 0, 1, 2, 2, 1, 0] æ–¹æ³•ä¸€ï¼šå‰åŽéåŽ†ä¸¤æ¬¡ï¼Œåˆ†åˆ«æ±‚è·ç¦»ã€‚æœ¬æƒ³é€šè¿‡ä¸€æ¬¡ï¼Œç»“æžœå®žçŽ°è¿‡äºŽç¹çã€‚ 12345678def shortestToChar(self, S: 'str', C: 'str') -&gt; 'List[int]': n = len(S) ans = [0 if x == C else n for x in S] pos = -n for i in list(range(n)) + list(range(n)[::-1]): if ans[i] == 0: pos = i ans[i] = min(ans[i], abs(pos-i)) return ans 824. Goat Latinå±±ç¾Šæ‹‰ä¸å£éŸ³ï¼ŒæŠŠä¸€å¥è¯ä¸­çš„æ¯ä¸ªå•è¯æ ¹æ®è§„åˆ™ï¼Œç”Ÿæˆä¸€å¥æ–°çš„è¯ã€‚åŽŸé¢˜12Input: &quot;The quick brown fox jumped over the lazy dog&quot;Output: &quot;heTmaa uickqmaaa rownbmaaaa oxfmaaaaa umpedjmaaaaaa overmaaaaaaa hetmaaaaaaaa azylmaaaaaaaaa ogdmaaaaaaaaaa&quot; 123456789def toGoatLatin(self, S: 'str') -&gt; 'str': vowels = set('aeiouAEIOU') words = [] for i, word in enumerate(S.split(), start=1): if word[0] not in vowels: word = word[1:] + word[0] word += 'ma'+'a'*i words.append(word) return ' '.join(words) 844. Backspace String Compareé€€æ ¼é”®å­—ç¬¦ä¸²æ¯”è¾ƒã€‚æ¯”è¾ƒä¸¤ä¸ªå¸¦æœ‰é€€æ ¼#çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æœ€åŽè¾“å‡ºæ˜¯å¦ä¸€è‡´ã€‚åŽŸé¢˜123Input: S = &quot;ab#c&quot;, T = &quot;ad#c&quot;Output: trueExplanation: Both S and T become &quot;ac&quot;. æ–¹æ³•ä¸€ï¼šé¦–å…ˆæƒ³åˆ°stack. 123456789101112def backspaceCompare(self, S: 'str', T: 'str') -&gt; 'bool': def type_text(s): stack = [] for c in s: if c != '#': stack.append(c) elif stack: stack.pop() return stack return type_text(S) == type_text(T) æ–¹æ³•äºŒï¼štwo pointers. Space Complexity: O(1). 12345678910111213def backspaceCompare(self, S: 'str', T: 'str') -&gt; 'bool': def type_c(s): skip = 0 for x in reversed(s): if x == '#': skip += 1 elif skip: skip -= 1 else: yield x return all(x==y for x, y in itertools.zip_longest(type_c(S), type_c(T))) æ–¹æ³•ä¸‰ï¼šè¿™ä¸ªæ–¹æ³•ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œç†è®ºä¸Šæ•ˆçŽ‡ä¸é«˜ï¼Œä½†å®žé™…ä¸Šä¹Ÿå¹¶æ— å·®åˆ«ã€‚ä½¿ç”¨reduceç„¶åŽåˆ‡ç‰‡åŽ»æŽ‰ä¸Šæ¬¡ç»“æžœçš„æœ«å°¾å…ƒç´ ã€‚æœ€åŽä¸€ä¸ªç©ºä¸²çš„å‚æ•°è¡¨æ˜Žäº†ä¸€ä¸ªåˆå§‹åŒ–å‚æ•°ã€‚å¦‚æžœæ²¡æœ‰å®ƒï¼Œ#a#cçš„ç»“æžœä¼šå˜æˆ#cã€‚å› ä¸ºç¬¬ä¸€æ¬¡å¾ªçŽ¯ç›¸å½“äºŽback(&#39;#&#39;, &#39;a&#39;)æ‰€ä»¥ç¬¬ä¸€ä¸ª#ä¼šä¸€ç›´ä¿ç•™ã€‚ 1234def backspaceCompare(self, S: 'str', T: 'str') -&gt; 'bool': from functools import reduce back = lambda res, c: res[:-1] if c == '#' else res + c return reduce(back, S, '') == reduce(back, T, '') æŸ¥çœ‹æ–‡æ¡£ä¸­reduceå®žçŽ°ï¼š 123456789def reduce(function, iterable, initializer=None): it = iter(iterable) if initializer is None: value = next(it) else: value = initializer for element in it: value = function(value, element) return value 859. Buddy Stringså¥½å‹å­—ç¬¦ä¸²ã€‚æŒ‡Aé€šè¿‡ä¸€æ¬¡äº¤æ¢ä¸¤ä¸ªå­—ç¬¦å˜æˆBã€‚åˆ¤æ–­æ˜¯å¦æ˜¯å¥½å‹å­—ç¬¦ä¸²ã€‚åŽŸé¢˜1234Input: A = &quot;ab&quot;, B = &quot;ba&quot;Output: trueInput: A = &quot;ab&quot;, B = &quot;ab&quot;Output: false æ–¹æ³•ä¸€ï¼šBrute Force. æ•ˆçŽ‡å¾ˆä½Žã€‚ 12345678910111213def buddyStrings(self, A: 'str', B: 'str') -&gt; 'bool': if len(A) != len(B) or set(A) != set(B): return False seen = set() for i in range(len(A)): if A[i] not in seen: seen.add(A[i]) else: continue for j in range(i+1, len(A)): if A[:i] + A[j] + A[i+1:j] + A[i] + A[j+1:] == B: return True return False æ–¹æ³•äºŒï¼šæ­¤é¢˜åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯A==Bï¼Œæ­¤æ—¶åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤å…ƒç´ ï¼›å¦ä¸€ç§æ‰¾åˆ°ä¸ç›¸ç­‰çš„å¯¹ï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€å¯¹ã€‚ç»“å°¾len(pairs)çš„åˆ¤æ–­è™½ç„¶æ˜¾å¾—æœ‰äº›é‡å¤ï¼Œä¸è¿‡å¯ä»¥åœ¨æŸäº›æƒ…å†µæå‰é€€å‡ºæé«˜æ•ˆçŽ‡ï¼Œæ‰€ä»¥æ²¡æœ‰å†™æˆåˆ—è¡¨ç”Ÿæˆå¼çš„å½¢å¼ã€‚ 1234567891011def buddyStrings(self, A: 'str', B: 'str') -&gt; 'bool': if len(A) != len(B): return False if A == B: return len(A) != len(set(A)) else: pairs = [] for a, b in zip(A, B): if a != b: pairs.append((a, b)) if len(pairs) &gt;= 3: return False return len(pairs) == 2 and pairs[0] == pairs[1][::-1] 893. Groups of Special-Equivalent Stringsç‰¹æ®Šç­‰ä»·å­—ç¬¦ä¸²ç»„ã€‚è¿™é¢˜Contestå°±æ²¡åšå‡ºæ¥ï¼Œæè¿°æœ‰é—®é¢˜ï¼Œè®¨è®ºåŒºä¸€å †dissçš„è¯„è®ºã€‚æ€»çš„æ¥è¯´å°±æ˜¯æŠŠAçš„å­—ç¬¦ä¸²åˆ†ç»„ï¼Œèƒ½å¤Ÿæ”¹å˜å¶æ•°ä½çš„å­—ç¬¦ï¼Œæˆ–å¥‡æ•°ä½çš„å­—ç¬¦èƒ½ä½¿ä¹‹ç›¸ç­‰çš„ä¸ºä¸€ç»„ï¼Œæ±‚ä¸€å…±æœ‰å¤šå°‘ä¸ªç»„ã€‚åŽŸé¢˜1234567891011Input: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;c&quot;,&quot;c&quot;]Output: 3Explanation: 3 groups [&quot;a&quot;,&quot;a&quot;], [&quot;b&quot;], [&quot;c&quot;,&quot;c&quot;,&quot;c&quot;]Input: [&quot;abc&quot;,&quot;acb&quot;,&quot;bac&quot;,&quot;bca&quot;,&quot;cab&quot;,&quot;cba&quot;]Output: 3Explanation: 3 groups [&quot;abc&quot;,&quot;cba&quot;], [&quot;acb&quot;,&quot;bca&quot;], [&quot;bac&quot;,&quot;cab&quot;]Input: [&quot;abcd&quot;,&quot;cdab&quot;,&quot;adcb&quot;,&quot;cbad&quot;]Output: 1Explanation: 1 group [&quot;abcd&quot;,&quot;cdab&quot;,&quot;adcb&quot;,&quot;cbad&quot;] æ–¹æ³•ä¸€ï¼šæ•°ç»„ä¿ç•™ç´¢å¼•ã€‚ 12345678def numSpecialEquivGroups(self, A: 'List[str]') -&gt; 'int': def count(A): ans = [0] * 52 for i, letter in enumerate(A): ans[ord(letter) - ord('a') + 26 * (i%2)] += 1 return tuple(ans) return len(&#123;count(word) for word in A&#125;) æ–¹æ³•äºŒï¼šåˆ‡ç‰‡å­—ç¬¦ä¸²æŽ’åºã€‚ 123def numSpecialEquivGroups(self, A: 'List[str]') -&gt; 'int': return len(&#123;''.join(sorted(s[0::2])) + ''.join(sorted(s[1::2])) for s in A&#125;) 1003. Check If Word Is Valid After Substitutionsåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç”±abcæ— é™æ’å…¥å¾—åˆ°ã€‚åŽŸé¢˜12345Input: &quot;aabcbc&quot;Output: trueExplanation: We start with the valid string &quot;abc&quot;.Then we can insert another &quot;abc&quot; between &quot;a&quot; and &quot;bc&quot;, resulting in &quot;a&quot; + &quot;abc&quot; + &quot;bc&quot; which is &quot;aabcbc&quot;. 12345678def isValid(self, S: str) -&gt; bool: while len(S) &gt;= 3: if 'abc' in S: i = S.index('abc') S = S[:i] + S[i+3:] else: return False return S == '' 17. Letter Combinations of a Phone Numberç”µè¯çš„æ•°å­—å¯ä»¥ç»„æˆçš„å­—ç¬¦ä¸²ç»„åˆã€‚åŽŸé¢˜12Input: &quot;23&quot;Output: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;]. æ–¹æ³•ä¸€ï¼šrecursive. 123456789101112def letterCombinations(self, digits: str) -&gt; List[str]: phone = &#123;'2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl', '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'&#125; if not digits: return [] def helper(digits): if not digits: return [''] return [c + suffix for c in phone[digits[0]] for suffix in helper(digits[1:])] return helper(digits) æ–¹æ³•äºŒï¼šä½¿ç”¨productã€‚ 12345def letterCombinations(self, digits: str) -&gt; List[str]: phone = &#123;'2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl', '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'&#125; from itertools import product return digits and list(map(''.join, product(*(phone[d] for d in digits)))) or [] æ–¹æ³•ä¸‰ï¼šå®žçŽ°productã€‚ 12345678def letterCombinations(self, digits: str) -&gt; List[str]: phone = &#123;'2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl', '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'&#125; ans = [''] letters = (phone[d] for d in digits) for key in letters: ans = [x+char for x in ans for char in key] return digits and ans or [] æ–¹æ³•å››ï¼šè¯„è®ºé‡Œçœ‹åˆ°çš„reduceæ–¹æ³•ã€‚ 123456def letterCombinations(self, digits: str) -&gt; List[str]: from functools import reduce phone = &#123;'2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl', '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'&#125; if not digits: return [] return reduce(lambda acc, digit: [x + y for x in acc for y in phone[digit]], digits, ['']) æ–¹æ³•äº”ï¼šSolutionä¸­çš„å›žæº¯æ³•ã€‚ 1234567891011121314def letterCombinations(self, digits: str) -&gt; List[str]: phone = &#123;'2': 'abc', '3': 'def', '4': 'ghi', '5': 'jkl', '6': 'mno', '7': 'pqrs', '8': 'tuv', '9': 'wxyz'&#125; def backtrack(combination, digits): if not digits: ans.append(combination) else: for letter in phone[digits[0]]: backtrack(combination + letter, digits[1:]) ans = [] if digits: backtrack('', digits) return ans 1023. Binary String With Substrings Representing 1 To NäºŒè¿›åˆ¶å­ä¸²ï¼Œä»Ž1åˆ°Nã€‚åŽŸé¢˜12Input: S = &quot;0110&quot;, N = 3Output: true æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ã€‚ 12def queryString(self, S: str, N: int) -&gt; bool: return all(bin(n)[2:] in S for n in range(1, N+1)) æ–¹æ³•äºŒï¼šå¯¹äºŽä»»æ„çš„i&lt;N/2çš„æ•°i*2çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸€å®šåŒ…å«iã€‚å› ä¸ºå·¦ç§»ä¸€ä½ã€‚ 12def queryString(self, S: str, N: int) -&gt; bool: return all(bin(n)[2:] in S for n in range(N, N//2, -1)) 482. License Key Formattingæ ¹æ®è¦æ±‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚åŽŸé¢˜12Input: S = &quot;5F3Z-2e-9-w&quot;, K = 4Output: &quot;5F3Z-2E9W&quot; æ–¹æ³•ä¸€ï¼šä½¿ç”¨å†…ç½®æ–¹æ³•ã€‚ 123def licenseKeyFormatting(self, S: str, K: int) -&gt; str: s = S.replace('-', '').upper()[::-1] return '-'.join(s[i:i+K] for i in range(0, len(s), K))[::-1] æ–¹æ³•äºŒï¼šå®Œæ•´å®žçŽ°ã€‚one-pass. 12345678def licenseKeyFormatting(self, S: str, K: int) -&gt; str: s = S.replace('-', '').upper() ans, n = '', len(s) f = n % K ans += s[:f] for i in range(f, n, K): ans += '-' + s[i:i+K] return ans.strip('-')]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ•°å­¦ç¯‡ï¼‰Math]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E5%AD%A6%E7%AF%87%EF%BC%89Math%2F</url>
    <content type="text"><![CDATA[7. Reverse Integerå€’ç½®ä¸€ä¸ªæ•´æ•°ï¼Œ æ­¤ç­”æ¡ˆå¿½ç•¥äº†åŽŸé¢˜ä¸­çš„èŒƒå›´åˆ¤æ–­ã€‚åŽŸé¢˜12Input: -123Output: -321 æ–¹æ³•ä¸€ï¼šstr 12345def reverse_int(x): if x &gt;= 0: return int(str(x)[::-1]) else: return -int(str(x)[:0:-1]) æ–¹æ³•äºŒï¼šmath 1234567def reverse(self, x: int) -&gt; int: sign = 1 if x &gt;= 0 else -1 ans, tail = 0, abs(x) while tail: ans = ans*10 + tail%10 tail //= 10 return ans * sign if ans &lt; 2**31 else 0 9. Palindrome Numberåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›žæ–‡æ•°ï¼Œè¿™é‡ŒæŠŠè´Ÿæ•°è®¤ä¸ºæ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šstr 12def is_palindrome(x): return str(x) == str(x)[::-1] æ–¹æ³•äºŒï¼šmath 123456def is_palindrome(x): l, r = x, 0 while l &gt; 0: r = r*10 + l%10 l //= 10 return r == x 13. Roman to Integerç½—é©¬æ•°å­—è½¬æ¢æ•´åž‹ã€‚åŽŸé¢˜12345678910def roman_to_int(s): roman = &#123;'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000&#125; total = 0 for i in range(len(s)): if i == len(s)-1 or roman[s[i]] &gt;= roman[s[i+1]] total += roman[s[i]] else: total -= roman[s[i]] return total 69. Sqrt(x)å®žçŽ°å¼€æ–¹ï¼Œè¿”å›žæ•´æ•°éƒ¨åˆ†ã€‚åŽŸé¢˜1234Input: 8Output: 2Explanation: The square root of 8 is 2.82842..., and since the decimal part is truncated, 2 is returned. ç‰›é¡¿è¿­ä»£æ³• 12345def my_sqrt(x): r = x while r**2 &gt; x: r = (r+x//r) // 2 return r 367. Valid Perfect Squareåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æŸä¸ªæ•°çš„å¹³æ–¹ã€‚åŽŸé¢˜12Input: 16Output: true æ–¹æ³•ä¸€ï¼šç‰›é¡¿è¿­ä»£æ³•ã€‚åŒ69ã€‚ 12345def isPerfectSquare(self, num): r = num while r**2 &gt; num: r = (r + num // r) // 2 return r**2 == num 171. Excel Sheet Column Numberexcelè¡¨æ ¼åˆ—è¡¨æ•°å­—è½¬æ¢ï¼ŒäºŒåå…­è¿›åˆ¶ã€‚åŽŸé¢˜1234567A -&gt; 1B -&gt; 2C -&gt; 3...Z -&gt; 26AA -&gt; 27AB -&gt; 28 A -&gt; 1 123def titleToNumber(self, s: str) -&gt; int: OFFSET = ord('A')-1 return sum((ord(x)-OFFSET)*26**i for i, x in enumerate(s[::-1])) 168. Excel Sheet Column Titleexcelè½¬æ¢ï¼Œæ•°å­—è½¬å­—æ¯ã€‚åè¿›åˆ¶-&gt;26è¿›åˆ¶ã€‚åŽŸé¢˜1234567def convertToTitle(self, n): res = '' while n: res = chr((n-1)%26+65) + res # n //= 26 n = (n-1) // 26 return res 172. Factorial Trailing Zeroesæ±‚nçš„é˜¶ä¹˜æœ«å°¾æœ‰å‡ ä¸ª0ã€‚åŽŸé¢˜123Input: 5Output: 1Explanation: 5! = 120, one trailing zero. æ€è·¯ï¼šæ¯ä¸€å¯¹2å’Œ5å¯ä»¥äº§ç”Ÿä¸€ä¸ª0ï¼Œåœ¨nçš„é˜¶ä¹˜ä¸­ï¼Œ5æ¯”2å¤šï¼Œæ‰€ä»¥é—®é¢˜å˜æˆæ±‚5çš„ä¸ªæ•°ï¼Œè€Œ25è¿™ç§æ•°æœ‰ä¸¤ä¸ª5ï¼Œæ‰€ä»¥é€’å½’æ±‚è§£ 12def trailing_zeroes(n): return 0 if n == 0 else n//5 + trailing_zeroes(n//5) 204. Count Primesæ±‚å°äºŽnçš„æ•´æ•°ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªè´¨æ•°ã€‚åŽŸé¢˜123456def countPrimes(self, n): is_prime = [False]*2 + [True]*(n-2) for i in range(2, int(n ** 0.5)+1): if is_prime[i]: is_prime[i*i:n:i] = [False] * len(is_prime[i*i:n:i]) return sum(is_prime) 50. Pow(x, n)å®žçŽ°powå‡½æ•°ã€‚åŽŸé¢˜12345Input: 2.00000, 10Output: 1024.00000Input: 2.00000, -2Output: 0.25000 . è¯´æ˜Žï¼šå¸¸è§„æ–¹æ³•åœ¨Leetcode ä¸Šå†…å­˜ä¼šçˆ†æŽ‰ã€‚ 123456789101112131415161718192021class Solution(object): def myPow(self, x, n): if n &lt; 0: return 1 / self.pow_with_unsigned(x, -n) else: return self.pow_with_unsigned(x, n) def pow_with_unsigned(self, x, n): if n == 1: return x if n == 0: return 1 res = self.pow_with_unsigned(x, n &gt;&gt; 1) res *= res if n &amp; 1 == 1: res *= x return res 233. Number of Digit One1~næ•°å­—ä¸­1çš„ä¸ªæ•°ã€‚åŽŸé¢˜1234567def countDigitOne(self, n): countr, i = 0, 1 while i &lt;= n: divider = i * 10 countr += (n // divider) * i + min(max(n % divider - i + 1, 0), i) i *= 10 return countr 263. Ugly Numberåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯ä¸‘æ•°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæ ¹æ®å®šä¹‰å®žçŽ°ã€‚&lt; numæ˜¯ä¸ºäº†åˆ¤æ–­num=0çš„æƒ…å†µã€‚ 12345def isUgly(self, num): for f in 2, 3, 5: while num % f == 0 &lt; num: num //= f return num == 1 264. Ugly Number IIè¾“å‡ºç¬¬nä¸ªä¸‘æ•°ã€‚åŽŸé¢˜ä¹¦ä¸­çš„æ–¹æ³• 1234567891011121314def nthUglyNumber(self, n): q = [1] t2, t3, t5 = 0, 0, 0 for i in range(n-1): a2, a3, a5 = q[t2]*2, q[t3]*3, q[t5]*5 to_add = min(a2, a3, a5) q.append(to_add) if a2 == to_add: t2 += 1 if a3 == to_add: t3 += 1 if a5 == to_add: t5 += 1 return q[-1] 67.Add Binaryå®žçŽ°äºŒè¿›åˆ¶åŠ æ³•ã€‚åŽŸé¢˜12Input: a = &quot;11&quot;, b = &quot;1&quot;Output: &quot;100&quot; æ–¹æ³•ä¸€ï¼šæŒ‰ç…§åŠ æ³•çš„äºŒè¿›åˆ¶æ€æƒ³æ¥è®¡ç®—ï¼Œä¸è¿‡Runtimeå¤§çº¦100msã€‚åŽæ¥è¯•ç€å°†list comprehensionæ‹†æˆä¸€ä¸ªforå¾ªçŽ¯ï¼Œä¹Ÿå¹¶æ²¡æœ‰æé«˜é€Ÿåº¦ã€‚å±…ç„¶beatsåªæœ‰4%ï¼Œéš¾é“å¤§éƒ¨åˆ†äººéƒ½ç”¨çš„binã€‚è®¨è®ºåŒºç®€å•ç¿»äº†äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªé«˜æ•ˆçš„pythonicçš„æ–¹æ³•ã€‚ 1234567891011def addBinary(self, a, b): if len(a) &gt; len(b): b = b.zfill(len(a)) else: a = a.zfill(len(b)) while int(b): sum_not_carry = ''.join([str(int(a[i]) ^ int(b[i])) for i in range(len(a))]) carry = ''.join([str(int(a[i]) &amp; int(b[i])) for i in range(len(a))]) a, b = "0"+sum_not_carry, carry+'0' return a.lstrip('0') if a != '0' else '0' 202. Happy Numberåˆ¤æ–­æ˜¯å¦æ˜¯æ¬¢ä¹æ•°ã€‚è¿›è¡Œæ‰€æœ‰ä½çš„å¹³æ–¹å’Œè¿ç®—ï¼Œæœ€åŽä¸º1çš„æ˜¯æ¬¢ä¹æ•°ã€‚åŽŸé¢˜1234567Input: 19Output: trueExplanation: 1**2 + 9**2 = 828**2 + 2**2 = 686**2 + 8**2 = 1001**2 + 0**2 + 0**2 = 1 æ–¹æ³•ä¸€ï¼šæ€è·¯ï¼Œä½¿ç”¨ä¸€ä¸ªå­—å…¸æ˜ å°„0~9çš„å¹³æ–¹å€¼ï¼Œç„¶åŽå¦‚æžœæ­»å¾ªçŽ¯çš„è¯ï¼Œå„ä½æ•°çš„å’Œä¸€å®šå­˜åœ¨ç€ä¸€ç§å¾ªçŽ¯ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªsetæ¥åˆ¤æ–­æ˜¯å¦é‡å¤ã€‚ 12345678910def isHappy(self, n): squares = &#123;str(k): k**2 for k in range(0, 10)&#125; sum_digit = set() while n != 1: n = sum(squares[digit] for digit in str(n)) if n in sum_digit: return False else: sum_digit.add(n) return True 231. Power of Twoåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯2çš„næ¬¡æ–¹ã€‚æ€è·¯ä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªæ•°çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯å¦åªæœ‰ä¸€ä¸ªâ€™1â€™ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šå¯ä»¥ç”¨ä½œé€šç”¨æ–¹æ³•ã€‚ 12345def isPowerOfTwo(self, n, power=2): if n == 0: return False while n % power == 0: n //= power return n == 1 æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶ç»Ÿè®¡1ã€‚ 12def isPowerOfTwo(self, n): return n &gt; 0 and bin(n).count('1') == 1 æ–¹æ³•ä¸‰ï¼šå¦‚æžœä¸€ä¸ªæ•°nçš„äºŒè¿›åˆ¶åªæœ‰ä¸€ä¸ª1ï¼Œé‚£ä¹ˆn&amp;(n-1)ä¸€å®šä¸º0ã€‚ 12def isPowerOfTwo(self, n): return n &gt; 0 and (n&amp;n-1) == 0 342. Power of Fouråˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯4çš„næ¬¡æ–¹ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä»Žç®€å•å…¥æ‰‹é€šè¿‡231é¢˜ï¼Œäº†è§£åˆ°äº†2çš„næ¬¡æ–¹ç‰¹ç‚¹æ˜¯ï¼ŒäºŒè¿›åˆ¶å½¢å¼åªæœ‰ä¸€ä¸ªâ€™1â€™ï¼Œé‚£ä¹ˆ4çš„næ¬¡æ–¹å°±æ˜¯ä¸ä½†åªæœ‰ä¸€ä¸ªâ€™1â€™ï¼ŒåŽé¢è¿˜è·Ÿäº†å¶æ•°ä¸ªâ€™0â€™ã€‚ 1234567891011def isPowerOfFour(self, num): single_1 = num &gt; 0 and not (num &amp; num-1) if single_1: while num &gt; 0: if num == 1: return True else: num &gt;&gt;= 2 return False else: return False æ–¹æ³•äºŒï¼šä¸Šè¿°ä»£ç çœ‹èµ·æ¥æ›´åƒæ˜¯javaä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨countæ¥åˆ¤æ–­0çš„ä¸ªæ•°æ˜¯å¦ä¸ºå¶æ•°ä¸ªã€‚ 123def isPowerOfFour(self, num): # return num &gt; 0 and (num &amp; num-1)==0 and bin(num)[2:].count('0')&amp;1==0 return num &gt; 0 and (num &amp; num-1)==0 and len(bin(num))&amp;1==1 æ–¹æ³•ä¸‰ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™ã€‚ 123def isPowerOfFour(self, num): import re return bool(re.match(r'^0b1(00)*$',bin(num))) 292. Nim Gameè¯´ï¼Œæœ‰è¿™ä¹ˆä¸€å †çŸ³å¤´ï¼Œä¸€æ¬¡åªèƒ½æ‹¿1~3ä¸ªï¼Œæ‹¿åˆ°æœ€åŽä¸€ä¸ªçŸ³å¤´çš„äººèŽ·èƒœã€‚æ±‚nå †çŸ³å¤´ï¼Œä½ å…ˆæ‹¿æ˜¯å¦å¯ä»¥èŽ·èƒœã€‚åŽŸé¢˜æ€è·¯ï¼šæ‰¾è§„å¾‹ï¼Œå‘çŽ°åªæœ‰æœ€åŽå‰©4ä¸ªçŸ³å¤´çš„æ—¶å€™ï¼Œæ­¤æ—¶è½®åˆ°è°ï¼Œè°è¾“ã€‚ 12def canWinNim(self, n): return n % 4 != 0 400. Nth Digitæ‰¾å‡ºæ— é™æ•´æ•°åºåˆ—ä¸­çš„ç¬¬nä¸ªæ•°å­—ã€‚åŽŸé¢˜123456Input:11Output:0Explanation:The 11th digit of the sequence 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ... is a 0, which is part of the number 10. æ€è·¯ï¼Œæ ¹æ®nçš„ä½æ•°ï¼Œå°†æ— é™åºåˆ—åˆ†ä¸ºå‡ ä¸ªèŒƒå›´ã€‚ size of n step start ~ stop 1 9 1 ~ 9 2 90 10 ~ 99 3 900 100 ~ 999 å¯»æ‰¾èŒƒå›´ã€‚å¯»æ‰¾nå¤„äºŽå“ªä¸ªèŒƒå›´ï¼Œæ˜¯1~9ï¼Œè¿˜æ˜¯10~99ï¼Œä¾‹å¦‚n=15ã€‚åˆ™éœ€è¦è·³è¿‡1~9çš„èŒƒå›´ï¼Œè€Œè¿™ä¸ªèŒƒå›´æœ‰size*stepä¸ªæ•°å­—ï¼Œæ‰€ä»¥é—®é¢˜å˜æˆåœ¨10~99èŒƒå›´ä¸Šå¯»æ‰¾ç¬¬15-1*9=6ä¸ªæ•°ã€‚ å®šä½æ•°å­—ã€‚10~99èŒƒå›´ä¸­æ˜¯ä»Ž10å¼€å§‹çš„ï¼Œæ¯ä¸€ä¸ªæ•°éƒ½æœ‰ä¸¤ä½æ•°å­—ï¼Œæ‰€ä»¥æœ€ç»ˆæ•°å­—ä¸º10+(6-1)//2ï¼Œå› ä¸ºç´¢å¼•ä»Ž0å¼€å§‹ï¼Œæ‰€ä»¥éœ€è¦-1ã€‚ å®šä½æ•°å­—çš„ä½ã€‚ä¸Šä¸€æ­¥æ‰¾åˆ°äº†æ•°å­—ä¸º12ï¼Œå¯¹sizeæ±‚ä½™å°±å¯ä»¥çŸ¥é“ï¼Œ&#39;12&#39;[(6-1)%2]=&#39;2&#39;ã€‚ 12345def findNthDigit(self, n): start, step, size = 1, 9, 1 while n &gt; size * step: n, start, step, size = n-size*step, start*10, step*10, size+1 return int(str(start + (n-1)//size)[(n-1) % size]) 415. Add Stingsç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å­—ï¼ŒæŠŠå®ƒä»¬ç›¸åŠ ï¼Œè¿™ä¸¤ä¸ªæ•°çš„é•¿åº¦å°äºŽ5100ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•BitIntegråº“æˆ–æ˜¯ç›´æŽ¥å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ã€‚ps: é¢˜ä¸­è¦æ±‚ä¸å°†è¾“å…¥ç›´æŽ¥è½¬æ¢æˆintï¼Œæ‰€ä»¥æˆ‘ä¸ªäººè®¤ä¸ºintè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆä¸­æ˜¯ä½¿ç”¨äº†ordæ¥åšè¿ç®—ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨æ ‡å‡†åº“ã€‚ 1234567891011121314151617def addStrings(self, num1, num2): if len(num1) &gt; len(num2): num2 = num2.zfill(len(num1)) else: num1 = num1.zfill(len(num2)) res, carry = '', 0 n1, n2 = len(num1)-1, len(num2)-1 while (n1 &gt;= 0 and n2 &gt;= 0) or carry: v1 = int(num1[n1]) if n1 &gt;= 0 else 0 v2 = int(num2[n2]) if n2 &gt;= 0 else 0 carry, val = divmod(v1+v2+carry, 10) res = str(val) + res n1 -= 1 n2 -= 1 return res æ–¹æ³•äºŒï¼šä½¿ç”¨zip_longestã€‚ 12345678910def addStrings(self, num1, num2): from itertools import zip_longest nums = list(zip_longest(num1[::-1], num2[::-1], fillvalue='0')) carry, res = 0, '' for digits in nums: d1, d2 = map(int, digits) carry, val = divmod(d1+d2+carry, 10) res = res + str(val) res = res if carry==0 else res+str(carry) return res[::-1] 492. Construct the Rectangleç»™å®šä¸€ä¸ªé¢ç§¯ï¼Œæ±‚ç»„æˆè¿™ä¸ªé¢ç§¯çš„é•¿é«˜å·®æœ€å°ã€‚åŽŸé¢˜1234Input: 4Output: [2, 2]Explanation: The target area is 4, and all the possible ways to construct it are [1,4], [2,2], [4,1]. But according to requirement 2, [1,4] is illegal; according to requirement 3, [4,1] is not optimal compared to [2,2]. So the length L is 2, and the width W is 2. æ–¹æ³•ä¸€ï¼šä¸€å¼€å§‹æˆ‘å±…ç„¶è¿™æ ·å†™ã€‚ç»“æžœè¶…æ—¶äº†ï¼ŒåŽæ¥å‘çŽ°L+=1ï¼Œå¾ªçŽ¯æ¬¡æ•°è¦æ¯”L-=1è¦å¤šã€‚ 12345678910def constructRectangle(self, area): import math squre = math.sqrt(area) if int(squre) == squre: return [int(squre), int(squre)] else: L = int(squre) + 1 while area % L != 0: L += 1 return [L, area//L] æ–¹æ³•äºŒï¼šæ•´ç†ä¸€ä¸‹æ€è·¯å…¶å®žå¾ˆç®€å•ï¼Œä¹‹å‰æƒ³å¤šäº†è¿˜ä»¥ä¸ºæœ‰äºŒåˆ†çš„æ–¹æ³•ã€‚é€’å‡è‚¯å®šæ˜¯ä¼šä¼˜å…ˆé€€å‡ºå¾ªçŽ¯çš„ï¼Œä½†æ˜¯æˆ‘è¿˜ä¸çŸ¥é“æ€Žä¹ˆè¯æ˜Žè¿™ä¸ªç»“è®ºã€‚ 123456def constructRectangle(self, area): import math w = int(math.sqrt(area)) while area % w != 0: w -= 1 return [area//w, w] 504. Base 710è¿›åˆ¶è½¬7è¿›åˆ¶ã€‚åŽŸé¢˜1234Input: 100Output: &quot;202&quot;Input: -7Output: &quot;-10&quot; æ–¹æ³•ä¸€ï¼šéœ€è¦æ³¨æ„è´Ÿæ•°ã€‚ 1234567def convertToBase7(self, num: int) -&gt; str: if num == 0: return '0' n, ans = abs(num), '' while n: n, val = divmod(n, 7) ans = str(val) + ans return ans if num &gt; 0 else '-'+ans 970. Powerful Integersæ±‚æ»¡è¶³x^i+y^j &lt;= boundçš„æ‰€æœ‰å’Œã€‚åŽŸé¢˜12345678910Input: x = 2, y = 3, bound = 10Output: [2,3,4,5,7,9,10]Explanation: 2 = 2^0 + 3^03 = 2^1 + 3^04 = 2^0 + 3^15 = 2^1 + 3^17 = 2^2 + 3^19 = 2^3 + 3^010 = 2^0 + 3^2 æ–¹æ³•ä¸€ï¼šè¿™é¢˜éš¾å¾—åœ°æ–¹åœ¨äºŽä¸¤ä¸ªå¾ªçŽ¯çš„ä¸´ç•Œå€¼ï¼Œè²Œä¼¼æˆ‘è¿™æ ·å†™ä¹Ÿä¸æ˜¯æœ€ä¼˜è§£ï¼ŒåŽŸé¢˜çš„Solutionä¸­ç»™å®šäº†2**18&gt;boundçš„æœ€å¤§å€¼ã€‚æ‰€ä»¥ä¸¤ä¸ªèŒƒå›´éƒ½æ˜¯18ã€‚ 123456789101112131415def powerfulIntegers(self, x, y, bound): res = set() imax = self.get_max(x, bound) + 1 jmax = self.get_max(y, bound) + 1 for i in range(imax): for j in range(jmax): if x**i + y**j &lt;= bound: res.add(x**i+y**j) return list(res) def get_max(self, n, bound): for i in range(bound//n + 1): if n ** i &gt;= bound: return i return bound//n + 1 973. K Closest Points to Originæ±‚ç¦»åŽŸç‚¹æœ€è¿‘çš„Kä¸ªåæ ‡ç‚¹ã€‚åŽŸé¢˜1234567Input: points = [[1,3],[-2,2]], K = 1Output: [[-2,2]]Explanation: The distance between (1, 3) and the origin is sqrt(10).The distance between (-2, 2) and the origin is sqrt(8).Since sqrt(8) &lt; sqrt(10), (-2, 2) is closer to the origin.We only want the closest K = 1 points from the origin, so the answer is just [[-2,2]]. æ–¹æ³•ä¸€ï¼šå¾ˆç®€å•ã€‚ 123def kClosest(self, points, K): res = sorted(points, key=lambda x: x[0]**2 + x[1]**2) return res[:K] 976. Largest Perimeter Triangleç»™å®šä¸€ä¸ªè¾¹é•¿æ•°ç»„ï¼Œæ±‚èƒ½ç»„æˆçš„ä¸‰è§’å½¢çš„æœ€é•¿å‘¨é•¿ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šè¿™ä¸ªä¹Ÿä¸éš¾ï¼Œå°±æ˜¯é•¿åº¦ä¸º3çš„æ»‘åŠ¨çª—å£ã€‚ 123456def largestPerimeter(self, A): res = sorted(A, reverse=True) for i in range(len(res)-2): if sum(res[i+1:i+3]) &gt; res[i]: return sum(res[i:i+3]) return 0 628. Maximum Product of Three Numbersæ•°ç»„ä¸­ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ã€‚å…ƒç´ èŒƒå›´[-1000, 1000]ã€‚åŽŸé¢˜12Input: [1,2,3,4]Output: 24 æ–¹æ³•ä¸€ï¼šæŽ’åºã€‚åœ¨æ­£æ•°ä¸ªæ•°å¤§äºŽç­‰äºŽ3çš„æ—¶å€™ï¼Œæ˜¾ç„¶æœ€å¤§çš„ä¸‰ä¸ªæ•°å°±å¯ä»¥äº§ç”Ÿæœ€å¤§çš„ä¹˜ç§¯ã€‚è€Œå½“æ­£æ•°ä¸ªæ•°ä¸å¤Ÿçš„æ—¶å€™ï¼Œé‚£ä¹ˆå¿…é¡»éœ€è¦ä¸¤ä¸ªæœ€å°çš„è´Ÿæ•°ï¼ˆå³ç»å¯¹å€¼æœ€å¤§ï¼‰ï¼Œå’Œä¸€ä¸ªæœ€å¤§çš„æ­£æ•°ã€‚ 123def maximumProduct(self, nums): ary = sorted(nums) return max((ary[0]*ary[1]*ary[-1], ary[-3]*ary[-2]*ary[-1])) æ–¹æ³•äºŒï¼šä½¿ç”¨heapq. 1234567def maximumProduct(self, nums): import heapq from operator import mul from functools import reduce three_max = heapq.nlargest(3, nums) two_min = heapq.nsmallest(2, nums) return max(reduce(mul, three_max), reduce(mul, two_min + three_max[:1])) 728. Self Dividing Numbersè‡ªæ•´é™¤æ•°å­—ï¼Œä¸€ä¸ªæ•°å­—èƒ½å¤Ÿè¢«æœ¬èº«çš„æ¯ä¸ªæ•°å­—æ•´é™¤ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰0ï¼Œæ±‚æŸä¸ªèŒƒå›´å†…æ‰€æœ‰çš„æ•°ã€‚åŽŸé¢˜123Input: left = 1, right = 22Output: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 15, 22] æ–¹æ³•ä¸€ï¼šBrute Force. æ­¤é¢˜å¼ºè¡Œä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼æ²¡æœ‰æ„ä¹‰ã€‚ 123456789def selfDividingNumbers(self, left, right): res = [] for i in range(left, right+1): for char in str(i): if int(char)==0 or i % int(char)!=0: break else: res.append(i) return res 836. Rectangle OverlapçŸ©å½¢æ˜¯å¦é‡å ï¼ŒçŸ©å½¢çš„è¾¹å¹³è¡ŒäºŽåæ ‡è½´ã€‚åŽŸé¢˜12Input: rec1 = [0,0,2,2], rec2 = [1,1,3,3]Output: true æ–¹æ³•ä¸€ï¼šé€šè¿‡ç”»å›¾æ‰¾å‡ºçš„è§„å¾‹ã€‚ 1234def isRectangleOverlap(self, rec1: 'List[int]', rec2: 'List[int]') -&gt; 'bool': x_overlap = (rec2[0]-rec1[2]) * (rec2[2]-rec1[0]) &lt; 0 y_overlap = (rec2[1]-rec1[3]) * (rec2[3]-rec1[1]) &lt; 0 return x_overlap and y_overlap æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€è¿˜æ˜¯æƒ³å¤æ‚äº†ã€‚ Given 2 segment (left1, right1), (left2, right2), how can we check whether they overlap?If these two intervals overlap, it should exist an number x, 123left1 &lt; x &lt; right1 &amp;&amp; left2 &lt; x &lt; right2left1 &lt; x &lt; right2 &amp;&amp; left2 &lt; x &lt; right1left1 &lt; right2 &amp;&amp; left2 &lt; right1 123def isRectangleOverlap(self, rec1: 'List[int]', rec2: 'List[int]') -&gt; 'bool': return rec2[0] &lt; rec1[2] and rec1[0] &lt; rec2[2] and \ rec2[1] &lt; rec1[3] and rec1[1] &lt; rec2[3] 991. Broken CalculatoråæŽ‰çš„è®¡ç®—å™¨ï¼Œåªèƒ½*2æˆ–è€…-1ï¼Œä½¿Xå˜ä¸ºYã€‚åŽŸé¢˜123Input: X = 5, Y = 8Output: 2Explanation: Use decrement and then double &#123;5 -&gt; 4 -&gt; 8&#125;. è§£æžï¼šå¦‚æžœä»ŽXåˆ°Yé—®é¢˜ä¼šå˜å¾—å¤æ‚ï¼Œä¸ç¡®å®šä»€ä¹ˆæ—¶å€™è¯¥*2æˆ–è€…æ˜¯-1ã€‚æ‰€ä»¥é€†å‘æ€ç»´ä»ŽYå˜æˆXã€‚ If Y &lt;= X, we wonâ€™t do Y / 2 anymore.We will increase Y until it equals to X So before that, while Y &gt; X, weâ€™ll keep reducing Y, until itâ€™s smaller than X.If Y is odd, we can do only Y = Y + 1If Y is even, if we plus 1 to Y, then Y is odd, we need to plus another 1.And because (Y + 1 + 1) / 2 = (Y / 2) + 1, 3 operations are more than 2.We always choose Y / 2 if Y is even. æ–¹æ³•ä¸€ï¼šiteratively. 123456789def brokenCalc(self, X: 'int', Y: 'int') -&gt; 'int': ans = 0 while X &lt; Y: ans += 1 if Y &amp; 1 == 1: Y += 1 else: Y //= 2 return ans + X - Y æ–¹æ³•äºŒï¼šæ–¹æ³•ä¸€å˜å½¢ã€‚å› ä¸ºå¦‚æžœYæ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆå¿…å®šåœ¨+1æ“ä½œåŽè¦/2ï¼Œè¿™é‡Œå°†å…¶åˆå¹¶ 123456789def brokenCalc(self, X: 'int', Y: 'int') -&gt; 'int': ans = 0 while X &lt; Y: ans += 1 if Y &amp; 1 == 1: Y += 1 ans += 1 Y = Y // 2 return ans + X - Y æ–¹æ³•ä¸‰ï¼šæ–¹æ³•äºŒå†å˜å½¢ï¼Œçœ‹åˆ°Yæ˜¯å¥‡æ•°æ—¶ï¼Œans + 2ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ans += (Y&amp;1) + 1è¡¨ç¤ºï¼Œè€ŒYåœ¨æ˜¯å¥‡æ•°æ—¶å…ˆ+1å†//2å³Y = (Y + 1) // 2ï¼Œå¶æ•°æ—¶Y = Y // 2ï¼Œå…¶å®žï¼Œå¯¹äºŽå¶æ•°æ¥è¯´Y=(Y+1)//2å’ŒY=Y//2ç»“æžœä¸€æ ·ã€‚æ‰€ä»¥å¯ä»¥å†™æˆã€‚ 123456def brokenCalc(self, X: 'int', Y: 'int') -&gt; 'int': ans = 0 while X &lt; Y: ans += (Y &amp; 1) + 1 Y = (Y + 1) // 2 return ans + X - Y æ–¹æ³•å››ï¼šé€’å½’å†™æ³•ã€‚Y&amp;1å¿…é¡»æ‹¬å· 12def brokenCalc(self, X: 'int', Y: 'int') -&gt; 'int': return X - Y if X &gt;= Y else 1+(Y&amp;1)+self.brokenCalc(X, (Y+1)//2) 908. Smallest Range Iç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸€ä¸ªKï¼Œæ•°ç»„é‡Œçš„æ•°åŠ ä¸Š-k&lt;=x&lt;=kçš„ä»»æ„ä¸€ä¸ªæ•°å­—åŽï¼Œæ±‚æ•°ç»„æœ€å¤§æ•°å’Œæœ€å°æ•°çš„ï¼Œæœ€å°å·®ã€‚åŽŸé¢˜123Input: A = [0,10], K = 2Output: 6Explanation: B = [2,8] 12def smallestRangeI(self, A: 'List[int]', K: 'int') -&gt; 'int': return max(max(A) - min(A) - 2*K, 0) 949. Largest Time for Given Digitsç»™å®šå››ä¸ªæ•°å­—ï¼Œè¿”å›žèƒ½ç”Ÿæˆçš„æœ€å¤§æ—¶é—´ã€‚24å°æ—¶åˆ¶ã€‚åŽŸé¢˜12Input: [1,2,3,4]Output: &quot;23:41&quot; æ–¹æ³•ä¸€ï¼šæŽ’åºã€‚ 123456def largestTimeFromDigits(self, A: 'List[int]') -&gt; 'str': p = itertools.permutations(A) for a, b, c, d in sorted(p, reverse=True): if 0 &lt;= a*10+b &lt;= 23 and 0 &lt;= 10*c+d &lt;= 59: return '&#123;&#125;&#123;&#125;:&#123;&#125;&#123;&#125;'.format(a, b, c, d) return '' 1234def largestTimeFromDigits(self, A: 'List[int]') -&gt; 'str': p = itertools.permutations(A) return max(['&#123;&#125;&#123;&#125;:&#123;&#125;&#123;&#125;'.format(*d) for d in p if d[:2] &lt; (2, 4) and d[2] &lt; 6] or ['']) 914. X of a Kind in a Deck of Cardsæœ‰è¿™æ ·ä¸€å †æ•°å­—å¡ç‰Œï¼Œé—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªX&gt;=2ï¼Œä½¿å¾—å°†åŒæ ·æ•°å­—çš„å¡ç‰Œåˆ†ä¸ºæ¯Xä¸ªä¸€ç»„ï¼Œå¹¶ä¸”åˆšå¥½æ‰€æœ‰çš„å¡ç‰Œåˆ†å®Œã€‚åŽŸé¢˜æ€è·¯ï¼šä½¿ç”¨Counteræ¥ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„ä¸ªæ•°ï¼Œç„¶åŽæ±‚è¿™äº›æ•°å­—çš„æœ€å¤§å…¬çº¦æ•°æ˜¯å¦å¤§äºŽç­‰äºŽ2ï¼Œè¿™é‡Œæ€è·¯å¡äº†ä¸€ä¸‹ï¼Œå› ä¸ºæ²¡æƒ³åˆ°æœ€å¤§å…¬çº¦æ•°å¯ä»¥é€šè¿‡reduceæ¥è®¡ç®—ï¼Œæ²¡è€ƒè™‘åˆ°æ˜¯å¯ä»¥ç´¯ç§¯çš„ã€‚ 12345def hasGroupsSizeX(self, deck): from collections import Counter from math import gcd from functools import reduce return reduce(gcd, Counter(deck).values()) &gt;= 2 470. Implement Rand10() Using Rand7()ä½¿ç”¨rand7å®žçŽ°rand10åŽŸé¢˜12Input: 3Output: [8,1,10] 12345def rand10(self): while True: x = (rand7()-1)*7 + rand7()-1 if x &lt; 40: return x%10 + 1 1006. Clumsy Factorialå°†ä¸€ä¸ªé˜¶ä¹˜çš„å¼å­ç”¨*/+-æ›¿ä»£ï¼Œç»™å‡ºç»“æžœã€‚åŽŸé¢˜123Input: 10Output: 12Explanation: 12 = 10 * 9 / 8 + 7 - 6 * 5 / 4 + 3 - 2 * 1 æ–¹æ³•ä¸€ï¼špythonæ­¤é¢˜æœ‰ä½œå¼Šçš„æ–¹æ³•ï¼Œæˆ‘çœ‹æŽ’è¡Œæ¦œä¸­å¤§ç¥žæœ‰çš„ç‰¹æ„åˆ‡åˆ°pythonåšè¿™é“é¢˜ï¼Œä¸è¿‡æ²¡æˆ‘å†™å¾—å¥½ã€‚ 1234def clumsy(self, N: int) -&gt; int: op = itertools.cycle(['*', '//', '+', '-']) return eval(''.join(str(n)+next(op) if n!=1 else str(n) for n in range(N, 0, -1))) 1022. Smallest Integer Divisible by Kæœ€å°çš„ç”±1ç»„æˆçš„èƒ½è¢«Kæ•´é™¤ã€‚åŽŸé¢˜123Input: 2Output: -1Explanation: There is no such positive integer N divisible by 2. å¦‚æžœæœ‰2æˆ–5çš„è´¨å› æ•°ï¼Œé‚£ä¹ˆä¸èƒ½æ•´é™¤ã€‚ 123456def smallestRepunitDivByK(self, K: int) -&gt; int: if K % 2 == 0 or K % 5 == 0: return -1 r = 0 for N in range(1, K + 1): r = (r * 10 + 1) % K if not r: return N 1028. Convert to Base -210è¿›åˆ¶è½¬æˆ-2è¿›åˆ¶ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šè´Ÿæ•°è¿›åˆ¶æ—¶ï¼Œå¦‚æžœä½™æ•°ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå•†+1ã€‚ 12345678910def baseNeg2(self, N: int) -&gt; str: if not N: return '0' ans = '' while N: remainder = N % (-2) ans += str(abs(remainder)) N //= -2 N += (remainder &lt; 0) return ans[::-1] æ–¹æ³•äºŒï¼šåœ¨äºŒè¿›åˆ¶ä¸ŠåŠ ä¸€ä¸ªè´Ÿå·ã€‚ 123456def baseNeg2(self, N: int) -&gt; str: ans = [] while N: ans.append(N &amp; 1) N = -(N &gt;&gt; 1) return ''.join(map(str, ans[::-1] or [0]))]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆæ•°ç»„ç¯‡ï¼‰Array]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E6%95%B0%E7%BB%84%E7%AF%87%EF%BC%89Array%2F</url>
    <content type="text"><![CDATA[26. Remove Duplicates from Sorted Arrayåˆ é™¤æŽ’åºæ•°ç»„ä¸­é‡å¤çš„å…ƒç´ , åœ¨åŽŸæ•°ç»„ä¸Šæ“ä½œï¼Œè¿”å›žä¸€ä¸ªé•¿åº¦ï¼Œæ ‡è¯†å‰nä¸ªå…ƒç´ ä¸ºç›®æ ‡æ•°ç»„ã€‚åŽŸé¢˜ 12345Given nums = [0,0,1,1,1,2,2,3,3,4],Your function should return length = 5, with the first five elements of nums being modified to 0, 1, 2, 3, and 4 respectively.It doesn&apos;t matter what values are set beyond the returned length. 123456789def remove_duplicates(nums): if not nums: return 0 index = 1 for i in range(len(nums)-1): if nums[i] != nums[i+1]: nums[index] = nums[i+1] index += 1 return index 66. Plus Oneç»™æ•°ç»„åŠ ä¸€ï¼Œå…ƒç´ ä¸ºéžè´Ÿæ•´æ•°ï¼Œä¸ä»¥0å¼€å¤´ï¼Œæ¯ä¸ªå…ƒç´ åªæœ‰ä¸€ä¸ªæ•°å­—ã€‚åŽŸé¢˜123Input: [4,3,2,1]Output: [4,3,2,2]Explanation: The array represents the integer 4321. æ–¹æ³•ä¸€ï¼šè½¬æˆå­—ç¬¦ä¸²å†è½¬æˆæ•°å­— 123def plusOne(self, digits: 'List[int]') -&gt; 'List[int]': num = int(''.join(map(str, digits))) return [int(d) for d in str(num + 1)] æ–¹æ³•äºŒï¼šMath è¿›ä½ 123456789101112def plus_one(digits): d = digits[:] plused = [] carry = 1 while d or carry: if d: v = d.pop() else: v = 0 carry, val = divmod(carry+v, 10) plused.append(val) return plused[::-1] æ–¹æ³•ä¸‰ï¼šæ•°ç»„è¿›ä½ã€‚ 123456789def plusOne(self, digits: 'List[int]') -&gt; 'List[int]': d = digits[:] d[-1] += 1 for i in range(len(d)-1, -1, -1): carry, d[i] = divmod(d[i], 10) if i: d[i-1] += carry if carry: d.insert(0, carry) return d 989. Add to Array-Form of Integerå’Œ66é¢˜å¾ˆç›¸ä¼¼ã€‚ä¸åŒçš„æ˜¯è¿™ä¸ªKä¼šå¤§äºŽ10ï¼Œä»¥è‡³äºŽä½™æ•°ä¹Ÿä¼šå¤§äºŽ10ã€‚åŽŸé¢˜123Input: A = [2,7,4], K = 181Output: [4,5,5]Explanation: 274 + 181 = 455 æ–¹æ³•ä¸€ï¼šç«žèµ›å†™æ³•ã€‚ 123def addToArrayForm(self, A: 'List[int]', K: 'int') -&gt; 'List[int]': a = int(''.join(map(str, A))) return [int(c) for c in str(a + K)] æ–¹æ³•äºŒï¼šåŽŸç†å®žçŽ°ã€‚ 12345678def addToArrayForm(self, A: 'List[int]', K: 'int') -&gt; 'List[int]': A[-1] += K for i in range(len(A)-1, -1, -1): carry, A[i] = divmod(A[i], 10) if i: A[i-1] += carry if carry: A = list(map(int, str(carry))) + A return A 88. Merge Sorted Arrayåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œåœ¨nums1ä¸Šä¿®æ”¹ã€‚åŽŸé¢˜12345Input:nums1 = [1,2,3,0,0,0], m = 3nums2 = [2,5,6], n = 3Output: [1,2,2,3,5,6] 12345678910def merge(self, nums1, m, nums2, n): while m&gt;0 and n&gt;0: if nums1[m-1] &gt; nums2[n-1]: nums1[n+m-1] = nums1[m-1] m -= 1 else: nums1[n+m-1] = nums2[n-1] n -= 1 if n &gt; 0: nums1[:n] = nums2[:n] 118. Pascalâ€™s Triangleæ¨è¾‰ä¸‰è§’ã€‚åŽŸé¢˜123456789Input: 5Output:[ [1], [1,1], [1,2,1], [1,3,3,1], [1,4,6,4,1]] æ–¹æ³•ä¸€: é”™ä½ç›¸åŠ ã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨zipï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œreséœ€è¦âž•ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ç»´ã€‚ç»“å°¾çš„åˆ‡ç‰‡æ˜¯ä¸ºäº†0çš„æƒ…å†µã€‚ 123456def generate(self, numRows: 'int') -&gt; 'List[List[int]]': ans = [[1]] for _ in range(numRows-1): ans += [[a+b for a, b in zip([0]+ans[-1], ans[-1]+[0])]] # ans.append(list(map(lambda x, y: x + y, [0]+ans[-1], ans[-1]+[0]))) return ans[:numRows] æ–¹æ³•äºŒ 123456789def generate(num): triangle = [] inner = [1] for _ in range(num): triangle.append(list(inner)) inner.append(0) right = [inner[i]+inner[i+1] for i in range(len(inner)-1)] inner = [1] + right return triangle 119.Pascalâ€™s Triangle IIæ¨è¾‰ä¸‰è§’ï¼Œåªæ‰“å°ä¸€å±‚ã€‚åŽŸé¢˜12345def getRow(self, rowIndex: 'int') -&gt; 'List[int]': ans = [1] for _ in range(rowIndex): ans = [a+b for a, b in zip([0]+ans, ans+[0])] return ans 169. Majority Elementæ‰¾å‡ºæ•°ç»„ä¸­å‡ºçŽ°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šæŽ’åº. Time-O(nlogn), Space-O(n) 12def majority_element(nums): return sorted(nums)[len(nums)//2] æ–¹æ³•äºŒï¼šCounter Time-O(n), Space-O(n) 12345def majority_element(nums): from collections import Counter c = Counter(nums) # return max(c.keys(), key=c.get) return c.most_common(1)[0][0] æ–¹æ³•ä¸‰ï¼šBoyer-Moore Voting Algorithm. ä¹¦ä¸­çš„ç®—æ³•è¯´çš„å°±æ˜¯è¿™ä¸ªï¼Œè¿™é‡Œé™„ä¸Šè‡ªå·±çš„è§è§£ã€‚ æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨ç®—æ³• 12345678def majorityElement(self, nums): count = 0 candidate = None for num in nums: if count == 0: candidate = num count += (1 if num == candidate else -1) return candidate 189. Rotate Arrayæ—‹è½¬æ•°ç»„ã€‚åŽŸé¢˜123456Input: [1,2,3,4,5,6,7] and k = 3Output: [5,6,7,1,2,3,4]Explanation:rotate 1 steps to the right: [7,1,2,3,4,5,6]rotate 2 steps to the right: [6,7,1,2,3,4,5]rotate 3 steps to the right: [5,6,7,1,2,3,4] æ–¹æ³•ä¸€ï¼šslicingã€‚ 123def rotate(nums, k): k = k % len(nums) nums[:] = nums[-k:] + nums[:-k] æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•ä¸æ˜¯å¾ˆé«˜æ•ˆ 123def rotate(nums, k): for _ in range(k): nums.insert(0, nums.pop()) æ–¹æ³•ä¸‰ï¼šdequeå®žçŽ°ã€‚ 1234def rotate(self, nums: 'List[int]', k: 'int') -&gt; 'None': q = collections.deque(nums) q.rotate(k) nums[:] = q 217. Contains Duplicateæ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ã€‚åŽŸé¢˜12Input: [1,2,3,1]Output: true æ–¹æ³•ä¸€ï¼šset 12def contains_duplicate(nums): return len(set(nums)) &lt; len(nums) æ–¹æ³•äºŒï¼šhash 12345678def containsDuplicate(self, nums: 'List[int]') -&gt; 'bool': seen = set() for num in nums: if num in seen: return True else: seen.add(num) return False 219. Contains Duplicate IIæ•°ç»„ä¸­æ˜¯å¦åŒ…å«é‡å¤å…ƒç´ ï¼Œä¸”å…ƒç´ ä¸‹æ ‡å·®å°äºŽç­‰äºŽkã€‚åŽŸé¢˜1234Input: nums = [1,2,3,1], k = 3Output: trueInput: nums = [1,0,1,1], k = 1Output: true æ€è·¯ï¼šå¼€å§‹æƒ³ç”¨setä½œåˆ‡ç‰‡æ¥åˆ¤æ–­ï¼ŒåŒä¸Šé¢˜æ–¹æ³•ä¸€ï¼Œä½†æ˜¯æ•ˆçŽ‡å¤ªä½Žã€‚æ•…ä½¿ç”¨å­—å…¸ã€‚ 123456789def containsNearbyDuplicate(self, nums, k): n = len(nums) seen = &#123;&#125; for i, num in enumerate(nums): if num in seen: if i-seen[num] &lt;= k: return True seen[num] = i return False 283. Move Zeroeså°†æ•°ç»„0å…ƒç´ ç§»åŠ¨åˆ°æœ«å°¾ï¼Œä¿è¯å…¶ä»–å…ƒç´ é¡ºåºã€‚åŽŸé¢˜12Input: [0,1,0,3,12]Output: [1,3,12,0,0] æ–¹æ³•ä¸€ï¼štwo pointers 12345678def move_zero(nums): l, r = 0, len(nums)-1 while l &lt; r: if nums[l] == 0: nums[:] = nums[:l] + nums[l+1:] + [0] r -= 1 else: l += 1 æ–¹æ³•äºŒï¼š slicing 12def move_zero(nums): nums[:] = [x for x in nums if x != 0] + [x for x in nums if x == 0] æ–¹æ³•ä¸‰ï¼šæœ€åŽ0çš„ä½ç½®ï¼Œæ„Ÿè§‰åƒå†’æ³¡ã€‚ 123456def moveZeroes(self, nums: 'List[int]') -&gt; 'None': p = 0 for i, num in enumerate(nums): if num != 0: nums[p], nums[i] = nums[i], nums[p] p += 1 æ–¹æ³•å››ï¼šæŽ’åºã€‚æ—¶é—´å¤æ‚åº¦ç•¥é«˜ã€‚ 12def moveZeroes(self, nums: 'List[int]') -&gt; 'None': nums.sort(key=lambda x: 1 if x==0 else 0) 54. Spiral Matrixèžºæ—‹çŸ©é˜µï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µã€‚åŽŸé¢˜è¿™é‡Œæ³¨æ„ä¸€ç‚¹matrix.pop(0)éœ€è¦è½¬æˆlistï¼Œå› ä¸ºzipå‡½æ•°ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleï¼Œå¦‚æžœä¸è½¬å˜æˆäº†ä¸€ä¸ªtuple+listï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ps: æ­¤é¢˜è§£æ³•ä¸ºLeetCodeä¸€ä½å¤§ç¥žï¼Œç»å¸¸èƒ½çœ‹åˆ°æ­¤äººçš„ç­”æ¡ˆï¼Œä¸è¿‡è¿™ä¸ªæ˜¯æˆ‘è®¤ä¸ºæœ€pythonicçš„ä¸€ä¸ªï¼Œæ²¡æœ‰ä¸ºäº†å¼ºè¡Œone-lineè€Œone-lineã€‚brilliant! 1TypeError: can only concatenate tuple (not &quot;list&quot;) to tuple 12def spiralOrder(self, matrix): return matrix and list(matrix.pop(0))+self.spiralOrder(list(zip(*matrix))[::-1]) æ­¤é¢˜æœ‰ä¸ªå˜å½¢ï¼Œå¦‚æžœé€†æ—¶é’ˆè¯¥å¦‚ä½•æ‰“å°ã€‚è¿™æ ·çš„è¯æƒ…å†µç¨å¾®å¤æ‚ä¸€äº›ã€‚ 1234567def anti_clock_wise(self, matrix) if not matrix: return [] clock_wise = list(zip(*(matrix[::-1]))) a = list(clock_wise.pop(0))[::-1] b = self.anti_clock_wise(clock_wise) return a + b 46. Permutationsæ•°ç»„å…¨æŽ’åˆ—ã€‚åŽŸé¢˜12345678910Input: [1,2,3]Output:[ [1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]] æ–¹æ³•ä¸€ï¼šrecursively. é”å®šå¤´éƒ¨æ³•ã€‚æ€æƒ³ä¸ºæ‹¿å‡ºä¸€ä¸ªæ•°å­—ä½œä¸ºå¤´éƒ¨ï¼Œå‰©ä¸‹çš„é€’å½’ã€‚ 1234def permute(self, nums): return [[n] + p for i, n in enumerate(nums) for p in self.permute(nums[:i]+nums[i+1:])] or [[]] æ–¹æ³•äºŒï¼šåˆ°å¤„æ’å…¥æ³•ã€‚ 1234def permute(self, nums: 'List[int]') -&gt; 'List[List[int]]': return nums and [p[:i] + [nums[0]] + p[i:] for p in self.permute(nums[1:]) for i in range(len(nums))] or [[]] æ–¹æ³•äºŒï¼šiteratively. æ€æƒ³ä¸ºæ‹¿å‡ºä¸€ä¸ªæ•°å­—æ’å…¥åˆ°çŽ°æœ‰æŽ’åºä¸­çš„å„ä¸ªä½ç½®ã€‚ 1234567def permute(self, nums): ans = [[]] for n in nums: ans = [l[:i] + [n] + l[i:] for l in ans for i in range(len(l)+1)] return ans 47. Permutations IIå…¨æŽ’åˆ—å¹¶åŽ»é‡ã€‚åŽŸé¢˜1234567Input: [1,1,2]Output:[ [1,1,2], [1,2,1], [2,1,1]] æ€è·¯ï¼šå½“ç„¶å¯ä»¥ä½¿ç”¨setæ¥åŽ»é‡ï¼Œæˆ–è€…è€ƒè™‘ä¸€ç§è¿­ä»£çš„æ–¹å¼ã€‚ å±•å¼€ã€‚æ‹¿ç€æ¯ä¸ªæ•°å­—å‘ä¸Šä¸€ä¸ªç»“æžœä¸­æ’å…¥åˆ°æ¯ä¸€ä¸ªä½ç½®ã€‚ 123456789101112131415def permuteUnique(self, nums): ans = [[]] for j, n in enumerate(nums): new_ans = [] for l in ans: for i in range(len(l)+1): new_ans.append(l[:i]+[n]+l[i:]) print('\t j &#123;0&#125; - &#123;3&#125; + [&#123;2&#125;] + &#123;4&#125;'.format(j, i, n, l[:i], l[i:])) # if i&lt;len(l) and l[i]==n: break #handles duplication if i&lt;len(l) and l[i]==n: print('\t \t l[&#123;&#125;] == &#123;&#125;'.format(i, n)) break #handles duplication ans = new_ans print('j &#123;&#125; afer inner ans &#123;&#125;'.format(j, ans)) return ans è¾“å…¥nums=[1, 2, 3] 123456789101112 j 0 - [] + [1] + []j 0 afer inner ans [[1]] j 1 - [] + [2] + [1] j 1 - [1] + [2] + []j 1 afer inner ans [[2, 1], [1, 2]] j 2 - [] + [3] + [2, 1] j 2 - [2] + [3] + [1] j 2 - [2, 1] + [3] + [] j 2 - [] + [3] + [1, 2] j 2 - [1] + [3] + [2] j 2 - [1, 2] + [3] + []j 2 afer inner ans [[3, 2, 1], [2, 3, 1], [2, 1, 3], [3, 1, 2], [1, 3, 2], [1, 2, 3]] ç†è§£ä¸€ä¸‹æ˜¯å¦‚ä½•åŽ»é‡çš„ï¼Œæˆ‘ä»¬è¾“å…¥nums=[1, 2, 1] 123456789101112 j 0 - [] + [1] + []j 0 afer inner ans [[1]] j 1 - [] + [2] + [1] j 1 - [1] + [2] + []j 1 afer inner ans [[2, 1], [1, 2]] j 2 - [] + [1] + [2, 1] j 2 - [2] + [1] + [1] l[1] == 1 j 2 - [] + [1] + [1, 2] l[0] == 1j 2 afer inner ans [[1, 2, 1], [2, 1, 1], [1, 1, 2]][[1, 2, 1], [2, 1, 1], [1, 1, 2]] åˆ—è¡¨ç”Ÿæˆå¼æ•´åˆã€‚Stefanå¤§ç¥žçš„å†™æ³•ã€‚ä½¿ç”¨indexæ¥æ‰¾éžé‡å¤çš„ä¸´ç•Œå€¼ã€‚ 1234567def permuteUnique(self, nums): ans = [[]] for n in nums: ans = [l[:i]+[n]+l[i:] for l in ans for i in range((l+[n]).index(n)+1)] return ans 215. Kth Largest Element in an Arrayæ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„ç¬¬Kä¸ªæ•°ã€‚åŽŸé¢˜å¿«æŽ’çš„æ€æƒ³ï¼Œæ²¡æœ‰é€šè¿‡LeetCodeæµ‹è¯•ç”¨ä¾‹ï¼Œå› ä¸ºå†…å­˜è¶…å‡ºäº†é™åˆ¶ã€‚ 12345678910111213141516171819def findKthLargest(self, nums, k): if not nums: return pivot = nums[0] left, medium, right = [], [], [] for num in nums: if num &lt; pivot: left.append(num) elif num == pivot: medium.append(num) else: right.append(num) if k &lt;= len(right): return self.findKthLargest(right, k) elif k-len(right) &lt;= len(medium): return pivot else: return self.findKthLargest(left, k-len(right)-len(medium)) è€ƒè™‘åœ¨åŽŸæ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ã€‚Time-O(n) 12345678910111213141516171819def findKthLargest(self, nums: List[int], k: int) -&gt; int: random.shuffle(nums) l, r = 0, len(nums)-1 def partition(l, r): for i, v in enumerate(nums[l:r+1], l): if nums[i] &gt;= nums[r]: nums[i], nums[l] = nums[l], nums[i] l += 1 return l-1 # return the index of pivot while True: pos = partition(l, r) # posæ˜¯ç´¢å¼•ï¼Œæ‰€ä»¥è¦ä¸Žk-1æ¯”è¾ƒ if pos &lt; k-1: l = pos + 1 elif pos &gt; k-1: r = pos - 1 else: return nums[pos] ä½¿ç”¨å †ã€‚Time-O(nlogk) 12345678def findKthLargest(self, nums: List[int], k: int) -&gt; int: import heapq as hq heap = nums[:k] hq.heapify(heap) for num in nums[k:]: if num &gt; heap[0]: hq.heapreplace(heap, num) return heap[0] 703. Kth Largest Element in a Streamæµä¸­ç¬¬Kä¸ªå¤§çš„æ•°ã€‚åŽŸé¢˜12345678int k = 3;int[] arr = [4,5,8,2];KthLargest kthLargest = new KthLargest(3, arr);kthLargest.add(3); // returns 4kthLargest.add(5); // returns 5kthLargest.add(10); // returns 5kthLargest.add(9); // returns 8kthLargest.add(4); // returns 8 æ–¹æ³•ä¸€ï¼šè¿˜æ˜¯ä½¿ç”¨å †ï¼Œä¸€å¼€å§‹æ²¡æƒ³åˆ°åˆ‡åˆ†ï¼Œæ‰€ä»¥è¶…æ—¶äº†ã€‚æ³¨æ„æ˜¯heapreplaceã€‚ 12345678910111213141516class KthLargest: def __init__(self, k, nums): import heapq self.heap = list(nums) self.k = k heapq.heapify(self.heap) while len(self.heap) &gt; k: heapq.heappop(self.heap) def add(self, val): if len(self.heap) &lt; self.k: heapq.heappush(self.heap, val) elif val &gt; self.heap[0]: heapq.heapreplace(self.heap, val) return self.heap[0] 53. Maximum Subarrayè¿žç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€‚åŽŸé¢˜123Input: [-2,1,-3,4,-1,2,1,-5,4],Output: 6Explanation: [4,-1,2,1] has the largest sum = 6. æ–¹æ³•ä¸€ï¼šä¹¦ä¸­çš„æ€æƒ³ã€‚ 123456def maxSubArray(self, nums): cp_nums = nums[:] for i in range(1, len(nums)): if cp_nums[i-1] &gt; 0: cp_nums[i] += cp_nums[i-1] return max(cp_nums) æ–¹æ³•äºŒï¼šone-linerã€‚æ³¨æ„accumulateæ˜¯æŠŠå‡½æ•°æ”¾åˆ°åŽé¢çš„ã€‚ 123def maxSubArray(self, nums): from itertools import accumulate return max(accumulate(nums, lambda x, y: x+y if x &gt; 0 else y)) 904. Fruit Into Basketså®žé™…ä¸Šè¯¥é¢˜æŠ½è±¡ä¸ºæ±‚æœ€å¤§æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œæ»‘åŠ¨çª—å£ä¸åŒå…ƒç´ æœ€å¤šä¸è¶…è¿‡ä¸¤ä¸ªã€‚åŽŸé¢˜1234tree = [3,3,3,1,2,1,1,2,3,3,4] # 5tree = [1,0,1,4,1,4,1,2,3] # 5tree = [1,2,3,2,2] # 4tree = [0,1,6,6,4,4,6] # 5 ä¸€å¼€å§‹æ²¡æœ‰æ‰¾åˆ°æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œï¼Œè€æ˜¯æƒ³ç›´æŽ¥åˆ é™¤ä¸€ä¸ªkeyï¼ŒåŽæ¥çœ‹åˆ«äººä»£ç å—åˆ°å¯å‘ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå†…å¾ªçŽ¯æ¥è§£å†³ï¼Œå¯ä»¥é€ä¸ªåˆ é™¤ï¼Œç„¶åŽåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚ 12345678910111213def totalFruit(self, tree): from collections import Counter basket = Counter() l, res = 0, 0 for r in range(len(tree)): basket[tree[r]] += 1 while len(basket) &gt; 2: basket[tree[l]] -= 1 if basket[tree[l]] == 0: basket.pop(tree[l]) l += 1 res = max(res, r-l+1) return res 27. Remove Elementä»Žæ•°ç»„ä¸­åˆ é™¤å…ƒç´ ï¼Œåœ¨åŽŸæ•°ç»„ä¿®æ”¹ï¼Œè¦æ±‚è¿”å›žä¸€ä¸ªé•¿åº¦ã€‚åŽŸé¢˜12Given nums = [0,1,2,2,3,0,4,2], val = 2,Your function should return length = 5, æ–¹æ³•ä¸€ï¼šå‰åŽæŒ‡é’ˆï¼Œrè¦ä»Žnå¼€å§‹ï¼Œä»¥n-1ä½œæ¯”è¾ƒï¼Œè¿™é‡Œrä¸æ˜¯ä»Žn-1å¼€å§‹æ˜¯å› ä¸ºnums=[]çš„æƒ…å†µï¼Œå¦åˆ™l+1å°†è¶…å‡ºæ•°ç»„èŒƒå›´ã€‚ 123456789def removeElement(self, nums, val): l, r = 0, len(nums) while l &lt; r: if nums[l] == val: nums[l], nums[r-1] = nums[r-1], nums[l] r -= 1 else: l += 1 return l æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆï¼Œå‡ ä¹Žå’Œ283é¢˜ä¸­çš„æ–¹æ³•ä¸€æ ·ã€‚ 1234567def removeElement(self, nums, val): i = 0 for j in range(len(nums)): if nums[j] != val: nums[i] = nums[j] i += 1 return i 349. Intersection of Two Arraysæ±‚ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€‚è¿”å›žçš„æ•°ç»„å¿…é¡»å…ƒç´ å”¯ä¸€ï¼Œå¯ä»¥æ— åºã€‚åŽŸé¢˜æ€è·¯ï¼šä¸€å¼€å§‹çœ‹åˆ°è¿™é¢˜ä»¥ä¸ºæ˜¯ä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ç‚¹ã€‚æœ€åŽå‘çŽ°Intersectionä¸åº”è¯¥ç†è§£ä¸ºâ€œåå­—è·¯å£â€è€Œåº”è¯¥æ˜¯â€œäº¤é›†â€ã€‚è¿™é‡Œç¿»äº†ä¸€ä¸‹discussï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨æ–¹æ³•ä¸€ï¼Œå…¶å®ƒæ–¹æ³•è¦ä¹ˆå¤ªç¹çï¼Œè¦ä¹ˆæ•ˆçŽ‡ä½Žã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ­¤é¢˜çš„ç›¸å…³è¯é¢˜è¿˜æœ‰ä¸€é¡¹æ˜¯Binary Searchä¹Ÿå°±æ˜¯è¯´ï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªè¾ƒä¸ºé«˜æ•ˆçš„äºŒåˆ†æœç´¢æ³•çš„å®žçŽ°æ–¹å¼ã€‚ 123Example 2:Input: nums1 = [4,9,5], nums2 = [9,4,9,8,4]Output: [9,4] æ–¹æ³•ä¸€ï¼šæœ€å¿«çš„æ–¹æ³•ã€‚ 12def intersection(self, nums1, nums2): return list(set(nums1) &amp; set(nums2)) æ–¹æ³•äºŒï¼šSort &amp; Two Pointers. 123456789101112131415161718def intersection(self, nums1: 'List[int]', nums2: 'List[int]') -&gt; 'List[int]': nums1.sort() nums2.sort() i, n1 = 0, len(nums1) j, n2 = 0, len(nums2) ans, last = [], None while i &lt; n1 and j &lt; n2: if nums1[i] == nums2[j]: if nums1[i] != last: ans.append(nums1[i]) last = nums1[i] i += 1 j += 1 elif nums1[i] &gt; nums2[j]: j += 1 elif nums1[i] &lt; nums2[j]: i += 1 return ans 350. Intersection of Two Arrays IIå’Œä¸Šé¢˜ä¸åŒçš„æ˜¯è¦è¿”å›žæ‰€æœ‰çš„äº¤é›†å…ƒç´ ã€‚åŽŸé¢˜1234Example 1:Input: nums1 = [1,2,2,1], nums2 = [2,2]Output: [2,2] æ–¹æ³•ä¸€ï¼šCounterå®žçŽ°äº†&amp;æ“ä½œå¯ä»¥ç›´æŽ¥å–äº¤é›†ã€‚ 1234def intersect(self, nums1, nums2): from collections import Counter a, b = map(Counter, (nums1, nums2)) return list((a &amp; b).elements()) æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨Counterã€‚ 1234567891011def intersect(self, nums1, nums2): from collections import defaultdict counter = defaultdict(int) res = [] for num1 in nums1: counter[num1] += 1 for num2 in nums2: if counter[num2] != 0: res.append(num2) counter[num2] -= 1 return res æ–¹æ³•ä¸‰ï¼šå¯ä»¥é‡‡ç”¨ä¸Šé¢˜349çš„æ–¹æ³•ï¼Œåªéœ€è¦åŽ»æŽ‰lastå³å¯ã€‚ 905. Sort Array By Parityå°†ä¸€ä¸ªæ•°ç»„é‡æ–°æŽ’åˆ—ï¼Œæ˜¯å¶æ•°åœ¨å‰å¥‡æ•°åœ¨åŽã€‚åŽŸé¢˜123Input: [3,1,2,4]Output: [2,4,3,1]The outputs [4,2,3,1], [2,4,1,3], and [4,2,1,3] would also be accepted. æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆã€‚ 123456789def sortArrayByParity(self, A): l, r = 0, len(A)-1 while l &lt; r: while l&lt;r and A[l]&amp;1==0: l += 1 while l&lt;r and A[r]&amp;1==1: r -= 1 A[l], A[r] = A[r], A[l] return A æ–¹æ³•äºŒï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚ 1234def sortArrayByParity(self, A): even = [num for num in A if num &amp; 1 == 0] odd = [num for num in A if num &amp; 1 == 1] return even + odd 922. Sort Array By Parity IIè¾“å…¥ä¸€ä¸ªå¥‡æ•°å¶æ•°æ•°é‡ç›¸åŒçš„æ•°ç»„ï¼Œè¿”å›žä¸‹æ ‡å’Œå…¶å¯¹åº”çš„å€¼éƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œå³å¥‡å¶äº¤å‰ã€‚å’Œ905ç›¸ä¼¼ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šä½¿ç”¨åˆ‡ç‰‡çš„ç‰¹æ€§èµ‹å€¼ã€‚ 12345def sortArrayByParityII(self, A): res = [None] * len(A) res[::2] = (num for num in A if num &amp; 1 == 0) res[1::2] = (num for num in A if num &amp; 1 == 1) return res æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆã€‚ 12345678def sortArrayByParityII(self, A: 'List[int]') -&gt; 'List[int]': j = 1 for i in range(0, len(A), 2): if A[i] &amp; 1 == 1: while A[j] &amp; 1 == 1: j += 2 A[i], A[j] = A[j], A[i] return A 933. Number of Recent Callsè¾“å…¥ä¸€ä¸ªæ—¶é—´tï¼Œè¿”å›ž3000æ¯«ç§’å†…æ‰€æœ‰çš„è¯·æ±‚ä¸ªæ•°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šdeque. 12345678910class RecentCounter: def __init__(self): self.q = collections.deque() def ping(self, t: 'int') -&gt; 'int': self.q.append(t) while self.q[0] &lt; t - 3000: self.q.popleft() return len(self.q) 937. Reorder Log FilesæŒ‰ç…§è§„åˆ™å°†logæ–‡ä»¶æŽ’åºã€‚åŽŸé¢˜12Input: [&quot;a1 9 2 3 1&quot;,&quot;g1 act car&quot;,&quot;zo4 4 7&quot;,&quot;ab1 off key dog&quot;,&quot;a8 act zoo&quot;]Output: [&quot;g1 act car&quot;,&quot;a8 act zoo&quot;,&quot;ab1 off key dog&quot;,&quot;a1 9 2 3 1&quot;,&quot;zo4 4 7&quot;] æ–¹æ³•ä¸€ï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚ 12345def reorderLogFiles(self, logs): letter_logs = [l for l in logs if l.split()[1].isalpha()] digit_logs = [l for l in logs if not l.split()[1].isalpha()] letter_logs.sort(key=lambda x: x.split()[1:]) return letter_logs + digit_logs æ–¹æ³•äºŒï¼šsort. 12345def reorderLogFiles(self, logs: 'List[str]') -&gt; 'List[str]': def f(log): pk, text = log.split(" ", 1) return (0, text) if text[0].isalpha() else (1, ) return sorted(logs, key=f) 485. Max Consecutive Onesè¾“å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œè¿”å›žæœ€å¤§çš„è¿žç»­1çš„é•¿åº¦ã€‚åŽŸé¢˜1234Input: [1,1,0,1,1,1]Output: 3Explanation: The first two digits or the last three digits are consecutive 1s. The maximum number of consecutive 1s is 3. æ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨æ ‡å‡†åº“ã€‚æœ«å°¾è¡¥0æ˜¯å› ä¸ºï¼Œå¦‚æžœåŽŸæ•°ç»„æœ«å°¾æ˜¯1çš„æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦è®¡ç®—ä¸€æ¬¡maxçš„å€¼ã€‚ç¼ºç‚¹æ˜¯æ”¹å˜äº†åŽŸæ•°ç»„ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å†è®¡ç®—ä¸€æ¬¡çš„æ–¹å¼ã€‚ 123456789def findMaxConsecutiveOnes(self, nums: 'List[int]') -&gt; 'int': ans = count = 0 for num in nums+[0]: if num == 1: count += 1 else: ans = max(ans, count) count = 0 return ans æ–¹æ³•äºŒï¼šä½¿ç”¨groupbyã€‚ 1234567def findMaxConsecutiveOnes(self, nums): from itertools import groupby max_con = 0 for d, group in groupby(nums): if d == 1: max_con = max(max_con, len(list(group))) return max_con æ–¹æ³•ä¸‰ï¼šsplitã€‚ä¸è¿‡è¿™ä¸ªæ•ˆçŽ‡ä¸é«˜ã€‚ 1234def findMaxConsecutiveOnes(self, nums): nums_str = ''.join(map(str, nums)) ones = nums_str.split('0') return len(max(ones)) æ–¹æ³•å››ï¼šä½¿ç”¨accumulateã€‚Space-complex O(n)ã€‚ 123def findMaxConsecutiveOnes(self, nums): from itertools import accumulate return max(accumulate(nums, lambda x, y: x+y if y==1 else y)) 1004. Max Consecutive Ones IIIä¸Žä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œæœ‰Kæ¬¡æœºä¼šå¯ä»¥å°†0å˜æˆ1. åŽŸé¢˜12345Input: A = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3Output: 10Explanation: [0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]Bolded numbers were flipped from 0 to 1. The longest subarray is underlined. æ–¹æ³•ä¸€ï¼šè¿™é¢˜ç«žèµ›æ—¶æ²¡æƒ³å‡ºæ¥ï¼Œå—ä¸Šé¢˜å½±å“ï¼Œæ€è·¯è·‘åˆ°äº†groupbyé‚£é‡Œï¼Œæƒ³ç€æ€Žä¹ˆåˆ†ç»„åŽæ“ä½œã€‚å®žé™…ä¸Šæ­¤é¢˜å®Œå…¨ä¸åŒï¼Œåº”è¯¥ä½¿ç”¨æ»‘åŠ¨çª—å£ã€‚ 123456789def longestOnes(self, A: List[int], K: int) -&gt; int: ans = i = 0 for j in range(len(A)): K -= A[j]==0 while K &lt; 0: K += A[i]==0 i += 1 ans = max(ans, j-i+1) return ans 946. Validate Stack Sequencesç»™å®šä¸€ä¸ªå…¥æ ˆå’Œå‡ºæ ˆçš„é¡ºåºï¼Œåˆ¤æ–­æ˜¯å¦æœ€åŽå¯ä»¥æ¸…ç©ºè¯¥æ ˆã€‚åŽŸé¢˜123456789Input: pushed = [1,2,3,4,5], popped = [4,5,3,2,1]Output: trueExplanation: We might do the following sequence:push(1), push(2), push(3), push(4), pop() -&gt; 4,push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1Input: pushed = [1,2,3,4,5], popped = [4,3,5,1,2]Output: falseExplanation: 1 cannot be popped before 2. 123456789def validateStackSequences(self, pushed: 'List[int]', popped: 'List[int]') -&gt; 'bool': stack = [] j = 0 for num in pushed: stack.append(num) while stack and stack[-1] == popped[j]: stack.pop() j += 1 return j == len(popped) 496. Next Greater Element Iæ‰¾å‡ºæ•°ç»„nums2ä¸­å¯¹åº”çš„nums1å…ƒç´ çš„ä½ç½®ä¹‹åŽçš„ç¬¬ä¸€ä¸ªæ¯”nums1å¤§çš„å…ƒç´ ã€‚nums1æ˜¯nums2çš„å­é›†ï¼ŒäºŒè€…å‡æ— é‡å¤çš„å…ƒç´ ã€‚åŽŸé¢˜123456789101112Input: nums1 = [4,1,2], nums2 = [1,3,4,2].Output: [-1,3,-1]Explanation: For number 4 in the first array, you cannot find the next greater number for it in the second array, so output -1. For number 1 in the first array, the next greater number for it in the second array is 3. For number 2 in the first array, there is no next greater number for it in the second array, so output -1. Input: nums1 = [2,4], nums2 = [1,2,3,4].Output: [3,-1]Explanation: For number 2 in the first array, the next greater number for it in the second array is 3. For number 4 in the first array, there is no next greater number for it in the second array, so output -1. æ–¹æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼Œå› ä¸ºé¢˜ä¸­ç»™äº†èŒƒå›´æ•°ç»„é•¿åº¦å°äºŽ1000ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰è¶…æ—¶ã€‚ 1234567891011121314def nextGreaterElement(self, nums1, nums2): res = [] for num1 in nums1: index = nums2.index(num1) if not nums2[index+1:]: res.append(-1) else: for num2 in nums2[index+1:]: if num2 &gt; num1: res.append(num2) break else: res.append(-1) return res æ–¹æ³•äºŒï¼šone-linerï¼Œç”Ÿæˆå™¨ä¸€å¼€å§‹æƒ³åˆ°äº†ï¼Œæ²¡æƒ³åˆ°nextå‡½æ•°è¿˜å¯ä»¥è®¾é»˜è®¤å€¼ã€‚ 123def nextGreaterElement(self, nums1, nums2): return [next((y for y in nums2[nums2.index(x):] if y &gt; x), -1) for x in nums1] æ–¹æ³•ä¸‰ï¼šTime: O(n). 1234567def nextGreaterElement(self, nums1, nums2): st, d = [], &#123;&#125; for n in nums2: while st and st[-1] &lt; n: d[st.pop()] = n st.append(n) return list(map(lambda x: d.get(x, -1), nums1)) 953. Verifying an Alien Dictionaryåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„æ˜¯å¦æŒ‰ç…§ç‰¹å®šçš„å­—å…¸é¡ºåºæŽ’åºã€‚åŽŸé¢˜123456789Input: words = [&quot;hello&quot;,&quot;leetcode&quot;], order = &quot;hlabcdefgijkmnopqrstuvwxyz&quot;Output: trueExplanation: As &apos;h&apos; comes before &apos;l&apos; in this language, then the sequence is sorted.Input: words = [&quot;word&quot;,&quot;world&quot;,&quot;row&quot;], order = &quot;worldabcefghijkmnpqstuvxyz&quot;Output: falseExplanation: As &apos;d&apos; comes after &apos;l&apos; in this language, then words[0] &gt; words[1], hence the sequence is unsorted.Input: words = [&quot;apple&quot;,&quot;app&quot;], order = &quot;abcdefghijklmnopqrstuvwxyz&quot;Output: falseExplanation: The first three characters &quot;app&quot; match, and the second string is shorter (in size.) According to lexicographical rules &quot;apple&quot; &gt; &quot;app&quot;, because &apos;l&apos; &gt; &apos;âˆ…&apos;, where &apos;âˆ…&apos; is defined as the blank character which is less than any other character (More info). æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æƒ³äº†å¾ˆä¹…ï¼Œæœ€åŽè¿˜æ˜¯æ²¡æœ‰åšå‡ºæ¥ï¼Œä¸€å¼€å§‹æƒ³ç”¨zipæ¥è‡ªå·±å®žçŽ°ï¼Œä¹Ÿæƒ³åˆ°äº†sortï¼Œä½†æ˜¯keyé‡Œé¢çš„åŒ¿åå‡½æ•°ä¸€ç›´æ²¡æœ‰æƒ³å¯¹ï¼Œå…³é”®æ˜¯äºŒç»´æ•°ç»„ä¹Ÿèƒ½æŽ’åºè¿™ç‚¹æ²¡æœ‰æƒ³åˆ°ã€‚ 123def isAlienSorted(self, words: 'List[str]', order: 'str') -&gt; 'bool': d = dict(zip(order, range(26))) return words == sorted(words, key=lambda w: [d[c] for c in w]) æ–¹æ³•äºŒï¼šä¼ ç»Ÿæ–¹æ³•ï¼Œä¼˜ç‚¹åœ¨äºŽæå‰é€€å‡ºã€‚ 123456789101112131415def isAlienSorted(self, words: 'List[str]', order: 'str') -&gt; 'bool': d = dict(zip(order, range(26))) for i in range(len(words)-1): word1, word2 = words[i:i+2] for c1, c2 in zip(word1, word2): if c1 != c2: if d[c1] &gt; d[c2]: return False break else: if len(word1) &gt; len(word2): return False return True 506. Relative Ranksæ ¹æ®å¾—åˆ†ï¼Œè¿”å›žæŽ’åã€‚å‰ä¸‰è¦ç”¨å¥–ç‰Œè¡¨ç¤ºã€‚åŽŸé¢˜1234Input: [5, 4, 3, 2, 1]Output: [&quot;Gold Medal&quot;, &quot;Silver Medal&quot;, &quot;Bronze Medal&quot;, &quot;4&quot;, &quot;5&quot;]Explanation: The first three athletes got the top three highest scores, so they got &quot;Gold Medal&quot;, &quot;Silver Medal&quot; and &quot;Bronze Medal&quot;. For the left two athletes, you just need to output their relative ranks according to their scores. æ–¹æ³•ä¸€ï¼šå…ˆç”Ÿæˆä¸€ä¸ªæŽ’è¡Œæ¦œå•ï¼Œå†æ ¹æ®æ¯ä¸ªå¾—åˆ†æŠŠæŽ’åºæ˜ å°„ä¸ŠåŽ»ã€‚ 12345def findRelativeRanks(self, nums): ranks = list(map(str,range(1, len(nums)+1))) ranks[:3] = ["Gold Medal", "Silver Medal", "Bronze Medal"] sorted_nums = sorted(nums, reverse=True) return [ranks[sorted_nums.index(num)] for num in nums] # slow æ–¹æ³•äºŒï¼šä½¿ç”¨mapæ˜ å°„ã€‚ 1234567def findRelativeRanks(self, nums): ranks = list(map(str,range(1, len(nums)+1))) ranks[:3] = ["Gold Medal", "Silver Medal", "Bronze Medal"] sorted_nums = sorted(nums, reverse=True) # map_rank = &#123;num: ranks[i] for i, num in enumerate(sorted_nums)&#125; # return list(map(map_rank.get, nums)) return list(map(dict(zip(sorted_nums, ranks)).get, nums)) 532. K-diff Pairs in an Arrayæ‰¾å‡ºå·®ä¸ºkçš„ä¸é‡å¤çš„æˆå¯¹å…ƒç´ çš„ä¸ªæ•°ã€‚åŽŸé¢˜1234Input: [3, 1, 4, 1, 5], k = 2Output: 2Explanation: There are two 2-diff pairs in the array, (1, 3) and (3, 5).Although we have two 1s in the input, we should only return the number of unique pairs. æ–¹æ³•ä¸€ï¼šCounterï¼Œä¸€å¼€å§‹æ²¡æƒ³åˆ°ï¼Œæƒ³sortæˆ–æ˜¯setï¼Œç„¶åŽå®žçŽ°ä¸äº†ã€‚ 12345678def findPairs(self, nums, k): from collections import Counter c = Counter(nums) res = 0 for num, count in c.items(): if (k == 0 and count &gt; 1) or (k &gt; 0 and num+k in c): res += 1 return res 961. N-Repeated Element in Size 2N Arrayæ‰¾å‡º2Né•¿çš„æ•°ç»„ä¸­é‡å¤Næ¬¡çš„æ•°å­—ï¼Œå…¶å®ƒæ•°å­—å‡åªå‡ºçŽ°ä¸€æ¬¡ã€‚æ­¤é¢˜ä¸èƒ½ç”¨æ³¢ä¹‰å°”æ‘©å°”æŠ•ç¥¨å› ä¸ºæ•°é‡æ²¡æœ‰å¤§äºŽåŠæ•°ã€‚åŽŸé¢˜12Input: [2,1,2,5,3,2]Output: 2 æ–¹æ³•ä¸€ï¼šè¿™é¢˜æœ¬æ„æˆ‘çœ‹æ˜¯å“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†ç­”æ¡ˆéƒ½æ˜¯Counterä¹‹ç±»çš„ï¼Œæˆ‘çœ‹æŽ’è¡Œæ¦œç­¾åçš„Pythoné€‰æ‰‹ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„ï¼Œæˆ‘æ˜¯çµæœºä¸€åŠ¨ä¸€åŠ¨åŠ¨æƒ³å‡ºäº†ä¸€ä¸ªæ•°å­¦æ–¹æ³•ã€‚çœ‹ä¸ŠåŽ»è¿­ä»£äº†ä¸¤æ¬¡æ•°ç»„ï¼Œå¹¶ä½¿ç”¨äº†ä¸€äº›ç©ºé—´ï¼Œä½†å…¶å®žé€Ÿåº¦å¾ˆå¿«ã€‚ 12def repeatedNTimes(self, A): return (sum(A)-sum(set(A))) // (len(A)//2-1) æ–¹æ³•äºŒï¼šå…¶å®žæ˜¯æ‰¾é‡å¤çš„æ•°å­—ï¼Œé‚£ä¹ˆå°±æ•°é‡æ˜¯ä¸€å®šçš„è¯ï¼Œå…¶ä»–æ•°å­—çš„ç›¸é‚»ä¸¤ä½ä¸­å¯èƒ½ä¼šæœ‰é‡å¤ï¼Œå…¶ä»–ä¸€ç§ä¸é‡å¤æƒ…å†µï¼Œ2234å’Œ2342ã€‚æ­¤æ–¹æ³•ä¸èƒ½ç”¨äºŽ169é¢˜ï¼Œå› ä¸º169é¢˜ä¸­çš„å…¶å®ƒå…ƒç´ æ˜¯å¯èƒ½é‡å¤çš„ã€‚ 12345def repeatedNTimes(self, A: 'List[int]') -&gt; 'int': for i in range(2, len(A)): if A[i] == A[i-1] or A[i] == A[i-2]: return A[i] return A[0] 967. Numbers With Same Consecutive Differencesæ ¹æ®è§„åˆ™ç”Ÿæˆä¸€ç»„æ•°ç»„ï¼Œæ•°å­—é•¿åº¦ä¸ºNï¼Œæ¯ä¸¤ä½çš„å·®ä¸ºKã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šè¿­ä»£ç”Ÿæˆï¼Œå…¶å®žæ­¤é¢˜æœ¬æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ï¼Œä½†ç”±äºŽè§£æ³•ä¸æ˜¯ï¼Œæš‚æ—¶å½’åˆ°æ•°ç»„é‡Œã€‚ 1234567891011121314def numsSameConsecDiff(self, N, K): ans = &#123;x for x in range(1, 10)&#125; for _ in range(N-1): ans2 = set() for digit in ans: d = digit % 10 if d - K &gt;= 0: ans2.add(digit*10 + d - K) if d + K &lt;= 9: ans2.add(digit*10 + d + K) ans = ans2 if N == 1: ans.add(0) return list(ans) æ–¹æ³•äºŒï¼šç®€åŒ–ã€‚ 123456def numsSameConsecDiff(self, N, K): ans = range(10) for _ in range(N-1): ans = &#123;x*10+y for x in ans for y in (x%10-K, x%10+K) if x and 0&lt;=y&lt;10&#125; return list(ans) 561. Array Partition Iå°†æ•°ç»„ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œç´¯åŠ æ¯ç»„çš„æœ€å°å€¼ï¼Œä½¿ä¹‹å°½é‡å¤§ã€‚åŽŸé¢˜1234Input: [1,4,3,2]Output: 4Explanation: n is 2, and the maximum sum of pairs is 4 = min(1, 2) + min(3, 4). 12def arrayPairSum(self, nums): return sum(sorted(nums)[::2]) 566. Reshape the Matrixæ”¹å˜çŸ©é˜µçš„å½¢çŠ¶ï¼Œå¦‚æžœå…ƒç´ è¶…å‡ºæˆ–ä¸è¶³ï¼Œè¿”å›žåŽŸçŸ©é˜µã€‚åŽŸé¢˜123456789Input: nums = [[1,2], [3,4]]r = 1, c = 4Output: [[1,2,3,4]]Explanation:The row-traversing of nums is [1,2,3,4]. The new reshaped matrix is a 1 * 4 matrix, fill it row by row by using the previous list. æ–¹æ³•ä¸€ï¼šæ‰å¹³åŒ–åŽé‡ç»„ã€‚ 123456def matrixReshape(self, nums, r, c): a = [x for row in nums for x in row] n = len(a) if r*c != n: return nums return [a[i*c:i*c+c] for i in range(r)] æ–¹æ³•äºŒï¼šä½¿ç”¨itertools. 123456def matrixReshape(self, nums, r, c): if r*c != len(nums)*len(nums[0]): return nums from itertools import islice, chain it = chain(*nums) return [list(islice(it, c)) for _ in range(r)] 575. Distribute Candiesç»™å§å§å¼Ÿå¼Ÿåˆ†ç³–ï¼Œä¸¤äººæ•°é‡ä¸€æ ·ï¼Œä¿è¯å§å§çš„ç§ç±»æœ€å¤šï¼Œæ±‚å§å§æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç§ã€‚åŽŸé¢˜123456Input: candies = [1,1,2,2,3,3]Output: 3Explanation:There are three different kinds of candies (1, 2 and 3), and two candies for each kind.Optimal distribution: The sister has candies [1,2,3] and the brother has candies [1,2,3], too. The sister has three different kinds of candies. 12def distributeCandies(self, candies): return min(len(candies)//2, len(set(candies))) 594. Longest Harmonious Subsequenceæœ€é•¿çš„å’Œè°å­æ•°ç»„ï¼Œå³å…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ­£å¥½ç›¸å·®ä¸€çš„å­æ•°ç»„ï¼Œå…ƒç´ é¡ºåºæ— å…³ï¼Œæ±‚æœ€å¤§å­æ•°ç»„é•¿åº¦ã€‚åŽŸé¢˜123Input: [1,3,2,2,5,2,3,7]Output: 5Explanation: The longest harmonious subsequence is [3,2,2,2,3]. æ–¹æ³•ä¸€ï¼šå¼€å§‹æƒ³é”™äº†ï¼ŒåŽæ¥å‘çŽ°å­æ•°ç»„åªèƒ½åŒ…å«ä¸¤ä¸ªå…ƒç´ ã€‚ 12345678def findLHS(self, nums): from collections import Counter res = 0 c = Counter(nums) for num, count in c.items(): sum_count = count+c[num+1] if c[num+1] else 0 res = max(res, sum_count) return res æ–¹æ³•äºŒï¼šone-liner. 12345def findLHS(self, nums): from collections import Counter c = Counter(nums) return max([count+c[num+1] for num, count in c.items() if num+1 in c] or [0]) 598. Range Addition IIè¿™é¢˜çœ‹ä¸ŠåŽ»æŒºé•¿ï¼Œå…¶å®žæŠ½è±¡èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠæ•´ä¸ªçŸ©é˜µæƒ³è±¡æˆä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åŽæ¯æ¬¡å¾€ä¸Šå åŠ ï¼Œæ¯æ¬¡å æ”¾çš„çŸ©å½¢éƒ½ä¼šå’Œå·¦ä¸Šè§’å¯¹é½ï¼Œæ‰€ä»¥æœ€åŽå®Œæˆçš„æ—¶å€™ï¼Œå·¦ä¸Šè§’çš„ä¸€å°å—ä¸€å®šæ˜¯æœ€â€œåŽšâ€çš„ï¼Œé—®é¢˜å°±å˜æˆå’Œå·¦ä¸Šä¸€æ ·çš„åŽšåº¦çš„é¢ç§¯ã€‚å®žé™…ä¸Šç­‰äºŽå æ”¾çš„æ‰€æœ‰çŸ©å½¢çš„æœ€å°é•¿åº¦å’Œæœ€å°å®½åº¦çš„ä¹˜ç§¯ã€‚åŽŸé¢˜123456789101112131415161718192021Input: m = 3, n = 3operations = [[2,2],[3,3]]Output: 4Explanation: Initially, M = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]After performing [2,2], M = [[1, 1, 0], [1, 1, 0], [0, 0, 0]]After performing [3,3], M = [[2, 2, 1], [2, 2, 1], [1, 1, 1]]So the maximum integer in M is 2, and there are four of it in M. So return 4. 12345def maxCount(self, m, n, ops): if not ops: return m*n length, width = list(zip(*ops)) return min(length) * min(width) 599. Minimum Index Sum of Two Listsæ‰¾å‡ºä¸¤ä¸ªäººå…±åŒæœ€å–œæ¬¢çš„é¤åŽ…ã€‚å¦‚æžœæœ‰å¤šä¸ªè¾“å‡ºå¤šä¸ªã€‚åŽŸé¢˜1234Input:[&quot;Shogun&quot;,&quot;Tapioca Express&quot;,&quot;Burger King&quot;,&quot;KFC&quot;][&quot;Piatti&quot;,&quot;The Grill at Torrey Pines&quot;,&quot;Tapioca Express&quot;,&quot;Shogun&quot;]Output: [&apos;Shogun&apos;, &apos;Tapioca Express&apos;] æ–¹æ³•ä¸€ï¼šè¿™é‡Œåšäº†ä¸€ä¸ªä¼˜åŒ–ï¼Œä»¥åŽŸlist1çš„é¡ºåºè¾“å‡ºæ•°ç»„ï¼Œå¦‚æžœç´¢å¼•å¤ªå¤§è¶…å‡ºäº†æœ€å°ç´¢å¼•å’Œï¼Œè¿™æ ·å³ä½¿æ˜¯map2ä½¿ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿæ— æ³•æ»¡è¶³æ¡ä»¶ï¼Œç›´æŽ¥é€€å‡ºã€‚ 1234567891011121314def findRestaurant(self, list1, list2): map2 = &#123;x: i for i, x in enumerate(list2)&#125; res, min_sum = [], float('inf') for i, rest in enumerate(list1): # optimize if i &gt; min_sum: break if rest in map2: if i+map2[rest] &lt; min_sum: res = [rest] min_sum = i+map2[rest] elif i+map2[rest] == min_sum: res += [rest] return res 605. Can Place Flowersæ˜¯å¦å¯ä»¥ç§ä¸‹ç»™å®šæ•°é‡çš„èŠ±ã€‚ä¸¤é¢—èŠ±ä¸èƒ½æŒ¨ç€ï¼Œç»™å®šçš„æ•°ç»„ä¸­æ»¡è¶³è¿™ä¸€æ¡ä»¶ã€‚åŽŸé¢˜12Input: flowerbed = [1,0,0,0,1], n = 2Output: False 123456789def canPlaceFlowers(self, flowerbed, n): plots = [0] + flowerbed + [0] p = 1 while p &lt;= len(flowerbed) and n &gt; 0: if plots[p] == 0 and plots[p-1] == 0 and plots[p+1] == 0: plots[p] = 1 n -= 1 p += 1 return n == 0 974. Subarray Sums Divisible by Kè¿žç»­çš„å­æ•°ç»„çš„å’Œèƒ½è¢«Kæ•´é™¤çš„ä¸ªæ•°ã€‚åŽŸé¢˜1234Input: A = [4,5,0,-2,-3,1], K = 5Output: 7Explanation: There are 7 subarrays with a sum divisible by K = 5:[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3] æ–¹æ³•ä¸€ï¼šè¿™é“é¢˜æ²¡æœ‰åœ¨è§„å®šæ—¶é—´å†…å®Œæˆï¼Œæ­¤ç­”æ¡ˆå‚è€ƒäº†æŽ’åç¬¬ä¸€çš„å¤§ä½¬ï¼Œç„¶åŽä½¿ç”¨defaultdictè¿›è¡Œäº†æ”¹è¿›ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªè¯¦ç»†çš„è§£ç­”ã€‚ä¸è¿‡é‚£é‡Œç»™å‡ºçš„ç­”æ¡ˆæ²¡æœ‰è¿™ä¸ªç®€å•ï¼Œä¸è¿‡æ€è·¯å¤§ä½“ç›¸åŒã€‚ å‡è®¾é€šè¿‡sum(i, j)è¡¨ç¤ºåˆ‡ç‰‡[i: j]çš„æ€»å’Œï¼Œå¦‚æžœsum(i, j)èƒ½è¢«Kæ•´é™¤ï¼Œåˆ™è¯´æ˜Žsum(0, j) - sum(0, i)ä¹Ÿèƒ½è¢«Kæ•´é™¤ï¼Œå³å¯¹sum(0, j) % K == sum(0, i) % Kã€‚ä¸‹é¢çš„è§£æ³•ä½¿ç”¨ä¸€ä¸ªå­—å…¸è®°å½•äº†ä½™æ•°çš„ä¸ªæ•°ã€‚å½“ä½™æ•°ç¬¬äºŒæ¬¡å‡ºçŽ°çš„æ—¶å€™ï¼Œå¼€å§‹è®¡æ•°ï¼Œä½†0çš„æ—¶å€™é™¤å¤–ï¼Œå› ä¸ºæ•´é™¤äº†å°±äº§ç”Ÿç»“æžœäº†ã€‚ ç„¶åŽå†çœ‹ç´¯åŠ çš„æ–¹æ³•ä»¥ä¸‹æ–‡ç¬¬3è¡Œlogä¸ºä¾‹ï¼Œmodåˆä¸º4ï¼Œè¿™æ—¶å®ƒå’Œä¹‹å‰ä½™æ•°ä¸º4çš„çš„æ•°ç»„éƒ½å¯ä»¥äº§ç”Ÿä¸€ä¸ªç»“æžœå³[4, 5, 0] - [4] = [5, 0] å’Œ[4 , 5, 0] - [4, 5] = [0]æ‰€ä»¥è¦ç´¯åŠ åŽŸæ¥çš„å’Œã€‚ 1234567891011121314def subarraysDivByK(self, A, K): from collections import defaultdict m = defaultdict(int) m[0] = 1 total, ans = 0, 0 for i, num in enumerate(A): total += num sum_p = total % K ans += m[sum_p] m[sum_p] += 1 print('sum subarray &#123;&#125; total is &#123;&#125;, mod is &#123;&#125;, ans is &#123;&#125;, &#123;&#125;'.format( A[:i+1], total, sum_p, ans, m )) return ans 123456sum subarray [4] total is 4, mod is 4, ans is 0, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 1, 4: 1&#125;)sum subarray [4, 5] total is 9, mod is 4, ans is 1, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 1, 4: 2&#125;)sum subarray [4, 5, 0] total is 9, mod is 4, ans is 3, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 1, 4: 3&#125;)sum subarray [4, 5, 0, -2] total is 7, mod is 2, ans is 3, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 1, 4: 3, 2: 1&#125;)sum subarray [4, 5, 0, -2, -3] total is 4, mod is 4, ans is 6, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 1, 4: 4, 2: 1&#125;)sum subarray [4, 5, 0, -2, -3, 1] total is 5, mod is 0, ans is 7, defaultdict(&lt;class &apos;int&apos;&gt;, &#123;0: 2, 4: 4, 2: 1&#125;) 643. Maximum Average Subarray Iæœ€å¤§çš„è¿žç»­çš„é•¿åº¦ä¸ºkçš„å­æ•°ç»„çš„å¹³å‡å€¼ã€‚åŽŸé¢˜123Input: [1,12,-5,-6,50,3], k = 4Output: 12.75Explanation: Maximum average is (12-5-6+50)/4 = 51/4 = 12.75 æ–¹æ³•ä¸€ï¼šå‚è€ƒäº†stefenå¤§ç¥žçš„ç­”æ¡ˆï¼Œè‡ªå·±å†™çš„æ»‘åŠ¨çª—å£å±…ç„¶è¶…æ—¶äº†ã€‚accumulateä¹Ÿä¸æ˜¯æƒ³ä¸åˆ°ï¼Œæ­¤ç­”æ¡ˆåŽ‰å®³çš„åœ°æ–¹åœ¨äºŽ è¡¥0 å’Œmapæ“ä½œã€‚åƒè¿™ç§å›ºå®šé•¿åº¦çš„æ»‘åŠ¨çª—å£ä½¿ç”¨è¡¥0çš„accumulateï¼Œå¯ä»¥ç”¨åˆ°å…¶ä»–çš„é¢˜ä¸Šã€‚ 123def findMaxAverage(self, nums, k): sums = [0] + list(itertools.accumulate(nums)) return max(map(operator.sub, sums[k:], sums)) / k 645. Set Mismatch1~næ•°ç»„ä¸­åŒ…å«ä¸€ä¸ªé‡å¤çš„å…ƒç´ å’Œä¸€ä¸ªç¼ºå¤±çš„å…ƒç´ ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ã€‚åŽŸé¢˜12Input: nums = [1,2,2,4]Output: [2,3] æ–¹æ³•ä¸€ï¼šå¼€å§‹è¿˜æƒ³ç€ç”¨Counterå®žçŽ°ï¼Œæœ‰äº›æ„šè ¢ã€‚ 123def findErrorNums(self, nums): diff_sum = sum(set(nums)) return sum(nums)-diff_sum, sum(range(1, len(nums)+1))-diff_sum æ–¹æ³•äºŒï¼šåœ¨åŽŸæ•°ç»„å…ƒç´ *-1è®°å½•ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºå¸¸æ•°ï¼Œä½†æ˜¯æ”¹å˜äº†åŽŸæ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦ç¨å¾®é«˜ä¸€ç‚¹ï¼Œå› ä¸ºè¿­ä»£ä¸¤æ¬¡ã€‚ 12345678910111213def findErrorNums(self, nums: 'List[int]') -&gt; 'List[int]': dup, miss = -1, 1 for num in nums: if nums[abs(num)-1] &lt; 0: dup = abs(num) else: nums[abs(num)-1] *= -1 for i in range(len(nums)): if nums[i] &gt; 0: miss = i + 1 return dup, miss æ–¹æ³•ä¸‰ï¼šXORã€‚ 661. Image Smootherä½¿å›¾ç‰‡å¹³æ»‘æ¨¡ç³Šï¼Œä¸€ä¸ªçŸ©é˜µä½¿æ¯ä¸ªç‚¹çš„å€¼ä¸ºå‘¨å›´æ‰€æœ‰ç‚¹çš„å¹³å‡å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚åŽŸé¢˜123456789101112Input:[[1,1,1], [1,0,1], [1,1,1]]Output:[[0, 0, 0], [0, 0, 0], [0, 0, 0]]Explanation:For the point (0,0), (0,2), (2,0), (2,2): floor(3/4) = floor(0.75) = 0For the point (0,1), (1,0), (1,2), (2,1): floor(5/6) = floor(0.83333333) = 0For the point (1,1): floor(8/9) = floor(0.88888889) = 0 æ–¹æ³•ä¸€ï¼šå‚è€ƒäº†è¯„è®ºåŒºä¸€ä½æœ‹å‹çš„å†™æ³•ï¼Œä¸è¿‡æ•ˆçŽ‡ä¸æ˜¯å¾ˆé«˜ï¼Œ800msï¼ŒSolutionç»™å‡ºçš„æ–¹æ³•ä¹Ÿæ˜¯è¿™ä¸ªé€Ÿåº¦ï¼Œçœ‹æ¥å¦‚æžœä¼˜åŒ–çš„è¯ï¼Œå¯èƒ½ä½¿ç”¨numpyä¼šå¥½ä¸€ç‚¹ã€‚ 1234567891011def imageSmoother(self, M): import itertools R, C = len(M), len(M[0]) res = [[0]*C for _ in range(R)] offset = list(itertools.product([-1, 0, 1], [-1, 0, 1])) for i in range(R): for j in range(C): points = [M[i+x][j+y] for x, y in offset if 0&lt;=i+x&lt;R and 0&lt;=j+y&lt;C] res[i][j] = sum(points) // len(points) return res 665. Non-decreasing Arrayåˆ¤æ–­æ˜¯å¦æ”¹å˜ä¸€ä¸ªæ•°ï¼Œå¯ä½¿å…¶å˜æˆå•è°ƒé€’å¢žæ•°ç»„ã€‚åŽŸé¢˜123Input: [4,2,3]Output: TrueExplanation: You could modify the first 4 to 1 to get a non-decreasing array. 12345678910def checkPossibility(self, nums): n = len(nums) p = None for i in range(n-1): if nums[i] &gt; nums[i+1]: if p is not None: return False p = i return (not p) or p == n-2 or nums[p-1] &lt;= nums[p+1] or \ nums[p] &lt;= nums[p+2] If p = 0, then we could make the array good by setting A[p] = A[p+1] if p = len(A) - 2, then we could make the array good by setting A[p+1] = A[p] Otherwise, A[p-1], A[p], A[p+1], A[p+2] all exist, and: change A[p] to be between A[p-1] and A[p+1] if possible, or: [4, 8, 6] change A[p+1] to be between A[p] and A[p+2] if possible. [4, 5, 3, 6] 674. Longest Continuous Increasing Subsequenceæœ€é•¿è¿žç»­é€’å¢žå­æ•°ç»„é•¿åº¦ã€‚åŽŸé¢˜1234Input: [1,3,5,4,7]Output: 3Explanation: The longest continuous increasing subsequence is [1,3,5], its length is 3. Even though [1,3,5,7] is also an increasing subsequence, it&apos;s not a continuous one where 5 and 7 are separated by 4. 12345678def findLengthOfLCIS(self, nums: 'List[int]') -&gt; 'int': ans = anchor = 0 for i in range(len(nums)): if i and nums[i] &lt;= nums[i-1]: anchor = i else: ans = max(ans, i-anchor+1) return ans 682. Baseball Gameæ£’çƒæ¸¸æˆï¼Œç»™äº†ä¸€äº›ç§¯åˆ†è§„åˆ™ã€‚åŽŸé¢˜12345678Input: [&quot;5&quot;,&quot;2&quot;,&quot;C&quot;,&quot;D&quot;,&quot;+&quot;]Output: 30Explanation: Round 1: You could get 5 points. The sum is: 5.Round 2: You could get 2 points. The sum is: 7.Operation 1: The round 2&apos;s data was invalid. The sum is: 5. Round 3: You could get 10 points (the round 2&apos;s data has been removed). The sum is: 15.Round 4: You could get 5 + 10 = 15 points. The sum is: 30. 123456789101112def calPoints(self, ops): stack = [] for op in ops: if op == 'C': stack.pop() elif op == 'D': stack.append(stack[-1]*2) elif op == '+': stack.append(stack[-1] + stack[-2]) else: stack.append(int(op)) return sum(stack) 690. Employee Importanceå‘˜å·¥é‡è¦å€¼ã€‚åŽŸé¢˜1234Input: [[1, 5, [2, 3]], [2, 3, []], [3, 3, []]], 1Output: 11Explanation:Employee 1 has importance value 5, and he has two direct subordinates: employee 2 and employee 3. They both have importance value 3. So the total importance value of employee 1 is 5 + 3 + 3 = 11. æ–¹æ³•ä¸€ï¼šiteratively. 12345678def getImportance(self, employees, id): emp_dict = &#123;ep.id: (ep.importance, ep.subordinates) for ep in employees&#125; res, stack = 0, [id] while stack: value, subs = emp_dict.get(stack.pop()) res += value stack += subs return res æ–¹æ³•äºŒï¼šrecursively. 12345def getImportance(self, employees, id): emp_dict = &#123;ep.id: (ep.importance, ep.subordinates) for ep in employees&#125; def dfs(pk): return emp_dict[pk][0] + sum(dfs(sub) for sub in emp_dict[pk][1]) return dfs(id) 697. Degree of an Arraydegreeè¿™é‡Œè¡¨ç¤ºæ•°ç»„æœ€å¸¸è§çš„å…ƒç´ çš„é¢‘çŽ‡ï¼Œç„¶åŽåœ¨è¿žç»­çš„å­æ•°ç»„ä¸­å¯»æ‰¾åŒæ ·çš„degreeï¼Œæ±‚æœ€å°å­æ•°ç»„çš„é•¿åº¦ã€‚åŽŸé¢˜1234567Input: [1, 2, 2, 3, 1]Output: 2Explanation: The input array has a degree of 2 because both elements 1 and 2 appear twice.Of the subarrays that have the same degree:[1, 2, 2, 3, 1], [1, 2, 2, 3], [2, 2, 3, 1], [1, 2, 2], [2, 2, 3], [2, 2]The shortest length is 2. So return 2. æ–¹æ³•ä¸€ï¼šä½¿ç”¨Counter å’Œindex. 600msæœ‰ç‚¹æ…¢ã€‚ 12345678910111213def findShortestSubArray(self, nums): from collections import Counter c = Counter(nums) degree = None res = n = len(nums) for num, count in c.most_common(): if degree and count != degree: break min_len = n - nums[::-1].index(num) - 1 - nums.index(num) + 1 # print(min_len, num) res = min(res, min_len) degree = count return res æ–¹æ³•äºŒï¼šä½¿ç”¨dictè®°å½•ç´¢å¼•ã€‚ 1234567891011121314def findShortestSubArray(self, nums): c = collections.defaultdict(int) left, right = &#123;&#125;, &#123;&#125; for i, num in enumerate(nums): if num not in left: left[num] = i right[num] = i c[num] += 1 res = len(nums) degree = max(c.values()) for num, count in c.items(): if count == degree: res = min(res, right[num]-left[num]+1) return res æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Counter + dict. 1234567891011121314def findShortestSubArray(self, nums: 'List[int]') -&gt; 'int': c = collections.Counter(nums) left, right = &#123;&#125;, &#123;&#125; for i, num in enumerate(nums): if num not in left: left[num] = i right[num] = i degree, res = 0, len(nums) for num, count in c.most_common(): if degree and count != degree: break res = min(res, right[num]-left[num]+1) degree = count return res 724. Find Pivot Indexæ‰¾åˆ°ä¸­å¿ƒç´¢å¼•ï¼Œä½¿å¾—å·¦å³ä¸¤è¾¹å’Œç›¸ç­‰ã€‚å·¦å³æ±‚å’Œæ—¶å‡ä¸åŒ…å«è¯¥ç´¢å¼•ã€‚åŽŸé¢˜12345678910Input: nums = [1, 7, 3, 6, 5, 6]Output: 3Explanation: The sum of the numbers to the left of index 3 (nums[3] = 6) is equal to the sum of numbers to the right of index 3.Also, 3 is the first index where this occurs.Input:nums = [1,0]Output: 0 æ–¹æ³•ä¸€ï¼šæŒ‡é’ˆã€‚ 123456789def pivotIndex(self, nums): left, right, i = 0, sum(nums), 0 while i &lt; len(nums): left += nums[i-1] if i &gt; 0 else 0 right -= nums[i] if left == right: return i i += 1 return -1 æ–¹æ³•äºŒï¼šä¸ä½¿ç”¨æŒ‡é’ˆã€‚ 1234567def pivotIndex(self, nums): S, left = sum(nums), 0 for i, num in enumerate(nums): if left == S-left-num: return i left += num return -1 985. Sum of Even Numbers After Queriesè®¡ç®—QueriesåŽï¼Œç´¯åŠ æ‰€æœ‰çš„å¶æ•°ã€‚åŽŸé¢˜12345678Input: A = [1,2,3,4], queries = [[1,0],[-3,1],[-4,0],[2,3]]Output: [8,6,2,4]Explanation: At the beginning, the array is [1,2,3,4].After adding 1 to A[0], the array is [2,2,3,4], and the sum of even values is 2 + 2 + 4 = 8.After adding -3 to A[1], the array is [2,-1,3,4], and the sum of even values is 2 + 4 = 6.After adding -4 to A[0], the array is [-2,-1,3,4], and the sum of even values is -2 + 4 = 2.After adding 2 to A[3], the array is [-2,-1,3,6], and the sum of even values is -2 + 6 = 4. 1234567891011def sumEvenAfterQueries(self, A: 'List[int]', queries: 'List[List[int]]') -&gt; 'List[int]': res = [] sum_even = sum(x for x in A if x &amp; 1 == 0) for v, i in queries: if A[i] &amp; 1 == 0: sum_even -= A[i] A[i] += v if A[i] &amp; 1 == 0: sum_even += A[i] res.append(sum_even) return res 986. Interval List Intersectionsä¸¤ä¸ªåŒºé—´åˆ—è¡¨æ±‚ç›¸äº¤ã€‚åŽŸé¢˜ 123Input: A = [[0,2],[5,10],[13,23],[24,25]], B = [[1,5],[8,12],[15,24],[25,26]]Output: [[1,2],[5,5],[8,10],[15,23],[24,24],[25,25]]Reminder: The inputs and the desired output are lists of Interval objects, and not arrays or lists. 12345678910111213def intervalIntersection(self, A: 'List[Interval]', B: 'List[Interval]') -&gt; 'List[Interval]': i = j = 0 res = [] while i &lt; len(A) and j &lt; len(B): lo = max(A[i].start, B[j].start) hi = min(A[i].end, B[j].end) if lo &lt;= hi: res.append(Interval(lo, hi)) if A[i].end &gt; B[j].end: j += 1 else: i += 1 return res 733. Flood Fillâ€œæ´ªæ°´å¡«å……â€ï¼Œç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä¸€å¼ å›¾ç‰‡çš„åƒç´ ï¼Œç„¶åŽæŒ‡å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªé¢œè‰²ï¼Œå°†è¿™ä¸ªç‚¹å’Œä¸Šä¸‹å·¦å³å››ä¸ªç‚¹ä½¿ç”¨æ–°çš„é¢œè‰²å¡«å……ï¼Œå’Œè¿™ä¸ªç‚¹åŽŸæ¥ç›¸åŒçš„é¢œè‰²çš„ç‚¹ä¹Ÿå—åˆ°å½±å“ï¼Œä¾æ¬¡æ‰©æ•£ï¼Œè¿”å›žæ–°çš„å›¾ç‰‡æ•°ç»„ã€‚åŽŸé¢˜123456789Input: image = [[1,1,1],[1,1,0],[1,0,1]]sr = 1, sc = 1, newColor = 2Output: [[2,2,2],[2,2,0],[2,0,1]]Explanation: From the center of the image (with position (sr, sc) = (1, 1)), all pixels connected by a path of the same color as the starting pixel are colored with the new color.Note the bottom corner is not colored 2, because it is not 4-directionally connectedto the starting pixel. æ–¹æ³•ä¸€ï¼šdfs. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœç›®æ ‡ç‚¹ä¸Žé¢œè‰²ç›¸åŒï¼Œåˆ™åŽŸå›¾ä¸å˜ã€‚ 1234567891011121314151617def floodFill(self, image, sr, sc, newColor): rows, cols = len(image), len(image[0]) old_val = image[sr][sc] def spread(x, y): if old_val == image[x][y]: image[x][y] = newColor if x-1 &gt;= 0: spread(x-1, y) if x+1 &lt; rows: spread(x+1, y) if y-1 &gt;= 0: spread(x, y-1) if y+1 &lt; cols: spread(x, y+1) if old_val != newColor: spread(sr, sc) return image æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•çš„å˜å½¢ã€‚çœ‹èµ·æ¥æ›´ä¼˜é›…ã€‚ 1234567891011def floodFill(self, image, sr, sc, newColor): def dfs(x, y): image[x][y] = newColor for x, y in ((x-1, y), (x+1, y), (x, y+1), (x, y-1)): if 0&lt;=x&lt;rows and 0&lt;=y&lt;cols and image[x][y]==old_val: dfs(x, y) old_val, rows, cols = image[sr][sc], len(image), len(image[0]) if old_val != newColor: dfs(sr, sc) return image 747. Largest Number At Least Twice of Othersæœ€å¤§çš„æ•°æ˜¯å¦å¤§äºŽç­‰äºŽæ‰€æœ‰å…¶å®ƒæ•°çš„ä¸¤å€ã€‚åŽŸé¢˜1234Input: nums = [3, 6, 1, 0]Output: 1Explanation: 6 is the largest integer, and for every other number in the array x,6 is more than twice as big as x. The index of value 6 is 1, so we return 1. 12345def dominantIndex(self, nums: 'List[int]') -&gt; 'int': max_v = max(nums) if all(max_v &gt;= 2*x for x in nums if x!=max_v): return nums.index(max_v) return -1 766. Toeplitz MatrixToeplitzçŸ©é˜µï¼Œå³å¯¹è§’çŸ©é˜µï¼Œæ–œè§’å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªçŸ©é˜µæ˜¯å¦æ˜¯å¯¹è§’çŸ©é˜µã€‚åŽŸé¢˜1234567891011Input:matrix = [ [1,2,3,4], [5,1,2,3], [9,5,1,2]]Output: TrueExplanation:In the above grid, the diagonals are:&quot;[9]&quot;, &quot;[5, 5]&quot;, &quot;[1, 1, 1]&quot;, &quot;[2, 2, 2]&quot;, &quot;[3, 3]&quot;, &quot;[4]&quot;.In each diagonal all elements are the same, so the answer is True. æ–¹æ³•ä¸€ï¼šåµŒå¥—å¾ªçŽ¯ã€‚ 1234def isToeplitzMatrix(self, matrix: 'List[List[int]]') -&gt; 'bool': return all(x==0 or y==0 or matrix[x-1][y-1]==val for x, rows in enumerate(matrix) for y, val in enumerate(rows)) æ–¹æ³•äºŒï¼šåˆ‡ç‰‡ï¼Œä¸Žä¸Šè¿°æ–¹æ³•åœ¨æ•ˆçŽ‡ç©ºé—´ä¸Šæ²¡æœ‰å·®è·ï¼Œæ›´å–œæ¬¢è¿™ä¸ªæ–¹æ³•ã€‚ 123def isToeplitzMatrix(self, matrix: 'List[List[int]]') -&gt; 'bool': return all(matrix[i][1:]==matrix[i-1][:-1] for i in range(1, len(matrix))) 830. Positions of Large Groupsæ ¹æ®æŒ‡å®šå­—ç¬¦ä¸²åˆ†ç»„ï¼Œè¶…è¿‡ä¸‰ä¸ªå…ƒç´ çš„ç§°ä¸ºå¤§ç»„ï¼Œæ±‚æ‰€æœ‰å¤§ç»„çš„ä½ç½®ã€‚åŽŸé¢˜12Input: &quot;abcdddeeeeaabbbcd&quot;Output: [[3,5],[6,9],[12,14]] æ–¹æ³•ä¸€ï¼šgroupby. 123456789def largeGroupPositions(self, S: 'str') -&gt; 'List[List[int]]': groups = itertools.groupby(S) index, ans = 0, [] for s, group in groups: count = len(list(group)) if count &gt;= 3: ans.append([index, index+count-1]) index += count return ans æ–¹æ³•äºŒï¼štwo pointers. 123456789def largeGroupPositions(self, S: 'str') -&gt; 'List[List[int]]': i = 0 # start of each group ans = [] for j in range(len(S)): if j == len(S)-1 or S[j] != S[j+1]: if j - i &gt;= 2: ans.append([i, j]) i = j + 1 return ans 832. Flipping an Imageæ°´å¹³ç¿»è½¬ä¸€å¼ å›¾ç‰‡å¹¶åè½¬(invert). åŽŸé¢˜1234Input: [[1,1,0],[1,0,1],[0,0,0]]Output: [[1,0,0],[0,1,0],[1,1,1]]Explanation: First reverse each row: [[0,1,1],[1,0,1],[0,0,0]].Then, invert the image: [[1,0,0],[0,1,0],[1,1,1]] 12def flipAndInvertImage(self, A: 'List[List[int]]') -&gt; 'List[List[int]]': return [[x ^ 1 for x in reversed(row)] for row in A] 840. Magic Squares In Gridæ‰¾å‡ºgridä¸­æ•°ç‹¬çš„ä¸ªæ•°ã€‚åŽŸé¢˜12345678910111213141516Input: [[4,3,8,4], [9,5,1,9], [2,7,6,2]]Output: 1Explanation: The following subgrid is a 3 x 3 magic square:438951276while this one is not:384519762In total, there is only one magic square inside the given grid. æ–¹æ³•ä¸€ï¼šBrute Force. 12345678910111213141516171819202122232425def numMagicSquaresInside(self, grid: 'List[List[int]]') -&gt; 'int': digits = set(range(1, 10)) ans = 0 def is_sudoku(matrix): if matrix[1][1] != 5: # for optimization return False if set(sum(matrix, [])) != digits: return False if &#123;sum(row) for row in matrix&#125; != &#123;15&#125;: return False if &#123;sum(col) for col in zip(*matrix)&#125; != &#123;15&#125;: return False if matrix[0][0] + matrix[1][1] + matrix[2][2] != 15 or \ matrix[2][0] + matrix[1][1] + matrix[0][2] != 15: return False return True for i in range(len(grid)-2): for j in range(len(grid[0])-2): matrix = [rows[j:j+3] for rows in grid[i:i+3]] # print(matrix) if is_sudoku(matrix): ans += 1 return ans æ–¹æ³•äºŒï¼šå‚è€ƒäº†å¤§ç¥žçš„è§£æ³•ã€‚å¤–å±‚å¾ªçŽ¯ä¸­åªæŠŠå·¦ä¸Šè§’çš„ç‚¹ä¼ å…¥å­æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œå¹¶åœ¨å¤–å¾ªçŽ¯åˆ¤æ–­ä¸­å¿ƒç‚¹æ˜¯å¦ä¸º5ï¼› å¦å¤–ä¸€ä¸ªè§„å¾‹å°±æ˜¯ï¼Œæ»¡è¶³æ¡ä»¶æ•°ç‹¬çš„9å®«æ ¼ä¸­ï¼Œ4ä¸ªè§’éƒ½æ˜¯å¶æ•°ï¼Œ4ä¸ªè¾¹éƒ½æ˜¯å¥‡æ•°ï¼Œå¹¶ä¸”æ²¿ç€ä¸€ä¸ªæ–¹å‘å¿…ç„¶æ˜¯â€™43816729â€™çš„æ­£åºæˆ–è€…å€’åºã€‚æ‰€ä»¥å½“å·¦ä¸Šè§’ä¸ºå¶æ•°æ—¶ï¼Œå¹¶æ»¡è¶³é¡ºåºè¦æ±‚ï¼Œå¦ä¸¤ä¸ªæ¡ä»¶ä¹Ÿè‡ªç„¶æ»¡è¶³äº†ã€‚ 1234567891011def numMagicSquaresInside(self, g: 'List[List[int]]') -&gt; 'int': def is_sudoku(i, j): # clockwise begin i, j s = ''.join(str(g[i + x//3][j + x%3]) for x in (0, 1, 2, 5, 8, 7, 6, 3)) return g[i][j] &amp; 1 == 0 and ( s in '43816729'*2 or s in '43816729'[::-1]*2) return sum(is_sudoku(i, j) for i in range(len(g)-2) for j in range(len(g[0])-2) if g[i+1][j+1] == 5) 849. Maximize Distance to Closest Personä¸€æŽ’ç”µå½±é™¢åº§ä½ï¼Œç¦»äººçš„æœ€è¿œè·ç¦»ã€‚æ•°ç»„ä¸­å¿…å«æœ‰ä¸€ä¸ª1å’Œ0ã€‚åŽŸé¢˜123456Input: [1,0,0,0,1,0,1]Output: 2Explanation: If Alex sits in the second open seat (seats[2]), then the closest person has distance 2.If Alex sits in any other open seat, the closest person has distance 1.Thus, the maximum distance to the closest person is 2. æ–¹æ³•ä¸€ï¼šgroupbyã€‚éœ€è¦æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼šä¸€ä¸ªæ˜¯groupæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¿…é¡»è½¬æˆlistæ‰å¯ä»¥æ±‚é•¿åº¦ï¼›å¦ä¸€ä¸ªåœ°æ–¹æ˜¯reversed(seats)ä¹Ÿæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œæ‰€ä»¥è¿™é‡Œè¦ç”¨åˆ‡ç‰‡ã€‚ 1234567def maxDistToClosest(self, seats: 'List[int]') -&gt; 'int': ans = 0 groups = itertools.groupby(seats) for seat, group in groups: if not seat: ans = max(ans, (len(list(group))+1) // 2) return max(ans, seats.index(1), seats[::-1].index(1)) æ–¹æ³•äºŒï¼štwo pointers. åœ¨ç¬¬ä¸€ä¸ª1å‡ºçŽ°ä¹‹å‰é•¿åº¦éƒ½æ˜¯jã€‚ç›´åˆ°ç¬¬äºŒä¸ª1å‡ºçŽ°æ—¶ï¼Œè®¡ç®—æ–¹å¼å˜ä¸ºå¹³å‡æ•°ã€‚è¿™é‡Œä½¿ç”¨i = j + 1è€Œä¸æ˜¯i = jæ˜¯å› ä¸ºæœ‰æ ¹æ®iåˆ¤æ–­çš„æ¡ä»¶ï¼Œåœ¨è®¡ç®—å¹³å‡è·ç¦»æ—¶åˆå°†å…¶åŠ äº†å›žæ¥ã€‚æœ€åŽçš„len(seats)-iæ˜¯ä¸ºäº†[1, 0, 0, 0]æœ«å°¾çš„0ä½œç»“ç®—ã€‚ 123456789101112def maxDistToClosest(self, seats: 'List[int]') -&gt; 'int': ans = i = 0 for j in range(len(seats)): # print(j, i, ans) if seats[j] == 1: dis = (j - i + 1) // 2 if i == 0: dis = j ans = max(ans, dis) i = j + 1 # print(ans) return max(ans, len(seats)-i) æ–¹æ³•ä¸‰ï¼šæ–¹æ³•äºŒçš„ç®€æ´å†™æ³•ã€‚ 1234567def maxDistToClosest(self, seats: 'List[int]') -&gt; 'int': ans = i = 0 for j in range(len(seats)): if seats[j] == 1: ans = max(ans, ((j-i+1)//2, j)[i==0]) i = j + 1 return max(ans, len(seats)-i) 867. Transpose Matrixè½¬ç½®çŸ©é˜µã€‚åŽŸé¢˜12Input: [[1,2,3],[4,5,6],[7,8,9]]Output: [[1,4,7],[2,5,8],[3,6,9]] æ–¹æ³•ä¸€ï¼šzipã€‚ è¿™é‡Œtestcaseå¹¶æ²¡æœ‰æ£€æµ‹å…¶ä¸­çš„å…ƒç´ æ˜¯å¦ä¸ºlistã€‚æ‰€ä»¥ä¸éœ€è¦è½¬æ¢ã€‚ 12def transpose(self, A: 'List[List[int]]') -&gt; 'List[List[int]]': return list(zip(*A)) æ–¹æ³•äºŒï¼šzipåŽŸç†ã€‚ 12def transpose(self, A: 'List[List[int]]') -&gt; 'List[List[int]]': return list(map(lambda *arg: arg, *A)) æ–¹æ³•ä¸‰ï¼šåˆ—è¡¨ç”Ÿæˆå¼ã€‚ 123def transpose(self, A: 'List[List[int]]') -&gt; 'List[List[int]]': return [[A[i][j] for i in range(len(A))] for j in range(len(A[0]))] æ–¹æ³•å››ï¼šnumpy. 123def transpose(self, A): import numpy as np return np.transpose(A).tolist() 888. Fair Candy Swapå…¬å¹³çš„ç³–æžœäº¤æ¢ã€‚ä¸¤ä¸ªäººæœ‰å¾ˆå¤šç³–æžœé…’å§ï¼Œäº¤æ¢å…¶ä¸­ä¸€é—´ä½¿ï¼Œç³–æžœç›¸åŒï¼Œå¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›žä»»æ„ä¸€ä¸ªã€‚åŽŸé¢˜12Input: A = [1,1], B = [2,2]Output: [1,2] æ–¹æ³•ä¸€ï¼šSolutionä¸­çš„ç­”æ¡ˆã€‚ 123456def fairCandySwap(self, A: 'List[int]', B: 'List[int]') -&gt; 'List[int]': diff = (sum(B) - sum(A)) // 2 set_b = set(B) for a in A: if diff + a in set_b: return a, diff + a 896. Monotonic Arrayåˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯å•è°ƒé€’å¢žæˆ–é€’å‡ã€‚åŽŸé¢˜12345Input: [1,2,2,3]Output: trueInput: [6,5,4,4]Output: true æ–¹æ³•ä¸€ï¼šè¿­ä»£ä¸¤æ¬¡ã€‚ä½†æ˜¯ç”±äºŽæ˜¯ç”Ÿæˆå™¨ï¼Œå¹³å‡æ•ˆçŽ‡æ¯”ä¸‹é¢è¦é«˜ã€‚ 123def isMonotonic(self, A: 'List[int]') -&gt; 'bool': return all(A[i] &lt;= A[i+1] for i in range(len(A)-1)) or \ all(A[i] &gt;= A[i+1] for i in range(len(A)-1)) æ–¹æ³•äºŒï¼šè¿­ä»£ä¸€æ¬¡ã€‚ 12345678910def isMonotonic(self, A: 'List[int]') -&gt; 'bool': increasing = decreasing = True for i in range(len(A)-1): if A[i+1] &gt; A[i]: decreasing = False if A[i+1] &lt; A[i]: increasing = False if not decreasing and not increasing: return False return True æ–¹æ³•ä¸‰ï¼špython2çš„ä¸€ç§å†™æ³•ã€‚ 12def isMonotonic(self, A): return not &#123;cmp(i, j) for i, j in zip(A, A[1:])&#125; &gt;= &#123;1, -1&#125; 977. Squares of a Sorted Arrayæ±‚ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¹³æ–¹åŽçš„æœ‰åºç»“æžœã€‚åŽŸé¢˜12Input: [-4,-1,0,3,10]Output: [0,1,9,16,100] æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆå¡«å……æ•°ç»„ã€‚ 123456789101112def sortedSquares(self, A: 'List[int]') -&gt; 'List[int]': answer = [0] * len(A) l, r = 0, len(A) - 1 while l &lt;= r: left, right = abs(A[l]), abs(A[r]) if left &gt; right: answer[r - l] = left * left l += 1 else: answer[r - l] = right * right r -= 1 return answer 941. Valid Mountain ArrayéªŒè¯æ˜¯å¦æ˜¯å±±å³°æ•°ç»„ï¼Œå‰æ®µå•è°ƒå¢žï¼ˆä¸é‡å¤ï¼‰ï¼ŒåŽæ®µå•è°ƒå‡ï¼Œå¿…é¡»æ˜¯å•å³°å€¼ã€‚åŽŸé¢˜12Input: [0,3,2,1]Output: true æ–¹æ³•ä¸€ï¼šä¼ ç»Ÿè¿­ä»£æ–¹å¼ã€‚ 123456789101112def validMountainArray(self, A: 'List[int]') -&gt; 'bool': increasing = True for i in range(len(A)-1): if A[i] == A[i+1]: return False if A[i] &gt; A[i+1]: increasing = False if not increasing and (A[i] &lt; A[i+1] or i ==0): return False if i == len(A)-2 and increasing: return False return len(A) &gt;= 3 æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•æŒºæ–°é¢–ï¼Œæ ¹æ®å€¼æ¥é€’å¢žç´¢å¼•ã€‚ä¸­é€”æš‚åœä¸€ä¸‹åˆ¤æ–­å³°å€¼æ˜¯å¦åœ¨é¦–ä½ç‚¹ã€‚ 123456789def validMountainArray(self, A: 'List[int]') -&gt; 'bool': l, r = 0, len(A)-1 while l &lt; r and A[l] &lt; A[l+1]: l += 1 if l==0 or l == r: return False while l &lt; r and A[l] &gt; A[l+1]: l += 1 return l == r æ–¹æ³•ä¸‰ï¼šLeeç¥žçš„åŒæŒ‡é’ˆï¼Œæƒ³è±¡ä¸¤ä¸ªäººåŒæ—¶ä»Žå·¦å³ä¸¤è¾¹çˆ¬å±±ï¼Œæœ€ç»ˆæ˜¯å¦ç›¸é‡åœ¨ä¸€ç‚¹ã€‚ 12345def validMountainArray(self, A: 'List[int]') -&gt; 'bool': l, r, n = 0, len(A)-1, len(A) while l &lt; r and A[l] &lt; A[l+1]: l += 1 while r &gt; 0 and A[r] &lt; A[r-1]: r -= 1 return 0 &lt; l==r &lt; n-1 942. DI String Matchæ ¹æ®ä¸€ä¸ªâ€IDIDâ€å­—ç¬¦ä¸²ï¼ˆIè¡¨ç¤ºå¢žåŠ ï¼ŒDè¡¨ç¤ºå‡å°‘ï¼‰ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œç­”æ¡ˆä¸å”¯ä¸€ã€‚åŽŸé¢˜12Input: &quot;IDID&quot;Output: [0,4,1,3,2] 1234567891011def diStringMatch(self, S: 'str') -&gt; 'List[int]': l = r = 0 ans = [0] for s in S: if s == 'I': r += 1 ans.append(r) else: l -= 1 ans.append(l) return [x-l for x in ans] 994. Rotting Orangesè…çƒ‚çš„æ©˜å­ï¼Œ1è¡¨ç¤ºæ–°é²œï¼Œ2è¡¨ç¤ºè…çƒ‚ï¼Œæ¯åˆ†é’Ÿè…çƒ‚çš„ä¼šä¼ æŸ“ç»™å››å‘¨ä¸Šä¸‹å·¦å³çš„æ©˜å­ï¼Œé—®æ‰€æœ‰çš„æ©˜å­è…çƒ‚æœ€å°‘éœ€è¦å‡ åˆ†é’Ÿã€‚åŽŸé¢˜ æ–¹æ³•ä¸€ï¼šç«žèµ›æ—¶è™½ç„¶åšå‡ºæ¥äº†ï¼Œä½†æœ‰äº›ç‚¹æ²¡æƒ³å‡ºæ¥ï¼Œå…¶å®žæ˜¯BFSï¼Œè¿™æ ·ä¸€æƒ³é€€å‡ºæ¡ä»¶å°±å¾ˆæ¸…æ¥šäº†ã€‚ 12345678910111213141516171819def orangesRotting(self, g: 'List[List[int]]') -&gt; 'int': R, C = len(g), len(g[0]) rotted = ((x, y, 0) for x in range(R) for y in range(C) if g[x][y]==2) q = collections.deque(rotted) def to_rot(x, y): for x, y in ((x-1, y), (x, y-1), (x+1, y), (x, y+1)): if 0&lt;=x&lt;R and 0&lt;=y&lt;C and g[x][y]==1: yield x, y d = 0 while q: r, c, d = q.popleft() for sr, sc in to_rot(r, c): g[sr][sc] = 2 q.append((sr, sc, d+1)) if 1 in sum(g, []): return -1 return d 1002. Find Common Charactersåœ¨ç»™å®šçš„å•è¯åˆ—è¡¨ä¸­æ‰¾åˆ°å…¬å…±å­—ç¬¦ã€‚åŽŸé¢˜12Input: [&quot;bella&quot;,&quot;label&quot;,&quot;roller&quot;]Output: [&quot;e&quot;,&quot;l&quot;,&quot;l&quot;] 1234def commonChars(self, A: List[str]) -&gt; List[str]: from collections import Counter from functools import reduce return list(reduce(lambda x, y: x &amp; y, map(Counter, A)).elements()) 1007. Minimum Domino Rotations For Equal Rowæ—‹è½¬æœ€å°æ¬¡ï¼Œæ˜¯ä¸Šä¸‹çš„å¤šç±³è¯ºéª¨ç‰Œæœ‰ä¸€è¡Œå…¨éƒ¨ç›¸åŒã€‚åŽŸé¢˜ æ–¹æ³•ä¸€ï¼šç«žèµ›æ—¶å†™çš„Brute Force.å½“æ—¶è§‰å¾—ç‚’é¸¡ç¡¬æ ¸ã€‚ 12345678def minDominoRotations(self, A: List[int], B: List[int]) -&gt; int: ans = reduce(lambda x, y: set(x) &amp; set(y), zip(A, B)) if not ans: return -1 else: a = set(ans).pop() dul = sum(a==c==d for c, d in zip(A, B)) return min(A.count(a), B.count(a)) - dul æ–¹æ³•äºŒï¼šLeeç¥žçš„æ–¹æ³•ã€‚æœ‰ä¸ªåœ°æ–¹æƒ³é”™äº†ï¼Œæƒ³è¦ç®—å‡ºé‡å¤çš„å€¼ï¼Œå®žé™…ä¸Šå°±æ˜¯æ±‚éžç›®æ ‡å€¼çš„æœ€å°å€¼å°±è¡Œäº†ã€‚ 1234567def minDominoRotations(self, A: List[int], B: List[int]) -&gt; int: ans = reduce(lambda x, y: x &amp; y, map(set, zip(A, B))) if not ans: return -1 else: a = ans.pop() return min(len(A)-A.count(a), len(B)-B.count(a)) 48. Rotate ImageçŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ã€‚åŽŸé¢˜12345678910111213Given input matrix = [ [1,2,3], [4,5,6], [7,8,9]],rotate the input matrix in-place such that it becomes:[ [7,4,1], [8,5,2], [9,6,3]] æ–¹æ³•ä¸€ï¼šä½¿ç”¨zipã€‚ 12def rotate(self, matrix: List[List[int]]) -&gt; None: matrix[:] = list(zip(*reversed(matrix))) æ–¹æ³•äºŒï¼šé€šç”¨å†™æ³•ã€‚ 12345def rotate(self, matrix: List[List[int]]) -&gt; None: matrix.reverse() for i in range(len(matrix)): for j in range(i+1, len(matrix[0])): matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j] æ–¹æ³•ä¸‰ï¼šæ‰¾åˆ°å››ä¸ªç‚¹ï¼Œç›´æŽ¥äº’æ¢ã€‚ 123456def rotate(self, A: List[List[int]]) -&gt; None: n = len(A) for i in range(n//2): for j in range(n-n//2): A[i][j], A[~j][i], A[~i][~j], A[j][~i] = \ A[~j][i], A[~i][~j], A[j][~i], A[i][j] 695. Max Area of Islandæœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šdfs. 1234567891011121314def maxAreaOfIsland(self, grid: List[List[int]]) -&gt; int: R, C = len(grid), len(grid[0]) area, seen = 0, set() def spread(i, j): if not (0&lt;=i&lt;R and 0&lt;=j&lt;C and (i, j) not in seen and grid[i][j]): return 0 seen.add((i, j)) surrounds = ((i-1, j), (i+1, j), (i, j-1), (i, j+1)) return 1 + sum(map(lambda x: spread(x[0], x[1]), surrounds)) return max(spread(i, j) for i in range(R) for j in range(C)) 1020. Partition Array Into Three Parts With Equal Sumä¸€ä¸ªæ•°ç»„æ˜¯å¦å¯ä»¥åˆ†æˆä¸‰ä¸ªå’Œç›¸åŒçš„éƒ¨åˆ†ã€‚åŽŸé¢˜123Input: [0,2,1,-6,6,-7,9,1,2,0,1]Output: trueExplanation: 0 + 2 + 1 = -6 + 6 - 7 + 9 + 1 = 2 + 0 + 1 æ–¹æ³•ä¸€ï¼šç«žèµ›æ—¶å†™çš„Time: O(nÂ²)çš„æ–¹æ³•ã€‚ 12345678def canThreePartsEqualSum(self, A: List[int]) -&gt; bool: a = list(itertools.accumulate(A)) n, a_set = len(a), set(a) for i, total in enumerate(a): if total==a[-1]//3 and total*2 in a_set: if n-1-a[::-1].index(total*2) &gt; i: return True return False æ–¹æ³•äºŒï¼šå…¶å®žä¸éœ€è¦éåŽ†ã€‚æ¯éƒ¨åˆ†çš„å’Œå¯ä»¥é€šè¿‡æ€»å’Œ/3å¾—åˆ°ã€‚æ¯”å¦‚æ¯éƒ¨åˆ†å’Œä¸º3ï¼Œåªè¦æ‰¾åˆ°3å’Œ6ï¼Œå¹¶ä¸”3åœ¨6çš„å·¦è¾¹ã€‚ 12345678910111213141516def canThreePartsEqualSum(self, A: List[int]) -&gt; bool: a = list(itertools.accumulate(A)) total = sum(A) if total % 3 != 0: return False one = total // 3 two = one * 2 if one in a: l_index = a.index(one) else: return False if two in a: r_index = len(A) - 1 - a[::-1].index(two) else: return False return l_index &lt; r_index 1021. Best Sightseeing Pairå¾—åˆ†æœ€é«˜çš„ä¸¤ä¸ªæ™¯ç‚¹ã€‚åŽŸé¢˜ä¸¤ä¸ªæ™¯ç‚¹ä¹‹é—´æœ‰è·ç¦»ã€‚ 123Input: [8,1,5,2,6]Output: 11Explanation: i = 0, j = 2, A[i] + A[j] + i - j = 8 + 5 + 0 - 2 = 11 æ–¹æ³•ä¸€ï¼šcurä¿å­˜ç€ä¸€ä¸ªä¸Šä¸€æ¬¡æœ€å¥½çš„æ™¯ç‚¹ã€‚ 123456def maxScoreSightseeingPair(self, A: List[int]) -&gt; int: cur = res = 0 for a in A: res = max(res, cur + a) cur = max(cur, a) - 1 return res 1029. Binary Prefix Divisible By 5äºŒè¿›åˆ¶å‰ç¼€èƒ½å¦è¢«5æ•´é™¤ã€‚åŽŸé¢˜12Input: [0,1,1,1,1,1]Output: [true,false,false,false,true,false] æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚ 1234567def prefixesDivBy5(self, A: List[int]) -&gt; List[bool]: num, ans = 0, [] for d in A: num &lt;&lt;= 1 num |= d ans.append(not bool(num%5)) return ans æ–¹æ³•äºŒï¼šå–ä½™æ“ä½œå…·æœ‰ç´¯åŠ æ€§ï¼Œç®€å•çš„ä¼˜åŒ–æå‡äº†3å€çš„é€Ÿåº¦ã€‚ 12345678def prefixesDivBy5(self, A: List[int]) -&gt; List[bool]: num, ans = 0, [] for d in A: num &lt;&lt;= 1 num |= d num %= 5 ans.append(not bool(num)) return ans 1031. Number of Enclavesæ±‚è¢«å›°çš„åœ°ç‚¹ä¸ªæ•°ã€‚1è¡¨ç¤ºé™†åœ°ï¼Œä¸èƒ½å¤Ÿèµ°åˆ°è¾¹ç•Œçš„é™†åœ°ç§°ä¸ºè¢«å›°çš„é™†åœ°ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šç®€å•çš„DFS 1234567891011121314151617181920212223def numEnclaves(self, A: List[List[int]]) -&gt; int: if not A: return 0 R, C = len(A), len(A[0]) def spread(i, j): A[i][j] = 0 for x, y in ((i-1, j), (i+1, j), (i, j-1), (i, j+1)): if 0&lt;=x&lt;R and 0&lt;=y&lt;C and A[x][y] == 1: spread(x, y) for i in range(R): if A[i][0]==1: spread(i, 0) if A[i][C-1] == 1: spread(i, C-1) for j in range(C): if A[0][j] == 1: spread(0, j) if A[R-1][j] == 1: spread(R-1, j) return sum(sum(row) for row in A) 503. Next Greater Element IIä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ•°ç»„é¦–ä½è¿žæŽ¥ã€‚åŽŸé¢˜å’Œ1030é¢˜ç›¸ä¼¼ã€‚æ–¹æ³•ä¸€ï¼šé¦–ä½è¿žæŽ¥ï¼Œæ‰€ä»¥è¦éåŽ†ä¸¤æ¬¡ã€‚ 12345678def nextGreaterElements(self, nums: List[int]) -&gt; List[int]: ans, stack = [], [] for num in nums * 2: while stack and stack[-1][1] &lt; num: ans[stack.pop()[0]] = num stack.append((len(ans), num)) ans.append(-1) return ans[:len(nums)] æ–¹æ³•äºŒï¼šå®žé™…å¹¶ä¸éœ€è¦ä¿å­˜æ•°å­—ã€‚ 1234567def nextGreaterElements(self, nums: List[int]) -&gt; List[int]: ans, stack = [-1]*len(nums), [] for i in list(range(len(nums)))*2: while stack and nums[stack[-1]] &lt; nums[i]: ans[stack.pop()] = nums[i] stack.append(i) return ans]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeç®—æ³•é¢˜æ•´ç†ï¼ˆé“¾è¡¨ç¯‡ï¼‰LinkedList]]></title>
    <url>%2FLeetCode%E7%AE%97%E6%B3%95%E9%A2%98%E6%95%B4%E7%90%86%EF%BC%88%E9%93%BE%E8%A1%A8%E7%AF%87%EF%BC%89LinkedList%2F</url>
    <content type="text"><![CDATA[é“¾è¡¨çš„å®šä¹‰1234class ListNode: def __init__(self, x): self.val = x self.next = None 2. Add Two Numbersä¸¤ä¸ªé“¾è¡¨ç›¸åŠ 123Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)Output: 7 -&gt; 0 -&gt; 8Explanation: 342 + 465 = 807. 123456789101112131415def addTwoNumbers(l1, l2): l = head = ListNode(0) carry = 0 while l1 or l2 or carry: v1 = v2 = 0 if l1: v1 = l1.val l1 = l1.next if l2: v2 = l2.val l2 = l2.next carry, val = divmod(v1+v2+carry, 10) l.next = ListNode(val) l = l.next return head.next 445. Add Two Numbers IIè·Ÿä¸Šé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯è¿›ä½æ–¹å¼ä¸åŒã€‚åŽŸé¢˜12Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)Output: 7 -&gt; 8 -&gt; 0 -&gt; 7 æ–¹æ³•ä¸€ï¼šå…ˆreverseå†ç›¸åŠ ï¼Œæœ€åŽå†reverseã€‚ 1234567891011121314151617181920212223def addTwoNumbers(self, l1: ListNode, l2: ListNode) -&gt; ListNode: def reverse(head): prev = None while head: head.next, prev, head = prev, head, head.next return prev ans = head = ListNode(0) l1, l2 = reverse(l1), reverse(l2) carry = 0 while l1 or l2 or carry: v1 = v2 = 0 if l1: v1 = l1.val l1 = l1.next if l2: v2 = l2.val l2 = l2.next carry, val = divmod(v1+v2+carry, 10) head.next = ListNode(val) head = head.next return reverse(ans.next) æ–¹æ³•äºŒï¼šç”±äºŽPython intæ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥éåŽ†ç›¸åŠ ï¼Œå†ä»Žå°¾åˆ°å¤´è¿˜åŽŸèŠ‚ç‚¹ã€‚ 12345678910111213141516def addTwoNumbers(self, l1: ListNode, l2: ListNode) -&gt; ListNode: v1 = v2 = 0 while l1: v1 = v1*10 + l1.val l1 = l1.next while l2: v2 = v2*10 + l2.val l2 = l2.next val = v1 + v2 tail, head = None, None while val &gt; 0: head = ListNode(val % 10) head.next = tail tail = head val //= 10 return head if head else ListNode(0) 21. Merge Two Sorted Listsåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4 æ–¹æ³•1ï¼šiteratively è¿­ä»£ 12345678910def mergeTwoLists(l1, l2): l = head = ListNode(0) while l1 and l2: if l1.val &lt;= l2.val: l.next, l1 = l1, l1.next else: l.next, l2 = l2, l2.next l = l.next l.next = l1 or l2 return head.next æ–¹æ³•2ï¼šrecursively é€’å½’ 12345678910def mergeTwoLists(l1, l2): # åˆ¤æ–­æ˜¯å¦å­˜åœ¨None if not l1 or not l2: return l1 or l2 if l1.val &lt; l2.val: l1.next = mergeTwoLists(l1.next, l2) return l1 else: l2.next = mergeTwoLists(l1, l2.next) return l2 23. Merge k Sorted Listsåˆå¹¶kä¸ªæœ‰åºåˆ—è¡¨ã€‚åŽŸé¢˜1234567Input:[ 1-&gt;4-&gt;5, 1-&gt;3-&gt;4, 2-&gt;6]Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6 æ–¹æ³•ä¸€ï¼šBrute Force. time: O(NlogN) 1234567891011def mergeKLists(self, lists: List[ListNode]) -&gt; ListNode: ans = [] for l in lists: while l: ans.append(l.val) l = l.next h = head = ListNode(0) for v in sorted(ans): h.next = ListNode(v) h = h.next return head.next æ–¹æ³•äºŒï¼šä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚æœ¬æ¥ä¼˜å…ˆçº§å°±æ²¡æœ‰æ–¹æ³•ä¸€å¿«ï¼Œå†åŠ ä¸ŠPython3ä¸­çš„æ¯”è¾ƒç¬¦æœºåˆ¶ä¸åŒï¼Œå¯¼è‡´è¦å®žçŽ°__lt__æ–¹æ³•ï¼Œå°±æ›´æ…¢äº†ã€‚ä¸è¿‡ç†è®ºæ—¶é—´å¤æ‚åº¦æ˜¯æ¯”æ–¹æ³•ä¸€å°çš„ã€‚Time: O(Nlogk) 123456789101112131415161718192021222324class CmpNode: def __init__(self, node): self.node = node def __lt__(self, other): return self.node.val &lt; other.node.val class Solution: def mergeKLists(self, lists: List[ListNode]) -&gt; ListNode: from queue import PriorityQueue head = h = ListNode(0) q = PriorityQueue() for l in lists: if l: q.put(CmpNode(l)) while not q.empty(): to_add = q.get().node h.next = to_add h = h.next if to_add.next: q.put(CmpNode(to_add.next)) return head.next æ–¹æ³•ä¸‰ï¼šè§„é¿ListNodeçš„æ¯”è¾ƒï¼Œä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚åªè¦åŠ ä¸Šè¯¥é“¾è¡¨åœ¨åŽŸæ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œå°±ä¸€å®šä¸ä¼šé‡å¤ï¼Œä»Žè€Œå¿½ç•¥å¯¹ListNodeçš„æ¯”è¾ƒã€‚ 1234567891011121314def mergeKLists(self, lists: List[ListNode]) -&gt; ListNode: from queue import PriorityQueue q = PriorityQueue() for idx, l in enumerate(lists): if l: q.put((l.val, idx, l)) h = head = ListNode(0) while not q.empty(): val, idx, node = q.get() h.next = node h, node = h.next, node.next if node: q.put((node.val, idx, node)) return head.next æ–¹æ³•å››ï¼šä¿©ä¿©åˆå¹¶ã€‚Time: O(Nlogk) 1234567891011121314151617181920def mergeKLists(self, lists: List[ListNode]) -&gt; ListNode: def merge_both(l1, l2): if not l1 or not l2: return l1 or l2 if l1.val &lt;= l2.val: l1.next = merge_both(l1.next, l2) return l1 else: l2.next = merge_both(l1, l2.next) return l2 pairs = list(lists) while len(pairs) &gt; 1: n = len(pairs) if n &amp; 1 == 1: pairs.append(None) pairs = [merge_both(pairs[i*2], pairs[i*2+1]) for i in range(((n+1)//2))] return pairs[0] if pairs else None 141. Linked List Cycleåˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰çŽ¯ã€‚åŽŸé¢˜ç»å…¸çš„ä¸€é“é¢˜ï¼Œçœ‹æˆä¸¤ä¸ªäººåœ¨èµ›è·‘ï¼Œå¦‚æžœæœ‰çŽ¯ï¼Œå¿«çš„äººä¼šå’Œæ…¢çš„äººç›¸é‡ 1234567def hasCycle(self, head): slow = fast = head: while fast and fast.next: slow, fast = slow.next, fast.next.next if fast is slow: return True return False 142. Linked List Cycle IIæ±‚é“¾è¡¨ä¸­çŽ¯çš„å…¥å£èŠ‚ç‚¹ã€‚åŽŸé¢˜ é¦–å…ˆåˆ¤æ–­æ­¤é“¾è¡¨æ˜¯å¦æœ‰çŽ¯ã€‚ ç„¶åŽåœ¨ç›¸äº¤ç‚¹å’Œå¤´ç»“ç‚¹ä¸€èµ·èµ°ï¼Œä¸€å®šä¼šåœ¨å…¥å£ç›¸é‡ã€‚ Consider the following linked list, where E is the cylce entry and X, the crossing point of fast and slow. H: distance from head to cycle entry E D: distance from E to X L: cycle length â€‹ _____ â€‹ / \ head_____H______E \ â€‹ \ / â€‹ X_____/ If fast and slow both start at head, when fast catches slow, slow has traveled H+D and fast 2(H+D). Assume fast has traveled n loops in the cycle, we have: 2H + 2D = H + D + L --&gt; H + D = nL --&gt; H = nL - D Thus if two pointers start from head and X, respectively, one first reaches E, the other also reaches E. In my solution, since fast starts at head.next, we need to move slow one step forward in the beginning of part 2 12345678910111213def detectCycle(self, head): fast = slow = head # æ£€æµ‹æ˜¯å¦æœ‰çŽ¯ while fast and fast.next: slow, fast = slow.next, fast.next.next if slow is fast: break else: return None # æ‰¾å‡ºå…¥å£èŠ‚ç‚¹ while head is not slow: head, slow = head.next, slow.next return head 206. Reverse Linked Listå€’ç½®ä¸€ä¸ªé“¾è¡¨ã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLOutput: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL æ–¹æ³•ä¸€ï¼š iteratively 12345678def reverseList(head): prev = None while head: cur = head head = head.next cur.next = prev prev = cur return prev æ–¹æ³•äºŒï¼šä½¿ç”¨ä¸€è¡Œèµ‹å€¼ 12345def reverseList(self, head): prev = None while head: head.next, prev, head = prev, head, head.next return prev PythonåŒæ—¶ç»™å¤šä¸ªå˜é‡èµ‹å€¼ã€‚ æ–¹æ³•ä¸‰ï¼šé€’å½’ 123456def reverseList(self, head, prev=None): if not head: return prev cur, head.next = head.next, prev return self.reverseList(cur, head) 92. Reverse Linked List IIè·Ÿä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œåªå€’ç½®æŒ‡å®šåŒºé—´çš„éƒ¨åˆ†ã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL 123456789101112131415161718def reverseBetween(self, head: ListNode, m: int, n: int) -&gt; ListNode: root = h = ListNode(0) h.next = head for _ in range(m-1): h = h.next cur_head = h p1 = p2 = cur_head.next for _ in range(n-m): p2 = p2.next prev = p2.next if p2 else None if p2: p2.next = None while p1: p1.next, prev, p1 = prev, p1, p1.next cur_head.next = prev return root.next 160. Intersection of Two Linked Listsä¸¤ä¸ªé“¾è¡¨æ±‚ç›¸äº¤ã€‚åŽŸé¢˜123456def getIntersectionNode(self, headA, headB): p1, p2 = headA, headB while p1 is not p2: p1 = p1.next if p1 else headB p2 = p2.next if p2 else headA return p1 138. Copy List with Random Pointeræ·±æ‹·è´ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼Œé“¾è¡¨å¤šåŒ…å«äº†ä¸€ä¸ªéšæœºæŒ‡é’ˆã€‚åŽŸé¢˜ Time-O(2n), Memory-O(n). 12345678910111213def copyRandomList(self, head): cp_map = &#123;&#125; m = n = head while m: cp_map[m] = RandomListNode(m.label) m = m.next while n: cp_map[n].next = cp_map.get(n.next) cp_map[n].random = cp_map.get(n.random) n = n.next return cp_map.get(head) Time-O(n), Memory-O(n). è¿™ç§æ–¹å¼æ˜¯ç›¸å½“äºŽæŠŠç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿‡ç¨‹å§”æ‰˜ç»™äº†defaultdictï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å¯¹è±¡ï¼Œå†åŽ»ä¿®æ”¹å®ƒçš„labelå€¼ã€‚ 1234567891011def copyRandomList(self, head): from collections import defaultdict cp = defaultdict(lambda: RandomListNode(0)) cp[None] = None n = head while n: cp[n].label = n.label cp[n].next = cp[n.next] cp[n].random = cp[n.random] n = n.next return cp[head] 237. Delete Node in a Linked Liståœ¨é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸æ˜¯å°¾èŠ‚ç‚¹ã€‚åŽŸé¢˜12Input: head = [4,5,1,9], node = 5Output: [4,1,9] å¼€å§‹çœ‹åˆ°è¿™é¢˜çš„æ€è·¯æ˜¯ï¼Œè¦æ˜¯èƒ½æ‹¿åˆ°çˆ¶èŠ‚ç‚¹å°±å¥½äº†ï¼Œç„¶åŽè¿™é“é¢˜éœ€è¦åˆ«çš„æ€è·¯ï¼Œå…¶å…³é”®åœ¨äºŽå¤åˆ¶ 123def deleteNode(self, node): node.val = node.next.val # 4-&gt;1-&gt;1-&gt;9 node.next = node.next.next # 4-&gt;1-&gt;9 203. Remove Linked List Elementsåˆ é™¤é“¾è¡¨ä¸­å€¼ä¸ºvalçš„å…ƒç´ ã€‚åŽŸé¢˜æ–¹æ³•ä¸€ï¼šéåŽ†headå¹¶æž„å»ºæ–°çš„ListNodeã€‚ 12345678def removeElements(self, head, val): l = res = ListNode(0) while head: if head.val != val: l.next = ListNode(head.val) l = l.next head = head.next return res.next æ–¹æ³•äºŒï¼šæ›´å–œæ¬¢è¿™ä¸ªæ–¹æ³•ã€‚ 123456789def removeElements(self, head: 'ListNode', val: 'int') -&gt; 'ListNode': l = ListNode(0) l.next, ans = head, l while l and l.next: if l.next.val == val: l.next = l.next.next else: l = l.next return ans.next 83. Remove Duplicates from Sorted Liståˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤çš„èŠ‚ç‚¹ã€‚åŽŸé¢˜12345678def delete_duplicates(head): root = head while head and head.next: if head.val == head.next.val: head.next = head.next.next else: head = head.next return root 82. Remove Duplicates from Sorted List IIå’Œä¸Šé¢˜ä¸åŒçš„æ˜¯ï¼Œé‡å¤çš„èŠ‚ç‚¹è¦å…¨éƒ¨åˆ é™¤ã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5Output: 1-&gt;2-&gt;5 æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚ 123456789101112131415def deleteDuplicates(self, head: ListNode) -&gt; ListNode: prev = ans = ListNode(0) prev.next = h = head while h and h.next: remove = False while h.next and h.val == h.next.val: h.next = h.next.next remove = True if remove: prev.next = h.next else: prev = prev.next h = h.next return ans.next 876. Middle of the Linked Listé“¾è¡¨ä¸­ç‚¹ï¼Œå¦‚æžœå¶æ•°ä¸ªï¼Œåˆ™è¿”å›žç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚åŽŸé¢˜12345678Input: [1,2,3,4,5]Output: Node 3 from this list (Serialization: [3,4,5])The returned node has value 3. (The judge&apos;s serialization of this node is [3,4,5]).Note that we returned a ListNode object ans, such that:ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, and ans.next.next.next = NULL.Output: Node 4 from this list (Serialization: [4,5,6])Since the list has two middle nodes with values 3 and 4, we return the second one. 12345def middleNode(self, head: 'ListNode') -&gt; 'ListNode': fast = slow = head while fast and fast.next: slow, fast = slow.next, fast.next.next return slow 234. Palindrome Linked Liståˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›žæ–‡é“¾è¡¨ã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;2-&gt;1Output: true æ–¹æ³•ä¸€ï¼šæ­¤é¢˜ä¸ºå€’ç½®é“¾è¡¨å’Œå¿«æ…¢æŒ‡é’ˆçš„æ€»å’Œåº”ç”¨ã€‚ 1234567891011def isPalindrome(self, head: 'ListNode') -&gt; 'bool': rev = None slow = fast = head while fast and fast.next: fast = fast.next.next slow.next, rev, slow = rev, slow, slow.next if fast: slow = slow.next while rev and rev.val == slow.val: rev, slow = rev.next, slow.next return rev is None æ–¹æ³•äºŒï¼šä¸Šè¿°æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯æ”¹å˜äº†åŽŸå§‹çš„headï¼Œè¿™é‡Œè¿›è¡Œä¸€äº›æ”¹è¿›ã€‚ 12345678910111213def isPalindrome(self, head): rev = None fast = head while fast and fast.next: fast = fast.next.next rev, rev.next, head = head, rev, head.next tail = head.next if fast else head isPali = True while rev: isPali = isPali and rev.val == tail.val head, head.next, rev = rev, head, rev.next tail = tail.next return isPali 24. Swap Nodes in Pairsæˆå¯¹è½¬æ¢é“¾è¡¨ã€‚åŽŸé¢˜1Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3. 12345678def swapPairs(self, head: ListNode) -&gt; ListNode: prev, prev.next = self, head while prev.next and prev.next.next: a = prev.next # current b = a.next prev.next, b.next, a.next = b, a, b.next prev = a return self.next 19. Remove Nth Node From End of Liståˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚åŽŸé¢˜123Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5. 12345678910def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode: root = slow = fast = ListNode(0) slow.next = head while n &gt;= 0 and fast: fast = fast.next n -= 1 while fast: slow, fast = slow.next, fast.next slow.next = slow.next.next if slow.next else None return root.next 328. Odd Even Linked Listé‡æŽ’é“¾è¡¨ï¼Œä½¿å¥‡æ•°ä½èŠ‚ç‚¹åœ¨å‰ï¼Œå¶æ•°ä½èŠ‚ç‚¹åœ¨åŽï¼Œå°±åœ°æŽ’åºã€‚åŽŸé¢˜12Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLOutput: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL 123456789101112def oddEvenList(self, head: ListNode) -&gt; ListNode: if not head: return None odd = head even_h = even = head.next while even and even.next: odd.next = odd.next.next odd = odd.next even.next = even.next.next even = even.next odd.next = even_h return head ***. Sort a linked list that is sorted alternating asc and descè¿™é¢˜ä¸æ˜¯LCä¸Šçš„ï¼Œæ˜¯é¢ç»é‡Œçš„ï¼Œè¦æ±‚å°†ä¸€ä¸ªå¥‡æ•°ä½å‡åºï¼Œå¶æ•°ä½é™åºçš„é“¾è¡¨è½¬æˆä¸€ä¸ªå‡åºçš„é“¾è¡¨ã€‚12Input List: 10-&gt;40-&gt;53-&gt;30-&gt;67-&gt;12-&gt;89-&gt;NULLOutput List: 10-&gt;12-&gt;30-&gt;40-&gt;53-&gt;67-&gt;89-&gt;NULL æ–¹æ³•ä¸€ï¼šåˆ†åˆ«å‚è€ƒäº†328ï¼Œ206ï¼Œ21ä¸‰é¢˜ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œå°±æ˜¯å°†è¾“å…¥çš„é“¾è¡¨æ”¹å˜äº†ï¼Œä¸€å¼€å§‹æˆ‘æ˜¯æƒ³é’ˆå¯¹é“¾è¡¨å°±åœ°ä¿®æ”¹ï¼Œä½†æ˜¯å‘çŽ°æœ€åŽåˆå¹¶çš„æ—¶å€™åˆä¸å¤ªå¥½å®žçŽ°ã€‚ 12345678910111213141516171819202122232425262728def sort_alternating(head: ListNode) -&gt; ListNode: if not head: return None # separate two lists odd = head even_h = even = head.next while even and even.next: odd.next = odd.next.next odd = odd.next even.next = even.next.next even = even.next odd.next = None # for last even tail ï¼ï¼ # reverse the one with descending order prev = None while even_h: even_h.next, prev, even_h = prev, even_h, even_h.next # merge both lists ans = h = ListNode(0) while head and prev: if head.val &lt;= prev.val: h.next, head = head, head.next else: h.next, prev = prev, prev.next h = h.next h.next = head or prev # head is not head original return ans.next æ–¹æ³•äºŒï¼šä¿®æ”¹äº†æ–¹æ³•ä¸€ä¸­çš„ä¸è¶³ï¼Œåœ¨ä¸€å¼€å§‹å°±å»ºç«‹ä¸¤ä¸ªé“¾è¡¨ã€‚ä¸¤ä¸ªé“¾è¡¨è¦åˆ†å¼€è¿­ä»£æ‰ä¸ä¼šé—æ¼å…ƒç´ ã€‚ 12345678910111213141516171819202122232425262728293031def sort_alternating(head: ListNode) -&gt; ListNode: if not head: return None # separate two lists odd_head = odd_h = ListNode(0) even_head = even_h = ListNode(0) odd = head even = head.next while odd: odd_h.next = ListNode(odd.val) odd, odd_h = odd.next.next if odd.next else None, odd_h.next while even: even_h.next = ListNode(even.val) even, even_h = even.next.next if even.next else None, even_h.next # reverse the one with descending order prev = None odd_head, even_head = odd_head.next, even_head.next while even_head: even_head.next, prev, even_head = prev, even_head, even_head.next # merge both lists ans = h = ListNode(0) while odd_head and prev: if odd_head.val &lt;= prev.val: h.next, odd_head = odd_head, odd_head.next else: h.next, prev = prev, prev.next h = h.next h.next = odd_head or prev return ans.next 148. Sort Listç»™é“¾è¡¨æŽ’åºã€‚åŽŸé¢˜12Input: 4-&gt;2-&gt;1-&gt;3Output: 1-&gt;2-&gt;3-&gt;4 æ–¹æ³•ä¸€ï¼š 1234567891011121314151617181920212223242526def sortList(self, head: ListNode) -&gt; ListNode: def merge_both(l1, l2): l = h = ListNode(0) while l1 and l2: if l1.val &lt;= l2.val: l.next, l1 = l1, l1.next else: l.next, l2 = l2, l2.next l = l.next l.next = l1 or l2 return h.next def merge_sort(h): if not h or not h.next: return h slow = fast = h prev = None while fast and fast.next: prev, slow, fast = slow, slow.next, fast.next.next prev.next = None left = merge_sort(h) right = merge_sort(slow) return merge_both(left, right) return merge_sort(head) 817. Linked List Componentsé“¾è¡¨çš„ç»„ä»¶ã€‚ç»™å®šä¸€ä¸ªé›†åˆGï¼Œç„¶åŽæ ¹æ®æ˜¯å¦åœ¨Gä¸­åˆ†æˆè‹¥å¹²éƒ¨åˆ†ï¼Œæ±‚è¿žèµ·æ¥åœ¨Gä¸­çš„éƒ¨åˆ†çš„ä¸ªæ•°ã€‚åŽŸé¢˜123456Input: head: 0-&gt;1-&gt;2-&gt;3-&gt;4G = [0, 3, 1, 4]Output: 2Explanation: 0 and 1 are connected, 3 and 4 are connected, so [0, 1] and [3, 4] are the two connected components. 1234567891011def numComponents(self, head: ListNode, G: List[int]) -&gt; int: SET_G = set(G) h = head count = 0 while h: if h.val in SET_G: if (h.next and h.next.val not in SET_G or not h.next): count += 1 h = h.next return count 86. Partition Listé“¾è¡¨åˆ†åŒºï¼Œå°†æ¯”xå°çš„èŠ‚ç‚¹æ”¾åˆ°å‰é¢ï¼Œå…¶ä½™èŠ‚ç‚¹æ”¾åˆ°åŽé¢ï¼Œå¹¶ä¿æŒåŽŸæœ‰é¡ºåºã€‚åŽŸé¢˜12Input: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5 æ–¹æ³•ä¸€ï¼šé¦–æ¬¡ACçš„æ–¹æ³•ã€‚æ³¨æ„æœ€åŽgtåŽé¢å¯èƒ½æœ‰æ®‹ç•™çš„èŠ‚ç‚¹æ¯”å¦‚æœ€åŽä¸€ä¸ª2. 123456789101112131415def partition(self, head: ListNode, x: int) -&gt; ListNode: lt = letter = ListNode(0) gt = greater = ListNode(0) h = head while h: if h.val &lt; x: lt.next = h lt = h else: gt.next = h gt = h h = h.next gt.next = None # important !! lt.next = greater.next return letter.next 61. Rotate Listå‘å³æ—‹è½¬é“¾è¡¨kæ¬¡ã€‚åŽŸé¢˜1234567Input: 0-&gt;1-&gt;2-&gt;NULL, k = 4Output: 2-&gt;0-&gt;1-&gt;NULLExplanation:rotate 1 steps to the right: 2-&gt;0-&gt;1-&gt;NULLrotate 2 steps to the right: 1-&gt;2-&gt;0-&gt;NULLrotate 3 steps to the right: 0-&gt;1-&gt;2-&gt;NULLrotate 4 steps to the right: 2-&gt;0-&gt;1-&gt;NULL 1234567891011121314def rotateRight(self, head: ListNode, k: int) -&gt; ListNode: n, cur, prev = 0, head, None while cur: n += 1 prev, cur = cur, cur.next if n==0 or k%n==0: return head k = k % n tail = head for _ in range(n-k-1): tail = tail.next ans, tail.next, prev.next = tail.next, None, head return ans 725. Split Linked List in PartsæŒ‰éƒ¨åˆ†æ‹†åˆ†é“¾è¡¨ã€‚å¦‚æžœä¸èƒ½æ•´é™¤ï¼Œè¦ä¿è¯å‰é¢éƒ¨åˆ†çš„å¤§ã€‚åŽŸé¢˜123456Input: root = [1, 2, 3], k = 5Output: [[1],[2],[3],[],[]]Input: root = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], k = 3Output: [[1, 2, 3, 4], [5, 6, 7], [8, 9, 10]] 12345678910111213141516def splitListToParts(self, root: ListNode, k: int) -&gt; List[ListNode]: n, cur = 0, root ans = [] while cur: n += 1 cur = cur.next parts, remain = divmod(n, k) h = root for i in range(k): head = h for i in range(parts-1+(i&lt;remain)): h = h.next if h: h.next, h = None, h.next ans.append(head) return ans 143. Reorder List1Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3. 1234567891011121314151617def reorderList(self, head: ListNode) -&gt; None: if not head: return slow = fast = head while fast and fast.next: slow, fast = slow.next, fast.next.next tail, slow.next = slow.next, None def reverse(node): prev = None while node: node.next, prev, node = prev, node, node.next return prev tail = reverse(tail) h = head while h and tail: h.next, tail.next, tail, h = tail, h.next, tail.next, h.next 1030. Next Greater Node In Linked Listé“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªæ¯”å½“å‰èŠ‚ç‚¹å¤§çš„å€¼ã€‚å’Œ503é¢˜ç±»ä¼¼ã€‚åŽŸé¢˜12Input: [2,7,4,3,5]Output: [7,0,5,5,0] æ–¹æ³•ä¸€ï¼šç«žèµ›æ—¶æ²¡æœ‰åšå‡ºæ¥ï¼Œè™½ç„¶æ˜¯ä¸€ä¸ªé“¾è¡¨é¢˜ï¼Œä½†æ˜¯è·Ÿé“¾è¡¨æ²¡å•¥å…³ç³»ã€‚æ€è·¯valsä¿å­˜äº†ä¹‹å‰æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ï¼ŒstackæŒ‰åºå­˜çš„ç´¢å¼•ï¼Œå½“éåŽ†ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹æ—¶ï¼Œä¸æ–­åœ°åŽ»å’Œä¹‹å‰çš„èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æžœå¤§äºŽï¼Œé‚£ä¹ˆä¹…æ›´æ–°ansä¸­çš„å€¼ï¼Œä¹‹å‰è®¾ä¸ºäº†0ã€‚ 12345678910111213def nextLargerNodes(self, head: ListNode) -&gt; List[int]: stack, vals = [], [] i, ans = 0, [] while head: num = head.val vals.append(num) while stack and num &gt; vals[stack[-1]]: ans[stack.pop()] = num stack.append(i) ans.append(0) i += 1 head = head.next return ans æ–¹æ³•äºŒï¼šåŽ»é™¤æ–¹æ³•ä¸€ä¸­æ— ç”¨çš„å˜é‡ã€‚ 123456789def nextLargerNodes(self, head: ListNode) -&gt; List[int]: ans, stack = [], [] while head: while stack and stack[-1][1] &lt; head.val: ans[stack.pop()[0]] = head.val stack.append((len(ans), head.val)) ans.append(0) head = head.next return ans]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>Python</tag>
        <tag>Algorithm</tag>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoæ­å»ºé‡åˆ°çš„é—®é¢˜åŠä¼˜åŒ–]]></title>
    <url>%2Fhexo%E6%90%AD%E5%BB%BA%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[å‰è¨€ç»ˆäºŽæœ‰äº†ä¸€ä¸ªæ•´ç†è‡ªå·±å­¦ä¹ ç¬”è®°çš„åœ°æ–¹äº†ï¼Œä¹‹å‰ç”¨è¿‡å°è±¡ç¬”è®°ï¼Œè§‰å¾—å®ƒçš„markdownæ ¼å¼å¤„ç†å¾—ä¸æ˜¯å¾ˆå®Œç¾Žï¼Œå¤åˆ¶ç²˜è´´å‡ºæ¥æ€»æ˜¯æ ¼å¼ä¸å¯¹ã€‚åŽæ¥åˆç”¨è¿‡jupyter_nootbokeï¼Œä½†æ˜¯ä¸æ–¹ä¾¿åœ¨å…¶å®ƒå®¢æˆ·ç«¯æŸ¥çœ‹ã€‚æŠ˜è…¾äº†åŠå¤©ç»ˆäºŽå¼„å¥½äº†æœŸé—´é‡åˆ°è¿‡ä¸å°‘å‘ï¼Œå‘çŽ°hexoæœ‰æ—¶å€™åŒä¸€æ ·çš„é—®é¢˜æ€»æ˜¯å¯¹åº”ç€å‡ ç§ä¸åŒçš„è§£å†³æ–¹æ³•ï¼Œåœ¨æ­¤æ•´ç†ä¸€ä¸‹ä»¥ä¾¿ä¹‹åŽé‡åˆ°é—®é¢˜ã€‚ å…³äºŽé—®é¢˜NexTè¿™é‡Œä½¿ç”¨äº†nextä¸»é¢˜ï¼Œè¿™ä¸ªä¸»é¢˜ç‰¹åˆ«ç®€æ´ï¼Œè¿˜æœ‰å¾ˆå¤šæ˜“ç”¨æ€§çš„æ‰©å±•ï¼Œå°¤å…¶ä¾§è¾¹æ çš„å¿«é€Ÿå®šä½ï¼Œè®©æˆ‘çˆ±ä¸é‡Šæ‰‹ã€‚ å¤´åƒä¸æ˜¾ç¤ºå¼€å§‹æŒ‰ç…§_config.ymlä¸­æ‰€è¯´æŠŠavatar.gifæ”¾åˆ°blog-site/source/ä¸‹ï¼Œæ²¡æœ‰ä»»ä½•çš„ä½œç”¨ã€‚åŽæ¥å‘çŽ°æ˜¯ä¸»é¢˜çš„åŽŸå› ï¼Œæ”¾åˆ°themes/next/source/images/ä¸‹å°±å¥½äº†ï¼Œé»˜è®¤çš„å¤´åƒæ˜¯æ­£æ–¹å½¢çš„ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹ä»£ç æŠŠå®ƒæ”¹æˆåœ†å½¢ï¼Œæ–‡ä»¶ä½ç½®åœ¨themes/next/source/css_common_components/sidebar/sidebar-author.styl 1234567891011121314.site-author-image &#123; display: block; margin: 0 auto; max-width: 96px; height: auto; border: 2px solid #333; padding: 2px; /* start*/ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* end */&#125; ç½‘é¡µå›¾æ ‡favicon.icoä¸æ˜¾ç¤ºè¿™é‡Œä¹Ÿæ˜¯å› ä¸ºNextçš„åŽŸå› ï¼ŒæŠŠfavicon.icoæ”¾åˆ°themes/next/source/images/ä¸‹ï¼Œç„¶åŽä¿®æ”¹_config.ymlä¸­favicon: /images/favicon.icoè§£å†³äº†é—®é¢˜ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸ªå¾ˆæ–¹ä¾¿è½¬æ¢icoçš„ç½‘ç«™faviconåœ¨çº¿åˆ¶ä½œã€‚ æ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹ è®¾ç½®post_asset_foler: trueä¹‹åŽæ‰§è¡Œhexo new post_nameåŽæ²¡æœ‰å»ºç«‹èµ„æºæ–‡ä»¶å¤¹ã€‚æœç´¢æ²¡æœ‰æŸ¥åˆ°ç›¸å…³è®°å½•ï¼ŒåŽæ¥æƒ³åˆ°ä¹‹å‰nextä¸»é¢˜è®¾ç½®æ—¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶æ‹†åˆ†äº†å‡ºæ¥ï¼Œè¿™æ ·æ¯æ¬¡æ‰§è¡Œhexo clean/generateçš„æ—¶å€™åœ¨åŽé¢åŠ äº†å‚æ•°--configæŒ‡å®šäº†é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯è¿™æ ·ä¿®æ”¹çš„æ–‡ä»¶å¯¹äºŽhexo new post_nameæ¥è¯´æ˜¯æ²¡æœ‰ä¿®è¿‡çš„ï¼Œæ‰€ä»¥è¦åœ¨source/_config.ymlä¿®æ”¹è¿™é¡¹å‚æ•°ã€‚ ä¹‹åŽæ²¡æœ‰é€‰æ‹©å®˜æ–¹çš„æ ‡ç­¾æ’ä»¶æ˜¯å› ä¸ºï¼Œåœ¨ç¼–è¾‘markdownæ—¶æ— æ³•çœ‹åˆ°é¢„è§ˆæ•ˆæžœæ‰€ä»¥å®‰è£…npm install https://github.com/CodeFalling/hexo-asset-image --saveï¼Œåœ¨æ–‡ç« ä¸­ä½¿ç”¨markdownè¯­æ³•å¼•ç”¨![logo](&lt;title_name&gt;/a.png)ä½¿ç”¨ã€‚ é€‰æ‹©å®˜æ–¹çš„æ ‡ç­¾æ’ä»¶å¼•ç”¨å›¾ç‰‡ã€‚ å…³äºŽä¼˜åŒ–åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®žçŽ°fork me on githubåœ¨è¿™é‡Œé€‰æ‹©å–œæ¬¢çš„æ ·å¼ã€‚è¿™é‡Œé€‰æ‹©çš„æ˜¯ 1&lt;a href="https://your-url" class="github-corner" aria-label="View source on Github"&gt;&lt;svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"&gt;&lt;path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"&gt;&lt;/path&gt;&lt;path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"&gt;&lt;/path&gt;&lt;path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;style&gt;.github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;@keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rotate(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125;@media (max-width:500px)&#123;.github-corner:hover .octo-arm&#123;animation:none&#125;.github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;&#125;&lt;/style&gt; å°†å…¶ç²˜è´´åˆ°themes/next/layout/_layout.swigä¸­ï¼Œæ”¾åœ¨div class=&quot;headhand&quot;&gt;&lt;/div&gt;ä¸‹é¢ã€‚ ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾ä¿®æ”¹æ¨¡æ¿/themes/next/layout/_macro/post.swigï¼Œæœç´¢rel=&quot;tag&quot;&gt;#ï¼Œå°†#æ¢æˆ&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®åœ¨é…ç½®æ–‡ä»¶æœç´¢social_iconsï¼ŒæŠŠå€¼æ¢æˆå–œæ¬¢çš„å›¾æ ‡åå­—ï¼Œè¿™é‡Œåˆ—å‡ºäº†å›¾æ ‡åº“ åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡æ‰“å¼€/themes/next/layout/_partials/footer.swigæ–‡ä»¶æ·»åŠ çº¢æ¡†å†…çš„ä»£ç  1&lt;script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; æ·»åŠ ç»Ÿè®¡ä»£ç å¦‚ä¸‹ä½ç½® 12345&lt;div class="powered-by"&gt;&lt;i class="fa fa-user-md"&gt;&lt;/i&gt;&lt;span id="busuanzi_container_site_uv"&gt; æœ¬ç«™è®¿å®¢æ•°:&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt; ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡æ ¹ç›®å½•å®‰è£…npm install hexo-wordcount --saveç„¶åŽå†/themes/next/layout/_partials/footer.swigæ–‡ä»¶æœ€åŽåŠ ä¸Š 1234&lt;div class=&quot;theme-info&quot;&gt; &lt;div class=&quot;powered-by&quot;&gt;&lt;/div&gt; &lt;span class=&quot;post-count&quot;&gt;åšå®¢å…¨ç«™å…±&#123;&#123; totalcount(site) &#125;&#125;å­—&lt;/span&gt;&lt;/div&gt; æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡_config.ymlè®¾ç½®ä¸­pace:true åœ¨æ–‡ç« åº•éƒ¨å¢žåŠ ç‰ˆæƒä¿¡æ¯åœ¨ç›®å½•themes/next/layout/_macro/ä¸‹æ·»åŠ my-copyright.swig: 123456789101112131415161718192021222324252627282930&#123;% if page.copyright %&#125;&lt;div class="my_post_copyright"&gt; &lt;script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"&gt;&lt;/script&gt; &lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt; &lt;script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"&gt;&lt;/script&gt; &lt;script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"&gt;&lt;/script&gt; &lt;p&gt;&lt;span&gt;æœ¬æ–‡æ ‡é¢˜:&lt;/span&gt;&lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;"&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æ–‡ç« ä½œè€…:&lt;/span&gt;&lt;a href="/" title="è®¿é—® &#123;&#123; theme.author &#125;&#125; çš„ä¸ªäººåšå®¢"&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;å‘å¸ƒæ—¶é—´:&lt;/span&gt;&#123;&#123; page.date.format("YYYYå¹´MMæœˆDDæ—¥ - HH:MM") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æœ€åŽæ›´æ–°:&lt;/span&gt;&#123;&#123; page.updated.format("YYYYå¹´MMæœˆDDæ—¥ - HH:MM") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;åŽŸå§‹é“¾æŽ¥:&lt;/span&gt;&lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;" title="&#123;&#123; page.title &#125;&#125;"&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt; &lt;span class="copy-path" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æŽ¥"&gt;&lt;i class="fa fa-clipboard" data-clipboard-text="&#123;&#123; page.permalink &#125;&#125;" aria-label="å¤åˆ¶æˆåŠŸï¼"&gt;&lt;/i&gt;&lt;/span&gt; &lt;/p&gt; &lt;p&gt;&lt;span&gt;è®¸å¯åè®®:&lt;/span&gt;&lt;i class="fa fa-creative-commons"&gt;&lt;/i&gt; &lt;a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"&gt;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç»Ž 4.0 å›½é™…&lt;/a&gt; è½¬è½½è¯·ä¿ç•™åŽŸæ–‡é“¾æŽ¥åŠä½œè€…ã€‚&lt;/p&gt; &lt;/div&gt;&lt;script&gt; var clipboard = new Clipboard('.fa-clipboard'); $(".fa-clipboard").click(function()&#123; clipboard.on('success', function()&#123; swal(&#123; title: "", text: 'å¤åˆ¶æˆåŠŸ', icon: "success", showConfirmButton: true &#125;); &#125;); &#125;); &lt;/script&gt;&#123;% endif %&#125; åœ¨ç›®å½•themes/next/source/css/_common/components/post/ä¸‹æ·»åŠ my-post-copyright.styl: 123456789101112131415161718192021222324252627282930313233343536373839404142434445.my_post_copyright &#123; width: 85%; max-width: 45em; margin: 2.8em auto 0; padding: 0.5em 1.0em; border: 1px solid #d3d3d3; font-size: 0.93rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4);&#125;.my_post_copyright p&#123;margin:0;&#125;.my_post_copyright span &#123; display: inline-block; width: 5.2em; color: #b5b5b5; font-weight: bold;&#125;.my_post_copyright .raw &#123; margin-left: 1em; width: 5em;&#125;.my_post_copyright a &#123; color: #808080; border-bottom:0;&#125;.my_post_copyright a:hover &#123; color: #a3d2a3; text-decoration: underline;&#125;.my_post_copyright:hover .fa-clipboard &#123; color: #000;&#125;.my_post_copyright .post-url:hover &#123; font-weight: normal;&#125;.my_post_copyright .copy-path &#123; margin-left: 1em; width: 1em; +mobile()&#123;display:none;&#125;&#125;.my_post_copyright .copy-path:hover &#123; color: #808080; cursor: pointer;&#125; ä¿®æ”¹/themes/next/layout/_macro/post.swigåœ¨å¦‚ä¸‹ä½ç½® æ·»åŠ ä»£ç ï¼š(æ³¨æ„å’Œä¹‹å‰çš„æ•™ç¨‹ä¸ä¸€æ ·ï¼Œè¿™é‡Œå¯èƒ½æ˜¯nextçš„æ›´æ–°äº†ï¼Œæ‰€ä»¥è¦æŠŠä»£ç æ”¾åˆ°å¤–é¢ï¼Œå¦åˆ™åœ¨wechat_subscriberæœªå¼€å¯æ—¶ä¼šå¯¼è‡´å¤±æ•ˆã€‚) 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'my-copyright.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; ä¿®æ”¹themes/next/source/css/_common/components/post/post.stylæœ«å°¾å¢žåŠ ä¸€è¡Œ1@import &quot;my-post-copyright&quot; åšæ–‡ç½®é¡¶æ›¿æ¢node_modules/hexo-generator-index/lib/generator.jsæ‰€æœ‰çš„ä»£ç ä¸ºï¼š 12345678910111213141516171819202122232425262728'use strict';var pagination = require('hexo-pagination');module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.top &amp;&amp; b.top) &#123; // ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰ if(a.top == b.top) return b.date - a.date; // è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ else return b.top - a.top; // å¦åˆ™æŒ‰ç…§topå€¼é™åºæŽ’ &#125; else if(a.top &amp;&amp; !b.top) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æŽ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ &#125;); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, &#123; perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: &#123; __index: true &#125; &#125;);&#125;; ä½¿ç”¨ï¼šåœ¨å¤´éƒ¨æ·»åŠ top 12345678---title: date: 2017-05-22 22:45:48tags: æŠ€å·§categories: æŠ€å·§copyright: truetop: 100--- ä¿®æ”¹å­—ä½“å¤§å°/themes/next/source/css/_variables/base.stylæœç´¢font-size-base è®¾ç½®é˜…è¯»æ¬¡æ•°æ·»åŠ é˜…è¯»é‡ç»Ÿè®¡ æ·»åŠ æœç´¢12local_search: enable: true SEOä¼˜åŒ–ä¸¤ä¸ªæœç´¢å¼•æ“Žå…¥å£ï¼š è°·æ­Œæœç´¢å¼•æ“ŽéªŒè¯ ç™¾åº¦æœç´¢å¼•æ“ŽéªŒè¯ è¿™é‡Œé€‰æ‹©ç”¨ä¸‹è½½æ–‡ä»¶çš„æ–¹å¼ï¼Œå°†æ–‡ä»¶æ”¾åˆ°source/ç›®å½•ä¸‹ï¼Œæ³¨æ„ä¸€ç‚¹åº”è¯¥åœ¨æ–‡ä»¶å‰æ·»åŠ ä¸¤è¡Œä»£ç ï¼Œé˜²æ­¢hexoå°†å…¶æ ¼å¼åŒ– 12layout: false--- ç”Ÿæˆç«™ç‚¹åœ°å›¾ sitemap ç«™ç‚¹åœ°å›¾æ˜¯ä¸€ç§æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶åˆ—å‡ºæ‚¨ç½‘ç«™ä¸Šçš„ç½‘é¡µï¼Œä»Žè€Œå°†æ‚¨ç½‘ç«™å†…å®¹çš„ç»„ç»‡æž¶æž„å‘ŠçŸ¥Googleå’Œå…¶ä»–æœç´¢å¼•æ“Žã€‚Googlebotç­‰æœç´¢å¼•æ“Žç½‘é¡µæŠ“å–å·¥å…·ä¼šè¯»å–æ­¤æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´åŠ æ™ºèƒ½åœ°æŠ“å–æ‚¨çš„ç½‘ç«™ã€‚ 12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save æ›´æ”¹é…ç½® 12345# è‡ªåŠ¨ç”Ÿæˆsitemapsitemap: path: sitemap.xmlbaidusitemap: path: baidusitemap.xml ä½¿æœç´¢å¼•æ“Žæ”¶å½•æˆ‘ä»¬çš„åšå®¢ è°·æ­Œæ¯”è¾ƒç®€å•å‘è°·æ­Œç«™é•¿å·¥å…·æäº¤sitemap ç™¾åº¦ã€‚å‚è€ƒHexoæ’ä»¶ä¹‹ç™¾åº¦ä¸»åŠ¨æäº¤é“¾æŽ¥ ç½‘ç«™è‡ªèº«ä¼˜åŒ–ç»™å‡ºç«™é“¾æŽ¥æ·»åŠ  â€œnofollowâ€ æ ‡ç­¾/themes/next/layout/_partials/footer.swigæ‰¾åˆ°ä¸‹é¢ä¸¤è¡Œï¼Œåˆ†åˆ«åœ¨aæ ‡ç­¾ä¸­æ·»åŠ rel=&quot;texternal nofollow&quot;å±žæ€§ åŒæ ·åœ¨/themes/next/layout/_macor/sidebar.swigä¸­æ·»åŠ è¿™ä¸ªå±žæ€§ è®¾ç½®æ›´æ”¹å±žæ€§seo: true ç¼©çŸ­æ–‡ç« é“¾æŽ¥ç¼–è¾‘é…ç½®æ–‡ä»¶permalink: :title.html æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´å‚è€ƒäº†hexoæ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´ é¦–å…ˆæ‰¾åˆ°/themes/next/layout/_macro/post.swigæ–‡ä»¶ï¼Œåœ¨&lt;span class=&quot;post-time&quot;&gt;...&lt;/span&gt;åŽæ·»åŠ ï¼š 12345678&#123;%if post.updated and post.updated &gt; post.date%&#125; &lt;span class="post-updated"&gt; &amp;nbsp; | &amp;nbsp; &#123;&#123; __('Updated on') &#125;&#125; &lt;time itemprop="dateUpdated" datetime="&#123;&#123; moment(post.updated).format() &#125;&#125;" content="&#123;&#123; date(post.updated, config.date_format) &#125;&#125;"&gt; &#123;&#123; date(post.updated, config.date_format) &#125;&#125; &lt;/time&gt; &lt;/span&gt;&#123;% endif %&#125; åšä¸»è¿™é‡Œæ”¹äº†ä¸€ä¸‹æ˜¾å¼çš„æ–‡æœ¬ï¼ŒåŽé¢çš„è¯­è¨€é…ç½®æ²¡æœ‰é…ï¼Œå¦‚æžœæƒ³æ‰‹åŠ¨æ›´æ”¹æ–‡ç« æ›´æ–°æ—¶é—´åœ¨æ–‡ç« å‰åŠ ä¸Šï¼š 1updated: 2018-01-01 12:00:00 é»˜è®¤ä½¿ç”¨mdçš„ä¿®æ”¹æ—¶é—´ã€‚ æ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœæ‰¾åˆ°æ–‡ä»¶themes/next/source/css/_custom/custom.stylï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ã€‚ 12345678// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ.post &#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);&#125;]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
