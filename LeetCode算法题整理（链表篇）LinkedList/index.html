<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="LeetCode,Python,Algorithm,Linked List," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2" />






<meta name="description" content="链表的定义1234class ListNode:    def __init__(self, x):        self.val = x        self.next = None">
<meta name="keywords" content="LeetCode,Python,Algorithm,Linked List">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode算法题整理（链表篇）LinkedList">
<meta property="og:url" content="http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/index.html">
<meta property="og:site_name" content="Xiaoliji&#39;s Blog">
<meta property="og:description" content="链表的定义1234class ListNode:    def __init__(self, x):        self.val = x        self.next = None">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/328_Odd_Even.svg">
<meta property="og:updated_time" content="2019-08-25T06:47:32.475Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode算法题整理（链表篇）LinkedList">
<meta name="twitter:description" content="链表的定义1234class ListNode:    def __init__(self, x):        self.val = x        self.next = None">
<meta name="twitter:image" content="http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/328_Odd_Even.svg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/"/>





  <title>LeetCode算法题整理（链表篇）LinkedList | Xiaoliji's Blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <a href="https://github.com/darkTianTian" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xiaoliji's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">小里脊的个人博客</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xiaoliji">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaoliji's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">LeetCode算法题整理（链表篇）LinkedList</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-09T20:32:51+08:00">
                2018-08-09
              </time>
            

            
              <span class="post-updated">
                &nbsp; | &nbsp; Updated on
                <time itemprop="dateUpdated" datetime="2019-08-25T14:47:32+08:00" content="2019-08-25">
                  2019-08-25
                </time>
              </span>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/LeetCode算法题整理（链表篇）LinkedList/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="LeetCode算法题整理（链表篇）LinkedList/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/LeetCode算法题整理（链表篇）LinkedList/" class="leancloud_visitors" data-flag-title="LeetCode算法题整理（链表篇）LinkedList">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="链表的定义"><a href="#链表的定义" class="headerlink" title="链表的定义"></a>链表的定义</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="keyword">None</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="2-Add-Two-Numbers"><a href="#2-Add-Two-Numbers" class="headerlink" title="2. Add Two Numbers"></a>2. Add Two Numbers</h3><h4 id="两个链表相加"><a href="#两个链表相加" class="headerlink" title="两个链表相加"></a><a href="https://leetcode.com/problems/add-two-numbers/description/" target="_blank" rel="noopener">两个链表相加</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 0 -&gt; 8</span><br><span class="line">Explanation: 342 + 465 = 807.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span><span class="params">(l1, l2)</span>:</span></span><br><span class="line">    l = head = ListNode(<span class="number">0</span>)</span><br><span class="line">    carry = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> l1 <span class="keyword">or</span> l2 <span class="keyword">or</span> carry:</span><br><span class="line">        v1 = v2 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> l1:</span><br><span class="line">            v1 = l1.val</span><br><span class="line">            l1 = l1.next</span><br><span class="line">        <span class="keyword">if</span> l2:</span><br><span class="line">            v2 = l2.val</span><br><span class="line">            l2 = l2.next</span><br><span class="line">        carry, val = divmod(v1+v2+carry, <span class="number">10</span>)</span><br><span class="line">        l.next = ListNode(val)</span><br><span class="line">        l = l.next</span><br><span class="line">    <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<h3 id="445-Add-Two-Numbers-II"><a href="#445-Add-Two-Numbers-II" class="headerlink" title="445. Add Two Numbers II"></a>445. Add Two Numbers II</h3><h4 id="跟上题类似，只不过是进位方式不同。原题"><a href="#跟上题类似，只不过是进位方式不同。原题" class="headerlink" title="跟上题类似，只不过是进位方式不同。原题"></a>跟上题类似，只不过是进位方式不同。<a href="https://leetcode.com/problems/add-two-numbers-ii/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br></pre></td></tr></table></figure>
<p>方法一：先reverse再相加，最后再reverse。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span><span class="params">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span><span class="params">(head)</span>:</span></span><br><span class="line">        prev = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> head:</span><br><span class="line">            head.next, prev, head = prev, head, head.next</span><br><span class="line">        <span class="keyword">return</span> prev</span><br><span class="line">    </span><br><span class="line">    ans = head = ListNode(<span class="number">0</span>)</span><br><span class="line">    l1, l2 = reverse(l1), reverse(l2)</span><br><span class="line">    carry = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> l1 <span class="keyword">or</span> l2 <span class="keyword">or</span> carry:</span><br><span class="line">        v1 = v2 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> l1:</span><br><span class="line">            v1 = l1.val</span><br><span class="line">            l1 = l1.next</span><br><span class="line">        <span class="keyword">if</span> l2:</span><br><span class="line">            v2 = l2.val</span><br><span class="line">            l2 = l2.next</span><br><span class="line">        carry, val = divmod(v1+v2+carry, <span class="number">10</span>)</span><br><span class="line">        head.next = ListNode(val)</span><br><span class="line">        head = head.next</span><br><span class="line">    <span class="keyword">return</span> reverse(ans.next)</span><br></pre></td></tr></table></figure>
<font color="#32CD32" size="3">方法二：由于Python int没有限制，所以可以遍历相加，再从尾到头还原节点。</font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span><span class="params">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    v1 = v2 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> l1:</span><br><span class="line">        v1 = v1*<span class="number">10</span> + l1.val</span><br><span class="line">        l1 = l1.next</span><br><span class="line">    <span class="keyword">while</span> l2:</span><br><span class="line">        v2 = v2*<span class="number">10</span> + l2.val</span><br><span class="line">        l2 = l2.next</span><br><span class="line">    val = v1 + v2</span><br><span class="line">    tail, head = <span class="keyword">None</span>, <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> val &gt; <span class="number">0</span>:</span><br><span class="line">        head = ListNode(val % <span class="number">10</span>)</span><br><span class="line">        head.next = tail</span><br><span class="line">        tail = head</span><br><span class="line">        val //= <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> head <span class="keyword">if</span> head <span class="keyword">else</span> ListNode(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="21-Merge-Two-Sorted-Lists"><a href="#21-Merge-Two-Sorted-Lists" class="headerlink" title="21. Merge Two Sorted Lists"></a>21. Merge Two Sorted Lists</h3><h4 id="合并两个有序链表。原题"><a href="#合并两个有序链表。原题" class="headerlink" title="合并两个有序链表。原题"></a>合并两个有序链表。<a href="https://leetcode.com/problems/merge-two-sorted-lists/description/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span><br><span class="line">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span><br></pre></td></tr></table></figure>
<p>方法1：iteratively 迭代</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span><span class="params">(l1, l2)</span>:</span></span><br><span class="line">    l = head = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">        <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">            l.next, l1 = l1, l1.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l.next, l2 = l2, l2.next</span><br><span class="line">        l = l.next</span><br><span class="line">    l.next = l1 <span class="keyword">or</span> l2</span><br><span class="line">    <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<p>方法2：recursively 递归</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span><span class="params">(l1, l2)</span>:</span></span><br><span class="line">    <span class="comment"># 判断是否存在None</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> l1 <span class="keyword">or</span> <span class="keyword">not</span> l2:</span><br><span class="line">        <span class="keyword">return</span> l1 <span class="keyword">or</span> l2</span><br><span class="line">    <span class="keyword">if</span> l1.val &lt; l2.val:</span><br><span class="line">        l1.next = mergeTwoLists(l1.next, l2)</span><br><span class="line">        <span class="keyword">return</span> l1</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        l2.next = mergeTwoLists(l1, l2.next)</span><br><span class="line">        <span class="keyword">return</span> l2</span><br></pre></td></tr></table></figure>
<h3 id="23-Merge-k-Sorted-Lists"><a href="#23-Merge-k-Sorted-Lists" class="headerlink" title="23. Merge k Sorted Lists"></a>23. Merge k Sorted Lists</h3><h4 id="合并k个有序列表。原题"><a href="#合并k个有序列表。原题" class="headerlink" title="合并k个有序列表。原题"></a>合并k个有序列表。<a href="https://leetcode.com/problems/merge-k-sorted-lists/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  1-&gt;4-&gt;5,</span><br><span class="line">  1-&gt;3-&gt;4,</span><br><span class="line">  2-&gt;6</span><br><span class="line">]</span><br><span class="line">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6</span><br></pre></td></tr></table></figure>
<p>方法一：Brute Force. time: O(NlogN)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">    ans = []</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> lists:</span><br><span class="line">        <span class="keyword">while</span> l:</span><br><span class="line">            ans.append(l.val)</span><br><span class="line">            l = l.next</span><br><span class="line">    h = head = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> sorted(ans):</span><br><span class="line">        h.next = ListNode(v)</span><br><span class="line">        h = h.next</span><br><span class="line">    <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<p>方法二：优先级队列。本来优先级就没有方法一快，再加上Python3中的比较符机制不同，导致要实现<code>__lt__</code>方法，就更慢了。不过理论时间复杂度是比方法一小的。Time: O(Nlogk)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CmpNode</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        self.node = node</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.node.val &lt; other.node.val</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">from</span> queue <span class="keyword">import</span> PriorityQueue</span><br><span class="line">        head = h = ListNode(<span class="number">0</span>)</span><br><span class="line">        q = PriorityQueue()</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> lists:</span><br><span class="line">            <span class="keyword">if</span> l:</span><br><span class="line">                q.put(CmpNode(l))</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</span><br><span class="line">            to_add = q.get().node</span><br><span class="line">            h.next = to_add</span><br><span class="line">            h = h.next</span><br><span class="line">            <span class="keyword">if</span> to_add.next:</span><br><span class="line">                q.put(CmpNode(to_add.next))</span><br><span class="line">        <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<font color="#32CD32" size="3">方法三：规避<code>ListNode</code>的比较，以解决上述问题。只要加上该链表在原数组中的索引位置，就一定不会重复，从而忽略对<code>ListNode</code>的比较。</font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">    <span class="keyword">from</span> queue <span class="keyword">import</span> PriorityQueue</span><br><span class="line">    q = PriorityQueue()</span><br><span class="line">    <span class="keyword">for</span> idx, l <span class="keyword">in</span> enumerate(lists):</span><br><span class="line">        <span class="keyword">if</span> l:</span><br><span class="line">            q.put((l.val, idx, l))</span><br><span class="line">    h = head = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</span><br><span class="line">        val, idx, node = q.get()</span><br><span class="line">        h.next = node</span><br><span class="line">        h, node = h.next, node.next</span><br><span class="line">        <span class="keyword">if</span> node:</span><br><span class="line">            q.put((node.val, idx, node))</span><br><span class="line">    <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<font color="#32CD32" size="3">方法四：俩俩合并。Time: O(Nlogk)</font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge_both</span><span class="params">(l1, l2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1 <span class="keyword">or</span> <span class="keyword">not</span> l2:</span><br><span class="line">            <span class="keyword">return</span> l1 <span class="keyword">or</span> l2</span><br><span class="line">        <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">            l1.next = merge_both(l1.next, l2)</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l2.next = merge_both(l1, l2.next)</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line">        </span><br><span class="line">    pairs = list(lists)</span><br><span class="line">    <span class="keyword">while</span> len(pairs) &gt; <span class="number">1</span>:</span><br><span class="line">        n = len(pairs)</span><br><span class="line">        <span class="keyword">if</span> n &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">            pairs.append(<span class="keyword">None</span>)</span><br><span class="line">        pairs = [merge_both(pairs[i*<span class="number">2</span>], pairs[i*<span class="number">2</span>+<span class="number">1</span>])</span><br><span class="line">                 <span class="keyword">for</span> i <span class="keyword">in</span> range(((n+<span class="number">1</span>)//<span class="number">2</span>))]</span><br><span class="line">    <span class="keyword">return</span> pairs[<span class="number">0</span>] <span class="keyword">if</span> pairs <span class="keyword">else</span> <span class="keyword">None</span></span><br></pre></td></tr></table></figure>
<h3 id="141-Linked-List-Cycle"><a href="#141-Linked-List-Cycle" class="headerlink" title="141. Linked List Cycle"></a>141. Linked List Cycle</h3><h4 id="判断一个链表是否有环。原题"><a href="#判断一个链表是否有环。原题" class="headerlink" title="判断一个链表是否有环。原题"></a>判断一个链表是否有环。<a href="https://leetcode.com/problems/linked-list-cycle/description/" target="_blank" rel="noopener">原题</a></h4><p>经典的一道题，看成两个人在赛跑，如果有环，快的人会和慢的人相遇</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span><span class="params">(self, head)</span>:</span></span><br><span class="line">    slow = fast = head:</span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        slow, fast = slow.next, fast.next.next</span><br><span class="line">        <span class="keyword">if</span> fast <span class="keyword">is</span> slow:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<h3 id="142-Linked-List-Cycle-II"><a href="#142-Linked-List-Cycle-II" class="headerlink" title="142. Linked List Cycle II"></a>142. Linked List Cycle II</h3><h4 id="求链表中环的入口节点。原题"><a href="#求链表中环的入口节点。原题" class="headerlink" title="求链表中环的入口节点。原题"></a>求链表中环的入口节点。<a href="https://leetcode.com/problems/linked-list-cycle-ii/description/" target="_blank" rel="noopener">原题</a></h4><ul>
<li>首先判断此链表是否有环。</li>
<li>然后在相交点和头结点一起走，一定会在入口相遇。</li>
</ul>
<blockquote>
<pre><code>Consider the following linked list, where E is the cylce entry and X, the crossing point of fast and slow.
H: distance from head to cycle entry E
D: distance from E to X
L: cycle length
  ​                _____
  ​               /     \
head_____H______E       \
  ​              \       /
  ​               X_____/   
</code></pre></blockquote>
<blockquote>
<pre><code>   If fast and slow both start at head, when fast catches slow, slow has traveled H+D and fast 2(H+D). 
Assume fast has traveled n loops in the cycle, we have:
2H + 2D = H + D + L  --&gt;  H + D = nL  --&gt; H = nL - D
Thus if two pointers start from head and X, respectively, one first reaches E, the other also reaches E. 
In my solution, since fast starts at head.next, we need to move slow one step forward in the beginning of part 2
</code></pre></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">detectCycle</span><span class="params">(self, head)</span>:</span>        </span><br><span class="line">    fast = slow = head</span><br><span class="line">    <span class="comment"># 检测是否有环</span></span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        slow, fast = slow.next, fast.next.next</span><br><span class="line">        <span class="keyword">if</span> slow <span class="keyword">is</span> fast:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="comment"># 找出入口节点</span></span><br><span class="line">    <span class="keyword">while</span> head <span class="keyword">is</span> <span class="keyword">not</span> slow:</span><br><span class="line">        head, slow = head.next, slow.next</span><br><span class="line">    <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h3 id="206-Reverse-Linked-List"><a href="#206-Reverse-Linked-List" class="headerlink" title="206. Reverse Linked List"></a>206. Reverse Linked List</h3><h4 id="倒置一个链表。原题"><a href="#倒置一个链表。原题" class="headerlink" title="倒置一个链表。原题"></a>倒置一个链表。<a href="https://leetcode.com/problems/reverse-linked-list/description/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class="line">Output: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure>
<p>方法一： iteratively</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseList</span><span class="params">(head)</span>:</span></span><br><span class="line">    prev = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> head:</span><br><span class="line">        cur = head</span><br><span class="line">        head = head.next</span><br><span class="line">        cur.next = prev</span><br><span class="line">        prev = cur</span><br><span class="line">    <span class="keyword">return</span> prev</span><br></pre></td></tr></table></figure>
<p>方法二：使用一行赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseList</span><span class="params">(self, head)</span>:</span></span><br><span class="line">    prev = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> head:</span><br><span class="line">        head.next, prev, head = prev, head, head.next</span><br><span class="line">    <span class="keyword">return</span> prev</span><br></pre></td></tr></table></figure>
<a href="/Python-多个变量同时赋值/" title="Python同时给多个变量赋值。">Python同时给多个变量赋值。</a>
<p>方法三：递归</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseList</span><span class="params">(self, head, prev=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">      <span class="keyword">return</span> prev</span><br><span class="line">  </span><br><span class="line">    cur, head.next = head.next, prev</span><br><span class="line">    <span class="keyword">return</span> self.reverseList(cur, head)</span><br></pre></td></tr></table></figure>
<h3 id="92-Reverse-Linked-List-II"><a href="#92-Reverse-Linked-List-II" class="headerlink" title="92. Reverse Linked List II"></a>92. Reverse Linked List II</h3><h4 id="跟上题不同的是，只倒置指定区间的部分。原题"><a href="#跟上题不同的是，只倒置指定区间的部分。原题" class="headerlink" title="跟上题不同的是，只倒置指定区间的部分。原题"></a>跟上题不同的是，只倒置指定区间的部分。<a href="https://leetcode.com/problems/reverse-linked-list-ii/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4</span><br><span class="line">Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseBetween</span><span class="params">(self, head: ListNode, m: int, n: int)</span> -&gt; ListNode:</span></span><br><span class="line"></span><br><span class="line">    root = h = ListNode(<span class="number">0</span>)</span><br><span class="line">    h.next = head</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(m<span class="number">-1</span>):</span><br><span class="line">        h = h.next</span><br><span class="line">    cur_head = h</span><br><span class="line">    p1 = p2 = cur_head.next</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(n-m):</span><br><span class="line">        p2 = p2.next</span><br><span class="line">    prev = p2.next <span class="keyword">if</span> p2 <span class="keyword">else</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">if</span> p2:</span><br><span class="line">        p2.next = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> p1:</span><br><span class="line">        p1.next, prev, p1 = prev, p1, p1.next</span><br><span class="line">    cur_head.next = prev</span><br><span class="line">    <span class="keyword">return</span> root.next</span><br></pre></td></tr></table></figure>
<h3 id="160-Intersection-of-Two-Linked-Lists"><a href="#160-Intersection-of-Two-Linked-Lists" class="headerlink" title="160. Intersection of Two Linked Lists"></a>160. Intersection of Two Linked Lists</h3><h4 id="两个链表求相交。原题"><a href="#两个链表求相交。原题" class="headerlink" title="两个链表求相交。原题"></a>两个链表求相交。<a href="https://leetcode.com/problems/intersection-of-two-linked-lists/description/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getIntersectionNode</span><span class="params">(self, headA, headB)</span>:</span></span><br><span class="line">    p1, p2 = headA, headB</span><br><span class="line">    <span class="keyword">while</span> p1 <span class="keyword">is</span> <span class="keyword">not</span> p2:</span><br><span class="line">        p1 = p1.next <span class="keyword">if</span> p1 <span class="keyword">else</span> headB</span><br><span class="line">        p2 = p2.next <span class="keyword">if</span> p2 <span class="keyword">else</span> headA</span><br><span class="line">    <span class="keyword">return</span> p1</span><br></pre></td></tr></table></figure>
<h3 id="138-Copy-List-with-Random-Pointer"><a href="#138-Copy-List-with-Random-Pointer" class="headerlink" title="138. Copy List with Random Pointer"></a>138. Copy List with Random Pointer</h3><h4 id="深拷贝一个复杂链表，链表多包含了一个随机指针。原题"><a href="#深拷贝一个复杂链表，链表多包含了一个随机指针。原题" class="headerlink" title="深拷贝一个复杂链表，链表多包含了一个随机指针。原题"></a>深拷贝一个复杂链表，链表多包含了一个随机指针。<a href="https://leetcode.com/problems/copy-list-with-random-pointer/description/" target="_blank" rel="noopener">原题</a></h4><ul>
<li><p>Time-O(2n), Memory-O(n).</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span><span class="params">(self, head)</span>:</span></span><br><span class="line">    cp_map = &#123;&#125;</span><br><span class="line">        </span><br><span class="line">    m = n = head</span><br><span class="line">    <span class="keyword">while</span> m:</span><br><span class="line">        cp_map[m] = RandomListNode(m.label)</span><br><span class="line">        m = m.next</span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        cp_map[n].next = cp_map.get(n.next)</span><br><span class="line">        cp_map[n].random = cp_map.get(n.random)</span><br><span class="line">        n = n.next</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> cp_map.get(head)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>Time-O(n), Memory-O(n). 这种方式是相当于把第一次迭代的过程委托给了<code>defaultdict</code>，通过创建一个默认的对象，再去修改它的label值。</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span><span class="params">(self, head)</span>:</span></span><br><span class="line">    <span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line">    cp = defaultdict(<span class="keyword">lambda</span>: RandomListNode(<span class="number">0</span>))</span><br><span class="line">    cp[<span class="keyword">None</span>] = <span class="keyword">None</span></span><br><span class="line">    n = head</span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        cp[n].label = n.label</span><br><span class="line">        cp[n].next = cp[n.next]</span><br><span class="line">        cp[n].random = cp[n.random]</span><br><span class="line">        n = n.next</span><br><span class="line">    <span class="keyword">return</span> cp[head]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="237-Delete-Node-in-a-Linked-List"><a href="#237-Delete-Node-in-a-Linked-List" class="headerlink" title="237. Delete Node in a Linked List"></a>237. Delete Node in a Linked List</h3><h4 id="在链表中删除节点。给定的节点不是尾节点。原题"><a href="#在链表中删除节点。给定的节点不是尾节点。原题" class="headerlink" title="在链表中删除节点。给定的节点不是尾节点。原题"></a>在链表中删除节点。给定的节点不是尾节点。<a href="https://leetcode.com/problems/delete-node-in-a-linked-list/description/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [4,5,1,9], node = 5</span><br><span class="line">Output: [4,1,9]</span><br></pre></td></tr></table></figure>
<p>开始看到这题的思路是，要是能拿到父节点就好了，然后这道题需要别的思路，其关键在于复制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteNode</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    node.val = node.next.val  <span class="comment"># 4-&gt;1-&gt;1-&gt;9</span></span><br><span class="line">    node.next = node.next.next  <span class="comment"># 4-&gt;1-&gt;9</span></span><br></pre></td></tr></table></figure>
<h3 id="203-Remove-Linked-List-Elements"><a href="#203-Remove-Linked-List-Elements" class="headerlink" title="203. Remove Linked List Elements"></a>203. Remove Linked List Elements</h3><h4 id="删除链表中值为val的元素。原题"><a href="#删除链表中值为val的元素。原题" class="headerlink" title="删除链表中值为val的元素。原题"></a>删除链表中值为val的元素。<a href="https://leetcode.com/problems/remove-linked-list-elements/" target="_blank" rel="noopener">原题</a></h4><p>方法一：遍历<code>head</code>并构建新的<code>ListNode</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeElements</span><span class="params">(self, head, val)</span>:</span></span><br><span class="line">    l = res = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> head:</span><br><span class="line">        <span class="keyword">if</span> head.val != val:</span><br><span class="line">            l.next = ListNode(head.val)</span><br><span class="line">            l = l.next</span><br><span class="line">        head = head.next</span><br><span class="line">    <span class="keyword">return</span> res.next</span><br></pre></td></tr></table></figure>
<font color="#32CD32" size="3">方法二：更喜欢这个方法。</font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeElements</span><span class="params">(self, head: <span class="string">'ListNode'</span>, val: <span class="string">'int'</span>)</span> -&gt; 'ListNode':</span></span><br><span class="line">    l = ListNode(<span class="number">0</span>)</span><br><span class="line">    l.next, ans = head, l</span><br><span class="line">    <span class="keyword">while</span> l <span class="keyword">and</span> l.next:</span><br><span class="line">        <span class="keyword">if</span> l.next.val == val:</span><br><span class="line">            l.next = l.next.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l = l.next</span><br><span class="line">    <span class="keyword">return</span> ans.next</span><br></pre></td></tr></table></figure>
<h3 id="83-Remove-Duplicates-from-Sorted-List"><a href="#83-Remove-Duplicates-from-Sorted-List" class="headerlink" title="83. Remove Duplicates from Sorted List"></a>83. Remove Duplicates from Sorted List</h3><h4 id="删除有序链表中重复的节点。原题"><a href="#删除有序链表中重复的节点。原题" class="headerlink" title="删除有序链表中重复的节点。原题"></a>删除有序链表中重复的节点。<a href="https://leetcode.com/problems/remove-duplicates-from-sorted-list/description/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_duplicates</span><span class="params">(head)</span>:</span></span><br><span class="line">    root = head</span><br><span class="line">    <span class="keyword">while</span> head <span class="keyword">and</span> head.next:</span><br><span class="line">        <span class="keyword">if</span> head.val == head.next.val:</span><br><span class="line">            head.next = head.next.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            head = head.next</span><br><span class="line">    <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<h3 id="82-Remove-Duplicates-from-Sorted-List-II"><a href="#82-Remove-Duplicates-from-Sorted-List-II" class="headerlink" title="82. Remove Duplicates from Sorted List II"></a>82. Remove Duplicates from Sorted List II</h3><h4 id="和上题不同的是，重复的节点要全部删除。原题"><a href="#和上题不同的是，重复的节点要全部删除。原题" class="headerlink" title="和上题不同的是，重复的节点要全部删除。原题"></a>和上题不同的是，重复的节点要全部删除。<a href="https://leetcode.com/problems/remove-duplicates-from-sorted-list-ii/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5</span><br><span class="line">Output: 1-&gt;2-&gt;5</span><br></pre></td></tr></table></figure>
<p>方法一：首次AC的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteDuplicates</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    prev = ans = ListNode(<span class="number">0</span>)        </span><br><span class="line">    prev.next = h = head</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> h <span class="keyword">and</span> h.next:</span><br><span class="line">        remove = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">while</span> h.next <span class="keyword">and</span> h.val == h.next.val:</span><br><span class="line">            h.next = h.next.next</span><br><span class="line">            remove = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">if</span> remove:</span><br><span class="line">            prev.next = h.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            prev = prev.next</span><br><span class="line">        h = h.next</span><br><span class="line">    <span class="keyword">return</span> ans.next</span><br></pre></td></tr></table></figure>
<h3 id="876-Middle-of-the-Linked-List"><a href="#876-Middle-of-the-Linked-List" class="headerlink" title="876. Middle of the Linked List"></a>876. Middle of the Linked List</h3><h4 id="链表中点，如果偶数个，则返回第二个节点。原题"><a href="#链表中点，如果偶数个，则返回第二个节点。原题" class="headerlink" title="链表中点，如果偶数个，则返回第二个节点。原题"></a>链表中点，如果偶数个，则返回第二个节点。<a href="https://leetcode.com/problems/middle-of-the-linked-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3,4,5]</span><br><span class="line">Output: Node 3 from this list (Serialization: [3,4,5])</span><br><span class="line">The returned node has value 3.  (The judge&apos;s serialization of this node is [3,4,5]).</span><br><span class="line">Note that we returned a ListNode object ans, such that:</span><br><span class="line">ans.val = 3, ans.next.val = 4, ans.next.next.val = 5, and ans.next.next.next = NULL.</span><br><span class="line"></span><br><span class="line">Output: Node 4 from this list (Serialization: [4,5,6])</span><br><span class="line">Since the list has two middle nodes with values 3 and 4, we return the second one.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">middleNode</span><span class="params">(self, head: <span class="string">'ListNode'</span>)</span> -&gt; 'ListNode':</span></span><br><span class="line">    fast = slow = head</span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        slow, fast = slow.next, fast.next.next</span><br><span class="line">    <span class="keyword">return</span> slow</span><br></pre></td></tr></table></figure>
<h3 id="234-Palindrome-Linked-List"><a href="#234-Palindrome-Linked-List" class="headerlink" title="234. Palindrome Linked List"></a>234. Palindrome Linked List</h3><h4 id="判断一个链表是否是回文链表。原题"><a href="#判断一个链表是否是回文链表。原题" class="headerlink" title="判断一个链表是否是回文链表。原题"></a>判断一个链表是否是回文链表。<a href="https://leetcode.com/problems/palindrome-linked-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;2-&gt;1</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>
<p>方法一：此题为倒置链表和快慢指针的总和应用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, head: <span class="string">'ListNode'</span>)</span> -&gt; 'bool':</span></span><br><span class="line">    rev = <span class="keyword">None</span></span><br><span class="line">    slow = fast = head</span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        fast = fast.next.next</span><br><span class="line">        slow.next, rev, slow = rev, slow, slow.next</span><br><span class="line">    <span class="keyword">if</span> fast:</span><br><span class="line">        slow = slow.next</span><br><span class="line">    <span class="keyword">while</span> rev <span class="keyword">and</span> rev.val == slow.val:</span><br><span class="line">        rev, slow = rev.next, slow.next</span><br><span class="line">    <span class="keyword">return</span> rev <span class="keyword">is</span> <span class="keyword">None</span></span><br></pre></td></tr></table></figure>
<p>方法二：上述方法有一个缺点就是改变了原始的head，这里进行一些改进。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, head)</span>:</span></span><br><span class="line">    rev = <span class="keyword">None</span></span><br><span class="line">    fast = head</span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        fast = fast.next.next</span><br><span class="line">        rev, rev.next, head = head, rev, head.next</span><br><span class="line">    tail = head.next <span class="keyword">if</span> fast <span class="keyword">else</span> head</span><br><span class="line">    isPali = <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">while</span> rev:</span><br><span class="line">        isPali = isPali <span class="keyword">and</span> rev.val == tail.val</span><br><span class="line">        head, head.next, rev = rev, head, rev.next</span><br><span class="line">        tail = tail.next</span><br><span class="line">    <span class="keyword">return</span> isPali</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="24-Swap-Nodes-in-Pairs"><a href="#24-Swap-Nodes-in-Pairs" class="headerlink" title="24. Swap Nodes in Pairs"></a>24. Swap Nodes in Pairs</h3><h4 id="成对转换链表。原题"><a href="#成对转换链表。原题" class="headerlink" title="成对转换链表。原题"></a>成对转换链表。<a href="https://leetcode.com/problems/swap-nodes-in-pairs/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">swapPairs</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    prev, prev.next = self, head</span><br><span class="line">    <span class="keyword">while</span> prev.next <span class="keyword">and</span> prev.next.next:</span><br><span class="line">        a = prev.next    <span class="comment"># current</span></span><br><span class="line">        b = a.next</span><br><span class="line">        prev.next, b.next, a.next = b, a, b.next</span><br><span class="line">        prev = a</span><br><span class="line">    <span class="keyword">return</span> self.next</span><br></pre></td></tr></table></figure>
<h3 id="19-Remove-Nth-Node-From-End-of-List"><a href="#19-Remove-Nth-Node-From-End-of-List" class="headerlink" title="19. Remove Nth Node From End of List"></a>19. Remove Nth Node From End of List</h3><h4 id="删除倒数第N个节点。原题"><a href="#删除倒数第N个节点。原题" class="headerlink" title="删除倒数第N个节点。原题"></a>删除倒数第N个节点。<a href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.</span><br><span class="line"></span><br><span class="line">After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeNthFromEnd</span><span class="params">(self, head: ListNode, n: int)</span> -&gt; ListNode:</span></span><br><span class="line">    root = slow = fast = ListNode(<span class="number">0</span>)</span><br><span class="line">    slow.next = head</span><br><span class="line">    <span class="keyword">while</span> n &gt;= <span class="number">0</span> <span class="keyword">and</span> fast:</span><br><span class="line">        fast = fast.next</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> fast:</span><br><span class="line">        slow, fast = slow.next, fast.next</span><br><span class="line">    slow.next = slow.next.next <span class="keyword">if</span> slow.next <span class="keyword">else</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">return</span> root.next</span><br></pre></td></tr></table></figure>
<h3 id="328-Odd-Even-Linked-List"><a href="#328-Odd-Even-Linked-List" class="headerlink" title="328. Odd Even Linked List"></a>328. Odd Even Linked List</h3><h4 id="重排链表，使奇数位节点在前，偶数位节点在后，就地排序。原题"><a href="#重排链表，使奇数位节点在前，偶数位节点在后，就地排序。原题" class="headerlink" title="重排链表，使奇数位节点在前，偶数位节点在后，就地排序。原题"></a>重排链表，使奇数位节点在前，偶数位节点在后，就地排序。<a href="https://leetcode.com/problems/odd-even-linked-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL</span><br><span class="line">Output: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL</span><br></pre></td></tr></table></figure>
<img src="/LeetCode算法题整理（链表篇）LinkedList/328_Odd_Even.svg">
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">oddEvenList</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    odd = head</span><br><span class="line">    even_h = even = head.next</span><br><span class="line">    <span class="keyword">while</span> even <span class="keyword">and</span> even.next:</span><br><span class="line">        odd.next = odd.next.next</span><br><span class="line">        odd = odd.next</span><br><span class="line">        even.next = even.next.next</span><br><span class="line">        even = even.next</span><br><span class="line">    odd.next = even_h</span><br><span class="line">    <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h3 id="Sort-a-linked-list-that-is-sorted-alternating-asc-and-desc"><a href="#Sort-a-linked-list-that-is-sorted-alternating-asc-and-desc" class="headerlink" title="***. Sort  a linked list that is sorted alternating asc and desc"></a>***. Sort  a linked list that is sorted alternating asc and desc</h3><h4 id="这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。"><a href="#这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。" class="headerlink" title="这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。"></a>这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input List:   10-&gt;40-&gt;53-&gt;30-&gt;67-&gt;12-&gt;89-&gt;NULL</span><br><span class="line">Output List:  10-&gt;12-&gt;30-&gt;40-&gt;53-&gt;67-&gt;89-&gt;NULL</span><br></pre></td></tr></table></figure>
<p>方法一：分别参考了328，206，21三题，但是有一个副作用，就是将输入的链表改变了，一开始我是想针对链表就地修改，但是发现最后合并的时候又不太好实现。</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_alternating</span><span class="params">(head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="comment"># separate two lists</span></span><br><span class="line">    odd = head</span><br><span class="line">    even_h = even = head.next</span><br><span class="line">    <span class="keyword">while</span> even <span class="keyword">and</span> even.next:</span><br><span class="line">        odd.next = odd.next.next</span><br><span class="line">        odd = odd.next</span><br><span class="line">        even.next = even.next.next</span><br><span class="line">        even = even.next</span><br><span class="line">    odd.next = <span class="keyword">None</span>   <span class="comment"># for last even tail ！！</span></span><br><span class="line">    <span class="comment"># reverse the one with descending order</span></span><br><span class="line">    prev = <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> even_h:</span><br><span class="line">        even_h.next, prev, even_h = prev, even_h, even_h.next</span><br><span class="line"></span><br><span class="line">    <span class="comment"># merge both lists</span></span><br><span class="line">    ans = h = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> head <span class="keyword">and</span> prev:</span><br><span class="line">        <span class="keyword">if</span> head.val &lt;= prev.val:</span><br><span class="line">            h.next, head = head, head.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            h.next, prev = prev, prev.next</span><br><span class="line">        h = h.next</span><br><span class="line">    h.next = head <span class="keyword">or</span> prev</span><br><span class="line">    <span class="comment"># head is not head original</span></span><br><span class="line">    <span class="keyword">return</span> ans.next</span><br></pre></td></tr></table></figure>
<p>方法二：修改了方法一中的不足，在一开始就建立两个链表。两个链表要分开迭代才不会遗漏元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_alternating</span><span class="params">(head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="comment"># separate two lists</span></span><br><span class="line">    odd_head = odd_h = ListNode(<span class="number">0</span>)</span><br><span class="line">    even_head = even_h = ListNode(<span class="number">0</span>)</span><br><span class="line">    odd = head</span><br><span class="line">    even = head.next</span><br><span class="line">    <span class="keyword">while</span> odd:</span><br><span class="line">        odd_h.next = ListNode(odd.val)</span><br><span class="line">        odd, odd_h = odd.next.next <span class="keyword">if</span> odd.next <span class="keyword">else</span> <span class="keyword">None</span>, odd_h.next</span><br><span class="line">    <span class="keyword">while</span> even:</span><br><span class="line">        even_h.next = ListNode(even.val)</span><br><span class="line">        even, even_h = even.next.next <span class="keyword">if</span> even.next <span class="keyword">else</span> <span class="keyword">None</span>, even_h.next</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># reverse the one with descending order</span></span><br><span class="line">    prev = <span class="keyword">None</span></span><br><span class="line">    odd_head, even_head = odd_head.next, even_head.next</span><br><span class="line">    <span class="keyword">while</span> even_head:</span><br><span class="line">        even_head.next, prev, even_head = prev, even_head, even_head.next</span><br><span class="line"></span><br><span class="line">    <span class="comment"># merge both lists</span></span><br><span class="line">    ans = h = ListNode(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">while</span> odd_head <span class="keyword">and</span> prev:</span><br><span class="line">        <span class="keyword">if</span> odd_head.val &lt;= prev.val:</span><br><span class="line">            h.next, odd_head = odd_head, odd_head.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            h.next, prev = prev, prev.next</span><br><span class="line">        h = h.next</span><br><span class="line">    h.next = odd_head <span class="keyword">or</span> prev</span><br><span class="line">    <span class="keyword">return</span> ans.next</span><br></pre></td></tr></table></figure>
<h3 id="148-Sort-List"><a href="#148-Sort-List" class="headerlink" title="148. Sort List"></a>148. Sort List</h3><h4 id="给链表排序。原题"><a href="#给链表排序。原题" class="headerlink" title="给链表排序。原题"></a>给链表排序。<a href="https://leetcode.com/problems/sort-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 4-&gt;2-&gt;1-&gt;3</span><br><span class="line">Output: 1-&gt;2-&gt;3-&gt;4</span><br></pre></td></tr></table></figure>
<p>方法一：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortList</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge_both</span><span class="params">(l1, l2)</span>:</span></span><br><span class="line">        l = h = ListNode(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">            <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">                l.next, l1 = l1, l1.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l.next, l2 = l2, l2.next</span><br><span class="line">            l = l.next</span><br><span class="line">        l.next = l1 <span class="keyword">or</span> l2</span><br><span class="line">        <span class="keyword">return</span> h.next</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(h)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> h <span class="keyword">or</span> <span class="keyword">not</span> h.next:</span><br><span class="line">            <span class="keyword">return</span> h</span><br><span class="line">        slow = fast = h</span><br><span class="line">        prev = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">            prev, slow, fast = slow, slow.next, fast.next.next</span><br><span class="line">        prev.next = <span class="keyword">None</span></span><br><span class="line">        left = merge_sort(h)</span><br><span class="line">        right = merge_sort(slow)</span><br><span class="line">        <span class="keyword">return</span> merge_both(left, right)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> merge_sort(head)</span><br></pre></td></tr></table></figure>
<h3 id="817-Linked-List-Components"><a href="#817-Linked-List-Components" class="headerlink" title="817. Linked List Components"></a>817. Linked List Components</h3><h4 id="链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。原题"><a href="#链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。原题" class="headerlink" title="链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。原题"></a>链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。<a href="https://leetcode.com/problems/linked-list-components/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">head: 0-&gt;1-&gt;2-&gt;3-&gt;4</span><br><span class="line">G = [0, 3, 1, 4]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line">0 and 1 are connected, 3 and 4 are connected, so [0, 1] and [3, 4] are the two connected components.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">numComponents</span><span class="params">(self, head: ListNode, G: List[int])</span> -&gt; int:</span></span><br><span class="line">    SET_G = set(G)</span><br><span class="line">    h = head</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> h:</span><br><span class="line">        <span class="keyword">if</span> h.val <span class="keyword">in</span> SET_G:</span><br><span class="line">            <span class="keyword">if</span> (h.next <span class="keyword">and</span> h.next.val <span class="keyword">not</span> <span class="keyword">in</span> SET_G <span class="keyword">or</span> </span><br><span class="line">                <span class="keyword">not</span> h.next):</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">        h = h.next</span><br><span class="line">    <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>
<h3 id="86-Partition-List"><a href="#86-Partition-List" class="headerlink" title="86. Partition List"></a>86. Partition List</h3><h4 id="链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。原题"><a href="#链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。原题" class="headerlink" title="链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。原题"></a>链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。<a href="https://leetcode.com/problems/partition-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3</span><br><span class="line">Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span><br></pre></td></tr></table></figure>
<p>方法一：首次AC的方法。注意最后gt后面可能有残留的节点比如最后一个2.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span><span class="params">(self, head: ListNode, x: int)</span> -&gt; ListNode:</span></span><br><span class="line">    lt = letter = ListNode(<span class="number">0</span>)</span><br><span class="line">    gt = greater = ListNode(<span class="number">0</span>)</span><br><span class="line">    h = head</span><br><span class="line">    <span class="keyword">while</span> h:</span><br><span class="line">        <span class="keyword">if</span> h.val &lt; x:</span><br><span class="line">            lt.next = h</span><br><span class="line">            lt = h</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            gt.next = h</span><br><span class="line">            gt = h</span><br><span class="line">        h = h.next</span><br><span class="line">    gt.next = <span class="keyword">None</span>   <span class="comment"># important !!</span></span><br><span class="line">    lt.next = greater.next</span><br><span class="line">    <span class="keyword">return</span> letter.next</span><br></pre></td></tr></table></figure>
<h3 id="61-Rotate-List"><a href="#61-Rotate-List" class="headerlink" title="61. Rotate List"></a>61. Rotate List</h3><h4 id="向右旋转链表k次。原题"><a href="#向右旋转链表k次。原题" class="headerlink" title="向右旋转链表k次。原题"></a>向右旋转链表k次。<a href="https://leetcode.com/problems/rotate-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: 0-&gt;1-&gt;2-&gt;NULL, k = 4</span><br><span class="line">Output: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class="line">Explanation:</span><br><span class="line">rotate 1 steps to the right: 2-&gt;0-&gt;1-&gt;NULL</span><br><span class="line">rotate 2 steps to the right: 1-&gt;2-&gt;0-&gt;NULL</span><br><span class="line">rotate 3 steps to the right: 0-&gt;1-&gt;2-&gt;NULL</span><br><span class="line">rotate 4 steps to the right: 2-&gt;0-&gt;1-&gt;NULL</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rotateRight</span><span class="params">(self, head: ListNode, k: int)</span> -&gt; ListNode:</span></span><br><span class="line">    n, cur, prev = <span class="number">0</span>, head, <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">while</span> cur:</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">        prev, cur = cur, cur.next</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">0</span> <span class="keyword">or</span> k%n==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> head</span><br><span class="line">    k = k % n</span><br><span class="line">    tail = head</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(n-k<span class="number">-1</span>):</span><br><span class="line">        tail = tail.next</span><br><span class="line">    ans, tail.next, prev.next = tail.next, <span class="keyword">None</span>, head</span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="725-Split-Linked-List-in-Parts"><a href="#725-Split-Linked-List-in-Parts" class="headerlink" title="725. Split Linked List in Parts"></a>725. Split Linked List in Parts</h3><h4 id="按部分拆分链表。如果不能整除，要保证前面部分的大。原题"><a href="#按部分拆分链表。如果不能整除，要保证前面部分的大。原题" class="headerlink" title="按部分拆分链表。如果不能整除，要保证前面部分的大。原题"></a>按部分拆分链表。如果不能整除，要保证前面部分的大。<a href="https://leetcode.com/problems/split-linked-list-in-parts/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">root = [1, 2, 3], k = 5</span><br><span class="line">Output: [[1],[2],[3],[],[]]</span><br><span class="line">Input: </span><br><span class="line">root = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], k = 3</span><br><span class="line">Output: [[1, 2, 3, 4], [5, 6, 7], [8, 9, 10]]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">splitListToParts</span><span class="params">(self, root: ListNode, k: int)</span> -&gt; List[ListNode]:</span></span><br><span class="line">    n, cur = <span class="number">0</span>, root</span><br><span class="line">    ans = []</span><br><span class="line">    <span class="keyword">while</span> cur:</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">        cur = cur.next</span><br><span class="line">    parts, remain = divmod(n, k)</span><br><span class="line">    h = root</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(k):</span><br><span class="line">        head = h</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(parts<span class="number">-1</span>+(i&lt;remain)):</span><br><span class="line">            h = h.next</span><br><span class="line">        <span class="keyword">if</span> h:</span><br><span class="line">            h.next, h = <span class="keyword">None</span>, h.next</span><br><span class="line">        ans.append(head)                            </span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="143-Reorder-List"><a href="#143-Reorder-List" class="headerlink" title="143. Reorder List"></a>143. Reorder List</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4-&gt;5, reorder it to 1-&gt;5-&gt;2-&gt;4-&gt;3.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reorderList</span><span class="params">(self, head: ListNode)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    slow = fast = head</span><br><span class="line">    <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">        slow, fast = slow.next, fast.next.next</span><br><span class="line">    </span><br><span class="line">    tail, slow.next = slow.next, <span class="keyword">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span><span class="params">(node)</span>:</span></span><br><span class="line">        prev = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> node:</span><br><span class="line">            node.next, prev, node = prev, node, node.next</span><br><span class="line">        <span class="keyword">return</span> prev</span><br><span class="line">    tail = reverse(tail)</span><br><span class="line">    h = head</span><br><span class="line">    <span class="keyword">while</span> h <span class="keyword">and</span> tail:</span><br><span class="line">        h.next, tail.next, tail, h = tail, h.next, tail.next, h.next</span><br></pre></td></tr></table></figure>
<h3 id="1030-Next-Greater-Node-In-Linked-List"><a href="#1030-Next-Greater-Node-In-Linked-List" class="headerlink" title="1030. Next Greater Node In Linked List"></a>1030. Next Greater Node In Linked List</h3><h4 id="链表中下一个比当前节点大的值。和503题类似。原题"><a href="#链表中下一个比当前节点大的值。和503题类似。原题" class="headerlink" title="链表中下一个比当前节点大的值。和503题类似。原题"></a>链表中下一个比当前节点大的值。和503题类似。<a href="https://leetcode.com/problems/next-greater-node-in-linked-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [2,7,4,3,5]</span><br><span class="line">Output: [7,0,5,5,0]</span><br></pre></td></tr></table></figure>
<p>方法一：竞赛时没有做出来，虽然是一个链表题，但是跟链表没啥关系。思路<code>vals</code>保存了之前所有节点的值，<code>stack</code>按序存的索引，当遍历一个新的节点时，不断地去和之前的节点比较，如果大于，那么久更新<code>ans</code>中的值，之前设为了0。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nextLargerNodes</span><span class="params">(self, head: ListNode)</span> -&gt; List[int]:</span></span><br><span class="line">    stack, vals = [], []</span><br><span class="line">    i, ans = <span class="number">0</span>, []</span><br><span class="line">    <span class="keyword">while</span> head:</span><br><span class="line">        num = head.val</span><br><span class="line">        vals.append(num)</span><br><span class="line">        <span class="keyword">while</span> stack <span class="keyword">and</span> num &gt; vals[stack[<span class="number">-1</span>]]:</span><br><span class="line">            ans[stack.pop()] = num</span><br><span class="line">        stack.append(i)</span><br><span class="line">        ans.append(<span class="number">0</span>)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        head = head.next</span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<font color="#32CD32" size="3">方法二：去除方法一中无用的变量。</font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nextLargerNodes</span><span class="params">(self, head: ListNode)</span> -&gt; List[int]:</span></span><br><span class="line">    ans, stack = [], []</span><br><span class="line">    <span class="keyword">while</span> head:</span><br><span class="line">        <span class="keyword">while</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>][<span class="number">1</span>] &lt; head.val:</span><br><span class="line">            ans[stack.pop()[<span class="number">0</span>]] = head.val</span><br><span class="line">        stack.append((len(ans), head.val))</span><br><span class="line">        ans.append(<span class="number">0</span>)</span><br><span class="line">        head = head.next</span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="1171-Remove-Zero-Sum-Consecutive-Nodes-from-Linked-List"><a href="#1171-Remove-Zero-Sum-Consecutive-Nodes-from-Linked-List" class="headerlink" title="1171. Remove Zero Sum Consecutive Nodes from Linked List"></a>1171. Remove Zero Sum Consecutive Nodes from Linked List</h3><h4 id="移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。原题"><a href="#移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。原题" class="headerlink" title="移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。原题"></a>移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。<a href="https://leetcode.com/problems/remove-zero-sum-consecutive-nodes-from-linked-list/" target="_blank" rel="noopener">原题</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,-3,3,1]</span><br><span class="line">Output: [3,1]</span><br><span class="line">Note: The answer [1,2,1] would also be accepted.</span><br></pre></td></tr></table></figure>
<font color="#FF0000" size="3"><strong>方法一：使用字典记录和，当和出现重复的时候，说明其中的一段和为0。看了评论发现此题OJ有错误，<code>[1,3,2,-3,-2,5,5,-5,1]</code>结果为<code>[1,5,5,-5,1]</code>居然对了。</strong></font>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeZeroSumSublists</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    p = dummy = ListNode(<span class="number">0</span>)</span><br><span class="line">    dummy.next = head</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    vals = &#123;&#125;</span><br><span class="line">    <span class="keyword">while</span> p:</span><br><span class="line">        s += p.val</span><br><span class="line">        <span class="keyword">if</span> s <span class="keyword">not</span> <span class="keyword">in</span> vals:</span><br><span class="line">            vals[s] = p</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            vals[s].next = p.next</span><br><span class="line">        p = p.next</span><br><span class="line">    <span class="keyword">return</span> dummy.next</span><br></pre></td></tr></table></figure>
<p>仔细分析一下上述代码，再结果变成<code>[1,5,5,-5,1]</code>时，没有将vals中删除的节点清空。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeZeroSumSublists</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">    p = dummy = ListNode(<span class="number">0</span>)</span><br><span class="line">    dummy.next = head</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    s_sum = [s]</span><br><span class="line">    vals = &#123;&#125;</span><br><span class="line">    <span class="keyword">while</span> p:</span><br><span class="line">        s += p.val</span><br><span class="line">        s_sum.append(s)</span><br><span class="line">        <span class="keyword">if</span> s <span class="keyword">not</span> <span class="keyword">in</span> vals:</span><br><span class="line">            vals[s] = p</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            vals[s].next = p.next</span><br><span class="line">            s_sum.pop() <span class="comment"># remove cur, keep the last</span></span><br><span class="line">            <span class="keyword">while</span> s_sum[<span class="number">-1</span>] != s:</span><br><span class="line">                vals.pop(s_sum.pop())</span><br><span class="line">        p = p.next</span><br><span class="line">    <span class="keyword">return</span> dummy.next</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    <div>
      
        
      
    </div>

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LeetCode/" rel="tag">
            <i class="fa fa-tag"></i> LeetCode</a>
          
            <a href="/tags/Python/" rel="tag">
            <i class="fa fa-tag"></i> Python</a>
          
            <a href="/tags/Algorithm/" rel="tag">
            <i class="fa fa-tag"></i> Algorithm</a>
          
            <a href="/tags/Linked-List/" rel="tag">
            <i class="fa fa-tag"></i> Linked List</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/hexo搭建遇到的问题及优化/" rel="next" title="hexo搭建遇到的问题及优化">
                <i class="fa fa-chevron-left"></i> hexo搭建遇到的问题及优化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/LeetCode算法题整理（数组篇）Array/" rel="prev" title="LeetCode算法题整理（数组篇）Array">
                LeetCode算法题整理（数组篇）Array <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="xiaoliji" />
          <p class="site-author-name" itemprop="name">xiaoliji</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/darkTianTian" target="_blank" title="GitHub" rel="external nofollow">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.hackerrank.com/xiaoliji || hackerrank" target="_blank" title="HackerRank" rel="external nofollow">
                  
                    <i class="fa fa-fw fa-hackerrank"></i>
                  
                    
                      HackerRank
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://leetcode.com/darktiantian/" target="_blank" title="LeetCode" rel="external nofollow">
                  
                    <i class="fa fa-fw fa-leetcode"></i>
                  
                    
                      LeetCode
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.jianshu.com/u/de42f74901fd" target="_blank" title="简书" rel="external nofollow">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                    
                      简书
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#链表的定义"><span class="nav-number">1.</span> <span class="nav-text">链表的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Add-Two-Numbers"><span class="nav-number">2.</span> <span class="nav-text">2. Add Two Numbers</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#两个链表相加"><span class="nav-number">2.1.</span> <span class="nav-text">两个链表相加</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#445-Add-Two-Numbers-II"><span class="nav-number">3.</span> <span class="nav-text">445. Add Two Numbers II</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#跟上题类似，只不过是进位方式不同。原题"><span class="nav-number">3.1.</span> <span class="nav-text">跟上题类似，只不过是进位方式不同。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-Merge-Two-Sorted-Lists"><span class="nav-number">4.</span> <span class="nav-text">21. Merge Two Sorted Lists</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#合并两个有序链表。原题"><span class="nav-number">4.1.</span> <span class="nav-text">合并两个有序链表。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-Merge-k-Sorted-Lists"><span class="nav-number">5.</span> <span class="nav-text">23. Merge k Sorted Lists</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#合并k个有序列表。原题"><span class="nav-number">5.1.</span> <span class="nav-text">合并k个有序列表。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#141-Linked-List-Cycle"><span class="nav-number">6.</span> <span class="nav-text">141. Linked List Cycle</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#判断一个链表是否有环。原题"><span class="nav-number">6.1.</span> <span class="nav-text">判断一个链表是否有环。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#142-Linked-List-Cycle-II"><span class="nav-number">7.</span> <span class="nav-text">142. Linked List Cycle II</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#求链表中环的入口节点。原题"><span class="nav-number">7.1.</span> <span class="nav-text">求链表中环的入口节点。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#206-Reverse-Linked-List"><span class="nav-number">8.</span> <span class="nav-text">206. Reverse Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#倒置一个链表。原题"><span class="nav-number">8.1.</span> <span class="nav-text">倒置一个链表。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#92-Reverse-Linked-List-II"><span class="nav-number">9.</span> <span class="nav-text">92. Reverse Linked List II</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#跟上题不同的是，只倒置指定区间的部分。原题"><span class="nav-number">9.1.</span> <span class="nav-text">跟上题不同的是，只倒置指定区间的部分。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#160-Intersection-of-Two-Linked-Lists"><span class="nav-number">10.</span> <span class="nav-text">160. Intersection of Two Linked Lists</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#两个链表求相交。原题"><span class="nav-number">10.1.</span> <span class="nav-text">两个链表求相交。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#138-Copy-List-with-Random-Pointer"><span class="nav-number">11.</span> <span class="nav-text">138. Copy List with Random Pointer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#深拷贝一个复杂链表，链表多包含了一个随机指针。原题"><span class="nav-number">11.1.</span> <span class="nav-text">深拷贝一个复杂链表，链表多包含了一个随机指针。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#237-Delete-Node-in-a-Linked-List"><span class="nav-number">12.</span> <span class="nav-text">237. Delete Node in a Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#在链表中删除节点。给定的节点不是尾节点。原题"><span class="nav-number">12.1.</span> <span class="nav-text">在链表中删除节点。给定的节点不是尾节点。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#203-Remove-Linked-List-Elements"><span class="nav-number">13.</span> <span class="nav-text">203. Remove Linked List Elements</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#删除链表中值为val的元素。原题"><span class="nav-number">13.1.</span> <span class="nav-text">删除链表中值为val的元素。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#83-Remove-Duplicates-from-Sorted-List"><span class="nav-number">14.</span> <span class="nav-text">83. Remove Duplicates from Sorted List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#删除有序链表中重复的节点。原题"><span class="nav-number">14.1.</span> <span class="nav-text">删除有序链表中重复的节点。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#82-Remove-Duplicates-from-Sorted-List-II"><span class="nav-number">15.</span> <span class="nav-text">82. Remove Duplicates from Sorted List II</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#和上题不同的是，重复的节点要全部删除。原题"><span class="nav-number">15.1.</span> <span class="nav-text">和上题不同的是，重复的节点要全部删除。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#876-Middle-of-the-Linked-List"><span class="nav-number">16.</span> <span class="nav-text">876. Middle of the Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#链表中点，如果偶数个，则返回第二个节点。原题"><span class="nav-number">16.1.</span> <span class="nav-text">链表中点，如果偶数个，则返回第二个节点。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#234-Palindrome-Linked-List"><span class="nav-number">17.</span> <span class="nav-text">234. Palindrome Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#判断一个链表是否是回文链表。原题"><span class="nav-number">17.1.</span> <span class="nav-text">判断一个链表是否是回文链表。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-Swap-Nodes-in-Pairs"><span class="nav-number">18.</span> <span class="nav-text">24. Swap Nodes in Pairs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#成对转换链表。原题"><span class="nav-number">18.1.</span> <span class="nav-text">成对转换链表。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-Remove-Nth-Node-From-End-of-List"><span class="nav-number">19.</span> <span class="nav-text">19. Remove Nth Node From End of List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#删除倒数第N个节点。原题"><span class="nav-number">19.1.</span> <span class="nav-text">删除倒数第N个节点。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#328-Odd-Even-Linked-List"><span class="nav-number">20.</span> <span class="nav-text">328. Odd Even Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#重排链表，使奇数位节点在前，偶数位节点在后，就地排序。原题"><span class="nav-number">20.1.</span> <span class="nav-text">重排链表，使奇数位节点在前，偶数位节点在后，就地排序。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sort-a-linked-list-that-is-sorted-alternating-asc-and-desc"><span class="nav-number">21.</span> <span class="nav-text">***. Sort  a linked list that is sorted alternating asc and desc</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。"><span class="nav-number">21.1.</span> <span class="nav-text">这题不是LC上的，是面经里的，要求将一个奇数位升序，偶数位降序的链表转成一个升序的链表。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#148-Sort-List"><span class="nav-number">22.</span> <span class="nav-text">148. Sort List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#给链表排序。原题"><span class="nav-number">22.1.</span> <span class="nav-text">给链表排序。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#817-Linked-List-Components"><span class="nav-number">23.</span> <span class="nav-text">817. Linked List Components</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。原题"><span class="nav-number">23.1.</span> <span class="nav-text">链表的组件。给定一个集合G，然后根据是否在G中分成若干部分，求连起来在G中的部分的个数。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#86-Partition-List"><span class="nav-number">24.</span> <span class="nav-text">86. Partition List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。原题"><span class="nav-number">24.1.</span> <span class="nav-text">链表分区，将比x小的节点放到前面，其余节点放到后面，并保持原有顺序。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#61-Rotate-List"><span class="nav-number">25.</span> <span class="nav-text">61. Rotate List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#向右旋转链表k次。原题"><span class="nav-number">25.1.</span> <span class="nav-text">向右旋转链表k次。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#725-Split-Linked-List-in-Parts"><span class="nav-number">26.</span> <span class="nav-text">725. Split Linked List in Parts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#按部分拆分链表。如果不能整除，要保证前面部分的大。原题"><span class="nav-number">26.1.</span> <span class="nav-text">按部分拆分链表。如果不能整除，要保证前面部分的大。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#143-Reorder-List"><span class="nav-number">27.</span> <span class="nav-text">143. Reorder List</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1030-Next-Greater-Node-In-Linked-List"><span class="nav-number">28.</span> <span class="nav-text">1030. Next Greater Node In Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#链表中下一个比当前节点大的值。和503题类似。原题"><span class="nav-number">28.1.</span> <span class="nav-text">链表中下一个比当前节点大的值。和503题类似。原题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1171-Remove-Zero-Sum-Consecutive-Nodes-from-Linked-List"><span class="nav-number">29.</span> <span class="nav-text">1171. Remove Zero Sum Consecutive Nodes from Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。原题"><span class="nav-number">29.1.</span> <span class="nav-text">移除相连和为0的节点。像祖玛一样，连续地删除。答案不唯一。原题</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xiaoliji</span>
</div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span>
</div>
<div class="powered-by">

  Powered by <a class="theme-link" href="https://hexo.io" rel="texternal nofollow">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="texternal nofollow">
    NexT.Mist
  </a>
</div>


<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共112.4k字</span>
</div>
        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://darktiantian.github.io.git/LeetCode算法题整理（链表篇）LinkedList/';
          this.page.identifier = 'LeetCode算法题整理（链表篇）LinkedList/';
          this.page.title = 'LeetCode算法题整理（链表篇）LinkedList';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("MuBXc6gVka7X95yN3qhh8Akg-gzGzoHsz", "flbiG5OQDhWpAaCRLDETaoPF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  

  

  

</body>
</html>
